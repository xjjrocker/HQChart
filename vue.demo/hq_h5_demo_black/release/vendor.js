!function(t){function e(i){if(a[i])return a[i].exports;var r=a[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i=window.webpackJsonp;window.webpackJsonp=function(a,n,o){for(var s,l,h,u=0,c=[];u<a.length;u++)l=a[u],r[l]&&c.push(r[l][0]),r[l]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);for(i&&i(a,n,o);c.length;)c.shift()();if(o)for(u=0;u<o.length;u++)h=e(e.s=o[u]);return h};var a={},r={2:0};e.m=t,e.c=a,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e.oe=function(t){throw console.error(t),t},e(e.s=123)}([function(t,e){var i=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=i)},function(t,e,i){"use strict";function a(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var a=1,r=e[0],n=e.length;if("function"==typeof r)return r.apply(null,e.slice(1));if("string"==typeof r){for(var o=String(r).replace(C,function(t){if("%%"===t)return"%";if(a>=n)return t;switch(t){case"%s":return String(e[a++]);case"%d":return Number(e[a++]);case"%j":try{return JSON.stringify(e[a++])}catch(t){return"[Circular]"}break;default:return t}}),s=e[a];a<n;s=e[++a])o+=" "+s;return o}return r}function r(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"pattern"===t}function n(t,e){return void 0===t||null===t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!r(e)||"string"!=typeof t||t))}function o(t,e,i){function a(t){r.push.apply(r,t),++n===o&&i(r)}var r=[],n=0,o=t.length;t.forEach(function(t){e(t,a)})}function s(t,e,i){function a(o){if(o&&o.length)return void i(o);var s=r;r+=1,s<n?e(t[s],a):i([])}var r=0,n=t.length;a([])}function l(t){var e=[];return Object.keys(t).forEach(function(i){e.push.apply(e,t[i])}),e}function h(t,e,i,a){if(e.first){return s(l(t),i,a)}var r=e.firstFields||[];!0===r&&(r=Object.keys(t));var n=Object.keys(t),h=n.length,u=0,c=[],d=function(t){c.push.apply(c,t),++u===h&&a(c)};n.forEach(function(e){var a=t[e];-1!==r.indexOf(e)?s(a,i,d):o(a,i,d)})}function u(t){return function(e){return e&&e.message?(e.field=e.field||t.fullField,e):{message:e,field:e.field||t.fullField}}}function c(t,e){if(e)for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];"object"===(void 0===a?"undefined":m()(a))&&"object"===m()(t[i])?t[i]=f()({},t[i],a):t[i]=a}return t}i.d(e,"f",function(){return v}),e.d=a,e.e=n,e.a=h,e.b=u,e.c=c;var d=i(90),f=i.n(d),p=i(30),m=i.n(p),C=/%[sdj%]/g,v=function(){}},function(t,e,i){var a=i(4),r=i(0),n=i(14),o=i(15),s=i(20),l=function(t,e,i){var h,u,c,d=t&l.F,f=t&l.G,p=t&l.S,m=t&l.P,C=t&l.B,v=t&l.W,D=f?r:r[e]||(r[e]={}),g=D.prototype,S=f?a:p?a[e]:(a[e]||{}).prototype;f&&(i=e);for(h in i)(u=!d&&S&&void 0!==S[h])&&s(D,h)||(c=u?S[h]:i[h],D[h]=f&&"function"!=typeof S[h]?i[h]:C&&u?n(c,a):v&&S[h]==c?function(t){var e=function(e,i,a){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,a)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):m&&"function"==typeof c?n(Function.call,c):c,m&&((D.virtual||(D.virtual={}))[h]=c,t&l.R&&g&&!g[h]&&o(g,h,c)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,i){function a(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function n(t){return!0===t}function o(t){return!1===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function l(t){return null!==t&&"object"==typeof t}function h(t){return"[object Object]"===Ea.call(t)}function u(t){return"[object RegExp]"===Ea.call(t)}function c(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return r(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||h(t)&&t.toString===Ea?JSON.stringify(t,null,2):String(t)}function p(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var i=Object.create(null),a=t.split(","),r=0;r<a.length;r++)i[a[r]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}function C(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}function v(t,e){return La.call(t,e)}function D(t){var e=Object.create(null);return function(i){return e[i]||(e[i]=t(i))}}function g(t,e){function i(i){var a=arguments.length;return a?a>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i}function S(t,e){return t.bind(e)}function x(t,e){e=e||0;for(var i=t.length-e,a=new Array(i);i--;)a[i]=t[i+e];return a}function b(t,e){for(var i in e)t[i]=e[i];return t}function I(t){for(var e={},i=0;i<t.length;i++)t[i]&&b(e,t[i]);return e}function T(t,e,i){}function y(t,e){if(t===e)return!0;var i=l(t),a=l(e);if(!i||!a)return!i&&!a&&String(t)===String(e);try{var r=Array.isArray(t),n=Array.isArray(e);if(r&&n)return t.length===e.length&&t.every(function(t,i){return y(t,e[i])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||n)return!1;var o=Object.keys(t),s=Object.keys(e);return o.length===s.length&&o.every(function(i){return y(t[i],e[i])})}catch(t){return!1}}function w(t,e){for(var i=0;i<t.length;i++)if(y(t[i],e))return i;return-1}function E(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function F(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function L(t,e,i,a){Object.defineProperty(t,e,{value:i,enumerable:!!a,writable:!0,configurable:!0})}function M(t){if(!Xa.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}function A(t){return"function"==typeof t&&/native code/.test(t.toString())}function O(t){cr.push(t),ur.target=t}function N(){cr.pop(),ur.target=cr[cr.length-1]}function _(t){return new dr(void 0,void 0,void 0,String(t))}function P(t){var e=new dr(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}function R(t){Dr=t}function B(t,e){t.__proto__=e}function k(t,e,i){for(var a=0,r=i.length;a<r;a++){var n=i[a];L(t,n,e[n])}}function V(t,e){if(l(t)&&!(t instanceof dr)){var i;return v(t,"__ob__")&&t.__ob__ instanceof gr?i=t.__ob__:Dr&&!nr()&&(Array.isArray(t)||h(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new gr(t)),e&&i&&i.vmCount++,i}}function G(t,e,i,a,r){var n=new ur,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set;s&&!l||2!==arguments.length||(i=t[e]);var h=!r&&V(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):i;return ur.target&&(n.depend(),h&&(h.dep.depend(),Array.isArray(e)&&X(e))),e},set:function(e){var a=s?s.call(t):i;e===a||e!==e&&a!==a||s&&!l||(l?l.call(t,e):i=e,h=!r&&V(e),n.notify())}})}}function H(t,e,i){if(Array.isArray(t)&&c(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var a=t.__ob__;return t._isVue||a&&a.vmCount?i:a?(G(a.value,e,i),a.dep.notify(),i):(t[e]=i,i)}function Y(t,e){if(Array.isArray(t)&&c(e))return void t.splice(e,1);var i=t.__ob__;t._isVue||i&&i.vmCount||v(t,e)&&(delete t[e],i&&i.dep.notify())}function X(t){for(var e=void 0,i=0,a=t.length;i<a;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&X(e)}function W(t,e){if(!e)return t;for(var i,a,r,n=sr?Reflect.ownKeys(e):Object.keys(e),o=0;o<n.length;o++)"__ob__"!==(i=n[o])&&(a=t[i],r=e[i],v(t,i)?a!==r&&h(a)&&h(r)&&W(a,r):H(t,i,r));return t}function U(t,e,i){return i?function(){var a="function"==typeof e?e.call(i,i):e,r="function"==typeof t?t.call(i,i):t;return a?W(a,r):r}:e?t?function(){return W("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function z(t,e){var i=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return i?K(i):i}function K(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e}function $(t,e,i,a){var r=Object.create(t||null);return e?b(r,e):r}function j(t,e){var i=t.props;if(i){var a,r,n,o={};if(Array.isArray(i))for(a=i.length;a--;)"string"==typeof(r=i[a])&&(n=Aa(r),o[n]={type:null});else if(h(i))for(var s in i)r=i[s],n=Aa(s),o[n]=h(r)?r:{type:r};t.props=o}}function J(t,e){var i=t.inject;if(i){var a=t.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)a[i[r]]={from:i[r]};else if(h(i))for(var n in i){var o=i[n];a[n]=h(o)?b({from:n},o):{from:o}}}}function q(t){var e=t.directives;if(e)for(var i in e){var a=e[i];"function"==typeof a&&(e[i]={bind:a,update:a})}}function Z(t,e,i){function a(a){var r=Sr[a]||br;s[a]=r(t[a],e[a],i,a)}if("function"==typeof e&&(e=e.options),j(e,i),J(e,i),q(e),!e._base&&(e.extends&&(t=Z(t,e.extends,i)),e.mixins))for(var r=0,n=e.mixins.length;r<n;r++)t=Z(t,e.mixins[r],i);var o,s={};for(o in t)a(o);for(o in e)v(t,o)||a(o);return s}function Q(t,e,i,a){if("string"==typeof i){var r=t[e];if(v(r,i))return r[i];var n=Aa(i);if(v(r,n))return r[n];var o=Oa(n);if(v(r,o))return r[o];return r[i]||r[n]||r[o]}}function tt(t,e,i,a){var r=e[t],n=!v(i,t),o=i[t],s=rt(Boolean,r.type);if(s>-1)if(n&&!v(r,"default"))o=!1;else if(""===o||o===_a(t)){var l=rt(String,r.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=et(a,r,t);var h=Dr;R(!0),V(o),R(h)}return o}function et(t,e,i){if(v(e,"default")){var a=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i]?t._props[i]:"function"==typeof a&&"Function"!==it(e.type)?a.call(t):a}}function it(t){var e=t&&t.toString().match(Ir);return e?e[1]:""}function at(t,e){return it(t)===it(e)}function rt(t,e){if(!Array.isArray(e))return at(e,t)?0:-1;for(var i=0,a=e.length;i<a;i++)if(at(e[i],t))return i;return-1}function nt(t,e,i){O();try{if(e)for(var a=e;a=a.$parent;){var r=a.$options.errorCaptured;if(r)for(var n=0;n<r.length;n++)try{var o=!1===r[n].call(a,t,e,i);if(o)return}catch(t){st(t,a,"errorCaptured hook")}}st(t,e,i)}finally{N()}}function ot(t,e,i,a,r){var n;try{n=i?t.apply(e,i):t.call(e),n&&!n._isVue&&d(n)&&!n._handled&&(n.catch(function(t){return nt(t,a,r+" (Promise/async)")}),n._handled=!0)}catch(t){nt(t,a,r)}return n}function st(t,e,i){if(Ha.errorHandler)try{return Ha.errorHandler.call(null,t,e,i)}catch(e){e!==t&&lt(e,null,"config.errorHandler")}lt(t,e,i)}function lt(t,e,i){if(!Ua&&!za||"undefined"==typeof console)throw t;console.error(t)}function ht(){wr=!1;var t=yr.slice(0);yr.length=0;for(var e=0;e<t.length;e++)t[e]()}function ut(t,e){var i;if(yr.push(function(){if(t)try{t.call(e)}catch(t){nt(t,e,"nextTick")}else i&&i(e)}),wr||(wr=!0,xr()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){i=t})}function ct(t){dt(t,Ar),Ar.clear()}function dt(t,e){var i,a,r=Array.isArray(t);if(!(!r&&!l(t)||Object.isFrozen(t)||t instanceof dr)){if(t.__ob__){var n=t.__ob__.dep.id;if(e.has(n))return;e.add(n)}if(r)for(i=t.length;i--;)dt(t[i],e);else for(a=Object.keys(t),i=a.length;i--;)dt(t[a[i]],e)}}function ft(t,e){function i(){var t=arguments,a=i.fns;if(!Array.isArray(a))return ot(a,null,arguments,e,"v-on handler");for(var r=a.slice(),n=0;n<r.length;n++)ot(r[n],null,t,e,"v-on handler")}return i.fns=t,i}function pt(t,e,i,r,o,s){var l,h,u,c;for(l in t)h=t[l],u=e[l],c=Or(l),a(h)||(a(u)?(a(h.fns)&&(h=t[l]=ft(h,s)),n(c.once)&&(h=t[l]=o(c.name,h,c.capture)),i(c.name,h,c.capture,c.passive,c.params)):h!==u&&(u.fns=h,t[l]=u));for(l in e)a(t[l])&&(c=Or(l),r(c.name,e[l],c.capture))}function mt(t,e,i){function o(){i.apply(this,arguments),C(s.fns,o)}t instanceof dr&&(t=t.data.hook||(t.data.hook={}));var s,l=t[e];a(l)?s=ft([o]):r(l.fns)&&n(l.merged)?(s=l,s.fns.push(o)):s=ft([l,o]),s.merged=!0,t[e]=s}function Ct(t,e,i){var n=e.options.props;if(!a(n)){var o={},s=t.attrs,l=t.props;if(r(s)||r(l))for(var h in n){var u=_a(h);vt(o,l,h,u,!0)||vt(o,s,h,u,!1)}return o}}function vt(t,e,i,a,n){if(r(e)){if(v(e,i))return t[i]=e[i],n||delete e[i],!0;if(v(e,a))return t[i]=e[a],n||delete e[a],!0}return!1}function Dt(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function gt(t){return s(t)?[_(t)]:Array.isArray(t)?xt(t):void 0}function St(t){return r(t)&&r(t.text)&&o(t.isComment)}function xt(t,e){var i,o,l,h,u=[];for(i=0;i<t.length;i++)o=t[i],a(o)||"boolean"==typeof o||(l=u.length-1,h=u[l],Array.isArray(o)?o.length>0&&(o=xt(o,(e||"")+"_"+i),St(o[0])&&St(h)&&(u[l]=_(h.text+o[0].text),o.shift()),u.push.apply(u,o)):s(o)?St(h)?u[l]=_(h.text+o):""!==o&&u.push(_(o)):St(o)&&St(h)?u[l]=_(h.text+o.text):(n(t._isVList)&&r(o.tag)&&a(o.key)&&r(e)&&(o.key="__vlist"+e+"_"+i+"__"),u.push(o)));return u}function bt(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function It(t){var e=Tt(t.$options.inject,t);e&&(R(!1),Object.keys(e).forEach(function(i){G(t,i,e[i])}),R(!0))}function Tt(t,e){if(t){for(var i=Object.create(null),a=sr?Reflect.ownKeys(t):Object.keys(t),r=0;r<a.length;r++){var n=a[r];if("__ob__"!==n){for(var o=t[n].from,s=e;s;){if(s._provided&&v(s._provided,o)){i[n]=s._provided[o];break}s=s.$parent}if(!s&&"default"in t[n]){var l=t[n].default;i[n]="function"==typeof l?l.call(e):l}}}return i}}function yt(t,e){if(!t||!t.length)return{};for(var i={},a=0,r=t.length;a<r;a++){var n=t[a],o=n.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,n.context!==e&&n.fnContext!==e||!o||null==o.slot)(i.default||(i.default=[])).push(n);else{var s=o.slot,l=i[s]||(i[s]=[]);"template"===n.tag?l.push.apply(l,n.children||[]):l.push(n)}}for(var h in i)i[h].every(wt)&&delete i[h];return i}function wt(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Et(t){return t.isComment&&t.asyncFactory}function Ft(t,e,i){var a,r=Object.keys(e).length>0,n=t?!!t.$stable:!r,o=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(n&&i&&i!==wa&&o===i.$key&&!r&&!i.$hasNormal)return i;a={};for(var s in t)t[s]&&"$"!==s[0]&&(a[s]=Lt(e,s,t[s]))}else a={};for(var l in e)l in a||(a[l]=Mt(e,l));return t&&Object.isExtensible(t)&&(t._normalized=a),L(a,"$stable",n),L(a,"$key",o),L(a,"$hasNormal",r),a}function Lt(t,e,i){var a=function(){var t=arguments.length?i.apply(null,arguments):i({});t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:gt(t);var e=t&&t[0];return t&&(!e||1===t.length&&e.isComment&&!Et(e))?void 0:t};return i.proxy&&Object.defineProperty(t,e,{get:a,enumerable:!0,configurable:!0}),a}function Mt(t,e){return function(){return t[e]}}function At(t,e){var i,a,n,o,s;if(Array.isArray(t)||"string"==typeof t)for(i=new Array(t.length),a=0,n=t.length;a<n;a++)i[a]=e(t[a],a);else if("number"==typeof t)for(i=new Array(t),a=0;a<t;a++)i[a]=e(a+1,a);else if(l(t))if(sr&&t[Symbol.iterator]){i=[];for(var h=t[Symbol.iterator](),u=h.next();!u.done;)i.push(e(u.value,i.length)),u=h.next()}else for(o=Object.keys(t),i=new Array(o.length),a=0,n=o.length;a<n;a++)s=o[a],i[a]=e(t[s],s,a);return r(i)||(i=[]),i._isVList=!0,i}function Ot(t,e,i,a){var r,n=this.$scopedSlots[t];n?(i=i||{},a&&(i=b(b({},a),i)),r=n(i)||("function"==typeof e?e():e)):r=this.$slots[t]||("function"==typeof e?e():e);var o=i&&i.slot;return o?this.$createElement("template",{slot:o},r):r}function Nt(t){return Q(this.$options,"filters",t,!0)||Ba}function _t(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Pt(t,e,i,a,r){var n=Ha.keyCodes[e]||i;return r&&a&&!Ha.keyCodes[e]?_t(r,a):n?_t(n,t):a?_a(a)!==e:void 0===t}function Rt(t,e,i,a,r){if(i)if(l(i)){Array.isArray(i)&&(i=I(i));var n;for(var o in i)!function(o){if("class"===o||"style"===o||Fa(o))n=t;else{var s=t.attrs&&t.attrs.type;n=a||Ha.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=Aa(o),h=_a(o);if(!(l in n||h in n)&&(n[o]=i[o],r)){(t.on||(t.on={}))["update:"+o]=function(t){i[o]=t}}}(o)}else;return t}function Bt(t,e){var i=this._staticTrees||(this._staticTrees=[]),a=i[t];return a&&!e?a:(a=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Vt(a,"__static__"+t,!1),a)}function kt(t,e,i){return Vt(t,"__once__"+e+(i?"_"+i:""),!0),t}function Vt(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)t[a]&&"string"!=typeof t[a]&&Gt(t[a],e+"_"+a,i);else Gt(t,e,i)}function Gt(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function Ht(t,e){if(e)if(h(e)){var i=t.on=t.on?b({},t.on):{};for(var a in e){var r=i[a],n=e[a];i[a]=r?[].concat(r,n):n}}else;return t}function Yt(t,e,i,a){e=e||{$stable:!i};for(var r=0;r<t.length;r++){var n=t[r];Array.isArray(n)?Yt(n,e,i):n&&(n.proxy&&(n.fn.proxy=!0),e[n.key]=n.fn)}return a&&(e.$key=a),e}function Xt(t,e){for(var i=0;i<e.length;i+=2){var a=e[i];"string"==typeof a&&a&&(t[e[i]]=e[i+1])}return t}function Wt(t,e){return"string"==typeof t?e+t:t}function Ut(t){t._o=kt,t._n=p,t._s=f,t._l=At,t._t=Ot,t._q=y,t._i=w,t._m=Bt,t._f=Nt,t._k=Pt,t._b=Rt,t._v=_,t._e=pr,t._u=Yt,t._g=Ht,t._d=Xt,t._p=Wt}function zt(t,e,i,a,r){var o,s=this,l=r.options;v(a,"_uid")?(o=Object.create(a),o._original=a):(o=a,a=a._original);var h=n(l._compiled),u=!h;this.data=t,this.props=e,this.children=i,this.parent=a,this.listeners=t.on||wa,this.injections=Tt(l.inject,a),this.slots=function(){return s.$slots||Ft(t.scopedSlots,s.$slots=yt(i,a)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ft(t.scopedSlots,this.slots())}}),h&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Ft(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,i,r){var n=ee(o,t,e,i,r,u);return n&&!Array.isArray(n)&&(n.fnScopeId=l._scopeId,n.fnContext=a),n}:this._c=function(t,e,i,a){return ee(o,t,e,i,a,u)}}function Kt(t,e,i,a,n){var o=t.options,s={},l=o.props;if(r(l))for(var h in l)s[h]=tt(h,l,e||wa);else r(i.attrs)&&jt(s,i.attrs),r(i.props)&&jt(s,i.props);var u=new zt(i,s,n,a,t),c=o.render.call(null,u._c,u);if(c instanceof dr)return $t(c,i,u.parent,o,u);if(Array.isArray(c)){for(var d=gt(c)||[],f=new Array(d.length),p=0;p<d.length;p++)f[p]=$t(d[p],i,u.parent,o,u);return f}}function $t(t,e,i,a,r){var n=P(t);return n.fnContext=i,n.fnOptions=a,e.slot&&((n.data||(n.data={})).slot=e.slot),n}function jt(t,e){for(var i in e)t[Aa(i)]=e[i]}function Jt(t,e,i,o,s){if(!a(t)){var h=i.$options._base;if(l(t)&&(t=h.extend(t)),"function"==typeof t){var u;if(a(t.cid)&&(u=t,void 0===(t=le(u,h))))return se(u,e,i,o,s);e=e||{},Ye(t),r(e.model)&&te(t.options,e);var c=Ct(e,t,s);if(n(t.options.functional))return Kt(t,c,e,i,o);var d=e.on;if(e.on=e.nativeOn,n(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}Zt(e);var p=t.options.name||s;return new dr("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,i,{Ctor:t,propsData:c,listeners:d,tag:s,children:o},u)}}}function qt(t,e){var i={_isComponent:!0,_parentVnode:t,parent:e},a=t.data.inlineTemplate;return r(a)&&(i.render=a.render,i.staticRenderFns=a.staticRenderFns),new t.componentOptions.Ctor(i)}function Zt(t){for(var e=t.hook||(t.hook={}),i=0;i<Pr.length;i++){var a=Pr[i],r=e[a],n=_r[a];r===n||r&&r._merged||(e[a]=r?Qt(n,r):n)}}function Qt(t,e){var i=function(i,a){t(i,a),e(i,a)};return i._merged=!0,i}function te(t,e){var i=t.model&&t.model.prop||"value",a=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[i]=e.model.value;var n=e.on||(e.on={}),o=n[a],s=e.model.callback;r(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(n[a]=[s].concat(o)):n[a]=s}function ee(t,e,i,a,r,o){return(Array.isArray(i)||s(i))&&(r=a,a=i,i=void 0),n(o)&&(r=Br),ie(t,e,i,a,r)}function ie(t,e,i,a,n){if(r(i)&&r(i.__ob__))return pr();if(r(i)&&r(i.is)&&(e=i.is),!e)return pr();Array.isArray(a)&&"function"==typeof a[0]&&(i=i||{},i.scopedSlots={default:a[0]},a.length=0),n===Br?a=gt(a):n===Rr&&(a=Dt(a));var o,s;if("string"==typeof e){var l;s=t.$vnode&&t.$vnode.ns||Ha.getTagNamespace(e),o=Ha.isReservedTag(e)?new dr(Ha.parsePlatformTagName(e),i,a,void 0,void 0,t):i&&i.pre||!r(l=Q(t.$options,"components",e))?new dr(e,i,a,void 0,void 0,t):Jt(l,i,t,a,e)}else o=Jt(e,i,t,a);return Array.isArray(o)?o:r(o)?(r(s)&&ae(o,s),r(i)&&re(i),o):pr()}function ae(t,e,i){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,i=!0),r(t.children))for(var o=0,s=t.children.length;o<s;o++){var l=t.children[o];r(l.tag)&&(a(l.ns)||n(i)&&"svg"!==l.tag)&&ae(l,e,i)}}function re(t){l(t.style)&&ct(t.style),l(t.class)&&ct(t.class)}function ne(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,a=i&&i.context;t.$slots=yt(e._renderChildren,a),t.$scopedSlots=wa,t._c=function(e,i,a,r){return ee(t,e,i,a,r,!1)},t.$createElement=function(e,i,a,r){return ee(t,e,i,a,r,!0)};var r=i&&i.data;G(t,"$attrs",r&&r.attrs||wa,null,!0),G(t,"$listeners",e._parentListeners||wa,null,!0)}function oe(t,e){return(t.__esModule||sr&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function se(t,e,i,a,r){var n=pr();return n.asyncFactory=t,n.asyncMeta={data:e,context:i,children:a,tag:r},n}function le(t,e){if(n(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var i=kr;if(i&&r(t.owners)&&-1===t.owners.indexOf(i)&&t.owners.push(i),n(t.loading)&&r(t.loadingComp))return t.loadingComp;if(i&&!r(t.owners)){var o=t.owners=[i],s=!0,h=null,u=null;i.$on("hook:destroyed",function(){return C(o,i)});var c=function(t){for(var e=0,i=o.length;e<i;e++)o[e].$forceUpdate();t&&(o.length=0,null!==h&&(clearTimeout(h),h=null),null!==u&&(clearTimeout(u),u=null))},f=E(function(i){t.resolved=oe(i,e),s?o.length=0:c(!0)}),p=E(function(e){r(t.errorComp)&&(t.error=!0,c(!0))}),m=t(f,p);return l(m)&&(d(m)?a(t.resolved)&&m.then(f,p):d(m.component)&&(m.component.then(f,p),r(m.error)&&(t.errorComp=oe(m.error,e)),r(m.loading)&&(t.loadingComp=oe(m.loading,e),0===m.delay?t.loading=!0:h=setTimeout(function(){h=null,a(t.resolved)&&a(t.error)&&(t.loading=!0,c(!1))},m.delay||200)),r(m.timeout)&&(u=setTimeout(function(){u=null,a(t.resolved)&&p(null)},m.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function he(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(r(i)&&(r(i.componentOptions)||Et(i)))return i}}function ue(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&pe(t,e)}function ce(t,e){Nr.$on(t,e)}function de(t,e){Nr.$off(t,e)}function fe(t,e){var i=Nr;return function a(){null!==e.apply(null,arguments)&&i.$off(t,a)}}function pe(t,e,i){Nr=t,pt(e,i||{},ce,de,fe,t),Nr=void 0}function me(t){var e=Vr;return Vr=t,function(){Vr=e}}function Ce(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function ve(t,e,i){t.$el=e,t.$options.render||(t.$options.render=pr),be(t,"beforeMount");var a;return a=function(){t._update(t._render(),i)},new Jr(t,a,T,{before:function(){t._isMounted&&!t._isDestroyed&&be(t,"beforeUpdate")}},!0),i=!1,null==t.$vnode&&(t._isMounted=!0,be(t,"mounted")),t}function De(t,e,i,a,r){var n=a.data.scopedSlots,o=t.$scopedSlots,s=!!(n&&!n.$stable||o!==wa&&!o.$stable||n&&t.$scopedSlots.$key!==n.$key||!n&&t.$scopedSlots.$key),l=!!(r||t.$options._renderChildren||s);if(t.$options._parentVnode=a,t.$vnode=a,t._vnode&&(t._vnode.parent=a),t.$options._renderChildren=r,t.$attrs=a.data.attrs||wa,t.$listeners=i||wa,e&&t.$options.props){R(!1);for(var h=t._props,u=t.$options._propKeys||[],c=0;c<u.length;c++){var d=u[c],f=t.$options.props;h[d]=tt(d,f,e,t)}R(!0),t.$options.propsData=e}i=i||wa;var p=t.$options._parentListeners;t.$options._parentListeners=i,pe(t,i,p),l&&(t.$slots=yt(r,a.context),t.$forceUpdate())}function ge(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Se(t,e){if(e){if(t._directInactive=!1,ge(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)Se(t.$children[i]);be(t,"activated")}}function xe(t,e){if(!(e&&(t._directInactive=!0,ge(t))||t._inactive)){t._inactive=!0;for(var i=0;i<t.$children.length;i++)xe(t.$children[i]);be(t,"deactivated")}}function be(t,e){O();var i=t.$options[e],a=e+" hook";if(i)for(var r=0,n=i.length;r<n;r++)ot(i[r],t,null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),N()}function Ie(){Ur=Gr.length=Hr.length=0,Yr={},Xr=Wr=!1}function Te(){zr=Kr(),Wr=!0;var t,e;for(Gr.sort(function(t,e){return t.id-e.id}),Ur=0;Ur<Gr.length;Ur++)t=Gr[Ur],t.before&&t.before(),e=t.id,Yr[e]=null,t.run();var i=Hr.slice(),a=Gr.slice();Ie(),Ee(i),ye(a),or&&Ha.devtools&&or.emit("flush")}function ye(t){for(var e=t.length;e--;){var i=t[e],a=i.vm;a._watcher===i&&a._isMounted&&!a._isDestroyed&&be(a,"updated")}}function we(t){t._inactive=!1,Hr.push(t)}function Ee(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Se(t[e],!0)}function Fe(t){var e=t.id;if(null==Yr[e]){if(Yr[e]=!0,Wr){for(var i=Gr.length-1;i>Ur&&Gr[i].id>t.id;)i--;Gr.splice(i+1,0,t)}else Gr.push(t);Xr||(Xr=!0,ut(Te))}}function Le(t,e,i){qr.get=function(){return this[e][i]},qr.set=function(t){this[e][i]=t},Object.defineProperty(t,i,qr)}function Me(t){t._watchers=[];var e=t.$options;e.props&&Ae(t,e.props),e.methods&&ke(t,e.methods),e.data?Oe(t):V(t._data={},!0),e.computed&&_e(t,e.computed),e.watch&&e.watch!==tr&&Ve(t,e.watch)}function Ae(t,e){var i=t.$options.propsData||{},a=t._props={},r=t.$options._propKeys=[],n=!t.$parent;n||R(!1);for(var o in e)!function(n){r.push(n);var o=tt(n,e,i,t);G(a,n,o),n in t||Le(t,"_props",n)}(o);R(!0)}function Oe(t){var e=t.$options.data;e=t._data="function"==typeof e?Ne(e,t):e||{},h(e)||(e={});for(var i=Object.keys(e),a=t.$options.props,r=(t.$options.methods,i.length);r--;){var n=i[r];a&&v(a,n)||F(n)||Le(t,"_data",n)}V(e,!0)}function Ne(t,e){O();try{return t.call(e,e)}catch(t){return nt(t,e,"data()"),{}}finally{N()}}function _e(t,e){var i=t._computedWatchers=Object.create(null),a=nr();for(var r in e){var n=e[r],o="function"==typeof n?n:n.get;a||(i[r]=new Jr(t,o||T,T,Zr)),r in t||Pe(t,r,n)}}function Pe(t,e,i){var a=!nr();"function"==typeof i?(qr.get=a?Re(e):Be(i),qr.set=T):(qr.get=i.get?a&&!1!==i.cache?Re(e):Be(i.get):T,qr.set=i.set||T),Object.defineProperty(t,e,qr)}function Re(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ur.target&&e.depend(),e.value}}function Be(t){return function(){return t.call(this,this)}}function ke(t,e){t.$options.props;for(var i in e)t[i]="function"!=typeof e[i]?T:Pa(e[i],t)}function Ve(t,e){for(var i in e){var a=e[i];if(Array.isArray(a))for(var r=0;r<a.length;r++)Ge(t,i,a[r]);else Ge(t,i,a)}}function Ge(t,e,i,a){return h(i)&&(a=i,i=i.handler),"string"==typeof i&&(i=t[i]),t.$watch(e,i,a)}function He(t,e){var i=t.$options=Object.create(t.constructor.options),a=e._parentVnode;i.parent=e.parent,i._parentVnode=a;var r=a.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}function Ye(t){var e=t.options;if(t.super){var i=Ye(t.super);if(i!==t.superOptions){t.superOptions=i;var a=Xe(t);a&&b(t.extendOptions,a),e=t.options=Z(i,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Xe(t){var e,i=t.options,a=t.sealedOptions;for(var r in i)i[r]!==a[r]&&(e||(e={}),e[r]=i[r]);return e}function We(t){this._init(t)}function Ue(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=x(arguments,1);return i.unshift(this),"function"==typeof t.install?t.install.apply(t,i):"function"==typeof t&&t.apply(null,i),e.push(t),this}}function ze(t){t.mixin=function(t){return this.options=Z(this.options,t),this}}function Ke(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,a=i.cid,r=t._Ctor||(t._Ctor={});if(r[a])return r[a];var n=t.name||i.options.name,o=function(t){this._init(t)};return o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.cid=e++,o.options=Z(i.options,t),o.super=i,o.options.props&&$e(o),o.options.computed&&je(o),o.extend=i.extend,o.mixin=i.mixin,o.use=i.use,Va.forEach(function(t){o[t]=i[t]}),n&&(o.options.components[n]=o),o.superOptions=i.options,o.extendOptions=t,o.sealedOptions=b({},o.options),r[a]=o,o}}function $e(t){var e=t.options.props;for(var i in e)Le(t.prototype,"_props",i)}function je(t){var e=t.options.computed;for(var i in e)Pe(t.prototype,i,e[i])}function Je(t){Va.forEach(function(e){t[e]=function(t,i){return i?("component"===e&&h(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"==typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}})}function qe(t){return t&&(t.Ctor.options.name||t.tag)}function Ze(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!u(t)&&t.test(e)}function Qe(t,e){var i=t.cache,a=t.keys,r=t._vnode;for(var n in i){var o=i[n];if(o){var s=o.name;s&&!e(s)&&ti(i,n,a,r)}}}function ti(t,e,i,a){var r=t[e];!r||a&&r.tag===a.tag||r.componentInstance.$destroy(),t[e]=null,C(i,e)}function ei(t){for(var e=t.data,i=t,a=t;r(a.componentInstance);)(a=a.componentInstance._vnode)&&a.data&&(e=ii(a.data,e));for(;r(i=i.parent);)i&&i.data&&(e=ii(e,i.data));return ai(e.staticClass,e.class)}function ii(t,e){return{staticClass:ri(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function ai(t,e){return r(t)||r(e)?ri(t,ni(e)):""}function ri(t,e){return t?e?t+" "+e:t:e||""}function ni(t){return Array.isArray(t)?oi(t):l(t)?si(t):"string"==typeof t?t:""}function oi(t){for(var e,i="",a=0,n=t.length;a<n;a++)r(e=ni(t[a]))&&""!==e&&(i&&(i+=" "),i+=e);return i}function si(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}function li(t){return Sn(t)?"svg":"math"===t?"math":void 0}function hi(t){if(!Ua)return!0;if(xn(t))return!1;if(t=t.toLowerCase(),null!=bn[t])return bn[t];var e=document.createElement(t);return t.indexOf("-")>-1?bn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:bn[t]=/HTMLUnknownElement/.test(e.toString())}function ui(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function ci(t,e){var i=document.createElement(t);return"select"!==t?i:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)}function di(t,e){return document.createElementNS(Dn[t],e)}function fi(t){return document.createTextNode(t)}function pi(t){return document.createComment(t)}function mi(t,e,i){t.insertBefore(e,i)}function Ci(t,e){t.removeChild(e)}function vi(t,e){t.appendChild(e)}function Di(t){return t.parentNode}function gi(t){return t.nextSibling}function Si(t){return t.tagName}function xi(t,e){t.textContent=e}function bi(t,e){t.setAttribute(e,"")}function Ii(t,e){var i=t.data.ref;if(r(i)){var a=t.context,n=t.componentInstance||t.elm,o=a.$refs;e?Array.isArray(o[i])?C(o[i],n):o[i]===n&&(o[i]=void 0):t.data.refInFor?Array.isArray(o[i])?o[i].indexOf(n)<0&&o[i].push(n):o[i]=[n]:o[i]=n}}function Ti(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&yi(t,e)||n(t.isAsyncPlaceholder)&&a(e.asyncFactory.error))}function yi(t,e){if("input"!==t.tag)return!0;var i,a=r(i=t.data)&&r(i=i.attrs)&&i.type,n=r(i=e.data)&&r(i=i.attrs)&&i.type;return a===n||In(a)&&In(n)}function wi(t,e,i){var a,n,o={};for(a=e;a<=i;++a)n=t[a].key,r(n)&&(o[n]=a);return o}function Ei(t,e){(t.data.directives||e.data.directives)&&Fi(t,e)}function Fi(t,e){var i,a,r,n=t===wn,o=e===wn,s=Li(t.data.directives,t.context),l=Li(e.data.directives,e.context),h=[],u=[];for(i in l)a=s[i],r=l[i],a?(r.oldValue=a.value,r.oldArg=a.arg,Ai(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(Ai(r,"bind",e,t),r.def&&r.def.inserted&&h.push(r));if(h.length){var c=function(){for(var i=0;i<h.length;i++)Ai(h[i],"inserted",e,t)};n?mt(e,"insert",c):c()}if(u.length&&mt(e,"postpatch",function(){for(var i=0;i<u.length;i++)Ai(u[i],"componentUpdated",e,t)}),!n)for(i in s)l[i]||Ai(s[i],"unbind",t,t,o)}function Li(t,e){var i=Object.create(null);if(!t)return i;var a,r;for(a=0;a<t.length;a++)r=t[a],r.modifiers||(r.modifiers=Ln),i[Mi(r)]=r,r.def=Q(e.$options,"directives",r.name,!0);return i}function Mi(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Ai(t,e,i,a,r){var n=t.def&&t.def[e];if(n)try{n(i.elm,t,i,a,r)}catch(a){nt(a,i.context,"directive "+t.name+" "+e+" hook")}}function Oi(t,e){var i=e.componentOptions;if(!(r(i)&&!1===i.Ctor.options.inheritAttrs||a(t.data.attrs)&&a(e.data.attrs))){var n,o,s=e.elm,l=t.data.attrs||{},h=e.data.attrs||{};r(h.__ob__)&&(h=e.data.attrs=b({},h));for(n in h)o=h[n],l[n]!==o&&Ni(s,n,o,e.data.pre);(ja||qa)&&h.value!==l.value&&Ni(s,"value",h.value);for(n in l)a(h[n])&&(mn(n)?s.removeAttributeNS(pn,Cn(n)):un(n)||s.removeAttribute(n))}}function Ni(t,e,i,a){a||t.tagName.indexOf("-")>-1?_i(t,e,i):fn(e)?vn(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i)):un(e)?t.setAttribute(e,dn(e,i)):mn(e)?vn(i)?t.removeAttributeNS(pn,Cn(e)):t.setAttributeNS(pn,e,i):_i(t,e,i)}function _i(t,e,i){if(vn(i))t.removeAttribute(e);else{if(ja&&!Ja&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==i&&!t.__ieph){var a=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",a)};t.addEventListener("input",a),t.__ieph=!0}t.setAttribute(e,i)}}function Pi(t,e){var i=e.elm,n=e.data,o=t.data;if(!(a(n.staticClass)&&a(n.class)&&(a(o)||a(o.staticClass)&&a(o.class)))){var s=ei(e),l=i._transitionClasses;r(l)&&(s=ri(s,ni(l))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}function Ri(t){if(r(t[Nn])){var e=ja?"change":"input";t[e]=[].concat(t[Nn],t[e]||[]),delete t[Nn]}r(t[_n])&&(t.change=[].concat(t[_n],t.change||[]),delete t[_n])}function Bi(t,e,i){var a=rn;return function r(){null!==e.apply(null,arguments)&&Vi(t,r,i,a)}}function ki(t,e,i,a){if(Pn){var r=zr,n=e;e=n._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return n.apply(this,arguments)}}rn.addEventListener(t,e,er?{capture:i,passive:a}:i)}function Vi(t,e,i,a){(a||rn).removeEventListener(t,e._wrapper||e,i)}function Gi(t,e){if(!a(t.data.on)||!a(e.data.on)){var i=e.data.on||{},r=t.data.on||{};rn=e.elm,Ri(i),pt(i,r,ki,Vi,Bi,e.context),rn=void 0}}function Hi(t,e){if(!a(t.data.domProps)||!a(e.data.domProps)){var i,n,o=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};r(l.__ob__)&&(l=e.data.domProps=b({},l));for(i in s)i in l||(o[i]="");for(i in l){if(n=l[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),n===s[i])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===i&&"PROGRESS"!==o.tagName){o._value=n;var h=a(n)?"":String(n);Yi(o,h)&&(o.value=h)}else if("innerHTML"===i&&Sn(o.tagName)&&a(o.innerHTML)){nn=nn||document.createElement("div"),nn.innerHTML="<svg>"+n+"</svg>";for(var u=nn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}else if(n!==s[i])try{o[i]=n}catch(t){}}}}function Yi(t,e){return!t.composing&&("OPTION"===t.tagName||Xi(t,e)||Wi(t,e))}function Xi(t,e){var i=!0;try{i=document.activeElement!==t}catch(t){}return i&&t.value!==e}function Wi(t,e){var i=t.value,a=t._vModifiers;if(r(a)){if(a.number)return p(i)!==p(e);if(a.trim)return i.trim()!==e.trim()}return i!==e}function Ui(t){var e=zi(t.style);return t.staticStyle?b(t.staticStyle,e):e}function zi(t){return Array.isArray(t)?I(t):"string"==typeof t?kn(t):t}function Ki(t,e){var i,a={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(i=Ui(r.data))&&b(a,i);(i=Ui(t.data))&&b(a,i);for(var n=t;n=n.parent;)n.data&&(i=Ui(n.data))&&b(a,i);return a}function $i(t,e){var i=e.data,n=t.data;if(!(a(i.staticStyle)&&a(i.style)&&a(n.staticStyle)&&a(n.style))){var o,s,l=e.elm,h=n.staticStyle,u=n.normalizedStyle||n.style||{},c=h||u,d=zi(e.data.style)||{};e.data.normalizedStyle=r(d.__ob__)?b({},d):d;var f=Ki(e,!0);for(s in c)a(f[s])&&Hn(l,s,"");for(s in f)(o=f[s])!==c[s]&&Hn(l,s,null==o?"":o)}}function ji(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Un).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function Ji(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Un).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var i=" "+(t.getAttribute("class")||"")+" ",a=" "+e+" ";i.indexOf(a)>=0;)i=i.replace(a," ");i=i.trim(),i?t.setAttribute("class",i):t.removeAttribute("class")}}function qi(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&b(e,zn(t.name||"v")),b(e,t),e}return"string"==typeof t?zn(t):void 0}}function Zi(t){to(function(){to(t)})}function Qi(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),ji(t,e))}function ta(t,e){t._transitionClasses&&C(t._transitionClasses,e),Ji(t,e)}function ea(t,e,i){var a=ia(t,e),r=a.type,n=a.timeout,o=a.propCount;if(!r)return i();var s=r===$n?qn:Qn,l=0,h=function(){t.removeEventListener(s,u),i()},u=function(e){e.target===t&&++l>=o&&h()};setTimeout(function(){l<o&&h()},n+1),t.addEventListener(s,u)}function ia(t,e){var i,a=window.getComputedStyle(t),r=(a[Jn+"Delay"]||"").split(", "),n=(a[Jn+"Duration"]||"").split(", "),o=aa(r,n),s=(a[Zn+"Delay"]||"").split(", "),l=(a[Zn+"Duration"]||"").split(", "),h=aa(s,l),u=0,c=0;return e===$n?o>0&&(i=$n,u=o,c=n.length):e===jn?h>0&&(i=jn,u=h,c=l.length):(u=Math.max(o,h),i=u>0?o>h?$n:jn:null,c=i?i===$n?n.length:l.length:0),{type:i,timeout:u,propCount:c,hasTransform:i===$n&&eo.test(a[Jn+"Property"])}}function aa(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,i){return ra(e)+ra(t[i])}))}function ra(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function na(t,e){var i=t.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var n=qi(t.data.transition);if(!a(n)&&!r(i._enterCb)&&1===i.nodeType){for(var o=n.css,s=n.type,h=n.enterClass,u=n.enterToClass,c=n.enterActiveClass,d=n.appearClass,f=n.appearToClass,m=n.appearActiveClass,C=n.beforeEnter,v=n.enter,D=n.afterEnter,g=n.enterCancelled,S=n.beforeAppear,x=n.appear,b=n.afterAppear,I=n.appearCancelled,T=n.duration,y=Vr,w=Vr.$vnode;w&&w.parent;)y=w.context,w=w.parent;var F=!y._isMounted||!t.isRootInsert;if(!F||x||""===x){var L=F&&d?d:h,M=F&&m?m:c,A=F&&f?f:u,O=F?S||C:C,N=F&&"function"==typeof x?x:v,_=F?b||D:D,P=F?I||g:g,R=p(l(T)?T.enter:T),B=!1!==o&&!Ja,k=la(N),V=i._enterCb=E(function(){B&&(ta(i,A),ta(i,M)),V.cancelled?(B&&ta(i,L),P&&P(i)):_&&_(i),i._enterCb=null});t.data.show||mt(t,"insert",function(){var e=i.parentNode,a=e&&e._pending&&e._pending[t.key];a&&a.tag===t.tag&&a.elm._leaveCb&&a.elm._leaveCb(),N&&N(i,V)}),O&&O(i),B&&(Qi(i,L),Qi(i,M),Zi(function(){ta(i,L),V.cancelled||(Qi(i,A),k||(sa(R)?setTimeout(V,R):ea(i,s,V)))})),t.data.show&&(e&&e(),N&&N(i,V)),B||k||V()}}}function oa(t,e){function i(){I.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),S&&(Qi(n,u),Qi(n,d),Zi(function(){ta(n,u),I.cancelled||(Qi(n,c),x||(sa(b)?setTimeout(I,b):ea(n,h,I)))})),m&&m(n,I),S||x||I())}var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=qi(t.data.transition);if(a(o)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var s=o.css,h=o.type,u=o.leaveClass,c=o.leaveToClass,d=o.leaveActiveClass,f=o.beforeLeave,m=o.leave,C=o.afterLeave,v=o.leaveCancelled,D=o.delayLeave,g=o.duration,S=!1!==s&&!Ja,x=la(m),b=p(l(g)?g.leave:g),I=n._leaveCb=E(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),S&&(ta(n,c),ta(n,d)),I.cancelled?(S&&ta(n,u),v&&v(n)):(e(),C&&C(n)),n._leaveCb=null});D?D(i):i()}}function sa(t){return"number"==typeof t&&!isNaN(t)}function la(t){if(a(t))return!1;var e=t.fns;return r(e)?la(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function ha(t,e){!0!==e.data.show&&na(e)}function ua(t,e,i){ca(t,e,i),(ja||qa)&&setTimeout(function(){ca(t,e,i)},0)}function ca(t,e,i){var a=e.value,r=t.multiple;if(!r||Array.isArray(a)){for(var n,o,s=0,l=t.options.length;s<l;s++)if(o=t.options[s],r)n=w(a,fa(o))>-1,o.selected!==n&&(o.selected=n);else if(y(fa(o),a))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function da(t,e){return e.every(function(e){return!y(e,t)})}function fa(t){return"_value"in t?t._value:t.value}function pa(t){t.target.composing=!0}function ma(t){t.target.composing&&(t.target.composing=!1,Ca(t.target,"input"))}function Ca(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function va(t){return!t.componentInstance||t.data&&t.data.transition?t:va(t.componentInstance._vnode)}function Da(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Da(he(e.children)):t}function ga(t){var e={},i=t.$options;for(var a in i.propsData)e[a]=t[a];var r=i._parentListeners;for(var n in r)e[Aa(n)]=r[n];return e}function Sa(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function xa(t){for(;t=t.parent;)if(t.data.transition)return!0}function ba(t,e){return e.key===t.key&&e.tag===t.tag}function Ia(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ta(t){t.data.newPos=t.elm.getBoundingClientRect()}function ya(t){var e=t.data.pos,i=t.data.newPos,a=e.left-i.left,r=e.top-i.top;if(a||r){t.data.moved=!0;var n=t.elm.style;n.transform=n.WebkitTransform="translate("+a+"px,"+r+"px)",n.transitionDuration="0s"}}/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */
var wa=Object.freeze({}),Ea=Object.prototype.toString,Fa=(m("slot,component",!0),m("key,ref,slot,slot-scope,is")),La=Object.prototype.hasOwnProperty,Ma=/-(\w)/g,Aa=D(function(t){return t.replace(Ma,function(t,e){return e?e.toUpperCase():""})}),Oa=D(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),Na=/\B([A-Z])/g,_a=D(function(t){return t.replace(Na,"-$1").toLowerCase()}),Pa=Function.prototype.bind?S:g,Ra=function(t,e,i){return!1},Ba=function(t){return t},ka="data-server-rendered",Va=["component","directive","filter"],Ga=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],Ha={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Ra,isReservedAttr:Ra,isUnknownElement:Ra,getTagNamespace:T,parsePlatformTagName:Ba,mustUseProp:Ra,async:!0,_lifecycleHooks:Ga},Ya=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,Xa=new RegExp("[^"+Ya.source+".$_\\d]"),Wa="__proto__"in{},Ua="undefined"!=typeof window,za="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Ka=za&&WXEnvironment.platform.toLowerCase(),$a=Ua&&window.navigator.userAgent.toLowerCase(),ja=$a&&/msie|trident/.test($a),Ja=$a&&$a.indexOf("msie 9.0")>0,qa=$a&&$a.indexOf("edge/")>0,Za=($a&&$a.indexOf("android"),$a&&/iphone|ipad|ipod|ios/.test($a)||"ios"===Ka),Qa=($a&&/chrome\/\d+/.test($a),$a&&/phantomjs/.test($a),$a&&$a.match(/firefox\/(\d+)/)),tr={}.watch,er=!1;if(Ua)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){er=!0}}),window.addEventListener("test-passive",null,ir)}catch(t){}var ar,rr,nr=function(){return void 0===ar&&(ar=!Ua&&!za&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),ar},or=Ua&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,sr="undefined"!=typeof Symbol&&A(Symbol)&&"undefined"!=typeof Reflect&&A(Reflect.ownKeys);rr="undefined"!=typeof Set&&A(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var lr=T,hr=0,ur=function(){this.id=hr++,this.subs=[]};ur.prototype.addSub=function(t){this.subs.push(t)},ur.prototype.removeSub=function(t){C(this.subs,t)},ur.prototype.depend=function(){ur.target&&ur.target.addDep(this)},ur.prototype.notify=function(){for(var t=this.subs.slice(),e=0,i=t.length;e<i;e++)t[e].update()},ur.target=null;var cr=[],dr=function(t,e,i,a,r,n,o,s){this.tag=t,this.data=e,this.children=i,this.text=a,this.elm=r,this.ns=void 0,this.context=n,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fr={child:{configurable:!0}};fr.child.get=function(){return this.componentInstance},Object.defineProperties(dr.prototype,fr);var pr=function(t){void 0===t&&(t="");var e=new dr;return e.text=t,e.isComment=!0,e},mr=Array.prototype,Cr=Object.create(mr);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=mr[t];L(Cr,t,function(){for(var i=[],a=arguments.length;a--;)i[a]=arguments[a];var r,n=e.apply(this,i),o=this.__ob__;switch(t){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&o.observeArray(r),o.dep.notify(),n})});var vr=Object.getOwnPropertyNames(Cr),Dr=!0,gr=function(t){this.value=t,this.dep=new ur,this.vmCount=0,L(t,"__ob__",this),Array.isArray(t)?(Wa?B(t,Cr):k(t,Cr,vr),this.observeArray(t)):this.walk(t)};gr.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)G(t,e[i])},gr.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)V(t[e])};var Sr=Ha.optionMergeStrategies;Sr.data=function(t,e,i){return i?U(t,e,i):e&&"function"!=typeof e?t:U(t,e)},Ga.forEach(function(t){Sr[t]=z}),Va.forEach(function(t){Sr[t+"s"]=$}),Sr.watch=function(t,e,i,a){if(t===tr&&(t=void 0),e===tr&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};b(r,t);for(var n in e){var o=r[n],s=e[n];o&&!Array.isArray(o)&&(o=[o]),r[n]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},Sr.props=Sr.methods=Sr.inject=Sr.computed=function(t,e,i,a){if(!t)return e;var r=Object.create(null);return b(r,t),e&&b(r,e),r},Sr.provide=U;var xr,br=function(t,e){return void 0===e?t:e},Ir=/^\s*function (\w+)/,Tr=!1,yr=[],wr=!1;if("undefined"!=typeof Promise&&A(Promise)){var Er=Promise.resolve();xr=function(){Er.then(ht),Za&&setTimeout(T)},Tr=!0}else if(ja||"undefined"==typeof MutationObserver||!A(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())xr=void 0!==i&&A(i)?function(){i(ht)}:function(){setTimeout(ht,0)};else{var Fr=1,Lr=new MutationObserver(ht),Mr=document.createTextNode(String(Fr));Lr.observe(Mr,{characterData:!0}),xr=function(){Fr=(Fr+1)%2,Mr.data=String(Fr)},Tr=!0}var Ar=new rr,Or=D(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var i="~"===t.charAt(0);t=i?t.slice(1):t;var a="!"===t.charAt(0);return t=a?t.slice(1):t,{name:t,once:i,capture:a,passive:e}});Ut(zt.prototype);var Nr,_r={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;_r.prepatch(i,i)}else{(t.componentInstance=qt(t,Vr)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var i=e.componentOptions;De(e.componentInstance=t.componentInstance,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,be(i,"mounted")),t.data.keepAlive&&(e._isMounted?we(i):Se(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?xe(e,!0):e.$destroy())}},Pr=Object.keys(_r),Rr=1,Br=2,kr=null,Vr=null,Gr=[],Hr=[],Yr={},Xr=!1,Wr=!1,Ur=0,zr=0,Kr=Date.now;if(Ua&&!ja){var $r=window.performance;$r&&"function"==typeof $r.now&&Kr()>document.createEvent("Event").timeStamp&&(Kr=function(){return $r.now()})}var jr=0,Jr=function(t,e,i,a,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),a?(this.deep=!!a.deep,this.user=!!a.user,this.lazy=!!a.lazy,this.sync=!!a.sync,this.before=a.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++jr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new rr,this.newDepIds=new rr,this.expression="","function"==typeof e?this.getter=e:(this.getter=M(e),this.getter||(this.getter=T)),this.value=this.lazy?void 0:this.get()};Jr.prototype.get=function(){O(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;nt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ct(t),N(),this.cleanupDeps()}return t},Jr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Jr.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},Jr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Fe(this)},Jr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user){var i='callback for watcher "'+this.expression+'"';ot(this.cb,this.vm,[t,e],this.vm,i)}else this.cb.call(this.vm,t,e)}}},Jr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Jr.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Jr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||C(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var qr={enumerable:!0,configurable:!0,get:T,set:T},Zr={lazy:!0},Qr=0;!function(t){t.prototype._init=function(t){var e=this;e._uid=Qr++,e._isVue=!0,t&&t._isComponent?He(e,t):e.$options=Z(Ye(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Ce(e),ue(e),ne(e),be(e,"beforeCreate"),It(e),Me(e),bt(e),be(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(We),function(t){var e={};e.get=function(){return this._data};var i={};i.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=H,t.prototype.$delete=Y,t.prototype.$watch=function(t,e,i){var a=this;if(h(e))return Ge(a,t,e,i);i=i||{},i.user=!0;var r=new Jr(a,t,e,i);if(i.immediate){var n='callback for immediate watcher "'+r.expression+'"';O(),ot(e,a,[r.value],a,n),N()}return function(){r.teardown()}}}(We),function(t){var e=/^hook:/;t.prototype.$on=function(t,i){var a=this;if(Array.isArray(t))for(var r=0,n=t.length;r<n;r++)a.$on(t[r],i);else(a._events[t]||(a._events[t]=[])).push(i),e.test(t)&&(a._hasHookEvent=!0);return a},t.prototype.$once=function(t,e){function i(){a.$off(t,i),e.apply(a,arguments)}var a=this;return i.fn=e,a.$on(t,i),a},t.prototype.$off=function(t,e){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var a=0,r=t.length;a<r;a++)i.$off(t[a],e);return i}var n=i._events[t];if(!n)return i;if(!e)return i._events[t]=null,i;for(var o,s=n.length;s--;)if((o=n[s])===e||o.fn===e){n.splice(s,1);break}return i},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?x(i):i;for(var a=x(arguments,1),r='event handler for "'+t+'"',n=0,o=i.length;n<o;n++)ot(i[n],e,a,e,r)}return e}}(We),function(t){t.prototype._update=function(t,e){var i=this,a=i.$el,r=i._vnode,n=me(i);i._vnode=t,i.$el=r?i.__patch__(r,t):i.__patch__(i.$el,t,e,!1),n(),a&&(a.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){be(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||C(e.$children,t),t._watcher&&t._watcher.teardown();for(var i=t._watchers.length;i--;)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),be(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(We),function(t){Ut(t.prototype),t.prototype.$nextTick=function(t){return ut(t,this)},t.prototype._render=function(){var t=this,e=t.$options,i=e.render,a=e._parentVnode;a&&(t.$scopedSlots=Ft(a.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=a;var r;try{kr=t,r=i.call(t._renderProxy,t.$createElement)}catch(e){nt(e,t,"render"),r=t._vnode}finally{kr=null}return Array.isArray(r)&&1===r.length&&(r=r[0]),r instanceof dr||(r=pr()),r.parent=a,r}}(We);var tn=[String,RegExp,Array],en={name:"keep-alive",abstract:!0,props:{include:tn,exclude:tn,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,i=t.keys,a=t.vnodeToCache,r=t.keyToCache;if(a){var n=a.tag,o=a.componentInstance,s=a.componentOptions;e[r]={name:qe(s),tag:n,componentInstance:o},i.push(r),this.max&&i.length>parseInt(this.max)&&ti(e,i[0],i,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)ti(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",function(e){Qe(t,function(t){return Ze(e,t)})}),this.$watch("exclude",function(e){Qe(t,function(t){return!Ze(e,t)})})},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=he(t),i=e&&e.componentOptions;if(i){var a=qe(i),r=this,n=r.include,o=r.exclude;if(n&&(!a||!Ze(n,a))||o&&a&&Ze(o,a))return e;var s=this,l=s.cache,h=s.keys,u=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,C(h,u),h.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},an={KeepAlive:en};!function(t){var e={};e.get=function(){return Ha},Object.defineProperty(t,"config",e),t.util={warn:lr,extend:b,mergeOptions:Z,defineReactive:G},t.set=H,t.delete=Y,t.nextTick=ut,t.observable=function(t){return V(t),t},t.options=Object.create(null),Va.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,b(t.options.components,an),Ue(t),ze(t),Ke(t),Je(t)}(We),Object.defineProperty(We.prototype,"$isServer",{get:nr}),Object.defineProperty(We.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(We,"FunctionalRenderContext",{value:zt}),We.version="2.6.14";var rn,nn,on,sn=m("style,class"),ln=m("input,textarea,option,select,progress"),hn=function(t,e,i){return"value"===i&&ln(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},un=m("contenteditable,draggable,spellcheck"),cn=m("events,caret,typing,plaintext-only"),dn=function(t,e){return vn(e)||"false"===e?"false":"contenteditable"===t&&cn(e)?e:"true"},fn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),pn="http://www.w3.org/1999/xlink",mn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Cn=function(t){return mn(t)?t.slice(6,t.length):""},vn=function(t){return null==t||!1===t},Dn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},gn=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Sn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),xn=function(t){return gn(t)||Sn(t)},bn=Object.create(null),In=m("text,number,password,search,email,tel,url"),Tn=Object.freeze({createElement:ci,createElementNS:di,createTextNode:fi,createComment:pi,insertBefore:mi,removeChild:Ci,appendChild:vi,parentNode:Di,nextSibling:gi,tagName:Si,setTextContent:xi,setStyleScope:bi}),yn={create:function(t,e){Ii(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Ii(t,!0),Ii(e))},destroy:function(t){Ii(t,!0)}},wn=new dr("",{},[]),En=["create","activate","update","remove","destroy"],Fn={create:Ei,update:Ei,destroy:function(t){Ei(t,wn)}},Ln=Object.create(null),Mn=[yn,Fn],An={create:Oi,update:Oi},On={create:Pi,update:Pi},Nn="__r",_n="__c",Pn=Tr&&!(Qa&&Number(Qa[1])<=53),Rn={create:Gi,update:Gi},Bn={create:Hi,update:Hi},kn=D(function(t){var e={},i=/;(?![^(]*\))/g,a=/:(.+)/;return t.split(i).forEach(function(t){if(t){var i=t.split(a);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}),Vn=/^--/,Gn=/\s*!important$/,Hn=function(t,e,i){if(Vn.test(e))t.style.setProperty(e,i);else if(Gn.test(i))t.style.setProperty(_a(e),i.replace(Gn,""),"important");else{var a=Xn(e);if(Array.isArray(i))for(var r=0,n=i.length;r<n;r++)t.style[a]=i[r];else t.style[a]=i}},Yn=["Webkit","Moz","ms"],Xn=D(function(t){if(on=on||document.createElement("div").style,"filter"!==(t=Aa(t))&&t in on)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<Yn.length;i++){var a=Yn[i]+e;if(a in on)return a}}),Wn={create:$i,update:$i},Un=/\s+/,zn=D(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Kn=Ua&&!Ja,$n="transition",jn="animation",Jn="transition",qn="transitionend",Zn="animation",Qn="animationend";Kn&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Jn="WebkitTransition",qn="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Zn="WebkitAnimation",Qn="webkitAnimationEnd"));var to=Ua?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()},eo=/\b(transform|all)(,|$)/,io=Ua?{create:ha,activate:ha,remove:function(t,e){!0!==t.data.show?oa(t,e):e()}}:{},ao=[An,On,Rn,Bn,Wn,io],ro=ao.concat(Mn),no=function(t){function e(t){return new dr(A.tagName(t).toLowerCase(),{},[],void 0,t)}function i(t,e){function i(){0==--i.listeners&&o(t)}return i.listeners=e,i}function o(t){var e=A.parentNode(t);r(e)&&A.removeChild(e,t)}function l(t,e,i,a,o,s,l){if(r(t.elm)&&r(s)&&(t=s[l]=P(t)),t.isRootInsert=!o,!h(t,e,i,a)){var u=t.data,c=t.children,p=t.tag;r(p)?(t.elm=t.ns?A.createElementNS(t.ns,p):A.createElement(p,t),v(t),f(t,c,e),r(u)&&C(t,e),d(i,t.elm,a)):n(t.isComment)?(t.elm=A.createComment(t.text),d(i,t.elm,a)):(t.elm=A.createTextNode(t.text),d(i,t.elm,a))}}function h(t,e,i,a){var o=t.data;if(r(o)){var s=r(t.componentInstance)&&o.keepAlive;if(r(o=o.hook)&&r(o=o.init)&&o(t,!1),r(t.componentInstance))return u(t,e),d(i,t.elm,a),n(s)&&c(t,e,i,a),!0}}function u(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,p(t)?(C(t,e),v(t)):(Ii(t),e.push(t))}function c(t,e,i,a){for(var n,o=t;o.componentInstance;)if(o=o.componentInstance._vnode,r(n=o.data)&&r(n=n.transition)){for(n=0;n<L.activate.length;++n)L.activate[n](wn,o);e.push(o);break}d(i,t.elm,a)}function d(t,e,i){r(t)&&(r(i)?A.parentNode(i)===t&&A.insertBefore(t,e,i):A.appendChild(t,e))}function f(t,e,i){if(Array.isArray(e))for(var a=0;a<e.length;++a)l(e[a],i,t.elm,null,!0,e,a);else s(t.text)&&A.appendChild(t.elm,A.createTextNode(String(t.text)))}function p(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function C(t,e){for(var i=0;i<L.create.length;++i)L.create[i](wn,t);E=t.data.hook,r(E)&&(r(E.create)&&E.create(wn,t),r(E.insert)&&e.push(t))}function v(t){var e;if(r(e=t.fnScopeId))A.setStyleScope(t.elm,e);else for(var i=t;i;)r(e=i.context)&&r(e=e.$options._scopeId)&&A.setStyleScope(t.elm,e),i=i.parent;r(e=Vr)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&A.setStyleScope(t.elm,e)}function D(t,e,i,a,r,n){for(;a<=r;++a)l(i[a],n,t,e,!1,i,a)}function g(t){var e,i,a=t.data;if(r(a))for(r(e=a.hook)&&r(e=e.destroy)&&e(t),e=0;e<L.destroy.length;++e)L.destroy[e](t);if(r(e=t.children))for(i=0;i<t.children.length;++i)g(t.children[i])}function S(t,e,i){for(;e<=i;++e){var a=t[e];r(a)&&(r(a.tag)?(x(a),g(a)):o(a.elm))}}function x(t,e){if(r(e)||r(t.data)){var a,n=L.remove.length+1;for(r(e)?e.listeners+=n:e=i(t.elm,n),r(a=t.componentInstance)&&r(a=a._vnode)&&r(a.data)&&x(a,e),a=0;a<L.remove.length;++a)L.remove[a](t,e);r(a=t.data.hook)&&r(a=a.remove)?a(t,e):e()}else o(t.elm)}function b(t,e,i,n,o){for(var s,h,u,c,d=0,f=0,p=e.length-1,m=e[0],C=e[p],v=i.length-1,g=i[0],x=i[v],b=!o;d<=p&&f<=v;)a(m)?m=e[++d]:a(C)?C=e[--p]:Ti(m,g)?(T(m,g,n,i,f),m=e[++d],g=i[++f]):Ti(C,x)?(T(C,x,n,i,v),C=e[--p],x=i[--v]):Ti(m,x)?(T(m,x,n,i,v),b&&A.insertBefore(t,m.elm,A.nextSibling(C.elm)),m=e[++d],x=i[--v]):Ti(C,g)?(T(C,g,n,i,f),b&&A.insertBefore(t,C.elm,m.elm),C=e[--p],g=i[++f]):(a(s)&&(s=wi(e,d,p)),h=r(g.key)?s[g.key]:I(g,e,d,p),a(h)?l(g,n,t,m.elm,!1,i,f):(u=e[h],Ti(u,g)?(T(u,g,n,i,f),e[h]=void 0,b&&A.insertBefore(t,u.elm,m.elm)):l(g,n,t,m.elm,!1,i,f)),g=i[++f]);d>p?(c=a(i[v+1])?null:i[v+1].elm,D(t,c,i,f,v,n)):f>v&&S(e,d,p)}function I(t,e,i,a){for(var n=i;n<a;n++){var o=e[n];if(r(o)&&Ti(t,o))return n}}function T(t,e,i,o,s,l){if(t!==e){r(e.elm)&&r(o)&&(e=o[s]=P(e));var h=e.elm=t.elm;if(n(t.isAsyncPlaceholder))return void(r(e.asyncFactory.resolved)?w(t.elm,e,i):e.isAsyncPlaceholder=!0);if(n(e.isStatic)&&n(t.isStatic)&&e.key===t.key&&(n(e.isCloned)||n(e.isOnce)))return void(e.componentInstance=t.componentInstance);var u,c=e.data;r(c)&&r(u=c.hook)&&r(u=u.prepatch)&&u(t,e);var d=t.children,f=e.children;if(r(c)&&p(e)){for(u=0;u<L.update.length;++u)L.update[u](t,e);r(u=c.hook)&&r(u=u.update)&&u(t,e)}a(e.text)?r(d)&&r(f)?d!==f&&b(h,d,f,i,l):r(f)?(r(t.text)&&A.setTextContent(h,""),D(h,null,f,0,f.length-1,i)):r(d)?S(d,0,d.length-1):r(t.text)&&A.setTextContent(h,""):t.text!==e.text&&A.setTextContent(h,e.text),r(c)&&r(u=c.hook)&&r(u=u.postpatch)&&u(t,e)}}function y(t,e,i){if(n(i)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}function w(t,e,i,a){var o,s=e.tag,l=e.data,h=e.children;if(a=a||l&&l.pre,e.elm=t,n(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(o=l.hook)&&r(o=o.init)&&o(e,!0),r(o=e.componentInstance)))return u(e,i),!0;if(r(s)){if(r(h))if(t.hasChildNodes())if(r(o=l)&&r(o=o.domProps)&&r(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var c=!0,d=t.firstChild,p=0;p<h.length;p++){if(!d||!w(d,h[p],i,a)){c=!1;break}d=d.nextSibling}if(!c||d)return!1}else f(e,h,i);if(r(l)){var m=!1;for(var v in l)if(!O(v)){m=!0,C(e,i);break}!m&&l.class&&ct(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}var E,F,L={},M=t.modules,A=t.nodeOps;for(E=0;E<En.length;++E)for(L[En[E]]=[],F=0;F<M.length;++F)r(M[F][En[E]])&&L[En[E]].push(M[F][En[E]]);var O=m("attrs,class,staticClass,staticStyle,key");return function(t,i,o,s){if(a(i))return void(r(t)&&g(t));var h=!1,u=[];if(a(t))h=!0,l(i,u);else{var c=r(t.nodeType);if(!c&&Ti(t,i))T(t,i,u,null,null,s);else{if(c){if(1===t.nodeType&&t.hasAttribute(ka)&&(t.removeAttribute(ka),o=!0),n(o)&&w(t,i,u))return y(i,u,!0),t;t=e(t)}var d=t.elm,f=A.parentNode(d);if(l(i,u,d._leaveCb?null:f,A.nextSibling(d)),r(i.parent))for(var m=i.parent,C=p(i);m;){for(var v=0;v<L.destroy.length;++v)L.destroy[v](m);if(m.elm=i.elm,C){for(var D=0;D<L.create.length;++D)L.create[D](wn,m);var x=m.data.hook.insert;if(x.merged)for(var b=1;b<x.fns.length;b++)x.fns[b]()}else Ii(m);m=m.parent}r(f)?S([t],0,0):r(t.tag)&&g(t)}}return y(i,u,h),i.elm}}({nodeOps:Tn,modules:ro});Ja&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Ca(t,"input")});var oo={inserted:function(t,e,i,a){"select"===i.tag?(a.elm&&!a.elm._vOptions?mt(i,"postpatch",function(){oo.componentUpdated(t,e,i)}):ua(t,e,i.context),t._vOptions=[].map.call(t.options,fa)):("textarea"===i.tag||In(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",pa),t.addEventListener("compositionend",ma),t.addEventListener("change",ma),Ja&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){ua(t,e,i.context);var a=t._vOptions,r=t._vOptions=[].map.call(t.options,fa);if(r.some(function(t,e){return!y(t,a[e])})){(t.multiple?e.value.some(function(t){return da(t,r)}):e.value!==e.oldValue&&da(e.value,r))&&Ca(t,"change")}}}},so={bind:function(t,e,i){var a=e.value;i=va(i);var r=i.data&&i.data.transition,n=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;a&&r?(i.data.show=!0,na(i,function(){t.style.display=n})):t.style.display=a?n:"none"},update:function(t,e,i){var a=e.value;!a!=!e.oldValue&&(i=va(i),i.data&&i.data.transition?(i.data.show=!0,a?na(i,function(){t.style.display=t.__vOriginalDisplay}):oa(i,function(){t.style.display="none"})):t.style.display=a?t.__vOriginalDisplay:"none")},unbind:function(t,e,i,a,r){r||(t.style.display=t.__vOriginalDisplay)}},lo={model:oo,show:so},ho={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},uo=function(t){return t.tag||Et(t)},co=function(t){return"show"===t.name},fo={name:"transition",props:ho,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(uo),i.length)){var a=this.mode,r=i[0];if(xa(this.$vnode))return r;var n=Da(r);if(!n)return r;if(this._leaving)return Sa(t,r);var o="__transition-"+this._uid+"-";n.key=null==n.key?n.isComment?o+"comment":o+n.tag:s(n.key)?0===String(n.key).indexOf(o)?n.key:o+n.key:n.key;var l=(n.data||(n.data={})).transition=ga(this),h=this._vnode,u=Da(h);if(n.data.directives&&n.data.directives.some(co)&&(n.data.show=!0),u&&u.data&&!ba(n,u)&&!Et(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var c=u.data.transition=b({},l);if("out-in"===a)return this._leaving=!0,mt(c,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Sa(t,r);if("in-out"===a){if(Et(n))return h;var d,f=function(){d()};mt(l,"afterEnter",f),mt(l,"enterCancelled",f),mt(c,"delayLeave",function(t){d=t})}}return r}}},po=b({tag:String,moveClass:String},ho);delete po.mode;var mo={props:po,beforeMount:function(){var t=this,e=this._update;this._update=function(i,a){var r=me(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,i,a)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),a=this.prevChildren=this.children,r=this.$slots.default||[],n=this.children=[],o=ga(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))n.push(l),i[l.key]=l,(l.data||(l.data={})).transition=o;else;}if(a){for(var h=[],u=[],c=0;c<a.length;c++){var d=a[c];d.data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?h.push(d):u.push(d)}this.kept=t(e,null,h),this.removed=u}return t(e,null,n)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ia),t.forEach(Ta),t.forEach(ya),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var i=t.elm,a=i.style;Qi(i,e),a.transform=a.WebkitTransform=a.transitionDuration="",i.addEventListener(qn,i._moveCb=function t(a){a&&a.target!==i||a&&!/transform$/.test(a.propertyName)||(i.removeEventListener(qn,t),i._moveCb=null,ta(i,e))})}}))},methods:{hasMove:function(t,e){if(!Kn)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Ji(i,t)}),ji(i,e),i.style.display="none",this.$el.appendChild(i);var a=ia(i);return this.$el.removeChild(i),this._hasMove=a.hasTransform}}},Co={Transition:fo,TransitionGroup:mo};We.config.mustUseProp=hn,We.config.isReservedTag=xn,We.config.isReservedAttr=sn,We.config.getTagNamespace=li,We.config.isUnknownElement=hi,b(We.options.directives,lo),b(We.options.components,Co),We.prototype.__patch__=Ua?no:T,We.prototype.$mount=function(t,e){return t=t&&Ua?ui(t):void 0,ve(this,t,e)},Ua&&setTimeout(function(){Ha.devtools&&or&&or.emit("init",We)},0),e.default=We}.call(e,i(24),i(81).setImmediate)},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){var a=i(64)("wks"),r=i(41),n=i(4).Symbol,o="function"==typeof n;(t.exports=function(t){return a[t]||(a[t]=o&&n[t]||(o?n:r)("Symbol."+t))}).store=a},function(t,e,i){"use strict";var a=i(99),r=i(174),n=i(175),o=i(176),s=i(177),l=i(178);e.a={required:a.a,whitespace:r.a,type:n.a,range:o.a,enum:s.a,pattern:l.a}},function(t,e,i){t.exports=!i(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){(function(e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e){var n=a(r);return[i].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([n]).join("\n")}return[i].join("\n")}function a(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+new e(JSON.stringify(t)).toString("base64")+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a=i(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var n=this[r][0];"number"==typeof n&&(a[n]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&a[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}}).call(e,i(198).Buffer)},function(t,e,i){var a=i(13),r=i(91),n=i(59),o=Object.defineProperty;e.f=i(7)?Object.defineProperty:function(t,e,i){if(a(t),e=n(e,!0),a(i),r)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){"use strict";function a(){}function r(t,e){return p.call(t,e)}function n(t,e){for(var i in e)t[i]=e[i];return t}function o(t){for(var e={},i=0;i<t.length;i++)t[i]&&n(e,t[i]);return e}function s(t,e,i){var a=t;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var r=e.split("."),n=0,o=r.length;n<o-1&&(a||i);++n){var s=r[n];if(!(s in a)){if(i)throw new Error("please transfer a valid prop path to form item!");break}a=a[s]}return{o:a,k:r[n],v:a?a[r[n]]:null}}function l(t){var e=!1;return function(){for(var i=this,a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];e||(e=!0,window.requestAnimationFrame(function(a){t.apply(i,r),e=!1}))}}function h(t){return Array.isArray(t)?t:D(t)?[]:[t]}e.__esModule=!0,e.isEmpty=e.isEqual=e.arrayEquals=e.looseEqual=e.capitalize=e.kebabCase=e.autoprefixer=e.isFirefox=e.isEdge=e.isIE=e.coerceTruthyValueToArray=e.arrayFind=e.arrayFindIndex=e.escapeRegexpString=e.valueEquals=e.generateId=e.getValueByPath=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.noop=a,e.hasOwn=r,e.toObject=o,e.getPropByPath=s,e.rafThrottle=l,e.objToArray=h;var c=i(3),d=function(t){return t&&t.__esModule?t:{default:t}}(c),f=i(83),p=Object.prototype.hasOwnProperty,m=(e.getValueByPath=function(t,e){e=e||"";for(var i=e.split("."),a=t,r=null,n=0,o=i.length;n<o;n++){var s=i[n];if(!a)break;if(n===o-1){r=a[s];break}a=a[s]}return r},e.generateId=function(){return Math.floor(1e4*Math.random())},e.valueEquals=function(t,e){if(t===e)return!0;if(!(t instanceof Array))return!1;if(!(e instanceof Array))return!1;if(t.length!==e.length)return!1;for(var i=0;i!==t.length;++i)if(t[i]!==e[i])return!1;return!0},e.escapeRegexpString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},e.arrayFindIndex=function(t,e){for(var i=0;i!==t.length;++i)if(e(t[i]))return i;return-1}),C=(e.arrayFind=function(t,e){var i=m(t,e);return-1!==i?t[i]:void 0},e.coerceTruthyValueToArray=function(t){return Array.isArray(t)?t:t?[t]:[]},e.isIE=function(){return!d.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},e.isEdge=function(){return!d.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},e.isFirefox=function(){return!d.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},e.autoprefixer=function(t){if("object"!==(void 0===t?"undefined":u(t)))return t;var e=["ms-","webkit-"];return["transform","transition","animation"].forEach(function(i){var a=t[i];i&&a&&e.forEach(function(e){t[e+i]=a})}),t},e.kebabCase=function(t){var e=/([^-])([A-Z])/g;return t.replace(e,"$1-$2").replace(e,"$1-$2").toLowerCase()},e.capitalize=function(t){return(0,f.isString)(t)?t.charAt(0).toUpperCase()+t.slice(1):t},e.looseEqual=function(t,e){var i=(0,f.isObject)(t),a=(0,f.isObject)(e);return i&&a?JSON.stringify(t)===JSON.stringify(e):!i&&!a&&String(t)===String(e)}),v=e.arrayEquals=function(t,e){if(t=t||[],e=e||[],t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!C(t[i],e[i]))return!1;return!0},D=(e.isEqual=function(t,e){return Array.isArray(t)&&Array.isArray(e)?v(t,e):C(t,e)},e.isEmpty=function(t){if(null==t)return!0;if("boolean"==typeof t)return!1;if("number"==typeof t)return!t;if(t instanceof Error)return""===t.message;switch(Object.prototype.toString.call(t)){case"[object String]":case"[object Array]":return!t.length;case"[object File]":case"[object Map]":case"[object Set]":return!t.size;case"[object Object]":return!Object.keys(t).length}return!1})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){"use strict";function a(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function r(t,e){if(t){for(var i=t.className,r=(e||"").split(" "),n=0,o=r.length;n<o;n++){var s=r[n];s&&(t.classList?t.classList.add(s):a(t,s)||(i+=" "+s))}t.classList||t.setAttribute("class",i)}}function n(t,e){if(t&&e){for(var i=e.split(" "),r=" "+t.className+" ",n=0,o=i.length;n<o;n++){var s=i[n];s&&(t.classList?t.classList.remove(s):a(t,s)&&(r=r.replace(" "+s+" "," ")))}t.classList||t.setAttribute("class",p(r))}}function o(t,e,i){if(t&&e)if("object"===(void 0===e?"undefined":s(e)))for(var a in e)e.hasOwnProperty(a)&&o(t,a,e[a]);else e=m(e),"opacity"===e&&f<9?t.style.filter=isNaN(i)?"":"alpha(opacity="+100*i+")":t.style[e]=i}e.__esModule=!0,e.isInContainer=e.getScrollContainer=e.isScroll=e.getStyle=e.once=e.off=e.on=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.hasClass=a,e.addClass=r,e.removeClass=n,e.setStyle=o;var l=i(3),h=function(t){return t&&t.__esModule?t:{default:t}}(l),u=h.default.prototype.$isServer,c=/([\:\-\_]+(.))/g,d=/^moz([A-Z])/,f=u?0:Number(document.documentMode),p=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},m=function(t){return t.replace(c,function(t,e,i,a){return a?i.toUpperCase():i}).replace(d,"Moz$1")},C=e.on=function(){return!u&&document.addEventListener?function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}:function(t,e,i){t&&e&&i&&t.attachEvent("on"+e,i)}}(),v=e.off=function(){return!u&&document.removeEventListener?function(t,e,i){t&&e&&t.removeEventListener(e,i,!1)}:function(t,e,i){t&&e&&t.detachEvent("on"+e,i)}}(),D=(e.once=function(t,e,i){C(t,e,function a(){i&&i.apply(this,arguments),v(t,e,a)})},e.getStyle=f<9?function(t,e){if(!u){if(!t||!e)return null;e=m(e),"float"===e&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(t){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(i){return t.style[e]}}}:function(t,e){if(!u){if(!t||!e)return null;e=m(e),"float"===e&&(e="cssFloat");try{var i=document.defaultView.getComputedStyle(t,"");return t.style[e]||i?i[e]:null}catch(i){return t.style[e]}}}),g=e.isScroll=function(t,e){if(!u){return(null!==e&&void 0!==e?e?D(t,"overflow-y"):D(t,"overflow-x"):D(t,"overflow")).match(/(scroll|auto|overlay)/)}};e.getScrollContainer=function(t,e){if(!u){for(var i=t;i;){if([window,document,document.documentElement].includes(i))return window;if(g(i,e))return i;i=i.parentNode}return i}},e.isInContainer=function(t,e){if(u||!t||!e)return!1;var i=t.getBoundingClientRect(),a=void 0;return a=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),i.top<a.bottom&&i.bottom>a.top&&i.right>a.left&&i.left<a.right}},function(t,e,i){var a=i(11);t.exports=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){var a=i(25);t.exports=function(t,e,i){if(a(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,a){return t.call(e,i,a)};case 3:return function(i,a,r){return t.call(e,i,a,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){var a=i(9),r=i(26);t.exports=i(7)?function(t,e,i){return a.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){function a(t){for(var e=0;e<t.length;e++){var i=t[e],a=u[i.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](i.parts[r]);for(;r<i.parts.length;r++)a.parts.push(n(i.parts[r]));a.parts.length>i.parts.length&&(a.parts.length=i.parts.length)}else{for(var o=[],r=0;r<i.parts.length;r++)o.push(n(i.parts[r]));u[i.id]={id:i.id,refs:1,parts:o}}}}function r(){var t=document.createElement("style");return t.type="text/css",c.appendChild(t),t}function n(t){var e,i,a=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(a){if(p)return m;a.parentNode.removeChild(a)}if(C){var n=f++;a=d||(d=r()),e=o.bind(null,a,n,!1),i=o.bind(null,a,n,!0)}else a=r(),e=s.bind(null,a),i=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else i()}}function o(t,e,i,a){var r=i?"":a.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var n=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(n,o[e]):t.appendChild(n)}}function s(t,e){var i=e.css,a=e.media,r=e.sourceMap;if(a&&t.setAttribute("media",a),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var h=i(207),u={},c=l&&(document.head||document.getElementsByTagName("head")[0]),d=null,f=0,p=!1,m=function(){},C="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,i){p=i;var r=h(t,e);return a(r),function(e){for(var i=[],n=0;n<r.length;n++){var o=r[n],s=u[o.id];s.refs--,i.push(s)}e?(r=h(t,e),a(r)):r=[];for(var n=0;n<i.length;n++){var s=i[n];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete u[s.id]}}}};var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e,i,a){var r,n=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(r=t,n=t.default);var s="function"==typeof n?n.options:n;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),i&&(s._scopeId=i),a){var l=Object.create(s.computed||null);Object.keys(a).forEach(function(t){var e=a[t];l[t]=function(){return e}}),s.computed=l}return{esModule:r,exports:n,options:s}}},function(t,e,i){"use strict";function a(t,e,i){this.$children.forEach(function(r){r.$options.componentName===t?r.$emit.apply(r,[e].concat(i)):a.apply(r,[t,e].concat([i]))})}e.__esModule=!0,e.default={methods:{dispatch:function(t,e,i){for(var a=this.$parent||this.$root,r=a.$options.componentName;a&&(!r||r!==t);)(a=a.$parent)&&(r=a.$options.componentName);a&&a.$emit.apply(a,[e].concat(i))},broadcast:function(t,e,i){a.call(this,t,e,i)}}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var a=i(60),r=i(61);t.exports=function(t){return a(r(t))}},function(t,e,i){var a=i(61);t.exports=function(t){return Object(a(t))}},function(t,e,i){"use strict";var a=i(159)(!0);i(67)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=a(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var a=i(92),r=i(65);t.exports=Object.keys||function(t){return a(t,r)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=!0},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(157),n=a(r),o=i(164),s=a(o),l="function"==typeof s.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===l(n.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":l(t)}},function(t,e){t.exports={}},function(t,e,i){var a=i(9).f,r=i(20),n=i(5)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,n)&&a(t,n,{configurable:!0,value:e})}},function(t,e,i){i(162);for(var a=i(4),r=i(15),n=i(31),o=i(5)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var h=s[l],u=a[h],c=u&&u.prototype;c&&!c[o]&&r(c,o,h),n[h]=n.Array}},function(t,e,i){t.exports={default:i(214),__esModule:!0}},function(t,e,i){var a=i(14),r=i(106),n=i(107),o=i(13),s=i(40),l=i(73),h={},u={},e=t.exports=function(t,e,i,c,d){var f,p,m,C,v=d?function(){return t}:l(t),D=a(i,c,e?2:1),g=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(n(v)){for(f=s(t.length);f>g;g++)if((C=e?D(o(p=t[g])[0],p[1]):D(t[g]))===h||C===u)return C}else for(m=v.call(t);!(p=m.next()).done;)if((C=r(m,D,p.value,e))===h||C===u)return C};e.BREAK=h,e.RETURN=u},function(t,e,i){"use strict";e.__esModule=!0;var a=i(3),r=function(t){return t&&t.__esModule?t:{default:t}}(a),n=i(84),o=r.default.prototype.$isServer?function(){}:i(131),s=function(t){return t.stopPropagation()};e.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(t){this.showPopper=t,this.$emit("input",t)}},showPopper:function(t){this.disabled||(t?this.updatePopper():this.destroyPopper(),this.$emit("input",t))}},methods:{createPopper:function(){var t=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var e=this.popperOptions,i=this.popperElm=this.popperElm||this.popper||this.$refs.popper,a=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!a&&this.$slots.reference&&this.$slots.reference[0]&&(a=this.referenceElm=this.$slots.reference[0].elm),i&&a&&(this.visibleArrow&&this.appendArrow(i),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),e.placement=this.currentPlacement,e.offset=this.offset,e.arrowOffset=this.arrowOffset,this.popperJS=new o(a,i,e),this.popperJS.onCreate(function(e){t.$emit("created",t),t.resetTransformOrigin(),t.$nextTick(t.updatePopper)}),"function"==typeof e.onUpdate&&this.popperJS.onUpdate(e.onUpdate),this.popperJS._popper.style.zIndex=n.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",s))}},updatePopper:function(){var t=this.popperJS;t?(t.update(),t._popper&&(t._popper.style.zIndex=n.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(t){!this.popperJS||this.showPopper&&!t||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var t={top:"bottom",bottom:"top",left:"right",right:"left"},e=this.popperJS._popper.getAttribute("x-placement").split("-")[0],i=t[e];this.popperJS._popper.style.transformOrigin="string"==typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(e)>-1?"center "+i:i+" center"}},appendArrow:function(t){var e=void 0;if(!this.appended){this.appended=!0;for(var i in t.attributes)if(/^_v-/.test(t.attributes[i].name)){e=t.attributes[i].name;break}var a=document.createElement("div");e&&a.setAttribute(e,""),a.setAttribute("x-arrow",""),a.className="popper__arrow",t.appendChild(a)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",s),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t){for(var e=1,i=arguments.length;e<i;e++){var a=arguments[e]||{};for(var r in a)if(a.hasOwnProperty(r)){var n=a[r];void 0!==n&&(t[r]=n)}}return t}},function(t,e,i){"use strict";function a(t){return void 0!==t&&null!==t}function r(t){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(t)}e.__esModule=!0,e.isDef=a,e.isKorean=r},function(t,e,i){var a=i(53);t.exports=function(t,e,i){return void 0===i?a(t,e,!1):a(t,i,!1!==e)}},function(t,e,i){var a=i(62),r=Math.min;t.exports=function(t){return t>0?r(a(t),9007199254740991):0}},function(t,e){var i=0,a=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+a).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var a=i(13),r=i(94),n=i(65),o=i(63)("IE_PROTO"),s=function(){},l=function(){var t,e=i(58)("iframe"),a=n.length;for(e.style.display="none",i(95).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;a--;)delete l.prototype[n[a]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=a(t),i=new s,s.prototype=null,i[o]=t):i=l(),void 0===e?i:r(i,e)}},function(t,e){},function(t,e){function i(t,e){for(var i=0;i<t.length;i++){var a=t[i],r=d[a.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](a.parts[n]);for(;n<a.parts.length;n++)r.parts.push(l(a.parts[n],e))}else{for(var o=[],n=0;n<a.parts.length;n++)o.push(l(a.parts[n],e));d[a.id]={id:a.id,refs:1,parts:o}}}}function a(t){for(var e=[],i={},a=0;a<t.length;a++){var r=t[a],n=r[0],o=r[1],s=r[2],l=r[3],h={css:o,media:s,sourceMap:l};i[n]?i[n].parts.push(h):e.push(i[n]={id:n,parts:[h]})}return e}function r(t,e){var i=m(),a=D[D.length-1];if("top"===t.insertAt)a?a.nextSibling?i.insertBefore(e,a.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),D.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function n(t){t.parentNode.removeChild(t);var e=D.indexOf(t);e>=0&&D.splice(e,1)}function o(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function s(t){var e=document.createElement("link");return e.rel="stylesheet",r(t,e),e}function l(t,e){var i,a,r;if(e.singleton){var l=v++;i=C||(C=o(e)),a=h.bind(null,i,l,!1),r=h.bind(null,i,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=s(e),a=c.bind(null,i),r=function(){n(i),i.href&&URL.revokeObjectURL(i.href)}):(i=o(e),a=u.bind(null,i),r=function(){n(i)});return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else r()}}function h(t,e,i,a){var r=i?"":a.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var n=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(n,o[e]):t.appendChild(n)}}function u(t,e){var i=e.css,a=e.media;if(a&&t.setAttribute("media",a),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function c(t,e){var i=e.css,a=e.sourceMap;a&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var r=new Blob([i],{type:"text/css"}),n=t.href;t.href=URL.createObjectURL(r),n&&URL.revokeObjectURL(n)}var d={},f=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},p=f(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),m=f(function(){return document.head||document.getElementsByTagName("head")[0]}),C=null,v=0,D=[];t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},void 0===e.singleton&&(e.singleton=p()),void 0===e.insertAt&&(e.insertAt="bottom");var r=a(t);return i(r,e),function(t){for(var n=[],o=0;o<r.length;o++){var s=r[o],l=d[s.id];l.refs--,n.push(l)}if(t){i(a(t),e)}for(var o=0;o<n.length;o++){var l=n[o];if(0===l.refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete d[l.id]}}}};var g=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){var a,r;/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
!function(e,i){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)}("undefined"!=typeof window?window:this,function(i,n){"use strict";function o(t,e,i){i=i||yt;var a,r,n=i.createElement("script");if(n.text=t,e)for(a in wt)(r=e[a]||e.getAttribute&&e.getAttribute(a))&&n.setAttribute(a,r);i.head.appendChild(n).parentNode.removeChild(n)}function s(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?vt[Dt.call(t)]||"object":typeof t}function l(t){var e=!!t&&"length"in t&&t.length,i=s(t);return!It(t)&&!Tt(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function h(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function u(t,e,i){return It(e)?Et.grep(t,function(t,a){return!!e.call(t,a,t)!==i}):e.nodeType?Et.grep(t,function(t){return t===e!==i}):"string"!=typeof e?Et.grep(t,function(t){return Ct.call(e,t)>-1!==i}):Et.filter(e,t,i)}function c(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function d(t){var e={};return Et.each(t.match(Bt)||[],function(t,i){e[i]=!0}),e}function f(t){return t}function p(t){throw t}function m(t,e,i,a){var r;try{t&&It(r=t.promise)?r.call(t).done(e).fail(i):t&&It(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(a))}catch(t){i.apply(void 0,[t])}}function C(){yt.removeEventListener("DOMContentLoaded",C),i.removeEventListener("load",C),Et.ready()}function v(t,e){return e.toUpperCase()}function D(t){return t.replace(Ht,"ms-").replace(Yt,v)}function g(){this.expando=Et.expando+g.uid++}function S(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:zt.test(t)?JSON.parse(t):t)}function x(t,e,i){var a;if(void 0===i&&1===t.nodeType)if(a="data-"+e.replace(Kt,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(a))){try{i=S(i)}catch(t){}Ut.set(t,e,i)}else i=void 0;return i}function b(t,e,i,a){var r,n,o=20,s=a?function(){return a.cur()}:function(){return Et.css(t,e,"")},l=s(),h=i&&i[3]||(Et.cssNumber[e]?"":"px"),u=t.nodeType&&(Et.cssNumber[e]||"px"!==h&&+l)&&jt.exec(Et.css(t,e));if(u&&u[3]!==h){for(l/=2,h=h||u[3],u=+l||1;o--;)Et.style(t,e,u+h),(1-n)*(1-(n=s()/l||.5))<=0&&(o=0),u/=n;u*=2,Et.style(t,e,u+h),i=i||[]}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],a&&(a.unit=h,a.start=u,a.end=r)),r}function I(t){var e,i=t.ownerDocument,a=t.nodeName,r=ee[a];return r||(e=i.body.appendChild(i.createElement(a)),r=Et.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ee[a]=r,r)}function T(t,e){for(var i,a,r=[],n=0,o=t.length;n<o;n++)a=t[n],a.style&&(i=a.style.display,e?("none"===i&&(r[n]=Wt.get(a,"display")||null,r[n]||(a.style.display="")),""===a.style.display&&te(a)&&(r[n]=I(a))):"none"!==i&&(r[n]="none",Wt.set(a,"display",i)));for(n=0;n<o;n++)null!=r[n]&&(t[n].style.display=r[n]);return t}function y(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&h(t,e)?Et.merge([t],i):i}function w(t,e){for(var i=0,a=t.length;i<a;i++)Wt.set(t[i],"globalEval",!e||Wt.get(e[i],"globalEval"))}function E(t,e,i,a,r){for(var n,o,l,h,u,c,d=e.createDocumentFragment(),f=[],p=0,m=t.length;p<m;p++)if((n=t[p])||0===n)if("object"===s(n))Et.merge(f,n.nodeType?[n]:n);else if(oe.test(n)){for(o=o||d.appendChild(e.createElement("div")),l=(ae.exec(n)||["",""])[1].toLowerCase(),h=ne[l]||ne._default,o.innerHTML=h[1]+Et.htmlPrefilter(n)+h[2],c=h[0];c--;)o=o.lastChild;Et.merge(f,o.childNodes),o=d.firstChild,o.textContent=""}else f.push(e.createTextNode(n));for(d.textContent="",p=0;n=f[p++];)if(a&&Et.inArray(n,a)>-1)r&&r.push(n);else if(u=Zt(n),o=y(d.appendChild(n),"script"),u&&w(o),i)for(c=0;n=o[c++];)re.test(n.type||"")&&i.push(n);return d}function F(){return!0}function L(){return!1}function M(t,e){return t===A()==("focus"===e)}function A(){try{return yt.activeElement}catch(t){}}function O(t,e,i,a,r,n){var o,s;if("object"==typeof e){"string"!=typeof i&&(a=a||i,i=void 0);for(s in e)O(t,s,i,a,e[s],n);return t}if(null==a&&null==r?(r=i,a=i=void 0):null==r&&("string"==typeof i?(r=a,a=void 0):(r=a,a=i,i=void 0)),!1===r)r=L;else if(!r)return t;return 1===n&&(o=r,r=function(t){return Et().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Et.guid++)),t.each(function(){Et.event.add(this,e,r,a,i)})}function N(t,e,i){if(!i)return void(void 0===Wt.get(t,e)&&Et.event.add(t,e,F));Wt.set(t,e,!1),Et.event.add(t,e,{namespace:!1,handler:function(t){var a,r,n=Wt.get(this,e);if(1&t.isTrigger&&this[e]){if(n.length)(Et.event.special[e]||{}).delegateType&&t.stopPropagation();else if(n=ft.call(arguments),Wt.set(this,e,n),a=i(this,e),this[e](),r=Wt.get(this,e),n!==r||a?Wt.set(this,e,!1):r={},n!==r)return t.stopImmediatePropagation(),t.preventDefault(),r&&r.value}else n.length&&(Wt.set(this,e,{value:Et.event.trigger(Et.extend(n[0],Et.Event.prototype),n.slice(1),this)}),t.stopImmediatePropagation())}})}function _(t,e){return h(t,"table")&&h(11!==e.nodeType?e:e.firstChild,"tr")?Et(t).children("tbody")[0]||t:t}function P(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function R(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function B(t,e){var i,a,r,n,o,s,l;if(1===e.nodeType){if(Wt.hasData(t)&&(n=Wt.get(t),l=n.events)){Wt.remove(e,"handle events");for(r in l)for(i=0,a=l[r].length;i<a;i++)Et.event.add(e,r,l[r][i])}Ut.hasData(t)&&(o=Ut.access(t),s=Et.extend({},o),Ut.set(e,s))}}function k(t,e){var i=e.nodeName.toLowerCase();"input"===i&&ie.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function V(t,e,i,a){e=pt(e);var r,n,s,l,h,u,c=0,d=t.length,f=d-1,p=e[0],m=It(p);if(m||d>1&&"string"==typeof p&&!bt.checkClone&&he.test(p))return t.each(function(r){var n=t.eq(r);m&&(e[0]=p.call(this,r,n.html())),V(n,e,i,a)});if(d&&(r=E(e,t[0].ownerDocument,!1,t,a),n=r.firstChild,1===r.childNodes.length&&(r=n),n||a)){for(s=Et.map(y(r,"script"),P),l=s.length;c<d;c++)h=r,c!==f&&(h=Et.clone(h,!0,!0),l&&Et.merge(s,y(h,"script"))),i.call(t[c],h,c);if(l)for(u=s[s.length-1].ownerDocument,Et.map(s,R),c=0;c<l;c++)h=s[c],re.test(h.type||"")&&!Wt.access(h,"globalEval")&&Et.contains(u,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?Et._evalUrl&&!h.noModule&&Et._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},u):o(h.textContent.replace(ue,""),h,u))}return t}function G(t,e,i){for(var a,r=e?Et.filter(e,t):t,n=0;null!=(a=r[n]);n++)i||1!==a.nodeType||Et.cleanData(y(a)),a.parentNode&&(i&&Zt(a)&&w(y(a,"script")),a.parentNode.removeChild(a));return t}function H(t,e,i){var a,r,n,o,s=t.style;return i=i||de(t),i&&(o=i.getPropertyValue(e)||i[e],""!==o||Zt(t)||(o=Et.style(t,e)),!bt.pixelBoxStyles()&&ce.test(o)&&pe.test(e)&&(a=s.width,r=s.minWidth,n=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=a,s.minWidth=r,s.maxWidth=n)),void 0!==o?o+"":o}function Y(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function X(t){for(var e=t[0].toUpperCase()+t.slice(1),i=me.length;i--;)if((t=me[i]+e)in Ce)return t}function W(t){var e=Et.cssProps[t]||ve[t];return e||(t in Ce?t:ve[t]=X(t)||t)}function U(t,e,i){var a=jt.exec(e);return a?Math.max(0,a[2]-(i||0))+(a[3]||"px"):e}function z(t,e,i,a,r,n){var o="width"===e?1:0,s=0,l=0;if(i===(a?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=Et.css(t,i+Jt[o],!0,r)),a?("content"===i&&(l-=Et.css(t,"padding"+Jt[o],!0,r)),"margin"!==i&&(l-=Et.css(t,"border"+Jt[o]+"Width",!0,r))):(l+=Et.css(t,"padding"+Jt[o],!0,r),"padding"!==i?l+=Et.css(t,"border"+Jt[o]+"Width",!0,r):s+=Et.css(t,"border"+Jt[o]+"Width",!0,r));return!a&&n>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-n-l-s-.5))||0),l}function K(t,e,i){var a=de(t),r=!bt.boxSizingReliable()||i,n=r&&"border-box"===Et.css(t,"boxSizing",!1,a),o=n,s=H(t,e,a),l="offset"+e[0].toUpperCase()+e.slice(1);if(ce.test(s)){if(!i)return s;s="auto"}return(!bt.boxSizingReliable()&&n||!bt.reliableTrDimensions()&&h(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===Et.css(t,"display",!1,a))&&t.getClientRects().length&&(n="border-box"===Et.css(t,"boxSizing",!1,a),(o=l in t)&&(s=t[l])),(s=parseFloat(s)||0)+z(t,e,i||(n?"border":"content"),o,a,s)+"px"}function $(t,e,i,a,r){return new $.prototype.init(t,e,i,a,r)}function j(){Ie&&(!1===yt.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(j):i.setTimeout(j,Et.fx.interval),Et.fx.tick())}function J(){return i.setTimeout(function(){be=void 0}),be=Date.now()}function q(t,e){var i,a=0,r={height:t};for(e=e?1:0;a<4;a+=2-e)i=Jt[a],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function Z(t,e,i){for(var a,r=(et.tweeners[e]||[]).concat(et.tweeners["*"]),n=0,o=r.length;n<o;n++)if(a=r[n].call(i,e,t))return a}function Q(t,e,i){var a,r,n,o,s,l,h,u,c="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&te(t),C=Wt.get(t,"fxshow");i.queue||(o=Et._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,Et.queue(t,"fx").length||o.empty.fire()})}));for(a in e)if(r=e[a],Te.test(r)){if(delete e[a],n=n||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!C||void 0===C[a])continue;m=!0}f[a]=C&&C[a]||Et.style(t,a)}if((l=!Et.isEmptyObject(e))||!Et.isEmptyObject(f)){c&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],h=C&&C.display,null==h&&(h=Wt.get(t,"display")),u=Et.css(t,"display"),"none"===u&&(h?u=h:(T([t],!0),h=t.style.display||h,u=Et.css(t,"display"),T([t]))),("inline"===u||"inline-block"===u&&null!=h)&&"none"===Et.css(t,"float")&&(l||(d.done(function(){p.display=h}),null==h&&(u=p.display,h="none"===u?"":u)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1;for(a in f)l||(C?"hidden"in C&&(m=C.hidden):C=Wt.access(t,"fxshow",{display:h}),n&&(C.hidden=!m),m&&T([t],!0),d.done(function(){m||T([t]),Wt.remove(t,"fxshow");for(a in f)Et.style(t,a,f[a])})),l=Z(m?C[a]:0,a,d),a in C||(C[a]=l.start,m&&(l.end=l.start,l.start=0))}}function tt(t,e){var i,a,r,n,o;for(i in t)if(a=D(i),r=e[a],n=t[i],Array.isArray(n)&&(r=n[1],n=t[i]=n[0]),i!==a&&(t[a]=n,delete t[i]),(o=Et.cssHooks[a])&&"expand"in o){n=o.expand(n),delete t[a];for(i in n)i in t||(t[i]=n[i],e[i]=r)}else e[a]=r}function et(t,e,i){var a,r,n=0,o=et.prefilters.length,s=Et.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=be||J(),i=Math.max(0,h.startTime+h.duration-e),a=i/h.duration||0,n=1-a,o=0,l=h.tweens.length;o<l;o++)h.tweens[o].run(n);return s.notifyWith(t,[h,n,i]),n<1&&l?i:(l||s.notifyWith(t,[h,1,0]),s.resolveWith(t,[h]),!1)},h=s.promise({elem:t,props:Et.extend({},e),opts:Et.extend(!0,{specialEasing:{},easing:Et.easing._default},i),originalProperties:e,originalOptions:i,startTime:be||J(),duration:i.duration,tweens:[],createTween:function(e,i){var a=Et.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(a),a},stop:function(e){var i=0,a=e?h.tweens.length:0;if(r)return this;for(r=!0;i<a;i++)h.tweens[i].run(1);return e?(s.notifyWith(t,[h,1,0]),s.resolveWith(t,[h,e])):s.rejectWith(t,[h,e]),this}}),u=h.props;for(tt(u,h.opts.specialEasing);n<o;n++)if(a=et.prefilters[n].call(h,t,u,h.opts))return It(a.stop)&&(Et._queueHooks(h.elem,h.opts.queue).stop=a.stop.bind(a)),a;return Et.map(u,Z,h),It(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),Et.fx.timer(Et.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h}function it(t){return(t.match(Bt)||[]).join(" ")}function at(t){return t.getAttribute&&t.getAttribute("class")||""}function rt(t){return Array.isArray(t)?t:"string"==typeof t?t.match(Bt)||[]:[]}function nt(t,e,i,a){var r;if(Array.isArray(e))Et.each(e,function(e,r){i||Re.test(t)?a(t,r):nt(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,a)});else if(i||"object"!==s(e))a(t,e);else for(r in e)nt(t+"["+r+"]",e[r],i,a)}function ot(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var a,r=0,n=e.toLowerCase().match(Bt)||[];if(It(i))for(;a=n[r++];)"+"===a[0]?(a=a.slice(1)||"*",(t[a]=t[a]||[]).unshift(i)):(t[a]=t[a]||[]).push(i)}}function st(t,e,i,a){function r(s){var l;return n[s]=!0,Et.each(t[s]||[],function(t,s){var h=s(e,i,a);return"string"!=typeof h||o||n[h]?o?!(l=h):void 0:(e.dataTypes.unshift(h),r(h),!1)}),l}var n={},o=t===$e;return r(e.dataTypes[0])||!n["*"]&&r("*")}function lt(t,e){var i,a,r=Et.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:a||(a={}))[i]=e[i]);return a&&Et.extend(!0,t,a),t}function ht(t,e,i){for(var a,r,n,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=t.mimeType||e.getResponseHeader("Content-Type"));if(a)for(r in s)if(s[r]&&s[r].test(a)){l.unshift(r);break}if(l[0]in i)n=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){n=r;break}o||(o=r)}n=n||o}if(n)return n!==l[0]&&l.unshift(n),i[n]}function ut(t,e,i,a){var r,n,o,s,l,h={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)h[o.toLowerCase()]=t.converters[o];for(n=u.shift();n;)if(t.responseFields[n]&&(i[t.responseFields[n]]=e),!l&&a&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=n,n=u.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(!(o=h[l+" "+n]||h["* "+n]))for(r in h)if(s=r.split(" "),s[1]===n&&(o=h[l+" "+s[0]]||h["* "+s[0]])){!0===o?o=h[r]:!0!==h[r]&&(n=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+n}}}return{state:"success",data:e}}var ct=[],dt=Object.getPrototypeOf,ft=ct.slice,pt=ct.flat?function(t){return ct.flat.call(t)}:function(t){return ct.concat.apply([],t)},mt=ct.push,Ct=ct.indexOf,vt={},Dt=vt.toString,gt=vt.hasOwnProperty,St=gt.toString,xt=St.call(Object),bt={},It=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},Tt=function(t){return null!=t&&t===t.window},yt=i.document,wt={type:!0,src:!0,nonce:!0,noModule:!0},Et=function(t,e){return new Et.fn.init(t,e)};Et.fn=Et.prototype={jquery:"3.6.0",constructor:Et,length:0,toArray:function(){return ft.call(this)},get:function(t){return null==t?ft.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Et.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Et.each(this,t)},map:function(t){return this.pushStack(Et.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(ft.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Et.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(Et.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:mt,sort:ct.sort,splice:ct.splice},Et.extend=Et.fn.extend=function(){var t,e,i,a,r,n,o=arguments[0]||{},s=1,l=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[s]||{},s++),"object"==typeof o||It(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)a=t[e],"__proto__"!==e&&o!==a&&(h&&a&&(Et.isPlainObject(a)||(r=Array.isArray(a)))?(i=o[e],n=r&&!Array.isArray(i)?[]:r||Et.isPlainObject(i)?i:{},r=!1,o[e]=Et.extend(h,n,a)):void 0!==a&&(o[e]=a));return o},Et.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==Dt.call(t))&&(!(e=dt(t))||"function"==typeof(i=gt.call(e,"constructor")&&e.constructor)&&St.call(i)===xt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){o(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,a=0;if(l(t))for(i=t.length;a<i&&!1!==e.call(t[a],a,t[a]);a++);else for(a in t)if(!1===e.call(t[a],a,t[a]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(l(Object(t))?Et.merge(i,"string"==typeof t?[t]:t):mt.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:Ct.call(e,t,i)},merge:function(t,e){for(var i=+e.length,a=0,r=t.length;a<i;a++)t[r++]=e[a];return t.length=r,t},grep:function(t,e,i){for(var a=[],r=0,n=t.length,o=!i;r<n;r++)!e(t[r],r)!==o&&a.push(t[r]);return a},map:function(t,e,i){var a,r,n=0,o=[];if(l(t))for(a=t.length;n<a;n++)null!=(r=e(t[n],n,i))&&o.push(r);else for(n in t)null!=(r=e(t[n],n,i))&&o.push(r);return pt(o)},guid:1,support:bt}),"function"==typeof Symbol&&(Et.fn[Symbol.iterator]=ct[Symbol.iterator]),Et.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){vt["[object "+e+"]"]=e.toLowerCase()});var Ft=/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(t){function e(t,e,i,a){var r,n,o,s,l,u,d,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!a&&(M(e),e=e||A,N)){if(11!==p&&(l=vt.exec(t)))if(r=l[1]){if(9===p){if(!(o=e.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(f&&(o=f.getElementById(r))&&B(e,o)&&o.id===r)return i.push(o),i}else{if(l[2])return q.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&S.getElementsByClassName&&e.getElementsByClassName)return q.apply(i,e.getElementsByClassName(r)),i}if(S.qsa&&!U[t+" "]&&(!_||!_.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(d=t,f=e,1===p&&(ht.test(t)||lt.test(t))){for(f=Dt.test(t)&&h(e.parentNode)||e,f===e&&S.scope||((s=e.getAttribute("id"))?s=s.replace(xt,bt):e.setAttribute("id",s=k)),u=T(t),n=u.length;n--;)u[n]=(s?"#"+s:":scope")+" "+c(u[n]);d=u.join(",")}try{return q.apply(i,f.querySelectorAll(d)),i}catch(e){U(t,!0)}finally{s===k&&e.removeAttribute("id")}}}return w(t.replace(ot,"$1"),e,i,a)}function i(){function t(i,a){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=a}var e=[];return t}function a(t){return t[k]=!0,t}function r(t){var e=A.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function n(t,e){for(var i=t.split("|"),a=i.length;a--;)x.attrHandle[i[a]]=e}function o(t,e){var i=e&&t,a=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(a)return a;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Tt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function l(t){return a(function(e){return e=+e,a(function(i,a){for(var r,n=t([],i.length,e),o=n.length;o--;)i[r=n[o]]&&(i[r]=!(a[r]=i[r]))})})}function h(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function c(t){for(var e=0,i=t.length,a="";e<i;e++)a+=t[e].value;return a}function d(t,e,i){var a=e.dir,r=e.next,n=r||a,o=i&&"parentNode"===n,s=H++;return e.first?function(e,i,r){for(;e=e[a];)if(1===e.nodeType||o)return t(e,i,r);return!1}:function(e,i,l){var h,u,c,d=[G,s];if(l){for(;e=e[a];)if((1===e.nodeType||o)&&t(e,i,l))return!0}else for(;e=e[a];)if(1===e.nodeType||o)if(c=e[k]||(e[k]={}),u=c[e.uniqueID]||(c[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[a]||e;else{if((h=u[n])&&h[0]===G&&h[1]===s)return d[2]=h[2];if(u[n]=d,d[2]=t(e,i,l))return!0}return!1}}function f(t){return t.length>1?function(e,i,a){for(var r=t.length;r--;)if(!t[r](e,i,a))return!1;return!0}:t[0]}function p(t,i,a){for(var r=0,n=i.length;r<n;r++)e(t,i[r],a);return a}function m(t,e,i,a,r){for(var n,o=[],s=0,l=t.length,h=null!=e;s<l;s++)(n=t[s])&&(i&&!i(n,a,r)||(o.push(n),h&&e.push(s)));return o}function C(t,e,i,r,n,o){return r&&!r[k]&&(r=C(r)),n&&!n[k]&&(n=C(n,o)),a(function(a,o,s,l){var h,u,c,d=[],f=[],C=o.length,v=a||p(e||"*",s.nodeType?[s]:s,[]),D=!t||!a&&e?v:m(v,d,t,s,l),g=i?n||(a?t:C||r)?[]:o:D;if(i&&i(D,g,s,l),r)for(h=m(g,f),r(h,[],s,l),u=h.length;u--;)(c=h[u])&&(g[f[u]]=!(D[f[u]]=c));if(a){if(n||t){if(n){for(h=[],u=g.length;u--;)(c=g[u])&&h.push(D[u]=c);n(null,g=[],h,l)}for(u=g.length;u--;)(c=g[u])&&(h=n?Q(a,c):d[u])>-1&&(a[h]=!(o[h]=c))}}else g=m(g===o?g.splice(C,g.length):g),n?n(null,o,g,l):q.apply(o,g)})}function v(t){for(var e,i,a,r=t.length,n=x.relative[t[0].type],o=n||x.relative[" "],s=n?1:0,l=d(function(t){return t===e},o,!0),h=d(function(t){return Q(e,t)>-1},o,!0),u=[function(t,i,a){var r=!n&&(a||i!==E)||((e=i).nodeType?l(t,i,a):h(t,i,a));return e=null,r}];s<r;s++)if(i=x.relative[t[s].type])u=[d(f(u),i)];else{if(i=x.filter[t[s].type].apply(null,t[s].matches),i[k]){for(a=++s;a<r&&!x.relative[t[a].type];a++);return C(s>1&&f(u),s>1&&c(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ot,"$1"),i,s<a&&v(t.slice(s,a)),a<r&&v(t=t.slice(a)),a<r&&c(t))}u.push(i)}return f(u)}function D(t,i){var r=i.length>0,n=t.length>0,o=function(a,o,s,l,h){var u,c,d,f=0,p="0",C=a&&[],v=[],D=E,g=a||n&&x.find.TAG("*",h),S=G+=null==D?1:Math.random()||.1,b=g.length;for(h&&(E=o==A||o||h);p!==b&&null!=(u=g[p]);p++){if(n&&u){for(c=0,o||u.ownerDocument==A||(M(u),s=!N);d=t[c++];)if(d(u,o||A,s)){l.push(u);break}h&&(G=S)}r&&((u=!d&&u)&&f--,a&&C.push(u))}if(f+=p,r&&p!==f){for(c=0;d=i[c++];)d(C,v,o,s);if(a){if(f>0)for(;p--;)C[p]||v[p]||(v[p]=j.call(l));v=m(v)}q.apply(l,v),h&&!a&&v.length>0&&f+i.length>1&&e.uniqueSort(l)}return h&&(G=S,E=D),C};return r?a(o):o}var g,S,x,b,I,T,y,w,E,F,L,M,A,O,N,_,P,R,B,k="sizzle"+1*new Date,V=t.document,G=0,H=0,Y=i(),X=i(),W=i(),U=i(),z=function(t,e){return t===e&&(L=!0),0},K={}.hasOwnProperty,$=[],j=$.pop,J=$.push,q=$.push,Z=$.slice,Q=function(t,e){for(var i=0,a=t.length;i<a;i++)if(t[i]===e)return i;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",et="[\\x20\\t\\r\\n\\f]",it="(?:\\\\[\\da-fA-F]{1,6}"+et+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",at="\\["+et+"*("+it+")(?:"+et+"*([*^$|!~]?=)"+et+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+et+"*\\]",rt=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",nt=new RegExp(et+"+","g"),ot=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=new RegExp("^"+et+"*,"+et+"*"),lt=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),ht=new RegExp(et+"|>"),ut=new RegExp(rt),ct=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ft=/HTML$/i,pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,Ct=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Dt=/[+~]/,gt=new RegExp("\\\\[\\da-fA-F]{1,6}"+et+"?|\\\\([^\\r\\n\\f])","g"),St=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,bt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},It=function(){M()},Tt=d(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{q.apply($=Z.call(V.childNodes),V.childNodes),$[V.childNodes.length].nodeType}catch(t){q={apply:$.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,a=0;t[i++]=e[a++];);t.length=i-1}}}S=e.support={},I=e.isXML=function(t){var e=t&&t.namespaceURI,i=t&&(t.ownerDocument||t).documentElement;return!ft.test(e||i&&i.nodeName||"HTML")},M=e.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:V;return a!=A&&9===a.nodeType&&a.documentElement?(A=a,O=A.documentElement,N=!I(A),V!=A&&(i=A.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",It,!1):i.attachEvent&&i.attachEvent("onunload",It)),S.scope=r(function(t){return O.appendChild(t).appendChild(A.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),S.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),S.getElementsByTagName=r(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),S.getElementsByClassName=Ct.test(A.getElementsByClassName),S.getById=r(function(t){return O.appendChild(t).id=k,!A.getElementsByName||!A.getElementsByName(k).length}),S.getById?(x.filter.ID=function(t){var e=t.replace(gt,St);return function(t){return t.getAttribute("id")===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&N){var i=e.getElementById(t);return i?[i]:[]}}):(x.filter.ID=function(t){var e=t.replace(gt,St);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},x.find.ID=function(t,e){if(void 0!==e.getElementById&&N){var i,a,r,n=e.getElementById(t);if(n){if((i=n.getAttributeNode("id"))&&i.value===t)return[n];for(r=e.getElementsByName(t),a=0;n=r[a++];)if((i=n.getAttributeNode("id"))&&i.value===t)return[n]}return[]}}),x.find.TAG=S.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):S.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,a=[],r=0,n=e.getElementsByTagName(t);if("*"===t){for(;i=n[r++];)1===i.nodeType&&a.push(i);return a}return n},x.find.CLASS=S.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&N)return e.getElementsByClassName(t)},P=[],_=[],(S.qsa=Ct.test(A.querySelectorAll))&&(r(function(t){var e;O.appendChild(t).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+et+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||_.push("\\["+et+"*(?:value|"+tt+")"),t.querySelectorAll("[id~="+k+"-]").length||_.push("~="),e=A.createElement("input"),e.setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||_.push("\\["+et+"*name"+et+"*="+et+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||_.push(":checked"),t.querySelectorAll("a#"+k+"+*").length||_.push(".#.+[+~]"),t.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&_.push("name"+et+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),O.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),_.push(",.*:")})),(S.matchesSelector=Ct.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){S.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),P.push("!=",rt)}),_=_.length&&new RegExp(_.join("|")),P=P.length&&new RegExp(P.join("|")),e=Ct.test(O.compareDocumentPosition),B=e||Ct.test(O.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,a=e&&e.parentNode;return t===a||!(!a||1!==a.nodeType||!(i.contains?i.contains(a):t.compareDocumentPosition&&16&t.compareDocumentPosition(a)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return L=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!S.sortDetached&&e.compareDocumentPosition(t)===i?t==A||t.ownerDocument==V&&B(V,t)?-1:e==A||e.ownerDocument==V&&B(V,e)?1:F?Q(F,t)-Q(F,e):0:4&i?-1:1)}:function(t,e){if(t===e)return L=!0,0;var i,a=0,r=t.parentNode,n=e.parentNode,s=[t],l=[e];if(!r||!n)return t==A?-1:e==A?1:r?-1:n?1:F?Q(F,t)-Q(F,e):0;if(r===n)return o(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;s[a]===l[a];)a++;return a?o(s[a],l[a]):s[a]==V?-1:l[a]==V?1:0},A):A},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if(M(t),S.matchesSelector&&N&&!U[i+" "]&&(!P||!P.test(i))&&(!_||!_.test(i)))try{var a=R.call(t,i);if(a||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return a}catch(t){U(i,!0)}return e(i,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!=A&&M(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!=A&&M(t);var i=x.attrHandle[e.toLowerCase()],a=i&&K.call(x.attrHandle,e.toLowerCase())?i(t,e,!N):void 0;return void 0!==a?a:S.attributes||!N?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},e.escape=function(t){return(t+"").replace(xt,bt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],a=0,r=0;if(L=!S.detectDuplicates,F=!S.sortStable&&t.slice(0),t.sort(z),L){for(;e=t[r++];)e===t[r]&&(a=i.push(r));for(;a--;)t.splice(i[a],1)}return F=null,t},b=e.getText=function(t){var e,i="",a=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=b(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[a++];)i+=b(e);return i},x=e.selectors={cacheLength:50,createPseudo:a,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(gt,St),t[3]=(t[3]||t[4]||t[5]||"").replace(gt,St),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(gt,St).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Y[t+" "];return e||(e=new RegExp("(^|"+et+")"+t+"("+et+"|$)"))&&Y(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,a){return function(r){var n=e.attr(r,t);return null==n?"!="===i:!i||(n+="","="===i?n===a:"!="===i?n!==a:"^="===i?a&&0===n.indexOf(a):"*="===i?a&&n.indexOf(a)>-1:"$="===i?a&&n.slice(-a.length)===a:"~="===i?(" "+n.replace(nt," ")+" ").indexOf(a)>-1:"|="===i&&(n===a||n.slice(0,a.length+1)===a+"-"))}},CHILD:function(t,e,i,a,r){var n="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===a&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var h,u,c,d,f,p,m=n!==o?"nextSibling":"previousSibling",C=e.parentNode,v=s&&e.nodeName.toLowerCase(),D=!l&&!s,g=!1;if(C){if(n){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?C.firstChild:C.lastChild],o&&D){for(d=C,c=d[k]||(d[k]={}),u=c[d.uniqueID]||(c[d.uniqueID]={}),h=u[t]||[],f=h[0]===G&&h[1],g=f&&h[2],d=f&&C.childNodes[f];d=++f&&d&&d[m]||(g=f=0)||p.pop();)if(1===d.nodeType&&++g&&d===e){u[t]=[G,f,g];break}}else if(D&&(d=e,c=d[k]||(d[k]={}),u=c[d.uniqueID]||(c[d.uniqueID]={}),h=u[t]||[],f=h[0]===G&&h[1],g=f),!1===g)for(;(d=++f&&d&&d[m]||(g=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++g||(D&&(c=d[k]||(d[k]={}),u=c[d.uniqueID]||(c[d.uniqueID]={}),u[t]=[G,g]),d!==e)););return(g-=r)===a||g%a==0&&g/a>=0}}},PSEUDO:function(t,i){var r,n=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return n[k]?n(i):n.length>1?(r=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?a(function(t,e){for(var a,r=n(t,i),o=r.length;o--;)a=Q(t,r[o]),t[a]=!(e[a]=r[o])}):function(t){return n(t,0,r)}):n}},pseudos:{not:a(function(t){var e=[],i=[],r=y(t.replace(ot,"$1"));return r[k]?a(function(t,e,i,a){for(var n,o=r(t,null,a,[]),s=t.length;s--;)(n=o[s])&&(t[s]=!(e[s]=n))}):function(t,a,n){return e[0]=t,r(e,null,n,i),e[0]=null,!i.pop()}}),has:a(function(t){return function(i){return e(t,i).length>0}}),contains:a(function(t){return t=t.replace(gt,St),function(e){return(e.textContent||b(e)).indexOf(t)>-1}}),lang:a(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(gt,St).toLowerCase(),function(e){var i;do{if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[i<0?i+e:i]}),even:l(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var a=i<0?i+e:i>e?e:i;--a>=0;)t.push(a);return t}),gt:l(function(t,e,i){for(var a=i<0?i+e:i;++a<e;)t.push(a);return t})}},x.pseudos.nth=x.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[g]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(g);for(g in{submit:!0,reset:!0})x.pseudos[g]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(g);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,T=e.tokenize=function(t,i){var a,r,n,o,s,l,h,u=X[t+" "];if(u)return i?0:u.slice(0);for(s=t,l=[],h=x.preFilter;s;){a&&!(r=st.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(n=[])),a=!1,(r=lt.exec(s))&&(a=r.shift(),n.push({value:a,type:r[0].replace(ot," ")}),s=s.slice(a.length));for(o in x.filter)!(r=dt[o].exec(s))||h[o]&&!(r=h[o](r))||(a=r.shift(),n.push({value:a,type:o,matches:r}),s=s.slice(a.length));if(!a)break}return i?s.length:s?e.error(t):X(t,l).slice(0)},y=e.compile=function(t,e){var i,a=[],r=[],n=W[t+" "];if(!n){for(e||(e=T(t)),i=e.length;i--;)n=v(e[i]),n[k]?a.push(n):r.push(n);n=W(t,D(r,a)),n.selector=t}return n},w=e.select=function(t,e,i,a){var r,n,o,s,l,u="function"==typeof t&&t,d=!a&&T(t=u.selector||t);if(i=i||[],1===d.length){if(n=d[0]=d[0].slice(0),n.length>2&&"ID"===(o=n[0]).type&&9===e.nodeType&&N&&x.relative[n[1].type]){if(!(e=(x.find.ID(o.matches[0].replace(gt,St),e)||[])[0]))return i;u&&(e=e.parentNode),t=t.slice(n.shift().value.length)}for(r=dt.needsContext.test(t)?0:n.length;r--&&(o=n[r],!x.relative[s=o.type]);)if((l=x.find[s])&&(a=l(o.matches[0].replace(gt,St),Dt.test(n[0].type)&&h(e.parentNode)||e))){if(n.splice(r,1),!(t=a.length&&c(n)))return q.apply(i,a),i;break}}return(u||y(t,d))(a,e,!N,i,!e||Dt.test(t)&&h(e.parentNode)||e),i},S.sortStable=k.split("").sort(z).join("")===k,S.detectDuplicates=!!L,M(),S.sortDetached=r(function(t){return 1&t.compareDocumentPosition(A.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||n("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),S.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||n("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||n(tt,function(t,e,i){var a;if(!i)return!0===t[e]?e.toLowerCase():(a=t.getAttributeNode(e))&&a.specified?a.value:null}),e}(i);Et.find=Ft,Et.expr=Ft.selectors,Et.expr[":"]=Et.expr.pseudos,Et.uniqueSort=Et.unique=Ft.uniqueSort,Et.text=Ft.getText,Et.isXMLDoc=Ft.isXML,Et.contains=Ft.contains,Et.escapeSelector=Ft.escape;var Lt=function(t,e,i){for(var a=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Et(t).is(i))break;a.push(t)}return a},Mt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},At=Et.expr.match.needsContext,Ot=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Et.filter=function(t,e,i){var a=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===a.nodeType?Et.find.matchesSelector(a,t)?[a]:[]:Et.find.matches(t,Et.grep(e,function(t){return 1===t.nodeType}))},Et.fn.extend({find:function(t){var e,i,a=this.length,r=this;if("string"!=typeof t)return this.pushStack(Et(t).filter(function(){for(e=0;e<a;e++)if(Et.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<a;e++)Et.find(t,r[e],i);return a>1?Et.uniqueSort(i):i},filter:function(t){return this.pushStack(u(this,t||[],!1))},not:function(t){return this.pushStack(u(this,t||[],!0))},is:function(t){return!!u(this,"string"==typeof t&&At.test(t)?Et(t):t||[],!1).length}});var Nt,_t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Et.fn.init=function(t,e,i){var a,r;if(!t)return this;if(i=i||Nt,"string"==typeof t){if(!(a="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:_t.exec(t))||!a[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(a[1]){if(e=e instanceof Et?e[0]:e,Et.merge(this,Et.parseHTML(a[1],e&&e.nodeType?e.ownerDocument||e:yt,!0)),Ot.test(a[1])&&Et.isPlainObject(e))for(a in e)It(this[a])?this[a](e[a]):this.attr(a,e[a]);return this}return r=yt.getElementById(a[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):It(t)?void 0!==i.ready?i.ready(t):t(Et):Et.makeArray(t,this)}).prototype=Et.fn,Nt=Et(yt);var Pt=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};Et.fn.extend({has:function(t){var e=Et(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(Et.contains(this,e[t]))return!0})},closest:function(t,e){var i,a=0,r=this.length,n=[],o="string"!=typeof t&&Et(t);if(!At.test(t))for(;a<r;a++)for(i=this[a];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&Et.find.matchesSelector(i,t))){n.push(i);break}return this.pushStack(n.length>1?Et.uniqueSort(n):n)},index:function(t){return t?"string"==typeof t?Ct.call(Et(t),this[0]):Ct.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Et.uniqueSort(Et.merge(this.get(),Et(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Et.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Lt(t,"parentNode")},parentsUntil:function(t,e,i){return Lt(t,"parentNode",i)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return Lt(t,"nextSibling")},prevAll:function(t){return Lt(t,"previousSibling")},nextUntil:function(t,e,i){return Lt(t,"nextSibling",i)},prevUntil:function(t,e,i){return Lt(t,"previousSibling",i)},siblings:function(t){return Mt((t.parentNode||{}).firstChild,t)},children:function(t){return Mt(t.firstChild)},contents:function(t){return null!=t.contentDocument&&dt(t.contentDocument)?t.contentDocument:(h(t,"template")&&(t=t.content||t),Et.merge([],t.childNodes))}},function(t,e){Et.fn[t]=function(i,a){var r=Et.map(this,e,i);return"Until"!==t.slice(-5)&&(a=i),a&&"string"==typeof a&&(r=Et.filter(a,r)),this.length>1&&(Rt[t]||Et.uniqueSort(r),Pt.test(t)&&r.reverse()),this.pushStack(r)}});var Bt=/[^\x20\t\r\n\f]+/g;Et.Callbacks=function(t){t="string"==typeof t?d(t):Et.extend({},t);var e,i,a,r,n=[],o=[],l=-1,h=function(){for(r=r||t.once,a=e=!0;o.length;l=-1)for(i=o.shift();++l<n.length;)!1===n[l].apply(i[0],i[1])&&t.stopOnFalse&&(l=n.length,i=!1);t.memory||(i=!1),e=!1,r&&(n=i?[]:"")},u={add:function(){return n&&(i&&!e&&(l=n.length-1,o.push(i)),function e(i){Et.each(i,function(i,a){It(a)?t.unique&&u.has(a)||n.push(a):a&&a.length&&"string"!==s(a)&&e(a)})}(arguments),i&&!e&&h()),this},remove:function(){return Et.each(arguments,function(t,e){for(var i;(i=Et.inArray(e,n,i))>-1;)n.splice(i,1),i<=l&&l--}),this},has:function(t){return t?Et.inArray(t,n)>-1:n.length>0},empty:function(){return n&&(n=[]),this},disable:function(){return r=o=[],n=i="",this},disabled:function(){return!n},lock:function(){return r=o=[],i||e||(n=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],o.push(i),e||h()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!a}};return u},Et.extend({Deferred:function(t){var e=[["notify","progress",Et.Callbacks("memory"),Et.Callbacks("memory"),2],["resolve","done",Et.Callbacks("once memory"),Et.Callbacks("once memory"),0,"resolved"],["reject","fail",Et.Callbacks("once memory"),Et.Callbacks("once memory"),1,"rejected"]],a="pending",r={state:function(){return a},always:function(){return n.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return Et.Deferred(function(i){Et.each(e,function(e,a){var r=It(t[a[4]])&&t[a[4]];n[a[1]](function(){var t=r&&r.apply(this,arguments);t&&It(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[a[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,a,r){function n(t,e,a,r){return function(){var s=this,l=arguments,h=function(){var i,h;if(!(t<o)){if((i=a.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");h=i&&("object"==typeof i||"function"==typeof i)&&i.then,It(h)?r?h.call(i,n(o,e,f,r),n(o,e,p,r)):(o++,h.call(i,n(o,e,f,r),n(o,e,p,r),n(o,e,f,e.notifyWith))):(a!==f&&(s=void 0,l=[i]),(r||e.resolveWith)(s,l))}},u=r?h:function(){try{h()}catch(i){Et.Deferred.exceptionHook&&Et.Deferred.exceptionHook(i,u.stackTrace),t+1>=o&&(a!==p&&(s=void 0,l=[i]),e.rejectWith(s,l))}};t?u():(Et.Deferred.getStackHook&&(u.stackTrace=Et.Deferred.getStackHook()),i.setTimeout(u))}}var o=0;return Et.Deferred(function(i){e[0][3].add(n(0,i,It(r)?r:f,i.notifyWith)),e[1][3].add(n(0,i,It(t)?t:f)),e[2][3].add(n(0,i,It(a)?a:p))}).promise()},promise:function(t){return null!=t?Et.extend(t,r):r}},n={};return Et.each(e,function(t,i){var o=i[2],s=i[5];r[i[1]]=o.add,s&&o.add(function(){a=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(i[3].fire),n[i[0]]=function(){return n[i[0]+"With"](this===n?void 0:this,arguments),this},n[i[0]+"With"]=o.fireWith}),r.promise(n),t&&t.call(n,n),n},when:function(t){var e=arguments.length,i=e,a=Array(i),r=ft.call(arguments),n=Et.Deferred(),o=function(t){return function(i){a[t]=this,r[t]=arguments.length>1?ft.call(arguments):i,--e||n.resolveWith(a,r)}};if(e<=1&&(m(t,n.done(o(i)).resolve,n.reject,!e),"pending"===n.state()||It(r[i]&&r[i].then)))return n.then();for(;i--;)m(r[i],o(i),n.reject);return n.promise()}});var kt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Et.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&kt.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},Et.readyException=function(t){i.setTimeout(function(){throw t})};var Vt=Et.Deferred();Et.fn.ready=function(t){return Vt.then(t).catch(function(t){Et.readyException(t)}),this},Et.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--Et.readyWait:Et.isReady)||(Et.isReady=!0,!0!==t&&--Et.readyWait>0||Vt.resolveWith(yt,[Et]))}}),Et.ready.then=Vt.then,"complete"===yt.readyState||"loading"!==yt.readyState&&!yt.documentElement.doScroll?i.setTimeout(Et.ready):(yt.addEventListener("DOMContentLoaded",C),i.addEventListener("load",C));var Gt=function(t,e,i,a,r,n,o){var l=0,h=t.length,u=null==i;if("object"===s(i)){r=!0;for(l in i)Gt(t,e,l,i[l],!0,n,o)}else if(void 0!==a&&(r=!0,It(a)||(o=!0),u&&(o?(e.call(t,a),e=null):(u=e,e=function(t,e,i){return u.call(Et(t),i)})),e))for(;l<h;l++)e(t[l],i,o?a:a.call(t[l],l,e(t[l],i)));return r?t:u?e.call(t):h?e(t[0],i):n},Ht=/^-ms-/,Yt=/-([a-z])/g,Xt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};g.uid=1,g.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Xt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var a,r=this.cache(t);if("string"==typeof e)r[D(e)]=i;else for(a in e)r[D(a)]=e[a];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][D(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,a=t[this.expando];if(void 0!==a){if(void 0!==e){Array.isArray(e)?e=e.map(D):(e=D(e),e=e in a?[e]:e.match(Bt)||[]),i=e.length;for(;i--;)delete a[e[i]]}(void 0===e||Et.isEmptyObject(a))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!Et.isEmptyObject(e)}};var Wt=new g,Ut=new g,zt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Kt=/[A-Z]/g;Et.extend({hasData:function(t){return Ut.hasData(t)||Wt.hasData(t)},data:function(t,e,i){return Ut.access(t,e,i)},removeData:function(t,e){Ut.remove(t,e)},_data:function(t,e,i){return Wt.access(t,e,i)},_removeData:function(t,e){Wt.remove(t,e)}}),Et.fn.extend({data:function(t,e){var i,a,r,n=this[0],o=n&&n.attributes;if(void 0===t){if(this.length&&(r=Ut.get(n),1===n.nodeType&&!Wt.get(n,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(a=o[i].name,0===a.indexOf("data-")&&(a=D(a.slice(5)),x(n,a,r[a])));Wt.set(n,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Ut.set(this,t)}):Gt(this,function(e){var i;if(n&&void 0===e){if(void 0!==(i=Ut.get(n,t)))return i;if(void 0!==(i=x(n,t)))return i}else this.each(function(){Ut.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ut.remove(this,t)})}}),Et.extend({queue:function(t,e,i){var a;if(t)return e=(e||"fx")+"queue",a=Wt.get(t,e),i&&(!a||Array.isArray(i)?a=Wt.access(t,e,Et.makeArray(i)):a.push(i)),a||[]},dequeue:function(t,e){e=e||"fx";var i=Et.queue(t,e),a=i.length,r=i.shift(),n=Et._queueHooks(t,e),o=function(){Et.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),a--),r&&("fx"===e&&i.unshift("inprogress"),delete n.stop,r.call(t,o,n)),!a&&n&&n.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Wt.get(t,i)||Wt.access(t,i,{empty:Et.Callbacks("once memory").add(function(){Wt.remove(t,[e+"queue",i])})})}}),Et.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Et.queue(this[0],t):void 0===e?this:this.each(function(){var i=Et.queue(this,t,e);Et._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Et.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Et.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,a=1,r=Et.Deferred(),n=this,o=this.length,s=function(){--a||r.resolveWith(n,[n])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=Wt.get(n[o],t+"queueHooks"))&&i.empty&&(a++,i.empty.add(s));return s(),r.promise(e)}});var $t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jt=new RegExp("^(?:([+-])=|)("+$t+")([a-z%]*)$","i"),Jt=["Top","Right","Bottom","Left"],qt=yt.documentElement,Zt=function(t){return Et.contains(t.ownerDocument,t)},Qt={composed:!0};qt.getRootNode&&(Zt=function(t){return Et.contains(t.ownerDocument,t)||t.getRootNode(Qt)===t.ownerDocument});var te=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&Zt(t)&&"none"===Et.css(t,"display")},ee={};Et.fn.extend({show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){te(this)?Et(this).show():Et(this).hide()})}});var ie=/^(?:checkbox|radio)$/i,ae=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,re=/^$|^module$|\/(?:java|ecma)script/i;!function(){var t=yt.createDocumentFragment(),e=t.appendChild(yt.createElement("div")),i=yt.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),bt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",bt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",bt.option=!!e.lastChild}();var ne={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ne.tbody=ne.tfoot=ne.colgroup=ne.caption=ne.thead,ne.th=ne.td,bt.option||(ne.optgroup=ne.option=[1,"<select multiple='multiple'>","</select>"]);var oe=/<|&#?\w+;/,se=/^([^.]*)(?:\.(.+)|)/;Et.event={global:{},add:function(t,e,i,a,r){var n,o,s,l,h,u,c,d,f,p,m,C=Wt.get(t);if(Xt(t))for(i.handler&&(n=i,i=n.handler,r=n.selector),r&&Et.find.matchesSelector(qt,r),i.guid||(i.guid=Et.guid++),(l=C.events)||(l=C.events=Object.create(null)),(o=C.handle)||(o=C.handle=function(e){return void 0!==Et&&Et.event.triggered!==e.type?Et.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Bt)||[""],h=e.length;h--;)s=se.exec(e[h])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f&&(c=Et.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=Et.event.special[f]||{},u=Et.extend({type:f,origType:m,data:a,handler:i,guid:i.guid,selector:r,needsContext:r&&Et.expr.match.needsContext.test(r),namespace:p.join(".")},n),(d=l[f])||(d=l[f]=[],d.delegateCount=0,c.setup&&!1!==c.setup.call(t,a,p,o)||t.addEventListener&&t.addEventListener(f,o)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),Et.event.global[f]=!0)},remove:function(t,e,i,a,r){var n,o,s,l,h,u,c,d,f,p,m,C=Wt.hasData(t)&&Wt.get(t);if(C&&(l=C.events)){for(e=(e||"").match(Bt)||[""],h=e.length;h--;)if(s=se.exec(e[h])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(c=Et.event.special[f]||{},f=(a?c.delegateType:c.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=n=d.length;n--;)u=d[n],!r&&m!==u.origType||i&&i.guid!==u.guid||s&&!s.test(u.namespace)||a&&a!==u.selector&&("**"!==a||!u.selector)||(d.splice(n,1),u.selector&&d.delegateCount--,c.remove&&c.remove.call(t,u));o&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,p,C.handle)||Et.removeEvent(t,f,C.handle),delete l[f])}else for(f in l)Et.event.remove(t,f+e[h],i,a,!0);Et.isEmptyObject(l)&&Wt.remove(t,"handle events")}},dispatch:function(t){var e,i,a,r,n,o,s=new Array(arguments.length),l=Et.event.fix(t),h=(Wt.get(this,"events")||Object.create(null))[l.type]||[],u=Et.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=Et.event.handlers.call(this,l,h),e=0;(r=o[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(n=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==n.namespace&&!l.rnamespace.test(n.namespace)||(l.handleObj=n,l.data=n.data,void 0!==(a=((Et.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,s))&&!1===(l.result=a)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var i,a,r,n,o,s=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(n=[],o={},i=0;i<l;i++)a=e[i],r=a.selector+" ",void 0===o[r]&&(o[r]=a.needsContext?Et(r,this).index(h)>-1:Et.find(r,this,null,[h]).length),o[r]&&n.push(a);n.length&&s.push({elem:h,handlers:n})}return h=this,l<e.length&&s.push({elem:h,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(Et.Event.prototype,t,{enumerable:!0,configurable:!0,get:It(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[Et.expando]?t:new Et.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ie.test(e.type)&&e.click&&h(e,"input")&&N(e,"click",F),!1},trigger:function(t){var e=this||t;return ie.test(e.type)&&e.click&&h(e,"input")&&N(e,"click"),!0},_default:function(t){var e=t.target;return ie.test(e.type)&&e.click&&h(e,"input")&&Wt.get(e,"click")||h(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Et.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},Et.Event=function(t,e){if(!(this instanceof Et.Event))return new Et.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?F:L,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Et.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[Et.expando]=!0},Et.Event.prototype={constructor:Et.Event,isDefaultPrevented:L,isPropagationStopped:L,isImmediatePropagationStopped:L,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=F,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=F,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=F,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Et.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},Et.event.addProp),Et.each({focus:"focusin",blur:"focusout"},function(t,e){Et.event.special[t]={setup:function(){return N(this,t,M),!1},trigger:function(){return N(this,t),!0},_default:function(){return!0},delegateType:e}}),Et.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Et.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,a=this,r=t.relatedTarget,n=t.handleObj;return r&&(r===a||Et.contains(a,r))||(t.type=n.origType,i=n.handler.apply(this,arguments),t.type=e),i}}}),Et.fn.extend({on:function(t,e,i,a){return O(this,t,e,i,a)},one:function(t,e,i,a){return O(this,t,e,i,a,1)},off:function(t,e,i){var a,r;if(t&&t.preventDefault&&t.handleObj)return a=t.handleObj,Et(t.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=L),this.each(function(){Et.event.remove(this,t,i,e)})}});var le=/<script|<style|<link/i,he=/checked\s*(?:[^=]|=\s*.checked.)/i,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Et.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var a,r,n,o,s=t.cloneNode(!0),l=Zt(t);if(!(bt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Et.isXMLDoc(t)))for(o=y(s),n=y(t),a=0,r=n.length;a<r;a++)k(n[a],o[a]);if(e)if(i)for(n=n||y(t),o=o||y(s),a=0,r=n.length;a<r;a++)B(n[a],o[a]);else B(t,s);return o=y(s,"script"),o.length>0&&w(o,!l&&y(t,"script")),s},cleanData:function(t){for(var e,i,a,r=Et.event.special,n=0;void 0!==(i=t[n]);n++)if(Xt(i)){if(e=i[Wt.expando]){if(e.events)for(a in e.events)r[a]?Et.event.remove(i,a):Et.removeEvent(i,a,e.handle);i[Wt.expando]=void 0}i[Ut.expando]&&(i[Ut.expando]=void 0)}}}),Et.fn.extend({detach:function(t){return G(this,t,!0)},remove:function(t){return G(this,t)},text:function(t){return Gt(this,function(t){return void 0===t?Et.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return V(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){_(this,t).appendChild(t)}})},prepend:function(){return V(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return V(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return V(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Et.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Et.clone(this,t,e)})},html:function(t){return Gt(this,function(t){var e=this[0]||{},i=0,a=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!le.test(t)&&!ne[(ae.exec(t)||["",""])[1].toLowerCase()]){t=Et.htmlPrefilter(t);try{for(;i<a;i++)e=this[i]||{},1===e.nodeType&&(Et.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return V(this,arguments,function(e){var i=this.parentNode;Et.inArray(this,t)<0&&(Et.cleanData(y(this)),i&&i.replaceChild(e,this))},t)}}),Et.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Et.fn[t]=function(t){for(var i,a=[],r=Et(t),n=r.length-1,o=0;o<=n;o++)i=o===n?this:this.clone(!0),Et(r[o])[e](i),mt.apply(a,i.get());return this.pushStack(a)}});var ce=new RegExp("^("+$t+")(?!px)[a-z%]+$","i"),de=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=i),e.getComputedStyle(t)},fe=function(t,e,i){var a,r,n={};for(r in e)n[r]=t.style[r],t.style[r]=e[r];a=i.call(t);for(r in e)t.style[r]=n[r];return a},pe=new RegExp(Jt.join("|"),"i");!function(){function t(){if(u){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",qt.appendChild(h).appendChild(u);var t=i.getComputedStyle(u);a="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",o=36===e(t.right),r=36===e(t.width),u.style.position="absolute",n=12===e(u.offsetWidth/3),qt.removeChild(h),u=null}}function e(t){return Math.round(parseFloat(t))}var a,r,n,o,s,l,h=yt.createElement("div"),u=yt.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",bt.clearCloneStyle="content-box"===u.style.backgroundClip,Et.extend(bt,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),a},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),n},reliableTrDimensions:function(){var t,e,a,r;return null==s&&(t=yt.createElement("table"),e=yt.createElement("tr"),a=yt.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",a.style.height="9px",a.style.display="block",qt.appendChild(t).appendChild(e).appendChild(a),r=i.getComputedStyle(e),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===e.offsetHeight,qt.removeChild(t)),s}}))}();var me=["Webkit","Moz","ms"],Ce=yt.createElement("div").style,ve={},De=/^(none|table(?!-c[ea]).+)/,ge=/^--/,Se={position:"absolute",visibility:"hidden",display:"block"},xe={letterSpacing:"0",fontWeight:"400"};Et.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=H(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,a){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,n,o,s=D(e),l=ge.test(e),h=t.style;if(l||(e=W(s)),o=Et.cssHooks[e]||Et.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,a))?r:h[e];n=typeof i,"string"===n&&(r=jt.exec(i))&&r[1]&&(i=b(t,e,r),n="number"),null!=i&&i===i&&("number"!==n||l||(i+=r&&r[3]||(Et.cssNumber[s]?"":"px")),bt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,a))||(l?h.setProperty(e,i):h[e]=i))}},css:function(t,e,i,a){var r,n,o,s=D(e);return ge.test(e)||(e=W(s)),o=Et.cssHooks[e]||Et.cssHooks[s],o&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=H(t,e,a)),"normal"===r&&e in xe&&(r=xe[e]),""===i||i?(n=parseFloat(r),!0===i||isFinite(n)?n||0:r):r}}),Et.each(["height","width"],function(t,e){Et.cssHooks[e]={get:function(t,i,a){if(i)return!De.test(Et.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?K(t,e,a):fe(t,Se,function(){return K(t,e,a)})},set:function(t,i,a){var r,n=de(t),o=!bt.scrollboxSize()&&"absolute"===n.position,s=o||a,l=s&&"border-box"===Et.css(t,"boxSizing",!1,n),h=a?z(t,e,a,l,n):0;return l&&o&&(h-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(n[e])-z(t,e,"border",!1,n)-.5)),h&&(r=jt.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=Et.css(t,e)),U(t,i,h)}}}),Et.cssHooks.marginLeft=Y(bt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(H(t,"marginLeft"))||t.getBoundingClientRect().left-fe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),Et.each({margin:"",padding:"",border:"Width"},function(t,e){Et.cssHooks[t+e]={expand:function(i){for(var a=0,r={},n="string"==typeof i?i.split(" "):[i];a<4;a++)r[t+Jt[a]+e]=n[a]||n[a-2]||n[0];return r}},"margin"!==t&&(Et.cssHooks[t+e].set=U)}),Et.fn.extend({css:function(t,e){return Gt(this,function(t,e,i){var a,r,n={},o=0;if(Array.isArray(e)){for(a=de(t),r=e.length;o<r;o++)n[e[o]]=Et.css(t,e[o],!1,a);return n}return void 0!==i?Et.style(t,e,i):Et.css(t,e)},t,e,arguments.length>1)}}),Et.Tween=$,$.prototype={constructor:$,init:function(t,e,i,a,r,n){this.elem=t,this.prop=i,this.easing=r||Et.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=a,this.unit=n||(Et.cssNumber[i]?"":"px")},cur:function(){var t=$.propHooks[this.prop];return t&&t.get?t.get(this):$.propHooks._default.get(this)},run:function(t){var e,i=$.propHooks[this.prop];return this.options.duration?this.pos=e=Et.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=Et.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){Et.fx.step[t.prop]?Et.fx.step[t.prop](t):1!==t.elem.nodeType||!Et.cssHooks[t.prop]&&null==t.elem.style[W(t.prop)]?t.elem[t.prop]=t.now:Et.style(t.elem,t.prop,t.now+t.unit)}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Et.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},Et.fx=$.prototype.init,Et.fx.step={};var be,Ie,Te=/^(?:toggle|show|hide)$/,ye=/queueHooks$/;Et.Animation=Et.extend(et,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return b(i.elem,t,jt.exec(e),i),i}]},tweener:function(t,e){It(t)?(e=t,t=["*"]):t=t.match(Bt);for(var i,a=0,r=t.length;a<r;a++)i=t[a],et.tweeners[i]=et.tweeners[i]||[],et.tweeners[i].unshift(e)},prefilters:[Q],prefilter:function(t,e){e?et.prefilters.unshift(t):et.prefilters.push(t)}}),Et.speed=function(t,e,i){var a=t&&"object"==typeof t?Et.extend({},t):{complete:i||!i&&e||It(t)&&t,duration:t,easing:i&&e||e&&!It(e)&&e};return Et.fx.off?a.duration=0:"number"!=typeof a.duration&&(a.duration in Et.fx.speeds?a.duration=Et.fx.speeds[a.duration]:a.duration=Et.fx.speeds._default),null!=a.queue&&!0!==a.queue||(a.queue="fx"),a.old=a.complete,a.complete=function(){It(a.old)&&a.old.call(this),a.queue&&Et.dequeue(this,a.queue)},a},Et.fn.extend({fadeTo:function(t,e,i,a){return this.filter(te).css("opacity",0).show().end().animate({opacity:e},t,i,a)},animate:function(t,e,i,a){var r=Et.isEmptyObject(t),n=Et.speed(e,i,a),o=function(){var e=et(this,Et.extend({},t),n);(r||Wt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===n.queue?this.each(o):this.queue(n.queue,o)},stop:function(t,e,i){var a=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",n=Et.timers,o=Wt.get(this);if(r)o[r]&&o[r].stop&&a(o[r]);else for(r in o)o[r]&&o[r].stop&&ye.test(r)&&a(o[r]);for(r=n.length;r--;)n[r].elem!==this||null!=t&&n[r].queue!==t||(n[r].anim.stop(i),e=!1,n.splice(r,1));!e&&i||Et.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=Wt.get(this),a=i[t+"queue"],r=i[t+"queueHooks"],n=Et.timers,o=a?a.length:0;for(i.finish=!0,Et.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=n.length;e--;)n[e].elem===this&&n[e].queue===t&&(n[e].anim.stop(!0),n.splice(e,1));for(e=0;e<o;e++)a[e]&&a[e].finish&&a[e].finish.call(this);delete i.finish})}}),Et.each(["toggle","show","hide"],function(t,e){var i=Et.fn[e];Et.fn[e]=function(t,a,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(q(e,!0),t,a,r)}}),Et.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Et.fn[t]=function(t,i,a){return this.animate(e,t,i,a)}}),Et.timers=[],Et.fx.tick=function(){var t,e=0,i=Et.timers;for(be=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||Et.fx.stop(),be=void 0},Et.fx.timer=function(t){Et.timers.push(t),Et.fx.start()},Et.fx.interval=13,Et.fx.start=function(){Ie||(Ie=!0,j())},Et.fx.stop=function(){Ie=null},Et.fx.speeds={slow:600,fast:200,_default:400},Et.fn.delay=function(t,e){return t=Et.fx?Et.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,a){var r=i.setTimeout(e,t);a.stop=function(){i.clearTimeout(r)}})},function(){var t=yt.createElement("input"),e=yt.createElement("select"),i=e.appendChild(yt.createElement("option"));t.type="checkbox",bt.checkOn=""!==t.value,bt.optSelected=i.selected,t=yt.createElement("input"),t.value="t",t.type="radio",bt.radioValue="t"===t.value}();var we,Ee=Et.expr.attrHandle;Et.fn.extend({attr:function(t,e){return Gt(this,Et.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Et.removeAttr(this,t)})}}),Et.extend({attr:function(t,e,i){var a,r,n=t.nodeType;if(3!==n&&8!==n&&2!==n)return void 0===t.getAttribute?Et.prop(t,e,i):(1===n&&Et.isXMLDoc(t)||(r=Et.attrHooks[e.toLowerCase()]||(Et.expr.match.bool.test(e)?we:void 0)),void 0!==i?null===i?void Et.removeAttr(t,e):r&&"set"in r&&void 0!==(a=r.set(t,i,e))?a:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(a=r.get(t,e))?a:(a=Et.find.attr(t,e),null==a?void 0:a))},attrHooks:{type:{set:function(t,e){if(!bt.radioValue&&"radio"===e&&h(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,a=0,r=e&&e.match(Bt);if(r&&1===t.nodeType)for(;i=r[a++];)t.removeAttribute(i)}}),we={set:function(t,e,i){return!1===e?Et.removeAttr(t,i):t.setAttribute(i,i),i}},Et.each(Et.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Ee[e]||Et.find.attr;Ee[e]=function(t,e,a){var r,n,o=e.toLowerCase();return a||(n=Ee[o],Ee[o]=r,r=null!=i(t,e,a)?o:null,Ee[o]=n),r}});var Fe=/^(?:input|select|textarea|button)$/i,Le=/^(?:a|area)$/i;Et.fn.extend({prop:function(t,e){return Gt(this,Et.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Et.propFix[t]||t]})}}),Et.extend({prop:function(t,e,i){var a,r,n=t.nodeType;if(3!==n&&8!==n&&2!==n)return 1===n&&Et.isXMLDoc(t)||(e=Et.propFix[e]||e,r=Et.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(a=r.set(t,i,e))?a:t[e]=i:r&&"get"in r&&null!==(a=r.get(t,e))?a:t[e]},propHooks:{tabIndex:{get:function(t){var e=Et.find.attr(t,"tabindex");return e?parseInt(e,10):Fe.test(t.nodeName)||Le.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),bt.optSelected||(Et.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Et.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Et.propFix[this.toLowerCase()]=this}),Et.fn.extend({addClass:function(t){var e,i,a,r,n,o,s,l=0;if(It(t))return this.each(function(e){Et(this).addClass(t.call(this,e,at(this)))});if(e=rt(t),e.length)for(;i=this[l++];)if(r=at(i),a=1===i.nodeType&&" "+it(r)+" "){for(o=0;n=e[o++];)a.indexOf(" "+n+" ")<0&&(a+=n+" ");s=it(a),r!==s&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,a,r,n,o,s,l=0;if(It(t))return this.each(function(e){Et(this).removeClass(t.call(this,e,at(this)))});if(!arguments.length)return this.attr("class","");if(e=rt(t),e.length)for(;i=this[l++];)if(r=at(i),a=1===i.nodeType&&" "+it(r)+" "){for(o=0;n=e[o++];)for(;a.indexOf(" "+n+" ")>-1;)a=a.replace(" "+n+" "," ");s=it(a),r!==s&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t,a="string"===i||Array.isArray(t);return"boolean"==typeof e&&a?e?this.addClass(t):this.removeClass(t):It(t)?this.each(function(i){Et(this).toggleClass(t.call(this,i,at(this),e),e)}):this.each(function(){var e,r,n,o;if(a)for(r=0,n=Et(this),o=rt(t);e=o[r++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==t&&"boolean"!==i||(e=at(this),e&&Wt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Wt.get(this,"__className__")||""))})},hasClass:function(t){var e,i,a=0;for(e=" "+t+" ";i=this[a++];)if(1===i.nodeType&&(" "+it(at(i))+" ").indexOf(e)>-1)return!0;return!1}});var Me=/\r/g;Et.fn.extend({val:function(t){var e,i,a,r=this[0];{if(arguments.length)return a=It(t),this.each(function(i){var r;1===this.nodeType&&(r=a?t.call(this,i,Et(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=Et.map(r,function(t){return null==t?"":t+""})),(e=Et.valHooks[this.type]||Et.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=Et.valHooks[r.type]||Et.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(Me,""):null==i?"":i)}}}),Et.extend({valHooks:{option:{get:function(t){var e=Et.find.attr(t,"value");return null!=e?e:it(Et.text(t))}},select:{get:function(t){var e,i,a,r=t.options,n=t.selectedIndex,o="select-one"===t.type,s=o?null:[],l=o?n+1:r.length;for(a=n<0?l:o?n:0;a<l;a++)if(i=r[a],(i.selected||a===n)&&!i.disabled&&(!i.parentNode.disabled||!h(i.parentNode,"optgroup"))){if(e=Et(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,a,r=t.options,n=Et.makeArray(e),o=r.length;o--;)a=r[o],(a.selected=Et.inArray(Et.valHooks.option.get(a),n)>-1)&&(i=!0);return i||(t.selectedIndex=-1),n}}}}),Et.each(["radio","checkbox"],function(){Et.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=Et.inArray(Et(t).val(),e)>-1}},bt.checkOn||(Et.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),bt.focusin="onfocusin"in i;var Ae=/^(?:focusinfocus|focusoutblur)$/,Oe=function(t){t.stopPropagation()};Et.extend(Et.event,{trigger:function(t,e,a,r){var n,o,s,l,h,u,c,d,f=[a||yt],p=gt.call(t,"type")?t.type:t,m=gt.call(t,"namespace")?t.namespace.split("."):[];if(o=d=s=a=a||yt,3!==a.nodeType&&8!==a.nodeType&&!Ae.test(p+Et.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),h=p.indexOf(":")<0&&"on"+p,t=t[Et.expando]?t:new Et.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),e=null==e?[t]:Et.makeArray(e,[t]),c=Et.event.special[p]||{},r||!c.trigger||!1!==c.trigger.apply(a,e))){if(!r&&!c.noBubble&&!Tt(a)){for(l=c.delegateType||p,Ae.test(l+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),s=o;s===(a.ownerDocument||yt)&&f.push(s.defaultView||s.parentWindow||i)}for(n=0;(o=f[n++])&&!t.isPropagationStopped();)d=o,t.type=n>1?l:c.bindType||p,u=(Wt.get(o,"events")||Object.create(null))[t.type]&&Wt.get(o,"handle"),u&&u.apply(o,e),(u=h&&o[h])&&u.apply&&Xt(o)&&(t.result=u.apply(o,e),!1===t.result&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(f.pop(),e)||!Xt(a)||h&&It(a[p])&&!Tt(a)&&(s=a[h],s&&(a[h]=null),Et.event.triggered=p,t.isPropagationStopped()&&d.addEventListener(p,Oe),a[p](),t.isPropagationStopped()&&d.removeEventListener(p,Oe),Et.event.triggered=void 0,s&&(a[h]=s)),t.result}},simulate:function(t,e,i){var a=Et.extend(new Et.Event,i,{type:t,isSimulated:!0});Et.event.trigger(a,null,e)}}),Et.fn.extend({trigger:function(t,e){return this.each(function(){Et.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return Et.event.trigger(t,e,i,!0)}}),bt.focusin||Et.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){Et.event.simulate(e,t.target,Et.event.fix(t))};Et.event.special[e]={setup:function(){var a=this.ownerDocument||this.document||this,r=Wt.access(a,e);r||a.addEventListener(t,i,!0),Wt.access(a,e,(r||0)+1)},teardown:function(){var a=this.ownerDocument||this.document||this,r=Wt.access(a,e)-1;r?Wt.access(a,e,r):(a.removeEventListener(t,i,!0),Wt.remove(a,e))}}});var Ne=i.location,_e={guid:Date.now()},Pe=/\?/;Et.parseXML=function(t){var e,a;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(t){}return a=e&&e.getElementsByTagName("parsererror")[0],e&&!a||Et.error("Invalid XML: "+(a?Et.map(a.childNodes,function(t){return t.textContent}).join("\n"):t)),e};var Re=/\[\]$/,Be=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Ve=/^(?:input|select|textarea|keygen)/i;Et.param=function(t,e){var i,a=[],r=function(t,e){var i=It(e)?e():e;a[a.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!Et.isPlainObject(t))Et.each(t,function(){r(this.name,this.value)});else for(i in t)nt(i,t[i],e,r);return a.join("&")},Et.fn.extend({serialize:function(){return Et.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Et.prop(this,"elements");return t?Et.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Et(this).is(":disabled")&&Ve.test(this.nodeName)&&!ke.test(t)&&(this.checked||!ie.test(t))}).map(function(t,e){var i=Et(this).val();return null==i?null:Array.isArray(i)?Et.map(i,function(t){return{name:e.name,value:t.replace(Be,"\r\n")}}):{name:e.name,value:i.replace(Be,"\r\n")}}).get()}});var Ge=/%20/g,He=/#.*$/,Ye=/([?&])_=[^&]*/,Xe=/^(.*?):[ \t]*([^\r\n]*)$/gm,We=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,ze=/^\/\//,Ke={},$e={},je="*/".concat("*"),Je=yt.createElement("a");Je.href=Ne.href,Et.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ne.href,type:"GET",isLocal:We.test(Ne.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Et.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?lt(lt(t,Et.ajaxSettings),e):lt(Et.ajaxSettings,t)},ajaxPrefilter:ot(Ke),ajaxTransport:ot($e),ajax:function(t,e){function a(t,e,a,s){var h,d,f,S,x,b=e;u||(u=!0,l&&i.clearTimeout(l),r=void 0,o=s||"",I.readyState=t>0?4:0,h=t>=200&&t<300||304===t,a&&(S=ht(p,I,a)),!h&&Et.inArray("script",p.dataTypes)>-1&&Et.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),S=ut(p,S,I,h),h?(p.ifModified&&(x=I.getResponseHeader("Last-Modified"),x&&(Et.lastModified[n]=x),(x=I.getResponseHeader("etag"))&&(Et.etag[n]=x)),204===t||"HEAD"===p.type?b="nocontent":304===t?b="notmodified":(b=S.state,d=S.data,f=S.error,h=!f)):(f=b,!t&&b||(b="error",t<0&&(t=0))),I.status=t,I.statusText=(e||b)+"",h?v.resolveWith(m,[d,b,I]):v.rejectWith(m,[I,b,f]),I.statusCode(g),g=void 0,c&&C.trigger(h?"ajaxSuccess":"ajaxError",[I,p,h?d:f]),D.fireWith(m,[I,b]),c&&(C.trigger("ajaxComplete",[I,p]),--Et.active||Et.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,n,o,s,l,h,u,c,d,f,p=Et.ajaxSetup({},e),m=p.context||p,C=p.context&&(m.nodeType||m.jquery)?Et(m):Et.event,v=Et.Deferred(),D=Et.Callbacks("once memory"),g=p.statusCode||{},S={},x={},b="canceled",I={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Xe.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,S[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)I.always(t[I.status]);else for(e in t)g[e]=[g[e],t[e]];return this},abort:function(t){var e=t||b;return r&&r.abort(e),a(0,e),this}};if(v.promise(I),p.url=((t||p.url||Ne.href)+"").replace(ze,Ne.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Bt)||[""],null==p.crossDomain){h=yt.createElement("a");try{h.href=p.url,h.href=h.href,p.crossDomain=Je.protocol+"//"+Je.host!=h.protocol+"//"+h.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Et.param(p.data,p.traditional)),st(Ke,p,e,I),u)return I;c=Et.event&&p.global,c&&0==Et.active++&&Et.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ue.test(p.type),n=p.url.replace(He,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ge,"+")):(f=p.url.slice(n.length),p.data&&(p.processData||"string"==typeof p.data)&&(n+=(Pe.test(n)?"&":"?")+p.data,delete p.data),!1===p.cache&&(n=n.replace(Ye,"$1"),f=(Pe.test(n)?"&":"?")+"_="+_e.guid+++f),p.url=n+f),p.ifModified&&(Et.lastModified[n]&&I.setRequestHeader("If-Modified-Since",Et.lastModified[n]),Et.etag[n]&&I.setRequestHeader("If-None-Match",Et.etag[n])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&I.setRequestHeader("Content-Type",p.contentType),I.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+je+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)I.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,I,p)||u))return I.abort();if(b="abort",D.add(p.complete),I.done(p.success),I.fail(p.error),r=st($e,p,e,I)){if(I.readyState=1,c&&C.trigger("ajaxSend",[I,p]),u)return I;p.async&&p.timeout>0&&(l=i.setTimeout(function(){I.abort("timeout")},p.timeout));try{u=!1,r.send(S,a)}catch(t){if(u)throw t;a(-1,t)}}else a(-1,"No Transport");return I},getJSON:function(t,e,i){return Et.get(t,e,i,"json")},getScript:function(t,e){return Et.get(t,void 0,e,"script")}}),Et.each(["get","post"],function(t,e){Et[e]=function(t,i,a,r){return It(i)&&(r=r||a,a=i,i=void 0),Et.ajax(Et.extend({url:t,type:e,dataType:r,data:i,success:a},Et.isPlainObject(t)&&t))}}),Et.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),Et._evalUrl=function(t,e,i){return Et.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){Et.globalEval(t,e,i)}})},Et.fn.extend({wrapAll:function(t){var e;return this[0]&&(It(t)&&(t=t.call(this[0])),e=Et(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return It(t)?this.each(function(e){Et(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Et(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=It(t);return this.each(function(i){Et(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){Et(this).replaceWith(this.childNodes)}),this}}),Et.expr.pseudos.hidden=function(t){return!Et.expr.pseudos.visible(t)},Et.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},Et.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},Ze=Et.ajaxSettings.xhr();bt.cors=!!Ze&&"withCredentials"in Ze,bt.ajax=Ze=!!Ze,Et.ajaxTransport(function(t){var e,a;if(bt.cors||Ze&&!t.crossDomain)return{send:function(r,n){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=a=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?n(0,"error"):n(s.status,s.statusText):n(qe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),a=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=a:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){e&&a()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),Et.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),Et.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return Et.globalEval(t),t}}}),Et.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Et.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var e,i;return{send:function(a,r){e=Et("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),yt.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Qe=[],ti=/(=)\?(?=&|$)|\?\?/;Et.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Qe.pop()||Et.expando+"_"+_e.guid++;return this[t]=!0,t}}),Et.ajaxPrefilter("json jsonp",function(t,e,a){var r,n,o,s=!1!==t.jsonp&&(ti.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ti.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=It(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ti,"$1"+r):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||Et.error(r+" was not called"),o[0]},t.dataTypes[0]="json",n=i[r],i[r]=function(){o=arguments},a.always(function(){void 0===n?Et(i).removeProp(r):i[r]=n,t[r]&&(t.jsonpCallback=e.jsonpCallback,Qe.push(r)),o&&It(n)&&n(o[0]),o=n=void 0}),"script"}),bt.createHTMLDocument=function(){var t=yt.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),Et.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var a,r,n;return e||(bt.createHTMLDocument?(e=yt.implementation.createHTMLDocument(""),a=e.createElement("base"),a.href=yt.location.href,e.head.appendChild(a)):e=yt),r=Ot.exec(t),n=!i&&[],r?[e.createElement(r[1])]:(r=E([t],e,n),n&&n.length&&Et(n).remove(),Et.merge([],r.childNodes))},Et.fn.load=function(t,e,i){var a,r,n,o=this,s=t.indexOf(" ");return s>-1&&(a=it(t.slice(s)),t=t.slice(0,s)),It(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&Et.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){n=arguments,o.html(a?Et("<div>").append(Et.parseHTML(t)).find(a):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,n||[t.responseText,e,t])})}),this},Et.expr.pseudos.animated=function(t){return Et.grep(Et.timers,function(e){return t===e.elem}).length},Et.offset={setOffset:function(t,e,i){var a,r,n,o,s,l,h,u=Et.css(t,"position"),c=Et(t),d={};"static"===u&&(t.style.position="relative"),s=c.offset(),n=Et.css(t,"top"),l=Et.css(t,"left"),h=("absolute"===u||"fixed"===u)&&(n+l).indexOf("auto")>-1,h?(a=c.position(),o=a.top,r=a.left):(o=parseFloat(n)||0,r=parseFloat(l)||0),It(e)&&(e=e.call(t,i,Et.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):c.css(d)}},Et.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Et.offset.setOffset(this,t,e)});var e,i,a=this[0];if(a)return a.getClientRects().length?(e=a.getBoundingClientRect(),i=a.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,i,a=this[0],r={top:0,left:0};if("fixed"===Et.css(a,"position"))e=a.getBoundingClientRect();else{for(e=this.offset(),i=a.ownerDocument,t=a.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===Et.css(t,"position");)t=t.parentNode;t&&t!==a&&1===t.nodeType&&(r=Et(t).offset(),r.top+=Et.css(t,"borderTopWidth",!0),r.left+=Et.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-Et.css(a,"marginTop",!0),left:e.left-r.left-Et.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===Et.css(t,"position");)t=t.offsetParent;return t||qt})}}),Et.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;Et.fn[t]=function(a){return Gt(this,function(t,a,r){var n;if(Tt(t)?n=t:9===t.nodeType&&(n=t.defaultView),void 0===r)return n?n[e]:t[a];n?n.scrollTo(i?n.pageXOffset:r,i?r:n.pageYOffset):t[a]=r},t,a,arguments.length)}}),Et.each(["top","left"],function(t,e){Et.cssHooks[e]=Y(bt.pixelPosition,function(t,i){if(i)return i=H(t,e),ce.test(i)?Et(t).position()[e]+"px":i})}),Et.each({Height:"height",Width:"width"},function(t,e){Et.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,a){Et.fn[a]=function(r,n){var o=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===n?"margin":"border");return Gt(this,function(e,i,r){var n;return Tt(e)?0===a.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+t],n["scroll"+t],e.body["offset"+t],n["offset"+t],n["client"+t])):void 0===r?Et.css(e,i,s):Et.style(e,i,r,s)},e,o?r:void 0,o)}})}),Et.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Et.fn[e]=function(t){return this.on(e,t)}}),Et.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,a){return this.on(e,t,i,a)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Et.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){Et.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}});var ei=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Et.proxy=function(t,e){var i,a,r;if("string"==typeof e&&(i=t[e],e=t,t=i),It(t))return a=ft.call(arguments,2),r=function(){return t.apply(e||this,a.concat(ft.call(arguments)))},r.guid=t.guid=t.guid||Et.guid++,r},Et.holdReady=function(t){t?Et.readyWait++:Et.ready(!0)},Et.isArray=Array.isArray,Et.parseJSON=JSON.parse,Et.nodeName=h,Et.isFunction=It,Et.isWindow=Tt,Et.camelCase=D,Et.type=s,Et.now=Date.now,Et.isNumeric=function(t){var e=Et.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},Et.trim=function(t){return null==t?"":(t+"").replace(ei,"")},a=[],void 0!==(r=function(){return Et}.apply(e,a))&&(t.exports=r);var ii=i.jQuery,ai=i.$;return Et.noConflict=function(t){return i.$===Et&&(i.$=ai),t&&i.jQuery===Et&&(i.jQuery=ii),Et},void 0===n&&(i.jQuery=i.$=Et),Et})},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=45)}([function(t,e){t.exports=i(126)},function(t,e){t.exports=i(12)},function(t,e){t.exports=i(10)},function(t,e){t.exports=i(18)},function(t,e){t.exports=i(49)},function(t,e){t.exports=i(36)},function(t,e){t.exports=i(3)},function(t,e){t.exports=i(37)},function(t,e){t.exports=i(51)},function(t,e){t.exports=i(85)},function(t,e){t.exports=i(86)},function(t,e){t.exports=i(84)},function(t,e){t.exports=i(48)},function(t,e){t.exports=i(132)},function(t,e){t.exports=i(52)},function(t,e){t.exports=i(83)},function(t,e){t.exports=i(39)},function(t,e){t.exports=i(87)},function(t,e){t.exports=i(54)},function(t,e){t.exports=i(38)},function(t,e){t.exports=i(82)},function(t,e){t.exports=i(134)},function(t,e){t.exports=i(135)},function(t,e){t.exports=i(55)},function(t,e){t.exports=i(88)},function(t,e){t.exports=i(53)},function(t,e){t.exports=i(136)},function(t,e){t.exports=i(56)},function(t,e){t.exports=i(137)},function(t,e){t.exports=i(89)},function(t,e){t.exports=i(50)},function(t,e){t.exports=i(138)},function(t,e){t.exports=i(139)},function(t,e){t.exports=i(140)},function(t,e){t.exports=i(57)},function(t,e){t.exports=i(141)},function(t,e){t.exports=i(142)},function(t,e){t.exports=i(143)},function(t,e){t.exports=i(144)},function(t,e){t.exports=i(149)},function(t,e){t.exports=i(150)},function(t,e){t.exports=i(193)},function(t,e){t.exports=i(194)},function(t,e){t.exports=i(100)},function(t,e){t.exports=i(195)},function(t,e,i){t.exports=i(46)},function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}function r(t){var e=window.getComputedStyle(t),i=e.getPropertyValue("box-sizing"),a=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),r=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:He.map(function(t){return t+":"+e.getPropertyValue(t)}).join(";"),paddingSize:a,borderSize:r,boxSizing:i}}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Ve||(Ve=document.createElement("textarea"),document.body.appendChild(Ve));var a=r(t),n=a.paddingSize,o=a.borderSize,s=a.boxSizing,l=a.contextStyle;Ve.setAttribute("style",l+";"+Ge),Ve.value=t.value||t.placeholder||"";var h=Ve.scrollHeight,u={};"border-box"===s?h+=o:"content-box"===s&&(h-=n),Ve.value="";var c=Ve.scrollHeight-n;if(null!==e){var d=c*e;"border-box"===s&&(d=d+n+o),h=Math.max(d,h),u.minHeight=d+"px"}if(null!==i){var f=c*i;"border-box"===s&&(f=f+n+o),h=Math.min(f,h)}return u.height=h+"px",Ve.parentNode&&Ve.parentNode.removeChild(Ve),Ve=null,u}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t,e){var i={},a=void 0;for(a in t)i[a]=t[a];for(a in e)if(o(e,a)){var r=e[a];void 0!==r&&(i[a]=r)}return i}function l(t){return void 0!==t&&(t=parseInt(t,10),isNaN(t)&&(t=null)),t}function h(t){return void 0!==t&&(t=l(t),isNaN(t)&&(t=80)),t}function u(t){return"number"==typeof t?t:"string"==typeof t?/^\d+(?:px)?$/.test(t)?parseInt(t,10):t:null}function c(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function d(t,e,i){var a=!1,r=t.indexOf(e),n=-1!==r,o=function(){t.push(e),a=!0},s=function(){t.splice(r,1),a=!0};return"boolean"==typeof i?i&&!n?o():!i&&n&&s():n?s():o(),a}function f(t,e){function i(t,o,s){e(t,o,s),o.forEach(function(t){if(t[r])return void e(t,null,s+1);var o=t[a];n(o)||i(t,o,s+1)})}var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hasChildren",n=function(t){return!(Array.isArray(t)&&t.length)};t.forEach(function(t){if(t[r])return void e(t,null,0);var o=t[a];n(o)||i(t,o,0)})}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Table is required.");var i=new br;return i.table=t,i.toggleAllSelection=ht()(10,i._toggleAllSelection),Object.keys(e).forEach(function(t){i.states[t]=e[t]}),i}function m(t){var e={};return Object.keys(t).forEach(function(i){var a=t[i],r=void 0;"string"==typeof a?r=function(){return this.store.states[a]}:"function"==typeof a?r=function(){return a.call(this,this.store.states)}:console.error("invalid value type"),r&&(e[i]=r)}),e}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){var i=e.row,a=e.column,r=e.$index,n=a.property,o=n&&Object(W.getPropByPath)(i,n).v;return a&&a.formatter?a.formatter(i,a,o,r):o}function D(t,e){var i=e.row,a=e.treeNode,r=e.store;if(!a)return null;var n=[],o=function(t){t.stopPropagation(),r.loadOrToggle(i)};if(a.indent&&n.push(t("span",{class:"el-table__indent",style:{"padding-left":a.indent+"px"}})),"boolean"!=typeof a.expanded||a.noLazyChildren)n.push(t("span",{class:"el-table__placeholder"}));else{var s=["el-table__expand-icon",a.expanded?"el-table__expand-icon--expanded":""],l=["el-icon-arrow-right"];a.loading&&(l=["el-icon-loading"]),n.push(t("div",{class:s,on:{click:o}},[t("i",{class:l})]))}return n}function g(){}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e,i){var a=void 0;a=i.response?""+(i.response.error||i.response):i.responseText?""+i.responseText:"fail to post "+t+" "+i.status;var r=new Error(a);return r.status=i.status,r.method="post",r.url=t,r}function I(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}function T(t){if("undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest,i=t.action;e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var a=new FormData;t.data&&Object.keys(t.data).forEach(function(e){a.append(e,t.data[e])}),a.append(t.filename,t.file,t.file.name),e.onerror=function(e){t.onError(e)},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(b(i,t,e));t.onSuccess(I(e))},e.open("post",i,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&e.setRequestHeader(n,r[n]);return e.send(a),e}}function y(){}function w(t){var e=t.move,i=t.size,a=t.bar,r={},n="translate"+a.axis+"("+e+"%)";return r[a.size]=i,r.transform=n,r.msTransform=n,r.webkitTransform=n,r}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.r(e);var M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"el-pager",on:{click:t.onPagerClick}},[t.pageCount>0?i("li",{staticClass:"number",class:{active:1===t.currentPage,disabled:t.disabled}},[t._v("1")]):t._e(),t.showPrevMore?i("li",{staticClass:"el-icon more btn-quickprev",class:[t.quickprevIconClass,{disabled:t.disabled}],on:{mouseenter:function(e){t.onMouseenter("left")},mouseleave:function(e){t.quickprevIconClass="el-icon-more"}}}):t._e(),t._l(t.pagers,function(e){return i("li",{key:e,staticClass:"number",class:{active:t.currentPage===e,disabled:t.disabled}},[t._v(t._s(e))])}),t.showNextMore?i("li",{staticClass:"el-icon more btn-quicknext",class:[t.quicknextIconClass,{disabled:t.disabled}],on:{mouseenter:function(e){t.onMouseenter("right")},mouseleave:function(e){t.quicknextIconClass="el-icon-more"}}}):t._e(),t.pageCount>1?i("li",{staticClass:"number",class:{active:t.currentPage===t.pageCount,disabled:t.disabled}},[t._v(t._s(t.pageCount))]):t._e()],2)},A=[];M._withStripped=!0;var O={name:"ElPager",props:{currentPage:Number,pageCount:Number,pagerCount:Number,disabled:Boolean},watch:{showPrevMore:function(t){t||(this.quickprevIconClass="el-icon-more")},showNextMore:function(t){t||(this.quicknextIconClass="el-icon-more")}},methods:{onPagerClick:function(t){var e=t.target;if("UL"!==e.tagName&&!this.disabled){var i=Number(t.target.textContent),a=this.pageCount,r=this.currentPage,n=this.pagerCount-2;-1!==e.className.indexOf("more")&&(-1!==e.className.indexOf("quickprev")?i=r-n:-1!==e.className.indexOf("quicknext")&&(i=r+n)),isNaN(i)||(i<1&&(i=1),i>a&&(i=a)),i!==r&&this.$emit("change",i)}},onMouseenter:function(t){this.disabled||("left"===t?this.quickprevIconClass="el-icon-d-arrow-left":this.quicknextIconClass="el-icon-d-arrow-right")}},computed:{pagers:function(){var t=this.pagerCount,e=(t-1)/2,i=Number(this.currentPage),a=Number(this.pageCount),r=!1,n=!1;a>t&&(i>t-e&&(r=!0),i<a-e&&(n=!0));var o=[];if(r&&!n)for(var s=a-(t-2),l=s;l<a;l++)o.push(l);else if(!r&&n)for(var h=2;h<t;h++)o.push(h);else if(r&&n)for(var u=Math.floor(t/2)-1,c=i-u;c<=i+u;c++)o.push(c);else for(var d=2;d<a;d++)o.push(d);return this.showPrevMore=r,this.showNextMore=n,o}},data:function(){return{current:null,showPrevMore:!1,showNextMore:!1,quicknextIconClass:"el-icon-more",quickprevIconClass:"el-icon-more"}}},N=O,_=a(N,M,A,!1,null,null,null);_.options.__file="packages/pagination/src/pager.vue";var P=_.exports,R=i(36),B=i.n(R),k=i(37),V=i.n(k),G=i(8),H=i.n(G),Y=i(4),X=i.n(Y),W=i(2),U={name:"ElPagination",props:{pageSize:{type:Number,default:10},small:Boolean,total:Number,pageCount:Number,pagerCount:{type:Number,validator:function(t){return(0|t)===t&&t>4&&t<22&&t%2==1},default:7},currentPage:{type:Number,default:1},layout:{default:"prev, pager, next, jumper, ->, total"},pageSizes:{type:Array,default:function(){return[10,20,30,40,50,100]}},popperClass:String,prevText:String,nextText:String,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean},data:function(){return{internalCurrentPage:1,internalPageSize:0,lastEmittedPage:-1,userChangePageSize:!1}},render:function(t){var e=this.layout;if(!e)return null;if(this.hideOnSinglePage&&(!this.internalPageCount||1===this.internalPageCount))return null;var i=t("div",{class:["el-pagination",{"is-background":this.background,"el-pagination--small":this.small}]}),a={prev:t("prev"),jumper:t("jumper"),pager:t("pager",{attrs:{currentPage:this.internalCurrentPage,pageCount:this.internalPageCount,pagerCount:this.pagerCount,disabled:this.disabled},on:{change:this.handleCurrentChange}}),next:t("next"),sizes:t("sizes",{attrs:{pageSizes:this.pageSizes}}),slot:t("slot",[this.$slots.default?this.$slots.default:""]),total:t("total")},r=e.split(",").map(function(t){return t.trim()}),n=t("div",{class:"el-pagination__rightwrapper"}),o=!1;return i.children=i.children||[],n.children=n.children||[],r.forEach(function(t){if("->"===t)return void(o=!0);o?n.children.push(a[t]):i.children.push(a[t])}),o&&i.children.unshift(n),i},components:{Prev:{render:function(t){return t("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage<=1},class:"btn-prev",on:{click:this.$parent.prev}},[this.$parent.prevText?t("span",[this.$parent.prevText]):t("i",{class:"el-icon el-icon-arrow-left"})])}},Next:{render:function(t){return t("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage===this.$parent.internalPageCount||0===this.$parent.internalPageCount},class:"btn-next",on:{click:this.$parent.next}},[this.$parent.nextText?t("span",[this.$parent.nextText]):t("i",{class:"el-icon el-icon-arrow-right"})])}},Sizes:{mixins:[X.a],props:{pageSizes:Array},watch:{pageSizes:{immediate:!0,handler:function(t,e){Object(W.valueEquals)(t,e)||Array.isArray(t)&&(this.$parent.internalPageSize=t.indexOf(this.$parent.pageSize)>-1?this.$parent.pageSize:this.pageSizes[0])}}},render:function(t){var e=this;return t("span",{class:"el-pagination__sizes"},[t("el-select",{attrs:{value:this.$parent.internalPageSize,popperClass:this.$parent.popperClass||"",size:"mini",disabled:this.$parent.disabled},on:{input:this.handleChange}},[this.pageSizes.map(function(i){return t("el-option",{attrs:{value:i,label:i+e.t("el.pagination.pagesize")}})})])])},components:{ElSelect:B.a,ElOption:V.a},methods:{handleChange:function(t){t!==this.$parent.internalPageSize&&(this.$parent.internalPageSize=t=parseInt(t,10),this.$parent.userChangePageSize=!0,this.$parent.$emit("update:pageSize",t),this.$parent.$emit("size-change",t))}}},Jumper:{mixins:[X.a],components:{ElInput:H.a},data:function(){return{userInput:null}},watch:{"$parent.internalCurrentPage":function(){this.userInput=null}},methods:{handleKeyup:function(t){var e=t.keyCode,i=t.target;13===e&&this.handleChange(i.value)},handleInput:function(t){this.userInput=t},handleChange:function(t){this.$parent.internalCurrentPage=this.$parent.getValidCurrentPage(t),this.$parent.emitChange(),this.userInput=null}},render:function(t){return t("span",{class:"el-pagination__jump"},[this.t("el.pagination.goto"),t("el-input",{class:"el-pagination__editor is-in-pagination",attrs:{min:1,max:this.$parent.internalPageCount,value:null!==this.userInput?this.userInput:this.$parent.internalCurrentPage,type:"number",disabled:this.$parent.disabled},nativeOn:{keyup:this.handleKeyup},on:{input:this.handleInput,change:this.handleChange}}),this.t("el.pagination.pageClassifier")])}},Total:{mixins:[X.a],render:function(t){return"number"==typeof this.$parent.total?t("span",{class:"el-pagination__total"},[this.t("el.pagination.total",{total:this.$parent.total})]):""}},Pager:P},methods:{handleCurrentChange:function(t){this.internalCurrentPage=this.getValidCurrentPage(t),this.userChangePageSize=!0,this.emitChange()},prev:function(){if(!this.disabled){var t=this.internalCurrentPage-1;this.internalCurrentPage=this.getValidCurrentPage(t),this.$emit("prev-click",this.internalCurrentPage),this.emitChange()}},next:function(){if(!this.disabled){var t=this.internalCurrentPage+1;this.internalCurrentPage=this.getValidCurrentPage(t),this.$emit("next-click",this.internalCurrentPage),this.emitChange()}},getValidCurrentPage:function(t){t=parseInt(t,10);var e="number"==typeof this.internalPageCount,i=void 0;return e?t<1?i=1:t>this.internalPageCount&&(i=this.internalPageCount):(isNaN(t)||t<1)&&(i=1),void 0===i&&isNaN(t)?i=1:0===i&&(i=1),void 0===i?t:i},emitChange:function(){var t=this;this.$nextTick(function(){(t.internalCurrentPage!==t.lastEmittedPage||t.userChangePageSize)&&(t.$emit("current-change",t.internalCurrentPage),t.lastEmittedPage=t.internalCurrentPage,t.userChangePageSize=!1)})}},computed:{internalPageCount:function(){return"number"==typeof this.total?Math.max(1,Math.ceil(this.total/this.internalPageSize)):"number"==typeof this.pageCount?Math.max(1,this.pageCount):null}},watch:{currentPage:{immediate:!0,handler:function(t){this.internalCurrentPage=this.getValidCurrentPage(t)}},pageSize:{immediate:!0,handler:function(t){this.internalPageSize=isNaN(t)?10:t}},internalCurrentPage:{immediate:!0,handler:function(t){this.$emit("update:currentPage",t),this.lastEmittedPage=-1}},internalPageCount:function(t){var e=this.internalCurrentPage;t>0&&0===e?this.internalCurrentPage=1:e>t&&(this.internalCurrentPage=0===t?1:t,this.userChangePageSize&&this.emitChange()),this.userChangePageSize=!1}}};U.install=function(t){t.component(U.name,U)};var z=U,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":t.afterEnter,"after-leave":t.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[i("div",{key:t.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":t.fullscreen,"el-dialog--center":t.center},t.customClass],style:t.style,attrs:{role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"}},[i("div",{staticClass:"el-dialog__header"},[t._t("title",[i("span",{staticClass:"el-dialog__title"},[t._v(t._s(t.title))])]),t.showClose?i("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2),t.rendered?i("div",{staticClass:"el-dialog__body"},[t._t("default")],2):t._e(),t.$slots.footer?i("div",{staticClass:"el-dialog__footer"},[t._t("footer")],2):t._e()])])])},$=[];K._withStripped=!0;var j=i(11),J=i.n(j),q=i(9),Z=i.n(q),Q=i(3),tt=i.n(Q),et={name:"ElDialog",mixins:[J.a,tt.a,Z.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(t){var e=this;t?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick(function(){e.$refs.dialog.scrollTop=0}),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick(function(){e.key++}))}},computed:{style:function(){var t={};return this.fullscreen||(t.marginTop=this.top,this.width&&(t.width=this.width)),t}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(t){!1!==t&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},it=et,at=a(it,K,$,!1,null,null,null);at.options.__file="packages/dialog/src/component.vue";var rt=at.exports;rt.install=function(t){t.component(rt.name,rt)};var nt=rt,ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.close,expression:"close"}],staticClass:"el-autocomplete",attrs:{"aria-haspopup":"listbox",role:"combobox","aria-expanded":t.suggestionVisible,"aria-owns":t.id}},[i("el-input",t._b({ref:"input",on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur,clear:t.handleClear},nativeOn:{keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.highlight(t.highlightedIndex-1)},function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.highlight(t.highlightedIndex+1)},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleKeyEnter(e):null},function(e){return"button"in e||!t._k(e.keyCode,"tab",9,e.key,"Tab")?t.close(e):null}]}},"el-input",[t.$props,t.$attrs],!1),[t.$slots.prepend?i("template",{slot:"prepend"},[t._t("prepend")],2):t._e(),t.$slots.append?i("template",{slot:"append"},[t._t("append")],2):t._e(),t.$slots.prefix?i("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),t.$slots.suffix?i("template",{slot:"suffix"},[t._t("suffix")],2):t._e()],2),i("el-autocomplete-suggestions",{ref:"suggestions",class:[t.popperClass?t.popperClass:""],attrs:{"visible-arrow":"","popper-options":t.popperOptions,"append-to-body":t.popperAppendToBody,placement:t.placement,id:t.id}},t._l(t.suggestions,function(e,a){return i("li",{key:a,class:{highlighted:t.highlightedIndex===a},attrs:{id:t.id+"-item-"+a,role:"option","aria-selected":t.highlightedIndex===a},on:{click:function(i){t.select(e)}}},[t._t("default",[t._v("\n        "+t._s(e[t.valueKey])+"\n      ")],{item:e})],2)}),0)],1)},st=[];ot._withStripped=!0;var lt=i(16),ht=i.n(lt),ut=i(10),ct=i.n(ut),dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.doDestroy}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-autocomplete-suggestion el-popper",class:{"is-loading":!t.parent.hideLoading&&t.parent.loading},style:{width:t.dropdownWidth},attrs:{role:"region"}},[i("el-scrollbar",{attrs:{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"}},[!t.parent.hideLoading&&t.parent.loading?i("li",[i("i",{staticClass:"el-icon-loading"})]):t._t("default")],2)],1)])},ft=[];dt._withStripped=!0;var pt=i(5),mt=i.n(pt),Ct=i(18),vt=i.n(Ct),Dt={components:{ElScrollbar:vt.a},mixins:[mt.a,tt.a],componentName:"ElAutocompleteSuggestions",data:function(){return{parent:this.$parent,dropdownWidth:""}},props:{options:{default:function(){return{gpuAcceleration:!1}}},id:String},methods:{select:function(t){this.dispatch("ElAutocomplete","item-click",t)}},updated:function(){var t=this;this.$nextTick(function(e){t.popperJS&&t.updatePopper()})},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$refs.input.$refs.input||this.$parent.$refs.input.$refs.textarea,this.referenceList=this.$el.querySelector(".el-autocomplete-suggestion__list"),this.referenceList.setAttribute("role","listbox"),this.referenceList.setAttribute("id",this.id)},created:function(){var t=this;this.$on("visible",function(e,i){t.dropdownWidth=i+"px",t.showPopper=e})}},gt=Dt,St=a(gt,dt,ft,!1,null,null,null);St.options.__file="packages/autocomplete/src/autocomplete-suggestions.vue";var xt=St.exports,bt=i(23),It=i.n(bt),Tt={name:"ElAutocomplete",mixins:[tt.a,It()("input"),Z.a],inheritAttrs:!1,componentName:"ElAutocomplete",components:{ElInput:H.a,ElAutocompleteSuggestions:xt},directives:{Clickoutside:ct.a},props:{valueKey:{type:String,default:"value"},popperClass:String,popperOptions:Object,placeholder:String,clearable:{type:Boolean,default:!1},disabled:Boolean,name:String,size:String,value:String,maxlength:Number,minlength:Number,autofocus:Boolean,fetchSuggestions:Function,triggerOnFocus:{type:Boolean,default:!0},customItem:String,selectWhenUnmatched:{type:Boolean,default:!1},prefixIcon:String,suffixIcon:String,label:String,debounce:{type:Number,default:300},placement:{type:String,default:"bottom-start"},hideLoading:Boolean,popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1}},data:function(){return{activated:!1,suggestions:[],loading:!1,highlightedIndex:-1,suggestionDisabled:!1}},computed:{suggestionVisible:function(){var t=this.suggestions;return(Array.isArray(t)&&t.length>0||this.loading)&&this.activated},id:function(){return"el-autocomplete-"+Object(W.generateId)()}},watch:{suggestionVisible:function(t){var e=this.getInput();e&&this.broadcast("ElAutocompleteSuggestions","visible",[t,e.offsetWidth])}},methods:{getMigratingConfig:function(){return{props:{"custom-item":"custom-item is removed, use scoped slot instead.",props:"props is removed, use value-key instead."}}},getData:function(t){var e=this;this.suggestionDisabled||(this.loading=!0,this.fetchSuggestions(t,function(t){e.loading=!1,e.suggestionDisabled||(Array.isArray(t)?(e.suggestions=t,e.highlightedIndex=e.highlightFirstItem?0:-1):console.error("[Element Error][Autocomplete]autocomplete suggestions must be an array"))}))},handleInput:function(t){if(this.$emit("input",t),this.suggestionDisabled=!1,!this.triggerOnFocus&&!t)return this.suggestionDisabled=!0,void(this.suggestions=[]);this.debouncedGetData(t)},handleChange:function(t){this.$emit("change",t)},handleFocus:function(t){this.activated=!0,this.$emit("focus",t),this.triggerOnFocus&&this.debouncedGetData(this.value)},handleBlur:function(t){this.$emit("blur",t)},handleClear:function(){this.activated=!1,this.$emit("clear")},close:function(t){this.activated=!1},handleKeyEnter:function(t){var e=this;this.suggestionVisible&&this.highlightedIndex>=0&&this.highlightedIndex<this.suggestions.length?(t.preventDefault(),this.select(this.suggestions[this.highlightedIndex])):this.selectWhenUnmatched&&(this.$emit("select",{value:this.value}),this.$nextTick(function(t){e.suggestions=[],e.highlightedIndex=-1}))},select:function(t){var e=this;this.$emit("input",t[this.valueKey]),this.$emit("select",t),this.$nextTick(function(t){e.suggestions=[],e.highlightedIndex=-1})},highlight:function(t){if(this.suggestionVisible&&!this.loading){if(t<0)return void(this.highlightedIndex=-1);t>=this.suggestions.length&&(t=this.suggestions.length-1);var e=this.$refs.suggestions.$el.querySelector(".el-autocomplete-suggestion__wrap"),i=e.querySelectorAll(".el-autocomplete-suggestion__list li"),a=i[t],r=e.scrollTop,n=a.offsetTop;n+a.scrollHeight>r+e.clientHeight&&(e.scrollTop+=a.scrollHeight),n<r&&(e.scrollTop-=a.scrollHeight),this.highlightedIndex=t;this.getInput().setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)}},getInput:function(){return this.$refs.input.getInput()}},mounted:function(){var t=this;this.debouncedGetData=ht()(this.debounce,this.getData),this.$on("item-click",function(e){t.select(e)});var e=this.getInput();e.setAttribute("role","textbox"),e.setAttribute("aria-autocomplete","list"),e.setAttribute("aria-controls","id"),e.setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)},beforeDestroy:function(){this.$refs.suggestions.$destroy()}},yt=Tt,wt=a(yt,ot,st,!1,null,null,null);wt.options.__file="packages/autocomplete/src/autocomplete.vue";var Et=wt.exports;Et.install=function(t){t.component(Et.name,Et)};var Ft=Et,Lt=i(13),Mt=i.n(Lt),At=i(28),Ot=i.n(At),Nt={name:"ElDropdown",componentName:"ElDropdown",mixins:[tt.a,Z.a],directives:{Clickoutside:ct.a},components:{ElButton:Mt.a,ElButtonGroup:Ot.a},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+Object(W.generateId)()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(t){this.broadcast("ElDropdownMenu","visible",t),this.$emit("visible-change",t)},focusing:function(t){var e=this.$el.querySelector(".el-dropdown-selfdefine");e&&(t?e.className+=" focusing":e.className=e.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var t=this;this.triggerElm.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.visible=!0},"click"===this.trigger?0:this.showTimeout))},hide:function(){var t=this;this.triggerElm.disabled||(this.removeTabindex(),this.tabindex>=0&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.visible=!1},"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.triggerElm.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(t){var e=t.keyCode;[38,40].indexOf(e)>-1?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),t.preventDefault(),t.stopPropagation()):13===e?this.handleClick():[9,27].indexOf(e)>-1&&this.hide()},handleItemKeyDown:function(t){var e=t.keyCode,i=t.target,a=this.menuItemsArray.indexOf(i),r=this.menuItemsArray.length-1,n=void 0;[38,40].indexOf(e)>-1?(n=38===e?0!==a?a-1:0:a<r?a+1:r,this.removeTabindex(),this.resetTabindex(this.menuItems[n]),this.menuItems[n].focus(),t.preventDefault(),t.stopPropagation()):13===e?(this.triggerElmFocus(),i.click(),this.hideOnClick&&(this.visible=!1)):[9,27].indexOf(e)>-1&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(t){this.removeTabindex(),t.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach(function(t){t.setAttribute("tabindex","-1")})},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var t=this,e=this.trigger,i=this.show,a=this.hide,r=this.handleClick,n=this.splitButton,o=this.handleTriggerKeyDown,s=this.handleItemKeyDown;this.triggerElm=n?this.$refs.trigger.$el:this.$slots.default[0].elm;var l=this.dropdownElm;this.triggerElm.addEventListener("keydown",o),l.addEventListener("keydown",s,!0),n||(this.triggerElm.addEventListener("focus",function(){t.focusing=!0}),this.triggerElm.addEventListener("blur",function(){t.focusing=!1}),this.triggerElm.addEventListener("click",function(){t.focusing=!1})),"hover"===e?(this.triggerElm.addEventListener("mouseenter",i),this.triggerElm.addEventListener("mouseleave",a),l.addEventListener("mouseenter",i),l.addEventListener("mouseleave",a)):"click"===e&&this.triggerElm.addEventListener("click",r)},handleMenuItemClick:function(t,e){this.hideOnClick&&(this.visible=!1),this.$emit("command",t,e)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(t){var e=this,i=this.hide,a=this.splitButton,r=this.type,n=this.dropdownSize,o=function(t){e.$emit("click",t),i()},s=a?t("el-button-group",[t("el-button",{attrs:{type:r,size:n},nativeOn:{click:o}},[this.$slots.default]),t("el-button",{ref:"trigger",attrs:{type:r,size:n},class:"el-dropdown__caret-button"},[t("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]):this.$slots.default;return t("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:i}]},[s,this.$slots.dropdown])}},_t=Nt,Pt=a(_t,void 0,void 0,!1,null,null,null);Pt.options.__file="packages/dropdown/src/dropdown.vue";var Rt=Pt.exports;Rt.install=function(t){t.component(Rt.name,Rt)};var Bt=Rt,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.doDestroy}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[t.size&&"el-dropdown-menu--"+t.size]},[t._t("default")],2)])},Vt=[];kt._withStripped=!0;var Gt={name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[mt.a],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var t=this;this.$on("updatePopper",function(){t.showPopper&&t.updatePopper()}),this.$on("visible",function(e){t.showPopper=e})},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(t){this.currentPlacement=t}}}},Ht=Gt,Yt=a(Ht,kt,Vt,!1,null,null,null);Yt.options.__file="packages/dropdown/src/dropdown-menu.vue";var Xt=Yt.exports;Xt.install=function(t){t.component(Xt.name,Xt)};var Wt=Xt,Ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":t.disabled,"el-dropdown-menu__item--divided":t.divided},attrs:{"aria-disabled":t.disabled,tabindex:t.disabled?null:-1},on:{click:t.handleClick}},[t.icon?i("i",{class:t.icon}):t._e(),t._t("default")],2)},zt=[];Ut._withStripped=!0;var Kt={name:"ElDropdownItem",mixins:[tt.a],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(t){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},$t=Kt,jt=a($t,Ut,zt,!1,null,null,null);jt.options.__file="packages/dropdown/src/dropdown-item.vue";var Jt=jt.exports;Jt.install=function(t){t.component(Jt.name,Jt)};var qt=Jt,Zt=Zt||{};Zt.Utils=Zt.Utils||{},Zt.Utils.focusFirstDescendant=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];if(Zt.Utils.attemptFocus(i)||Zt.Utils.focusFirstDescendant(i))return!0}return!1},Zt.Utils.focusLastDescendant=function(t){for(var e=t.childNodes.length-1;e>=0;e--){var i=t.childNodes[e];if(Zt.Utils.attemptFocus(i)||Zt.Utils.focusLastDescendant(i))return!0}return!1},Zt.Utils.attemptFocus=function(t){if(!Zt.Utils.isFocusable(t))return!1;Zt.Utils.IgnoreUtilFocusChanges=!0;try{t.focus()}catch(t){}return Zt.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===t},Zt.Utils.isFocusable=function(t){if(t.tabIndex>0||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!==t.rel;case"INPUT":return"hidden"!==t.type&&"file"!==t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Zt.Utils.triggerEvent=function(t,e){var i=void 0;i=/^mouse|click/.test(e)?"MouseEvents":/^key/.test(e)?"KeyboardEvent":"HTMLEvents";for(var a=document.createEvent(i),r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return a.initEvent.apply(a,[e].concat(n)),t.dispatchEvent?t.dispatchEvent(a):t.fireEvent("on"+e,a),t},Zt.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27};var Qt=Zt.Utils,te=function(t,e){this.domNode=e,this.parent=t,this.subMenuItems=[],this.subIndex=0,this.init()};te.prototype.init=function(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()},te.prototype.gotoSubIndex=function(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t},te.prototype.addListeners=function(){var t=this,e=Qt.keys,i=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,function(a){a.addEventListener("keydown",function(a){var r=!1;switch(a.keyCode){case e.down:t.gotoSubIndex(t.subIndex+1),r=!0;break;case e.up:t.gotoSubIndex(t.subIndex-1),r=!0;break;case e.tab:Qt.triggerEvent(i,"mouseleave");break;case e.enter:case e.space:r=!0,a.currentTarget.click()}return r&&(a.preventDefault(),a.stopPropagation()),!1})})};var ee=te,ie=function(t){this.domNode=t,this.submenu=null,this.init()};ie.prototype.init=function(){this.domNode.setAttribute("tabindex","0");var t=this.domNode.querySelector(".el-menu");t&&(this.submenu=new ee(this,t)),this.addListeners()},ie.prototype.addListeners=function(){var t=this,e=Qt.keys;this.domNode.addEventListener("keydown",function(i){var a=!1;switch(i.keyCode){case e.down:Qt.triggerEvent(i.currentTarget,"mouseenter"),t.submenu&&t.submenu.gotoSubIndex(0),a=!0;break;case e.up:Qt.triggerEvent(i.currentTarget,"mouseenter"),t.submenu&&t.submenu.gotoSubIndex(t.submenu.subMenuItems.length-1),a=!0;break;case e.tab:Qt.triggerEvent(i.currentTarget,"mouseleave");break;case e.enter:case e.space:a=!0,i.currentTarget.click()}a&&i.preventDefault()})};var ae=ie,re=function(t){this.domNode=t,this.init()};re.prototype.init=function(){var t=this.domNode.childNodes;[].filter.call(t,function(t){return 1===t.nodeType}).forEach(function(t){new ae(t)})};var ne=re,oe=i(1),se={name:"ElMenu",render:function(t){var e=t("ul",{attrs:{role:"menubar"},key:+this.collapse,style:{backgroundColor:this.backgroundColor||""},class:{"el-menu--horizontal":"horizontal"===this.mode,"el-menu--collapse":this.collapse,"el-menu":!0}},[this.$slots.default]);return this.collapseTransition?t("el-menu-collapse-transition",[e]):e},componentName:"ElMenu",mixins:[tt.a,Z.a],provide:function(){return{rootMenu:this}},components:{"el-menu-collapse-transition":{functional:!0,render:function(t,e){return t("transition",{props:{mode:"out-in"},on:{beforeEnter:function(t){t.style.opacity=.2},enter:function(t){Object(oe.addClass)(t,"el-opacity-transition"),t.style.opacity=1},afterEnter:function(t){Object(oe.removeClass)(t,"el-opacity-transition"),t.style.opacity=""},beforeLeave:function(t){t.dataset||(t.dataset={}),Object(oe.hasClass)(t,"el-menu--collapse")?(Object(oe.removeClass)(t,"el-menu--collapse"),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth,Object(oe.addClass)(t,"el-menu--collapse")):(Object(oe.addClass)(t,"el-menu--collapse"),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth,Object(oe.removeClass)(t,"el-menu--collapse")),t.style.width=t.scrollWidth+"px",t.style.overflow="hidden"},leave:function(t){Object(oe.addClass)(t,"horizontal-collapse-transition"),t.style.width=t.dataset.scrollWidth+"px"}}},e.children)}}},props:{mode:{type:String,default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:Array,uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0}},data:function(){return{activeIndex:this.defaultActive,openedMenus:this.defaultOpeneds&&!this.collapse?this.defaultOpeneds.slice(0):[],items:{},submenus:{}}},computed:{hoverBackground:function(){return this.backgroundColor?this.mixColor(this.backgroundColor,.2):""},isMenuPopup:function(){return"horizontal"===this.mode||"vertical"===this.mode&&this.collapse}},watch:{defaultActive:function(t){this.items[t]||(this.activeIndex=null),this.updateActiveIndex(t)},defaultOpeneds:function(t){this.collapse||(this.openedMenus=t)},collapse:function(t){t&&(this.openedMenus=[]),this.broadcast("ElSubmenu","toggle-collapse",t)}},methods:{updateActiveIndex:function(t){var e=this.items[t]||this.items[this.activeIndex]||this.items[this.defaultActive];e?(this.activeIndex=e.index,this.initOpenedMenu()):this.activeIndex=null},getMigratingConfig:function(){return{props:{theme:"theme is removed."}}},getColorChannels:function(t){if(t=t.replace("#",""),/^[0-9a-fA-F]{3}$/.test(t)){t=t.split("");for(var e=2;e>=0;e--)t.splice(e,0,t[e]);t=t.join("")}return/^[0-9a-fA-F]{6}$/.test(t)?{red:parseInt(t.slice(0,2),16),green:parseInt(t.slice(2,4),16),blue:parseInt(t.slice(4,6),16)}:{red:255,green:255,blue:255}},mixColor:function(t,e){var i=this.getColorChannels(t),a=i.red,r=i.green,n=i.blue;return e>0?(a*=1-e,r*=1-e,n*=1-e):(a+=(255-a)*e,r+=(255-r)*e,n+=(255-n)*e),"rgb("+Math.round(a)+", "+Math.round(r)+", "+Math.round(n)+")"},addItem:function(t){this.$set(this.items,t.index,t)},removeItem:function(t){delete this.items[t.index]},addSubmenu:function(t){this.$set(this.submenus,t.index,t)},removeSubmenu:function(t){delete this.submenus[t.index]},openMenu:function(t,e){var i=this.openedMenus;-1===i.indexOf(t)&&(this.uniqueOpened&&(this.openedMenus=i.filter(function(t){return-1!==e.indexOf(t)})),this.openedMenus.push(t))},closeMenu:function(t){var e=this.openedMenus.indexOf(t);-1!==e&&this.openedMenus.splice(e,1)},handleSubmenuClick:function(t){var e=t.index,i=t.indexPath;-1!==this.openedMenus.indexOf(e)?(this.closeMenu(e),this.$emit("close",e,i)):(this.openMenu(e,i),this.$emit("open",e,i))},handleItemClick:function(t){var e=this,i=t.index,a=t.indexPath,r=this.activeIndex,n=null!==t.index;n&&(this.activeIndex=t.index),this.$emit("select",i,a,t),("horizontal"===this.mode||this.collapse)&&(this.openedMenus=[]),this.router&&n&&this.routeToItem(t,function(t){if(e.activeIndex=r,t){if("NavigationDuplicated"===t.name)return;console.error(t)}})},initOpenedMenu:function(){var t=this,e=this.activeIndex,i=this.items[e];if(i&&"horizontal"!==this.mode&&!this.collapse){i.indexPath.forEach(function(e){var i=t.submenus[e];i&&t.openMenu(e,i.indexPath)})}},routeToItem:function(t,e){var i=t.route||t.index;try{this.$router.push(i,function(){},e)}catch(t){console.error(t)}},open:function(t){var e=this,i=this.submenus[t.toString()].indexPath;i.forEach(function(t){return e.openMenu(t,i)})},close:function(t){this.closeMenu(t)}},mounted:function(){this.initOpenedMenu(),this.$on("item-click",this.handleItemClick),this.$on("submenu-click",this.handleSubmenuClick),"horizontal"===this.mode&&new ne(this.$el),this.$watch("items",this.updateActiveIndex)}},le=se,he=a(le,void 0,void 0,!1,null,null,null);he.options.__file="packages/menu/src/menu.vue";var ue=he.exports;ue.install=function(t){t.component(ue.name,ue)};var ce=ue,de=i(21),fe=i.n(de),pe={inject:["rootMenu"],computed:{indexPath:function(){for(var t=[this.index],e=this.$parent;"ElMenu"!==e.$options.componentName;)e.index&&t.unshift(e.index),e=e.$parent;return t},parentMenu:function(){for(var t=this.$parent;t&&-1===["ElMenu","ElSubmenu"].indexOf(t.$options.componentName);)t=t.$parent;return t},paddingStyle:function(){if("vertical"!==this.rootMenu.mode)return{};var t=20,e=this.$parent;if(this.rootMenu.collapse)t=20;else for(;e&&"ElMenu"!==e.$options.componentName;)"ElSubmenu"===e.$options.componentName&&(t+=20),e=e.$parent;return{paddingLeft:t+"px"}}}},me={props:{transformOrigin:{type:[Boolean,String],default:!1},offset:mt.a.props.offset,boundariesPadding:mt.a.props.boundariesPadding,popperOptions:mt.a.props.popperOptions},data:mt.a.data,methods:mt.a.methods,beforeDestroy:mt.a.beforeDestroy,deactivated:mt.a.deactivated},Ce={name:"ElSubmenu",componentName:"ElSubmenu",mixins:[pe,tt.a,me],components:{ElCollapseTransition:fe.a},props:{index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0}},data:function(){return{popperJS:null,timeout:null,items:{},submenus:{},mouseInChild:!1}},watch:{opened:function(t){var e=this;this.isMenuPopup&&this.$nextTick(function(t){e.updatePopper()})}},computed:{appendToBody:function(){return void 0===this.popperAppendToBody?this.isFirstLevel:this.popperAppendToBody},menuTransitionName:function(){return this.rootMenu.collapse?"el-zoom-in-left":"el-zoom-in-top"},opened:function(){return this.rootMenu.openedMenus.indexOf(this.index)>-1},active:function(){var t=!1,e=this.submenus,i=this.items;return Object.keys(i).forEach(function(e){i[e].active&&(t=!0)}),Object.keys(e).forEach(function(i){e[i].active&&(t=!0)}),t},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},isMenuPopup:function(){return this.rootMenu.isMenuPopup},titleStyle:function(){return"horizontal"!==this.mode?{color:this.textColor}:{borderBottomColor:this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent",color:this.active?this.activeTextColor:this.textColor}},isFirstLevel:function(){for(var t=!0,e=this.$parent;e&&e!==this.rootMenu;){if(["ElSubmenu","ElMenuItemGroup"].indexOf(e.$options.componentName)>-1){t=!1;break}e=e.$parent}return t}},methods:{handleCollapseToggle:function(t){t?this.initPopper():this.doDestroy()},addItem:function(t){this.$set(this.items,t.index,t)},removeItem:function(t){delete this.items[t.index]},addSubmenu:function(t){this.$set(this.submenus,t.index,t)},removeSubmenu:function(t){delete this.submenus[t.index]},handleClick:function(){var t=this.rootMenu,e=this.disabled;"hover"===t.menuTrigger&&"horizontal"===t.mode||t.collapse&&"vertical"===t.mode||e||this.dispatch("ElMenu","submenu-click",this)},handleMouseenter:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.showTimeout;if("ActiveXObject"in window||"focus"!==t.type||t.relatedTarget){var a=this.rootMenu,r=this.disabled;"click"===a.menuTrigger&&"horizontal"===a.mode||!a.collapse&&"vertical"===a.mode||r||(this.dispatch("ElSubmenu","mouse-enter-child"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.rootMenu.openMenu(e.index,e.indexPath)},i),this.appendToBody&&this.$parent.$el.dispatchEvent(new MouseEvent("mouseenter")))}},handleMouseleave:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.rootMenu;"click"===i.menuTrigger&&"horizontal"===i.mode||!i.collapse&&"vertical"===i.mode||(this.dispatch("ElSubmenu","mouse-leave-child"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){!t.mouseInChild&&t.rootMenu.closeMenu(t.index)},this.hideTimeout),this.appendToBody&&e&&"ElSubmenu"===this.$parent.$options.name&&this.$parent.handleMouseleave(!0))},handleTitleMouseenter:function(){if("horizontal"!==this.mode||this.rootMenu.backgroundColor){var t=this.$refs["submenu-title"];t&&(t.style.backgroundColor=this.rootMenu.hoverBackground)}},handleTitleMouseleave:function(){if("horizontal"!==this.mode||this.rootMenu.backgroundColor){var t=this.$refs["submenu-title"];t&&(t.style.backgroundColor=this.rootMenu.backgroundColor||"")}},updatePlacement:function(){this.currentPlacement="horizontal"===this.mode&&this.isFirstLevel?"bottom-start":"right-start"},initPopper:function(){this.referenceElm=this.$el,this.popperElm=this.$refs.menu,this.updatePlacement()}},created:function(){var t=this;this.$on("toggle-collapse",this.handleCollapseToggle),this.$on("mouse-enter-child",function(){t.mouseInChild=!0,clearTimeout(t.timeout)}),this.$on("mouse-leave-child",function(){t.mouseInChild=!1,clearTimeout(t.timeout)})},mounted:function(){this.parentMenu.addSubmenu(this),this.rootMenu.addSubmenu(this),this.initPopper()},beforeDestroy:function(){this.parentMenu.removeSubmenu(this),this.rootMenu.removeSubmenu(this)},render:function(t){var e=this,i=this.active,a=this.opened,r=this.paddingStyle,n=this.titleStyle,o=this.backgroundColor,s=this.rootMenu,l=this.currentPlacement,h=this.menuTransitionName,u=this.mode,c=this.disabled,d=this.popperClass,f=this.$slots,p=this.isFirstLevel,m=t("transition",{attrs:{name:h}},[t("div",{ref:"menu",directives:[{name:"show",value:a}],class:["el-menu--"+u,d],on:{mouseenter:function(t){return e.handleMouseenter(t,100)},mouseleave:function(){return e.handleMouseleave(!0)},focus:function(t){return e.handleMouseenter(t,100)}}},[t("ul",{attrs:{role:"menu"},class:["el-menu el-menu--popup","el-menu--popup-"+l],style:{backgroundColor:s.backgroundColor||""}},[f.default])])]),C=t("el-collapse-transition",[t("ul",{attrs:{role:"menu"},class:"el-menu el-menu--inline",directives:[{name:"show",value:a}],style:{backgroundColor:s.backgroundColor||""}},[f.default])]),v="horizontal"===s.mode&&p||"vertical"===s.mode&&!s.collapse?"el-icon-arrow-down":"el-icon-arrow-right";return t("li",{class:{"el-submenu":!0,"is-active":i,"is-opened":a,"is-disabled":c},attrs:{role:"menuitem","aria-haspopup":"true","aria-expanded":a},on:{mouseenter:this.handleMouseenter,mouseleave:function(){return e.handleMouseleave(!1)},focus:this.handleMouseenter}},[t("div",{class:"el-submenu__title",ref:"submenu-title",on:{click:this.handleClick,mouseenter:this.handleTitleMouseenter,mouseleave:this.handleTitleMouseleave},style:[r,n,{backgroundColor:o}]},[f.title,t("i",{class:["el-submenu__icon-arrow",v]})]),this.isMenuPopup?m:C])}},ve=Ce,De=a(ve,void 0,void 0,!1,null,null,null);De.options.__file="packages/menu/src/submenu.vue";var ge=De.exports;ge.install=function(t){t.component(ge.name,ge)};var Se=ge,xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"el-menu-item",class:{"is-active":t.active,"is-disabled":t.disabled},style:[t.paddingStyle,t.itemStyle,{backgroundColor:t.backgroundColor}],attrs:{role:"menuitem",tabindex:"-1"},on:{click:t.handleClick,mouseenter:t.onMouseEnter,focus:t.onMouseEnter,blur:t.onMouseLeave,mouseleave:t.onMouseLeave}},["ElMenu"===t.parentMenu.$options.componentName&&t.rootMenu.collapse&&t.$slots.title?i("el-tooltip",{attrs:{effect:"dark",placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._t("title")],2),i("div",{staticStyle:{position:"absolute",left:"0",top:"0",height:"100%",width:"100%",display:"inline-block","box-sizing":"border-box",padding:"0 20px"}},[t._t("default")],2)]):[t._t("default"),t._t("title")]],2)},be=[];xe._withStripped=!0;var Ie=i(26),Te=i.n(Ie),ye={name:"ElMenuItem",componentName:"ElMenuItem",mixins:[pe,tt.a],components:{ElTooltip:Te.a},props:{index:{default:null,validator:function(t){return"string"==typeof t||null===t}},route:[String,Object],disabled:Boolean},computed:{active:function(){return this.index===this.rootMenu.activeIndex},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},itemStyle:function(){var t={color:this.active?this.activeTextColor:this.textColor};return"horizontal"!==this.mode||this.isNested||(t.borderBottomColor=this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent"),t},isNested:function(){return this.parentMenu!==this.rootMenu}},methods:{onMouseEnter:function(){("horizontal"!==this.mode||this.rootMenu.backgroundColor)&&(this.$el.style.backgroundColor=this.hoverBackground)},onMouseLeave:function(){("horizontal"!==this.mode||this.rootMenu.backgroundColor)&&(this.$el.style.backgroundColor=this.backgroundColor)},handleClick:function(){this.disabled||(this.dispatch("ElMenu","item-click",this),this.$emit("click",this))}},mounted:function(){this.parentMenu.addItem(this),this.rootMenu.addItem(this)},beforeDestroy:function(){this.parentMenu.removeItem(this),this.rootMenu.removeItem(this)}},we=ye,Ee=a(we,xe,be,!1,null,null,null);Ee.options.__file="packages/menu/src/menu-item.vue";var Fe=Ee.exports;Fe.install=function(t){t.component(Fe.name,Fe)};var Le=Fe,Me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"el-menu-item-group"},[i("div",{staticClass:"el-menu-item-group__title",style:{paddingLeft:t.levelPadding+"px"}},[t.$slots.title?t._t("title"):[t._v(t._s(t.title))]],2),i("ul",[t._t("default")],2)])},Ae=[];Me._withStripped=!0;var Oe={name:"ElMenuItemGroup",componentName:"ElMenuItemGroup",inject:["rootMenu"],props:{title:{type:String}},data:function(){return{paddingLeft:20}},computed:{levelPadding:function(){var t=20,e=this.$parent;if(this.rootMenu.collapse)return 20;for(;e&&"ElMenu"!==e.$options.componentName;)"ElSubmenu"===e.$options.componentName&&(t+=20),e=e.$parent;return t}}},Ne=Oe,_e=a(Ne,Me,Ae,!1,null,null,null);_e.options.__file="packages/menu/src/menu-item-group.vue";var Pe=_e.exports;Pe.install=function(t){t.component(Pe.name,Pe)};var Re=Pe,Be=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?i("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?i("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?i("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?i("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?i("span",{staticClass:"el-input__suffix"},[i("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?i("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?i("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?i("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?i("span",{staticClass:"el-input__count"},[i("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?i("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?i("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:i("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?i("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)},ke=[];Be._withStripped=!0;var Ve=void 0,Ge="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",He=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],Ye=i(7),Xe=i.n(Ye),We=i(19),Ue={name:"ElInput",componentName:"ElInput",mixins:[tt.a,Z.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return Xe()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick(function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type){if(!t)return void(this.textareaCalcStyle={minHeight:n(this.$refs.textarea).minHeight});var e=t.minRows,i=t.maxRows;this.textareaCalcStyle=n(this.$refs.textarea,e,i)}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(t){var e=t.target.value,i=e[e.length-1]||"";this.isComposing=!Object(We.isKorean)(i)},handleCompositionEnd:function(t){this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var i=null,a=0;a<e.length;a++)if(e[a].parentNode===this.$el){i=e[a];break}if(i){var r={suffix:"append",prefix:"prepend"},n=r[t];this.$slots[n]?i.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+n).offsetWidth+"px)":i.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){var t=this;this.passwordVisible=!this.passwordVisible,this.$nextTick(function(){t.focus()})},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},ze=Ue,Ke=a(ze,Be,ke,!1,null,null,null);Ke.options.__file="packages/input/src/input.vue";var $e=Ke.exports;$e.install=function(t){t.component($e.name,$e)};var je=$e,Je=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["el-input-number",t.inputNumberSize?"el-input-number--"+t.inputNumberSize:"",{"is-disabled":t.inputNumberDisabled},{"is-without-controls":!t.controls},{"is-controls-right":t.controlsAtRight}],on:{dragstart:function(t){t.preventDefault()}}},[t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":t.minDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.decrease(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-down":"minus")})]):t._e(),t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":t.maxDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.increase(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-up":"plus")})]):t._e(),i("el-input",{ref:"input",attrs:{value:t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label},on:{blur:t.handleBlur,focus:t.handleFocus,input:t.handleInput,change:t.handleInputChange},nativeOn:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.increase(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.decrease(e)):null}]}})],1)},qe=[];Je._withStripped=!0;var Ze={bind:function(t,e,i){var a=null,r=void 0,n=function(){return i.context[e.expression].apply()},o=function(){Date.now()-r<100&&n(),clearInterval(a),a=null};Object(oe.on)(t,"mousedown",function(t){0===t.button&&(r=Date.now(),Object(oe.once)(document,"mouseup",o),clearInterval(a),a=setInterval(n,100))})}},Qe={name:"ElInputNumber",mixins:[It()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:Ze},components:{ElInput:H.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(t){return t>=0&&t===parseInt(t,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(t){var e=void 0===t?t:Number(t);if(void 0!==e){if(isNaN(e))return;if(this.stepStrictly){var i=this.getPrecision(this.step),a=Math.pow(10,i);e=Math.round(e/this.step)*a*this.step/a}void 0!==this.precision&&(e=this.toPrecision(e,this.precision))}e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),this.currentValue=e,this.userInput=null,this.$emit("input",e)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var t=this.value,e=this.step,i=this.getPrecision,a=this.precision,r=i(e);return void 0!==a?(r>a&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),a):Math.max(i(t),r)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||!!(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var t=this.currentValue;if("number"==typeof t){if(this.stepStrictly){var e=this.getPrecision(this.step),i=Math.pow(10,e);t=Math.round(t/this.step)*i*this.step/i}void 0!==this.precision&&(t=t.toFixed(this.precision))}return t}},methods:{toPrecision:function(t,e){return void 0===e&&(e=this.numPrecision),parseFloat(Math.round(t*Math.pow(10,e))/Math.pow(10,e))},getPrecision:function(t){if(void 0===t)return 0;var e=t.toString(),i=e.indexOf("."),a=0;return-1!==i&&(a=e.length-i-1),a},_increase:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t+i*e)/i)},_decrease:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t-i*e)/i)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var t=this.value||0,e=this._increase(t,this.step);this.setCurrentValue(e)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var t=this.value||0,e=this._decrease(t,this.step);this.setCurrentValue(e)}},handleBlur:function(t){this.$emit("blur",t)},handleFocus:function(t){this.$emit("focus",t)},setCurrentValue:function(t){var e=this.currentValue;"number"==typeof t&&void 0!==this.precision&&(t=this.toPrecision(t,this.precision)),t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),e!==t&&(this.userInput=null,this.$emit("input",t),this.$emit("change",t,e),this.currentValue=t)},handleInput:function(t){this.userInput=t},handleInputChange:function(t){var e=""===t?void 0:Number(t);isNaN(e)&&""!==t||this.setCurrentValue(e),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var t=this.$refs.input.$refs.input;t.setAttribute("role","spinbutton"),t.setAttribute("aria-valuemax",this.max),t.setAttribute("aria-valuemin",this.min),t.setAttribute("aria-valuenow",this.currentValue),t.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){if(this.$refs&&this.$refs.input){this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}}},ti=Qe,ei=a(ti,Je,qe,!1,null,null,null);ei.options.__file="packages/input-number/src/input-number.vue";var ii=ei.exports;ii.install=function(t){t.component(ii.name,ii)};var ai=ii,ri=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-radio",class:[t.border&&t.radioSize?"el-radio--"+t.radioSize:"",{"is-disabled":t.isDisabled},{"is-focus":t.focus},{"is-bordered":t.border},{"is-checked":t.model===t.label}],attrs:{role:"radio","aria-checked":t.model===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.model=t.isDisabled?t.model:t.label}}},[i("span",{staticClass:"el-radio__input",class:{"is-disabled":t.isDisabled,"is-checked":t.model===t.label}},[i("span",{staticClass:"el-radio__inner"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{focus:function(e){t.focus=!0},blur:function(e){t.focus=!1},change:[function(e){t.model=t.label},t.handleChange]}})]),i("span",{staticClass:"el-radio__label",on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])},ni=[];ri._withStripped=!0;var oi={name:"ElRadio",mixins:[tt.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return this._radioGroup=t,!0;t=t.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(t){this.isGroup?this.dispatch("ElRadioGroup","input",[t]):this.$emit("input",t),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup?this._radioGroup.radioGroupSize||t:t},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.model),t.isGroup&&t.dispatch("ElRadioGroup","handleChange",t.model)})}}},si=oi,li=a(si,ri,ni,!1,null,null,null);li.options.__file="packages/radio/src/radio.vue";var hi=li.exports;hi.install=function(t){t.component(hi.name,hi)};var ui=hi,ci=function(){var t=this,e=t.$createElement;return(t._self._c||e)(t._elTag,{tag:"component",staticClass:"el-radio-group",attrs:{role:"radiogroup"},on:{keydown:t.handleKeydown}},[t._t("default")],2)},di=[];ci._withStripped=!0;var fi=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40}),pi={name:"ElRadioGroup",componentName:"ElRadioGroup",inject:{elFormItem:{default:""}},mixins:[tt.a],props:{value:{},size:String,fill:String,textColor:String,disabled:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},_elTag:function(){var t=(this.$vnode.data||{}).tag;return t&&"component"!==t||(t="div"),t},radioGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},created:function(){var t=this;this.$on("handleChange",function(e){t.$emit("change",e)})},mounted:function(){var t=this.$el.querySelectorAll("[type=radio]"),e=this.$el.querySelectorAll("[role=radio]")[0];![].some.call(t,function(t){return t.checked})&&e&&(e.tabIndex=0)},methods:{handleKeydown:function(t){var e=t.target,i="INPUT"===e.nodeName?"[type=radio]":"[role=radio]",a=this.$el.querySelectorAll(i),r=a.length,n=[].indexOf.call(a,e),o=this.$el.querySelectorAll("[role=radio]");switch(t.keyCode){case fi.LEFT:case fi.UP:t.stopPropagation(),t.preventDefault(),0===n?(o[r-1].click(),o[r-1].focus()):(o[n-1].click(),o[n-1].focus());break;case fi.RIGHT:case fi.DOWN:n===r-1?(t.stopPropagation(),t.preventDefault(),o[0].click(),o[0].focus()):(o[n+1].click(),o[n+1].focus())}}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[this.value])}}},mi=pi,Ci=a(mi,ci,di,!1,null,null,null);Ci.options.__file="packages/radio/src/radio-group.vue";var vi=Ci.exports;vi.install=function(t){t.component(vi.name,vi)};var Di=vi,gi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-radio-button",class:[t.size?"el-radio-button--"+t.size:"",{"is-active":t.value===t.label},{"is-disabled":t.isDisabled},{"is-focus":t.focus}],attrs:{role:"radio","aria-checked":t.value===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.value=t.isDisabled?t.value:t.label}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"el-radio-button__orig-radio",attrs:{type:"radio",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.value,t.label)},on:{change:[function(e){t.value=t.label},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),i("span",{staticClass:"el-radio-button__inner",style:t.value===t.label?t.activeStyle:null,on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])},Si=[];gi._withStripped=!0;var xi={name:"ElRadioButton",mixins:[tt.a],inject:{elForm:{default:""},elFormItem:{default:""}},props:{label:{},disabled:Boolean,name:String},data:function(){return{focus:!1}},computed:{value:{get:function(){return this._radioGroup.value},set:function(t){this._radioGroup.$emit("input",t)}},_radioGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return t;t=t.$parent}return!1},activeStyle:function(){return{backgroundColor:this._radioGroup.fill||"",borderColor:this._radioGroup.fill||"",boxShadow:this._radioGroup.fill?"-1px 0 0 0 "+this._radioGroup.fill:"",color:this._radioGroup.textColor||""}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._radioGroup.radioGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isDisabled:function(){return this.disabled||this._radioGroup.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this._radioGroup&&this.value!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.dispatch("ElRadioGroup","handleChange",t.value)})}}},bi=xi,Ii=a(bi,gi,Si,!1,null,null,null);Ii.options.__file="packages/radio/src/radio-button.vue";var Ti=Ii.exports;Ti.install=function(t){t.component(Ti.name,Ti)};var yi=Ti,wi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-checkbox",class:[t.border&&t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}],attrs:{id:t.id}},[i("span",{staticClass:"el-checkbox__input",class:{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus},attrs:{tabindex:!!t.indeterminate&&0,role:!!t.indeterminate&&"checkbox","aria-checked":!!t.indeterminate&&"mixed"}},[i("span",{staticClass:"el-checkbox__inner"}),t.trueLabel||t.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var i=t.model,a=e.target,r=a.checked?t.trueLabel:t.falseLabel;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&(t.model=i.concat([null])):n>-1&&(t.model=i.slice(0,n).concat(i.slice(n+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,name:t.name},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var i=t.model,a=e.target,r=!!a.checked;if(Array.isArray(i)){var n=t.label,o=t._i(i,n);a.checked?o<0&&(t.model=i.concat([n])):o>-1&&(t.model=i.slice(0,o).concat(i.slice(o+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})]),t.$slots.default||t.label?i("span",{staticClass:"el-checkbox__label"},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])},Ei=[];wi._withStripped=!0;var Fi={name:"ElCheckbox",mixins:[tt.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):(this.$emit("input",t),this.selfModel=t)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var t=this.$parent;t;){if("ElCheckboxGroup"===t.$options.componentName)return this._checkboxGroup=t,!0;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,i=t.min;return!(!e&&!i)&&this.model.length>=e&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup?this._checkboxGroup.checkboxGroupSize||t:t}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var i=void 0;i=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,t),this.$nextTick(function(){e.isGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}}},Li=Fi,Mi=a(Li,wi,Ei,!1,null,null,null);Mi.options.__file="packages/checkbox/src/checkbox.vue";var Ai=Mi.exports;Ai.install=function(t){t.component(Ai.name,Ai)};var Oi=Ai,Ni=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-checkbox-button",class:[t.size?"el-checkbox-button--"+t.size:"",{"is-disabled":t.isDisabled},{"is-checked":t.isChecked},{"is-focus":t.focus}],attrs:{role:"checkbox","aria-checked":t.isChecked,"aria-disabled":t.isDisabled}},[t.trueLabel||t.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var i=t.model,a=e.target,r=a.checked?t.trueLabel:t.falseLabel;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&(t.model=i.concat([null])):n>-1&&(t.model=i.slice(0,n).concat(i.slice(n+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:t.name,disabled:t.isDisabled},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var i=t.model,a=e.target,r=!!a.checked;if(Array.isArray(i)){var n=t.label,o=t._i(i,n);a.checked?o<0&&(t.model=i.concat([n])):o>-1&&(t.model=i.slice(0,o).concat(i.slice(o+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),t.$slots.default||t.label?i("span",{staticClass:"el-checkbox-button__inner",style:t.isChecked?t.activeStyle:null},[t._t("default",[t._v(t._s(t.label))])],2):t._e()])},_i=[];Ni._withStripped=!0;var Pi={name:"ElCheckboxButton",mixins:[tt.a],inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},props:{value:{},label:{},disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number]},computed:{model:{get:function(){return this._checkboxGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this._checkboxGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):void 0!==this.value?this.$emit("input",t):this.selfModel=t}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},_checkboxGroup:function(){for(var t=this.$parent;t;){if("ElCheckboxGroup"===t.$options.componentName)return t;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},activeStyle:function(){return{backgroundColor:this._checkboxGroup.fill||"",borderColor:this._checkboxGroup.fill||"",color:this._checkboxGroup.textColor||"","box-shadow":"-1px 0 0 0 "+this._checkboxGroup.fill}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._checkboxGroup.checkboxGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,i=t.min;return!(!e&&!i)&&this.model.length>=e&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this._checkboxGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled}},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var i=void 0;i=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,t),this.$nextTick(function(){e._checkboxGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()}},Ri=Pi,Bi=a(Ri,Ni,_i,!1,null,null,null);Bi.options.__file="packages/checkbox/src/checkbox-button.vue";var ki=Bi.exports;ki.install=function(t){t.component(ki.name,ki)};var Vi=ki,Gi=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[t._t("default")],2)},Hi=[];Gi._withStripped=!0;var Yi={name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[tt.a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[t])}}},Xi=Yi,Wi=a(Xi,Gi,Hi,!1,null,null,null);Wi.options.__file="packages/checkbox/src/checkbox-group.vue";var Ui=Wi.exports;Ui.install=function(t){t.component(Ui.name,Ui)};var zi=Ui,Ki=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-switch",class:{"is-disabled":t.switchDisabled,"is-checked":t.checked},attrs:{role:"switch","aria-checked":t.checked,"aria-disabled":t.switchDisabled},on:{click:function(e){return e.preventDefault(),t.switchValue(e)}}},[i("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",id:t.id,name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:t.switchDisabled},on:{change:t.handleChange,keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.switchValue(e):null}}}),t.inactiveIconClass||t.inactiveText?i("span",{class:["el-switch__label","el-switch__label--left",t.checked?"":"is-active"]},[t.inactiveIconClass?i("i",{class:[t.inactiveIconClass]}):t._e(),!t.inactiveIconClass&&t.inactiveText?i("span",{attrs:{"aria-hidden":t.checked}},[t._v(t._s(t.inactiveText))]):t._e()]):t._e(),i("span",{ref:"core",staticClass:"el-switch__core",style:{width:t.coreWidth+"px"}}),t.activeIconClass||t.activeText?i("span",{class:["el-switch__label","el-switch__label--right",t.checked?"is-active":""]},[t.activeIconClass?i("i",{class:[t.activeIconClass]}):t._e(),!t.activeIconClass&&t.activeText?i("span",{attrs:{"aria-hidden":!t.checked}},[t._v(t._s(t.activeText))]):t._e()]):t._e()])},$i=[];Ki._withStripped=!0;var ji={name:"ElSwitch",mixins:[It()("input"),Z.a,tt.a],inject:{elForm:{default:""}},props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:String,inactiveText:String,activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},switchDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[this.value])}},methods:{handleChange:function(t){var e=this,i=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",i),this.$emit("change",i),this.$nextTick(function(){e.$refs.input.checked=e.checked})},setBackgroundColor:function(){var t=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=t,this.$refs.core.style.backgroundColor=t},switchValue:function(){!this.switchDisabled&&this.handleChange()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}},Ji=ji,qi=a(Ji,Ki,$i,!1,null,null,null);qi.options.__file="packages/switch/src/component.vue";var Zi=qi.exports;Zi.install=function(t){t.component(Zi.name,Zi)};var Qi=Zi,ta=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[t.selectSize?"el-select--"+t.selectSize:""],on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[t.multiple?i("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":t.inputWidth-32+"px",width:"100%"}},[t.collapseTags&&t.selected.length?i("span",[i("el-tag",{attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(e){t.deleteTag(e,t.selected[0])}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(t.selected[0].currentLabel))])]),t.selected.length>1?i("el-tag",{attrs:{closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""}},[i("span",{staticClass:"el-select__tags-text"},[t._v("+ "+t._s(t.selected.length-1))])]):t._e()],1):t._e(),t.collapseTags?t._e():i("transition-group",{on:{"after-leave":t.resetInputHeight}},t._l(t.selected,function(e){return i("el-tag",{key:t.getValueKey(e),attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:e.hitState,type:"info","disable-transitions":""},on:{close:function(i){t.deleteTag(i,e)}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e.currentLabel))])])}),1),t.filterable?i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[t.selectSize?"is-"+t.selectSize:""],style:{"flex-grow":"1",width:t.inputLength/(t.inputWidth-32)+"%","max-width":t.inputWidth-42+"px"},attrs:{type:"text",disabled:t.selectDisabled,autocomplete:t.autoComplete||t.autocomplete},domProps:{value:t.query},on:{focus:t.handleFocus,blur:function(e){t.softFocus=!1},keyup:t.managePlaceholder,keydown:[t.resetInputState,function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.deletePrevTag(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:[function(e){e.target.composing||(t.query=e.target.value)},t.debouncedQueryChange]}}):t._e()],1):t._e(),i("el-input",{ref:"reference",class:{"is-focus":t.visible},attrs:{type:"text",placeholder:t.currentPlaceholder,name:t.name,id:t.id,autocomplete:t.autoComplete||t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,tabindex:t.multiple&&t.filterable?"-1":null},on:{focus:t.handleFocus,blur:t.handleBlur,input:t.debouncedOnInputChange},nativeOn:{keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],mouseenter:function(e){t.inputHovering=!0},mouseleave:function(e){t.inputHovering=!1}},model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}},[t.$slots.prefix?i("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),i("template",{slot:"suffix"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+t.iconClass]}),t.showClose?i("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:t.handleClearClick}}):t._e()])],2),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":t.doDestroy}},[i("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:t.visible&&!1!==t.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":t.popperAppendToBody}},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.options.length>0&&!t.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!t.allowCreate&&t.query&&0===t.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t.showNewOption?i("el-option",{attrs:{value:t.query,created:""}}):t._e(),t._t("default")],2),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&0===t.options.length)?[t.$slots.empty?t._t("empty"):i("p",{staticClass:"el-select-dropdown__empty"},[t._v("\n          "+t._s(t.emptyText)+"\n        ")])]:t._e()],2)],1)],1)},ea=[];ta._withStripped=!0;var ia=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":t.$parent.multiple},t.popperClass],style:{minWidth:t.minWidth}},[t._t("default")],2)},aa=[];ia._withStripped=!0;var ra={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[mt.a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var t=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",function(){t.$parent.visible&&t.updatePopper()}),this.$on("destroyPopper",this.destroyPopper)}},na=ra,oa=a(na,ia,aa,!1,null,null,null);oa.options.__file="packages/select/src/select-dropdown.vue";var sa=oa.exports,la=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[i("span",[t._v(t._s(t.currentLabel))])])],2)},ha=[];la._withStripped=!0;var ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca={mixins:[tt.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var i=this.select,a=i.remote,r=i.valueKey;if(!this.created&&!a){if(r&&"object"===(void 0===t?"undefined":ua(t))&&"object"===(void 0===e?"undefined":ua(e))&&t[r]===e[r])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var i=this.select.valueKey;return Object(W.getValueByPath)(t,i)===Object(W.getValueByPath)(e,i)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var i=this.select.valueKey;return t&&t.some(function(t){return Object(W.getValueByPath)(t,i)===Object(W.getValueByPath)(e,i)})}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(W.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,i=t.multiple,a=i?e:[e],r=this.select.cachedOptions.indexOf(this),n=a.indexOf(this);r>-1&&n<0&&this.select.cachedOptions.splice(r,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},da=ca,fa=a(da,la,ha,!1,null,null,null);fa.options.__file="packages/select/src/option.vue";var pa=fa.exports,ma=i(29),Ca=i.n(ma),va=i(14),Da=i(27),ga=i.n(Da),Sa={data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter(function(t){return t.visible}).every(function(t){return t.disabled})}},watch:{hoverIndex:function(t){var e=this;"number"==typeof t&&t>-1&&(this.hoverOption=this.options[t]||{}),this.options.forEach(function(t){t.hover=e.hoverOption===t})}},methods:{navigateOptions:function(t){var e=this;if(!this.visible)return void(this.visible=!0);if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===t?++this.hoverIndex===this.options.length&&(this.hoverIndex=0):"prev"===t&&--this.hoverIndex<0&&(this.hoverIndex=this.options.length-1);var i=this.options[this.hoverIndex];!0!==i.disabled&&!0!==i.groupDisabled&&i.visible||this.navigateOptions(t),this.$nextTick(function(){return e.scrollToOption(e.hoverOption)})}}}},xa={mixins:[tt.a,X.a,It()("reference"),Sa],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(W.isIE)()&&!Object(W.isEdge)()&&!this.visible},showClose:function(){var t=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&t},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var t=this,e=this.options.filter(function(t){return!t.created}).some(function(e){return e.currentLabel===t.query});return this.filterable&&this.allowCreate&&""!==this.query&&!e},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"},propPlaceholder:function(){return void 0!==this.placeholder?this.placeholder:this.t("el.select.placeholder")}},components:{ElInput:H.a,ElSelectMenu:sa,ElOption:pa,ElTag:Ca.a,ElScrollbar:vt.a},directives:{Clickoutside:ct.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,required:!1},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var t=this;this.$nextTick(function(){t.resetInputHeight()})},propPlaceholder:function(t){this.cachedPlaceHolder=this.currentPlaceholder=t},value:function(t,e){this.multiple&&(this.resetInputHeight(),t&&t.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(W.valueEquals)(t,e)||this.dispatch("ElFormItem","el.form.change",t)},visible:function(t){var e=this;t?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick(function(){e.$refs.input&&""===e.$refs.input.value&&0===e.selected.length&&(e.currentPlaceholder=e.cachedPlaceHolder)}),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",t)},options:function(){var t=this;if(!this.$isServer){this.$nextTick(function(){t.broadcast("ElSelectDropdown","updatePopper")}),this.multiple&&this.resetInputHeight();var e=this.$el.querySelectorAll("input");-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleComposition:function(t){var e=this,i=t.target.value;if("compositionend"===t.type)this.isOnComposition=!1,this.$nextTick(function(t){return e.handleQueryChange(i)});else{var a=i[i.length-1]||"";this.isOnComposition=!Object(We.isKorean)(a)}},handleQueryChange:function(t){var e=this;if(this.previousQuery!==t&&!this.isOnComposition){if(null===this.previousQuery&&("function"==typeof this.filterMethod||"function"==typeof this.remoteMethod))return void(this.previousQuery=t);this.previousQuery=t,this.$nextTick(function(){e.visible&&e.broadcast("ElSelectDropdown","updatePopper")}),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick(function(){var t=15*e.$refs.input.value.length+20;e.inputLength=e.collapseTags?Math.min(50,t):t,e.managePlaceholder(),e.resetInputHeight()}),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(t)):"function"==typeof this.filterMethod?(this.filterMethod(t),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",t),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}},scrollToOption:function(t){var e=Array.isArray(t)&&t[0]?t[0].$el:t.$el;if(this.$refs.popper&&e){var i=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");ga()(i,e)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var t=this;this.$nextTick(function(){return t.scrollToOption(t.selected)})},emitChange:function(t){Object(W.valueEquals)(this.value,t)||this.$emit("change",t)},getOption:function(t){for(var e=void 0,i="[object object]"===Object.prototype.toString.call(t).toLowerCase(),a="[object null]"===Object.prototype.toString.call(t).toLowerCase(),r="[object undefined]"===Object.prototype.toString.call(t).toLowerCase(),n=this.cachedOptions.length-1;n>=0;n--){var o=this.cachedOptions[n];if(i?Object(W.getValueByPath)(o.value,this.valueKey)===Object(W.getValueByPath)(t,this.valueKey):o.value===t){e=o;break}}if(e)return e;var s=i||a||r?"":String(t),l={value:t,currentLabel:s};return this.multiple&&(l.hitState=!1),l},setSelected:function(){var t=this;if(!this.multiple){var e=this.getOption(this.value);return e.created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,void(this.filterable&&(this.query=this.selectedLabel))}var i=[];Array.isArray(this.value)&&this.value.forEach(function(e){i.push(t.getOption(e))}),this.selected=i,this.$nextTick(function(){t.resetInputHeight()})},handleFocus:function(t){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",t))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(t){var e=this;setTimeout(function(){e.isSilentBlur?e.isSilentBlur=!1:e.$emit("blur",t)},50),this.softFocus=!1},handleClearClick:function(t){this.deleteSelected(t)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(t){if(Array.isArray(this.selected)){var e=this.selected[this.selected.length-1];if(e)return!0===t||!1===t?(e.hitState=t,t):(e.hitState=!e.hitState,e.hitState)}},deletePrevTag:function(t){if(t.target.value.length<=0&&!this.toggleLastOptionHitState()){var e=this.value.slice();e.pop(),this.$emit("input",e),this.emitChange(e)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(t){8!==t.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var t=this;this.collapseTags&&!this.filterable||this.$nextTick(function(){if(t.$refs.reference){var e=t.$refs.reference.$el.childNodes,i=[].filter.call(e,function(t){return"INPUT"===t.tagName})[0],a=t.$refs.tags,r=a?Math.round(a.getBoundingClientRect().height):0,n=t.initialInputHeight||40;i.style.height=0===t.selected.length?n+"px":Math.max(a?r+(r>n?6:0):0,n)+"px",t.visible&&!1!==t.emptyText&&t.broadcast("ElSelectDropdown","updatePopper")}})},resetHoverIndex:function(){var t=this;setTimeout(function(){t.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(function(e){return t.options.indexOf(e)})):t.hoverIndex=-1:t.hoverIndex=t.options.indexOf(t.selected)},300)},handleOptionSelect:function(t,e){var i=this;if(this.multiple){var a=(this.value||[]).slice(),r=this.getValueIndex(a,t.value);r>-1?a.splice(r,1):(this.multipleLimit<=0||a.length<this.multipleLimit)&&a.push(t.value),this.$emit("input",a),this.emitChange(a),t.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",t.value),this.emitChange(t.value),this.visible=!1;this.isSilentBlur=e,this.setSoftFocus(),this.visible||this.$nextTick(function(){i.scrollToOption(t)})},setSoftFocus:function(){this.softFocus=!0;var t=this.$refs.input||this.$refs.reference;t&&t.focus()},getValueIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if("[object object]"===Object.prototype.toString.call(e).toLowerCase()){var i=this.valueKey,a=-1;return t.some(function(t,r){return Object(W.getValueByPath)(t,i)===Object(W.getValueByPath)(e,i)&&(a=r,!0)}),a}return t.indexOf(e)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(t){t.stopPropagation();var e=this.multiple?[]:"";this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(t,e){var i=this.selected.indexOf(e);if(i>-1&&!this.selectDisabled){var a=this.value.slice();a.splice(i,1),this.$emit("input",a),this.emitChange(a),this.$emit("remove-tag",e.value)}t.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(t){t>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(t,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var t=!1,e=this.options.length-1;e>=0;e--)if(this.options[e].created){t=!0,this.hoverIndex=e;break}if(!t)for(var i=0;i!==this.options.length;++i){var a=this.options[i];if(this.query){if(!a.disabled&&!a.groupDisabled&&a.visible){this.hoverIndex=i;break}}else if(a.itemSelected){this.hoverIndex=i;break}}},getValueKey:function(t){return"[object object]"!==Object.prototype.toString.call(t.value).toLowerCase()?t.value:Object(W.getValueByPath)(t.value,this.valueKey)}},created:function(){var t=this;this.cachedPlaceHolder=this.currentPlaceholder=this.propPlaceholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=ht()(this.debounce,function(){t.onInputChange()}),this.debouncedQueryChange=ht()(this.debounce,function(e){t.handleQueryChange(e.target.value)}),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var t=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(va.addResizeListener)(this.$el,this.handleResize);var e=this.$refs.reference;if(e&&e.$el){var i={medium:36,small:32,mini:28},a=e.$el.querySelector("input");this.initialInputHeight=a.getBoundingClientRect().height||i[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick(function(){e&&e.$el&&(t.inputWidth=e.$el.getBoundingClientRect().width)}),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(va.removeResizeListener)(this.$el,this.handleResize)}},ba=xa,Ia=a(ba,ta,ea,!1,null,null,null);Ia.options.__file="packages/select/src/select.vue";var Ta=Ia.exports;Ta.install=function(t){t.component(Ta.name,Ta)};var ya=Ta;pa.install=function(t){t.component(pa.name,pa)};var wa=pa,Ea=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-group__wrap"},[i("li",{staticClass:"el-select-group__title"},[t._v(t._s(t.label))]),i("li",[i("ul",{staticClass:"el-select-group"},[t._t("default")],2)])])},Fa=[];Ea._withStripped=!0;var La={mixins:[tt.a],name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},data:function(){return{visible:!0}},watch:{disabled:function(t){this.broadcast("ElOption","handleGroupDisabled",t)}},methods:{queryChange:function(){this.visible=this.$children&&Array.isArray(this.$children)&&this.$children.some(function(t){return!0===t.visible})}},created:function(){this.$on("queryChange",this.queryChange)},mounted:function(){this.disabled&&this.broadcast("ElOption","handleGroupDisabled",this.disabled)}},Ma=La,Aa=a(Ma,Ea,Fa,!1,null,null,null);Aa.options.__file="packages/select/src/option-group.vue";var Oa=Aa.exports;Oa.install=function(t){t.component(Oa.name,Oa)};var Na=Oa,_a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?i("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",[t._t("default")],2):t._e()])},Pa=[];_a._withStripped=!0;var Ra={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},Ba=Ra,ka=a(Ba,_a,Pa,!1,null,null,null);ka.options.__file="packages/button/src/button.vue";var Va=ka.exports;Va.install=function(t){t.component(Va.name,Va)};var Ga=Va,Ha=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-button-group"},[t._t("default")],2)},Ya=[];Ha._withStripped=!0;var Xa={name:"ElButtonGroup"},Wa=Xa,Ua=a(Wa,Ha,Ya,!1,null,null,null);Ua.options.__file="packages/button/src/button-group.vue";var za=Ua.exports;za.install=function(t){t.component(za.name,za)};var Ka=za,$a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-table",class:[{"el-table--fit":t.fit,"el-table--striped":t.stripe,"el-table--border":t.border||t.isGroup,"el-table--hidden":t.isHidden,"el-table--group":t.isGroup,"el-table--fluid-height":t.maxHeight,"el-table--scrollable-x":t.layout.scrollX,"el-table--scrollable-y":t.layout.scrollY,"el-table--enable-row-hover":!t.store.states.isComplex,"el-table--enable-row-transition":0!==(t.store.states.data||[]).length&&(t.store.states.data||[]).length<100},t.tableSize?"el-table--"+t.tableSize:""],on:{mouseleave:function(e){t.handleMouseLeave(e)}}},[i("div",{ref:"hiddenColumns",staticClass:"hidden-columns"},[t._t("default")],2),t.showHeader?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"headerWrapper",staticClass:"el-table__header-wrapper"},[i("table-header",{ref:"tableHeader",style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"default-sort":t.defaultSort}})],1):t._e(),i("div",{ref:"bodyWrapper",staticClass:"el-table__body-wrapper",class:[t.layout.scrollX?"is-scrolling-"+t.scrollPosition:"is-scrolling-none"],style:[t.bodyHeight]},[i("table-body",{style:{width:t.bodyWidth},attrs:{context:t.context,store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.data&&0!==t.data.length?t._e():i("div",{ref:"emptyBlock",staticClass:"el-table__empty-block",style:t.emptyBlockStyle},[i("span",{staticClass:"el-table__empty-text"},[t._t("empty",[t._v(t._s(t.emptyText||t.t("el.table.emptyText")))])],2)]),t.$slots.append?i("div",{ref:"appendWrapper",staticClass:"el-table__append-wrapper"},[t._t("append")],2):t._e()],1),t.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"},{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"footerWrapper",staticClass:"el-table__footer-wrapper"},[i("table-footer",{style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,"default-sort":t.defaultSort}})],1):t._e(),t.fixedColumns.length>0?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"fixedWrapper",staticClass:"el-table__fixed",style:[{width:t.layout.fixedWidth?t.layout.fixedWidth+"px":""},t.fixedHeight]},[t.showHeader?i("div",{ref:"fixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[i("table-header",{ref:"fixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,store:t.store}})],1):t._e(),i("div",{ref:"fixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[i("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"left",store:t.store,stripe:t.stripe,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"row-style":t.rowStyle}}),t.$slots.append?i("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"fixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[i("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"rightFixedWrapper",staticClass:"el-table__fixed-right",style:[{width:t.layout.rightFixedWidth?t.layout.rightFixedWidth+"px":"",right:t.layout.scrollY?(t.border?t.layout.gutterWidth:t.layout.gutterWidth||0)+"px":""},t.fixedHeight]},[t.showHeader?i("div",{ref:"rightFixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[i("table-header",{ref:"rightFixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,store:t.store}})],1):t._e(),i("div",{ref:"rightFixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[i("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"right",store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.$slots.append?i("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"rightFixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[i("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?i("div",{ref:"rightFixedPatch",staticClass:"el-table__fixed-right-patch",style:{width:t.layout.scrollY?t.layout.gutterWidth+"px":"0",height:t.layout.headerHeight+"px"}}):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.resizeProxyVisible,expression:"resizeProxyVisible"}],ref:"resizeProxy",staticClass:"el-table__column-resize-proxy"})])},ja=[];$a._withStripped=!0;var Ja=i(17),qa=i.n(Ja),Za=i(35),Qa=i(38),tr=i.n(Qa),er="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,ir=function(t,e){t&&t.addEventListener&&t.addEventListener(er?"DOMMouseScroll":"mousewheel",function(t){var i=tr()(t);e&&e.apply(this,[t,i])})},ar={bind:function(t,e){ir(t,e.value)}},rr=i(6),nr=i.n(rr),or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr=function(t){for(var e=t.target;e&&"HTML"!==e.tagName.toUpperCase();){if("TD"===e.tagName.toUpperCase())return e;e=e.parentNode}return null},lr=function(t){return null!==t&&"object"===(void 0===t?"undefined":or(t))},hr=function(t,e,i,a,r){if(!e&&!a&&(!r||Array.isArray(r)&&!r.length))return t;i="string"==typeof i?"descending"===i?-1:1:i&&i<0?-1:1;var n=a?null:function(i,a){return r?(Array.isArray(r)||(r=[r]),r.map(function(e){return"string"==typeof e?Object(W.getValueByPath)(i,e):e(i,a,t)})):("$key"!==e&&lr(i)&&"$value"in i&&(i=i.$value),[lr(i)?Object(W.getValueByPath)(i,e):i])},o=function(t,e){if(a)return a(t.value,e.value);for(var i=0,r=t.key.length;i<r;i++){if(t.key[i]<e.key[i])return-1;if(t.key[i]>e.key[i])return 1}return 0};return t.map(function(t,e){return{value:t,index:e,key:n?n(t,e):null}}).sort(function(t,e){var a=o(t,e);return a||(a=t.index-e.index),a*i}).map(function(t){return t.value})},ur=function(t,e){var i=null;return t.columns.forEach(function(t){t.id===e&&(i=t)}),i},cr=function(t,e){for(var i=null,a=0;a<t.columns.length;a++){var r=t.columns[a];if(r.columnKey===e){i=r;break}}return i},dr=function(t,e){var i=(e.className||"").match(/el-table_[^\s]+/gm);return i?ur(t,i[0]):null},fr=function(t,e){if(!t)throw new Error("row is required when get row identity");if("string"==typeof e){if(e.indexOf(".")<0)return t[e];for(var i=e.split("."),a=t,r=0;r<i.length;r++)a=a[i[r]];return a}if("function"==typeof e)return e.call(null,t)},pr=function(t,e){var i={};return(t||[]).forEach(function(t,a){i[fr(t,e)]={row:t,index:a}}),i},mr={data:function(){return{states:{defaultExpandAll:!1,expandRows:[]}}},methods:{updateExpandRows:function(){var t=this.states,e=t.data,i=void 0===e?[]:e,a=t.rowKey,r=t.defaultExpandAll,n=t.expandRows;if(r)this.states.expandRows=i.slice();else if(a){var o=pr(n,a);this.states.expandRows=i.reduce(function(t,e){var i=fr(e,a);return o[i]&&t.push(e),t},[])}else this.states.expandRows=[]},toggleRowExpansion:function(t,e){d(this.states.expandRows,t,e)&&(this.table.$emit("expand-change",t,this.states.expandRows.slice()),this.scheduleLayout())},setExpandRowKeys:function(t){this.assertRowKey();var e=this.states,i=e.data,a=e.rowKey,r=pr(i,a);this.states.expandRows=t.reduce(function(t,e){var i=r[e];return i&&t.push(i.row),t},[])},isRowExpanded:function(t){var e=this.states,i=e.expandRows,a=void 0===i?[]:i,r=e.rowKey;if(r){return!!pr(a,r)[fr(t,r)]}return-1!==a.indexOf(t)}}},Cr={data:function(){return{states:{_currentRowKey:null,currentRow:null}}},methods:{setCurrentRowKey:function(t){this.assertRowKey(),this.states._currentRowKey=t,this.setCurrentRowByKey(t)},restoreCurrentRowKey:function(){this.states._currentRowKey=null},setCurrentRowByKey:function(t){var e=this.states,i=e.data,a=void 0===i?[]:i,r=e.rowKey,n=null;r&&(n=Object(W.arrayFind)(a,function(e){return fr(e,r)===t})),e.currentRow=n},updateCurrentRow:function(t){var e=this.states,i=this.table,a=e.currentRow;if(t&&t!==a)return e.currentRow=t,void i.$emit("current-change",t,a);!t&&a&&(e.currentRow=null,i.$emit("current-change",null,a))},updateCurrentRowData:function(){var t=this.states,e=this.table,i=t.rowKey,a=t._currentRowKey,r=t.data||[],n=t.currentRow;if(-1===r.indexOf(n)&&n){if(i){var o=fr(n,i);this.setCurrentRowByKey(o)}else t.currentRow=null;null===t.currentRow&&e.$emit("current-change",null,n)}else a&&(this.setCurrentRowByKey(a),this.restoreCurrentRowKey())}}},vr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Dr={data:function(){return{states:{expandRowKeys:[],treeData:{},indent:16,lazy:!1,lazyTreeNodeMap:{},lazyColumnIdentifier:"hasChildren",childrenColumnName:"children"}}},computed:{normalizedData:function(){if(!this.states.rowKey)return{};var t=this.states.data||[];return this.normalize(t)},normalizedLazyNode:function(){var t=this.states,e=t.rowKey,i=t.lazyTreeNodeMap,a=t.lazyColumnIdentifier,r=Object.keys(i),n={};return r.length?(r.forEach(function(t){if(i[t].length){var r={children:[]};i[t].forEach(function(t){var i=fr(t,e);r.children.push(i),t[a]&&!n[i]&&(n[i]={children:[]})}),n[t]=r}}),n):n}},watch:{normalizedData:"updateTreeData",normalizedLazyNode:"updateTreeData"},methods:{normalize:function(t){var e=this.states,i=e.childrenColumnName,a=e.lazyColumnIdentifier,r=e.rowKey,n=e.lazy,o={};return f(t,function(t,e,i){var a=fr(t,r);Array.isArray(e)?o[a]={children:e.map(function(t){return fr(t,r)}),level:i}:n&&(o[a]={children:[],lazy:!0,level:i})},i,a),o},updateTreeData:function(){var t=this.normalizedData,e=this.normalizedLazyNode,i=Object.keys(t),a={};if(i.length){var r=this.states,n=r.treeData,o=r.defaultExpandAll,s=r.expandRowKeys,l=r.lazy,h=[],u=function(t,e){var i=o||s&&-1!==s.indexOf(e);return!!(t&&t.expanded||i)};i.forEach(function(e){var i=n[e],r=vr({},t[e]);if(r.expanded=u(i,e),r.lazy){var o=i||{},s=o.loaded,l=void 0!==s&&s,c=o.loading,d=void 0!==c&&c;r.loaded=!!l,r.loading=!!d,h.push(e)}a[e]=r});var c=Object.keys(e);l&&c.length&&h.length&&c.forEach(function(t){var i=n[t],r=e[t].children;if(-1!==h.indexOf(t)){if(0!==a[t].children.length)throw new Error("[ElTable]children must be an empty array.");a[t].children=r}else{var o=i||{},s=o.loaded,l=void 0!==s&&s,c=o.loading,d=void 0!==c&&c;a[t]={lazy:!0,loaded:!!l,loading:!!d,expanded:u(i,t),children:r,level:""}}})}this.states.treeData=a,this.updateTableScrollY()},updateTreeExpandKeys:function(t){this.states.expandRowKeys=t,this.updateTreeData()},toggleTreeExpansion:function(t,e){this.assertRowKey();var i=this.states,a=i.rowKey,r=i.treeData,n=fr(t,a),o=n&&r[n];if(n&&o&&"expanded"in o){var s=o.expanded;e=void 0===e?!o.expanded:e,r[n].expanded=e,s!==e&&this.table.$emit("expand-change",t,e),this.updateTableScrollY()}},loadOrToggle:function(t){this.assertRowKey();var e=this.states,i=e.lazy,a=e.treeData,r=e.rowKey,n=fr(t,r),o=a[n];i&&o&&"loaded"in o&&!o.loaded?this.loadData(t,n,o):this.toggleTreeExpansion(t)},loadData:function(t,e,i){var a=this,r=this.table.load,n=this.states.treeData;r&&!n[e].loaded&&(n[e].loading=!0,r(t,i,function(i){if(!Array.isArray(i))throw new Error("[ElTable] data must be an array");var r=a.states,n=r.lazyTreeNodeMap,o=r.treeData;o[e].loading=!1,o[e].loaded=!0,o[e].expanded=!0,i.length&&a.$set(n,e,i),a.table.$emit("expand-change",t,!0)}))}}},gr=function(t,e){var i=e.sortingColumn;return i&&"string"!=typeof i.sortable?hr(t,e.sortProp,e.sortOrder,i.sortMethod,i.sortBy):t},Sr=function t(e){var i=[];return e.forEach(function(e){e.children?i.push.apply(i,t(e.children)):i.push(e)}),i},xr=nr.a.extend({data:function(){return{states:{rowKey:null,data:[],isComplex:!1,_columns:[],originColumns:[],columns:[],fixedColumns:[],rightFixedColumns:[],leafColumns:[],fixedLeafColumns:[],rightFixedLeafColumns:[],leafColumnsLength:0,fixedLeafColumnsLength:0,rightFixedLeafColumnsLength:0,isAllSelected:!1,selection:[],reserveSelection:!1,selectOnIndeterminate:!1,selectable:null,filters:{},filteredData:null,sortingColumn:null,sortProp:null,sortOrder:null,hoverRow:null}}},mixins:[mr,Cr,Dr],methods:{assertRowKey:function(){if(!this.states.rowKey)throw new Error("[ElTable] prop row-key is required")},updateColumns:function(){var t=this.states,e=t._columns||[];t.fixedColumns=e.filter(function(t){return!0===t.fixed||"left"===t.fixed}),t.rightFixedColumns=e.filter(function(t){return"right"===t.fixed}),t.fixedColumns.length>0&&e[0]&&"selection"===e[0].type&&!e[0].fixed&&(e[0].fixed=!0,t.fixedColumns.unshift(e[0]));var i=e.filter(function(t){return!t.fixed});t.originColumns=[].concat(t.fixedColumns).concat(i).concat(t.rightFixedColumns);var a=Sr(i),r=Sr(t.fixedColumns),n=Sr(t.rightFixedColumns);t.leafColumnsLength=a.length,t.fixedLeafColumnsLength=r.length,t.rightFixedLeafColumnsLength=n.length,t.columns=[].concat(r).concat(a).concat(n),t.isComplex=t.fixedColumns.length>0||t.rightFixedColumns.length>0},scheduleLayout:function(t){t&&this.updateColumns(),this.table.debouncedUpdateLayout()},isSelected:function(t){var e=this.states.selection;return(void 0===e?[]:e).indexOf(t)>-1},clearSelection:function(){var t=this.states;t.isAllSelected=!1,t.selection.length&&(t.selection=[],this.table.$emit("selection-change",[]))},cleanSelection:function(){var t=this.states,e=t.data,i=t.rowKey,a=t.selection,r=void 0;if(i){r=[];var n=pr(a,i),o=pr(e,i);for(var s in n)n.hasOwnProperty(s)&&!o[s]&&r.push(n[s].row)}else r=a.filter(function(t){return-1===e.indexOf(t)});if(r.length){var l=a.filter(function(t){return-1===r.indexOf(t)});t.selection=l,this.table.$emit("selection-change",l.slice())}},toggleRowSelection:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(d(this.states.selection,t,e)){var a=(this.states.selection||[]).slice();i&&this.table.$emit("select",a,t),this.table.$emit("selection-change",a)}},_toggleAllSelection:function(){var t=this.states,e=t.data,i=void 0===e?[]:e,a=t.selection,r=t.selectOnIndeterminate?!t.isAllSelected:!(t.isAllSelected||a.length);t.isAllSelected=r;var n=!1;i.forEach(function(e,i){t.selectable?t.selectable.call(null,e,i)&&d(a,e,r)&&(n=!0):d(a,e,r)&&(n=!0)}),n&&this.table.$emit("selection-change",a?a.slice():[]),this.table.$emit("select-all",a)},updateSelectionByRowKey:function(){var t=this.states,e=t.selection,i=t.rowKey,a=t.data,r=pr(e,i);a.forEach(function(t){var a=fr(t,i),n=r[a];n&&(e[n.index]=t)})},updateAllSelected:function(){var t=this.states,e=t.selection,i=t.rowKey,a=t.selectable,r=t.data||[];if(0===r.length)return void(t.isAllSelected=!1);var n=void 0;i&&(n=pr(e,i));for(var o=!0,s=0,l=0,h=r.length;l<h;l++){var u=r[l],c=a&&a.call(null,u,l);if(function(t){return n?!!n[fr(t,i)]:-1!==e.indexOf(t)}(u))s++;else if(!a||c){o=!1;break}}0===s&&(o=!1),t.isAllSelected=o},updateFilters:function(t,e){Array.isArray(t)||(t=[t]);var i=this.states,a={};return t.forEach(function(t){i.filters[t.id]=e,a[t.columnKey||t.id]=e}),a},updateSort:function(t,e,i){this.states.sortingColumn&&this.states.sortingColumn!==t&&(this.states.sortingColumn.order=null),this.states.sortingColumn=t,this.states.sortProp=e,this.states.sortOrder=i},execFilter:function(){var t=this,e=this.states,i=e._data,a=e.filters,r=i;Object.keys(a).forEach(function(i){var a=e.filters[i];if(a&&0!==a.length){var n=ur(t.states,i);n&&n.filterMethod&&(r=r.filter(function(t){return a.some(function(e){return n.filterMethod.call(null,e,t,n)})}))}}),e.filteredData=r},execSort:function(){var t=this.states;t.data=gr(t.filteredData,t)},execQuery:function(t){t&&t.filter||this.execFilter(),this.execSort()},clearFilter:function(t){var e=this.states,i=this.table.$refs,a=i.tableHeader,r=i.fixedTableHeader,n=i.rightFixedTableHeader,o={};a&&(o=Xe()(o,a.filterPanels)),r&&(o=Xe()(o,r.filterPanels)),n&&(o=Xe()(o,n.filterPanels));var s=Object.keys(o);if(s.length)if("string"==typeof t&&(t=[t]),Array.isArray(t)){var l=t.map(function(t){return cr(e,t)});s.forEach(function(t){l.find(function(e){return e.id===t})&&(o[t].filteredValue=[])}),this.commit("filterChange",{column:l,values:[],silent:!0,multi:!0})}else s.forEach(function(t){o[t].filteredValue=[]}),e.filters={},this.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:function(){this.states.sortingColumn&&(this.updateSort(null,null,null),this.commit("changeSortCondition",{silent:!0}))},setExpandRowKeysAdapter:function(t){this.setExpandRowKeys(t),this.updateTreeExpandKeys(t)},toggleRowExpansionAdapter:function(t,e){this.states.columns.some(function(t){return"expand"===t.type})?this.toggleRowExpansion(t,e):this.toggleTreeExpansion(t,e)}}});xr.prototype.mutations={setData:function(t,e){var i=t._data!==e;t._data=e,this.execQuery(),this.updateCurrentRowData(),this.updateExpandRows(),t.reserveSelection?(this.assertRowKey(),this.updateSelectionByRowKey()):i?this.clearSelection():this.cleanSelection(),this.updateAllSelected(),this.updateTableScrollY()},insertColumn:function(t,e,i,a){var r=t._columns;a&&((r=a.children)||(r=a.children=[])),void 0!==i?r.splice(i,0,e):r.push(e),"selection"===e.type&&(t.selectable=e.selectable,t.reserveSelection=e.reserveSelection),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},removeColumn:function(t,e,i){var a=t._columns;i&&((a=i.children)||(a=i.children=[])),a&&a.splice(a.indexOf(e),1),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},sort:function(t,e){var i=e.prop,a=e.order,r=e.init;if(i){var n=Object(W.arrayFind)(t.columns,function(t){return t.property===i});n&&(n.order=a,this.updateSort(n,i,a),this.commit("changeSortCondition",{init:r}))}},changeSortCondition:function(t,e){var i=t.sortingColumn,a=t.sortProp,r=t.sortOrder;null===r&&(t.sortingColumn=null,t.sortProp=null);var n={filter:!0};this.execQuery(n),e&&(e.silent||e.init)||this.table.$emit("sort-change",{column:i,prop:a,order:r}),this.updateTableScrollY()},filterChange:function(t,e){var i=e.column,a=e.values,r=e.silent,n=this.updateFilters(i,a);this.execQuery(),r||this.table.$emit("filter-change",n),this.updateTableScrollY()},toggleAllSelection:function(){this.toggleAllSelection()},rowSelectedChanged:function(t,e){this.toggleRowSelection(e),this.updateAllSelected()},setHoverRow:function(t,e){t.hoverRow=e},setCurrentRow:function(t,e){this.updateCurrentRow(e)}},xr.prototype.commit=function(t){var e=this.mutations;if(!e[t])throw new Error("Action not found: "+t);for(var i=arguments.length,a=Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];e[t].apply(this,[this.states].concat(a))},xr.prototype.updateTableScrollY=function(){nr.a.nextTick(this.table.updateScrollY)};var br=xr,Ir=i(30),Tr=i.n(Ir),yr=function(){function t(e){C(this,t),this.observers=[],this.table=null,this.store=null,this.columns=null,this.fit=!0,this.showHeader=!0,this.height=null,this.scrollX=!1,this.scrollY=!1,this.bodyWidth=null,this.fixedWidth=null,this.rightFixedWidth=null,this.tableHeight=null,this.headerHeight=44,this.appendHeight=0,this.footerHeight=44,this.viewportHeight=null,this.bodyHeight=null,this.fixedBodyHeight=null,this.gutterWidth=Tr()();for(var i in e)e.hasOwnProperty(i)&&(this[i]=e[i]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}return t.prototype.updateScrollY=function(){if(null===this.height)return!1;var t=this.table.bodyWrapper;if(this.table.$el&&t){var e=t.querySelector(".el-table__body"),i=this.scrollY,a=e.offsetHeight>this.bodyHeight;return this.scrollY=a,i!==a}return!1},t.prototype.setHeight=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";if(!nr.a.prototype.$isServer){var a=this.table.$el;if(t=u(t),this.height=t,!a&&(t||0===t))return nr.a.nextTick(function(){return e.setHeight(t,i)});"number"==typeof t?(a.style[i]=t+"px",this.updateElsHeight()):"string"==typeof t&&(a.style[i]=t,this.updateElsHeight())}},t.prototype.setMaxHeight=function(t){this.setHeight(t,"max-height")},t.prototype.getFlattenColumns=function(){var t=[];return this.table.columns.forEach(function(e){e.isColumnGroup?t.push.apply(t,e.columns):t.push(e)}),t},t.prototype.updateElsHeight=function(){var t=this;if(!this.table.$ready)return nr.a.nextTick(function(){return t.updateElsHeight()});var e=this.table.$refs,i=e.headerWrapper,a=e.appendWrapper,r=e.footerWrapper;if(this.appendHeight=a?a.offsetHeight:0,!this.showHeader||i){var n=i?i.querySelector(".el-table__header tr"):null,o=this.headerDisplayNone(n),s=this.headerHeight=this.showHeader?i.offsetHeight:0;if(this.showHeader&&!o&&i.offsetWidth>0&&(this.table.columns||[]).length>0&&s<2)return nr.a.nextTick(function(){return t.updateElsHeight()});var l=this.tableHeight=this.table.$el.clientHeight,h=this.footerHeight=r?r.offsetHeight:0;null!==this.height&&(this.bodyHeight=l-s-h+(r?1:0)),this.fixedBodyHeight=this.scrollX?this.bodyHeight-this.gutterWidth:this.bodyHeight;var u=!(this.store.states.data&&this.store.states.data.length);this.viewportHeight=this.scrollX?l-(u?0:this.gutterWidth):l,this.updateScrollY(),this.notifyObservers("scrollable")}},t.prototype.headerDisplayNone=function(t){if(!t)return!0;for(var e=t;"DIV"!==e.tagName;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},t.prototype.updateColumnsWidth=function(){if(!nr.a.prototype.$isServer){var t=this.fit,e=this.table.$el.clientWidth,i=0,a=this.getFlattenColumns(),r=a.filter(function(t){return"number"!=typeof t.width});if(a.forEach(function(t){"number"==typeof t.width&&t.realWidth&&(t.realWidth=null)}),r.length>0&&t){a.forEach(function(t){i+=t.width||t.minWidth||80});var n=this.scrollY?this.gutterWidth:0;if(i<=e-n){this.scrollX=!1;var o=e-n-i;if(1===r.length)r[0].realWidth=(r[0].minWidth||80)+o;else{var s=r.reduce(function(t,e){return t+(e.minWidth||80)},0),l=o/s,h=0;r.forEach(function(t,e){if(0!==e){var i=Math.floor((t.minWidth||80)*l);h+=i,t.realWidth=(t.minWidth||80)+i}}),r[0].realWidth=(r[0].minWidth||80)+o-h}}else this.scrollX=!0,r.forEach(function(t){t.realWidth=t.minWidth});this.bodyWidth=Math.max(i,e),this.table.resizeState.width=this.bodyWidth}else a.forEach(function(t){t.width||t.minWidth?t.realWidth=t.width||t.minWidth:t.realWidth=80,i+=t.realWidth}),this.scrollX=i>e,this.bodyWidth=i;var u=this.store.states.fixedColumns;if(u.length>0){var c=0;u.forEach(function(t){c+=t.realWidth||t.width}),this.fixedWidth=c}var d=this.store.states.rightFixedColumns;if(d.length>0){var f=0;d.forEach(function(t){f+=t.realWidth||t.width}),this.rightFixedWidth=f}this.notifyObservers("columns")}},t.prototype.addObserver=function(t){this.observers.push(t)},t.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);-1!==e&&this.observers.splice(e,1)},t.prototype.notifyObservers=function(t){var e=this;this.observers.forEach(function(i){switch(t){case"columns":i.onColumnsChange(e);break;case"scrollable":i.onScrollableChange(e);break;default:throw new Error("Table Layout don't have event "+t+".")}})},t}(),wr=yr,Er={created:function(){this.tableLayout.addObserver(this)},destroyed:function(){this.tableLayout.removeObserver(this)},computed:{tableLayout:function(){var t=this.layout;if(!t&&this.table&&(t=this.table.layout),!t)throw new Error("Can not find table layout.");return t}},mounted:function(){this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout)},updated:function(){this.__updated__||(this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout),this.__updated__=!0)},methods:{onColumnsChange:function(t){var e=this.$el.querySelectorAll("colgroup > col");if(e.length){var i=t.getFlattenColumns(),a={};i.forEach(function(t){a[t.id]=t});for(var r=0,n=e.length;r<n;r++){var o=e[r],s=o.getAttribute("name"),l=a[s];l&&o.setAttribute("width",l.realWidth||l.width)}}},onScrollableChange:function(t){for(var e=this.$el.querySelectorAll("colgroup > col[name=gutter]"),i=0,a=e.length;i<a;i++){e[i].setAttribute("width",t.scrollY?t.gutterWidth:"0")}for(var r=this.$el.querySelectorAll("th.gutter"),n=0,o=r.length;n<o;n++){var s=r[n];s.style.width=t.scrollY?t.gutterWidth+"px":"0",s.style.display=t.scrollY?"":"none"}}}},Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Mr={name:"ElTableBody",mixins:[Er],components:{ElCheckbox:qa.a,ElTooltip:Te.a},props:{store:{required:!0},stripe:Boolean,context:{},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:String,highlight:Boolean},render:function(t){var e=this,i=this.data||[];return t("table",{class:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map(function(e){return t("col",{attrs:{name:e.id},key:e.id})})]),t("tbody",[i.reduce(function(t,i){return t.concat(e.wrappedRowRender(i,t.length))},[]),t("el-tooltip",{attrs:{effect:this.table.tooltipEffect,placement:"top",content:this.tooltipContent},ref:"tooltip"})])])},computed:Lr({table:function(){return this.$parent}},m({data:"data",columns:"columns",treeIndent:"indent",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length},hasExpandColumn:function(t){return t.columns.some(function(t){return"expand"===t.type})}}),{firstDefaultColumnIndex:function(){return Object(W.arrayFindIndex)(this.columns,function(t){return"default"===t.type})}}),watch:{"store.states.hoverRow":function(t,e){var i=this;if(this.store.states.isComplex&&!this.$isServer){var a=window.requestAnimationFrame;a||(a=function(t){return setTimeout(t,16)}),a(function(){var a=i.$el.querySelectorAll(".el-table__row"),r=a[e],n=a[t];r&&Object(oe.removeClass)(r,"hover-row"),n&&Object(oe.addClass)(n,"hover-row")})}}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=ht()(50,function(t){return t.handleShowPopper()})},methods:{getKeyOfRow:function(t,e){var i=this.table.rowKey;return i?fr(t,i):e},isColumnHidden:function(t){return!0===this.fixed||"left"===this.fixed?t>=this.leftFixedLeafCount:"right"===this.fixed?t<this.columnsCount-this.rightFixedLeafCount:t<this.leftFixedLeafCount||t>=this.columnsCount-this.rightFixedLeafCount},getSpan:function(t,e,i,a){var r=1,n=1,o=this.table.spanMethod;if("function"==typeof o){var s=o({row:t,column:e,rowIndex:i,columnIndex:a});Array.isArray(s)?(r=s[0],n=s[1]):"object"===(void 0===s?"undefined":Fr(s))&&(r=s.rowspan,n=s.colspan)}return{rowspan:r,colspan:n}},getRowStyle:function(t,e){var i=this.table.rowStyle;return"function"==typeof i?i.call(null,{row:t,rowIndex:e}):i||null},getRowClass:function(t,e){var i=["el-table__row"];this.table.highlightCurrentRow&&t===this.store.states.currentRow&&i.push("current-row"),this.stripe&&e%2==1&&i.push("el-table__row--striped");var a=this.table.rowClassName;return"string"==typeof a?i.push(a):"function"==typeof a&&i.push(a.call(null,{row:t,rowIndex:e})),this.store.states.expandRows.indexOf(t)>-1&&i.push("expanded"),i},getCellStyle:function(t,e,i,a){var r=this.table.cellStyle;return"function"==typeof r?r.call(null,{rowIndex:t,columnIndex:e,row:i,column:a}):r},getCellClass:function(t,e,i,a){var r=[a.id,a.align,a.className];this.isColumnHidden(e)&&r.push("is-hidden");var n=this.table.cellClassName;return"string"==typeof n?r.push(n):"function"==typeof n&&r.push(n.call(null,{rowIndex:t,columnIndex:e,row:i,column:a})),r.join(" ")},getColspanRealWidth:function(t,e,i){return e<1?t[i].realWidth:t.map(function(t){return t.realWidth}).slice(i,i+e).reduce(function(t,e){return t+e},-1)},handleCellMouseEnter:function(t,e){var i=this.table,a=sr(t);if(a){var r=dr(i,a),n=i.hoverState={cell:a,column:r,row:e};i.$emit("cell-mouse-enter",n.row,n.column,n.cell,t)}var o=t.target.querySelector(".cell");if(Object(oe.hasClass)(o,"el-tooltip")&&o.childNodes.length){var s=document.createRange();s.setStart(o,0),s.setEnd(o,o.childNodes.length);if((s.getBoundingClientRect().width+((parseInt(Object(oe.getStyle)(o,"paddingLeft"),10)||0)+(parseInt(Object(oe.getStyle)(o,"paddingRight"),10)||0))>o.offsetWidth||o.scrollWidth>o.offsetWidth)&&this.$refs.tooltip){var l=this.$refs.tooltip;this.tooltipContent=a.innerText||a.textContent,l.referenceElm=a,l.$refs.popper&&(l.$refs.popper.style.display="none"),l.doDestroy(),l.setExpectedState(!0),this.activateTooltip(l)}}},handleCellMouseLeave:function(t){var e=this.$refs.tooltip;if(e&&(e.setExpectedState(!1),e.handleClosePopper()),sr(t)){var i=this.table.hoverState||{};this.table.$emit("cell-mouse-leave",i.row,i.column,i.cell,t)}},handleMouseEnter:ht()(30,function(t){this.store.commit("setHoverRow",t)}),handleMouseLeave:ht()(30,function(){this.store.commit("setHoverRow",null)}),handleContextMenu:function(t,e){this.handleEvent(t,e,"contextmenu")},handleDoubleClick:function(t,e){this.handleEvent(t,e,"dblclick")},handleClick:function(t,e){this.store.commit("setCurrentRow",e),this.handleEvent(t,e,"click")},handleEvent:function(t,e,i){var a=this.table,r=sr(t),n=void 0;r&&(n=dr(a,r))&&a.$emit("cell-"+i,e,n,r,t),a.$emit("row-"+i,e,n,t)},rowRender:function(t,e,i){var a=this,r=this.$createElement,n=this.treeIndent,o=this.columns,s=this.firstDefaultColumnIndex,l=o.map(function(t,e){return a.isColumnHidden(e)}),h=this.getRowClass(t,e),u=!0;return i&&(h.push("el-table__row--level-"+i.level),u=i.display),r("tr",{style:[u?null:{display:"none"},this.getRowStyle(t,e)],class:h,key:this.getKeyOfRow(t,e),on:{dblclick:function(e){return a.handleDoubleClick(e,t)},click:function(e){return a.handleClick(e,t)},contextmenu:function(e){return a.handleContextMenu(e,t)},mouseenter:function(t){return a.handleMouseEnter(e)},mouseleave:this.handleMouseLeave}},[o.map(function(h,u){var c=a.getSpan(t,h,e,u),d=c.rowspan,f=c.colspan;if(!d||!f)return null;var p=Lr({},h);p.realWidth=a.getColspanRealWidth(o,f,u);var m={store:a.store,_self:a.context||a.table.$vnode.context,column:p,row:t,$index:e};return u===s&&i&&(m.treeNode={indent:i.level*n,level:i.level},"boolean"==typeof i.expanded&&(m.treeNode.expanded=i.expanded,"loading"in i&&(m.treeNode.loading=i.loading),"noLazyChildren"in i&&(m.treeNode.noLazyChildren=i.noLazyChildren))),r("td",{style:a.getCellStyle(e,u,t,h),class:a.getCellClass(e,u,t,h),attrs:{rowspan:d,colspan:f},on:{mouseenter:function(e){return a.handleCellMouseEnter(e,t)},mouseleave:a.handleCellMouseLeave}},[h.renderCell.call(a._renderProxy,a.$createElement,m,l[u])])})])},wrappedRowRender:function(t,e){var i=this,a=this.$createElement,r=this.store,n=r.isRowExpanded,o=r.assertRowKey,s=r.states,l=s.treeData,h=s.lazyTreeNodeMap,u=s.childrenColumnName,c=s.rowKey;if(this.hasExpandColumn&&n(t)){var d=this.table.renderExpanded,f=this.rowRender(t,e);return d?[[f,a("tr",{key:"expanded-row__"+f.key},[a("td",{attrs:{colspan:this.columnsCount},class:"el-table__expanded-cell"},[d(this.$createElement,{row:t,$index:e,store:this.store})])])]]:(console.error("[Element Error]renderExpanded is required."),f)}if(Object.keys(l).length){o();var p=fr(t,c),m=l[p],C=null;m&&(C={expanded:m.expanded,level:m.level,display:!0},"boolean"==typeof m.lazy&&("boolean"==typeof m.loaded&&m.loaded&&(C.noLazyChildren=!(m.children&&m.children.length)),C.loading=m.loading));var v=[this.rowRender(t,e,C)];if(m){var D=0;m.display=!0;var g=h[p]||t[u];!function t(a,r){a&&a.length&&r&&a.forEach(function(a){var n={display:r.display&&r.expanded,level:r.level+1},o=fr(a,c);if(void 0===o||null===o)throw new Error("for nested data item, row-key is required.");if(m=Lr({},l[o]),m&&(n.expanded=m.expanded,m.level=m.level||n.level,m.display=!(!m.expanded||!n.display),"boolean"==typeof m.lazy&&("boolean"==typeof m.loaded&&m.loaded&&(n.noLazyChildren=!(m.children&&m.children.length)),n.loading=m.loading)),D++,v.push(i.rowRender(a,e+D,n)),m){var s=h[o]||a[u];t(s,m)}})}(g,m)}return v}return this.rowRender(t,e)}}},Ar=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"}},[t.multiple?i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[i("div",{staticClass:"el-table-filter__content"},[i("el-scrollbar",{attrs:{"wrap-class":"el-table-filter__wrap"}},[i("el-checkbox-group",{staticClass:"el-table-filter__checkbox-group",model:{value:t.filteredValue,callback:function(e){t.filteredValue=e},expression:"filteredValue"}},t._l(t.filters,function(e){return i("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.text))])}),1)],1)],1),i("div",{staticClass:"el-table-filter__bottom"},[i("button",{class:{"is-disabled":0===t.filteredValue.length},attrs:{disabled:0===t.filteredValue.length},on:{click:t.handleConfirm}},[t._v(t._s(t.t("el.table.confirmFilter")))]),i("button",{on:{click:t.handleReset}},[t._v(t._s(t.t("el.table.resetFilter")))])])]):i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[i("ul",{staticClass:"el-table-filter__list"},[i("li",{staticClass:"el-table-filter__list-item",class:{"is-active":void 0===t.filterValue||null===t.filterValue},on:{click:function(e){t.handleSelect(null)}}},[t._v(t._s(t.t("el.table.clearFilter")))]),t._l(t.filters,function(e){return i("li",{key:e.value,staticClass:"el-table-filter__list-item",class:{"is-active":t.isActive(e)},attrs:{label:e.value},on:{click:function(i){t.handleSelect(e.value)}}},[t._v(t._s(e.text))])})],2)])])},Or=[];Ar._withStripped=!0;var Nr=[];!nr.a.prototype.$isServer&&document.addEventListener("click",function(t){Nr.forEach(function(e){var i=t.target;e&&e.$el&&(i===e.$el||e.$el.contains(i)||e.handleOutsideClick&&e.handleOutsideClick(t))})});var _r={open:function(t){t&&Nr.push(t)},close:function(t){-1!==Nr.indexOf(t)&&Nr.splice(t,1)}},Pr=i(31),Rr=i.n(Pr),Br={name:"ElTableFilterPanel",mixins:[mt.a,X.a],directives:{Clickoutside:ct.a},components:{ElCheckbox:qa.a,ElCheckboxGroup:Rr.a,ElScrollbar:vt.a},props:{placement:{type:String,default:"bottom-end"}},methods:{isActive:function(t){return t.value===this.filterValue},handleOutsideClick:function(){var t=this;setTimeout(function(){t.showPopper=!1},16)},handleConfirm:function(){this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleReset:function(){this.filteredValue=[],this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleSelect:function(t){this.filterValue=t,void 0!==t&&null!==t?this.confirmFilter(this.filteredValue):this.confirmFilter([]),this.handleOutsideClick()},confirmFilter:function(t){this.table.store.commit("filterChange",{column:this.column,values:t}),this.table.store.updateAllSelected()}},data:function(){return{table:null,cell:null,column:null}},computed:{filters:function(){return this.column&&this.column.filters},filterValue:{get:function(){return(this.column.filteredValue||[])[0]},set:function(t){this.filteredValue&&(void 0!==t&&null!==t?this.filteredValue.splice(0,1,t):this.filteredValue.splice(0,1))}},filteredValue:{get:function(){return this.column?this.column.filteredValue||[]:[]},set:function(t){this.column&&(this.column.filteredValue=t)}},multiple:function(){return!this.column||this.column.filterMultiple}},mounted:function(){var t=this;this.popperElm=this.$el,this.referenceElm=this.cell,this.table.bodyWrapper.addEventListener("scroll",function(){t.updatePopper()}),this.$watch("showPopper",function(e){t.column&&(t.column.filterOpened=e),e?_r.open(t):_r.close(t)})},watch:{showPopper:function(t){!0===t&&parseInt(this.popperJS._popper.style.zIndex,10)<j.PopupManager.zIndex&&(this.popperJS._popper.style.zIndex=j.PopupManager.nextZIndex())}}},kr=Br,Vr=a(kr,Ar,Or,!1,null,null,null);Vr.options.__file="packages/table/src/filter-panel.vue";var Gr=Vr.exports,Hr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Yr=function t(e){var i=[];return e.forEach(function(e){e.children?(i.push(e),i.push.apply(i,t(e.children))):i.push(e)}),i},Xr=function(t){var e=1,i=function t(i,a){if(a&&(i.level=a.level+1,e<i.level&&(e=i.level)),i.children){var r=0;i.children.forEach(function(e){t(e,i),r+=e.colSpan}),i.colSpan=r}else i.colSpan=1};t.forEach(function(t){t.level=1,i(t)});for(var a=[],r=0;r<e;r++)a.push([]);return Yr(t).forEach(function(t){t.children?t.rowSpan=1:t.rowSpan=e-t.level+1,a[t.level-1].push(t)}),a},Wr={name:"ElTableHeader",mixins:[Er],render:function(t){var e=this,i=this.store.states.originColumns,a=Xr(i,this.columns),r=a.length>1;return r&&(this.$parent.isGroup=!0),t("table",{class:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map(function(e){return t("col",{attrs:{name:e.id},key:e.id})}),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("thead",{class:[{"is-group":r,"has-gutter":this.hasGutter}]},[this._l(a,function(i,a){return t("tr",{style:e.getHeaderRowStyle(a),class:e.getHeaderRowClass(a)},[i.map(function(r,n){return t("th",{attrs:{colspan:r.colSpan,rowspan:r.rowSpan},on:{mousemove:function(t){return e.handleMouseMove(t,r)},mouseout:e.handleMouseOut,mousedown:function(t){return e.handleMouseDown(t,r)},click:function(t){return e.handleHeaderClick(t,r)},contextmenu:function(t){return e.handleHeaderContextMenu(t,r)}},style:e.getHeaderCellStyle(a,n,i,r),class:e.getHeaderCellClass(a,n,i,r),key:r.id},[t("div",{class:["cell",r.filteredValue&&r.filteredValue.length>0?"highlight":"",r.labelClassName]},[r.renderHeader?r.renderHeader.call(e._renderProxy,t,{column:r,$index:n,store:e.store,_self:e.$parent.$vnode.context}):r.label,r.sortable?t("span",{class:"caret-wrapper",on:{click:function(t){return e.handleSortClick(t,r)}}},[t("i",{class:"sort-caret ascending",on:{click:function(t){return e.handleSortClick(t,r,"ascending")}}}),t("i",{class:"sort-caret descending",on:{click:function(t){return e.handleSortClick(t,r,"descending")}}})]):"",r.filterable?t("span",{class:"el-table__column-filter-trigger",on:{click:function(t){return e.handleFilterClick(t,r)}}},[t("i",{class:["el-icon-arrow-down",r.filterOpened?"el-icon-arrow-up":""]})]):""])])}),e.hasGutter?t("th",{class:"gutter"}):""])})])])},props:{fixed:String,store:{required:!0},border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},components:{ElCheckbox:qa.a},computed:Hr({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},m({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length}})),created:function(){this.filterPanels={}},mounted:function(){var t=this;this.$nextTick(function(){var e=t.defaultSort,i=e.prop,a=e.order;t.store.commit("sort",{prop:i,order:a,init:!0})})},beforeDestroy:function(){var t=this.filterPanels;for(var e in t)t.hasOwnProperty(e)&&t[e]&&t[e].$destroy(!0)},methods:{isCellHidden:function(t,e){for(var i=0,a=0;a<t;a++)i+=e[a].colSpan;var r=i+e[t].colSpan-1;return!0===this.fixed||"left"===this.fixed?r>=this.leftFixedLeafCount:"right"===this.fixed?i<this.columnsCount-this.rightFixedLeafCount:r<this.leftFixedLeafCount||i>=this.columnsCount-this.rightFixedLeafCount},getHeaderRowStyle:function(t){var e=this.table.headerRowStyle;return"function"==typeof e?e.call(null,{rowIndex:t}):e},getHeaderRowClass:function(t){var e=[],i=this.table.headerRowClassName;return"string"==typeof i?e.push(i):"function"==typeof i&&e.push(i.call(null,{rowIndex:t})),e.join(" ")},getHeaderCellStyle:function(t,e,i,a){var r=this.table.headerCellStyle;return"function"==typeof r?r.call(null,{rowIndex:t,columnIndex:e,row:i,column:a}):r},getHeaderCellClass:function(t,e,i,a){var r=[a.id,a.order,a.headerAlign,a.className,a.labelClassName];0===t&&this.isCellHidden(e,i)&&r.push("is-hidden"),a.children||r.push("is-leaf"),a.sortable&&r.push("is-sortable");var n=this.table.headerCellClassName;return"string"==typeof n?r.push(n):"function"==typeof n&&r.push(n.call(null,{rowIndex:t,columnIndex:e,row:i,column:a})),r.join(" ")},toggleAllSelection:function(t){t.stopPropagation(),this.store.commit("toggleAllSelection")},handleFilterClick:function(t,e){t.stopPropagation();var i=t.target,a="TH"===i.tagName?i:i.parentNode;if(!Object(oe.hasClass)(a,"noclick")){a=a.querySelector(".el-table__column-filter-trigger")||a;var r=this.$parent,n=this.filterPanels[e.id];if(n&&e.filterOpened)return void(n.showPopper=!1);n||(n=new nr.a(Gr),this.filterPanels[e.id]=n,e.filterPlacement&&(n.placement=e.filterPlacement),n.table=r,n.cell=a,n.column=e,!this.$isServer&&n.$mount(document.createElement("div"))),setTimeout(function(){n.showPopper=!0},16)}},handleHeaderClick:function(t,e){!e.filters&&e.sortable?this.handleSortClick(t,e):e.filterable&&!e.sortable&&this.handleFilterClick(t,e),this.$parent.$emit("header-click",e,t)},handleHeaderContextMenu:function(t,e){this.$parent.$emit("header-contextmenu",e,t)},handleMouseDown:function(t,e){var i=this;if(!this.$isServer&&!(e.children&&e.children.length>0)&&this.draggingColumn&&this.border){this.dragging=!0,this.$parent.resizeProxyVisible=!0;var a=this.$parent,r=a.$el,n=r.getBoundingClientRect().left,o=this.$el.querySelector("th."+e.id),s=o.getBoundingClientRect(),l=s.left-n+30;Object(oe.addClass)(o,"noclick"),this.dragState={startMouseLeft:t.clientX,startLeft:s.right-n,startColumnLeft:s.left-n,tableLeft:n};var h=a.$refs.resizeProxy;h.style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var u=function(t){var e=t.clientX-i.dragState.startMouseLeft,a=i.dragState.startLeft+e;h.style.left=Math.max(l,a)+"px"},c=function r(){if(i.dragging){var n=i.dragState,s=n.startColumnLeft,l=n.startLeft,c=parseInt(h.style.left,10),d=c-s;e.width=e.realWidth=d,a.$emit("header-dragend",e.width,l-s,e,t),i.store.scheduleLayout(),document.body.style.cursor="",i.dragging=!1,i.draggingColumn=null,i.dragState={},a.resizeProxyVisible=!1}document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",r),document.onselectstart=null,document.ondragstart=null,setTimeout(function(){Object(oe.removeClass)(o,"noclick")},0)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",c)}},handleMouseMove:function(t,e){if(!(e.children&&e.children.length>0)){for(var i=t.target;i&&"TH"!==i.tagName;)i=i.parentNode;if(e&&e.resizable&&!this.dragging&&this.border){var a=i.getBoundingClientRect(),r=document.body.style;a.width>12&&a.right-t.pageX<8?(r.cursor="col-resize",Object(oe.hasClass)(i,"is-sortable")&&(i.style.cursor="col-resize"),this.draggingColumn=e):this.dragging||(r.cursor="",Object(oe.hasClass)(i,"is-sortable")&&(i.style.cursor="pointer"),this.draggingColumn=null)}}},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},toggleOrder:function(t){var e=t.order,i=t.sortOrders;if(""===e)return i[0];var a=i.indexOf(e||null);return i[a>i.length-2?0:a+1]},handleSortClick:function(t,e,i){t.stopPropagation();for(var a=e.order===i?null:i||this.toggleOrder(e),r=t.target;r&&"TH"!==r.tagName;)r=r.parentNode;if(r&&"TH"===r.tagName&&Object(oe.hasClass)(r,"noclick"))return void Object(oe.removeClass)(r,"noclick");if(e.sortable){var n=this.store.states,o=n.sortProp,s=void 0,l=n.sortingColumn;(l!==e||l===e&&null===l.order)&&(l&&(l.order=null),n.sortingColumn=e,o=e.property),s=e.order=a||null,n.sortProp=o,n.sortOrder=s,this.store.commit("changeSortCondition")}}},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}}},Ur=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},zr={name:"ElTableFooter",mixins:[Er],render:function(t){var e=this,i=[];return this.summaryMethod?i=this.summaryMethod({columns:this.columns,data:this.store.states.data}):this.columns.forEach(function(t,a){if(0===a)return void(i[a]=e.sumText);var r=e.store.states.data.map(function(e){return Number(e[t.property])}),n=[],o=!0;r.forEach(function(t){if(!isNaN(t)){o=!1;var e=(""+t).split(".")[1];n.push(e?e.length:0)}});var s=Math.max.apply(null,n);i[a]=o?"":r.reduce(function(t,e){var i=Number(e);return isNaN(i)?t:parseFloat((t+e).toFixed(Math.min(s,20)))},0)}),t("table",{class:"el-table__footer",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map(function(e){return t("col",{attrs:{name:e.id},key:e.id})}),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("tbody",{class:[{"has-gutter":this.hasGutter}]},[t("tr",[this.columns.map(function(a,r){return t("td",{key:r,attrs:{colspan:a.colSpan,rowspan:a.rowSpan},class:e.getRowClasses(a,r)},[t("div",{class:["cell",a.labelClassName]},[i[r]])])}),this.hasGutter?t("th",{class:"gutter"}):""])])])},props:{fixed:String,store:{required:!0},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},computed:Ur({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},m({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length}})),methods:{isCellHidden:function(t,e,i){if(!0===this.fixed||"left"===this.fixed)return t>=this.leftFixedLeafCount;if("right"===this.fixed){for(var a=0,r=0;r<t;r++)a+=e[r].colSpan;return a<this.columnsCount-this.rightFixedLeafCount}return!(this.fixed||!i.fixed)||(t<this.leftFixedCount||t>=this.columnsCount-this.rightFixedCount)},getRowClasses:function(t,e){var i=[t.id,t.align,t.labelClassName];return t.className&&i.push(t.className),this.isCellHidden(e,this.columns,t)&&i.push("is-hidden"),t.children||i.push("is-leaf"),i}}},Kr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},$r=1,jr={name:"ElTable",mixins:[X.a,Z.a],directives:{Mousewheel:ar},props:{data:{type:Array,default:function(){return[]}},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],context:{},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:function(){return{hasChildren:"hasChildren",children:"children"}}},lazy:Boolean,load:Function},components:{TableHeader:Wr,TableFooter:zr,TableBody:Mr,ElCheckbox:qa.a},methods:{getMigratingConfig:function(){return{events:{expand:"expand is renamed to expand-change"}}},setCurrentRow:function(t){this.store.commit("setCurrentRow",t)},toggleRowSelection:function(t,e){this.store.toggleRowSelection(t,e,!1),this.store.updateAllSelected()},toggleRowExpansion:function(t,e){this.store.toggleRowExpansionAdapter(t,e)},clearSelection:function(){this.store.clearSelection()},clearFilter:function(t){this.store.clearFilter(t)},clearSort:function(){this.store.clearSort()},handleMouseLeave:function(){this.store.commit("setHoverRow",null),this.hoverState&&(this.hoverState=null)},updateScrollY:function(){this.layout.updateScrollY()&&(this.layout.notifyObservers("scrollable"),this.layout.updateColumnsWidth())},handleFixedMousewheel:function(t,e){var i=this.bodyWrapper;if(Math.abs(e.spinY)>0){var a=i.scrollTop;e.pixelY<0&&0!==a&&t.preventDefault(),e.pixelY>0&&i.scrollHeight-i.clientHeight>a&&t.preventDefault(),i.scrollTop+=Math.ceil(e.pixelY/5)}else i.scrollLeft+=Math.ceil(e.pixelX/5)},handleHeaderFooterMousewheel:function(t,e){var i=e.pixelX,a=e.pixelY;Math.abs(i)>=Math.abs(a)&&(this.bodyWrapper.scrollLeft+=e.pixelX/5)},syncPostion:Object(Za.throttle)(20,function(){var t=this.bodyWrapper,e=t.scrollLeft,i=t.scrollTop,a=t.offsetWidth,r=t.scrollWidth,n=this.$refs,o=n.headerWrapper,s=n.footerWrapper,l=n.fixedBodyWrapper,h=n.rightFixedBodyWrapper;o&&(o.scrollLeft=e),s&&(s.scrollLeft=e),l&&(l.scrollTop=i),h&&(h.scrollTop=i);var u=r-a-1;this.scrollPosition=e>=u?"right":0===e?"left":"middle"}),bindEvents:function(){this.bodyWrapper.addEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Object(va.addResizeListener)(this.$el,this.resizeListener)},unbindEvents:function(){this.bodyWrapper.removeEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Object(va.removeResizeListener)(this.$el,this.resizeListener)},resizeListener:function(){if(this.$ready){var t=!1,e=this.$el,i=this.resizeState,a=i.width,r=i.height,n=e.offsetWidth;a!==n&&(t=!0);var o=e.offsetHeight;(this.height||this.shouldUpdateHeight)&&r!==o&&(t=!0),t&&(this.resizeState.width=n,this.resizeState.height=o,this.doLayout())}},doLayout:function(){this.shouldUpdateHeight&&this.layout.updateElsHeight(),this.layout.updateColumnsWidth()},sort:function(t,e){this.store.commit("sort",{prop:t,order:e})},toggleAllSelection:function(){this.store.commit("toggleAllSelection")}},computed:Kr({tableSize:function(){return this.size||(this.$ELEMENT||{}).size},bodyWrapper:function(){return this.$refs.bodyWrapper},shouldUpdateHeight:function(){return this.height||this.maxHeight||this.fixedColumns.length>0||this.rightFixedColumns.length>0},bodyWidth:function(){var t=this.layout,e=t.bodyWidth,i=t.scrollY,a=t.gutterWidth;return e?e-(i?a:0)+"px":""},bodyHeight:function(){var t=this.layout,e=t.headerHeight,i=void 0===e?0:e,a=t.bodyHeight,r=t.footerHeight,n=void 0===r?0:r;if(this.height)return{height:a?a+"px":""};if(this.maxHeight){var o=u(this.maxHeight);if("number"==typeof o)return{"max-height":o-n-(this.showHeader?i:0)+"px"}}return{}},fixedBodyHeight:function(){if(this.height)return{height:this.layout.fixedBodyHeight?this.layout.fixedBodyHeight+"px":""};if(this.maxHeight){var t=u(this.maxHeight);if("number"==typeof t)return t=this.layout.scrollX?t-this.layout.gutterWidth:t,this.showHeader&&(t-=this.layout.headerHeight),t-=this.layout.footerHeight,{"max-height":t+"px"}}return{}},fixedHeight:function(){return this.maxHeight?this.showSummary?{bottom:0}:{bottom:this.layout.scrollX&&this.data.length?this.layout.gutterWidth+"px":""}:this.showSummary?{height:this.layout.tableHeight?this.layout.tableHeight+"px":""}:{height:this.layout.viewportHeight?this.layout.viewportHeight+"px":""}},emptyBlockStyle:function(){if(this.data&&this.data.length)return null;var t="100%";return this.layout.appendHeight&&(t="calc(100% - "+this.layout.appendHeight+"px)"),{width:this.bodyWidth,height:t}}},m({selection:"selection",columns:"columns",tableData:"data",fixedColumns:"fixedColumns",rightFixedColumns:"rightFixedColumns"})),watch:{height:{immediate:!0,handler:function(t){this.layout.setHeight(t)}},maxHeight:{immediate:!0,handler:function(t){this.layout.setMaxHeight(t)}},currentRowKey:{immediate:!0,handler:function(t){this.rowKey&&this.store.setCurrentRowKey(t)}},data:{immediate:!0,handler:function(t){this.store.commit("setData",t)}},expandRowKeys:{immediate:!0,handler:function(t){t&&this.store.setExpandRowKeysAdapter(t)}}},created:function(){var t=this;this.tableId="el-table_"+$r++,this.debouncedUpdateLayout=Object(Za.debounce)(50,function(){return t.doLayout()})},mounted:function(){var t=this;this.bindEvents(),this.store.updateColumns(),this.doLayout(),this.resizeState={width:this.$el.offsetWidth,height:this.$el.offsetHeight},this.store.states.columns.forEach(function(e){e.filteredValue&&e.filteredValue.length&&t.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})}),this.$ready=!0},destroyed:function(){this.unbindEvents()},data:function(){var t=this.treeProps,e=t.hasChildren,i=void 0===e?"hasChildren":e,a=t.children,r=void 0===a?"children":a;return this.store=p(this,{rowKey:this.rowKey,defaultExpandAll:this.defaultExpandAll,selectOnIndeterminate:this.selectOnIndeterminate,indent:this.indent,lazy:this.lazy,lazyColumnIdentifier:i,childrenColumnName:r}),{layout:new wr({store:this.store,table:this,fit:this.fit,showHeader:this.showHeader}),isHidden:!1,renderExpanded:null,resizeProxyVisible:!1,resizeState:{width:null,height:null},isGroup:!1,scrollPosition:"left"}}},Jr=jr,qr=a(Jr,$a,ja,!1,null,null,null);qr.options.__file="packages/table/src/table.vue";var Zr=qr.exports;Zr.install=function(t){t.component(Zr.name,Zr)};var Qr=Zr,tn={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},en={selection:{renderHeader:function(t,e){var i=e.store;return t("el-checkbox",{attrs:{disabled:i.states.data&&0===i.states.data.length,indeterminate:i.states.selection.length>0&&!this.isAllSelected,value:this.isAllSelected},nativeOn:{click:this.toggleAllSelection}})},renderCell:function(t,e){var i=e.row,a=e.column,r=e.store,n=e.$index;return t("el-checkbox",{nativeOn:{click:function(t){return t.stopPropagation()}},attrs:{value:r.isSelected(i),disabled:!!a.selectable&&!a.selectable.call(null,i,n)},on:{input:function(){r.commit("rowSelectedChanged",i)}}})},sortable:!1,resizable:!1},index:{renderHeader:function(t,e){return e.column.label||"#"},renderCell:function(t,e){var i=e.$index,a=e.column,r=i+1,n=a.index;return"number"==typeof n?r=i+n:"function"==typeof n&&(r=n(i)),t("div",[r])},sortable:!1},expand:{renderHeader:function(t,e){return e.column.label||""},renderCell:function(t,e){var i=e.row,a=e.store,r=["el-table__expand-icon"];return a.states.expandRows.indexOf(i)>-1&&r.push("el-table__expand-icon--expanded"),t("div",{class:r,on:{click:function(t){t.stopPropagation(),a.toggleRowExpansion(i)}}},[t("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}},an=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},rn=1,nn={name:"ElTableColumn",props:{type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{},minWidth:{},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:function(){return["ascending","descending",null]},validator:function(t){return t.every(function(t){return["ascending","descending",null].indexOf(t)>-1})}}},data:function(){return{isSubColumn:!1,columns:[]}},computed:{owner:function(){for(var t=this.$parent;t&&!t.tableId;)t=t.$parent;return t},columnOrTableParent:function(){for(var t=this.$parent;t&&!t.tableId&&!t.columnId;)t=t.$parent;return t},realWidth:function(){return l(this.width)},realMinWidth:function(){return h(this.minWidth)},realAlign:function(){return this.align?"is-"+this.align:null},realHeaderAlign:function(){return this.headerAlign?"is-"+this.headerAlign:this.realAlign}},methods:{getPropsData:function(){for(var t=this,e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];return i.reduce(function(e,i){return Array.isArray(i)&&i.forEach(function(i){e[i]=t[i]}),e},{})},getColumnElIndex:function(t,e){return[].indexOf.call(t,e)},setColumnWidth:function(t){return this.realWidth&&(t.width=this.realWidth),this.realMinWidth&&(t.minWidth=this.realMinWidth),t.minWidth||(t.minWidth=80),t.realWidth=void 0===t.width?t.minWidth:t.width,t},setColumnForcedProps:function(t){var e=t.type,i=en[e]||{};return Object.keys(i).forEach(function(e){var a=i[e];void 0!==a&&(t[e]="className"===e?t[e]+" "+a:a)}),t},setColumnRenders:function(t){var e=this;this.$createElement;this.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==t.type&&(t.renderHeader=function(i,a){var r=e.$scopedSlots.header;return r?r(a):t.label});var i=t.renderCell;return"expand"===t.type?(t.renderCell=function(t,e){return t("div",{class:"cell"},[i(t,e)])},this.owner.renderExpanded=function(t,i){return e.$scopedSlots.default?e.$scopedSlots.default(i):e.$slots.default}):(i=i||v,t.renderCell=function(a,r){var n=null;n=e.$scopedSlots.default?e.$scopedSlots.default(r):i(a,r);var o=D(a,r),s={class:"cell",style:{}};return t.showOverflowTooltip&&(s.class+=" el-tooltip",s.style={width:(r.column.realWidth||r.column.width)-1+"px"}),a("div",s,[o,n])}),t},registerNormalWatchers:function(){var t=this,e=["label","property","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],i={prop:"property",realAlign:"align",realHeaderAlign:"headerAlign",realWidth:"width"},a=e.reduce(function(t,e){return t[e]=e,t},i);Object.keys(a).forEach(function(e){var a=i[e];t.$watch(e,function(e){t.columnConfig[a]=e})})},registerComplexWatchers:function(){var t=this,e=["fixed"],i={realWidth:"width",realMinWidth:"minWidth"},a=e.reduce(function(t,e){return t[e]=e,t},i);Object.keys(a).forEach(function(e){var a=i[e];t.$watch(e,function(e){t.columnConfig[a]=e;var i="fixed"===a;t.owner.store.scheduleLayout(i)})})}},components:{ElCheckbox:qa.a},beforeCreate:function(){this.row={},this.column={},this.$index=0,this.columnId=""},created:function(){var t=this.columnOrTableParent;this.isSubColumn=this.owner!==t,this.columnId=(t.tableId||t.columnId)+"_column_"+rn++;var e=this.type||"default",i=""===this.sortable||this.sortable,a=an({},tn[e],{id:this.columnId,type:e,property:this.prop||this.property,align:this.realAlign,headerAlign:this.realHeaderAlign,showOverflowTooltip:this.showOverflowTooltip||this.showTooltipWhenOverflow,filterable:this.filters||this.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:i,index:this.index}),r=["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],n=["sortMethod","sortBy","sortOrders"],o=["selectable","reserveSelection"],l=["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"],h=this.getPropsData(r,n,o,l);h=s(a,h),h=c(this.setColumnRenders,this.setColumnWidth,this.setColumnForcedProps)(h),this.columnConfig=h,this.registerNormalWatchers(),this.registerComplexWatchers()},mounted:function(){var t=this.owner,e=this.columnOrTableParent,i=this.isSubColumn?e.$el.children:e.$refs.hiddenColumns.children,a=this.getColumnElIndex(i,this.$el);t.store.commit("insertColumn",this.columnConfig,a,this.isSubColumn?e.columnConfig:null)},destroyed:function(){if(this.$parent){var t=this.$parent;this.owner.store.commit("removeColumn",this.columnConfig,this.isSubColumn?t.columnConfig:null)}},render:function(t){return t("div",this.$slots.default)}};nn.install=function(t){t.component(nn.name,nn)};var on=nn,sn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.ranged?i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor el-range-editor el-input__inner",class:["el-date-editor--"+t.type,t.pickerSize?"el-range-editor--"+t.pickerSize:"",t.pickerDisabled?"is-disabled":"",t.pickerVisible?"is-active":""],on:{click:t.handleRangeClick,mouseenter:t.handleMouseEnter,mouseleave:function(e){t.showClose=!1},keydown:t.handleKeydown}},[i("i",{class:["el-input__icon","el-range__icon",t.triggerClass]}),i("input",t._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:t.startPlaceholder,disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,name:t.name&&t.name[0]},domProps:{value:t.displayValue&&t.displayValue[0]},on:{input:t.handleStartInput,change:t.handleStartChange,focus:t.handleFocus}},"input",t.firstInputId,!1)),t._t("range-separator",[i("span",{staticClass:"el-range-separator"},[t._v(t._s(t.rangeSeparator))])]),i("input",t._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:t.endPlaceholder,disabled:t.pickerDisabled,readonly:!t.editable||t.readonly,name:t.name&&t.name[1]},domProps:{value:t.displayValue&&t.displayValue[1]},on:{input:t.handleEndInput,change:t.handleEndChange,focus:t.handleFocus}},"input",t.secondInputId,!1)),t.haveTrigger?i("i",{staticClass:"el-input__icon el-range__close-icon",class:[t.showClose?""+t.clearIcon:""],on:{click:t.handleClickIcon}}):t._e()],2):i("el-input",t._b({directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor",class:"el-date-editor--"+t.type,attrs:{readonly:!t.editable||t.readonly||"dates"===t.type||"week"===t.type,disabled:t.pickerDisabled,size:t.pickerSize,name:t.name,placeholder:t.placeholder,value:t.displayValue,validateEvent:!1},on:{focus:t.handleFocus,input:function(e){return t.userInput=e},change:t.handleChange},nativeOn:{keydown:function(e){return t.handleKeydown(e)},mouseenter:function(e){return t.handleMouseEnter(e)},mouseleave:function(e){t.showClose=!1}}},"el-input",t.firstInputId,!1),[i("i",{staticClass:"el-input__icon",class:t.triggerClass,attrs:{slot:"prefix"},on:{click:t.handleFocus},slot:"prefix"}),t.haveTrigger?i("i",{staticClass:"el-input__icon",class:[t.showClose?""+t.clearIcon:""],attrs:{slot:"suffix"},on:{click:t.handleClickIcon},slot:"suffix"}):t._e()])},ln=[];sn._withStripped=!0;var hn=i(0),un={props:{appendToBody:mt.a.props.appendToBody,offset:mt.a.props.offset,boundariesPadding:mt.a.props.boundariesPadding,arrowOffset:mt.a.props.arrowOffset},methods:mt.a.methods,data:function(){return Xe()({visibleArrow:!0},mt.a.data)},beforeDestroy:mt.a.beforeDestroy},cn={date:"yyyy-MM-dd",month:"yyyy-MM",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",week:"yyyywWW",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss",year:"yyyy"},dn=["date","datetime","time","time-select","week","month","year","daterange","monthrange","timerange","datetimerange","dates"],fn=function(t,e){return"timestamp"===e?t.getTime():Object(hn.formatDate)(t,e)},pn=function(t,e){return"timestamp"===e?new Date(Number(t)):Object(hn.parseDate)(t,e)},mn=function(t,e){if(Array.isArray(t)&&2===t.length){var i=t[0],a=t[1];if(i&&a)return[fn(i,e),fn(a,e)]}return""},Cn=function(t,e,i){if(Array.isArray(t)||(t=t.split(i)),2===t.length){var a=t[0],r=t[1];return[pn(a,e),pn(r,e)]}return[]},vn={default:{formatter:function(t){return t?""+t:""},parser:function(t){return void 0===t||""===t?null:t}},week:{formatter:function(t,e){var i=Object(hn.getWeekNumber)(t),a=t.getMonth(),r=new Date(t);1===i&&11===a&&(r.setHours(0,0,0,0),r.setDate(r.getDate()+3-(r.getDay()+6)%7));var n=Object(hn.formatDate)(r,e);return n=/WW/.test(n)?n.replace(/WW/,i<10?"0"+i:i):n.replace(/W/,i)},parser:function(t,e){return vn.date.parser(t,e)}},date:{formatter:fn,parser:pn},datetime:{formatter:fn,parser:pn},daterange:{formatter:mn,parser:Cn},monthrange:{formatter:mn,parser:Cn},datetimerange:{formatter:mn,parser:Cn},timerange:{formatter:mn,parser:Cn},time:{formatter:fn,parser:pn},month:{formatter:fn,parser:pn},year:{formatter:fn,parser:pn},number:{formatter:function(t){return t?""+t:""},parser:function(t){var e=Number(t);return isNaN(t)?null:e}},dates:{formatter:function(t,e){return t.map(function(t){return fn(t,e)})},parser:function(t,e){return("string"==typeof t?t.split(", "):t).map(function(t){return t instanceof Date?t:pn(t,e)})}}},Dn={left:"bottom-start",center:"bottom",right:"bottom-end"},gn=function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";return t?(0,(vn[i]||vn.default).parser)(t,e||cn[i],a):null},Sn=function(t,e,i){return t?(0,(vn[i]||vn.default).formatter)(t,e||cn[i]):null},xn=function(t,e){var i=function(t,e){var i=t instanceof Date,a=e instanceof Date;return i&&a?t.getTime()===e.getTime():!i&&!a&&t===e},a=t instanceof Array,r=e instanceof Array;return a&&r?t.length===e.length&&t.every(function(t,a){return i(t,e[a])}):!a&&!r&&i(t,e)},bn=function(t){return"string"==typeof t||t instanceof String},In=function(t){return null===t||void 0===t||bn(t)||Array.isArray(t)&&2===t.length&&t.every(bn)},Tn={mixins:[tt.a,un],inject:{elForm:{default:""},elFormItem:{default:""}},props:{size:String,format:String,valueFormat:String,readonly:Boolean,placeholder:String,startPlaceholder:String,endPlaceholder:String,prefixIcon:String,clearIcon:{type:String,default:"el-icon-circle-close"},name:{default:"",validator:In},disabled:Boolean,clearable:{type:Boolean,default:!0},id:{default:"",validator:In},popperClass:String,editable:{type:Boolean,default:!0},align:{type:String,default:"left"},value:{},defaultValue:{},defaultTime:{},rangeSeparator:{default:"-"},pickerOptions:{},unlinkPanels:Boolean,validateEvent:{type:Boolean,default:!0}},components:{ElInput:H.a},directives:{Clickoutside:ct.a},data:function(){return{pickerVisible:!1,showClose:!1,userInput:null,valueOnOpen:null,unwatchPickerOptions:null}},watch:{pickerVisible:function(t){this.readonly||this.pickerDisabled||(t?(this.showPicker(),this.valueOnOpen=Array.isArray(this.value)?[].concat(this.value):this.value):(this.hidePicker(),this.emitChange(this.value),this.userInput=null,this.validateEvent&&this.dispatch("ElFormItem","el.form.blur"),this.$emit("blur",this),this.blur()))},parsedValue:{immediate:!0,handler:function(t){this.picker&&(this.picker.value=t)}},defaultValue:function(t){this.picker&&(this.picker.defaultValue=t)},value:function(t,e){xn(t,e)||this.pickerVisible||!this.validateEvent||this.dispatch("ElFormItem","el.form.change",t)}},computed:{ranged:function(){return this.type.indexOf("range")>-1},reference:function(){var t=this.$refs.reference;return t.$el||t},refInput:function(){return this.reference?[].slice.call(this.reference.querySelectorAll("input")):[]},valueIsEmpty:function(){var t=this.value;if(Array.isArray(t)){for(var e=0,i=t.length;e<i;e++)if(t[e])return!1}else if(t)return!1;return!0},triggerClass:function(){return this.prefixIcon||(-1!==this.type.indexOf("time")?"el-icon-time":"el-icon-date")},selectionMode:function(){return"week"===this.type?"week":"month"===this.type?"month":"year"===this.type?"year":"dates"===this.type?"dates":"day"},haveTrigger:function(){return void 0!==this.showTrigger?this.showTrigger:-1!==dn.indexOf(this.type)},displayValue:function(){var t=Sn(this.parsedValue,this.format,this.type,this.rangeSeparator);return Array.isArray(this.userInput)?[this.userInput[0]||t&&t[0]||"",this.userInput[1]||t&&t[1]||""]:null!==this.userInput?this.userInput:t?"dates"===this.type?t.join(", "):t:""},parsedValue:function(){return this.value?"time-select"===this.type?this.value:Object(hn.isDateObject)(this.value)||Array.isArray(this.value)&&this.value.every(hn.isDateObject)?this.value:this.valueFormat?gn(this.value,this.valueFormat,this.type,this.rangeSeparator)||this.value:Array.isArray(this.value)?this.value.map(function(t){return new Date(t)}):new Date(this.value):this.value},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},pickerSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},pickerDisabled:function(){return this.disabled||(this.elForm||{}).disabled},firstInputId:function(){var t={},e=void 0;return e=this.ranged?this.id&&this.id[0]:this.id,e&&(t.id=e),t},secondInputId:function(){var t={},e=void 0;return this.ranged&&(e=this.id&&this.id[1]),e&&(t.id=e),t}},created:function(){this.popperOptions={boundariesPadding:0,gpuAcceleration:!1},this.placement=Dn[this.align]||Dn.left,this.$on("fieldReset",this.handleFieldReset)},methods:{focus:function(){this.ranged?this.handleFocus():this.$refs.reference.focus()},blur:function(){this.refInput.forEach(function(t){return t.blur()})},parseValue:function(t){var e=Object(hn.isDateObject)(t)||Array.isArray(t)&&t.every(hn.isDateObject);return this.valueFormat&&!e?gn(t,this.valueFormat,this.type,this.rangeSeparator)||t:t},formatToValue:function(t){var e=Object(hn.isDateObject)(t)||Array.isArray(t)&&t.every(hn.isDateObject);return this.valueFormat&&e?Sn(t,this.valueFormat,this.type,this.rangeSeparator):t},parseString:function(t){var e=Array.isArray(t)?this.type:this.type.replace("range","");return gn(t,this.format,e)},formatToString:function(t){var e=Array.isArray(t)?this.type:this.type.replace("range","");return Sn(t,this.format,e)},handleMouseEnter:function(){this.readonly||this.pickerDisabled||!this.valueIsEmpty&&this.clearable&&(this.showClose=!0)},handleChange:function(){if(this.userInput){var t=this.parseString(this.displayValue);t&&(this.picker.value=t,this.isValidValue(t)&&(this.emitInput(t),this.userInput=null))}""===this.userInput&&(this.emitInput(null),this.emitChange(null),this.userInput=null)},handleStartInput:function(t){this.userInput?this.userInput=[t.target.value,this.userInput[1]]:this.userInput=[t.target.value,null]},handleEndInput:function(t){this.userInput?this.userInput=[this.userInput[0],t.target.value]:this.userInput=[null,t.target.value]},handleStartChange:function(t){var e=this.parseString(this.userInput&&this.userInput[0]);if(e){this.userInput=[this.formatToString(e),this.displayValue[1]];var i=[e,this.picker.value&&this.picker.value[1]];this.picker.value=i,this.isValidValue(i)&&(this.emitInput(i),this.userInput=null)}},handleEndChange:function(t){var e=this.parseString(this.userInput&&this.userInput[1]);if(e){this.userInput=[this.displayValue[0],this.formatToString(e)];var i=[this.picker.value&&this.picker.value[0],e];this.picker.value=i,this.isValidValue(i)&&(this.emitInput(i),this.userInput=null)}},handleClickIcon:function(t){this.readonly||this.pickerDisabled||(this.showClose?(this.valueOnOpen=this.value,t.stopPropagation(),this.emitInput(null),this.emitChange(null),this.showClose=!1,this.picker&&"function"==typeof this.picker.handleClear&&this.picker.handleClear()):this.pickerVisible=!this.pickerVisible)},handleClose:function(){if(this.pickerVisible&&(this.pickerVisible=!1,"dates"===this.type)){var t=gn(this.valueOnOpen,this.valueFormat,this.type,this.rangeSeparator)||this.valueOnOpen;this.emitInput(t)}},handleFieldReset:function(t){this.userInput=""===t?null:t},handleFocus:function(){var t=this.type;-1===dn.indexOf(t)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},handleKeydown:function(t){var e=this,i=t.keyCode;return 27===i?(this.pickerVisible=!1,void t.stopPropagation()):9===i?void(this.ranged?setTimeout(function(){-1===e.refInput.indexOf(document.activeElement)&&(e.pickerVisible=!1,e.blur(),t.stopPropagation())},0):(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur(),t.stopPropagation())):13===i?((""===this.userInput||this.isValidValue(this.parseString(this.displayValue)))&&(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur()),void t.stopPropagation()):this.userInput?void t.stopPropagation():void(this.picker&&this.picker.handleKeydown&&this.picker.handleKeydown(t))},handleRangeClick:function(){var t=this.type;-1===dn.indexOf(t)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},hidePicker:function(){this.picker&&(this.picker.resetView&&this.picker.resetView(),this.pickerVisible=this.picker.visible=!1,this.destroyPopper())},showPicker:function(){var t=this;this.$isServer||(this.picker||this.mountPicker(),this.pickerVisible=this.picker.visible=!0,this.updatePopper(),this.picker.value=this.parsedValue,this.picker.resetView&&this.picker.resetView(),this.$nextTick(function(){t.picker.adjustSpinners&&t.picker.adjustSpinners()}))},mountPicker:function(){var t=this;this.picker=new nr.a(this.panel).$mount(),this.picker.defaultValue=this.defaultValue,this.picker.defaultTime=this.defaultTime,this.picker.popperClass=this.popperClass,this.popperElm=this.picker.$el,this.picker.width=this.reference.getBoundingClientRect().width,this.picker.showTime="datetime"===this.type||"datetimerange"===this.type,this.picker.selectionMode=this.selectionMode,this.picker.unlinkPanels=this.unlinkPanels,this.picker.arrowControl=this.arrowControl||this.timeArrowControl||!1,this.$watch("format",function(e){t.picker.format=e});var e=function(){var e=t.pickerOptions;if(e&&e.selectableRange){var i=e.selectableRange,a=vn.datetimerange.parser,r=cn.timerange;i=Array.isArray(i)?i:[i],t.picker.selectableRange=i.map(function(e){return a(e,r,t.rangeSeparator)})}for(var n in e)e.hasOwnProperty(n)&&"selectableRange"!==n&&(t.picker[n]=e[n]);t.format&&(t.picker.format=t.format)};e(),this.unwatchPickerOptions=this.$watch("pickerOptions",function(){return e()},{deep:!0}),this.$el.appendChild(this.picker.$el),this.picker.resetView&&this.picker.resetView(),this.picker.$on("dodestroy",this.doDestroy),this.picker.$on("pick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.userInput=null,t.pickerVisible=t.picker.visible=i,t.emitInput(e),t.picker.resetView&&t.picker.resetView()}),this.picker.$on("select-range",function(e,i,a){0!==t.refInput.length&&(a&&"min"!==a?"max"===a&&(t.refInput[1].setSelectionRange(e,i),t.refInput[1].focus()):(t.refInput[0].setSelectionRange(e,i),t.refInput[0].focus()))})},unmountPicker:function(){this.picker&&(this.picker.$destroy(),this.picker.$off(),"function"==typeof this.unwatchPickerOptions&&this.unwatchPickerOptions(),this.picker.$el.parentNode.removeChild(this.picker.$el))},emitChange:function(t){xn(t,this.valueOnOpen)||(this.$emit("change",t),this.valueOnOpen=t,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",t))},emitInput:function(t){var e=this.formatToValue(t);xn(this.value,e)||this.$emit("input",e)},isValidValue:function(t){return this.picker||this.mountPicker(),!this.picker.isValidValue||t&&this.picker.isValidValue(t)}}},yn=Tn,wn=a(yn,sn,ln,!1,null,null,null);wn.options.__file="packages/date-picker/src/picker.vue";var En=wn.exports,Fn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-enter":t.handleEnter,"after-leave":t.handleLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-picker el-popper",class:[{"has-sidebar":t.$slots.sidebar||t.shortcuts,"has-time":t.showTime},t.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[t._t("sidebar"),t.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},t._l(t.shortcuts,function(e,a){return i("button",{key:a,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){t.handleShortcutClick(e)}}},[t._v(t._s(e.text))])}),0):t._e(),i("div",{staticClass:"el-picker-panel__body"},[t.showTime?i("div",{staticClass:"el-date-picker__time-header"},[i("span",{staticClass:"el-date-picker__editor-wrap"},[i("el-input",{attrs:{placeholder:t.t("el.datepicker.selectDate"),value:t.visibleDate,size:"small"},on:{input:function(e){return t.userInputDate=e},change:t.handleVisibleDateChange}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleTimePickClose,expression:"handleTimePickClose"}],staticClass:"el-date-picker__editor-wrap"},[i("el-input",{ref:"input",attrs:{placeholder:t.t("el.datepicker.selectTime"),value:t.visibleTime,size:"small"},on:{focus:function(e){t.timePickerVisible=!0},input:function(e){return t.userInputTime=e},change:t.handleVisibleTimeChange}}),i("time-picker",{ref:"timepicker",attrs:{"time-arrow-control":t.arrowControl,visible:t.timePickerVisible},on:{pick:t.handleTimePick,mounted:t.proxyTimePickerDataProperties}})],1)]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==t.currentView,expression:"currentView !== 'time'"}],staticClass:"el-date-picker__header",class:{"el-date-picker__header--bordered":"year"===t.currentView||"month"===t.currentView}},[i("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left",attrs:{type:"button","aria-label":t.t("el.datepicker.prevYear")},on:{click:t.prevYear}}),i("button",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-arrow-left",attrs:{type:"button","aria-label":t.t("el.datepicker.prevMonth")},on:{click:t.prevMonth}}),i("span",{staticClass:"el-date-picker__header-label",attrs:{role:"button"},on:{click:t.showYearPicker}},[t._v(t._s(t.yearLabel))]),i("span",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],staticClass:"el-date-picker__header-label",class:{active:"month"===t.currentView},attrs:{role:"button"},on:{click:t.showMonthPicker}},[t._v(t._s(t.t("el.datepicker.month"+(t.month+1))))]),i("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right",attrs:{type:"button","aria-label":t.t("el.datepicker.nextYear")},on:{click:t.nextYear}}),i("button",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-arrow-right",attrs:{type:"button","aria-label":t.t("el.datepicker.nextMonth")},on:{click:t.nextMonth}})]),i("div",{staticClass:"el-picker-panel__content"},[i("date-table",{directives:[{name:"show",rawName:"v-show",value:"date"===t.currentView,expression:"currentView === 'date'"}],attrs:{"selection-mode":t.selectionMode,"first-day-of-week":t.firstDayOfWeek,value:t.value,"default-value":t.defaultValue?new Date(t.defaultValue):null,date:t.date,"cell-class-name":t.cellClassName,"disabled-date":t.disabledDate},on:{pick:t.handleDatePick}}),i("year-table",{directives:[{name:"show",rawName:"v-show",value:"year"===t.currentView,expression:"currentView === 'year'"}],attrs:{value:t.value,"default-value":t.defaultValue?new Date(t.defaultValue):null,date:t.date,"disabled-date":t.disabledDate},on:{pick:t.handleYearPick}}),i("month-table",{directives:[{name:"show",rawName:"v-show",value:"month"===t.currentView,expression:"currentView === 'month'"}],attrs:{value:t.value,"default-value":t.defaultValue?new Date(t.defaultValue):null,date:t.date,"disabled-date":t.disabledDate},on:{pick:t.handleMonthPick}})],1)])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.footerVisible&&"date"===t.currentView,expression:"footerVisible && currentView === 'date'"}],staticClass:"el-picker-panel__footer"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:"dates"!==t.selectionMode,expression:"selectionMode !== 'dates'"}],staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:t.changeToNow}},[t._v("\n        "+t._s(t.t("el.datepicker.now"))+"\n      ")]),i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini"},on:{click:t.confirm}},[t._v("\n        "+t._s(t.t("el.datepicker.confirm"))+"\n      ")])],1)])])},Ln=[];Fn._withStripped=!0;var Mn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-time-panel el-popper",class:t.popperClass},[i("div",{staticClass:"el-time-panel__content",class:{"has-seconds":t.showSeconds}},[i("time-spinner",{ref:"spinner",attrs:{"arrow-control":t.useArrow,"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,date:t.date},on:{change:t.handleChange,"select-range":t.setSelectionRange}})],1),i("div",{staticClass:"el-time-panel__footer"},[i("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:t.handleCancel}},[t._v(t._s(t.t("el.datepicker.cancel")))]),i("button",{staticClass:"el-time-panel__btn",class:{confirm:!t.disabled},attrs:{type:"button"},on:{click:function(e){t.handleConfirm()}}},[t._v(t._s(t.t("el.datepicker.confirm")))])])])])},An=[];Mn._withStripped=!0;var On=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-time-spinner",class:{"has-seconds":t.showSeconds}},[t.arrowControl?t._e():[i("el-scrollbar",{ref:"hours",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("hours")},mousemove:function(e){t.adjustCurrentSpinner("hours")}}},t._l(t.hoursList,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:a===t.hours,disabled:e},on:{click:function(i){t.handleClick("hours",{value:a,disabled:e})}}},[t._v(t._s(("0"+(t.amPmMode?a%12||12:a)).slice(-2))+t._s(t.amPm(a)))])}),0),i("el-scrollbar",{ref:"minutes",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("minutes")},mousemove:function(e){t.adjustCurrentSpinner("minutes")}}},t._l(t.minutesList,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:a===t.minutes,disabled:!e},on:{click:function(e){t.handleClick("minutes",{value:a,disabled:!1})}}},[t._v(t._s(("0"+a).slice(-2)))])}),0),i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.showSeconds,expression:"showSeconds"}],ref:"seconds",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(e){t.emitSelectRange("seconds")},mousemove:function(e){t.adjustCurrentSpinner("seconds")}}},t._l(60,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:a===t.seconds},on:{click:function(e){t.handleClick("seconds",{value:a,disabled:!1})}}},[t._v(t._s(("0"+a).slice(-2)))])}),0)],t.arrowControl?[i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("hours")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"hours",staticClass:"el-time-spinner__list"},t._l(t.arrowHourList,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:e===t.hours,disabled:t.hoursList[e]}},[t._v(t._s(void 0===e?"":("0"+(t.amPmMode?e%12||12:e)).slice(-2)+t.amPm(e)))])}),0)]),i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("minutes")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"minutes",staticClass:"el-time-spinner__list"},t._l(t.arrowMinuteList,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:e===t.minutes}},[t._v("\n          "+t._s(void 0===e?"":("0"+e).slice(-2))+"\n        ")])}),0)]),t.showSeconds?i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(e){t.emitSelectRange("seconds")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"seconds",staticClass:"el-time-spinner__list"},t._l(t.arrowSecondList,function(e,a){return i("li",{key:a,staticClass:"el-time-spinner__item",class:{active:e===t.seconds}},[t._v("\n          "+t._s(void 0===e?"":("0"+e).slice(-2))+"\n        ")])}),0)]):t._e()]:t._e()],2)},Nn=[];On._withStripped=!0;var _n={components:{ElScrollbar:vt.a},directives:{repeatClick:Ze},props:{date:{},defaultValue:{},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""}},computed:{hours:function(){return this.date.getHours()},minutes:function(){return this.date.getMinutes()},seconds:function(){return this.date.getSeconds()},hoursList:function(){return Object(hn.getRangeHours)(this.selectableRange)},minutesList:function(){return Object(hn.getRangeMinutes)(this.selectableRange,this.hours)},arrowHourList:function(){var t=this.hours;return[t>0?t-1:void 0,t,t<23?t+1:void 0]},arrowMinuteList:function(){var t=this.minutes;return[t>0?t-1:void 0,t,t<59?t+1:void 0]},arrowSecondList:function(){var t=this.seconds;return[t>0?t-1:void 0,t,t<59?t+1:void 0]}},data:function(){return{selectableRange:[],currentScrollbar:null}},mounted:function(){var t=this;this.$nextTick(function(){!t.arrowControl&&t.bindScrollEvent()})},methods:{increase:function(){this.scrollDown(1)},decrease:function(){this.scrollDown(-1)},modifyDateField:function(t,e){switch(t){case"hours":this.$emit("change",Object(hn.modifyTime)(this.date,e,this.minutes,this.seconds));break;case"minutes":this.$emit("change",Object(hn.modifyTime)(this.date,this.hours,e,this.seconds));break;case"seconds":this.$emit("change",Object(hn.modifyTime)(this.date,this.hours,this.minutes,e))}},handleClick:function(t,e){var i=e.value;e.disabled||(this.modifyDateField(t,i),this.emitSelectRange(t),this.adjustSpinner(t,i))},emitSelectRange:function(t){"hours"===t?this.$emit("select-range",0,2):"minutes"===t?this.$emit("select-range",3,5):"seconds"===t&&this.$emit("select-range",6,8),this.currentScrollbar=t},bindScrollEvent:function(){var t=this,e=function(e){t.$refs[e].wrap.onscroll=function(i){t.handleScroll(e,i)}};e("hours"),e("minutes"),e("seconds")},handleScroll:function(t){var e=Math.min(Math.round((this.$refs[t].wrap.scrollTop-(.5*this.scrollBarHeight(t)-10)/this.typeItemHeight(t)+3)/this.typeItemHeight(t)),"hours"===t?23:59);this.modifyDateField(t,e)},adjustSpinners:function(){this.adjustSpinner("hours",this.hours),this.adjustSpinner("minutes",this.minutes),this.adjustSpinner("seconds",this.seconds)},adjustCurrentSpinner:function(t){this.adjustSpinner(t,this[t])},adjustSpinner:function(t,e){if(!this.arrowControl){var i=this.$refs[t].wrap;i&&(i.scrollTop=Math.max(0,e*this.typeItemHeight(t)))}},scrollDown:function(t){var e=this;this.currentScrollbar||this.emitSelectRange("hours");var i=this.currentScrollbar,a=this.hoursList,r=this[i];if("hours"===this.currentScrollbar){var n=Math.abs(t);t=t>0?1:-1;for(var o=a.length;o--&&n;)r=(r+t+a.length)%a.length,a[r]||n--;if(a[r])return}else r=(r+t+60)%60;this.modifyDateField(i,r),this.adjustSpinner(i,r),this.$nextTick(function(){return e.emitSelectRange(e.currentScrollbar)})},amPm:function(t){if("a"!==this.amPmMode.toLowerCase())return"";var e="A"===this.amPmMode,i=t<12?" am":" pm";return e&&(i=i.toUpperCase()),i},typeItemHeight:function(t){return this.$refs[t].$el.querySelector("li").offsetHeight},scrollBarHeight:function(t){return this.$refs[t].$el.offsetHeight}}},Pn=_n,Rn=a(Pn,On,Nn,!1,null,null,null);Rn.options.__file="packages/date-picker/src/basic/time-spinner.vue";var Bn=Rn.exports,kn={mixins:[X.a],components:{TimeSpinner:Bn},props:{visible:Boolean,timeArrowControl:Boolean},watch:{visible:function(t){var e=this;t?(this.oldValue=this.value,this.$nextTick(function(){return e.$refs.spinner.emitSelectRange("hours")})):this.needInitAdjust=!0},value:function(t){var e=this,i=void 0;t instanceof Date?i=Object(hn.limitTimeRange)(t,this.selectableRange,this.format):t||(i=this.defaultValue?new Date(this.defaultValue):new Date),this.date=i,this.visible&&this.needInitAdjust&&(this.$nextTick(function(t){return e.adjustSpinners()}),this.needInitAdjust=!1)},selectableRange:function(t){this.$refs.spinner.selectableRange=t},defaultValue:function(t){Object(hn.isDate)(this.value)||(this.date=t?new Date(t):new Date)}},data:function(){return{popperClass:"",format:"HH:mm:ss",value:"",defaultValue:null,date:new Date,oldValue:new Date,selectableRange:[],selectionRange:[0,2],disabled:!1,arrowControl:!1,needInitAdjust:!0}},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},useArrow:function(){return this.arrowControl||this.timeArrowControl||!1},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},methods:{handleCancel:function(){this.$emit("pick",this.oldValue,!1)},handleChange:function(t){this.visible&&(this.date=Object(hn.clearMilliseconds)(t),this.isValidValue(this.date)&&this.$emit("pick",this.date,!0))},setSelectionRange:function(t,e){this.$emit("select-range",t,e),this.selectionRange=[t,e]},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments[1];if(!e){var i=Object(hn.clearMilliseconds)(Object(hn.limitTimeRange)(this.date,this.selectableRange,this.format));this.$emit("pick",i,t,e)}},handleKeydown:function(t){var e=t.keyCode,i={38:-1,40:1,37:-1,39:1};if(37===e||39===e){var a=i[e];return this.changeSelectionRange(a),void t.preventDefault()}if(38===e||40===e){var r=i[e];return this.$refs.spinner.scrollDown(r),void t.preventDefault()}},isValidValue:function(t){return Object(hn.timeWithinRange)(t,this.selectableRange,this.format)},adjustSpinners:function(){return this.$refs.spinner.adjustSpinners()},changeSelectionRange:function(t){var e=[0,3].concat(this.showSeconds?[6]:[]),i=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),a=e.indexOf(this.selectionRange[0]),r=(a+t+e.length)%e.length;this.$refs.spinner.emitSelectRange(i[r])}},mounted:function(){var t=this;this.$nextTick(function(){return t.handleConfirm(!0,!0)}),this.$emit("mounted")}},Vn=kn,Gn=a(Vn,Mn,An,!1,null,null,null);Gn.options.__file="packages/date-picker/src/panel/time.vue";var Hn=Gn.exports,Yn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"el-year-table",on:{click:t.handleYearTableClick}},[i("tbody",[i("tr",[i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+0)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+1)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+1))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+2)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+2))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+3)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+3))])])]),i("tr",[i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+4)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+4))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+5)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+5))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+6)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+6))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+7)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+7))])])]),i("tr",[i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+8)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+8))])]),i("td",{staticClass:"available",class:t.getCellStyle(t.startYear+9)},[i("a",{staticClass:"cell"},[t._v(t._s(t.startYear+9))])]),i("td"),i("td")])])])},Xn=[];Yn._withStripped=!0;var Wn=function(t){var e=Object(hn.getDayCountOfYear)(t),i=new Date(t,0,1);return Object(hn.range)(e).map(function(t){return Object(hn.nextDate)(i,t)})},Un={props:{disabledDate:{},value:{},defaultValue:{validator:function(t){return null===t||t instanceof Date&&Object(hn.isDate)(t)}},date:{}},computed:{startYear:function(){return 10*Math.floor(this.date.getFullYear()/10)}},methods:{getCellStyle:function(t){var e={},i=new Date;return e.disabled="function"==typeof this.disabledDate&&Wn(t).every(this.disabledDate),e.current=Object(W.arrayFindIndex)(Object(W.coerceTruthyValueToArray)(this.value),function(e){return e.getFullYear()===t})>=0,e.today=i.getFullYear()===t,e.default=this.defaultValue&&this.defaultValue.getFullYear()===t,e},handleYearTableClick:function(t){var e=t.target;if("A"===e.tagName){if(Object(oe.hasClass)(e.parentNode,"disabled"))return;var i=e.textContent||e.innerText;this.$emit("pick",Number(i))}}}},zn=Un,Kn=a(zn,Yn,Xn,!1,null,null,null);Kn.options.__file="packages/date-picker/src/basic/year-table.vue";var $n=Kn.exports,jn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"el-month-table",on:{click:t.handleMonthTableClick,mousemove:t.handleMouseMove}},[i("tbody",t._l(t.rows,function(e,a){return i("tr",{key:a},t._l(e,function(e,a){return i("td",{key:a,class:t.getCellStyle(e)},[i("div",[i("a",{staticClass:"cell"},[t._v(t._s(t.t("el.datepicker.months."+t.months[e.text])))])])])}),0)}),0)])},Jn=[];jn._withStripped=!0;var qn=function(t,e){var i=Object(hn.getDayCountOfMonth)(t,e),a=new Date(t,e,1);return Object(hn.range)(i).map(function(t){return Object(hn.nextDate)(a,t)})},Zn=function(t){return new Date(t.getFullYear(),t.getMonth())},Qn=function(t){return"number"==typeof t||"string"==typeof t?Zn(new Date(t)).getTime():t instanceof Date?Zn(t).getTime():NaN},to={props:{disabledDate:{},value:{},selectionMode:{default:"month"},minDate:{},maxDate:{},defaultValue:{validator:function(t){return null===t||Object(hn.isDate)(t)||Array.isArray(t)&&t.every(hn.isDate)}},date:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},mixins:[X.a],watch:{"rangeState.endDate":function(t){this.markRange(this.minDate,t)},minDate:function(t,e){Qn(t)!==Qn(e)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(t,e){Qn(t)!==Qn(e)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{months:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],tableRows:[[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(t,e){var i=new Date(e);return this.date.getFullYear()===i.getFullYear()&&Number(t.text)===i.getMonth()},getCellStyle:function(t){var e=this,i={},a=this.date.getFullYear(),r=new Date,n=t.text,o=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[];return i.disabled="function"==typeof this.disabledDate&&qn(a,n).every(this.disabledDate),i.current=Object(W.arrayFindIndex)(Object(W.coerceTruthyValueToArray)(this.value),function(t){return t.getFullYear()===a&&t.getMonth()===n})>=0,i.today=r.getFullYear()===a&&r.getMonth()===n,i.default=o.some(function(i){return e.cellMatchesDate(t,i)}),t.inRange&&(i["in-range"]=!0,t.start&&(i["start-date"]=!0),t.end&&(i["end-date"]=!0)),i},getMonthOfCell:function(t){var e=this.date.getFullYear();return new Date(e,t,1)},markRange:function(t,e){t=Qn(t),e=Qn(e)||t;var i=[Math.min(t,e),Math.max(t,e)];t=i[0],e=i[1];for(var a=this.rows,r=0,n=a.length;r<n;r++)for(var o=a[r],s=0,l=o.length;s<l;s++){var h=o[s],u=4*r+s,c=new Date(this.date.getFullYear(),u).getTime();h.inRange=t&&c>=t&&c<=e,h.start=t&&c===t,h.end=e&&c===e}},handleMouseMove:function(t){if(this.rangeState.selecting){var e=t.target;if("A"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName){var i=e.parentNode.rowIndex,a=e.cellIndex;this.rows[i][a].disabled||i===this.lastRow&&a===this.lastColumn||(this.lastRow=i,this.lastColumn=a,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getMonthOfCell(4*i+a)}}))}}},handleMonthTableClick:function(t){var e=t.target;if("A"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName&&!Object(oe.hasClass)(e,"disabled")){var i=e.cellIndex,a=e.parentNode.rowIndex,r=4*a+i,n=this.getMonthOfCell(r);"range"===this.selectionMode?this.rangeState.selecting?(n>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:n}):this.$emit("pick",{minDate:n,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:n,maxDate:null}),this.rangeState.selecting=!0):this.$emit("pick",r)}}},computed:{rows:function(){for(var t=this,e=this.tableRows,i=this.disabledDate,a=[],r=Qn(new Date),n=0;n<3;n++)for(var o=e[n],s=0;s<4;s++)!function(e){var s=o[e];s||(s={row:n,column:e,type:"normal",inRange:!1,start:!1,end:!1}),s.type="normal";var l=4*n+e,h=new Date(t.date.getFullYear(),l).getTime();s.inRange=h>=Qn(t.minDate)&&h<=Qn(t.maxDate),s.start=t.minDate&&h===Qn(t.minDate),s.end=t.maxDate&&h===Qn(t.maxDate),h===r&&(s.type="today"),s.text=l;var u=new Date(h);s.disabled="function"==typeof i&&i(u),s.selected=Object(W.arrayFind)(a,function(t){return t.getTime()===u.getTime()}),t.$set(o,e,s)}(s);return e}}},eo=to,io=a(eo,jn,Jn,!1,null,null,null);io.options.__file="packages/date-picker/src/basic/month-table.vue";var ao=io.exports,ro=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"el-date-table",class:{"is-week-mode":"week"===t.selectionMode},attrs:{cellspacing:"0",cellpadding:"0"},on:{click:t.handleClick,mousemove:t.handleMouseMove}},[i("tbody",[i("tr",[t.showWeekNumber?i("th",[t._v(t._s(t.t("el.datepicker.week")))]):t._e(),t._l(t.WEEKS,function(e,a){return i("th",{key:a},[t._v(t._s(t.t("el.datepicker.weeks."+e)))])})],2),t._l(t.rows,function(e,a){return i("tr",{key:a,staticClass:"el-date-table__row",class:{current:t.isWeekActive(e[1])}},t._l(e,function(e,a){return i("td",{key:a,class:t.getCellClasses(e)},[i("div",[i("span",[t._v("\n          "+t._s(e.text)+"\n        ")])])])}),0)})],2)])},no=[];ro._withStripped=!0;var oo=["sun","mon","tue","wed","thu","fri","sat"],so=function(t){return"number"==typeof t||"string"==typeof t?Object(hn.clearTime)(new Date(t)).getTime():t instanceof Date?Object(hn.clearTime)(t).getTime():NaN},lo=function(t,e){var i="function"==typeof e?Object(W.arrayFindIndex)(t,e):t.indexOf(e);return i>=0?[].concat(t.slice(0,i),t.slice(i+1)):t},ho={mixins:[X.a],props:{firstDayOfWeek:{default:7,type:Number,validator:function(t){return t>=1&&t<=7}},value:{},defaultValue:{validator:function(t){return null===t||Object(hn.isDate)(t)||Array.isArray(t)&&t.every(hn.isDate)}},date:{},selectionMode:{default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{},cellClassName:{},minDate:{},maxDate:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},computed:{offsetDay:function(){var t=this.firstDayOfWeek;return t>3?7-t:-t},WEEKS:function(){var t=this.firstDayOfWeek;return oo.concat(oo).slice(t,t+7)},year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},startDate:function(){return Object(hn.getStartDateOfMonth)(this.year,this.month)},rows:function(){var t=this,e=new Date(this.year,this.month,1),i=Object(hn.getFirstDayOfMonth)(e),a=Object(hn.getDayCountOfMonth)(e.getFullYear(),e.getMonth()),r=Object(hn.getDayCountOfMonth)(e.getFullYear(),0===e.getMonth()?11:e.getMonth()-1);i=0===i?7:i;for(var n=this.offsetDay,o=this.tableRows,s=1,l=this.startDate,h=this.disabledDate,u=this.cellClassName,c="dates"===this.selectionMode?Object(W.coerceTruthyValueToArray)(this.value):[],d=so(new Date),f=0;f<6;f++){var p=o[f];this.showWeekNumber&&(p[0]||(p[0]={type:"week",text:Object(hn.getWeekNumber)(Object(hn.nextDate)(l,7*f+1))}));for(var m=0;m<7;m++)!function(e){var o=p[t.showWeekNumber?e+1:e];o||(o={row:f,column:e,type:"normal",inRange:!1,start:!1,end:!1}),o.type="normal";var m=7*f+e,C=Object(hn.nextDate)(l,m-n).getTime();if(o.inRange=C>=so(t.minDate)&&C<=so(t.maxDate),o.start=t.minDate&&C===so(t.minDate),o.end=t.maxDate&&C===so(t.maxDate),C===d&&(o.type="today"),f>=0&&f<=1){var v=i+n<0?7+i+n:i+n;e+7*f>=v?o.text=s++:(o.text=r-(v-e%7)+1+7*f,o.type="prev-month")}else s<=a?o.text=s++:(o.text=s++-a,o.type="next-month");var D=new Date(C);o.disabled="function"==typeof h&&h(D),o.selected=Object(W.arrayFind)(c,function(t){return t.getTime()===D.getTime()}),o.customClass="function"==typeof u&&u(D),t.$set(p,t.showWeekNumber?e+1:e,o)}(m);if("week"===this.selectionMode){var C=this.showWeekNumber?1:0,v=this.showWeekNumber?7:6,D=this.isWeekActive(p[C+1]);p[C].inRange=D,p[C].start=D,p[v].inRange=D,p[v].end=D}}return o}},watch:{"rangeState.endDate":function(t){this.markRange(this.minDate,t)},minDate:function(t,e){so(t)!==so(e)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(t,e){so(t)!==so(e)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{tableRows:[[],[],[],[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(t,e){var i=new Date(e);return this.year===i.getFullYear()&&this.month===i.getMonth()&&Number(t.text)===i.getDate()},getCellClasses:function(t){var e=this,i=this.selectionMode,a=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[],r=[];return"normal"!==t.type&&"today"!==t.type||t.disabled?r.push(t.type):(r.push("available"),"today"===t.type&&r.push("today")),"normal"===t.type&&a.some(function(i){return e.cellMatchesDate(t,i)})&&r.push("default"),"day"!==i||"normal"!==t.type&&"today"!==t.type||!this.cellMatchesDate(t,this.value)||r.push("current"),!t.inRange||"normal"!==t.type&&"today"!==t.type&&"week"!==this.selectionMode||(r.push("in-range"),t.start&&r.push("start-date"),t.end&&r.push("end-date")),t.disabled&&r.push("disabled"),t.selected&&r.push("selected"),t.customClass&&r.push(t.customClass),r.join(" ")},getDateOfCell:function(t,e){var i=7*t+(e-(this.showWeekNumber?1:0))-this.offsetDay;return Object(hn.nextDate)(this.startDate,i)},isWeekActive:function(t){if("week"!==this.selectionMode)return!1;var e=new Date(this.year,this.month,1),i=e.getFullYear(),a=e.getMonth();if("prev-month"===t.type&&(e.setMonth(0===a?11:a-1),e.setFullYear(0===a?i-1:i)),"next-month"===t.type&&(e.setMonth(11===a?0:a+1),e.setFullYear(11===a?i+1:i)),e.setDate(parseInt(t.text,10)),Object(hn.isDate)(this.value)){var r=(this.value.getDay()-this.firstDayOfWeek+7)%7-1;return Object(hn.prevDate)(this.value,r).getTime()===e.getTime()}return!1},markRange:function(t,e){t=so(t),e=so(e)||t;var i=[Math.min(t,e),Math.max(t,e)];t=i[0],e=i[1];for(var a=this.startDate,r=this.rows,n=0,o=r.length;n<o;n++)for(var s=r[n],l=0,h=s.length;l<h;l++)if(!this.showWeekNumber||0!==l){var u=s[l],c=7*n+l+(this.showWeekNumber?-1:0),d=Object(hn.nextDate)(a,c-this.offsetDay).getTime();u.inRange=t&&d>=t&&d<=e,u.start=t&&d===t,u.end=e&&d===e}},handleMouseMove:function(t){if(this.rangeState.selecting){var e=t.target;if("SPAN"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName){var i=e.parentNode.rowIndex-1,a=e.cellIndex;this.rows[i][a].disabled||i===this.lastRow&&a===this.lastColumn||(this.lastRow=i,this.lastColumn=a,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getDateOfCell(i,a)}}))}}},handleClick:function(t){var e=t.target;if("SPAN"===e.tagName&&(e=e.parentNode.parentNode),"DIV"===e.tagName&&(e=e.parentNode),"TD"===e.tagName){var i=e.parentNode.rowIndex-1,a="week"===this.selectionMode?1:e.cellIndex,r=this.rows[i][a];if(!r.disabled&&"week"!==r.type){var n=this.getDateOfCell(i,a);if("range"===this.selectionMode)this.rangeState.selecting?(n>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:n}):this.$emit("pick",{minDate:n,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:n,maxDate:null}),this.rangeState.selecting=!0);else if("day"===this.selectionMode)this.$emit("pick",n);else if("week"===this.selectionMode){var o=Object(hn.getWeekNumber)(n),s=n.getFullYear()+"w"+o;this.$emit("pick",{year:n.getFullYear(),week:o,value:s,date:n})}else if("dates"===this.selectionMode){var l=this.value||[],h=r.selected?lo(l,function(t){return t.getTime()===n.getTime()}):[].concat(l,[n]);this.$emit("pick",h)}}}}}},uo=ho,co=a(uo,ro,no,!1,null,null,null);co.options.__file="packages/date-picker/src/basic/date-table.vue";var fo=co.exports,po={mixins:[X.a],directives:{Clickoutside:ct.a},watch:{showTime:function(t){var e=this;t&&this.$nextTick(function(t){var i=e.$refs.input.$el;i&&(e.pickerWidth=i.getBoundingClientRect().width+10)})},value:function(t){"dates"===this.selectionMode&&this.value||(Object(hn.isDate)(t)?this.date=new Date(t):this.date=this.getDefaultValue())},defaultValue:function(t){Object(hn.isDate)(this.value)||(this.date=t?new Date(t):new Date)},timePickerVisible:function(t){var e=this;t&&this.$nextTick(function(){return e.$refs.timepicker.adjustSpinners()})},selectionMode:function(t){"month"===t?"year"===this.currentView&&"month"===this.currentView||(this.currentView="month"):"dates"===t&&(this.currentView="date")}},methods:{proxyTimePickerDataProperties:function(){var t=this,e=function(e){t.$refs.timepicker.value=e},i=function(e){t.$refs.timepicker.date=e},a=function(e){t.$refs.timepicker.selectableRange=e};this.$watch("value",e),this.$watch("date",i),this.$watch("selectableRange",a),function(e){t.$refs.timepicker.format=e}(this.timeFormat),e(this.value),i(this.date),a(this.selectableRange)},handleClear:function(){this.date=this.getDefaultValue(),this.$emit("pick",null)},emit:function(t){for(var e=this,i=arguments.length,a=Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];if(t)if(Array.isArray(t)){var n=t.map(function(t){return e.showTime?Object(hn.clearMilliseconds)(t):Object(hn.clearTime)(t)});this.$emit.apply(this,["pick",n].concat(a))}else this.$emit.apply(this,["pick",this.showTime?Object(hn.clearMilliseconds)(t):Object(hn.clearTime)(t)].concat(a));else this.$emit.apply(this,["pick",t].concat(a));this.userInputDate=null,this.userInputTime=null},showMonthPicker:function(){this.currentView="month"},showYearPicker:function(){this.currentView="year"},prevMonth:function(){this.date=Object(hn.prevMonth)(this.date)},nextMonth:function(){this.date=Object(hn.nextMonth)(this.date)},prevYear:function(){"year"===this.currentView?this.date=Object(hn.prevYear)(this.date,10):this.date=Object(hn.prevYear)(this.date)},nextYear:function(){"year"===this.currentView?this.date=Object(hn.nextYear)(this.date,10):this.date=Object(hn.nextYear)(this.date)},handleShortcutClick:function(t){t.onClick&&t.onClick(this)},handleTimePick:function(t,e,i){if(Object(hn.isDate)(t)){var a=this.value?Object(hn.modifyTime)(this.value,t.getHours(),t.getMinutes(),t.getSeconds()):Object(hn.modifyWithTimeString)(this.getDefaultValue(),this.defaultTime);this.date=a,this.emit(this.date,!0)}else this.emit(t,!0);i||(this.timePickerVisible=e)},handleTimePickClose:function(){this.timePickerVisible=!1},handleMonthPick:function(t){"month"===this.selectionMode?(this.date=Object(hn.modifyDate)(this.date,this.year,t,1),this.emit(this.date)):(this.date=Object(hn.changeYearMonthAndClampDate)(this.date,this.year,t),this.currentView="date")},handleDatePick:function(t){if("day"===this.selectionMode){var e=this.value?Object(hn.modifyDate)(this.value,t.getFullYear(),t.getMonth(),t.getDate()):Object(hn.modifyWithTimeString)(t,this.defaultTime);this.checkDateWithinRange(e)||(e=Object(hn.modifyDate)(this.selectableRange[0][0],t.getFullYear(),t.getMonth(),t.getDate())),this.date=e,this.emit(this.date,this.showTime)}else"week"===this.selectionMode?this.emit(t.date):"dates"===this.selectionMode&&this.emit(t,!0)},handleYearPick:function(t){"year"===this.selectionMode?(this.date=Object(hn.modifyDate)(this.date,t,0,1),this.emit(this.date)):(this.date=Object(hn.changeYearMonthAndClampDate)(this.date,t,this.month),this.currentView="month")},changeToNow:function(){this.disabledDate&&this.disabledDate(new Date)||!this.checkDateWithinRange(new Date)||(this.date=new Date,this.emit(this.date))},confirm:function(){if("dates"===this.selectionMode)this.emit(this.value);else{var t=this.value?this.value:Object(hn.modifyWithTimeString)(this.getDefaultValue(),this.defaultTime);this.date=new Date(t),this.emit(t)}},resetView:function(){"month"===this.selectionMode?this.currentView="month":"year"===this.selectionMode?this.currentView="year":this.currentView="date"},handleEnter:function(){document.body.addEventListener("keydown",this.handleKeydown)},handleLeave:function(){this.$emit("dodestroy"),document.body.removeEventListener("keydown",this.handleKeydown)},handleKeydown:function(t){var e=t.keyCode,i=[38,40,37,39];this.visible&&!this.timePickerVisible&&(-1!==i.indexOf(e)&&(this.handleKeyControl(e),t.stopPropagation(),t.preventDefault()),13===e&&null===this.userInputDate&&null===this.userInputTime&&this.emit(this.date,!1))},handleKeyControl:function(t){for(var e={year:{38:-4,40:4,37:-1,39:1,offset:function(t,e){return t.setFullYear(t.getFullYear()+e)}},month:{38:-4,40:4,37:-1,39:1,offset:function(t,e){return t.setMonth(t.getMonth()+e)}},week:{38:-1,40:1,37:-1,39:1,offset:function(t,e){return t.setDate(t.getDate()+7*e)}},day:{38:-7,40:7,37:-1,39:1,offset:function(t,e){return t.setDate(t.getDate()+e)}}},i=this.selectionMode,a=this.date.getTime(),r=new Date(this.date.getTime());Math.abs(a-r.getTime())<=31536e6;){var n=e[i];if(n.offset(r,n[t]),"function"!=typeof this.disabledDate||!this.disabledDate(r)){this.date=r,this.$emit("pick",r,!0);break}}},handleVisibleTimeChange:function(t){var e=Object(hn.parseDate)(t,this.timeFormat);e&&this.checkDateWithinRange(e)&&(this.date=Object(hn.modifyDate)(e,this.year,this.month,this.monthDate),this.userInputTime=null,this.$refs.timepicker.value=this.date,this.timePickerVisible=!1,this.emit(this.date,!0))},handleVisibleDateChange:function(t){var e=Object(hn.parseDate)(t,this.dateFormat);if(e){if("function"==typeof this.disabledDate&&this.disabledDate(e))return;this.date=Object(hn.modifyTime)(e,this.date.getHours(),this.date.getMinutes(),this.date.getSeconds()),this.userInputDate=null,this.resetView(),this.emit(this.date,!0)}},isValidValue:function(t){return t&&!isNaN(t)&&("function"!=typeof this.disabledDate||!this.disabledDate(t))&&this.checkDateWithinRange(t)},getDefaultValue:function(){return this.defaultValue?new Date(this.defaultValue):new Date},checkDateWithinRange:function(t){return!(this.selectableRange.length>0)||Object(hn.timeWithinRange)(t,this.selectableRange,this.format||"HH:mm:ss")}},components:{TimePicker:Hn,YearTable:$n,MonthTable:ao,DateTable:fo,ElInput:H.a,ElButton:Mt.a},data:function(){return{popperClass:"",date:new Date,value:"",defaultValue:null,defaultTime:null,showTime:!1,selectionMode:"day",shortcuts:"",visible:!1,currentView:"date",disabledDate:"",cellClassName:"",selectableRange:[],firstDayOfWeek:7,showWeekNumber:!1,timePickerVisible:!1,format:"",arrowControl:!1,userInputDate:null,userInputTime:null}},computed:{year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},week:function(){return Object(hn.getWeekNumber)(this.date)},monthDate:function(){return this.date.getDate()},footerVisible:function(){return this.showTime||"dates"===this.selectionMode},visibleTime:function(){return null!==this.userInputTime?this.userInputTime:Object(hn.formatDate)(this.value||this.defaultValue,this.timeFormat)},visibleDate:function(){return null!==this.userInputDate?this.userInputDate:Object(hn.formatDate)(this.value||this.defaultValue,this.dateFormat)},yearLabel:function(){var t=this.t("el.datepicker.year");if("year"===this.currentView){var e=10*Math.floor(this.year/10);return t?e+" "+t+" - "+(e+9)+" "+t:e+" - "+(e+9)}return this.year+" "+t},timeFormat:function(){return this.format?Object(hn.extractTimeFormat)(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Object(hn.extractDateFormat)(this.format):"yyyy-MM-dd"}}},mo=po,Co=a(mo,Fn,Ln,!1,null,null,null);Co.options.__file="packages/date-picker/src/panel/date.vue";var vo=Co.exports,Do=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":t.$slots.sidebar||t.shortcuts,"has-time":t.showTime},t.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[t._t("sidebar"),t.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},t._l(t.shortcuts,function(e,a){return i("button",{key:a,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){t.handleShortcutClick(e)}}},[t._v(t._s(e.text))])}),0):t._e(),i("div",{staticClass:"el-picker-panel__body"},[t.showTime?i("div",{staticClass:"el-date-range-picker__time-header"},[i("span",{staticClass:"el-date-range-picker__editors-wrap"},[i("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{ref:"minInput",staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.startDate"),value:t.minVisibleDate},on:{input:function(e){return t.handleDateInput(e,"min")},change:function(e){return t.handleDateChange(e,"min")}}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleMinTimeClose,expression:"handleMinTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.startTime"),value:t.minVisibleTime},on:{focus:function(e){t.minTimePickerVisible=!0},input:function(e){return t.handleTimeInput(e,"min")},change:function(e){return t.handleTimeChange(e,"min")}}}),i("time-picker",{ref:"minTimePicker",attrs:{"time-arrow-control":t.arrowControl,visible:t.minTimePickerVisible},on:{pick:t.handleMinTimePick,mounted:function(e){t.$refs.minTimePicker.format=t.timeFormat}}})],1)]),i("span",{staticClass:"el-icon-arrow-right"}),i("span",{staticClass:"el-date-range-picker__editors-wrap is-right"},[i("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.endDate"),value:t.maxVisibleDate,readonly:!t.minDate},on:{input:function(e){return t.handleDateInput(e,"max")},change:function(e){return t.handleDateChange(e,"max")}}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleMaxTimeClose,expression:"handleMaxTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:t.rangeState.selecting,placeholder:t.t("el.datepicker.endTime"),value:t.maxVisibleTime,readonly:!t.minDate},on:{focus:function(e){t.minDate&&(t.maxTimePickerVisible=!0)},input:function(e){return t.handleTimeInput(e,"max")},change:function(e){return t.handleTimeChange(e,"max")}}}),i("time-picker",{ref:"maxTimePicker",attrs:{"time-arrow-control":t.arrowControl,visible:t.maxTimePickerVisible},on:{pick:t.handleMaxTimePick,mounted:function(e){t.$refs.maxTimePicker.format=t.timeFormat}}})],1)])]):t._e(),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[i("div",{staticClass:"el-date-range-picker__header"},[i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:t.leftPrevYear}}),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",attrs:{type:"button"},on:{click:t.leftPrevMonth}}),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.leftNextYear}}):t._e(),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",class:{"is-disabled":!t.enableMonthArrow},attrs:{type:"button",disabled:!t.enableMonthArrow},on:{click:t.leftNextMonth}}):t._e(),i("div",[t._v(t._s(t.leftLabel))])]),i("date-table",{attrs:{"selection-mode":"range",date:t.leftDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,"cell-class-name":t.cellClassName,"first-day-of-week":t.firstDayOfWeek},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[i("div",{staticClass:"el-date-range-picker__header"},[t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.rightPrevYear}}):t._e(),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",class:{"is-disabled":!t.enableMonthArrow},attrs:{type:"button",disabled:!t.enableMonthArrow},on:{click:t.rightPrevMonth}}):t._e(),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:t.rightNextYear}}),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",attrs:{type:"button"},on:{click:t.rightNextMonth}}),i("div",[t._v(t._s(t.rightLabel))])]),i("date-table",{attrs:{"selection-mode":"range",date:t.rightDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate,"cell-class-name":t.cellClassName,"first-day-of-week":t.firstDayOfWeek},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1)])],2),t.showTime?i("div",{staticClass:"el-picker-panel__footer"},[i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:t.handleClear}},[t._v("\n        "+t._s(t.t("el.datepicker.clear"))+"\n      ")]),i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini",disabled:t.btnDisabled},on:{click:function(e){t.handleConfirm(!1)}}},[t._v("\n        "+t._s(t.t("el.datepicker.confirm"))+"\n      ")])],1):t._e()])])},go=[];Do._withStripped=!0;var So=function(t){return Array.isArray(t)?[new Date(t[0]),new Date(t[1])]:t?[new Date(t),Object(hn.nextDate)(new Date(t),1)]:[new Date,Object(hn.nextDate)(new Date,1)]},xo={mixins:[X.a],directives:{Clickoutside:ct.a},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.leftDate.getMonth()+1))},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.rightDate.getMonth()+1))},leftYear:function(){return this.leftDate.getFullYear()},leftMonth:function(){return this.leftDate.getMonth()},leftMonthDate:function(){return this.leftDate.getDate()},rightYear:function(){return this.rightDate.getFullYear()},rightMonth:function(){return this.rightDate.getMonth()},rightMonthDate:function(){return this.rightDate.getDate()},minVisibleDate:function(){return null!==this.dateUserInput.min?this.dateUserInput.min:this.minDate?Object(hn.formatDate)(this.minDate,this.dateFormat):""},maxVisibleDate:function(){return null!==this.dateUserInput.max?this.dateUserInput.max:this.maxDate||this.minDate?Object(hn.formatDate)(this.maxDate||this.minDate,this.dateFormat):""},minVisibleTime:function(){return null!==this.timeUserInput.min?this.timeUserInput.min:this.minDate?Object(hn.formatDate)(this.minDate,this.timeFormat):""},maxVisibleTime:function(){return null!==this.timeUserInput.max?this.timeUserInput.max:this.maxDate||this.minDate?Object(hn.formatDate)(this.maxDate||this.minDate,this.timeFormat):""},timeFormat:function(){return this.format?Object(hn.extractTimeFormat)(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Object(hn.extractDateFormat)(this.format):"yyyy-MM-dd"},enableMonthArrow:function(){var t=(this.leftMonth+1)%12,e=this.leftMonth+1>=12?1:0;return this.unlinkPanels&&new Date(this.leftYear+e,t)<new Date(this.rightYear,this.rightMonth)},enableYearArrow:function(){return this.unlinkPanels&&12*this.rightYear+this.rightMonth-(12*this.leftYear+this.leftMonth+1)>=12}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Object(hn.nextMonth)(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},showTime:!1,shortcuts:"",visible:"",disabledDate:"",cellClassName:"",firstDayOfWeek:7,minTimePickerVisible:!1,maxTimePickerVisible:!1,format:"",arrowControl:!1,unlinkPanels:!1,dateUserInput:{min:null,max:null},timeUserInput:{min:null,max:null}}},watch:{minDate:function(t){var e=this;this.dateUserInput.min=null,this.timeUserInput.min=null,this.$nextTick(function(){if(e.$refs.maxTimePicker&&e.maxDate&&e.maxDate<e.minDate){e.$refs.maxTimePicker.selectableRange=[[Object(hn.parseDate)(Object(hn.formatDate)(e.minDate,"HH:mm:ss"),"HH:mm:ss"),Object(hn.parseDate)("23:59:59","HH:mm:ss")]]}}),t&&this.$refs.minTimePicker&&(this.$refs.minTimePicker.date=t,this.$refs.minTimePicker.value=t)},maxDate:function(t){this.dateUserInput.max=null,this.timeUserInput.max=null,t&&this.$refs.maxTimePicker&&(this.$refs.maxTimePicker.date=t,this.$refs.maxTimePicker.value=t)},minTimePickerVisible:function(t){var e=this;t&&this.$nextTick(function(){e.$refs.minTimePicker.date=e.minDate,e.$refs.minTimePicker.value=e.minDate,e.$refs.minTimePicker.adjustSpinners()})},maxTimePickerVisible:function(t){var e=this;t&&this.$nextTick(function(){e.$refs.maxTimePicker.date=e.maxDate,e.$refs.maxTimePicker.value=e.maxDate,e.$refs.maxTimePicker.adjustSpinners()})},value:function(t){if(t){if(Array.isArray(t))if(this.minDate=Object(hn.isDate)(t[0])?new Date(t[0]):null,this.maxDate=Object(hn.isDate)(t[1])?new Date(t[1]):null,this.minDate)if(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate){var e=this.minDate.getFullYear(),i=this.minDate.getMonth(),a=this.maxDate.getFullYear(),r=this.maxDate.getMonth();this.rightDate=e===a&&i===r?Object(hn.nextMonth)(this.maxDate):this.maxDate}else this.rightDate=Object(hn.nextMonth)(this.leftDate);else this.leftDate=So(this.defaultValue)[0],this.rightDate=Object(hn.nextMonth)(this.leftDate)}else this.minDate=null,this.maxDate=null},defaultValue:function(t){if(!Array.isArray(this.value)){var e=So(t),i=e[0],a=e[1];this.leftDate=i,this.rightDate=t&&t[1]&&this.unlinkPanels?a:Object(hn.nextMonth)(this.leftDate)}}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=So(this.defaultValue)[0],this.rightDate=Object(hn.nextMonth)(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(t){this.minDate=t.minDate,this.maxDate=t.maxDate,this.rangeState=t.rangeState},handleDateInput:function(t,e){if(this.dateUserInput[e]=t,t.length===this.dateFormat.length){var i=Object(hn.parseDate)(t,this.dateFormat);if(i){if("function"==typeof this.disabledDate&&this.disabledDate(new Date(i)))return;"min"===e?(this.minDate=Object(hn.modifyDate)(this.minDate||new Date,i.getFullYear(),i.getMonth(),i.getDate()),this.leftDate=new Date(i),this.unlinkPanels||(this.rightDate=Object(hn.nextMonth)(this.leftDate))):(this.maxDate=Object(hn.modifyDate)(this.maxDate||new Date,i.getFullYear(),i.getMonth(),i.getDate()),this.rightDate=new Date(i),this.unlinkPanels||(this.leftDate=Object(hn.prevMonth)(i)))}}},handleDateChange:function(t,e){var i=Object(hn.parseDate)(t,this.dateFormat);i&&("min"===e?(this.minDate=Object(hn.modifyDate)(this.minDate,i.getFullYear(),i.getMonth(),i.getDate()),this.minDate>this.maxDate&&(this.maxDate=this.minDate)):(this.maxDate=Object(hn.modifyDate)(this.maxDate,i.getFullYear(),i.getMonth(),i.getDate()),this.maxDate<this.minDate&&(this.minDate=this.maxDate)))},handleTimeInput:function(t,e){var i=this;if(this.timeUserInput[e]=t,t.length===this.timeFormat.length){var a=Object(hn.parseDate)(t,this.timeFormat);a&&("min"===e?(this.minDate=Object(hn.modifyTime)(this.minDate,a.getHours(),a.getMinutes(),a.getSeconds()),this.$nextTick(function(t){return i.$refs.minTimePicker.adjustSpinners()})):(this.maxDate=Object(hn.modifyTime)(this.maxDate,a.getHours(),a.getMinutes(),a.getSeconds()),this.$nextTick(function(t){return i.$refs.maxTimePicker.adjustSpinners()})))}},handleTimeChange:function(t,e){var i=Object(hn.parseDate)(t,this.timeFormat);i&&("min"===e?(this.minDate=Object(hn.modifyTime)(this.minDate,i.getHours(),i.getMinutes(),i.getSeconds()),this.minDate>this.maxDate&&(this.maxDate=this.minDate),this.$refs.minTimePicker.value=this.minDate,this.minTimePickerVisible=!1):(this.maxDate=Object(hn.modifyTime)(this.maxDate,i.getHours(),i.getMinutes(),i.getSeconds()),this.maxDate<this.minDate&&(this.minDate=this.maxDate),this.$refs.maxTimePicker.value=this.minDate,this.maxTimePickerVisible=!1))},handleRangePick:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.defaultTime||[],r=Object(hn.modifyWithTimeString)(t.minDate,a[0]),n=Object(hn.modifyWithTimeString)(t.maxDate,a[1]);this.maxDate===n&&this.minDate===r||(this.onPick&&this.onPick(t),this.maxDate=n,this.minDate=r,setTimeout(function(){e.maxDate=n,e.minDate=r},10),i&&!this.showTime&&this.handleConfirm())},handleShortcutClick:function(t){t.onClick&&t.onClick(this)},handleMinTimePick:function(t,e,i){this.minDate=this.minDate||new Date,t&&(this.minDate=Object(hn.modifyTime)(this.minDate,t.getHours(),t.getMinutes(),t.getSeconds())),i||(this.minTimePickerVisible=e),(!this.maxDate||this.maxDate&&this.maxDate.getTime()<this.minDate.getTime())&&(this.maxDate=new Date(this.minDate))},handleMinTimeClose:function(){this.minTimePickerVisible=!1},handleMaxTimePick:function(t,e,i){this.maxDate&&t&&(this.maxDate=Object(hn.modifyTime)(this.maxDate,t.getHours(),t.getMinutes(),t.getSeconds())),i||(this.maxTimePickerVisible=e),this.maxDate&&this.minDate&&this.minDate.getTime()>this.maxDate.getTime()&&(this.minDate=new Date(this.maxDate))},handleMaxTimeClose:function(){this.maxTimePickerVisible=!1},leftPrevYear:function(){this.leftDate=Object(hn.prevYear)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(hn.nextMonth)(this.leftDate))},leftPrevMonth:function(){this.leftDate=Object(hn.prevMonth)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(hn.nextMonth)(this.leftDate))},rightNextYear:function(){this.unlinkPanels?this.rightDate=Object(hn.nextYear)(this.rightDate):(this.leftDate=Object(hn.nextYear)(this.leftDate),this.rightDate=Object(hn.nextMonth)(this.leftDate))},rightNextMonth:function(){this.unlinkPanels?this.rightDate=Object(hn.nextMonth)(this.rightDate):(this.leftDate=Object(hn.nextMonth)(this.leftDate),this.rightDate=Object(hn.nextMonth)(this.leftDate))},leftNextYear:function(){this.leftDate=Object(hn.nextYear)(this.leftDate)},leftNextMonth:function(){this.leftDate=Object(hn.nextMonth)(this.leftDate)},rightPrevYear:function(){this.rightDate=Object(hn.prevYear)(this.rightDate)},rightPrevMonth:function(){this.rightDate=Object(hn.prevMonth)(this.rightDate)},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],t)},isValidValue:function(t){return Array.isArray(t)&&t&&t[0]&&t[1]&&Object(hn.isDate)(t[0])&&Object(hn.isDate)(t[1])&&t[0].getTime()<=t[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(t[0])&&!this.disabledDate(t[1]))},resetView:function(){this.minDate&&null==this.maxDate&&(this.rangeState.selecting=!1),this.minDate=this.value&&Object(hn.isDate)(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&Object(hn.isDate)(this.value[0])?new Date(this.value[1]):null}},components:{TimePicker:Hn,DateTable:fo,ElInput:H.a,ElButton:Mt.a}},bo=xo,Io=a(bo,Do,go,!1,null,null,null);Io.options.__file="packages/date-picker/src/panel/date-range.vue";var To=Io.exports,yo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":t.$slots.sidebar||t.shortcuts},t.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[t._t("sidebar"),t.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},t._l(t.shortcuts,function(e,a){return i("button",{key:a,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){t.handleShortcutClick(e)}}},[t._v(t._s(e.text))])}),0):t._e(),i("div",{staticClass:"el-picker-panel__body"},[i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[i("div",{staticClass:"el-date-range-picker__header"},[i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:t.leftPrevYear}}),t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.leftNextYear}}):t._e(),i("div",[t._v(t._s(t.leftLabel))])]),i("month-table",{attrs:{"selection-mode":"range",date:t.leftDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[i("div",{staticClass:"el-date-range-picker__header"},[t.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!t.enableYearArrow},attrs:{type:"button",disabled:!t.enableYearArrow},on:{click:t.rightPrevYear}}):t._e(),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:t.rightNextYear}}),i("div",[t._v(t._s(t.rightLabel))])]),i("month-table",{attrs:{"selection-mode":"range",date:t.rightDate,"default-value":t.defaultValue,"min-date":t.minDate,"max-date":t.maxDate,"range-state":t.rangeState,"disabled-date":t.disabledDate},on:{changerange:t.handleChangeRange,pick:t.handleRangePick}})],1)])],2)])])},wo=[];yo._withStripped=!0;var Eo=function(t){return Array.isArray(t)?[new Date(t[0]),new Date(t[1])]:t?[new Date(t),Object(hn.nextMonth)(new Date(t))]:[new Date,Object(hn.nextMonth)(new Date)]},Fo={mixins:[X.a],directives:{Clickoutside:ct.a},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")},leftYear:function(){return this.leftDate.getFullYear()},rightYear:function(){return this.rightDate.getFullYear()===this.leftDate.getFullYear()?this.leftDate.getFullYear()+1:this.rightDate.getFullYear()},enableYearArrow:function(){return this.unlinkPanels&&this.rightYear>this.leftYear+1}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Object(hn.nextYear)(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},shortcuts:"",visible:"",disabledDate:"",format:"",arrowControl:!1,unlinkPanels:!1}},watch:{value:function(t){if(t){if(Array.isArray(t))if(this.minDate=Object(hn.isDate)(t[0])?new Date(t[0]):null,this.maxDate=Object(hn.isDate)(t[1])?new Date(t[1]):null,this.minDate)if(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate){var e=this.minDate.getFullYear(),i=this.maxDate.getFullYear();this.rightDate=e===i?Object(hn.nextYear)(this.maxDate):this.maxDate}else this.rightDate=Object(hn.nextYear)(this.leftDate);else this.leftDate=Eo(this.defaultValue)[0],this.rightDate=Object(hn.nextYear)(this.leftDate)}else this.minDate=null,this.maxDate=null},defaultValue:function(t){if(!Array.isArray(this.value)){var e=Eo(t),i=e[0],a=e[1];this.leftDate=i,this.rightDate=t&&t[1]&&i.getFullYear()!==a.getFullYear()&&this.unlinkPanels?a:Object(hn.nextYear)(this.leftDate)}}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=Eo(this.defaultValue)[0],this.rightDate=Object(hn.nextYear)(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(t){this.minDate=t.minDate,this.maxDate=t.maxDate,this.rangeState=t.rangeState},handleRangePick:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.defaultTime||[],r=Object(hn.modifyWithTimeString)(t.minDate,a[0]),n=Object(hn.modifyWithTimeString)(t.maxDate,a[1]);this.maxDate===n&&this.minDate===r||(this.onPick&&this.onPick(t),this.maxDate=n,this.minDate=r,setTimeout(function(){e.maxDate=n,e.minDate=r},10),i&&this.handleConfirm())},handleShortcutClick:function(t){t.onClick&&t.onClick(this)},leftPrevYear:function(){this.leftDate=Object(hn.prevYear)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(hn.prevYear)(this.rightDate))},rightNextYear:function(){this.unlinkPanels||(this.leftDate=Object(hn.nextYear)(this.leftDate)),this.rightDate=Object(hn.nextYear)(this.rightDate)},leftNextYear:function(){this.leftDate=Object(hn.nextYear)(this.leftDate)},rightPrevYear:function(){this.rightDate=Object(hn.prevYear)(this.rightDate)},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],t)},isValidValue:function(t){return Array.isArray(t)&&t&&t[0]&&t[1]&&Object(hn.isDate)(t[0])&&Object(hn.isDate)(t[1])&&t[0].getTime()<=t[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(t[0])&&!this.disabledDate(t[1]))},resetView:function(){this.minDate=this.value&&Object(hn.isDate)(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&Object(hn.isDate)(this.value[0])?new Date(this.value[1]):null}},components:{MonthTable:ao,ElInput:H.a,ElButton:Mt.a}},Lo=Fo,Mo=a(Lo,yo,wo,!1,null,null,null);Mo.options.__file="packages/date-picker/src/panel/month-range.vue";var Ao=Mo.exports,Oo=function(t){return"daterange"===t||"datetimerange"===t?To:"monthrange"===t?Ao:vo},No={mixins:[En],name:"ElDatePicker",props:{type:{type:String,default:"date"},timeArrowControl:Boolean},watch:{type:function(t){this.picker?(this.unmountPicker(),this.panel=Oo(t),this.mountPicker()):this.panel=Oo(t)}},created:function(){this.panel=Oo(this.type)}};No.install=function(t){t.component(No.name,No)};var _o=No,Po=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"popper",staticClass:"el-picker-panel time-select el-popper",class:t.popperClass,style:{width:t.width+"px"}},[i("el-scrollbar",{attrs:{noresize:"","wrap-class":"el-picker-panel__content"}},t._l(t.items,function(e){return i("div",{key:e.value,staticClass:"time-select-item",class:{selected:t.value===e.value,disabled:e.disabled,default:e.value===t.defaultValue},attrs:{disabled:e.disabled},on:{click:function(i){t.handleClick(e)}}},[t._v(t._s(e.value))])}),0)],1)])},Ro=[];Po._withStripped=!0;var Bo=function(t){var e=(t||"").split(":");if(e.length>=2){return{hours:parseInt(e[0],10),minutes:parseInt(e[1],10)}}return null},ko=function(t,e){var i=Bo(t),a=Bo(e),r=i.minutes+60*i.hours,n=a.minutes+60*a.hours;return r===n?0:r>n?1:-1},Vo=function(t){return(t.hours<10?"0"+t.hours:t.hours)+":"+(t.minutes<10?"0"+t.minutes:t.minutes)},Go=function(t,e){var i=Bo(t),a=Bo(e),r={hours:i.hours,minutes:i.minutes};return r.minutes+=a.minutes,r.hours+=a.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,Vo(r)},Ho={components:{ElScrollbar:vt.a},watch:{value:function(t){var e=this;t&&this.$nextTick(function(){return e.scrollToOption()})}},methods:{handleClick:function(t){t.disabled||this.$emit("pick",t.value)},handleClear:function(){this.$emit("pick",null)},scrollToOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".selected",e=this.$refs.popper.querySelector(".el-picker-panel__content");ga()(e,e.querySelector(t))},handleMenuEnter:function(){var t=this,e=-1!==this.items.map(function(t){return t.value}).indexOf(this.value),i=-1!==this.items.map(function(t){return t.value}).indexOf(this.defaultValue),a=e&&".selected"||i&&".default"||".time-select-item:not(.disabled)";this.$nextTick(function(){return t.scrollToOption(a)})},scrollDown:function(t){for(var e=this.items,i=e.length,a=e.length,r=e.map(function(t){return t.value}).indexOf(this.value);a--;)if(r=(r+t+i)%i,!e[r].disabled)return void this.$emit("pick",e[r].value,!0)},isValidValue:function(t){return-1!==this.items.filter(function(t){return!t.disabled}).map(function(t){return t.value}).indexOf(t)},handleKeydown:function(t){var e=t.keyCode;if(38===e||40===e){var i={40:1,38:-1},a=i[e.toString()];return this.scrollDown(a),void t.stopPropagation()}}},data:function(){return{popperClass:"",start:"09:00",end:"18:00",step:"00:30",value:"",defaultValue:"",visible:!1,minTime:"",maxTime:"",width:0}},computed:{items:function(){var t=this.start,e=this.end,i=this.step,a=[];if(t&&e&&i)for(var r=t;ko(r,e)<=0;)a.push({value:r,disabled:ko(r,this.minTime||"-1:-1")<=0||ko(r,this.maxTime||"100:100")>=0}),r=Go(r,i);return a}}},Yo=Ho,Xo=a(Yo,Po,Ro,!1,null,null,null);Xo.options.__file="packages/date-picker/src/panel/time-select.vue";var Wo=Xo.exports,Uo={mixins:[En],name:"ElTimeSelect",componentName:"ElTimeSelect",props:{type:{type:String,default:"time-select"}},beforeCreate:function(){this.panel=Wo}};Uo.install=function(t){t.component(Uo.name,Uo)};var zo=Uo,Ko=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(e){t.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-time-range-picker el-picker-panel el-popper",class:t.popperClass},[i("div",{staticClass:"el-time-range-picker__content"},[i("div",{staticClass:"el-time-range-picker__cell"},[i("div",{staticClass:"el-time-range-picker__header"},[t._v(t._s(t.t("el.datepicker.startTime")))]),i("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl}},[i("time-spinner",{ref:"minSpinner",attrs:{"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,date:t.minDate},on:{change:t.handleMinChange,"select-range":t.setMinSelectionRange}})],1)]),i("div",{staticClass:"el-time-range-picker__cell"},[i("div",{staticClass:"el-time-range-picker__header"},[t._v(t._s(t.t("el.datepicker.endTime")))]),i("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":t.showSeconds,"is-arrow":t.arrowControl}},[i("time-spinner",{ref:"maxSpinner",attrs:{"show-seconds":t.showSeconds,"am-pm-mode":t.amPmMode,"arrow-control":t.arrowControl,date:t.maxDate},on:{change:t.handleMaxChange,"select-range":t.setMaxSelectionRange}})],1)])]),i("div",{staticClass:"el-time-panel__footer"},[i("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:function(e){t.handleCancel()}}},[t._v(t._s(t.t("el.datepicker.cancel")))]),i("button",{staticClass:"el-time-panel__btn confirm",attrs:{type:"button",disabled:t.btnDisabled},on:{click:function(e){t.handleConfirm()}}},[t._v(t._s(t.t("el.datepicker.confirm")))])])])])},$o=[];Ko._withStripped=!0;var jo=Object(hn.parseDate)("00:00:00","HH:mm:ss"),Jo=Object(hn.parseDate)("23:59:59","HH:mm:ss"),qo=function(t){return Object(hn.modifyDate)(jo,t.getFullYear(),t.getMonth(),t.getDate())},Zo=function(t){return Object(hn.modifyDate)(Jo,t.getFullYear(),t.getMonth(),t.getDate())},Qo=function(t,e){return new Date(Math.min(t.getTime()+e,Zo(t).getTime()))},ts={mixins:[X.a],components:{TimeSpinner:Bn},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},offset:function(){return this.showSeconds?11:8},spinner:function(){return this.selectionRange[0]<this.offset?this.$refs.minSpinner:this.$refs.maxSpinner},btnDisabled:function(){return this.minDate.getTime()>this.maxDate.getTime()},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},data:function(){return{popperClass:"",minDate:new Date,maxDate:new Date,value:[],oldValue:[new Date,new Date],defaultValue:null,format:"HH:mm:ss",visible:!1,selectionRange:[0,2],arrowControl:!1}},watch:{value:function(t){Array.isArray(t)?(this.minDate=new Date(t[0]),this.maxDate=new Date(t[1])):Array.isArray(this.defaultValue)?(this.minDate=new Date(this.defaultValue[0]),this.maxDate=new Date(this.defaultValue[1])):this.defaultValue?(this.minDate=new Date(this.defaultValue),this.maxDate=Qo(new Date(this.defaultValue),36e5)):(this.minDate=new Date,this.maxDate=Qo(new Date,36e5))},visible:function(t){var e=this;t&&(this.oldValue=this.value,this.$nextTick(function(){return e.$refs.minSpinner.emitSelectRange("hours")}))}},methods:{handleClear:function(){this.$emit("pick",null)},handleCancel:function(){this.$emit("pick",this.oldValue)},handleMinChange:function(t){this.minDate=Object(hn.clearMilliseconds)(t),this.handleChange()},handleMaxChange:function(t){this.maxDate=Object(hn.clearMilliseconds)(t),this.handleChange()},handleChange:function(){this.isValidValue([this.minDate,this.maxDate])&&(this.$refs.minSpinner.selectableRange=[[qo(this.minDate),this.maxDate]],this.$refs.maxSpinner.selectableRange=[[this.minDate,Zo(this.maxDate)]],this.$emit("pick",[this.minDate,this.maxDate],!0))},setMinSelectionRange:function(t,e){this.$emit("select-range",t,e,"min"),this.selectionRange=[t,e]},setMaxSelectionRange:function(t,e){this.$emit("select-range",t,e,"max"),this.selectionRange=[t+this.offset,e+this.offset]},handleConfirm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.$refs.minSpinner.selectableRange,i=this.$refs.maxSpinner.selectableRange;this.minDate=Object(hn.limitTimeRange)(this.minDate,e,this.format),this.maxDate=Object(hn.limitTimeRange)(this.maxDate,i,this.format),this.$emit("pick",[this.minDate,this.maxDate],t)},adjustSpinners:function(){this.$refs.minSpinner.adjustSpinners(),this.$refs.maxSpinner.adjustSpinners()},changeSelectionRange:function(t){var e=this.showSeconds?[0,3,6,11,14,17]:[0,3,8,11],i=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),a=e.indexOf(this.selectionRange[0]),r=(a+t+e.length)%e.length,n=e.length/2;r<n?this.$refs.minSpinner.emitSelectRange(i[r]):this.$refs.maxSpinner.emitSelectRange(i[r-n])},isValidValue:function(t){return Array.isArray(t)&&Object(hn.timeWithinRange)(this.minDate,this.$refs.minSpinner.selectableRange)&&Object(hn.timeWithinRange)(this.maxDate,this.$refs.maxSpinner.selectableRange)},handleKeydown:function(t){var e=t.keyCode,i={38:-1,40:1,37:-1,39:1};if(37===e||39===e){var a=i[e];return this.changeSelectionRange(a),void t.preventDefault()}if(38===e||40===e){var r=i[e];return this.spinner.scrollDown(r),void t.preventDefault()}}}},es=ts,is=a(es,Ko,$o,!1,null,null,null);is.options.__file="packages/date-picker/src/panel/time-range.vue";var as=is.exports,rs={mixins:[En],name:"ElTimePicker",props:{isRange:Boolean,arrowControl:Boolean},data:function(){return{type:""}},watch:{isRange:function(t){this.picker?(this.unmountPicker(),this.type=t?"timerange":"time",this.panel=t?as:Hn,this.mountPicker()):(this.type=t?"timerange":"time",this.panel=t?as:Hn)}},created:function(){this.type=this.isRange?"timerange":"time",this.panel=this.isRange?as:Hn}};rs.install=function(t){t.component(rs.name,rs)};var ns=rs,os=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("transition",{attrs:{name:t.transition},on:{"after-enter":t.handleAfterEnter,"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&t.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[t.popperClass,t.content&&"el-popover--plain"],style:{width:t.width+"px"},attrs:{role:"tooltip",id:t.tooltipId,"aria-hidden":t.disabled||!t.showPopper?"true":"false"}},[t.title?i("div",{staticClass:"el-popover__title",domProps:{textContent:t._s(t.title)}}):t._e(),t._t("default",[t._v(t._s(t.content))])],2)]),i("span",{ref:"wrapper",staticClass:"el-popover__reference-wrapper"},[t._t("reference")],2)],1)},ss=[];os._withStripped=!0;var ls={name:"ElPopover",mixins:[mt.a],props:{trigger:{type:String,default:"click",validator:function(t){return["click","focus","hover","manual"].indexOf(t)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(W.generateId)()}},watch:{showPopper:function(t){this.disabled||(t?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var t=this,e=this.referenceElm=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$refs.wrapper.children&&(e=this.referenceElm=this.$refs.wrapper.children[0]),e&&(Object(oe.addClass)(e,"el-popover__reference"),e.setAttribute("aria-describedby",this.tooltipId),e.setAttribute("tabindex",this.tabindex),i.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(oe.on)(e,"focusin",function(){t.handleFocus();var i=e.__vue__;i&&"function"==typeof i.focus&&i.focus()}),Object(oe.on)(i,"focusin",this.handleFocus),Object(oe.on)(e,"focusout",this.handleBlur),Object(oe.on)(i,"focusout",this.handleBlur)),Object(oe.on)(e,"keydown",this.handleKeydown),Object(oe.on)(e,"click",this.handleClick)),"click"===this.trigger?(Object(oe.on)(e,"click",this.doToggle),Object(oe.on)(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(oe.on)(e,"mouseenter",this.handleMouseEnter),Object(oe.on)(i,"mouseenter",this.handleMouseEnter),Object(oe.on)(e,"mouseleave",this.handleMouseLeave),Object(oe.on)(i,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),e.querySelector("input, textarea")?(Object(oe.on)(e,"focusin",this.doShow),Object(oe.on)(e,"focusout",this.doClose)):(Object(oe.on)(e,"mousedown",this.doShow),Object(oe.on)(e,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(oe.addClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(oe.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){Object(oe.removeClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var t=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){t.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(t){27===t.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var t=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout(function(){t.showPopper=!1},this.closeDelay):this.showPopper=!1},handleDocumentClick:function(t){var e=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$refs.wrapper.children&&(e=this.referenceElm=this.$refs.wrapper.children[0]),this.$el&&e&&!this.$el.contains(t.target)&&!e.contains(t.target)&&i&&!i.contains(t.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var t=this.reference;Object(oe.off)(t,"click",this.doToggle),Object(oe.off)(t,"mouseup",this.doClose),Object(oe.off)(t,"mousedown",this.doShow),Object(oe.off)(t,"focusin",this.doShow),Object(oe.off)(t,"focusout",this.doClose),Object(oe.off)(t,"mousedown",this.doShow),Object(oe.off)(t,"mouseup",this.doClose),Object(oe.off)(t,"mouseleave",this.handleMouseLeave),Object(oe.off)(t,"mouseenter",this.handleMouseEnter),Object(oe.off)(document,"click",this.handleDocumentClick)}},hs=ls,us=a(hs,os,ss,!1,null,null,null);us.options.__file="packages/popover/src/main.vue";var cs=us.exports,ds=function(t,e,i){var a=e.expression?e.value:e.arg,r=i.context.$refs[a];r&&(Array.isArray(r)?r[0].$refs.reference=t:r.$refs.reference=t)},fs={bind:function(t,e,i){ds(t,e,i)},inserted:function(t,e,i){ds(t,e,i)}};nr.a.directive("popover",fs),cs.install=function(t){t.directive("popover",fs),t.component(cs.name,cs)},cs.directive=fs;var ps=cs,ms={name:"ElTooltip",mixins:[mt.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(W.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var t=this;this.$isServer||(this.popperVM=new nr.a({data:{node:""},render:function(t){return this.node}}).$mount(),this.debounceClose=ht()(200,function(){return t.handleClosePopper()}))},render:function(t){var e=this;this.popperVM&&(this.popperVM.node=t("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[t("div",{on:{mouseleave:function(){e.setExpectedState(!1),e.debounceClose()},mouseenter:function(){e.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var i=this.getFirstElement();if(!i)return null;var a=i.data=i.data||{};return a.staticClass=this.addTooltipClass(a.staticClass),i},mounted:function(){var t=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(oe.on)(this.referenceElm,"mouseenter",this.show),Object(oe.on)(this.referenceElm,"mouseleave",this.hide),Object(oe.on)(this.referenceElm,"focus",function(){if(!t.$slots.default||!t.$slots.default.length)return void t.handleFocus();var e=t.$slots.default[0].componentInstance;e&&e.focus?e.focus():t.handleFocus()}),Object(oe.on)(this.referenceElm,"blur",this.handleBlur),Object(oe.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick(function(){t.value&&t.updatePopper()})},watch:{focusing:function(t){t?Object(oe.addClass)(this.referenceElm,"focusing"):Object(oe.removeClass)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(t){return t?"el-tooltip "+t.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var t=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.showPopper=!0},this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout(function(){t.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(t){!1===t&&clearTimeout(this.timeoutPending),this.expectedState=t},getFirstElement:function(){var t=this.$slots.default;if(!Array.isArray(t))return null;for(var e=null,i=0;i<t.length;i++)t[i]&&t[i].tag&&(e=t[i]);return e}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var t=this.referenceElm;1===t.nodeType&&(Object(oe.off)(t,"mouseenter",this.show),Object(oe.off)(t,"mouseleave",this.hide),Object(oe.off)(t,"focus",this.handleFocus),Object(oe.off)(t,"blur",this.handleBlur),Object(oe.off)(t,"click",this.removeFocusing))}};ms.install=function(t){t.component(ms.name,ms)};var Cs=ms,vs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"msgbox-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":t.title||"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[i("div",{staticClass:"el-message-box",class:[t.customClass,t.center&&"el-message-box--center"]},[null!==t.title?i("div",{staticClass:"el-message-box__header"},[i("div",{staticClass:"el-message-box__title"},[t.icon&&t.center?i("div",{class:["el-message-box__status",t.icon]}):t._e(),i("span",[t._v(t._s(t.title))])]),t.showClose?i("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.handleAction(t.distinguishCancelAndClose?"close":"cancel")},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction(t.distinguishCancelAndClose?"close":"cancel")}}},[i("i",{staticClass:"el-message-box__close el-icon-close"})]):t._e()]):t._e(),i("div",{staticClass:"el-message-box__content"},[i("div",{staticClass:"el-message-box__container"},[t.icon&&!t.center&&""!==t.message?i("div",{class:["el-message-box__status",t.icon]}):t._e(),""!==t.message?i("div",{staticClass:"el-message-box__message"},[t._t("default",[t.dangerouslyUseHTMLString?i("p",{domProps:{innerHTML:t._s(t.message)}}):i("p",[t._v(t._s(t.message))])])],2):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[i("el-input",{ref:"input",attrs:{type:t.inputType,placeholder:t.inputPlaceholder},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleInputEnter(e):null}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),i("div",{staticClass:"el-message-box__errormsg",style:{visibility:t.editorErrorMessage?"visible":"hidden"}},[t._v(t._s(t.editorErrorMessage))])],1)]),i("div",{staticClass:"el-message-box__btns"},[t.showCancelButton?i("el-button",{class:[t.cancelButtonClasses],attrs:{loading:t.cancelButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("cancel")}},nativeOn:{click:function(e){t.handleAction("cancel")}}},[t._v("\n          "+t._s(t.cancelButtonText||t.t("el.messagebox.cancel"))+"\n        ")]):t._e(),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[t.confirmButtonClasses],attrs:{loading:t.confirmButtonLoading,round:t.roundButton,size:"small"},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.handleAction("confirm")}},nativeOn:{click:function(e){t.handleAction("confirm")}}},[t._v("\n          "+t._s(t.confirmButtonText||t.t("el.messagebox.confirm"))+"\n        ")])],1)])])])},Ds=[];vs._withStripped=!0;var gs=i(12),Ss=i.n(gs),xs=i(39),bs=i.n(xs),Is=void 0,Ts={success:"success",info:"info",warning:"warning",error:"error"},ys={mixins:[J.a,X.a],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:H.a,ElButton:Mt.a},computed:{icon:function(){var t=this.type;return this.iconClass||(t&&Ts[t]?"el-icon-"+Ts[t]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var t=this,e=this.uid;return function(){t.$nextTick(function(){e===t.uid&&t.doClose()})}},doClose:function(){var t=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),Is.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout(function(){t.action&&t.callback(t.action,t)}))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(t){("prompt"!==this.$type||"confirm"!==t||this.validate())&&(this.action=t,"function"==typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(t,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||Object(gs.t)("el.messagebox.error"),Object(oe.addClass)(this.getInputElement(),"invalid"),!1;var e=this.inputValidator;if("function"==typeof e){var i=e(this.inputValue);if(!1===i)return this.editorErrorMessage=this.inputErrorMessage||Object(gs.t)("el.messagebox.error"),Object(oe.addClass)(this.getInputElement(),"invalid"),!1;if("string"==typeof i)return this.editorErrorMessage=i,Object(oe.addClass)(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",Object(oe.removeClass)(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var t=this.$el.querySelector(".el-message-box__btns .el-button"),e=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return t||e},getInputElement:function(){var t=this.$refs.input.$refs;return t.input||t.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(t){var e=this;this.$nextTick(function(i){"prompt"===e.$type&&null!==t&&e.validate()})}},visible:function(t){var e=this;t&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick(function(){e.$refs.confirm.$el.focus()}),this.focusAfterClosed=document.activeElement,Is=new bs.a(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(t?setTimeout(function(){e.$refs.input&&e.$refs.input.$el&&e.getInputElement().focus()},500):(this.editorErrorMessage="",Object(oe.removeClass)(this.getInputElement(),"invalid")))}},mounted:function(){var t=this;this.$nextTick(function(){t.closeOnHashChange&&window.addEventListener("hashchange",t.close)})},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout(function(){Is.closeDialog()})},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},ws=ys,Es=a(ws,vs,Ds,!1,null,null,null);Es.options.__file="packages/message-box/src/main.vue";var Fs=Es.exports,Ls=i(22),Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},Os=nr.a.extend(Fs),Ns=void 0,_s=void 0,Ps=[],Rs=function(t){if(Ns){var e=Ns.callback;"function"==typeof e&&(_s.showInput?e(_s.inputValue,t):e(t)),Ns.resolve&&("confirm"===t?_s.showInput?Ns.resolve({value:_s.inputValue,action:t}):Ns.resolve(t):!Ns.reject||"cancel"!==t&&"close"!==t||Ns.reject(t))}},Bs=function(){_s=new Os({el:document.createElement("div")}),_s.callback=Rs},ks=function t(){if(_s||Bs(),_s.action="",(!_s.visible||_s.closeTimer)&&Ps.length>0){Ns=Ps.shift();var e=Ns.options;for(var i in e)e.hasOwnProperty(i)&&(_s[i]=e[i]);void 0===e.callback&&(_s.callback=Rs);var a=_s.callback;_s.callback=function(e,i){a(e,i),t()},Object(Ls.isVNode)(_s.message)?(_s.$slots.default=[_s.message],_s.message=null):delete _s.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach(function(t){void 0===_s[t]&&(_s[t]=!0)}),document.body.appendChild(_s.$el),nr.a.nextTick(function(){_s.visible=!0})}},Vs=function t(e,i){if(!nr.a.prototype.$isServer){if("string"==typeof e||Object(Ls.isVNode)(e)?(e={message:e},"string"==typeof arguments[1]&&(e.title=arguments[1])):e.callback&&!i&&(i=e.callback),"undefined"!=typeof Promise)return new Promise(function(a,r){Ps.push({options:Xe()({},As,t.defaults,e),callback:i,resolve:a,reject:r}),ks()});Ps.push({options:Xe()({},As,t.defaults,e),callback:i}),ks()}};Vs.setDefaults=function(t){Vs.defaults=t},Vs.alert=function(t,e,i){return"object"===(void 0===e?"undefined":Ms(e))?(i=e,e=""):void 0===e&&(e=""),Vs(Xe()({title:e,message:t,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},i))},Vs.confirm=function(t,e,i){return"object"===(void 0===e?"undefined":Ms(e))?(i=e,e=""):void 0===e&&(e=""),Vs(Xe()({title:e,message:t,$type:"confirm",showCancelButton:!0},i))},Vs.prompt=function(t,e,i){return"object"===(void 0===e?"undefined":Ms(e))?(i=e,e=""):void 0===e&&(e=""),Vs(Xe()({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},i))},Vs.close=function(){_s.doClose(),_s.visible=!1,Ps=[],Ns=null};var Gs=Vs,Hs=Gs,Ys=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-breadcrumb",attrs:{"aria-label":"Breadcrumb",role:"navigation"}},[t._t("default")],2)},Xs=[];Ys._withStripped=!0;var Ws={name:"ElBreadcrumb",props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},provide:function(){return{elBreadcrumb:this}},mounted:function(){var t=this.$el.querySelectorAll(".el-breadcrumb__item");t.length&&t[t.length-1].setAttribute("aria-current","page")}},Us=Ws,zs=a(Us,Ys,Xs,!1,null,null,null);zs.options.__file="packages/breadcrumb/src/breadcrumb.vue";var Ks=zs.exports;Ks.install=function(t){t.component(Ks.name,Ks)};var $s=Ks,js=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"el-breadcrumb__item"},[i("span",{ref:"link",class:["el-breadcrumb__inner",t.to?"is-link":""],attrs:{role:"link"}},[t._t("default")],2),t.separatorClass?i("i",{staticClass:"el-breadcrumb__separator",class:t.separatorClass}):i("span",{staticClass:"el-breadcrumb__separator",attrs:{role:"presentation"}},[t._v(t._s(t.separator))])])},Js=[];js._withStripped=!0;var qs={name:"ElBreadcrumbItem",props:{to:{},replace:Boolean},data:function(){return{separator:"",separatorClass:""}},inject:["elBreadcrumb"],mounted:function(){var t=this;this.separator=this.elBreadcrumb.separator,this.separatorClass=this.elBreadcrumb.separatorClass;var e=this.$refs.link;e.setAttribute("role","link"),e.addEventListener("click",function(e){var i=t.to,a=t.$router;i&&a&&(t.replace?a.replace(i):a.push(i))})}},Zs=qs,Qs=a(Zs,js,Js,!1,null,null,null);Qs.options.__file="packages/breadcrumb/src/breadcrumb-item.vue";var tl=Qs.exports;tl.install=function(t){t.component(tl.name,tl)};var el=tl,il=function(){var t=this,e=t.$createElement;return(t._self._c||e)("form",{staticClass:"el-form",class:[t.labelPosition?"el-form--label-"+t.labelPosition:"",{"el-form--inline":t.inline}]},[t._t("default")],2)},al=[];il._withStripped=!0;var rl={name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach(function(t){t.removeValidateEvents(),t.addValidateEvents()}),this.validateOnRuleChange&&this.validate(function(){})}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var t=Math.max.apply(Math,this.potentialLabelWidthArr);return t?t+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var t=this;this.$on("el.form.addField",function(e){e&&t.fields.push(e)}),this.$on("el.form.removeField",function(e){e.prop&&t.fields.splice(t.fields.indexOf(e),1)})},methods:{resetFields:function(){if(!this.model)return void console.warn("[Element Warn][Form]model is required for resetFields to work.");this.fields.forEach(function(t){t.resetField()})},clearValidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(t.length?"string"==typeof t?this.fields.filter(function(e){return t===e.prop}):this.fields.filter(function(e){return t.indexOf(e.prop)>-1}):this.fields).forEach(function(t){t.clearValidate()})},validate:function(t){var e=this;if(!this.model)return void console.warn("[Element Warn][Form]model is required for validate to work!");var i=void 0;"function"!=typeof t&&window.Promise&&(i=new window.Promise(function(e,i){t=function(t){t?e(t):i(t)}}));var a=!0,r=0;0===this.fields.length&&t&&t(!0);var n={};return this.fields.forEach(function(i){i.validate("",function(i,o){i&&(a=!1),n=Xe()({},n,o),"function"==typeof t&&++r===e.fields.length&&t(a,n)})}),i||void 0},validateField:function(t,e){t=[].concat(t);var i=this.fields.filter(function(e){return-1!==t.indexOf(e.prop)});if(!i.length)return void console.warn("[Element Warn]please pass correct props!");i.forEach(function(t){t.validate("",e)})},getLabelWidthIndex:function(t){var e=this.potentialLabelWidthArr.indexOf(t);if(-1===e)throw new Error("[ElementForm]unpected width ",t);return e},registerLabelWidth:function(t,e){if(t&&e){var i=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(i,1,t)}else t&&this.potentialLabelWidthArr.push(t)},deregisterLabelWidth:function(t){var e=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(e,1)}}},nl=rl,ol=a(nl,il,al,!1,null,null,null);ol.options.__file="packages/form/src/form.vue";var sl=ol.exports;sl.install=function(t){t.component(sl.name,sl)};var ll=sl,hl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":t.elForm&&t.elForm.statusIcon,"is-error":"error"===t.validateState,"is-validating":"validating"===t.validateState,"is-success":"success"===t.validateState,"is-required":t.isRequired||t.required,"is-no-asterisk":t.elForm&&t.elForm.hideRequiredAsterisk},t.sizeClass?"el-form-item--"+t.sizeClass:""]},[i("label-wrap",{attrs:{"is-auto-width":t.labelStyle&&"auto"===t.labelStyle.width,"update-all":"auto"===t.form.labelWidth}},[t.label||t.$slots.label?i("label",{staticClass:"el-form-item__label",style:t.labelStyle,attrs:{for:t.labelFor}},[t._t("label",[t._v(t._s(t.label+t.form.labelSuffix))])],2):t._e()]),i("div",{staticClass:"el-form-item__content",style:t.contentStyle},[t._t("default"),i("transition",{attrs:{name:"el-zoom-in-top"}},["error"===t.validateState&&t.showMessage&&t.form.showMessage?t._t("error",[i("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof t.inlineMessage?t.inlineMessage:t.elForm&&t.elForm.inlineMessage||!1}},[t._v("\n          "+t._s(t.validateMessage)+"\n        ")])],{error:t.validateMessage}):t._e()],2)],2)],1)},ul=[];hl._withStripped=!0;var cl=i(40),dl=i.n(cl),fl={props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(){var t=arguments[0],e=this.$slots.default;if(!e)return null;if(this.isAutoWidth){var i=this.elForm.autoLabelWidth,a={};if(i&&"auto"!==i){var r=parseInt(i,10)-this.computedWidth;r&&(a.marginLeft=r+"px")}return t("div",{class:"el-form-item__label-wrap",style:a},[e])}return e[0]},methods:{getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var t=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(t))}return 0},updateLabelWidth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===t?this.computedWidth=this.getLabelWidth():"remove"===t&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(t,e){this.updateAll&&(this.elForm.registerLabelWidth(t,e),this.elFormItem.updateComputedLabelWidth(t))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},pl=fl,ml=a(pl,void 0,void 0,!1,null,null,null);ml.options.__file="packages/form/src/label-wrap.vue";var Cl=ml.exports,vl={name:"ElFormItem",componentName:"ElFormItem",mixins:[tt.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:Cl},watch:{error:{immediate:!0,handler:function(t){this.validateMessage=t,this.validateState=t?"error":""}},validateStatus:function(t){this.validateState=t}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var t={};if("top"===this.form.labelPosition)return t;var e=this.labelWidth||this.form.labelWidth;return e&&(t.width=e),t},contentStyle:function(){var t={},e=this.label;if("top"===this.form.labelPosition||this.form.inline)return t;if(!e&&!this.labelWidth&&this.isNested)return t;var i=this.labelWidth||this.form.labelWidth;return"auto"===i?"auto"===this.labelWidth?t.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(t.marginLeft=this.elForm.autoLabelWidth):t.marginLeft=i,t},form:function(){for(var t=this.$parent,e=t.$options.componentName;"ElForm"!==e;)"ElFormItem"===e&&(this.isNested=!0),t=t.$parent,e=t.$options.componentName;return t},fieldValue:function(){var t=this.form.model;if(t&&this.prop){var e=this.prop;return-1!==e.indexOf(":")&&(e=e.replace(/:/,".")),Object(W.getPropByPath)(t,e,!0).v}},isRequired:function(){var t=this.getRules(),e=!1;return t&&t.length&&t.every(function(t){return!t.required||(e=!0,!1)}),e},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W.noop;this.validateDisabled=!1;var a=this.getFilteredRule(t);if((!a||0===a.length)&&void 0===this.required)return i(),!0;this.validateState="validating";var r={};a&&a.length>0&&a.forEach(function(t){delete t.trigger}),r[this.prop]=a;var n=new dl.a(r),o={};o[this.prop]=this.fieldValue,n.validate(o,{firstFields:!0},function(t,a){e.validateState=t?"error":"success",e.validateMessage=t?t[0].message:"",i(e.validateMessage,a),e.elForm&&e.elForm.$emit("validate",e.prop,!t,e.validateMessage||null)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var t=this;this.validateState="",this.validateMessage="";var e=this.form.model,i=this.fieldValue,a=this.prop;-1!==a.indexOf(":")&&(a=a.replace(/:/,"."));var r=Object(W.getPropByPath)(e,a,!0);this.validateDisabled=!0,Array.isArray(i)?r.o[r.k]=[].concat(this.initialValue):r.o[r.k]=this.initialValue,this.$nextTick(function(){t.validateDisabled=!1}),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var t=this.form.rules,e=this.rules,i=void 0!==this.required?{required:!!this.required}:[],a=Object(W.getPropByPath)(t,this.prop||"");return t=t?a.o[this.prop||""]||a.v:[],[].concat(e||t||[]).concat(i)},getFilteredRule:function(t){return this.getRules().filter(function(e){return!e.trigger||""===t||(Array.isArray(e.trigger)?e.trigger.indexOf(t)>-1:e.trigger===t)}).map(function(t){return Xe()({},t)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){if(this.validateDisabled)return void(this.validateDisabled=!1);this.validate("change")},updateComputedLabelWidth:function(t){this.computedLabelWidth=t?t+"px":""},addValidateEvents:function(){(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var t=this.fieldValue;Array.isArray(t)&&(t=[].concat(t)),Object.defineProperty(this,"initialValue",{value:t}),this.addValidateEvents()}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},Dl=vl,gl=a(Dl,hl,ul,!1,null,null,null);gl.options.__file="packages/form/src/form-item.vue";var Sl=gl.exports;Sl.install=function(t){t.component(Sl.name,Sl)};var xl=Sl,bl=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-tabs__active-bar",class:"is-"+t.rootTabs.tabPosition,style:t.barStyle})},Il=[];bl._withStripped=!0;var Tl={name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{get:function(){var t=this,e={},i=0,a=0,r=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",n="width"===r?"x":"y",o=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})};this.tabs.every(function(e,n){var s=Object(W.arrayFind)(t.$parent.$refs.tabs||[],function(t){return t.id.replace("tab-","")===e.paneName});if(!s)return!1;if(e.active){a=s["client"+o(r)];var l=window.getComputedStyle(s);return"width"===r&&t.tabs.length>1&&(a-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),"width"===r&&(i+=parseFloat(l.paddingLeft)),!1}return i+=s["client"+o(r)],!0});var s="translate"+o(n)+"("+i+"px)";return e[r]=a+"px",e.transform=s,e.msTransform=s,e.webkitTransform=s,e}}}},yl=Tl,wl=a(yl,bl,Il,!1,null,null,null);wl.options.__file="packages/tabs/src/tab-bar.vue";var El=wl.exports,Fl=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})},Ll={name:"TabNav",components:{TabBar:El},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:g},onTabRemove:{type:Function,default:g},type:String,stretch:Boolean},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1,focusable:!0}},computed:{navStyle:function(){return{transform:"translate"+(-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y")+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var t=this.$refs.navScroll["offset"+Fl(this.sizeName)],e=this.navOffset;if(e){var i=e>t?e-t:0;this.navOffset=i}},scrollNext:function(){var t=this.$refs.nav["offset"+Fl(this.sizeName)],e=this.$refs.navScroll["offset"+Fl(this.sizeName)],i=this.navOffset;if(!(t-i<=e)){var a=t-i>2*e?i+e:t-e;this.navOffset=a}},scrollToActiveTab:function(){if(this.scrollable){var t=this.$refs.nav,e=this.$el.querySelector(".is-active");if(e){var i=this.$refs.navScroll,a=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition),r=e.getBoundingClientRect(),n=i.getBoundingClientRect(),o=a?t.offsetWidth-n.width:t.offsetHeight-n.height,s=this.navOffset,l=s;a?(r.left<n.left&&(l=s-(n.left-r.left)),r.right>n.right&&(l=s+r.right-n.right)):(r.top<n.top&&(l=s-(n.top-r.top)),r.bottom>n.bottom&&(l=s+(r.bottom-n.bottom))),l=Math.max(l,0),this.navOffset=Math.min(l,o)}}},update:function(){if(this.$refs.nav){var t=this.sizeName,e=this.$refs.nav["offset"+Fl(t)],i=this.$refs.navScroll["offset"+Fl(t)],a=this.navOffset;if(i<e){var r=this.navOffset;this.scrollable=this.scrollable||{},this.scrollable.prev=r,this.scrollable.next=r+i<e,e-r<i&&(this.navOffset=e-i)}else this.scrollable=!1,a>0&&(this.navOffset=0)}},changeTab:function(t){var e=t.keyCode,i=void 0,a=void 0,r=void 0;-1!==[37,38,39,40].indexOf(e)&&(r=t.currentTarget.querySelectorAll("[role=tab]"),a=Array.prototype.indexOf.call(r,t.target),i=37===e||38===e?0===a?r.length-1:a-1:a<r.length-1?a+1:0,r[i].focus(),r[i].click(),this.setFocus())},setFocus:function(){this.focusable&&(this.isFocus=!0)},removeFocus:function(){this.isFocus=!1},visibilityChangeHandler:function(){var t=this,e=document.visibilityState;"hidden"===e?this.focusable=!1:"visible"===e&&setTimeout(function(){t.focusable=!0},50)},windowBlurHandler:function(){this.focusable=!1},windowFocusHandler:function(){var t=this;setTimeout(function(){t.focusable=!0},50)}},updated:function(){this.update()},render:function(t){var e=this,i=this.type,a=this.panes,r=this.editable,n=this.stretch,o=this.onTabClick,s=this.onTabRemove,l=this.navStyle,h=this.scrollable,u=this.scrollNext,c=this.scrollPrev,d=this.changeTab,f=this.setFocus,p=this.removeFocus,m=h?[t("span",{class:["el-tabs__nav-prev",h.prev?"":"is-disabled"],on:{click:c}},[t("i",{class:"el-icon-arrow-left"})]),t("span",{class:["el-tabs__nav-next",h.next?"":"is-disabled"],on:{click:u}},[t("i",{class:"el-icon-arrow-right"})])]:null,C=this._l(a,function(i,a){var n,l=i.name||i.index||a,h=i.isClosable||r;i.index=""+a;var u=h?t("span",{class:"el-icon-close",on:{click:function(t){s(i,t)}}}):null,c=i.$slots.label||i.label,d=i.active?0:-1;return t("div",{class:(n={"el-tabs__item":!0},n["is-"+e.rootTabs.tabPosition]=!0,n["is-active"]=i.active,n["is-disabled"]=i.disabled,n["is-closable"]=h,n["is-focus"]=e.isFocus,n),attrs:{id:"tab-"+l,"aria-controls":"pane-"+l,role:"tab","aria-selected":i.active,tabindex:d},key:"tab-"+l,ref:"tabs",refInFor:!0,on:{focus:function(){f()},blur:function(){p()},click:function(t){p(),o(i,l,t)},keydown:function(t){!h||46!==t.keyCode&&8!==t.keyCode||s(i,t)}}},[c,u])});return t("div",{class:["el-tabs__nav-wrap",h?"is-scrollable":"","is-"+this.rootTabs.tabPosition]},[m,t("div",{class:["el-tabs__nav-scroll"],ref:"navScroll"},[t("div",{class:["el-tabs__nav","is-"+this.rootTabs.tabPosition,n&&-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"is-stretch":""],ref:"nav",style:l,attrs:{role:"tablist"},on:{keydown:d}},[i?null:t("tab-bar",{attrs:{tabs:a}}),C])])])},mounted:function(){var t=this;Object(va.addResizeListener)(this.$el,this.update),document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("blur",this.windowBlurHandler),window.addEventListener("focus",this.windowFocusHandler),setTimeout(function(){t.scrollToActiveTab()},0)},beforeDestroy:function(){this.$el&&this.update&&Object(va.removeResizeListener)(this.$el,this.update),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),window.removeEventListener("blur",this.windowBlurHandler),window.removeEventListener("focus",this.windowFocusHandler)}},Ml=Ll,Al=a(Ml,void 0,void 0,!1,null,null,null);Al.options.__file="packages/tabs/src/tab-nav.vue";var Ol=Al.exports,Nl={name:"ElTabs",components:{TabNav:Ol},props:{type:String,activeName:String,closable:Boolean,addable:Boolean,value:{},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:Function,stretch:Boolean},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},watch:{activeName:function(t){this.setCurrentName(t)},value:function(t){this.setCurrentName(t)},currentName:function(t){var e=this;this.$refs.nav&&this.$nextTick(function(){e.$refs.nav.$nextTick(function(t){e.$refs.nav.scrollToActiveTab()})})}},methods:{calcPaneInstances:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slots.default){var i=this.$slots.default.filter(function(t){return t.tag&&t.componentOptions&&"ElTabPane"===t.componentOptions.Ctor.options.name}),a=i.map(function(t){return t.componentInstance}),r=!(a.length===this.panes.length&&a.every(function(e,i){return e===t.panes[i]}));(e||r)&&(this.panes=a)}else 0!==this.panes.length&&(this.panes=[])},handleTabClick:function(t,e,i){t.disabled||(this.setCurrentName(e),this.$emit("tab-click",t,i))},handleTabRemove:function(t,e){t.disabled||(e.stopPropagation(),this.$emit("edit",t.name,"remove"),this.$emit("tab-remove",t.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(t){var e=this,i=function(){e.currentName=t,e.$emit("input",t)};if(this.currentName!==t&&this.beforeLeave){var a=this.beforeLeave(t,this.currentName);a&&a.then?a.then(function(){i(),e.$refs.nav&&e.$refs.nav.removeFocus()},function(){}):!1!==a&&i()}else i()}},render:function(t){var e,i=this.type,a=this.handleTabClick,r=this.handleTabRemove,n=this.handleTabAdd,o=this.currentName,s=this.panes,l=this.editable,h=this.addable,u=this.tabPosition,c=this.stretch,d=l||h?t("span",{class:"el-tabs__new-tab",on:{click:n,keydown:function(t){13===t.keyCode&&n()}},attrs:{tabindex:"0"}},[t("i",{class:"el-icon-plus"})]):null,f={props:{currentName:o,onTabClick:a,onTabRemove:r,editable:l,type:i,panes:s,stretch:c},ref:"nav"},p=t("div",{class:["el-tabs__header","is-"+u]},[d,t("tab-nav",f)]),m=t("div",{class:"el-tabs__content"},[this.$slots.default]);return t("div",{class:(e={"el-tabs":!0,"el-tabs--card":"card"===i},e["el-tabs--"+u]=!0,e["el-tabs--border-card"]="border-card"===i,e)},["bottom"!==u?[p,m]:[m,p]])},created:function(){this.currentName||this.setCurrentName("0"),this.$on("tab-nav-update",this.calcPaneInstances.bind(null,!0))},mounted:function(){this.calcPaneInstances()},updated:function(){this.calcPaneInstances()}},_l=Nl,Pl=a(_l,void 0,void 0,!1,null,null,null);Pl.options.__file="packages/tabs/src/tabs.vue";var Rl=Pl.exports;Rl.install=function(t){t.component(Rl.name,Rl)};var Bl=Rl,kl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return!t.lazy||t.loaded||t.active?i("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{role:"tabpanel","aria-hidden":!t.active,id:"pane-"+t.paneName,"aria-labelledby":"tab-"+t.paneName}},[t._t("default")],2):t._e()},Vl=[];kl._withStripped=!0;var Gl={name:"ElTabPane",componentName:"ElTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean,lazy:Boolean},data:function(){return{index:null,loaded:!1}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){var t=this.$parent.currentName===(this.name||this.index);return t&&(this.loaded=!0),t},paneName:function(){return this.name||this.index}},updated:function(){this.$parent.$emit("tab-nav-update")}},Hl=Gl,Yl=a(Hl,kl,Vl,!1,null,null,null);Yl.options.__file="packages/tabs/src/tab-pane.vue";var Xl=Yl.exports;Xl.install=function(t){t.component(Xl.name,Xl)};var Wl=Xl,Ul={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(t){return-1!==["dark","light","plain"].indexOf(t)}}},methods:{handleClose:function(t){t.stopPropagation(),this.$emit("close",t)},handleClick:function(t){this.$emit("click",t)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(t){var e=this.type,i=this.tagSize,a=this.hit,r=this.effect,n=["el-tag",e?"el-tag--"+e:"",i?"el-tag--"+i:"",r?"el-tag--"+r:"",a&&"is-hit"],o=t("span",{class:n,style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&t("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?o:t("transition",{attrs:{name:"el-zoom-in-center"}},[o])}},zl=Ul,Kl=a(zl,void 0,void 0,!1,null,null,null);Kl.options.__file="packages/tag/src/tag.vue";var $l=Kl.exports;$l.install=function(t){t.component($l.name,$l)};var jl=$l,Jl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":t.highlightCurrent,"is-dragging":!!t.dragState.draggingNode,"is-drop-not-allow":!t.dragState.allowDrop,"is-drop-inner":"inner"===t.dragState.dropType},attrs:{role:"tree"}},[t._l(t.root.childNodes,function(e){return i("el-tree-node",{key:t.getNodeKey(e),attrs:{node:e,props:t.props,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent},on:{"node-expand":t.handleNodeExpand}})}),t.isEmpty?i("div",{staticClass:"el-tree__empty-block"},[i("span",{staticClass:"el-tree__empty-text"},[t._v(t._s(t.emptyText))])]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)},ql=[];Jl._withStripped=!0;var Zl="$treeNodeId",Ql=function(t,e){e&&!e[Zl]&&Object.defineProperty(e,Zl,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},th=function(t,e){return t?e[t]:e[Zl]},eh=function(t,e){for(var i=t;i&&"BODY"!==i.tagName;){if(i.__vue__&&i.__vue__.$options.name===e)return i.__vue__;i=i.parentNode}return null},ih=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),ah=function(t){for(var e=!0,i=!0,a=!0,r=0,n=t.length;r<n;r++){var o=t[r];(!0!==o.checked||o.indeterminate)&&(e=!1,o.disabled||(a=!1)),(!1!==o.checked||o.indeterminate)&&(i=!1)}return{all:e,none:i,allWithoutDisable:a,half:!e&&!i}},rh=function t(e){if(0!==e.childNodes.length){var i=ah(e.childNodes),a=i.all,r=i.none,n=i.half;a?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):r&&(e.checked=!1,e.indeterminate=!1);var o=e.parent;o&&0!==o.level&&(e.store.checkStrictly||t(o))}},nh=function(t,e){var i=t.store.props,a=t.data||{},r=i[e];if("function"==typeof r)return r(a,t);if("string"==typeof r)return a[r];if(void 0===r){var n=a[e];return void 0===n?"":n}},oh=0,sh=function(){function t(e){S(this,t),this.id=oh++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1;for(var i in e)e.hasOwnProperty(i)&&(this[i]=e[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var a=this.store;if(!a)throw new Error("[Node]store is required!");a.registerNode(this);var r=a.props;if(r&&void 0!==r.isLeaf){var n=nh(this,"isLeaf");"boolean"==typeof n&&(this.isLeafByUser=n)}if(!0!==a.lazy&&this.data?(this.setData(this.data),a.defaultExpandAll&&(this.expanded=!0)):this.level>0&&a.lazy&&a.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Ql(this,this.data),this.data){var o=a.defaultExpandedKeys,s=a.key;s&&o&&-1!==o.indexOf(this.key)&&this.expand(null,a.autoExpandParent),s&&void 0!==a.currentNodeKey&&this.key===a.currentNodeKey&&(a.currentNode=this,a.currentNode.isCurrent=!0),a.lazy&&a._initDefaultCheckedNode(this),this.updateLeafState()}}return t.prototype.setData=function(t){Array.isArray(t)||Ql(this,t),this.data=t,this.childNodes=[];var e=void 0;e=0===this.level&&this.data instanceof Array?this.data:nh(this,"children")||[];for(var i=0,a=e.length;i<a;i++)this.insertChild({data:e[i]})},t.prototype.contains=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function i(a){for(var r=a.childNodes||[],n=!1,o=0,s=r.length;o<s;o++){var l=r[o];if(l===t||e&&i(l)){n=!0;break}}return n}(this)},t.prototype.remove=function(){var t=this.parent;t&&t.removeChild(this)},t.prototype.insertChild=function(e,i,a){if(!e)throw new Error("insertChild error: child is required.");if(!(e instanceof t)){if(!a){var r=this.getChildren(!0)||[];-1===r.indexOf(e.data)&&(void 0===i||i<0?r.push(e.data):r.splice(i,0,e.data))}Xe()(e,{parent:this,store:this.store}),e=new t(e)}e.level=this.level+1,void 0===i||i<0?this.childNodes.push(e):this.childNodes.splice(i,0,e),this.updateLeafState()},t.prototype.insertBefore=function(t,e){var i=void 0;e&&(i=this.childNodes.indexOf(e)),this.insertChild(t,i)},t.prototype.insertAfter=function(t,e){var i=void 0;e&&-1!==(i=this.childNodes.indexOf(e))&&(i+=1),this.insertChild(t,i)},t.prototype.removeChild=function(t){var e=this.getChildren()||[],i=e.indexOf(t.data);i>-1&&e.splice(i,1);var a=this.childNodes.indexOf(t);a>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(a,1)),this.updateLeafState()},t.prototype.removeChildByData=function(t){for(var e=null,i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===t){e=this.childNodes[i];break}e&&this.removeChild(e)},t.prototype.expand=function(t,e){var i=this,a=function(){if(e)for(var a=i.parent;a.level>0;)a.expanded=!0,a=a.parent;i.expanded=!0,t&&t()};this.shouldLoadData()?this.loadData(function(t){t instanceof Array&&(i.checked?i.setChecked(!0,!0):i.store.checkStrictly||rh(i),a())}):a()},t.prototype.doCreateChildren=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach(function(t){e.insertChild(Xe()({data:t},i),void 0,!0)})},t.prototype.collapse=function(){this.expanded=!1},t.prototype.shouldLoadData=function(){return!0===this.store.lazy&&this.store.load&&!this.loaded},t.prototype.updateLeafState=function(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);var t=this.childNodes;if(!this.store.lazy||!0===this.store.lazy&&!0===this.loaded)return void(this.isLeaf=!t||0===t.length);this.isLeaf=!1},t.prototype.setChecked=function(t,e,i,a){var r=this;if(this.indeterminate="half"===t,this.checked=!0===t,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var n=ah(this.childNodes),o=n.all,s=n.allWithoutDisable;this.isLeaf||o||!s||(this.checked=!1,t=!1);var l=function(){if(e){for(var i=r.childNodes,n=0,o=i.length;n<o;n++){var s=i[n];a=a||!1!==t;var l=s.disabled?s.checked:a;s.setChecked(l,e,!0,a)}var h=ah(i),u=h.half,c=h.all;c||(r.checked=c,r.indeterminate=u)}};if(this.shouldLoadData())return void this.loadData(function(){l(),rh(r)},{checked:!1!==t});l()}var h=this.parent;h&&0!==h.level&&(i||rh(h))}},t.prototype.getChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var e=this.data;if(!e)return null;var i=this.store.props,a="children";return i&&(a=i.children||"children"),void 0===e[a]&&(e[a]=null),t&&!e[a]&&(e[a]=[]),e[a]},t.prototype.updateChildren=function(){var t=this,e=this.getChildren()||[],i=this.childNodes.map(function(t){return t.data}),a={},r=[];e.forEach(function(t,e){var n=t[Zl];!!n&&Object(W.arrayFindIndex)(i,function(t){return t[Zl]===n})>=0?a[n]={index:e,data:t}:r.push({index:e,data:t})}),this.store.lazy||i.forEach(function(e){a[e[Zl]]||t.removeChildByData(e)}),r.forEach(function(e){var i=e.index,a=e.data;t.insertChild({data:a},i)}),this.updateLeafState()},t.prototype.loadData=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(i).length)t&&t.call(this);else{this.loading=!0;var a=function(a){e.loaded=!0,e.loading=!1,e.childNodes=[],e.doCreateChildren(a,i),e.updateLeafState(),t&&t.call(e,a)};this.store.load(this,a)}},ih(t,[{key:"label",get:function(){return nh(this,"label")}},{key:"key",get:function(){var t=this.store.key;return this.data?this.data[t]:null}},{key:"disabled",get:function(){return nh(this,"disabled")}},{key:"nextSibling",get:function(){var t=this.parent;if(t){var e=t.childNodes.indexOf(this);if(e>-1)return t.childNodes[e+1]}return null}},{key:"previousSibling",get:function(){var t=this.parent;if(t){var e=t.childNodes.indexOf(this);if(e>-1)return e>0?t.childNodes[e-1]:null}return null}}]),t}(),lh=sh,hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh=function(){function t(e){var i=this;x(this,t),this.currentNode=null,this.currentNodeKey=null;for(var a in e)e.hasOwnProperty(a)&&(this[a]=e[a]);if(this.nodesMap={},this.root=new lh({data:this.data,store:this}),this.lazy&&this.load){(0,this.load)(this.root,function(t){i.root.doCreateChildren(t),i._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}return t.prototype.filter=function(t){var e=this.filterNodeMethod,i=this.lazy;!function a(r){var n=r.root?r.root.childNodes:r.childNodes;if(n.forEach(function(i){i.visible=e.call(i,t,i.data,i),a(i)}),!r.visible&&n.length){var o=!0;o=!n.some(function(t){return t.visible}),r.root?r.root.visible=!1===o:r.visible=!1===o}t&&(!r.visible||r.isLeaf||i||r.expand())}(this)},t.prototype.setData=function(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()},t.prototype.getNode=function(t){if(t instanceof lh)return t;var e="object"!==(void 0===t?"undefined":hh(t))?t:th(this.key,t);return this.nodesMap[e]||null},t.prototype.insertBefore=function(t,e){var i=this.getNode(e);i.parent.insertBefore({data:t},i)},t.prototype.insertAfter=function(t,e){var i=this.getNode(e);i.parent.insertAfter({data:t},i)},t.prototype.remove=function(t){var e=this.getNode(t);e&&e.parent&&(e===this.currentNode&&(this.currentNode=null),e.parent.removeChild(e))},t.prototype.append=function(t,e){var i=e?this.getNode(e):this.root;i&&i.insertChild({data:t})},t.prototype._initDefaultCheckedNodes=function(){var t=this,e=this.defaultCheckedKeys||[],i=this.nodesMap;e.forEach(function(e){var a=i[e];a&&a.setChecked(!0,!t.checkStrictly)})},t.prototype._initDefaultCheckedNode=function(t){-1!==(this.defaultCheckedKeys||[]).indexOf(t.key)&&t.setChecked(!0,!this.checkStrictly)},t.prototype.setDefaultCheckedKey=function(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())},t.prototype.registerNode=function(t){this.key&&t&&t.data&&(void 0!==t.key&&(this.nodesMap[t.key]=t))},t.prototype.deregisterNode=function(t){var e=this;this.key&&t&&t.data&&(t.childNodes.forEach(function(t){e.deregisterNode(t)}),delete this.nodesMap[t.key])},t.prototype.getCheckedNodes=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];return function a(r){(r.root?r.root.childNodes:r.childNodes).forEach(function(r){(r.checked||e&&r.indeterminate)&&(!t||t&&r.isLeaf)&&i.push(r.data),a(r)})}(this),i},t.prototype.getCheckedKeys=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getCheckedNodes(e).map(function(e){return(e||{})[t.key]})},t.prototype.getHalfCheckedNodes=function(){var t=[];return function e(i){(i.root?i.root.childNodes:i.childNodes).forEach(function(i){i.indeterminate&&t.push(i.data),e(i)})}(this),t},t.prototype.getHalfCheckedKeys=function(){var t=this;return this.getHalfCheckedNodes().map(function(e){return(e||{})[t.key]})},t.prototype._getAllNodes=function(){var t=[],e=this.nodesMap;for(var i in e)e.hasOwnProperty(i)&&t.push(e[i]);return t},t.prototype.updateChildren=function(t,e){var i=this.nodesMap[t];if(i){for(var a=i.childNodes,r=a.length-1;r>=0;r--){var n=a[r];this.remove(n.data)}for(var o=0,s=e.length;o<s;o++){var l=e[o];this.append(l,i.data)}}},t.prototype._setCheckedKeys=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments[2],a=this._getAllNodes().sort(function(t,e){return e.level-t.level}),r=Object.create(null),n=Object.keys(i);a.forEach(function(t){return t.setChecked(!1,!1)});for(var o=0,s=a.length;o<s;o++){var l=a[o],h=l.data[t].toString();if(n.indexOf(h)>-1){for(var u=l.parent;u&&u.level>0;)r[u.data[t]]=!0,u=u.parent;l.isLeaf||this.checkStrictly?l.setChecked(!0,!1):(l.setChecked(!0,!0),e&&function(){l.setChecked(!1,!1);!function t(e){e.childNodes.forEach(function(e){e.isLeaf||e.setChecked(!1,!1),t(e)})}(l)}())}else l.checked&&!r[h]&&l.setChecked(!1,!1)}},t.prototype.setCheckedNodes=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.key,a={};t.forEach(function(t){a[(t||{})[i]]=!0}),this._setCheckedKeys(i,e,a)},t.prototype.setCheckedKeys=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=t;var i=this.key,a={};t.forEach(function(t){a[t]=!0}),this._setCheckedKeys(i,e,a)},t.prototype.setDefaultExpandedKeys=function(t){var e=this;t=t||[],this.defaultExpandedKeys=t,t.forEach(function(t){var i=e.getNode(t);i&&i.expand(null,e.autoExpandParent)})},t.prototype.setChecked=function(t,e,i){var a=this.getNode(t);a&&a.setChecked(!!e,i)},t.prototype.getCurrentNode=function(){return this.currentNode},t.prototype.setCurrentNode=function(t){var e=this.currentNode;e&&(e.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0},t.prototype.setUserCurrentNode=function(t){var e=t[this.key],i=this.nodesMap[e];this.setCurrentNode(i)},t.prototype.setCurrentNodeKey=function(t){if(null===t||void 0===t)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);var e=this.getNode(t);e&&this.setCurrentNode(e)},t}(),ch=uh,dh=function(){var t=this,e=this,i=e.$createElement,a=e._self._c||i;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":e.expanded,"is-current":e.node.isCurrent,"is-hidden":!e.node.visible,"is-focusable":!e.node.disabled,"is-checked":!e.node.disabled&&e.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.draggable},on:{click:function(t){return t.stopPropagation(),e.handleClick(t)},contextmenu:function(e){return t.handleContextMenu(e)},dragstart:function(t){return t.stopPropagation(),e.handleDragStart(t)},dragover:function(t){return t.stopPropagation(),e.handleDragOver(t)},dragend:function(t){return t.stopPropagation(),e.handleDragEnd(t)},drop:function(t){return t.stopPropagation(),e.handleDrop(t)}}},[a("div",{staticClass:"el-tree-node__content",style:{"padding-left":(e.node.level-1)*e.tree.indent+"px"}},[a("span",{class:[{"is-leaf":e.node.isLeaf,expanded:!e.node.isLeaf&&e.expanded},"el-tree-node__expand-icon",e.tree.iconClass?e.tree.iconClass:"el-icon-caret-right"],on:{click:function(t){return t.stopPropagation(),e.handleExpandIconClick(t)}}}),e.showCheckbox?a("el-checkbox",{attrs:{indeterminate:e.node.indeterminate,disabled:!!e.node.disabled},on:{change:e.handleCheckChange},nativeOn:{click:function(t){t.stopPropagation()}},model:{value:e.node.checked,callback:function(t){e.$set(e.node,"checked",t)},expression:"node.checked"}}):e._e(),e.node.loading?a("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):e._e(),a("node-content",{attrs:{node:e.node}})],1),a("el-collapse-transition",[!e.renderAfterExpand||e.childNodeRendered?a("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":e.expanded}},e._l(e.node.childNodes,function(t){return a("el-tree-node",{key:e.getNodeKey(t),attrs:{"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t},on:{"node-expand":e.handleChildNodeExpand}})}),1):e._e()])],1)},fh=[];dh._withStripped=!0;var ph={name:"ElTreeNode",componentName:"ElTreeNode",mixins:[tt.a],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},components:{ElCollapseTransition:fe.a,ElCheckbox:qa.a,NodeContent:{props:{node:{required:!0}},render:function(t){var e=this.$parent,i=e.tree,a=this.node,r=a.data,n=a.store;return e.renderContent?e.renderContent.call(e._renderProxy,t,{_self:i.$vnode.context,node:a,data:r,store:n}):i.$scopedSlots.default?i.$scopedSlots.default({node:a,data:r}):t("span",{class:"el-tree-node__label"},[a.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(t){this.handleSelectChange(this.node.checked,t)},"node.checked":function(t){this.handleSelectChange(t,this.node.indeterminate)},"node.expanded":function(t){var e=this;this.$nextTick(function(){return e.expanded=t}),t&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(t){return th(this.tree.nodeKey,t.data)},handleSelectChange:function(t,e){this.oldChecked!==t&&this.oldIndeterminate!==e&&this.tree.$emit("check-change",this.node.data,t,e),this.oldChecked=t,this.indeterminate=e},handleClick:function(){var t=this.tree.store;t.setCurrentNode(this.node),this.tree.$emit("current-change",t.currentNode?t.currentNode.data:null,t.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!this.node.disabled&&this.handleCheckChange(null,{target:{checked:!this.node.checked}}),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(t){this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(t.stopPropagation(),t.preventDefault()),this.tree.$emit("node-contextmenu",t,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(t,e){var i=this;this.node.setChecked(e.target.checked,!this.tree.checkStrictly),this.$nextTick(function(){var t=i.tree.store;i.tree.$emit("check",i.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})})},handleChildNodeExpand:function(t,e,i){this.broadcast("ElTreeNode","tree-node-expand",e),this.tree.$emit("node-expand",t,e,i)},handleDragStart:function(t){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",t,this)},handleDragOver:function(t){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",t,this),t.preventDefault())},handleDrop:function(t){t.preventDefault()},handleDragEnd:function(t){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",t,this)}},created:function(){var t=this,e=this.$parent;e.isTree?this.tree=e:this.tree=e.tree;var i=this.tree;i||console.warn("Can not find node's tree.");var a=i.props||{},r=a.children||"children";this.$watch("node.data."+r,function(){t.node.updateChildren()}),this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",function(e){t.node!==e&&t.node.collapse()})}},mh=ph,Ch=a(mh,dh,fh,!1,null,null,null);Ch.options.__file="packages/tree/src/tree-node.vue";var vh=Ch.exports,Dh={name:"ElTree",mixins:[tt.a],components:{ElTreeNode:vh},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0}}},props:{data:{type:Array},emptyText:{type:String,default:function(){return Object(gs.t)("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},computed:{children:{set:function(t){this.data=t},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var t=this.root.childNodes;return!t||0===t.length||t.every(function(t){return!t.visible})}},watch:{defaultCheckedKeys:function(t){this.store.setDefaultCheckedKey(t)},defaultExpandedKeys:function(t){this.store.defaultExpandedKeys=t,this.store.setDefaultExpandedKeys(t)},data:function(t){this.store.setData(t)},checkboxItems:function(t){Array.prototype.forEach.call(t,function(t){t.setAttribute("tabindex",-1)})},checkStrictly:function(t){this.store.checkStrictly=t}},methods:{filter:function(t){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(t)},getNodeKey:function(t){return th(this.nodeKey,t.data)},getNodePath:function(t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var e=this.store.getNode(t);if(!e)return[];for(var i=[e.data],a=e.parent;a&&a!==this.root;)i.push(a.data),a=a.parent;return i.reverse()},getCheckedNodes:function(t,e){return this.store.getCheckedNodes(t,e)},getCheckedKeys:function(t){return this.store.getCheckedKeys(t)},getCurrentNode:function(){var t=this.store.getCurrentNode();return t?t.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var t=this.getCurrentNode();return t?t[this.nodeKey]:null},setCheckedNodes:function(t,e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(t,e)},setCheckedKeys:function(t,e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(t,e)},setChecked:function(t,e,i){this.store.setChecked(t,e,i)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(t)},setCurrentKey:function(t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(t)},getNode:function(t){return this.store.getNode(t)},remove:function(t){this.store.remove(t)},append:function(t,e){this.store.append(t,e)},insertBefore:function(t,e){this.store.insertBefore(t,e)},insertAfter:function(t,e){this.store.insertAfter(t,e)},handleNodeExpand:function(t,e,i){this.broadcast("ElTreeNode","tree-node-expand",e),this.$emit("node-expand",t,e,i)},updateKeyChildren:function(t,e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(t,e)},initTabIndex:function(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var t=this.$el.querySelectorAll(".is-checked[role=treeitem]");if(t.length)return void t[0].setAttribute("tabindex",0);this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function(t){var e=t.target;if(-1!==e.className.indexOf("el-tree-node")){var i=t.keyCode;this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]");var a=this.treeItemArray.indexOf(e),r=void 0;[38,40].indexOf(i)>-1&&(t.preventDefault(),r=38===i?0!==a?a-1:0:a<this.treeItemArray.length-1?a+1:0,this.treeItemArray[r].focus()),[37,39].indexOf(i)>-1&&(t.preventDefault(),e.click());var n=e.querySelector('[type="checkbox"]');[13,32].indexOf(i)>-1&&n&&(t.preventDefault(),n.click())}}},created:function(){var t=this;this.isTree=!0,this.store=new ch({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root;var e=this.dragState;this.$on("tree-node-drag-start",function(i,a){if("function"==typeof t.allowDrag&&!t.allowDrag(a.node))return i.preventDefault(),!1;i.dataTransfer.effectAllowed="move";try{i.dataTransfer.setData("text/plain","")}catch(t){}e.draggingNode=a,t.$emit("node-drag-start",a.node,i)}),this.$on("tree-node-drag-over",function(i,a){var r=eh(i.target,"ElTreeNode"),n=e.dropNode;n&&n!==r&&Object(oe.removeClass)(n.$el,"is-drop-inner");var o=e.draggingNode;if(o&&r){var s=!0,l=!0,h=!0,u=!0;"function"==typeof t.allowDrop&&(s=t.allowDrop(o.node,r.node,"prev"),u=l=t.allowDrop(o.node,r.node,"inner"),h=t.allowDrop(o.node,r.node,"next")),i.dataTransfer.dropEffect=l?"move":"none",(s||l||h)&&n!==r&&(n&&t.$emit("node-drag-leave",o.node,n.node,i),t.$emit("node-drag-enter",o.node,r.node,i)),(s||l||h)&&(e.dropNode=r),r.node.nextSibling===o.node&&(h=!1),r.node.previousSibling===o.node&&(s=!1),r.node.contains(o.node,!1)&&(l=!1),(o.node===r.node||o.node.contains(r.node))&&(s=!1,l=!1,h=!1);var c=r.$el.getBoundingClientRect(),d=t.$el.getBoundingClientRect(),f=void 0,p=s?l?.25:h?.45:1:-1,m=h?l?.75:s?.55:0:1,C=-9999,v=i.clientY-c.top;f=v<c.height*p?"before":v>c.height*m?"after":l?"inner":"none";var D=r.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),g=t.$refs.dropIndicator;"before"===f?C=D.top-d.top:"after"===f&&(C=D.bottom-d.top),g.style.top=C+"px",g.style.left=D.right-d.left+"px","inner"===f?Object(oe.addClass)(r.$el,"is-drop-inner"):Object(oe.removeClass)(r.$el,"is-drop-inner"),e.showDropIndicator="before"===f||"after"===f,e.allowDrop=e.showDropIndicator||u,e.dropType=f,t.$emit("node-drag-over",o.node,r.node,i)}}),this.$on("tree-node-drag-end",function(i){var a=e.draggingNode,r=e.dropType,n=e.dropNode;if(i.preventDefault(),i.dataTransfer.dropEffect="move",a&&n){var o={data:a.node.data};"none"!==r&&a.node.remove(),"before"===r?n.node.parent.insertBefore(o,n.node):"after"===r?n.node.parent.insertAfter(o,n.node):"inner"===r&&n.node.insertChild(o),"none"!==r&&t.store.registerNode(o),Object(oe.removeClass)(n.$el,"is-drop-inner"),t.$emit("node-drag-end",a.node,n.node,r,i),"none"!==r&&t.$emit("node-drop",a.node,n.node,r,i)}a&&!n&&t.$emit("node-drag-end",a.node,null,r,i),e.showDropIndicator=!1,e.draggingNode=null,e.dropNode=null,e.allowDrop=!0})},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")}},gh=Dh,Sh=a(gh,Jl,ql,!1,null,null,null);Sh.options.__file="packages/tree/src/tree.vue";var xh=Sh.exports;xh.install=function(t){t.component(xh.name,xh)};var bh=xh,Ih=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-alert-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-alert",class:[t.typeClass,t.center?"is-center":"","is-"+t.effect],attrs:{role:"alert"}},[t.showIcon?i("i",{staticClass:"el-alert__icon",class:[t.iconClass,t.isBigIcon]}):t._e(),i("div",{staticClass:"el-alert__content"},[t.title||t.$slots.title?i("span",{staticClass:"el-alert__title",class:[t.isBoldTitle]},[t._t("title",[t._v(t._s(t.title))])],2):t._e(),t.$slots.default&&!t.description?i("p",{staticClass:"el-alert__description"},[t._t("default")],2):t._e(),t.description&&!t.$slots.default?i("p",{staticClass:"el-alert__description"},[t._v(t._s(t.description))]):t._e(),i("i",{directives:[{name:"show",rawName:"v-show",value:t.closable,expression:"closable"}],staticClass:"el-alert__closebtn",class:{"is-customed":""!==t.closeText,"el-icon-close":""===t.closeText},on:{click:function(e){t.close()}}},[t._v(t._s(t.closeText))])])])])},Th=[];Ih._withStripped=!0;var yh={success:"el-icon-success",warning:"el-icon-warning",error:"el-icon-error"},wh={name:"ElAlert",props:{title:{type:String,default:""},description:{type:String,default:""},type:{type:String,default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,default:"light",validator:function(t){return-1!==["light","dark"].indexOf(t)}}},data:function(){return{visible:!0}},methods:{close:function(){this.visible=!1,this.$emit("close")}},computed:{typeClass:function(){return"el-alert--"+this.type},iconClass:function(){return yh[this.type]||"el-icon-info"},isBigIcon:function(){return this.description||this.$slots.default?"is-big":""},isBoldTitle:function(){return this.description||this.$slots.default?"is-bold":""}}},Eh=wh,Fh=a(Eh,Ih,Th,!1,null,null,null);Fh.options.__file="packages/alert/src/main.vue";var Lh=Fh.exports;Lh.install=function(t){t.component(Lh.name,Lh)};var Mh=Lh,Ah=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-notification-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["el-notification",t.customClass,t.horizontalClass],style:t.positionStyle,attrs:{role:"alert"},on:{mouseenter:function(e){t.clearTimer()},mouseleave:function(e){t.startTimer()},click:t.click}},[t.type||t.iconClass?i("i",{staticClass:"el-notification__icon",class:[t.typeClass,t.iconClass]}):t._e(),i("div",{staticClass:"el-notification__group",class:{"is-with-icon":t.typeClass||t.iconClass}},[i("h2",{staticClass:"el-notification__title",domProps:{textContent:t._s(t.title)}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.message,expression:"message"}],staticClass:"el-notification__content"},[t._t("default",[t.dangerouslyUseHTMLString?i("p",{domProps:{innerHTML:t._s(t.message)}}):i("p",[t._v(t._s(t.message))])])],2),t.showClose?i("div",{staticClass:"el-notification__closeBtn el-icon-close",on:{click:function(e){return e.stopPropagation(),t.close(e)}}}):t._e()])])])},Oh=[];Ah._withStripped=!0;var Nh={success:"success",info:"info",warning:"warning",error:"error"},_h={data:function(){return{visible:!1,title:"",message:"",duration:4500,type:"",showClose:!0,customClass:"",iconClass:"",onClose:null,onClick:null,closed:!1,verticalOffset:0,timer:null,dangerouslyUseHTMLString:!1,position:"top-right"}},computed:{typeClass:function(){return this.type&&Nh[this.type]?"el-icon-"+Nh[this.type]:""},horizontalClass:function(){return this.position.indexOf("right")>-1?"right":"left"},verticalProperty:function(){return/^top-/.test(this.position)?"top":"bottom"},positionStyle:function(){var t;return t={},t[this.verticalProperty]=this.verticalOffset+"px",t}},watch:{closed:function(t){t&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},click:function(){"function"==typeof this.onClick&&this.onClick()},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose()},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))},keydown:function(t){46===t.keyCode||8===t.keyCode?this.clearTimer():27===t.keyCode?this.closed||this.close():this.startTimer()}},mounted:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration)),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},Ph=_h,Rh=a(Ph,Ah,Oh,!1,null,null,null);Rh.options.__file="packages/notification/src/main.vue";var Bh=Rh.exports,kh=nr.a.extend(Bh),Vh=void 0,Gh=[],Hh=1,Yh=function t(e){if(!nr.a.prototype.$isServer){e=Xe()({},e);var i=e.onClose,a="notification_"+Hh++,r=e.position||"top-right";e.onClose=function(){t.close(a,i)},Vh=new kh({data:e}),Object(Ls.isVNode)(e.message)&&(Vh.$slots.default=[e.message],e.message="REPLACED_BY_VNODE"),Vh.id=a,Vh.$mount(),document.body.appendChild(Vh.$el),Vh.visible=!0,Vh.dom=Vh.$el,Vh.dom.style.zIndex=j.PopupManager.nextZIndex();var n=e.offset||0;return Gh.filter(function(t){return t.position===r}).forEach(function(t){n+=t.$el.offsetHeight+16}),n+=16,Vh.verticalOffset=n,Gh.push(Vh),Vh}};["success","warning","info","error"].forEach(function(t){Yh[t]=function(e){return("string"==typeof e||Object(Ls.isVNode)(e))&&(e={message:e}),e.type=t,Yh(e)}}),Yh.close=function(t,e){var i=-1,a=Gh.length,r=Gh.filter(function(e,a){return e.id===t&&(i=a,!0)})[0];if(r&&("function"==typeof e&&e(r),Gh.splice(i,1),!(a<=1)))for(var n=r.position,o=r.dom.offsetHeight,s=i;s<a-1;s++)Gh[s].position===n&&(Gh[s].dom.style[r.verticalProperty]=parseInt(Gh[s].dom.style[r.verticalProperty],10)-o-16+"px")},Yh.closeAll=function(){for(var t=Gh.length-1;t>=0;t--)Gh[t].close()};var Xh=Yh,Wh=Xh,Uh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-slider",class:{"is-vertical":t.vertical,"el-slider--with-input":t.showInput},attrs:{role:"slider","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-orientation":t.vertical?"vertical":"horizontal","aria-disabled":t.sliderDisabled}},[t.showInput&&!t.range?i("el-input-number",{ref:"input",staticClass:"el-slider__input",attrs:{step:t.step,disabled:t.sliderDisabled,controls:t.showInputControls,min:t.min,max:t.max,debounce:t.debounce,size:t.inputSize},on:{change:t.emitChange},model:{value:t.firstValue,callback:function(e){t.firstValue=e},expression:"firstValue"}}):t._e(),i("div",{ref:"slider",staticClass:"el-slider__runway",class:{"show-input":t.showInput,disabled:t.sliderDisabled},style:t.runwayStyle,on:{click:t.onSliderClick}},[i("div",{staticClass:"el-slider__bar",style:t.barStyle}),i("slider-button",{ref:"button1",attrs:{vertical:t.vertical,"tooltip-class":t.tooltipClass},model:{value:t.firstValue,callback:function(e){t.firstValue=e},expression:"firstValue"}}),t.range?i("slider-button",{ref:"button2",attrs:{vertical:t.vertical,"tooltip-class":t.tooltipClass},model:{value:t.secondValue,callback:function(e){t.secondValue=e},expression:"secondValue"}}):t._e(),t._l(t.stops,function(e,a){return t.showStops?i("div",{key:a,staticClass:"el-slider__stop",style:t.getStopStyle(e)}):t._e()}),t.markList.length>0?[i("div",t._l(t.markList,function(e,a){return i("div",{key:a,staticClass:"el-slider__stop el-slider__marks-stop",style:t.getStopStyle(e.position)})}),0),i("div",{staticClass:"el-slider__marks"},t._l(t.markList,function(e,a){return i("slider-marker",{key:a,style:t.getStopStyle(e.position),attrs:{mark:e.mark}})}),1)]:t._e()],2)],1)},zh=[];Uh._withStripped=!0;var Kh=i(41),$h=i.n(Kh),jh=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"button",staticClass:"el-slider__button-wrapper",class:{hover:t.hovering,dragging:t.dragging},style:t.wrapperStyle,attrs:{tabindex:"0"},on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave,mousedown:t.onButtonDown,touchstart:t.onButtonDown,focus:t.handleMouseEnter,blur:t.handleMouseLeave,keydown:[function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:t.onLeftKeyDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?"button"in e&&2!==e.button?null:t.onRightKeyDown(e):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.onLeftKeyDown(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.onRightKeyDown(e)):null}]}},[i("el-tooltip",{ref:"tooltip",attrs:{placement:"top","popper-class":t.tooltipClass,disabled:!t.showTooltip}},[i("span",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.formatValue))]),i("div",{staticClass:"el-slider__button",class:{hover:t.hovering,dragging:t.dragging}})])],1)},Jh=[];jh._withStripped=!0;var qh={name:"ElSliderButton",components:{ElTooltip:Te.a},props:{value:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:String},data:function(){return{hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.sliderDisabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},showTooltip:function(){return this.$parent.showTooltip},precision:function(){return this.$parent.precision},currentPosition:function(){return(this.value-this.min)/(this.max-this.min)*100+"%"},enableFormat:function(){return this.$parent.formatTooltip instanceof Function},formatValue:function(){return this.enableFormat&&this.$parent.formatTooltip(this.value)||this.value},wrapperStyle:function(){return this.vertical?{bottom:this.currentPosition}:{left:this.currentPosition}}},watch:{dragging:function(t){this.$parent.dragging=t}},methods:{displayTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!0)},hideTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!1)},handleMouseEnter:function(){this.hovering=!0,this.displayTooltip()},handleMouseLeave:function(){this.hovering=!1,this.hideTooltip()},onButtonDown:function(t){this.disabled||(t.preventDefault(),this.onDragStart(t),window.addEventListener("mousemove",this.onDragging),window.addEventListener("touchmove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd),window.addEventListener("contextmenu",this.onDragEnd))},onLeftKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onRightKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onDragStart:function(t){this.dragging=!0,this.isClick=!0,"touchstart"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.vertical?this.startY=t.clientY:this.startX=t.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(t){if(this.dragging){this.isClick=!1,this.displayTooltip(),this.$parent.resetSize();var e=0;"touchmove"===t.type&&(t.clientY=t.touches[0].clientY,t.clientX=t.touches[0].clientX),this.vertical?(this.currentY=t.clientY,e=(this.startY-this.currentY)/this.$parent.sliderSize*100):(this.currentX=t.clientX,e=(this.currentX-this.startX)/this.$parent.sliderSize*100),this.newPosition=this.startPosition+e,this.setPosition(this.newPosition)}},onDragEnd:function(){var t=this;this.dragging&&(setTimeout(function(){t.dragging=!1,t.hideTooltip(),t.isClick||(t.setPosition(t.newPosition),t.$parent.emitChange())},0),window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd),window.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(t){var e=this;if(null!==t&&!isNaN(t)){t<0?t=0:t>100&&(t=100);var i=100/((this.max-this.min)/this.step),a=Math.round(t/i),r=a*i*(this.max-this.min)*.01+this.min;r=parseFloat(r.toFixed(this.precision)),this.$emit("input",r),this.$nextTick(function(){e.displayTooltip(),e.$refs.tooltip&&e.$refs.tooltip.updatePopper()}),this.dragging||this.value===this.oldValue||(this.oldValue=this.value)}}}},Zh=qh,Qh=a(Zh,jh,Jh,!1,null,null,null);Qh.options.__file="packages/slider/src/button.vue";var tu=Qh.exports,eu={name:"ElMarker",props:{mark:{type:[String,Object]}},render:function(){var t=arguments[0],e="string"==typeof this.mark?this.mark:this.mark.label;return t("div",{class:"el-slider__marks-text",style:this.mark.style||{}},[e])}},iu={name:"ElSlider",mixins:[tt.a],inject:{elForm:{default:""}},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},value:{type:[Number,Array],default:0},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:Function,disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String},debounce:{type:Number,default:300},label:{type:String},tooltipClass:String,marks:Object},components:{ElInputNumber:$h.a,SliderButton:tu,SliderMarker:eu},data:function(){return{firstValue:null,secondValue:null,oldValue:null,dragging:!1,sliderSize:1}},watch:{value:function(t,e){this.dragging||Array.isArray(t)&&Array.isArray(e)&&t.every(function(t,i){return t===e[i]})||this.setValues()},dragging:function(t){t||this.setValues()},firstValue:function(t){this.range?this.$emit("input",[this.minValue,this.maxValue]):this.$emit("input",t)},secondValue:function(){this.range&&this.$emit("input",[this.minValue,this.maxValue])},min:function(){this.setValues()},max:function(){this.setValues()}},methods:{valueChanged:function(){var t=this;return this.range?![this.minValue,this.maxValue].every(function(e,i){return e===t.oldValue[i]}):this.value!==this.oldValue},setValues:function(){if(this.min>this.max)return void console.error("[Element Error][Slider]min should not be greater than max.");var t=this.value;this.range&&Array.isArray(t)?t[1]<this.min?this.$emit("input",[this.min,this.min]):t[0]>this.max?this.$emit("input",[this.max,this.max]):t[0]<this.min?this.$emit("input",[this.min,t[1]]):t[1]>this.max?this.$emit("input",[t[0],this.max]):(this.firstValue=t[0],this.secondValue=t[1],this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",[this.minValue,this.maxValue]),this.oldValue=t.slice())):this.range||"number"!=typeof t||isNaN(t)||(t<this.min?this.$emit("input",this.min):t>this.max?this.$emit("input",this.max):(this.firstValue=t,this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",t),this.oldValue=t)))},setPosition:function(t){var e=this.min+t*(this.max-this.min)/100;if(!this.range)return void this.$refs.button1.setPosition(t);var i=void 0;i=Math.abs(this.minValue-e)<Math.abs(this.maxValue-e)?this.firstValue<this.secondValue?"button1":"button2":this.firstValue>this.secondValue?"button1":"button2",this.$refs[i].setPosition(t)},onSliderClick:function(t){if(!this.sliderDisabled&&!this.dragging){if(this.resetSize(),this.vertical){var e=this.$refs.slider.getBoundingClientRect().bottom;this.setPosition((e-t.clientY)/this.sliderSize*100)}else{var i=this.$refs.slider.getBoundingClientRect().left;this.setPosition((t.clientX-i)/this.sliderSize*100)}this.emitChange()}},resetSize:function(){this.$refs.slider&&(this.sliderSize=this.$refs.slider["client"+(this.vertical?"Height":"Width")])},emitChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.range?[t.minValue,t.maxValue]:t.value)})},getStopStyle:function(t){return this.vertical?{bottom:t+"%"}:{left:t+"%"}}},computed:{stops:function(){var t=this;if(!this.showStops||this.min>this.max)return[];if(0===this.step)return[];for(var e=(this.max-this.min)/this.step,i=100*this.step/(this.max-this.min),a=[],r=1;r<e;r++)a.push(r*i);return this.range?a.filter(function(e){return e<100*(t.minValue-t.min)/(t.max-t.min)||e>100*(t.maxValue-t.min)/(t.max-t.min)}):a.filter(function(e){return e>100*(t.firstValue-t.min)/(t.max-t.min)})},markList:function(){var t=this;return this.marks?Object.keys(this.marks).map(parseFloat).sort(function(t,e){return t-e}).filter(function(e){return e<=t.max&&e>=t.min}).map(function(e){return{point:e,position:100*(e-t.min)/(t.max-t.min),mark:t.marks[e]}}):[]},minValue:function(){return Math.min(this.firstValue,this.secondValue)},maxValue:function(){return Math.max(this.firstValue,this.secondValue)},barSize:function(){return this.range?100*(this.maxValue-this.minValue)/(this.max-this.min)+"%":100*(this.firstValue-this.min)/(this.max-this.min)+"%"},barStart:function(){return this.range?100*(this.minValue-this.min)/(this.max-this.min)+"%":"0%"},precision:function(){var t=[this.min,this.max,this.step].map(function(t){var e=(""+t).split(".")[1];return e?e.length:0});return Math.max.apply(null,t)},runwayStyle:function(){return this.vertical?{height:this.height}:{}},barStyle:function(){return this.vertical?{height:this.barSize,bottom:this.barStart}:{width:this.barSize,left:this.barStart}},sliderDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},mounted:function(){var t=void 0;this.range?(Array.isArray(this.value)?(this.firstValue=Math.max(this.min,this.value[0]),this.secondValue=Math.min(this.max,this.value[1])):(this.firstValue=this.min,this.secondValue=this.max),this.oldValue=[this.firstValue,this.secondValue],t=this.firstValue+"-"+this.secondValue):("number"!=typeof this.value||isNaN(this.value)?this.firstValue=this.min:this.firstValue=Math.min(this.max,Math.max(this.min,this.value)),this.oldValue=this.firstValue,t=this.firstValue),this.$el.setAttribute("aria-valuetext",t),this.$el.setAttribute("aria-label",this.label?this.label:"slider between "+this.min+" and "+this.max),this.resetSize(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)}},au=iu,ru=a(au,Uh,zh,!1,null,null,null);ru.options.__file="packages/slider/src/main.vue";var nu=ru.exports;nu.install=function(t){t.component(nu.name,nu)};var ou=nu,su=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[t.customClass,{"is-fullscreen":t.fullscreen}],style:{backgroundColor:t.background||""}},[i("div",{staticClass:"el-loading-spinner"},[t.spinner?i("i",{class:t.spinner}):i("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),t.text?i("p",{staticClass:"el-loading-text"},[t._v(t._s(t.text))]):t._e()])])])},lu=[];su._withStripped=!0;var hu={data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(t){this.text=t}}},uu=hu,cu=a(uu,su,lu,!1,null,null,null);cu.options.__file="packages/loading/src/loading.vue";var du=cu.exports,fu=i(32),pu=i.n(fu),mu=nr.a.extend(du),Cu={};Cu.install=function(t){if(!t.prototype.$isServer){var e=function(e,a){a.value?t.nextTick(function(){a.modifiers.fullscreen?(e.originalPosition=Object(oe.getStyle)(document.body,"position"),e.originalOverflow=Object(oe.getStyle)(document.body,"overflow"),e.maskStyle.zIndex=j.PopupManager.nextZIndex(),Object(oe.addClass)(e.mask,"is-fullscreen"),i(document.body,e,a)):(Object(oe.removeClass)(e.mask,"is-fullscreen"),a.modifiers.body?(e.originalPosition=Object(oe.getStyle)(document.body,"position"),["top","left"].forEach(function(t){var i="top"===t?"scrollTop":"scrollLeft";e.maskStyle[t]=e.getBoundingClientRect()[t]+document.body[i]+document.documentElement[i]-parseInt(Object(oe.getStyle)(document.body,"margin-"+t),10)+"px"}),["height","width"].forEach(function(t){e.maskStyle[t]=e.getBoundingClientRect()[t]+"px"}),i(document.body,e,a)):(e.originalPosition=Object(oe.getStyle)(e,"position"),i(e,e,a)))}):(pu()(e.instance,function(t){if(e.instance.hiding){e.domVisible=!1;var i=a.modifiers.fullscreen||a.modifiers.body?document.body:e;Object(oe.removeClass)(i,"el-loading-parent--relative"),Object(oe.removeClass)(i,"el-loading-parent--hidden"),e.instance.hiding=!1}},300,!0),e.instance.visible=!1,e.instance.hiding=!0)},i=function(e,i,a){i.domVisible||"none"===Object(oe.getStyle)(i,"display")||"hidden"===Object(oe.getStyle)(i,"visibility")?i.domVisible&&!0===i.instance.hiding&&(i.instance.visible=!0,i.instance.hiding=!1):(Object.keys(i.maskStyle).forEach(function(t){i.mask.style[t]=i.maskStyle[t]}),"absolute"!==i.originalPosition&&"fixed"!==i.originalPosition&&Object(oe.addClass)(e,"el-loading-parent--relative"),a.modifiers.fullscreen&&a.modifiers.lock&&Object(oe.addClass)(e,"el-loading-parent--hidden"),i.domVisible=!0,e.appendChild(i.mask),t.nextTick(function(){i.instance.hiding?i.instance.$emit("after-leave"):i.instance.visible=!0}),i.domInserted=!0)};t.directive("loading",{bind:function(t,i,a){var r=t.getAttribute("element-loading-text"),n=t.getAttribute("element-loading-spinner"),o=t.getAttribute("element-loading-background"),s=t.getAttribute("element-loading-custom-class"),l=a.context,h=new mu({el:document.createElement("div"),data:{text:l&&l[r]||r,spinner:l&&l[n]||n,background:l&&l[o]||o,customClass:l&&l[s]||s,fullscreen:!!i.modifiers.fullscreen}});t.instance=h,t.mask=h.$el,t.maskStyle={},i.value&&e(t,i)},update:function(t,i){t.instance.setText(t.getAttribute("element-loading-text")),i.oldValue!==i.value&&e(t,i)},unbind:function(t,i){t.domInserted&&(t.mask&&t.mask.parentNode&&t.mask.parentNode.removeChild(t.mask),e(t,{value:!1,modifiers:i.modifiers})),t.instance&&t.instance.$destroy()}})}};var vu=Cu,Du=nr.a.extend(du),gu={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},Su=void 0;Du.prototype.originalPosition="",Du.prototype.originalOverflow="",Du.prototype.close=function(){var t=this;this.fullscreen&&(Su=void 0),pu()(this,function(e){var i=t.fullscreen||t.body?document.body:t.target;Object(oe.removeClass)(i,"el-loading-parent--relative"),Object(oe.removeClass)(i,"el-loading-parent--hidden"),t.$el&&t.$el.parentNode&&t.$el.parentNode.removeChild(t.$el),t.$destroy()},300),this.visible=!1};var xu=function(t,e,i){var a={};t.fullscreen?(i.originalPosition=Object(oe.getStyle)(document.body,"position"),i.originalOverflow=Object(oe.getStyle)(document.body,"overflow"),a.zIndex=j.PopupManager.nextZIndex()):t.body?(i.originalPosition=Object(oe.getStyle)(document.body,"position"),["top","left"].forEach(function(e){var i="top"===e?"scrollTop":"scrollLeft";a[e]=t.target.getBoundingClientRect()[e]+document.body[i]+document.documentElement[i]+"px"}),["height","width"].forEach(function(e){a[e]=t.target.getBoundingClientRect()[e]+"px"})):i.originalPosition=Object(oe.getStyle)(e,"position"),Object.keys(a).forEach(function(t){i.$el.style[t]=a[t]})},bu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!nr.a.prototype.$isServer){if(t=Xe()({},gu,t),"string"==typeof t.target&&(t.target=document.querySelector(t.target)),t.target=t.target||document.body,t.target!==document.body?t.fullscreen=!1:t.body=!0,t.fullscreen&&Su)return Su;var e=t.body?document.body:t.target,i=new Du({el:document.createElement("div"),data:t});return xu(t,e,i),"absolute"!==i.originalPosition&&"fixed"!==i.originalPosition&&Object(oe.addClass)(e,"el-loading-parent--relative"),t.fullscreen&&t.lock&&Object(oe.addClass)(e,"el-loading-parent--hidden"),e.appendChild(i.$el),nr.a.nextTick(function(){i.visible=!0}),t.fullscreen&&(Su=i),i}},Iu=bu,Tu={install:function(t){t.use(vu),t.prototype.$loading=Iu},directive:vu,service:Iu},yu=function(){var t=this,e=t.$createElement;return(t._self._c||e)("i",{class:"el-icon-"+t.name})},wu=[];yu._withStripped=!0;var Eu={name:"ElIcon",props:{name:String}},Fu=Eu,Lu=a(Fu,yu,wu,!1,null,null,null);Lu.options.__file="packages/icon/src/icon.vue";var Mu=Lu.exports;Mu.install=function(t){t.component(Mu.name,Mu)};var Au=Mu,Ou={name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:String},computed:{style:function(){var t={};return this.gutter&&(t.marginLeft="-"+this.gutter/2+"px",t.marginRight=t.marginLeft),t}},render:function(t){return t(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"",this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)}};Ou.install=function(t){t.component(Ou.name,Ou)};var Nu=Ou,_u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){for(var t=this.$parent;t&&"ElRow"!==t.$options.componentName;)t=t.$parent;return t?t.gutter:0}},render:function(t){var e=this,i=[],a={};return this.gutter&&(a.paddingLeft=this.gutter/2+"px",a.paddingRight=a.paddingLeft),["span","offset","pull","push"].forEach(function(t){(e[t]||0===e[t])&&i.push("span"!==t?"el-col-"+t+"-"+e[t]:"el-col-"+e[t])}),["xs","sm","md","lg","xl"].forEach(function(t){if("number"==typeof e[t])i.push("el-col-"+t+"-"+e[t]);else if("object"===_u(e[t])){var a=e[t];Object.keys(a).forEach(function(e){i.push("span"!==e?"el-col-"+t+"-"+e+"-"+a[e]:"el-col-"+t+"-"+a[e])})}}),t(this.tag,{class:["el-col",i],style:a},this.$slots.default)}};Pu.install=function(t){t.component(Pu.name,Pu)};var Ru=Pu,Bu=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition-group",{class:["el-upload-list","el-upload-list--"+t.listType,{"is-disabled":t.disabled}],attrs:{tag:"ul",name:"el-list"}},t._l(t.files,function(e){return i("li",{key:e.uid,class:["el-upload-list__item","is-"+e.status,t.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(i){if(!("button"in i)&&t._k(i.keyCode,"delete",[8,46],i.key,["Backspace","Delete","Del"]))return null;!t.disabled&&t.$emit("remove",e)},focus:function(e){t.focusing=!0},blur:function(e){t.focusing=!1},click:function(e){t.focusing=!1}}},[t._t("default",["uploading"!==e.status&&["picture-card","picture"].indexOf(t.listType)>-1?i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:e.url,alt:""}}):t._e(),i("a",{staticClass:"el-upload-list__item-name",on:{click:function(i){t.handleClick(e)}}},[i("i",{staticClass:"el-icon-document"}),t._v(t._s(e.name)+"\n      ")]),i("label",{staticClass:"el-upload-list__item-status-label"},[i("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===t.listType,"el-icon-check":["picture-card","picture"].indexOf(t.listType)>-1}})]),t.disabled?t._e():i("i",{staticClass:"el-icon-close",on:{click:function(i){t.$emit("remove",e)}}}),t.disabled?t._e():i("i",{staticClass:"el-icon-close-tip"},[t._v(t._s(t.t("el.upload.deleteTip")))]),"uploading"===e.status?i("el-progress",{attrs:{type:"picture-card"===t.listType?"circle":"line","stroke-width":"picture-card"===t.listType?6:2,percentage:t.parsePercentage(e.percentage)}}):t._e(),"picture-card"===t.listType?i("span",{staticClass:"el-upload-list__item-actions"},[t.handlePreview&&"picture-card"===t.listType?i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(i){t.handlePreview(e)}}},[i("i",{staticClass:"el-icon-zoom-in"})]):t._e(),t.disabled?t._e():i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(i){t.$emit("remove",e)}}},[i("i",{staticClass:"el-icon-delete"})])]):t._e()],{file:e})],2)}),0)},ku=[];Bu._withStripped=!0;var Vu=i(33),Gu=i.n(Vu),Hu={name:"ElUploadList",mixins:[X.a],data:function(){return{focusing:!1}},components:{ElProgress:Gu.a},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(t){return parseInt(t,10)},handleClick:function(t){this.handlePreview&&this.handlePreview(t)}}},Yu=Hu,Xu=a(Yu,Bu,ku,!1,null,null,null);Xu.options.__file="packages/upload/src/upload-list.vue";var Wu=Xu.exports,Uu=i(24),zu=i.n(Uu),Ku=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-upload-dragger",class:{"is-dragover":t.dragover},on:{drop:function(e){return e.preventDefault(),t.onDrop(e)},dragover:function(e){return e.preventDefault(),t.onDragover(e)},dragleave:function(e){e.preventDefault(),t.dragover=!1}}},[t._t("default")],2)},$u=[];Ku._withStripped=!0;var ju={name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(t){if(!this.disabled&&this.uploader){var e=this.uploader.accept;if(this.dragover=!1,!e)return void this.$emit("file",t.dataTransfer.files);this.$emit("file",[].slice.call(t.dataTransfer.files).filter(function(t){var i=t.type,a=t.name,r=a.indexOf(".")>-1?"."+a.split(".").pop():"",n=i.replace(/\/.*$/,"");return e.split(",").map(function(t){return t.trim()}).filter(function(t){return t}).some(function(t){return/\..+$/.test(t)?r===t:/\/\*$/.test(t)?n===t.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(t)&&i===t})}))}}}},Ju=ju,qu=a(Ju,Ku,$u,!1,null,null,null);qu.options.__file="packages/upload/src/upload-dragger.vue";var Zu=qu.exports,Qu={inject:["uploader"],components:{UploadDragger:Zu},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:T},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(t){return-1!==t.indexOf("image")},handleChange:function(t){var e=t.target.files;e&&this.uploadFiles(e)},uploadFiles:function(t){var e=this;if(this.limit&&this.fileList.length+t.length>this.limit)return void(this.onExceed&&this.onExceed(t,this.fileList));var i=Array.prototype.slice.call(t);this.multiple||(i=i.slice(0,1)),0!==i.length&&i.forEach(function(t){e.onStart(t),e.autoUpload&&e.upload(t)})},upload:function(t){var e=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(t);var i=this.beforeUpload(t);i&&i.then?i.then(function(i){var a=Object.prototype.toString.call(i);if("[object File]"===a||"[object Blob]"===a){"[object Blob]"===a&&(i=new File([i],t.name,{type:t.type}));for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);e.post(i)}else e.post(t)},function(){e.onRemove(null,t)}):!1!==i?this.post(t):this.onRemove(null,t)},abort:function(t){var e=this.reqs;if(t){var i=t;t.uid&&(i=t.uid),e[i]&&e[i].abort()}else Object.keys(e).forEach(function(t){e[t]&&e[t].abort(),delete e[t]})},post:function(t){var e=this,i=t.uid,a={headers:this.headers,withCredentials:this.withCredentials,file:t,data:this.data,filename:this.name,action:this.action,onProgress:function(i){e.onProgress(i,t)},onSuccess:function(a){e.onSuccess(a,t),delete e.reqs[i]},onError:function(a){e.onError(a,t),delete e.reqs[i]}},r=this.httpRequest(a);this.reqs[i]=r,r&&r.then&&r.then(a.onSuccess,a.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(t){t.target===t.currentTarget&&(13!==t.keyCode&&32!==t.keyCode||this.handleClick())}},render:function(t){var e=this.handleClick,i=this.drag,a=this.name,r=this.handleChange,n=this.multiple,o=this.accept,s=this.listType,l=this.uploadFiles,h=this.disabled,u=this.handleKeydown,c={class:{"el-upload":!0},on:{click:e,keydown:u}};return c.class["el-upload--"+s]=!0,t("div",zu()([c,{attrs:{tabindex:"0"}}]),[i?t("upload-dragger",{attrs:{disabled:h},on:{file:l}},[this.$slots.default]):this.$slots.default,t("input",{class:"el-upload__input",attrs:{type:"file",name:a,multiple:n,accept:o},ref:"input",on:{change:r}})])}},tc=Qu,ec=a(tc,void 0,void 0,!1,null,null,null);ec.options.__file="packages/upload/src/upload.vue";var ic=ec.exports,ac={name:"ElUpload",mixins:[Z.a],components:{ElProgress:Gu.a,UploadList:Wu,Upload:ic},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:y},onChange:{type:Function,default:y},onPreview:{type:Function},onSuccess:{type:Function,default:y},onProgress:{type:Function,default:y},onError:{type:Function,default:y},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:y}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{listType:function(t){"picture-card"!==t&&"picture"!==t||(this.uploadFiles=this.uploadFiles.map(function(t){if(!t.url&&t.raw)try{t.url=URL.createObjectURL(t.raw)}catch(t){console.error("[Element Error][Upload]",t)}return t}))},fileList:{immediate:!0,handler:function(t){var e=this;this.uploadFiles=t.map(function(t){return t.uid=t.uid||Date.now()+e.tempIndex++,t.status=t.status||"success",t})}}},methods:{handleStart:function(t){t.uid=Date.now()+this.tempIndex++;var e={status:"ready",name:t.name,size:t.size,percentage:0,uid:t.uid,raw:t};if("picture-card"===this.listType||"picture"===this.listType)try{e.url=URL.createObjectURL(t)}catch(t){return void console.error("[Element Error][Upload]",t)}this.uploadFiles.push(e),this.onChange(e,this.uploadFiles)},handleProgress:function(t,e){var i=this.getFile(e);this.onProgress(t,i,this.uploadFiles),i.status="uploading",i.percentage=t.percent||0},handleSuccess:function(t,e){var i=this.getFile(e);i&&(i.status="success",i.response=t,this.onSuccess(t,i,this.uploadFiles),this.onChange(i,this.uploadFiles))},handleError:function(t,e){var i=this.getFile(e),a=this.uploadFiles;i.status="fail",a.splice(a.indexOf(i),1),this.onError(t,i,this.uploadFiles),this.onChange(i,this.uploadFiles)},handleRemove:function(t,e){var i=this;e&&(t=this.getFile(e));var a=function(){i.abort(t);var e=i.uploadFiles;e.splice(e.indexOf(t),1),i.onRemove(t,e)};if(this.beforeRemove){if("function"==typeof this.beforeRemove){var r=this.beforeRemove(t,this.uploadFiles);r&&r.then?r.then(function(){a()},y):!1!==r&&a()}}else a()},getFile:function(t){var e=this.uploadFiles,i=void 0;return e.every(function(e){return!(i=t.uid===e.uid?e:null)}),i},abort:function(t){this.$refs["upload-inner"].abort(t)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var t=this;this.uploadFiles.filter(function(t){return"ready"===t.status}).forEach(function(e){t.$refs["upload-inner"].upload(e.raw)})},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},beforeDestroy:function(){this.uploadFiles.forEach(function(t){t.url&&0===t.url.indexOf("blob:")&&URL.revokeObjectURL(t.url)})},render:function(t){var e=this,i=void 0;this.showFileList&&(i=t(Wu,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[function(t){if(e.$scopedSlots.file)return e.$scopedSlots.file({file:t.file})}]));var a={props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},r=this.$slots.trigger||this.$slots.default,n=t("upload",a,[r]);return t("div",["picture-card"===this.listType?i:"",this.$slots.trigger?[n,this.$slots.default]:n,this.$slots.tip,"picture-card"!==this.listType?i:""])}},rc=ac,nc=a(rc,void 0,void 0,!1,null,null,null);nc.options.__file="packages/upload/src/index.vue";var oc=nc.exports;oc.install=function(t){t.component(oc.name,oc)};var sc=oc,lc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-progress",class:["el-progress--"+t.type,t.status?"is-"+t.status:"",{"el-progress--without-text":!t.showText,"el-progress--text-inside":t.textInside}],attrs:{role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===t.type?i("div",{staticClass:"el-progress-bar"},[i("div",{staticClass:"el-progress-bar__outer",style:{height:t.strokeWidth+"px"}},[i("div",{staticClass:"el-progress-bar__inner",style:t.barStyle},[t.showText&&t.textInside?i("div",{staticClass:"el-progress-bar__innerText"},[t._v(t._s(t.content))]):t._e()])])]):i("div",{staticClass:"el-progress-circle",style:{height:t.width+"px",width:t.width+"px"}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("path",{staticClass:"el-progress-circle__track",style:t.trailPathStyle,attrs:{d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none"}}),i("path",{staticClass:"el-progress-circle__path",style:t.circlePathStyle,attrs:{d:t.trackPath,stroke:t.stroke,fill:"none","stroke-linecap":t.strokeLinecap,"stroke-width":t.percentage?t.relativeStrokeWidth:0}})])]),t.showText&&!t.textInside?i("div",{staticClass:"el-progress__text",style:{fontSize:t.progressTextSize+"px"}},[t.status?i("i",{class:t.iconClass}):[t._v(t._s(t.content))]],2):t._e()])},hc=[];lc._withStripped=!0;var uc={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(t){return["line","circle","dashboard"].indexOf(t)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(t){return t>=0&&t<=100}},status:{type:String,validator:function(t){return["success","exception","warning"].indexOf(t)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var t={};return t.width=this.percentage+"%",t.backgroundColor=this.getCurrentColor(this.percentage),t},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var t=this.radius,e="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(e?"":"-")+t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"-":"")+2*t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"":"-")+2*t+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var t=void 0;if(this.color)t=this.getCurrentColor(this.percentage);else switch(this.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(t){return"function"==typeof this.color?this.color(t):"string"==typeof this.color?this.color:this.getLevelColor(t)},getLevelColor:function(t){for(var e=this.getColorArray().sort(function(t,e){return t.percentage-e.percentage}),i=0;i<e.length;i++)if(e[i].percentage>t)return e[i].color;return e[e.length-1].color},getColorArray:function(){var t=this.color,e=100/t.length;return t.map(function(t,i){return"string"==typeof t?{color:t,percentage:(i+1)*e}:t})}}},cc=uc,dc=a(cc,lc,hc,!1,null,null,null);dc.options.__file="packages/progress/src/progress.vue";var fc=dc.exports;fc.install=function(t){t.component(fc.name,fc)};var pc=fc,mc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"el-spinner"},[i("svg",{staticClass:"el-spinner-inner",style:{width:t.radius/2+"px",height:t.radius/2+"px"},attrs:{viewBox:"0 0 50 50"}},[i("circle",{staticClass:"path",attrs:{cx:"25",cy:"25",r:"20",fill:"none",stroke:t.strokeColor,"stroke-width":t.strokeWidth}})])])},Cc=[];mc._withStripped=!0;var vc={name:"ElSpinner",props:{type:String,radius:{type:Number,default:100},strokeWidth:{type:Number,default:5},strokeColor:{type:String,default:"#efefef"}}},Dc=vc,gc=a(Dc,mc,Cc,!1,null,null,null);gc.options.__file="packages/spinner/src/spinner.vue";var Sc=gc.exports;Sc.install=function(t){t.component(Sc.name,Sc)};var xc=Sc,bc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["el-message",t.type&&!t.iconClass?"el-message--"+t.type:"",t.center?"is-center":"",t.showClose?"is-closable":"",t.customClass],style:t.positionStyle,attrs:{role:"alert"},on:{mouseenter:t.clearTimer,mouseleave:t.startTimer}},[t.iconClass?i("i",{class:t.iconClass}):i("i",{class:t.typeClass}),t._t("default",[t.dangerouslyUseHTMLString?i("p",{staticClass:"el-message__content",domProps:{innerHTML:t._s(t.message)}}):i("p",{staticClass:"el-message__content"},[t._v(t._s(t.message))])]),t.showClose?i("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:t.close}}):t._e()],2)])},Ic=[];bc._withStripped=!0;var Tc={success:"success",info:"info",warning:"warning",error:"error"},yc={data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+Tc[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(t){t&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout(function(){t.closed||t.close()},this.duration))},keydown:function(t){27===t.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},wc=yc,Ec=a(wc,bc,Ic,!1,null,null,null);Ec.options.__file="packages/message/src/main.vue";var Fc=Ec.exports,Lc=i(15),Mc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Ac=nr.a.extend(Fc),Oc=void 0,Nc=[],_c=1,Pc=function t(e){if(!nr.a.prototype.$isServer){e=e||{},"string"==typeof e&&(e={message:e});var i=e.onClose,a="message_"+_c++;e.onClose=function(){t.close(a,i)},Oc=new Ac({data:e}),Oc.id=a,Object(Ls.isVNode)(Oc.message)&&(Oc.$slots.default=[Oc.message],Oc.message=null),Oc.$mount(),document.body.appendChild(Oc.$el);var r=e.offset||20;return Nc.forEach(function(t){r+=t.$el.offsetHeight+16}),Oc.verticalOffset=r,Oc.visible=!0,Oc.$el.style.zIndex=j.PopupManager.nextZIndex(),Nc.push(Oc),Oc}};["success","warning","info","error"].forEach(function(t){Pc[t]=function(e){return Pc(Object(Lc.isObject)(e)&&!Object(Ls.isVNode)(e)?Mc({},e,{type:t}):{type:t,message:e})}}),Pc.close=function(t,e){for(var i=Nc.length,a=-1,r=void 0,n=0;n<i;n++)if(t===Nc[n].id){r=Nc[n].$el.offsetHeight,a=n,"function"==typeof e&&e(Nc[n]),Nc.splice(n,1);break}if(!(i<=1||-1===a||a>Nc.length-1))for(var o=a;o<i-1;o++){var s=Nc[o].$el;s.style.top=parseInt(s.style.top,10)-r-16+"px"}},Pc.closeAll=function(){for(var t=Nc.length-1;t>=0;t--)Nc[t].close()};var Rc=Pc,Bc=Rc,kc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-badge"},[t._t("default"),i("transition",{attrs:{name:"el-zoom-in-center"}},[i("sup",{directives:[{name:"show",rawName:"v-show",value:!t.hidden&&(t.content||0===t.content||t.isDot),expression:"!hidden && (content || content === 0 || isDot)"}],staticClass:"el-badge__content",class:["el-badge__content--"+t.type,{"is-fixed":t.$slots.default,"is-dot":t.isDot}],domProps:{textContent:t._s(t.content)}})])],2)},Vc=[];kc._withStripped=!0;var Gc={name:"ElBadge",props:{value:[String,Number],max:Number,isDot:Boolean,hidden:Boolean,type:{type:String,validator:function(t){return["primary","success","warning","info","danger"].indexOf(t)>-1}}},computed:{content:function(){if(!this.isDot){var t=this.value,e=this.max;return"number"==typeof t&&"number"==typeof e&&e<t?e+"+":t}}}},Hc=Gc,Yc=a(Hc,kc,Vc,!1,null,null,null);Yc.options.__file="packages/badge/src/main.vue";var Xc=Yc.exports;Xc.install=function(t){t.component(Xc.name,Xc)};var Wc=Xc,Uc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-card",class:t.shadow?"is-"+t.shadow+"-shadow":"is-always-shadow"},[t.$slots.header||t.header?i("div",{staticClass:"el-card__header"},[t._t("header",[t._v(t._s(t.header))])],2):t._e(),i("div",{staticClass:"el-card__body",style:t.bodyStyle},[t._t("default")],2)])},zc=[];Uc._withStripped=!0;var Kc={name:"ElCard",props:{header:{},bodyStyle:{},shadow:{type:String}}},$c=Kc,jc=a($c,Uc,zc,!1,null,null,null);jc.options.__file="packages/card/src/main.vue";var Jc=jc.exports;Jc.install=function(t){t.component(Jc.name,Jc)};var qc=Jc,Zc=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-rate",attrs:{role:"slider","aria-valuenow":t.currentValue,"aria-valuetext":t.text,"aria-valuemin":"0","aria-valuemax":t.max,tabindex:"0"},on:{keydown:t.handleKey}},[t._l(t.max,function(e,a){return i("span",{key:a,staticClass:"el-rate__item",style:{cursor:t.rateDisabled?"auto":"pointer"},on:{mousemove:function(i){t.setCurrentValue(e,i)},mouseleave:t.resetCurrentValue,click:function(i){t.selectValue(e)}}},[i("i",{staticClass:"el-rate__icon",class:[t.classes[e-1],{hover:t.hoverIndex===e}],style:t.getIconStyle(e)},[t.showDecimalIcon(e)?i("i",{staticClass:"el-rate__decimal",class:t.decimalIconClass,style:t.decimalStyle}):t._e()])])}),t.showText||t.showScore?i("span",{staticClass:"el-rate__text",style:{color:t.textColor}},[t._v(t._s(t.text))]):t._e()],2)},Qc=[];Zc._withStripped=!0;var td={name:"ElRate",mixins:[Z.a],inject:{elForm:{default:""}},data:function(){return{pointerAtLeftHalf:!0,currentValue:this.value,hoverIndex:-1}},props:{value:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:[Array,Object],default:function(){return["#F7BA2A","#F7BA2A","#F7BA2A"]}},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},iconClasses:{type:[Array,Object],default:function(){return["el-icon-star-on","el-icon-star-on","el-icon-star-on"]}},voidIconClass:{type:String,default:"el-icon-star-off"},disabledVoidIconClass:{type:String,default:"el-icon-star-on"},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:"#1f2d3d"},texts:{type:Array,default:function(){return["极差","失望","一般","满意","惊喜"]}},scoreTemplate:{type:String,default:"{value}"}},computed:{text:function(){var t="";return this.showScore?t=this.scoreTemplate.replace(/\{\s*value\s*\}/,this.rateDisabled?this.value:this.currentValue):this.showText&&(t=this.texts[Math.ceil(this.currentValue)-1]),t},decimalStyle:function(){var t="";return this.rateDisabled?t=this.valueDecimal+"%":this.allowHalf&&(t="50%"),{color:this.activeColor,width:t}},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)},classMap:function(){var t;return Array.isArray(this.iconClasses)?(t={},t[this.lowThreshold]=this.iconClasses[0],t[this.highThreshold]={value:this.iconClasses[1],excluded:!0},t[this.max]=this.iconClasses[2],t):this.iconClasses},decimalIconClass:function(){return this.getValueFromMap(this.value,this.classMap)},voidClass:function(){return this.rateDisabled?this.disabledVoidIconClass:this.voidIconClass},activeClass:function(){return this.getValueFromMap(this.currentValue,this.classMap)},colorMap:function(){var t;return Array.isArray(this.colors)?(t={},t[this.lowThreshold]=this.colors[0],t[this.highThreshold]={value:this.colors[1],excluded:!0},t[this.max]=this.colors[2],t):this.colors},activeColor:function(){return this.getValueFromMap(this.currentValue,this.colorMap)},classes:function(){var t=[],e=0,i=this.currentValue;for(this.allowHalf&&this.currentValue!==Math.floor(this.currentValue)&&i--;e<i;e++)t.push(this.activeClass);for(;e<this.max;e++)t.push(this.voidClass);return t},rateDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(t){this.currentValue=t,this.pointerAtLeftHalf=this.value!==Math.floor(this.value)}},methods:{getMigratingConfig:function(){return{props:{"text-template":"text-template is renamed to score-template."}}},getValueFromMap:function(t,e){var i=Object.keys(e).filter(function(i){var a=e[i];return!!Object(Lc.isObject)(a)&&a.excluded?t<i:t<=i}).sort(function(t,e){return t-e}),a=e[i[0]];return Object(Lc.isObject)(a)?a.value:a||""},showDecimalIcon:function(t){var e=this.rateDisabled&&this.valueDecimal>0&&t-1<this.value&&t>this.value,i=this.allowHalf&&this.pointerAtLeftHalf&&t-.5<=this.currentValue&&t>this.currentValue;return e||i},getIconStyle:function(t){var e=this.rateDisabled?this.disabledVoidColor:this.voidColor;return{color:t<=this.currentValue?this.activeColor:e}},selectValue:function(t){this.rateDisabled||(this.allowHalf&&this.pointerAtLeftHalf?(this.$emit("input",this.currentValue),this.$emit("change",this.currentValue)):(this.$emit("input",t),this.$emit("change",t)))},handleKey:function(t){if(!this.rateDisabled){var e=this.currentValue,i=t.keyCode;38===i||39===i?(this.allowHalf?e+=.5:e+=1,t.stopPropagation(),t.preventDefault()):37!==i&&40!==i||(this.allowHalf?e-=.5:e-=1,t.stopPropagation(),t.preventDefault()),e=e<0?0:e,e=e>this.max?this.max:e,this.$emit("input",e),this.$emit("change",e)}},setCurrentValue:function(t,e){if(!this.rateDisabled){if(this.allowHalf){var i=e.target;Object(oe.hasClass)(i,"el-rate__item")&&(i=i.querySelector(".el-rate__icon")),Object(oe.hasClass)(i,"el-rate__decimal")&&(i=i.parentNode),this.pointerAtLeftHalf=2*e.offsetX<=i.clientWidth,this.currentValue=this.pointerAtLeftHalf?t-.5:t}else this.currentValue=t;this.hoverIndex=t}},resetCurrentValue:function(){this.rateDisabled||(this.allowHalf&&(this.pointerAtLeftHalf=this.value!==Math.floor(this.value)),this.currentValue=this.value,this.hoverIndex=-1)}},created:function(){this.value||this.$emit("input",0)}},ed=td,id=a(ed,Zc,Qc,!1,null,null,null);id.options.__file="packages/rate/src/main.vue";var ad=id.exports;ad.install=function(t){t.component(ad.name,ad)};var rd=ad,nd=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-steps",class:[!t.simple&&"el-steps--"+t.direction,t.simple&&"el-steps--simple"]},[t._t("default")],2)},od=[];nd._withStripped=!0;var sd={name:"ElSteps",mixins:[Z.a],props:{space:[Number,String],active:Number,direction:{type:String,default:"horizontal"},alignCenter:Boolean,simple:Boolean,finishStatus:{type:String,default:"finish"},processStatus:{type:String,default:"process"}},data:function(){return{steps:[],stepOffset:0}},methods:{getMigratingConfig:function(){return{props:{center:"center is removed."}}}},watch:{active:function(t,e){this.$emit("change",t,e)},steps:function(t){t.forEach(function(t,e){t.index=e})}}},ld=sd,hd=a(ld,nd,od,!1,null,null,null);hd.options.__file="packages/steps/src/steps.vue";var ud=hd.exports;ud.install=function(t){t.component(ud.name,ud)};var cd=ud,dd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-step",class:[!t.isSimple&&"is-"+t.$parent.direction,t.isSimple&&"is-simple",t.isLast&&!t.space&&!t.isCenter&&"is-flex",t.isCenter&&!t.isVertical&&!t.isSimple&&"is-center"],style:t.style},[i("div",{staticClass:"el-step__head",class:"is-"+t.currentStatus},[i("div",{staticClass:"el-step__line",style:t.isLast?"":{marginRight:t.$parent.stepOffset+"px"}},[i("i",{staticClass:"el-step__line-inner",style:t.lineStyle})]),i("div",{staticClass:"el-step__icon",class:"is-"+(t.icon?"icon":"text")},["success"!==t.currentStatus&&"error"!==t.currentStatus?t._t("icon",[t.icon?i("i",{staticClass:"el-step__icon-inner",class:[t.icon]}):t._e(),t.icon||t.isSimple?t._e():i("div",{staticClass:"el-step__icon-inner"},[t._v(t._s(t.index+1))])]):i("i",{staticClass:"el-step__icon-inner is-status",class:["el-icon-"+("success"===t.currentStatus?"check":"close")]})],2)]),i("div",{staticClass:"el-step__main"},[i("div",{ref:"title",staticClass:"el-step__title",class:["is-"+t.currentStatus]},[t._t("title",[t._v(t._s(t.title))])],2),t.isSimple?i("div",{staticClass:"el-step__arrow"}):i("div",{staticClass:"el-step__description",class:["is-"+t.currentStatus]},[t._t("description",[t._v(t._s(t.description))])],2)])])},fd=[];dd._withStripped=!0;var pd={name:"ElStep",props:{title:String,icon:String,description:String,status:String},data:function(){return{index:-1,lineStyle:{},internalStatus:""}},beforeCreate:function(){this.$parent.steps.push(this)},beforeDestroy:function(){var t=this.$parent.steps,e=t.indexOf(this);e>=0&&t.splice(e,1)},computed:{currentStatus:function(){return this.status||this.internalStatus},prevStatus:function(){var t=this.$parent.steps[this.index-1];return t?t.currentStatus:"wait"},isCenter:function(){return this.$parent.alignCenter},isVertical:function(){return"vertical"===this.$parent.direction},isSimple:function(){return this.$parent.simple},isLast:function(){var t=this.$parent;return t.steps[t.steps.length-1]===this},stepsCount:function(){return this.$parent.steps.length},space:function(){var t=this.isSimple,e=this.$parent.space;return t?"":e},style:function(){var t={},e=this.$parent,i=e.steps.length,a="number"==typeof this.space?this.space+"px":this.space?this.space:100/(i-(this.isCenter?0:1))+"%";return t.flexBasis=a,this.isVertical?t:(this.isLast?t.maxWidth=100/this.stepsCount+"%":t.marginRight=-this.$parent.stepOffset+"px",t)}},methods:{updateStatus:function(t){var e=this.$parent.$children[this.index-1];t>this.index?this.internalStatus=this.$parent.finishStatus:t===this.index&&"error"!==this.prevStatus?this.internalStatus=this.$parent.processStatus:this.internalStatus="wait",e&&e.calcProgress(this.internalStatus)},calcProgress:function(t){var e=100,i={};i.transitionDelay=150*this.index+"ms",t===this.$parent.processStatus?(this.currentStatus,e=0):"wait"===t&&(e=0,i.transitionDelay=-150*this.index+"ms"),i.borderWidth=e&&!this.isSimple?"1px":0,"vertical"===this.$parent.direction?i.height=e+"%":i.width=e+"%",this.lineStyle=i}},mounted:function(){var t=this,e=this.$watch("index",function(i){t.$watch("$parent.active",t.updateStatus,{immediate:!0}),t.$watch("$parent.processStatus",function(){var e=t.$parent.active;t.updateStatus(e)},{immediate:!0}),e()})}},md=pd,Cd=a(md,dd,fd,!1,null,null,null);Cd.options.__file="packages/steps/src/step.vue";var vd=Cd.exports;vd.install=function(t){t.component(vd.name,vd)};var Dd=vd,gd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.carouselClasses,on:{mouseenter:function(e){return e.stopPropagation(),t.handleMouseEnter(e)},mouseleave:function(e){return e.stopPropagation(),t.handleMouseLeave(e)}}},[i("div",{staticClass:"el-carousel__container",style:{height:t.height}},[t.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-left"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===t.arrow||t.hover)&&(t.loop||t.activeIndex>0),expression:"(arrow === 'always' || hover) && (loop || activeIndex > 0)"}],staticClass:"el-carousel__arrow el-carousel__arrow--left",attrs:{type:"button"},on:{mouseenter:function(e){t.handleButtonEnter("left")},mouseleave:t.handleButtonLeave,click:function(e){e.stopPropagation(),t.throttledArrowClick(t.activeIndex-1)}}},[i("i",{staticClass:"el-icon-arrow-left"})])]):t._e(),t.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-right"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===t.arrow||t.hover)&&(t.loop||t.activeIndex<t.items.length-1),expression:"(arrow === 'always' || hover) && (loop || activeIndex < items.length - 1)"}],staticClass:"el-carousel__arrow el-carousel__arrow--right",attrs:{type:"button"},on:{mouseenter:function(e){t.handleButtonEnter("right")},mouseleave:t.handleButtonLeave,click:function(e){e.stopPropagation(),t.throttledArrowClick(t.activeIndex+1)}}},[i("i",{staticClass:"el-icon-arrow-right"})])]):t._e(),t._t("default")],2),"none"!==t.indicatorPosition?i("ul",{class:t.indicatorsClasses},t._l(t.items,function(e,a){return i("li",{key:a,class:["el-carousel__indicator","el-carousel__indicator--"+t.direction,{"is-active":a===t.activeIndex}],on:{mouseenter:function(e){t.throttledIndicatorHover(a)},click:function(e){e.stopPropagation(),t.handleIndicatorClick(a)}}},[i("button",{staticClass:"el-carousel__button"},[t.hasLabel?i("span",[t._v(t._s(e.label))]):t._e()])])}),0):t._e()])},Sd=[];gd._withStripped=!0;var xd=i(25),bd=i.n(xd),Id={name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:String,trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:String,indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:String,loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:function(t){return-1!==["horizontal","vertical"].indexOf(t)}}},data:function(){return{items:[],activeIndex:-1,containerWidth:0,timer:null,hover:!1}},computed:{arrowDisplay:function(){return"never"!==this.arrow&&"vertical"!==this.direction},hasLabel:function(){return this.items.some(function(t){return t.label.toString().length>0})},carouselClasses:function(){var t=["el-carousel","el-carousel--"+this.direction];return"card"===this.type&&t.push("el-carousel--card"),t},indicatorsClasses:function(){var t=["el-carousel__indicators","el-carousel__indicators--"+this.direction];return this.hasLabel&&t.push("el-carousel__indicators--labels"),"outside"!==this.indicatorPosition&&"card"!==this.type||t.push("el-carousel__indicators--outside"),t}},watch:{items:function(t){t.length>0&&this.setActiveItem(this.initialIndex)},activeIndex:function(t,e){this.resetItemPosition(e),e>-1&&this.$emit("change",t,e)},autoplay:function(t){t?this.startTimer():this.pauseTimer()},loop:function(){this.setActiveItem(this.activeIndex)},interval:function(){this.pauseTimer(),this.startTimer()}},methods:{handleMouseEnter:function(){this.hover=!0,this.pauseTimer()},handleMouseLeave:function(){this.hover=!1,this.startTimer()},itemInStage:function(t,e){var i=this.items.length;return e===i-1&&t.inStage&&this.items[0].active||t.inStage&&this.items[e+1]&&this.items[e+1].active?"left":!!(0===e&&t.inStage&&this.items[i-1].active||t.inStage&&this.items[e-1]&&this.items[e-1].active)&&"right"},handleButtonEnter:function(t){var e=this;"vertical"!==this.direction&&this.items.forEach(function(i,a){t===e.itemInStage(i,a)&&(i.hover=!0)})},handleButtonLeave:function(){"vertical"!==this.direction&&this.items.forEach(function(t){t.hover=!1})},updateItems:function(){this.items=this.$children.filter(function(t){return"ElCarouselItem"===t.$options.name})},resetItemPosition:function(t){var e=this;this.items.forEach(function(i,a){i.translateItem(a,e.activeIndex,t)})},playSlides:function(){this.activeIndex<this.items.length-1?this.activeIndex++:this.loop&&(this.activeIndex=0)},pauseTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},startTimer:function(){this.interval<=0||!this.autoplay||this.timer||(this.timer=setInterval(this.playSlides,this.interval))},resetTimer:function(){this.pauseTimer(),this.startTimer()},setActiveItem:function(t){if("string"==typeof t){var e=this.items.filter(function(e){return e.name===t});e.length>0&&(t=this.items.indexOf(e[0]))}if(t=Number(t),isNaN(t)||t!==Math.floor(t))return void console.warn("[Element Warn][Carousel]index must be an integer.");var i=this.items.length,a=this.activeIndex;this.activeIndex=t<0?this.loop?i-1:0:t>=i?this.loop?0:i-1:t,a===this.activeIndex&&this.resetItemPosition(a),this.resetTimer()},prev:function(){this.setActiveItem(this.activeIndex-1)},next:function(){this.setActiveItem(this.activeIndex+1)},handleIndicatorClick:function(t){this.activeIndex=t},handleIndicatorHover:function(t){"hover"===this.trigger&&t!==this.activeIndex&&(this.activeIndex=t)}},created:function(){var t=this;this.throttledArrowClick=bd()(300,!0,function(e){t.setActiveItem(e)}),this.throttledIndicatorHover=bd()(300,function(e){t.handleIndicatorHover(e)})},mounted:function(){var t=this;this.updateItems(),this.$nextTick(function(){Object(va.addResizeListener)(t.$el,t.resetItemPosition),t.initialIndex<t.items.length&&t.initialIndex>=0&&(t.activeIndex=t.initialIndex),t.startTimer()})},beforeDestroy:function(){this.$el&&Object(va.removeResizeListener)(this.$el,this.resetItemPosition),this.pauseTimer()}},Td=Id,yd=a(Td,gd,Sd,!1,null,null,null);yd.options.__file="packages/carousel/src/main.vue";var wd=yd.exports;wd.install=function(t){t.component(wd.name,wd)};var Ed=wd,Fd={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ld={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return Fd[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(t){var e=this.size,i=this.move,a=this.bar;return t("div",{class:["el-scrollbar__bar","is-"+a.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:w({size:e,move:i,bar:a})})])},methods:{clickThumbHandler:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(t){var e=Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client]),i=this.$refs.thumb[this.bar.offset]/2,a=100*(e-i)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=a*this.wrap[this.bar.scrollSize]/100},startDrag:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(oe.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(oe.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var i=-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client]),a=this.$refs.thumb[this.bar.offset]-e,r=100*(i-a)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(oe.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(oe.off)(document,"mouseup",this.mouseUpDocumentHandler)}},Md={name:"ElScrollbar",components:{Bar:Ld},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(t){var e=Tr()(),i=this.wrapStyle;if(e){var a="-"+e+"px",r="margin-bottom: "+a+"; margin-right: "+a+";";Array.isArray(this.wrapStyle)?(i=Object(W.toObject)(this.wrapStyle),i.marginRight=i.marginBottom=a):"string"==typeof this.wrapStyle?i+=r:i=r}var n=t(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),o=t("div",{ref:"wrap",style:i,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",e?"":"el-scrollbar__wrap--hidden-default"]},[[n]]),s=void 0;return s=this.native?[t("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:i},[[n]])]:[o,t(Ld,{attrs:{move:this.moveX,size:this.sizeWidth}}),t(Ld,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})],t("div",{class:"el-scrollbar"},s)},methods:{handleScroll:function(){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth},update:function(){var t=void 0,e=void 0,i=this.wrap;i&&(t=100*i.clientHeight/i.scrollHeight,e=100*i.clientWidth/i.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(va.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(va.removeResizeListener)(this.$refs.resize,this.update)}};Md.install=function(t){t.component(Md.name,Md)};var Ad=Md,Od=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.ready,expression:"ready"}],staticClass:"el-carousel__item",class:{"is-active":t.active,"el-carousel__item--card":"card"===t.$parent.type,"is-in-stage":t.inStage,"is-hover":t.hover,"is-animating":t.animating},style:t.itemStyle,on:{click:t.handleItemClick}},["card"===t.$parent.type?i("div",{directives:[{name:"show",rawName:"v-show",value:!t.active,expression:"!active"}],staticClass:"el-carousel__mask"}):t._e(),t._t("default")],2)},Nd=[];Od._withStripped=!0;var _d={name:"ElCarouselItem",props:{name:String,label:{type:[String,Number],default:""}},data:function(){return{hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}},methods:{processIndex:function(t,e,i){return 0===e&&t===i-1?-1:e===i-1&&0===t?i:t<e-1&&e-t>=i/2?i+1:t>e+1&&t-e>=i/2?-2:t},calcCardTranslate:function(t,e){var i=this.$parent.$el.offsetWidth;return this.inStage?i*(1.17*(t-e)+1)/4:t<e?-1.83*i/4:3.83*i/4},calcTranslate:function(t,e,i){return this.$parent.$el[i?"offsetHeight":"offsetWidth"]*(t-e)},translateItem:function(t,e,i){var a=this.$parent.type,r=this.parentDirection,n=this.$parent.items.length;if("card"!==a&&void 0!==i&&(this.animating=t===e||t===i),t!==e&&n>2&&this.$parent.loop&&(t=this.processIndex(t,e,n)),"card"===a)"vertical"===r&&console.warn("[Element Warn][Carousel]vertical direction is not supported in card mode"),this.inStage=Math.round(Math.abs(t-e))<=1,this.active=t===e,this.translate=this.calcCardTranslate(t,e),this.scale=this.active?1:.83;else{this.active=t===e;var o="vertical"===r;this.translate=this.calcTranslate(t,e,o),this.scale=1}this.ready=!0},handleItemClick:function(){var t=this.$parent;if(t&&"card"===t.type){var e=t.items.indexOf(this);t.setActiveItem(e)}}},computed:{parentDirection:function(){return this.$parent.direction},itemStyle:function(){var t="vertical"===this.parentDirection?"translateY":"translateX",e=t+"("+this.translate+"px) scale("+this.scale+")",i={transform:e};return Object(W.autoprefixer)(i)}},created:function(){this.$parent&&this.$parent.updateItems()},destroyed:function(){this.$parent&&this.$parent.updateItems()}},Pd=_d,Rd=a(Pd,Od,Nd,!1,null,null,null);Rd.options.__file="packages/carousel/src/item.vue";var Bd=Rd.exports;Bd.install=function(t){t.component(Bd.name,Bd)};var kd=Bd,Vd=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-collapse",attrs:{role:"tablist","aria-multiselectable":"true"}},[t._t("default")],2)},Gd=[];Vd._withStripped=!0;var Hd={name:"ElCollapse",componentName:"ElCollapse",props:{accordion:Boolean,value:{type:[Array,String,Number],default:function(){return[]}}},data:function(){return{activeNames:[].concat(this.value)}},provide:function(){return{collapse:this}},watch:{value:function(t){this.activeNames=[].concat(t)}},methods:{setActiveNames:function(t){t=[].concat(t);var e=this.accordion?t[0]:t;this.activeNames=t,this.$emit("input",e),this.$emit("change",e)},handleItemClick:function(t){if(this.accordion)this.setActiveNames(!this.activeNames[0]&&0!==this.activeNames[0]||this.activeNames[0]!==t.name?t.name:"");else{var e=this.activeNames.slice(0),i=e.indexOf(t.name);i>-1?e.splice(i,1):e.push(t.name),this.setActiveNames(e)}}},created:function(){this.$on("item-click",this.handleItemClick)}},Yd=Hd,Xd=a(Yd,Vd,Gd,!1,null,null,null);Xd.options.__file="packages/collapse/src/collapse.vue";var Wd=Xd.exports;Wd.install=function(t){t.component(Wd.name,Wd)};var Ud=Wd,zd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-collapse-item",class:{"is-active":t.isActive,"is-disabled":t.disabled}},[i("div",{attrs:{role:"tab","aria-expanded":t.isActive,"aria-controls":"el-collapse-content-"+t.id,"aria-describedby":"el-collapse-content-"+t.id}},[i("div",{staticClass:"el-collapse-item__header",class:{focusing:t.focusing,"is-active":t.isActive},attrs:{role:"button",id:"el-collapse-head-"+t.id,tabindex:t.disabled?void 0:0},on:{click:t.handleHeaderClick,keyup:function(e){return"button"in e||!t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.stopPropagation(),t.handleEnterClick(e)):null},focus:t.handleFocus,blur:function(e){t.focusing=!1}}},[t._t("title",[t._v(t._s(t.title))]),i("i",{staticClass:"el-collapse-item__arrow el-icon-arrow-right",class:{"is-active":t.isActive}})],2)]),i("el-collapse-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"el-collapse-item__wrap",attrs:{role:"tabpanel","aria-hidden":!t.isActive,"aria-labelledby":"el-collapse-head-"+t.id,id:"el-collapse-content-"+t.id}},[i("div",{staticClass:"el-collapse-item__content"},[t._t("default")],2)])])],1)},Kd=[];zd._withStripped=!0;var $d={name:"ElCollapseItem",componentName:"ElCollapseItem",mixins:[tt.a],components:{ElCollapseTransition:fe.a},data:function(){return{contentWrapStyle:{height:"auto",display:"block"},contentHeight:0,focusing:!1,isClick:!1,id:Object(W.generateId)()}},inject:["collapse"],props:{title:String,name:{type:[String,Number],default:function(){return this._uid}},disabled:Boolean},computed:{isActive:function(){return this.collapse.activeNames.indexOf(this.name)>-1}},methods:{handleFocus:function(){var t=this;setTimeout(function(){t.isClick?t.isClick=!1:t.focusing=!0},50)},handleHeaderClick:function(){this.disabled||(this.dispatch("ElCollapse","item-click",this),this.focusing=!1,this.isClick=!0)},handleEnterClick:function(){this.dispatch("ElCollapse","item-click",this)}}},jd=$d,Jd=a(jd,zd,Kd,!1,null,null,null);Jd.options.__file="packages/collapse/src/collapse-item.vue";var qd=Jd.exports;qd.install=function(t){t.component(qd.name,qd)};var Zd=qd,Qd=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:function(){return t.toggleDropDownVisible(!1)},expression:"() => toggleDropDownVisible(false)"}],ref:"reference",class:["el-cascader",t.realSize&&"el-cascader--"+t.realSize,{"is-disabled":t.isDisabled}],on:{mouseenter:function(e){t.inputHover=!0},mouseleave:function(e){t.inputHover=!1},click:function(){return t.toggleDropDownVisible(!t.readonly||void 0)},keydown:t.handleKeyDown}},[i("el-input",{ref:"input",class:{"is-focus":t.dropDownVisible},attrs:{size:t.realSize,placeholder:t.placeholder,readonly:t.readonly,disabled:t.isDisabled,"validate-event":!1},on:{focus:t.handleFocus,blur:t.handleBlur,input:t.handleInput},model:{value:t.multiple?t.presentText:t.inputValue,callback:function(e){t.multiple?t.presentText:t.inputValue=e},expression:"multiple ? presentText : inputValue"}},[i("template",{slot:"suffix"},[t.clearBtnVisible?i("i",{key:"clear",staticClass:"el-input__icon el-icon-circle-close",on:{click:function(e){return e.stopPropagation(),t.handleClear(e)}}}):i("i",{key:"arrow-down",class:["el-input__icon","el-icon-arrow-down",t.dropDownVisible&&"is-reverse"],on:{click:function(e){e.stopPropagation(),t.toggleDropDownVisible()}}})])],2),t.multiple?i("div",{staticClass:"el-cascader__tags"},[t._l(t.presentTags,function(e){return i("el-tag",{key:e.key,attrs:{type:"info",size:t.tagSize,hit:e.hitState,closable:e.closable,"disable-transitions":""},on:{close:function(i){t.deleteTag(e)}}},[i("span",[t._v(t._s(e.text))])])}),t.filterable&&!t.isDisabled?i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputValue,expression:"inputValue",modifiers:{trim:!0}}],staticClass:"el-cascader__search-input",attrs:{type:"text",placeholder:t.presentTags.length?"":t.placeholder},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value.trim())},function(e){return t.handleInput(t.inputValue,e)}],click:function(e){e.stopPropagation(),t.toggleDropDownVisible(!0)},keydown:function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.handleDelete(e):null},blur:function(e){t.$forceUpdate()}}}):t._e()],2):t._e(),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.handleDropdownLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.dropDownVisible,expression:"dropDownVisible"}],ref:"popper",class:["el-popper","el-cascader__dropdown",t.popperClass]},[i("el-cascader-panel",{directives:[{name:"show",rawName:"v-show",value:!t.filtering,expression:"!filtering"}],ref:"panel",attrs:{options:t.options,props:t.config,border:!1,"render-label":t.$scopedSlots.default},on:{"expand-change":t.handleExpandChange,close:function(e){t.toggleDropDownVisible(!1)}},model:{value:t.checkedValue,callback:function(e){t.checkedValue=e},expression:"checkedValue"}}),t.filterable?i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.filtering,expression:"filtering"}],ref:"suggestionPanel",staticClass:"el-cascader__suggestion-panel",attrs:{tag:"ul","view-class":"el-cascader__suggestion-list"},nativeOn:{keydown:function(e){return t.handleSuggestionKeyDown(e)}}},[t.suggestions.length?t._l(t.suggestions,function(e,a){return i("li",{key:e.uid,class:["el-cascader__suggestion-item",e.checked&&"is-checked"],attrs:{tabindex:-1},on:{click:function(e){t.handleSuggestionClick(a)}}},[i("span",[t._v(t._s(e.text))]),e.checked?i("i",{staticClass:"el-icon-check"}):t._e()])}):t._t("empty",[i("li",{staticClass:"el-cascader__empty-text"},[t._v(t._s(t.t("el.cascader.noMatch")))])])],2):t._e()],1)])],1)},tf=[];Qd._withStripped=!0;var ef=i(42),af=i.n(ef),rf=i(34),nf=i.n(rf),of=nf.a.keys,sf={expandTrigger:{newProp:"expandTrigger",type:String},changeOnSelect:{newProp:"checkStrictly",type:Boolean},hoverThreshold:{newProp:"hoverThreshold",type:Number}},lf={props:{placement:{type:String,default:"bottom-start"},appendToBody:mt.a.props.appendToBody,visibleArrow:{type:Boolean,default:!0},arrowOffset:mt.a.props.arrowOffset,offset:mt.a.props.offset,boundariesPadding:mt.a.props.boundariesPadding,popperOptions:mt.a.props.popperOptions},methods:mt.a.methods,data:mt.a.data,beforeDestroy:mt.a.beforeDestroy},hf={medium:36,small:32,mini:28},uf={name:"ElCascader",directives:{Clickoutside:ct.a},mixins:[lf,tt.a,X.a,Z.a],inject:{elForm:{default:""},elFormItem:{default:""}},components:{ElInput:H.a,ElTag:Ca.a,ElScrollbar:vt.a,ElCascaderPanel:af.a},props:{value:{},options:Array,props:Object,size:String,placeholder:{type:String,default:function(){return Object(gs.t)("el.cascader.placeholder")}},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:Function,separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:function(){return function(){}}},popperClass:String},data:function(){return{dropDownVisible:!1,checkedValue:this.value,inputHover:!1,inputValue:null,presentText:null,presentTags:[],checkedNodes:[],filtering:!1,suggestions:[],inputInitialHeight:0,pressDeleteCount:0}},computed:{realSize:function(){var t=(this.elFormItem||{}).elFormItemSize;return this.size||t||(this.$ELEMENT||{}).size},tagSize:function(){return["small","mini"].indexOf(this.realSize)>-1?"mini":"small"},isDisabled:function(){return this.disabled||(this.elForm||{}).disabled},config:function(){var t=this.props||{},e=this.$attrs;return Object.keys(sf).forEach(function(i){var a=sf[i],r=a.newProp,n=a.type,o=e[i]||e[Object(W.kebabCase)(i)];Object(We.isDef)(i)&&!Object(We.isDef)(t[r])&&(n===Boolean&&""===o&&(o=!0),t[r]=o)}),t},multiple:function(){return this.config.multiple},leafOnly:function(){return!this.config.checkStrictly},readonly:function(){return!this.filterable||this.multiple},clearBtnVisible:function(){return!(!this.clearable||this.isDisabled||this.filtering||!this.inputHover)&&(this.multiple?!!this.checkedNodes.filter(function(t){return!t.isDisabled}).length:!!this.presentText)},panel:function(){return this.$refs.panel}},watch:{disabled:function(){this.computePresentContent()},value:function(t){Object(W.isEqual)(t,this.checkedValue)||(this.checkedValue=t,this.computePresentContent())},checkedValue:function(t){var e=this.value,i=this.dropDownVisible,a=this.config,r=a.checkStrictly,n=a.multiple;Object(W.isEqual)(t,e)&&!Object(Lc.isUndefined)(e)||(this.computePresentContent(),n||r||!i||this.toggleDropDownVisible(!1),this.$emit("input",t),this.$emit("change",t),this.dispatch("ElFormItem","el.form.change",[t]))},options:{handler:function(){this.$nextTick(this.computePresentContent)},deep:!0},presentText:function(t){this.inputValue=t},presentTags:function(t,e){this.multiple&&(t.length||e.length)&&this.$nextTick(this.updateStyle)},filtering:function(t){this.$nextTick(this.updatePopper)}},mounted:function(){var t=this,e=this.$refs.input;e&&e.$el&&(this.inputInitialHeight=e.$el.offsetHeight||hf[this.realSize]||40),this.isEmptyValue(this.value)||this.computePresentContent(),this.filterHandler=ht()(this.debounce,function(){var e=t.inputValue;if(!e)return void(t.filtering=!1);var i=t.beforeFilter(e);i&&i.then?i.then(t.getSuggestions):!1!==i?t.getSuggestions():t.filtering=!1}),Object(va.addResizeListener)(this.$el,this.updateStyle)},beforeDestroy:function(){Object(va.removeResizeListener)(this.$el,this.updateStyle)},methods:{getMigratingConfig:function(){return{props:{"expand-trigger":"expand-trigger is removed, use `props.expandTrigger` instead.","change-on-select":"change-on-select is removed, use `props.checkStrictly` instead.","hover-threshold":"hover-threshold is removed, use `props.hoverThreshold` instead"},events:{"active-item-change":"active-item-change is renamed to expand-change"}}},toggleDropDownVisible:function(t){var e=this;if(!this.isDisabled){var i=this.dropDownVisible,a=this.$refs.input;t=Object(We.isDef)(t)?t:!i,t!==i&&(this.dropDownVisible=t,t&&this.$nextTick(function(){e.updatePopper(),e.panel.scrollIntoView()}),a.$refs.input.setAttribute("aria-expanded",t),this.$emit("visible-change",t))}},handleDropdownLeave:function(){this.filtering=!1,this.inputValue=this.presentText},handleKeyDown:function(t){switch(t.keyCode){case of.enter:this.toggleDropDownVisible();break;case of.down:this.toggleDropDownVisible(!0),this.focusFirstNode(),t.preventDefault();break;case of.esc:case of.tab:this.toggleDropDownVisible(!1)}},handleFocus:function(t){this.$emit("focus",t)},handleBlur:function(t){this.$emit("blur",t)},handleInput:function(t,e){!this.dropDownVisible&&this.toggleDropDownVisible(!0),e&&e.isComposing||(t?this.filterHandler():this.filtering=!1)},handleClear:function(){this.presentText="",this.panel.clearCheckedNodes()},handleExpandChange:function(t){this.$nextTick(this.updatePopper.bind(this)),this.$emit("expand-change",t),this.$emit("active-item-change",t)},focusFirstNode:function(){var t=this;this.$nextTick(function(){var e=t.filtering,i=t.$refs,a=i.popper,r=i.suggestionPanel,n=null;if(e&&r)n=r.$el.querySelector(".el-cascader__suggestion-item");else{n=a.querySelector(".el-cascader-menu").querySelector('.el-cascader-node[tabindex="-1"]')}n&&(n.focus(),!e&&n.click())})},computePresentContent:function(){var t=this;this.$nextTick(function(){t.config.multiple?(t.computePresentTags(),t.presentText=t.presentTags.length?" ":null):t.computePresentText()})},isEmptyValue:function(t){var e=this.multiple,i=this.panel.config.emitPath;return!(!e&&!i)&&Object(W.isEmpty)(t)},computePresentText:function(){var t=this.checkedValue,e=this.config;if(!this.isEmptyValue(t)){var i=this.panel.getNodeByValue(t);if(i&&(e.checkStrictly||i.isLeaf))return void(this.presentText=i.getText(this.showAllLevels,this.separator))}this.presentText=null},computePresentTags:function(){var t=this.isDisabled,e=this.leafOnly,i=this.showAllLevels,a=this.separator,r=this.collapseTags,n=this.getCheckedNodes(e),o=[],s=function(e){return{node:e,key:e.uid,text:e.getText(i,a),hitState:!1,closable:!t&&!e.isDisabled}};if(n.length){var l=n[0],h=n.slice(1),u=h.length;o.push(s(l)),u&&(r?o.push({key:-1,text:"+ "+u,closable:!1}):h.forEach(function(t){return o.push(s(t))}))}this.checkedNodes=n,this.presentTags=o},getSuggestions:function(){var t=this,e=this.filterMethod;Object(Lc.isFunction)(e)||(e=function(t,e){return t.text.includes(e)});var i=this.panel.getFlattedNodes(this.leafOnly).filter(function(i){return!i.isDisabled&&(i.text=i.getText(t.showAllLevels,t.separator)||"",e(i,t.inputValue))});this.multiple?this.presentTags.forEach(function(t){t.hitState=!1}):i.forEach(function(e){e.checked=Object(W.isEqual)(t.checkedValue,e.getValueByOption())}),this.filtering=!0,this.suggestions=i,this.$nextTick(this.updatePopper)},handleSuggestionKeyDown:function(t){var e=t.keyCode,i=t.target;switch(e){case of.enter:i.click();break;case of.up:var a=i.previousElementSibling;a&&a.focus();break;case of.down:var r=i.nextElementSibling;r&&r.focus();break;case of.esc:case of.tab:this.toggleDropDownVisible(!1)}},handleDelete:function(){var t=this.inputValue,e=this.pressDeleteCount,i=this.presentTags,a=i.length-1,r=i[a];this.pressDeleteCount=t?0:e+1,r&&this.pressDeleteCount&&(r.hitState?this.deleteTag(r):r.hitState=!0)},handleSuggestionClick:function(t){var e=this.multiple,i=this.suggestions[t];if(e){var a=i.checked;i.doCheck(!a),this.panel.calculateMultiCheckedValue()}else this.checkedValue=i.getValueByOption(),this.toggleDropDownVisible(!1)},deleteTag:function(t){var e=this.checkedValue,i=t.node.getValueByOption(),a=e.find(function(t){return Object(W.isEqual)(t,i)});this.checkedValue=e.filter(function(t){return!Object(W.isEqual)(t,i)}),this.$emit("remove-tag",a)},updateStyle:function(){var t=this.$el,e=this.inputInitialHeight;if(!this.$isServer&&t){var i=this.$refs.suggestionPanel,a=t.querySelector(".el-input__inner");if(a){var r=t.querySelector(".el-cascader__tags"),n=null;if(i&&(n=i.$el)){n.querySelector(".el-cascader__suggestion-list").style.minWidth=a.offsetWidth+"px"}if(r){var o=r.offsetHeight,s=Math.max(o+6,e)+"px";a.style.height=s,this.updatePopper()}}}},getCheckedNodes:function(t){return this.panel.getCheckedNodes(t)}}},cf=uf,df=a(cf,Qd,tf,!1,null,null,null);df.options.__file="packages/cascader/src/cascader.vue";var ff=df.exports;ff.install=function(t){t.component(ff.name,ff)};var pf=ff,mf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.hide,expression:"hide"}],class:["el-color-picker",t.colorDisabled?"is-disabled":"",t.colorSize?"el-color-picker--"+t.colorSize:""]},[t.colorDisabled?i("div",{staticClass:"el-color-picker__mask"}):t._e(),i("div",{staticClass:"el-color-picker__trigger",on:{click:t.handleTrigger}},[i("span",{staticClass:"el-color-picker__color",class:{"is-alpha":t.showAlpha}},[i("span",{staticClass:"el-color-picker__color-inner",style:{backgroundColor:t.displayedColor}}),t.value||t.showPanelColor?t._e():i("span",{staticClass:"el-color-picker__empty el-icon-close"})]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.value||t.showPanelColor,expression:"value || showPanelColor"}],staticClass:"el-color-picker__icon el-icon-arrow-down"})]),i("picker-dropdown",{ref:"dropdown",class:["el-color-picker__panel",t.popperClass||""],attrs:{color:t.color,"show-alpha":t.showAlpha,predefine:t.predefine},on:{pick:t.confirmValue,clear:t.clearValue},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}})],1)},Cf=[];mf._withStripped=!0;var vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df=function(t,e,i){return[t,e*i/((t=(2-e)*i)<1?t:2-t)||0,t/2]},gf=function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)},Sf=function(t){return"string"==typeof t&&-1!==t.indexOf("%")},xf=function(t,e){gf(t)&&(t="100%");var i=Sf(t);return t=Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)},bf={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},If=function(t){var e=t.r,i=t.g,a=t.b,r=function(t){t=Math.min(Math.round(t),255);var e=Math.floor(t/16),i=t%16;return""+(bf[e]||e)+(bf[i]||i)};return isNaN(e)||isNaN(i)||isNaN(a)?"":"#"+r(e)+r(i)+r(a)},Tf={A:10,B:11,C:12,D:13,E:14,F:15},yf=function(t){return 2===t.length?16*(Tf[t[0].toUpperCase()]||+t[0])+(Tf[t[1].toUpperCase()]||+t[1]):Tf[t[1].toUpperCase()]||+t[1]},wf=function(t,e,i){e/=100,i/=100;var a=e,r=Math.max(i,.01),n=void 0,o=void 0;return i*=2,e*=i<=1?i:2-i,a*=r<=1?r:2-r,o=(i+e)/2,n=0===i?2*a/(r+a):2*e/(i+e),{h:t,s:100*n,v:100*o}},Ef=function(t,e,i){t=xf(t,255),e=xf(e,255),i=xf(i,255);var a=Math.max(t,e,i),r=Math.min(t,e,i),n=void 0,o=void 0,s=a,l=a-r;if(o=0===a?0:l/a,a===r)n=0;else{switch(a){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:360*n,s:100*o,v:100*s}},Ff=function(t,e,i){t=6*xf(t,360),e=xf(e,100),i=xf(i,100);var a=Math.floor(t),r=t-a,n=i*(1-e),o=i*(1-r*e),s=i*(1-(1-r)*e),l=a%6,h=[i,o,n,n,s,i][l],u=[s,i,i,o,n,n][l],c=[n,n,s,i,i,o][l];return{r:Math.round(255*h),g:Math.round(255*u),b:Math.round(255*c)}},Lf=function(){function t(e){E(this,t),this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",e=e||{};for(var i in e)e.hasOwnProperty(i)&&(this[i]=e[i]);this.doOnChange()}return t.prototype.set=function(t,e){if(1!==arguments.length||"object"!==(void 0===t?"undefined":vf(t)))this["_"+t]=e,this.doOnChange();else for(var i in t)t.hasOwnProperty(i)&&this.set(i,t[i])},t.prototype.get=function(t){return this["_"+t]},t.prototype.toRgb=function(){return Ff(this._hue,this._saturation,this._value)},t.prototype.fromString=function(t){var e=this;if(!t)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();var i=function(t,i,a){e._hue=Math.max(0,Math.min(360,t)),e._saturation=Math.max(0,Math.min(100,i)),e._value=Math.max(0,Math.min(100,a)),e.doOnChange()};if(-1!==t.indexOf("hsl")){var a=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(function(t){return""!==t}).map(function(t,e){return e>2?parseFloat(t):parseInt(t,10)});if(4===a.length?this._alpha=Math.floor(100*parseFloat(a[3])):3===a.length&&(this._alpha=100),a.length>=3){var r=wf(a[0],a[1],a[2]);i(r.h,r.s,r.v)}}else if(-1!==t.indexOf("hsv")){var n=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(function(t){return""!==t}).map(function(t,e){return e>2?parseFloat(t):parseInt(t,10)});4===n.length?this._alpha=Math.floor(100*parseFloat(n[3])):3===n.length&&(this._alpha=100),n.length>=3&&i(n[0],n[1],n[2])}else if(-1!==t.indexOf("rgb")){var o=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(function(t){return""!==t}).map(function(t,e){return e>2?parseFloat(t):parseInt(t,10)});if(4===o.length?this._alpha=Math.floor(100*parseFloat(o[3])):3===o.length&&(this._alpha=100),o.length>=3){var s=Ef(o[0],o[1],o[2]),l=s.h,h=s.s,u=s.v;i(l,h,u)}}else if(-1!==t.indexOf("#")){var c=t.replace("#","").trim();if(!/^(?:[0-9a-fA-F]{3}){1,2}|[0-9a-fA-F]{8}$/.test(c))return;var d=void 0,f=void 0,p=void 0;3===c.length?(d=yf(c[0]+c[0]),f=yf(c[1]+c[1]),p=yf(c[2]+c[2])):6!==c.length&&8!==c.length||(d=yf(c.substring(0,2)),f=yf(c.substring(2,4)),p=yf(c.substring(4,6))),8===c.length?this._alpha=Math.floor(yf(c.substring(6))/255*100):3!==c.length&&6!==c.length||(this._alpha=100);var m=Ef(d,f,p),C=m.h,v=m.s,D=m.v;i(C,v,D)}},t.prototype.compare=function(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1},t.prototype.doOnChange=function(){var t=this._hue,e=this._saturation,i=this._value,a=this._alpha,r=this.format;if(this.enableAlpha)switch(r){case"hsl":var n=Df(t,e/100,i/100);this.value="hsla("+t+", "+Math.round(100*n[1])+"%, "+Math.round(100*n[2])+"%, "+a/100+")";break;case"hsv":this.value="hsva("+t+", "+Math.round(e)+"%, "+Math.round(i)+"%, "+a/100+")";break;default:var o=Ff(t,e,i),s=o.r,l=o.g,h=o.b;this.value="rgba("+s+", "+l+", "+h+", "+a/100+")"}else switch(r){case"hsl":var u=Df(t,e/100,i/100);this.value="hsl("+t+", "+Math.round(100*u[1])+"%, "+Math.round(100*u[2])+"%)";break;case"hsv":this.value="hsv("+t+", "+Math.round(e)+"%, "+Math.round(i)+"%)";break;case"rgb":var c=Ff(t,e,i),d=c.r,f=c.g,p=c.b;this.value="rgb("+d+", "+f+", "+p+")";break;default:this.value=If(Ff(t,e,i))}},t}(),Mf=Lf,Af=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":t.doDestroy}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-color-dropdown"},[i("div",{staticClass:"el-color-dropdown__main-wrapper"},[i("hue-slider",{ref:"hue",staticStyle:{float:"right"},attrs:{color:t.color,vertical:""}}),i("sv-panel",{ref:"sl",attrs:{color:t.color}})],1),t.showAlpha?i("alpha-slider",{ref:"alpha",attrs:{color:t.color}}):t._e(),t.predefine?i("predefine",{attrs:{color:t.color,colors:t.predefine}}):t._e(),i("div",{staticClass:"el-color-dropdown__btns"},[i("span",{staticClass:"el-color-dropdown__value"},[i("el-input",{attrs:{"validate-event":!1,size:"mini"},on:{blur:t.handleConfirm},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleConfirm(e):null}},model:{value:t.customInput,callback:function(e){t.customInput=e},expression:"customInput"}})],1),i("el-button",{staticClass:"el-color-dropdown__link-btn",attrs:{size:"mini",type:"text"},on:{click:function(e){t.$emit("clear")}}},[t._v("\n        "+t._s(t.t("el.colorpicker.clear"))+"\n      ")]),i("el-button",{staticClass:"el-color-dropdown__btn",attrs:{plain:"",size:"mini"},on:{click:t.confirmValue}},[t._v("\n        "+t._s(t.t("el.colorpicker.confirm"))+"\n      ")])],1)],1)])},Of=[];Af._withStripped=!0;var Nf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-color-svpanel",style:{backgroundColor:t.background}},[i("div",{staticClass:"el-color-svpanel__white"}),i("div",{staticClass:"el-color-svpanel__black"}),i("div",{staticClass:"el-color-svpanel__cursor",style:{top:t.cursorTop+"px",left:t.cursorLeft+"px"}},[i("div")])])},_f=[];Nf._withStripped=!0;var Pf=!1,Rf=function(t,e){if(!nr.a.prototype.$isServer){var i=function(t){e.drag&&e.drag(t)},a=function t(a){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",t),document.onselectstart=null,document.ondragstart=null,Pf=!1,e.end&&e.end(a)};t.addEventListener("mousedown",function(t){Pf||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",i),document.addEventListener("mouseup",a),Pf=!0,e.start&&e.start(t))})}},Bf={name:"el-sl-panel",props:{color:{required:!0}},computed:{colorValue:function(){return{hue:this.color.get("hue"),value:this.color.get("value")}}},watch:{colorValue:function(){this.update()}},methods:{update:function(){var t=this.color.get("saturation"),e=this.color.get("value"),i=this.$el,a=i.clientWidth,r=i.clientHeight;this.cursorLeft=t*a/100,this.cursorTop=(100-e)*r/100,this.background="hsl("+this.color.get("hue")+", 100%, 50%)"},handleDrag:function(t){var e=this.$el,i=e.getBoundingClientRect(),a=t.clientX-i.left,r=t.clientY-i.top;a=Math.max(0,a),a=Math.min(a,i.width),r=Math.max(0,r),r=Math.min(r,i.height),this.cursorLeft=a,this.cursorTop=r,this.color.set({saturation:a/i.width*100,value:100-r/i.height*100})}},mounted:function(){var t=this;Rf(this.$el,{drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}}),this.update()},data:function(){return{cursorTop:0,cursorLeft:0,background:"hsl(0, 100%, 50%)"}}},kf=Bf,Vf=a(kf,Nf,_f,!1,null,null,null);Vf.options.__file="packages/color-picker/src/components/sv-panel.vue";var Gf=Vf.exports,Hf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-color-hue-slider",class:{"is-vertical":t.vertical}},[i("div",{ref:"bar",staticClass:"el-color-hue-slider__bar",on:{click:t.handleClick}}),i("div",{ref:"thumb",staticClass:"el-color-hue-slider__thumb",style:{left:t.thumbLeft+"px",top:t.thumbTop+"px"}})])},Yf=[];Hf._withStripped=!0;var Xf={name:"el-color-hue-slider",props:{color:{required:!0},vertical:Boolean},data:function(){return{thumbLeft:0,thumbTop:0}},computed:{hueValue:function(){return this.color.get("hue")}},watch:{hueValue:function(){this.update()}},methods:{handleClick:function(t){var e=this.$refs.thumb;t.target!==e&&this.handleDrag(t)},handleDrag:function(t){var e=this.$el.getBoundingClientRect(),i=this.$refs.thumb,a=void 0;if(this.vertical){var r=t.clientY-e.top;r=Math.min(r,e.height-i.offsetHeight/2),r=Math.max(i.offsetHeight/2,r),a=Math.round((r-i.offsetHeight/2)/(e.height-i.offsetHeight)*360)}else{var n=t.clientX-e.left;n=Math.min(n,e.width-i.offsetWidth/2),n=Math.max(i.offsetWidth/2,n),a=Math.round((n-i.offsetWidth/2)/(e.width-i.offsetWidth)*360)}this.color.set("hue",a)},getThumbLeft:function(){if(this.vertical)return 0;var t=this.$el,e=this.color.get("hue");if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetWidth-i.offsetWidth/2)/360)},getThumbTop:function(){if(!this.vertical)return 0;var t=this.$el,e=this.color.get("hue");if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetHeight-i.offsetHeight/2)/360)},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop()}},mounted:function(){var t=this,e=this.$refs,i=e.bar,a=e.thumb,r={drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}};Rf(i,r),Rf(a,r),this.update()}},Wf=Xf,Uf=a(Wf,Hf,Yf,!1,null,null,null);Uf.options.__file="packages/color-picker/src/components/hue-slider.vue";var zf=Uf.exports,Kf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-color-alpha-slider",class:{"is-vertical":t.vertical}},[i("div",{ref:"bar",staticClass:"el-color-alpha-slider__bar",style:{background:t.background},on:{click:t.handleClick}}),i("div",{ref:"thumb",staticClass:"el-color-alpha-slider__thumb",style:{left:t.thumbLeft+"px",top:t.thumbTop+"px"}})])},$f=[];Kf._withStripped=!0;var jf={name:"el-color-alpha-slider",props:{color:{required:!0},vertical:Boolean},watch:{"color._alpha":function(){this.update()},"color.value":function(){this.update()}},methods:{handleClick:function(t){var e=this.$refs.thumb;t.target!==e&&this.handleDrag(t)},handleDrag:function(t){var e=this.$el.getBoundingClientRect(),i=this.$refs.thumb;if(this.vertical){var a=t.clientY-e.top;a=Math.max(i.offsetHeight/2,a),a=Math.min(a,e.height-i.offsetHeight/2),this.color.set("alpha",Math.round((a-i.offsetHeight/2)/(e.height-i.offsetHeight)*100))}else{var r=t.clientX-e.left;r=Math.max(i.offsetWidth/2,r),r=Math.min(r,e.width-i.offsetWidth/2),this.color.set("alpha",Math.round((r-i.offsetWidth/2)/(e.width-i.offsetWidth)*100))}},getThumbLeft:function(){if(this.vertical)return 0;var t=this.$el,e=this.color._alpha;if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetWidth-i.offsetWidth/2)/100)},getThumbTop:function(){if(!this.vertical)return 0;var t=this.$el,e=this.color._alpha;if(!t)return 0;var i=this.$refs.thumb;return Math.round(e*(t.offsetHeight-i.offsetHeight/2)/100)},getBackground:function(){if(this.color&&this.color.value){var t=this.color.toRgb(),e=t.r,i=t.g,a=t.b;return"linear-gradient(to right, rgba("+e+", "+i+", "+a+", 0) 0%, rgba("+e+", "+i+", "+a+", 1) 100%)"}return null},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop(),this.background=this.getBackground()}},data:function(){return{thumbLeft:0,thumbTop:0,background:null}},mounted:function(){var t=this,e=this.$refs,i=e.bar,a=e.thumb,r={drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}};Rf(i,r),Rf(a,r),this.update()}},Jf=jf,qf=a(Jf,Kf,$f,!1,null,null,null);qf.options.__file="packages/color-picker/src/components/alpha-slider.vue";var Zf=qf.exports,Qf=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-color-predefine"},[i("div",{staticClass:"el-color-predefine__colors"},t._l(t.rgbaColors,function(e,a){return i("div",{key:t.colors[a],staticClass:"el-color-predefine__color-selector",class:{selected:e.selected,"is-alpha":e._alpha<100},on:{click:function(e){t.handleSelect(a)}}},[i("div",{style:{"background-color":e.value}})])}),0)])},tp=[];Qf._withStripped=!0;var ep={props:{colors:{type:Array,required:!0},color:{required:!0}},data:function(){return{rgbaColors:this.parseColors(this.colors,this.color)}},methods:{handleSelect:function(t){this.color.fromString(this.colors[t])},parseColors:function(t,e){return t.map(function(t){var i=new Mf;return i.enableAlpha=!0,i.format="rgba",i.fromString(t),i.selected=i.value===e.value,i})}},watch:{"$parent.currentColor":function(t){var e=new Mf;e.fromString(t),this.rgbaColors.forEach(function(t){t.selected=e.compare(t)})},colors:function(t){this.rgbaColors=this.parseColors(t,this.color)},color:function(t){this.rgbaColors=this.parseColors(this.colors,t)}}},ip=ep,ap=a(ip,Qf,tp,!1,null,null,null);ap.options.__file="packages/color-picker/src/components/predefine.vue";var rp=ap.exports,np={name:"el-color-picker-dropdown",mixins:[mt.a,X.a],components:{SvPanel:Gf,HueSlider:zf,AlphaSlider:Zf,ElInput:H.a,ElButton:Mt.a,Predefine:rp},props:{color:{required:!0},showAlpha:Boolean,predefine:Array},data:function(){return{customInput:""}},computed:{currentColor:function(){var t=this.$parent;return t.value||t.showPanelColor?t.color.value:""}},methods:{confirmValue:function(){this.$emit("pick")},handleConfirm:function(){this.color.fromString(this.customInput)}},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$el},watch:{showPopper:function(t){var e=this;!0===t&&this.$nextTick(function(){var t=e.$refs,i=t.sl,a=t.hue,r=t.alpha;i&&i.update(),a&&a.update(),r&&r.update()})},currentColor:{immediate:!0,handler:function(t){this.customInput=t}}}},op=np,sp=a(op,Af,Of,!1,null,null,null);sp.options.__file="packages/color-picker/src/components/picker-dropdown.vue";var lp=sp.exports,hp={name:"ElColorPicker",mixins:[tt.a],props:{value:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:String,popperClass:String,predefine:Array},inject:{elForm:{default:""},elFormItem:{default:""}},directives:{Clickoutside:ct.a},computed:{displayedColor:function(){return this.value||this.showPanelColor?this.displayedRgb(this.color,this.showAlpha):"transparent"},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},colorSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},colorDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(t){t?t&&t!==this.color.value&&this.color.fromString(t):this.showPanelColor=!1},color:{deep:!0,handler:function(){this.showPanelColor=!0}},displayedColor:function(t){if(this.showPicker){var e=new Mf({enableAlpha:this.showAlpha,format:this.colorFormat});e.fromString(this.value);t!==this.displayedRgb(e,this.showAlpha)&&this.$emit("active-change",t)}}},methods:{handleTrigger:function(){this.colorDisabled||(this.showPicker=!this.showPicker)},confirmValue:function(){var t=this.color.value;this.$emit("input",t),this.$emit("change",t),this.dispatch("ElFormItem","el.form.change",t),this.showPicker=!1},clearValue:function(){this.$emit("input",null),this.$emit("change",null),null!==this.value&&this.dispatch("ElFormItem","el.form.change",null),this.showPanelColor=!1,this.showPicker=!1,this.resetColor()},hide:function(){this.showPicker=!1,this.resetColor()},resetColor:function(){var t=this;this.$nextTick(function(e){t.value?t.color.fromString(t.value):t.showPanelColor=!1})},displayedRgb:function(t,e){if(!(t instanceof Mf))throw Error("color should be instance of Color Class");var i=t.toRgb(),a=i.r,r=i.g,n=i.b;return e?"rgba("+a+", "+r+", "+n+", "+t.get("alpha")/100+")":"rgb("+a+", "+r+", "+n+")"}},mounted:function(){var t=this.value;t&&this.color.fromString(t),this.popperElm=this.$refs.dropdown.$el},data:function(){return{color:new Mf({enableAlpha:this.showAlpha,format:this.colorFormat}),showPicker:!1,showPanelColor:!1}},components:{PickerDropdown:lp}},up=hp,cp=a(up,mf,Cf,!1,null,null,null);cp.options.__file="packages/color-picker/src/main.vue";var dp=cp.exports;dp.install=function(t){t.component(dp.name,dp)};var fp=dp,pp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-transfer"},[i("transfer-panel",t._b({ref:"leftPanel",attrs:{data:t.sourceData,title:t.titles[0]||t.t("el.transfer.titles.0"),"default-checked":t.leftDefaultChecked,placeholder:t.filterPlaceholder||t.t("el.transfer.filterPlaceholder")},on:{"checked-change":t.onSourceCheckedChange}},"transfer-panel",t.$props,!1),[t._t("left-footer")],2),i("div",{staticClass:"el-transfer__buttons"},[i("el-button",{class:["el-transfer__button",t.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===t.rightChecked.length},nativeOn:{click:function(e){return t.addToLeft(e)}}},[i("i",{staticClass:"el-icon-arrow-left"}),void 0!==t.buttonTexts[0]?i("span",[t._v(t._s(t.buttonTexts[0]))]):t._e()]),i("el-button",{class:["el-transfer__button",t.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===t.leftChecked.length},nativeOn:{click:function(e){return t.addToRight(e)}}},[void 0!==t.buttonTexts[1]?i("span",[t._v(t._s(t.buttonTexts[1]))]):t._e(),i("i",{staticClass:"el-icon-arrow-right"})])],1),i("transfer-panel",t._b({ref:"rightPanel",attrs:{data:t.targetData,title:t.titles[1]||t.t("el.transfer.titles.1"),"default-checked":t.rightDefaultChecked,placeholder:t.filterPlaceholder||t.t("el.transfer.filterPlaceholder")},on:{"checked-change":t.onTargetCheckedChange}},"transfer-panel",t.$props,!1),[t._t("right-footer")],2)],1)},mp=[];pp._withStripped=!0;var Cp=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-transfer-panel"},[i("p",{staticClass:"el-transfer-panel__header"},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleAllCheckedChange},model:{value:t.allChecked,callback:function(e){t.allChecked=e},expression:"allChecked"}},[t._v("\n      "+t._s(t.title)+"\n      "),i("span",[t._v(t._s(t.checkedSummary))])])],1),i("div",{class:["el-transfer-panel__body",t.hasFooter?"is-with-footer":""]},[t.filterable?i("el-input",{staticClass:"el-transfer-panel__filter",attrs:{size:"small",placeholder:t.placeholder},nativeOn:{mouseenter:function(e){t.inputHover=!0},mouseleave:function(e){t.inputHover=!1}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[i("i",{class:["el-input__icon","el-icon-"+t.inputIcon],attrs:{slot:"prefix"},on:{click:t.clearQuery},slot:"prefix"})]):t._e(),i("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!t.hasNoMatch&&t.data.length>0,expression:"!hasNoMatch && data.length > 0"}],staticClass:"el-transfer-panel__list",class:{"is-filterable":t.filterable},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},t._l(t.filteredData,function(e){return i("el-checkbox",{key:e[t.keyProp],staticClass:"el-transfer-panel__item",attrs:{label:e[t.keyProp],disabled:e[t.disabledProp]}},[i("option-content",{attrs:{option:e}})],1)}),1),i("p",{directives:[{name:"show",rawName:"v-show",value:t.hasNoMatch,expression:"hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[t._v(t._s(t.t("el.transfer.noMatch")))]),i("p",{directives:[{name:"show",rawName:"v-show",value:0===t.data.length&&!t.hasNoMatch,expression:"data.length === 0 && !hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[t._v(t._s(t.t("el.transfer.noData")))])],1),t.hasFooter?i("p",{staticClass:"el-transfer-panel__footer"},[t._t("default")],2):t._e()])},vp=[];Cp._withStripped=!0;var Dp={mixins:[X.a],name:"ElTransferPanel",componentName:"ElTransferPanel",components:{ElCheckboxGroup:Rr.a,ElCheckbox:qa.a,ElInput:H.a,OptionContent:{props:{option:Object},render:function(t){var e=function t(e){return"ElTransferPanel"===e.$options.componentName?e:e.$parent?t(e.$parent):e}(this),i=e.$parent||e;return e.renderContent?e.renderContent(t,this.option):i.$scopedSlots.default?i.$scopedSlots.default({option:this.option}):t("span",[this.option[e.labelProp]||this.option[e.keyProp]])}}},props:{data:{type:Array,default:function(){return[]}},renderContent:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},data:function(){return{checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}},watch:{checked:function(t,e){if(this.updateAllChecked(),this.checkChangeByUser){var i=t.concat(e).filter(function(i){return-1===t.indexOf(i)||-1===e.indexOf(i)});this.$emit("checked-change",t,i)}else this.$emit("checked-change",t),this.checkChangeByUser=!0},data:function(){var t=this,e=[],i=this.filteredData.map(function(e){return e[t.keyProp]});this.checked.forEach(function(t){i.indexOf(t)>-1&&e.push(t)}),this.checkChangeByUser=!1,this.checked=e},checkableData:function(){this.updateAllChecked()},defaultChecked:{immediate:!0,handler:function(t,e){var i=this;if(!e||t.length!==e.length||!t.every(function(t){return e.indexOf(t)>-1})){var a=[],r=this.checkableData.map(function(t){return t[i.keyProp]});t.forEach(function(t){r.indexOf(t)>-1&&a.push(t)}),this.checkChangeByUser=!1,this.checked=a}}}},computed:{filteredData:function(){var t=this;return this.data.filter(function(e){return"function"==typeof t.filterMethod?t.filterMethod(t.query,e):(e[t.labelProp]||e[t.keyProp].toString()).toLowerCase().indexOf(t.query.toLowerCase())>-1})},checkableData:function(){var t=this;return this.filteredData.filter(function(e){return!e[t.disabledProp]})},checkedSummary:function(){var t=this.checked.length,e=this.data.length,i=this.format,a=i.noChecked,r=i.hasChecked;return a&&r?t>0?r.replace(/\${checked}/g,t).replace(/\${total}/g,e):a.replace(/\${total}/g,e):t+"/"+e},isIndeterminate:function(){var t=this.checked.length;return t>0&&t<this.checkableData.length},hasNoMatch:function(){return this.query.length>0&&0===this.filteredData.length},inputIcon:function(){return this.query.length>0&&this.inputHover?"circle-close":"search"},labelProp:function(){return this.props.label||"label"},keyProp:function(){return this.props.key||"key"},disabledProp:function(){return this.props.disabled||"disabled"},hasFooter:function(){return!!this.$slots.default}},methods:{updateAllChecked:function(){var t=this,e=this.checkableData.map(function(e){return e[t.keyProp]});this.allChecked=e.length>0&&e.every(function(e){return t.checked.indexOf(e)>-1})},handleAllCheckedChange:function(t){var e=this;this.checked=t?this.checkableData.map(function(t){return t[e.keyProp]}):[]},clearQuery:function(){"circle-close"===this.inputIcon&&(this.query="")}}},gp=Dp,Sp=a(gp,Cp,vp,!1,null,null,null);Sp.options.__file="packages/transfer/src/transfer-panel.vue";var xp=Sp.exports,bp={name:"ElTransfer",mixins:[tt.a,X.a,Z.a],components:{TransferPanel:xp,ElButton:Mt.a},props:{data:{type:Array,default:function(){return[]}},titles:{type:Array,default:function(){return[]}},buttonTexts:{type:Array,default:function(){return[]}},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:function(){return[]}},rightDefaultChecked:{type:Array,default:function(){return[]}},renderContent:Function,value:{type:Array,default:function(){return[]}},format:{type:Object,default:function(){return{}}},filterable:Boolean,props:{type:Object,default:function(){return{label:"label",key:"key",disabled:"disabled"}}},targetOrder:{type:String,default:"original"}},data:function(){return{leftChecked:[],rightChecked:[]}},computed:{dataObj:function(){var t=this.props.key;return this.data.reduce(function(e,i){return(e[i[t]]=i)&&e},{})},sourceData:function(){var t=this;return this.data.filter(function(e){return-1===t.value.indexOf(e[t.props.key])})},targetData:function(){var t=this;return"original"===this.targetOrder?this.data.filter(function(e){return t.value.indexOf(e[t.props.key])>-1}):this.value.reduce(function(e,i){var a=t.dataObj[i];return a&&e.push(a),e},[])},hasButtonTexts:function(){return 2===this.buttonTexts.length}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}},methods:{getMigratingConfig:function(){return{props:{"footer-format":"footer-format is renamed to format."}}},onSourceCheckedChange:function(t,e){this.leftChecked=t,void 0!==e&&this.$emit("left-check-change",t,e)},onTargetCheckedChange:function(t,e){this.rightChecked=t,void 0!==e&&this.$emit("right-check-change",t,e)},addToLeft:function(){var t=this.value.slice();this.rightChecked.forEach(function(e){var i=t.indexOf(e);i>-1&&t.splice(i,1)}),this.$emit("input",t),this.$emit("change",t,"left",this.rightChecked)},addToRight:function(){var t=this,e=this.value.slice(),i=[],a=this.props.key;this.data.forEach(function(e){var r=e[a];t.leftChecked.indexOf(r)>-1&&-1===t.value.indexOf(r)&&i.push(r)}),e="unshift"===this.targetOrder?i.concat(e):e.concat(i),this.$emit("input",e),this.$emit("change",e,"right",this.leftChecked)},clearQuery:function(t){"left"===t?this.$refs.leftPanel.query="":"right"===t&&(this.$refs.rightPanel.query="")}}},Ip=bp,Tp=a(Ip,pp,mp,!1,null,null,null);Tp.options.__file="packages/transfer/src/main.vue";var yp=Tp.exports;yp.install=function(t){t.component(yp.name,yp)};var wp=yp,Ep=function(){var t=this,e=t.$createElement;return(t._self._c||e)("section",{staticClass:"el-container",class:{"is-vertical":t.isVertical}},[t._t("default")],2)},Fp=[];Ep._withStripped=!0;var Lp={name:"ElContainer",componentName:"ElContainer",props:{direction:String},computed:{isVertical:function(){return"vertical"===this.direction||"horizontal"!==this.direction&&(!(!this.$slots||!this.$slots.default)&&this.$slots.default.some(function(t){var e=t.componentOptions&&t.componentOptions.tag;return"el-header"===e||"el-footer"===e}))}}},Mp=Lp,Ap=a(Mp,Ep,Fp,!1,null,null,null);Ap.options.__file="packages/container/src/main.vue";var Op=Ap.exports;Op.install=function(t){t.component(Op.name,Op)};var Np=Op,_p=function(){var t=this,e=t.$createElement;return(t._self._c||e)("header",{staticClass:"el-header",style:{height:t.height}},[t._t("default")],2)},Pp=[];_p._withStripped=!0;var Rp={name:"ElHeader",componentName:"ElHeader",props:{height:{type:String,default:"60px"}}},Bp=Rp,kp=a(Bp,_p,Pp,!1,null,null,null);kp.options.__file="packages/header/src/main.vue";var Vp=kp.exports;Vp.install=function(t){t.component(Vp.name,Vp)};var Gp=Vp,Hp=function(){var t=this,e=t.$createElement;return(t._self._c||e)("aside",{staticClass:"el-aside",style:{width:t.width}},[t._t("default")],2)},Yp=[];Hp._withStripped=!0;var Xp={name:"ElAside",componentName:"ElAside",props:{width:{type:String,default:"300px"}}},Wp=Xp,Up=a(Wp,Hp,Yp,!1,null,null,null);Up.options.__file="packages/aside/src/main.vue";var zp=Up.exports;zp.install=function(t){t.component(zp.name,zp)};var Kp=zp,$p=function(){var t=this,e=t.$createElement;return(t._self._c||e)("main",{staticClass:"el-main"},[t._t("default")],2)},jp=[];$p._withStripped=!0;var Jp={name:"ElMain",componentName:"ElMain"},qp=Jp,Zp=a(qp,$p,jp,!1,null,null,null);Zp.options.__file="packages/main/src/main.vue";var Qp=Zp.exports;Qp.install=function(t){t.component(Qp.name,Qp)};var tm=Qp,em=function(){var t=this,e=t.$createElement;return(t._self._c||e)("footer",{staticClass:"el-footer",style:{height:t.height}},[t._t("default")],2)},im=[];em._withStripped=!0;var am={name:"ElFooter",componentName:"ElFooter",props:{height:{type:String,default:"60px"}}},rm=am,nm=a(rm,em,im,!1,null,null,null);nm.options.__file="packages/footer/src/main.vue";var om=nm.exports;om.install=function(t){t.component(om.name,om)};var sm=om,lm={name:"ElTimeline",props:{reverse:{type:Boolean,default:!1}},provide:function(){return{timeline:this}},render:function(){var t=arguments[0],e=this.reverse,i={"el-timeline":!0,"is-reverse":e},a=this.$slots.default||[];return e&&(a=a.reverse()),t("ul",{class:i},[a])}},hm=lm,um=a(hm,void 0,void 0,!1,null,null,null);um.options.__file="packages/timeline/src/main.vue";var cm=um.exports;cm.install=function(t){t.component(cm.name,cm)};var dm=cm,fm=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"el-timeline-item"},[i("div",{staticClass:"el-timeline-item__tail"}),t.$slots.dot?t._e():i("div",{staticClass:"el-timeline-item__node",class:["el-timeline-item__node--"+(t.size||""),"el-timeline-item__node--"+(t.type||"")],style:{backgroundColor:t.color}},[t.icon?i("i",{staticClass:"el-timeline-item__icon",class:t.icon}):t._e()]),t.$slots.dot?i("div",{staticClass:"el-timeline-item__dot"},[t._t("dot")],2):t._e(),i("div",{staticClass:"el-timeline-item__wrapper"},[t.hideTimestamp||"top"!==t.placement?t._e():i("div",{staticClass:"el-timeline-item__timestamp is-top"},[t._v("\n      "+t._s(t.timestamp)+"\n    ")]),i("div",{staticClass:"el-timeline-item__content"},[t._t("default")],2),t.hideTimestamp||"bottom"!==t.placement?t._e():i("div",{staticClass:"el-timeline-item__timestamp is-bottom"},[t._v("\n      "+t._s(t.timestamp)+"\n    ")])])])},pm=[];fm._withStripped=!0;var mm={name:"ElTimelineItem",inject:["timeline"],props:{timestamp:String,hideTimestamp:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:String,color:String,size:{type:String,default:"normal"},icon:String}},Cm=mm,vm=a(Cm,fm,pm,!1,null,null,null);vm.options.__file="packages/timeline/src/item.vue";var Dm=vm.exports;Dm.install=function(t){t.component(Dm.name,Dm)};var gm=Dm,Sm=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",t._b({class:["el-link",t.type?"el-link--"+t.type:"",t.disabled&&"is-disabled",t.underline&&!t.disabled&&"is-underline"],attrs:{href:t.disabled?null:t.href},on:{click:t.handleClick}},"a",t.$attrs,!1),[t.icon?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",{staticClass:"el-link--inner"},[t._t("default")],2):t._e(),t.$slots.icon?[t.$slots.icon?t._t("icon"):t._e()]:t._e()],2)},xm=[];Sm._withStripped=!0;var bm={name:"ElLink",props:{type:{type:String,default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:String,icon:String},methods:{handleClick:function(t){this.disabled||this.href||this.$emit("click",t)}}},Im=bm,Tm=a(Im,Sm,xm,!1,null,null,null);Tm.options.__file="packages/link/src/main.vue";var ym=Tm.exports;ym.install=function(t){t.component(ym.name,ym)};var wm=ym,Em=function(t,e){var i=e._c;return i("div",e._g(e._b({class:[e.data.staticClass,"el-divider","el-divider--"+e.props.direction]},"div",e.data.attrs,!1),e.listeners),[e.slots().default&&"vertical"!==e.props.direction?i("div",{class:["el-divider__text","is-"+e.props.contentPosition]},[e._t("default")],2):e._e()])},Fm=[];Em._withStripped=!0;var Lm={name:"ElDivider",props:{direction:{type:String,default:"horizontal",validator:function(t){return-1!==["horizontal","vertical"].indexOf(t)}},contentPosition:{type:String,default:"center",validator:function(t){return-1!==["left","center","right"].indexOf(t)}}}},Mm=Lm,Am=a(Mm,Em,Fm,!0,null,null,null);Am.options.__file="packages/divider/src/main.vue";var Om=Am.exports;Om.install=function(t){t.component(Om.name,Om)};var Nm=Om,_m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-image"},[t.loading?t._t("placeholder",[i("div",{staticClass:"el-image__placeholder"})]):t.error?t._t("error",[i("div",{staticClass:"el-image__error"},[t._v(t._s(t.t("el.image.error")))])]):i("img",t._g(t._b({staticClass:"el-image__inner",class:{"el-image__inner--center":t.alignCenter,"el-image__preview":t.preview},style:t.imageStyle,attrs:{src:t.src},on:{click:t.clickHandler}},"img",t.$attrs,!1),t.$listeners)),t.preview?[t.showViewer?i("image-viewer",{attrs:{"z-index":t.zIndex,"initial-index":t.imageIndex,"on-close":t.closeViewer,"url-list":t.previewSrcList}}):t._e()]:t._e()],2)},Pm=[];_m._withStripped=!0;var Rm=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"viewer-fade"}},[i("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":t.viewerZIndex},attrs:{tabindex:"-1"}},[i("div",{staticClass:"el-image-viewer__mask",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleMaskClick(e)}}}),i("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:t.hide}},[i("i",{staticClass:"el-icon-close"})]),t.isSingle?t._e():[i("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!t.infinite&&t.isFirst},on:{click:t.prev}},[i("i",{staticClass:"el-icon-arrow-left"})]),i("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!t.infinite&&t.isLast},on:{click:t.next}},[i("i",{staticClass:"el-icon-arrow-right"})])],i("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[i("div",{staticClass:"el-image-viewer__actions__inner"},[i("i",{staticClass:"el-icon-zoom-out",on:{click:function(e){t.handleActions("zoomOut")}}}),i("i",{staticClass:"el-icon-zoom-in",on:{click:function(e){t.handleActions("zoomIn")}}}),i("i",{staticClass:"el-image-viewer__actions__divider"}),i("i",{class:t.mode.icon,on:{click:t.toggleMode}}),i("i",{staticClass:"el-image-viewer__actions__divider"}),i("i",{staticClass:"el-icon-refresh-left",on:{click:function(e){t.handleActions("anticlocelise")}}}),i("i",{staticClass:"el-icon-refresh-right",on:{click:function(e){t.handleActions("clocelise")}}})])]),i("div",{staticClass:"el-image-viewer__canvas"},t._l(t.urlList,function(e,a){return a===t.index?i("img",{key:e,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:t.imgStyle,attrs:{src:t.currentImg},on:{load:t.handleImgLoad,error:t.handleImgError,mousedown:t.handleMouseDown}}):t._e()}),0)],2)])},Bm=[];Rm._withStripped=!0;var km=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Vm={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},Gm=Object(W.isFirefox)()?"DOMMouseScroll":"mousewheel",Hm={name:"elImageViewer",props:{urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0},appendToBody:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,mode:Vm.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.urlList[this.index]},imgStyle:function(){var t=this.transform,e=t.scale,i=t.deg,a=t.offsetX,r=t.offsetY,n=t.enableTransition,o={transform:"scale("+e+") rotate("+i+"deg)",transition:n?"transform .3s":"","margin-left":a+"px","margin-top":r+"px"};return this.mode===Vm.CONTAIN&&(o.maxWidth=o.maxHeight="100%"),o},viewerZIndex:function(){var t=j.PopupManager.nextZIndex();return this.zIndex>t?this.zIndex:t}},watch:{index:{handler:function(t){this.reset(),this.onSwitch(t)}},currentImg:function(t){var e=this;this.$nextTick(function(t){e.$refs.img[0].complete||(e.loading=!0)})}},methods:{hide:function(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall:function(){var t=this;this._keyDownHandler=function(e){switch(e.stopPropagation(),e.keyCode){case 27:t.hide();break;case 32:t.toggleMode();break;case 37:t.prev();break;case 38:t.handleActions("zoomIn");break;case 39:t.next();break;case 40:t.handleActions("zoomOut")}},this._mouseWheelHandler=Object(W.rafThrottle)(function(e){(e.wheelDelta?e.wheelDelta:-e.detail)>0?t.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):t.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),Object(oe.on)(document,"keydown",this._keyDownHandler),Object(oe.on)(document,Gm,this._mouseWheelHandler)},deviceSupportUninstall:function(){Object(oe.off)(document,"keydown",this._keyDownHandler),Object(oe.off)(document,Gm,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(t){this.loading=!1},handleImgError:function(t){this.loading=!1,t.target.alt="加载失败"},handleMouseDown:function(t){var e=this;if(!this.loading&&0===t.button){var i=this.transform,a=i.offsetX,r=i.offsetY,n=t.pageX,o=t.pageY;this._dragHandler=Object(W.rafThrottle)(function(t){e.transform.offsetX=a+t.pageX-n,e.transform.offsetY=r+t.pageY-o}),Object(oe.on)(document,"mousemove",this._dragHandler),Object(oe.on)(document,"mouseup",function(t){Object(oe.off)(document,"mousemove",e._dragHandler)}),t.preventDefault()}},handleMaskClick:function(){this.maskClosable&&this.hide()},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){if(!this.loading){var t=Object.keys(Vm),e=Object.values(Vm),i=e.indexOf(this.mode),a=(i+1)%t.length;this.mode=Vm[t[a]],this.reset()}},prev:function(){if(!this.isFirst||this.infinite){var t=this.urlList.length;this.index=(this.index-1+t)%t}},next:function(){if(!this.isLast||this.infinite){var t=this.urlList.length;this.index=(this.index+1)%t}},handleActions:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var i=km({zoomRate:.2,rotateDeg:90,enableTransition:!0},e),a=i.zoomRate,r=i.rotateDeg,n=i.enableTransition,o=this.transform;switch(t){case"zoomOut":o.scale>.2&&(o.scale=parseFloat((o.scale-a).toFixed(3)));break;case"zoomIn":o.scale=parseFloat((o.scale+a).toFixed(3));break;case"clocelise":o.deg+=r;break;case"anticlocelise":o.deg-=r}o.enableTransition=n}}},mounted:function(){this.deviceSupportInstall(),this.appendToBody&&document.body.appendChild(this.$el),this.$refs["el-image-viewer__wrapper"].focus()},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},Ym=Hm,Xm=a(Ym,Rm,Bm,!1,null,null,null);Xm.options.__file="packages/image/src/image-viewer.vue";var Wm=Xm.exports,Um=function(){return void 0!==document.documentElement.style.objectFit},zm={NONE:"none",CONTAIN:"contain",COVER:"cover",FILL:"fill",SCALE_DOWN:"scale-down"},Km="",$m={name:"ElImage",mixins:[X.a],inheritAttrs:!1,components:{ImageViewer:Wm},props:{src:String,fit:String,lazy:Boolean,scrollContainer:{},previewSrcList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3}},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1}},computed:{imageStyle:function(){var t=this.fit;return!this.$isServer&&t?Um()?{"object-fit":t}:this.getImageStyle(t):{}},alignCenter:function(){return!this.$isServer&&!Um()&&this.fit!==zm.FILL},preview:function(){var t=this.previewSrcList;return Array.isArray(t)&&t.length>0},imageIndex:function(){var t=0,e=this.previewSrcList.indexOf(this.src);return e>=0&&(t=e),t}},watch:{src:function(t){this.show&&this.loadImage()},show:function(t){t&&this.loadImage()}},mounted:function(){this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{loadImage:function(){var t=this;if(!this.$isServer){this.loading=!0,this.error=!1;var e=new Image;e.onload=function(i){return t.handleLoad(i,e)},e.onerror=this.handleError.bind(this),Object.keys(this.$attrs).forEach(function(i){var a=t.$attrs[i];e.setAttribute(i,a)}),e.src=this.src}},handleLoad:function(t,e){this.imageWidth=e.width,this.imageHeight=e.height,this.loading=!1,this.error=!1},handleError:function(t){this.loading=!1,this.error=!0,this.$emit("error",t)},handleLazyLoad:function(){Object(oe.isInContainer)(this.$el,this._scrollContainer)&&(this.show=!0,this.removeLazyLoadListener())},addLazyLoadListener:function(){if(!this.$isServer){var t=this.scrollContainer,e=null;e=Object(Lc.isHtmlElement)(t)?t:Object(Lc.isString)(t)?document.querySelector(t):Object(oe.getScrollContainer)(this.$el),e&&(this._scrollContainer=e,this._lazyLoadHandler=bd()(200,this.handleLazyLoad),Object(oe.on)(e,"scroll",this._lazyLoadHandler),this.handleLazyLoad())}},removeLazyLoadListener:function(){var t=this._scrollContainer,e=this._lazyLoadHandler;!this.$isServer&&t&&e&&(Object(oe.off)(t,"scroll",e),this._scrollContainer=null,this._lazyLoadHandler=null)},getImageStyle:function(t){var e=this.imageWidth,i=this.imageHeight,a=this.$el,r=a.clientWidth,n=a.clientHeight;if(!(e&&i&&r&&n))return{};var o=e/i,s=r/n;if(t===zm.SCALE_DOWN){t=e<r&&i<n?zm.NONE:zm.CONTAIN}switch(t){case zm.NONE:return{width:"auto",height:"auto"};case zm.CONTAIN:return o<s?{width:"auto"}:{height:"auto"};case zm.COVER:return o<s?{height:"auto"}:{width:"auto"};default:return{}}},clickHandler:function(){this.preview&&(Km=document.body.style.overflow,document.body.style.overflow="hidden",this.showViewer=!0)},closeViewer:function(){document.body.style.overflow=Km,this.showViewer=!1}}},jm=$m,Jm=a(jm,_m,Pm,!1,null,null,null);Jm.options.__file="packages/image/src/main.vue";var qm=Jm.exports;qm.install=function(t){t.component(qm.name,qm)};var Zm=qm,Qm=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-calendar"},[i("div",{staticClass:"el-calendar__header"},[i("div",{staticClass:"el-calendar__title"},[t._v("\n      "+t._s(t.i18nDate)+"\n    ")]),0===t.validatedRange.length?i("div",{staticClass:"el-calendar__button-group"},[i("el-button-group",[i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){t.selectDate("prev-month")}}},[t._v("\n          "+t._s(t.t("el.datepicker.prevMonth"))+"\n        ")]),i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){t.selectDate("today")}}},[t._v("\n          "+t._s(t.t("el.datepicker.today"))+"\n        ")]),i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(e){t.selectDate("next-month")}}},[t._v("\n          "+t._s(t.t("el.datepicker.nextMonth"))+"\n        ")])],1)],1):t._e()]),0===t.validatedRange.length?i("div",{key:"no-range",staticClass:"el-calendar__body"},[i("date-table",{attrs:{date:t.date,"selected-day":t.realSelectedDay,"first-day-of-week":t.realFirstDayOfWeek},on:{pick:t.pickDay}})],1):i("div",{key:"has-range",staticClass:"el-calendar__body"},t._l(t.validatedRange,function(e,a){return i("date-table",{key:a,attrs:{date:e[0],"selected-day":t.realSelectedDay,range:e,"hide-header":0!==a,"first-day-of-week":t.realFirstDayOfWeek},on:{pick:t.pickDay}})}),1)])},tC=[];Qm._withStripped=!0;var eC=i(20),iC=i.n(eC),aC={props:{selectedDay:String,range:{type:Array,validator:function(t){if(!t||!t.length)return!0;var e=t[0],i=t[1];return Object(hn.validateRangeInOneMonth)(e,i)}},date:Date,hideHeader:Boolean,firstDayOfWeek:Number},inject:["elCalendar"],methods:{toNestedArr:function(t){return Object(hn.range)(t.length/7).map(function(e,i){var a=7*i;return t.slice(a,a+7)})},getFormateDate:function(t,e){if(!t||-1===["prev","current","next"].indexOf(e))throw new Error("invalid day or type");var i=this.curMonthDatePrefix;return"prev"===e?i=this.prevMonthDatePrefix:"next"===e&&(i=this.nextMonthDatePrefix),t=("00"+t).slice(-2),i+"-"+t},getCellClass:function(t){var e=t.text,i=t.type,a=[i];if("current"===i){var r=this.getFormateDate(e,i);r===this.selectedDay&&a.push("is-selected"),r===this.formatedToday&&a.push("is-today")}return a},pickDay:function(t){var e=t.text,i=t.type,a=this.getFormateDate(e,i);this.$emit("pick",a)},cellRenderProxy:function(t){var e=t.text,i=t.type,a=this.$createElement,r=this.elCalendar.$scopedSlots.dateCell;if(!r)return a("span",[e]);var n=this.getFormateDate(e,i);return r({date:new Date(n),data:{isSelected:this.selectedDay===n,type:i+"-month",day:n}})}},computed:{WEEK_DAYS:function(){return Object(hn.getI18nSettings)().dayNames},prevMonthDatePrefix:function(){var t=new Date(this.date.getTime());return t.setDate(0),iC.a.format(t,"yyyy-MM")},curMonthDatePrefix:function(){return iC.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var t=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return iC.a.format(t,"yyyy-MM")},formatedToday:function(){return this.elCalendar.formatedToday},isInRange:function(){return this.range&&this.range.length},rows:function(){var t=[];if(this.isInRange){var e=this.range,i=e[0],a=e[1],r=Object(hn.range)(a.getDate()-i.getDate()+1).map(function(t,e){return{text:i.getDate()+e,type:"current"}}),n=r.length%7;n=0===n?0:7-n;var o=Object(hn.range)(n).map(function(t,e){return{text:e+1,type:"next"}});t=r.concat(o)}else{var s=this.date,l=Object(hn.getFirstDayOfMonth)(s);l=0===l?7:l;var h="number"==typeof this.firstDayOfWeek?this.firstDayOfWeek:1,u=(7+l-h)%7;t=[].concat(Object(hn.getPrevMonthLastDays)(s,u).map(function(t){return{text:t,type:"prev"}}),Object(hn.getMonthDays)(s).map(function(t){return{text:t,type:"current"}}));var c=Object(hn.range)(42-t.length).map(function(t,e){return{text:e+1,type:"next"}});t=t.concat(c)}return this.toNestedArr(t)},weekDays:function(){var t=this.firstDayOfWeek,e=this.WEEK_DAYS;return"number"!=typeof t||0===t?e.slice():e.slice(t).concat(e.slice(0,t))}},render:function(){var t=this,e=arguments[0],i=this.hideHeader?null:e("thead",[this.weekDays.map(function(t){return e("th",{key:t},[t])})]);return e("table",{class:{"el-calendar-table":!0,"is-range":this.isInRange},attrs:{cellspacing:"0",cellpadding:"0"}},[i,e("tbody",[this.rows.map(function(i,a){return e("tr",{class:{"el-calendar-table__row":!0,"el-calendar-table__row--hide-border":0===a&&t.hideHeader},key:a},[i.map(function(i,a){return e("td",{key:a,class:t.getCellClass(i),on:{click:t.pickDay.bind(t,i)}},[e("div",{class:"el-calendar-day"},[t.cellRenderProxy(i)])])})])})])])}},rC=aC,nC=a(rC,void 0,void 0,!1,null,null,null);nC.options.__file="packages/calendar/src/date-table.vue";var oC=nC.exports,sC=["prev-month","today","next-month"],lC=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],hC={name:"ElCalendar",mixins:[X.a],components:{DateTable:oC,ElButton:Mt.a,ElButtonGroup:Ot.a},props:{value:[Date,String,Number],range:{type:Array,validator:function(t){return!Array.isArray(t)||2===t.length&&t.every(function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date})}},firstDayOfWeek:{type:Number,default:1}},provide:function(){return{elCalendar:this}},methods:{pickDay:function(t){this.realSelectedDay=t},selectDate:function(t){if(-1===sC.indexOf(t))throw new Error("invalid type "+t);var e="";(e="prev-month"===t?this.prevMonthDatePrefix+"-01":"next-month"===t?this.nextMonthDatePrefix+"-01":this.formatedToday)!==this.formatedDate&&this.pickDay(e)},toDate:function(t){if(!t)throw new Error("invalid val");return t instanceof Date?t:new Date(t)},rangeValidator:function(t,e){var i=this.realFirstDayOfWeek,a=e?i:0===i?6:i-1,r=(e?"start":"end")+" of range should be "+lC[a]+".";return t.getDay()===a||(console.warn("[ElementCalendar]",r,"Invalid range will be ignored."),!1)}},computed:{prevMonthDatePrefix:function(){var t=new Date(this.date.getTime());return t.setDate(0),iC.a.format(t,"yyyy-MM")},curMonthDatePrefix:function(){return iC.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var t=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return iC.a.format(t,"yyyy-MM")},formatedDate:function(){return iC.a.format(this.date,"yyyy-MM-dd")},i18nDate:function(){var t=this.date.getFullYear(),e=this.date.getMonth()+1;return t+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+e)},formatedToday:function(){return iC.a.format(this.now,"yyyy-MM-dd")},realSelectedDay:{get:function(){return this.value?this.formatedDate:this.selectedDay},set:function(t){this.selectedDay=t;var e=new Date(t);this.$emit("input",e)}},date:function(){if(this.value)return this.toDate(this.value);if(this.realSelectedDay){var t=this.selectedDay.split("-");return new Date(t[0],t[1]-1,t[2])}return this.validatedRange.length?this.validatedRange[0][0]:this.now},validatedRange:function(){var t=this,e=this.range;if(!e)return[];if(e=e.reduce(function(e,i,a){var r=t.toDate(i);return t.rangeValidator(r,0===a)&&(e=e.concat(r)),e},[]),2===e.length){var i=e,a=i[0],r=i[1];if(a>r)return console.warn("[ElementCalendar]end time should be greater than start time"),[];if(Object(hn.validateRangeInOneMonth)(a,r))return[[a,r]];var n=[],o=new Date(a.getFullYear(),a.getMonth()+1,1),s=this.toDate(o.getTime()-864e5);if(!Object(hn.validateRangeInOneMonth)(o,r))return console.warn("[ElementCalendar]start time and end time interval must not exceed two months"),[];n.push([a,s]);var l=this.realFirstDayOfWeek,h=o.getDay(),u=0;return h!==l&&(0===l?u=7-h:(u=l-h,u=u>0?u:7+u)),o=this.toDate(o.getTime()+864e5*u),o.getDate()<r.getDate()&&n.push([o,r]),n}return[]},realFirstDayOfWeek:function(){return this.firstDayOfWeek<1||this.firstDayOfWeek>6?0:Math.floor(this.firstDayOfWeek)}},data:function(){return{selectedDay:"",now:new Date}}},uC=hC,cC=a(uC,Qm,tC,!1,null,null,null);cC.options.__file="packages/calendar/src/main.vue";var dC=cC.exports;dC.install=function(t){t.component(dC.name,dC)};var fC=dC,pC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-fade-in"}},[t.visible?i("div",{staticClass:"el-backtop",style:{right:t.styleRight,bottom:t.styleBottom},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}},[t._t("default",[i("el-icon",{attrs:{name:"caret-top"}})])],2):t._e()])},mC=[];pC._withStripped=!0;var CC=function(t){return Math.pow(t,3)},vC=function(t){return t<.5?CC(2*t)/2:1-CC(2*(1-t))/2},DC={name:"ElBacktop",props:{visibilityHeight:{type:Number,default:200},target:[String],right:{type:Number,default:40},bottom:{type:Number,default:40}},data:function(){return{el:null,container:null,visible:!1}},computed:{styleBottom:function(){return this.bottom+"px"},styleRight:function(){return this.right+"px"}},mounted:function(){this.init(),this.throttledScrollHandler=bd()(300,this.onScroll),this.container.addEventListener("scroll",this.throttledScrollHandler)},methods:{init:function(){if(this.container=document,this.el=document.documentElement,this.target){if(this.el=document.querySelector(this.target),!this.el)throw new Error("target is not existed: "+this.target);this.container=this.el}},onScroll:function(){var t=this.el.scrollTop;this.visible=t>=this.visibilityHeight},handleClick:function(t){this.scrollToTop(),this.$emit("click",t)},scrollToTop:function(){var t=this.el,e=Date.now(),i=t.scrollTop,a=window.requestAnimationFrame||function(t){return setTimeout(t,16)};a(function r(){var n=(Date.now()-e)/500;n<1?(t.scrollTop=i*(1-vC(n)),a(r)):t.scrollTop=0})}},beforeDestroy:function(){this.container.removeEventListener("scroll",this.throttledScrollHandler)}},gC=DC,SC=a(gC,pC,mC,!1,null,null,null);SC.options.__file="packages/backtop/src/main.vue";var xC=SC.exports;xC.install=function(t){t.component(xC.name,xC)};var bC=xC,IC=function(t,e){if(t===window&&(t=document.documentElement),1!==t.nodeType)return[];var i=window.getComputedStyle(t,null);return e?i[e]:i},TC=function(t){return Object.keys(t||{}).map(function(e){return[e,t[e]]})},yC=function(t,e){return t===window||t===document?document.documentElement[e]:t[e]},wC=function(t){return yC(t,"offsetHeight")},EC=function(t){return yC(t,"clientHeight")},FC="ElInfiniteScroll",LC={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},MC=function(t,e){return Object(Lc.isHtmlElement)(t)?TC(LC).reduce(function(i,a){var r=a[0],n=a[1],o=n.type,s=n.default,l=t.getAttribute("infinite-scroll-"+r);switch(l=Object(Lc.isUndefined)(e[l])?l:e[l],o){case Number:l=Number(l),l=Number.isNaN(l)?s:l;break;case Boolean:l=Object(Lc.isDefined)(l)?"false"!==l&&Boolean(l):s;break;default:l=o(l)}return i[r]=l,i},{}):{}},AC=function(t){return t.getBoundingClientRect().top},OC=function(t){var e=this[FC],i=e.el,a=e.vm,r=e.container,n=e.observer,o=MC(i,a),s=o.distance;if(!o.disabled){var l=r.getBoundingClientRect();if(l.width||l.height){var h=!1;if(r===i){var u=r.scrollTop+EC(r);h=r.scrollHeight-u<=s}else h=wC(i)+AC(i)-AC(r)-wC(r)+Number.parseFloat(IC(r,"borderBottomWidth"))<=s;h&&Object(Lc.isFunction)(t)?t.call(a):n&&(n.disconnect(),this[FC].observer=null)}}},NC={name:"InfiniteScroll",inserted:function(t,e,i){var a=e.value,r=i.context,n=Object(oe.getScrollContainer)(t,!0),o=MC(t,r),s=o.delay,l=o.immediate,h=ht()(s,OC.bind(t,a));if(t[FC]={el:t,vm:r,container:n,onScroll:h},n&&(n.addEventListener("scroll",h),l)){(t[FC].observer=new MutationObserver(h)).observe(n,{childList:!0,subtree:!0}),h()}},unbind:function(t){var e=t[FC],i=e.container,a=e.onScroll;i&&i.removeEventListener("scroll",a)}};NC.install=function(t){t.directive(NC.name,NC)};var _C=NC,PC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-page-header"},[i("div",{staticClass:"el-page-header__left",on:{click:function(e){t.$emit("back")}}},[i("i",{staticClass:"el-icon-back"}),i("div",{staticClass:"el-page-header__title"},[t._t("title",[t._v(t._s(t.title))])],2)]),i("div",{staticClass:"el-page-header__content"},[t._t("content",[t._v(t._s(t.content))])],2)])},RC=[];PC._withStripped=!0;var BC={name:"ElPageHeader",props:{title:{type:String,default:function(){return Object(gs.t)("el.pageHeader.title")}},content:String}},kC=BC,VC=a(kC,PC,RC,!1,null,null,null);VC.options.__file="packages/page-header/src/main.vue";var GC=VC.exports;GC.install=function(t){t.component(GC.name,GC)};var HC=GC,YC=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["el-cascader-panel",t.border&&"is-bordered"],on:{keydown:t.handleKeyDown}},t._l(t.menus,function(t,e){return i("cascader-menu",{key:e,ref:"menu",refInFor:!0,attrs:{index:e,nodes:t}})}),1)},XC=[];YC._withStripped=!0;var WC=i(43),UC=i.n(WC),zC=function(t){return t.stopPropagation()},KC={inject:["panel"],components:{ElCheckbox:qa.a,ElRadio:UC.a},props:{node:{required:!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var t=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some(function(e){return t.isInPath(e)})},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var t=this,e=this.panel,i=this.node,a=this.isDisabled,r=this.config,n=r.multiple;!r.checkStrictly&&a||i.loading||(r.lazy&&!i.loaded?e.lazyLoad(i,function(){var e=t.isLeaf;if(e||t.handleExpand(),n){var a=!!e&&i.checked;t.handleMultiCheckChange(a)}}):e.handleExpand(i))},handleCheckChange:function(){var t=this.panel,e=this.value,i=this.node;t.handleCheckChange(e),t.handleExpand(i)},handleMultiCheckChange:function(t){this.node.doCheck(t),this.panel.calculateMultiCheckedValue()},isInPath:function(t){var e=this.node;return(t[e.level-1]||{}).uid===e.uid},renderPrefix:function(t){var e=this.isLeaf,i=this.isChecked,a=this.config,r=a.checkStrictly;return a.multiple?this.renderCheckbox(t):r?this.renderRadio(t):e&&i?this.renderCheckIcon(t):null},renderPostfix:function(t){var e=this.node,i=this.isLeaf;return e.loading?this.renderLoadingIcon(t):i?null:this.renderExpandIcon(t)},renderCheckbox:function(t){var e=this.node,i=this.config,a=this.isDisabled,r={on:{change:this.handleMultiCheckChange},nativeOn:{}};return i.checkStrictly&&(r.nativeOn.click=zC),t("el-checkbox",zu()([{attrs:{value:e.checked,indeterminate:e.indeterminate,disabled:a}},r]))},renderRadio:function(t){var e=this.checkedValue,i=this.value,a=this.isDisabled;return Object(W.isEqual)(i,e)&&(i=e),t("el-radio",{attrs:{value:e,label:i,disabled:a},on:{change:this.handleCheckChange},nativeOn:{click:zC}},[t("span")])},renderCheckIcon:function(t){return t("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(t){return t("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(t){return t("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(t){var e=this.panel,i=this.node,a=e.renderLabelFn;return t("span",{class:"el-cascader-node__label"},[(a?a({node:i,data:i.data}):null)||i.label])}},render:function(t){var e=this,i=this.inActivePath,a=this.inCheckedPath,r=this.isChecked,n=this.isLeaf,o=this.isDisabled,s=this.config,l=this.nodeId,h=s.expandTrigger,u=s.checkStrictly,c=s.multiple,d=!u&&o,f={on:{}};return"click"===h?f.on.click=this.handleExpand:(f.on.mouseenter=function(t){e.handleExpand(),e.$emit("expand",t)},f.on.focus=function(t){e.handleExpand(),e.$emit("expand",t)}),!n||o||u||c||(f.on.click=this.handleCheckChange),t("li",zu()([{attrs:{role:"menuitem",id:l,"aria-expanded":i,tabindex:d?null:-1},class:{"el-cascader-node":!0,"is-selectable":u,"in-active-path":i,"in-checked-path":a,"is-active":r,"is-disabled":d}},f]),[this.renderPrefix(t),this.renderContent(t),this.renderPostfix(t)])}},$C=KC,jC=a($C,void 0,void 0,!1,null,null,null);jC.options.__file="packages/cascader-panel/src/cascader-node.vue";var JC=jC.exports,qC={name:"ElCascaderMenu",mixins:[X.a],inject:["panel"],components:{ElScrollbar:vt.a,CascaderNode:JC},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:Object(W.generateId)()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(t){this.activeNode=t.target},handleMouseMove:function(t){var e=this.activeNode,i=this.hoverTimer,a=this.$refs.hoverZone;if(e&&a)if(e.contains(t.target)){clearTimeout(i);var r=this.$el.getBoundingClientRect(),n=r.left,o=t.clientX-n,s=this.$el,l=s.offsetWidth,h=s.offsetHeight,u=e.offsetTop,c=u+e.offsetHeight;a.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+u+" L"+l+" 0 V"+u+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+c+" L"+l+" "+h+" V"+c+' Z" />\n        '}else i||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold))},clearHoverZone:function(){var t=this.$refs.hoverZone;t&&(t.innerHTML="")},renderEmptyText:function(t){return t("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(t){var e=this.menuId,i=this.panel.isHoverMenu,a={on:{}};return i&&(a.on.expand=this.handleExpand),[].concat(this.nodes.map(function(i,r){var n=i.hasChildren;return t("cascader-node",zu()([{key:i.uid,attrs:{node:i,"node-id":e+"-"+r,"aria-haspopup":n,"aria-owns":n?e:null}},a]))}),[i?t("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(t){var e=this.isEmpty,i=this.menuId,a={nativeOn:{}};return this.panel.isHoverMenu&&(a.nativeOn.mousemove=this.handleMouseMove),t("el-scrollbar",zu()([{attrs:{tag:"ul",role:"menu",id:i,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":e}},class:"el-cascader-menu"},a]),[e?this.renderEmptyText(t):this.renderNodeList(t)])}},ZC=qC,QC=a(ZC,void 0,void 0,!1,null,null,null);QC.options.__file="packages/cascader-panel/src/cascader-menu.vue";var tv=QC.exports,ev=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),iv=0,av=function(){function t(e,i,a){F(this,t),this.data=e,this.config=i,this.parent=a||null,this.level=this.parent?this.parent.level+1:1,this.uid=iv++,this.initState(),this.initChildren()}return t.prototype.initState=function(){var t=this.config,e=t.value,i=t.label;this.value=this.data[e],this.label=this.data[i],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map(function(t){return t.value}),this.pathLabels=this.pathNodes.map(function(t){return t.label}),this.loading=!1,this.loaded=!1},t.prototype.initChildren=function(){var e=this,i=this.config,a=i.children,r=this.data[a];this.hasChildren=Array.isArray(r),this.children=(r||[]).map(function(a){return new t(a,i,e)})},t.prototype.calculatePathNodes=function(){for(var t=[this],e=this.parent;e;)t.unshift(e),e=e.parent;return t},t.prototype.getPath=function(){return this.path},t.prototype.getValue=function(){return this.value},t.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},t.prototype.getText=function(t,e){return t?this.pathLabels.join(e):this.label},t.prototype.isSameNode=function(t){var e=this.getValueByOption();return this.config.multiple&&Array.isArray(t)?t.some(function(t){return Object(W.isEqual)(t,e)}):Object(W.isEqual)(t,e)},t.prototype.broadcast=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];var r="onParent"+Object(W.capitalize)(t);this.children.forEach(function(e){e&&(e.broadcast.apply(e,[t].concat(i)),e[r]&&e[r].apply(e,i))})},t.prototype.emit=function(t){var e=this.parent,i="onChild"+Object(W.capitalize)(t);if(e){for(var a=arguments.length,r=Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];e[i]&&e[i].apply(e,r),e.emit.apply(e,[t].concat(r))}},t.prototype.onParentCheck=function(t){this.isDisabled||this.setCheckState(t)},t.prototype.onChildCheck=function(){var t=this.children,e=t.filter(function(t){return!t.isDisabled}),i=!!e.length&&e.every(function(t){return t.checked});this.setCheckState(i)},t.prototype.setCheckState=function(t){var e=this.children.length,i=this.children.reduce(function(t,e){return t+(e.checked?1:e.indeterminate?.5:0)},0);this.checked=t,this.indeterminate=i!==e&&i>0},t.prototype.syncCheckState=function(t){var e=this.getValueByOption(),i=this.isSameNode(t,e);this.doCheck(i)},t.prototype.doCheck=function(t){this.checked!==t&&(this.config.checkStrictly?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check")))},ev(t,[{key:"isDisabled",get:function(){var t=this.data,e=this.parent,i=this.config,a=i.disabled,r=i.checkStrictly;return t[a]||!r&&e&&e.isDisabled}},{key:"isLeaf",get:function(){var t=this.data,e=this.loaded,i=this.hasChildren,a=this.children,r=this.config,n=r.lazy,o=r.leaf;if(n){var s=Object(We.isDef)(t[o])?t[o]:!!e&&!a.length;return this.hasChildren=!s,s}return!i}}]),t}(),rv=av,nv=function t(e,i){return e.reduce(function(e,a){return a.isLeaf?e.push(a):(!i&&e.push(a),e=e.concat(t(a.children,i))),e},[])},ov=function(){function t(e,i){L(this,t),this.config=i,this.initNodes(e)}return t.prototype.initNodes=function(t){var e=this;t=Object(W.coerceTruthyValueToArray)(t),this.nodes=t.map(function(t){return new rv(t,e.config)}),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},t.prototype.appendNode=function(t,e){var i=new rv(t,this.config,e);(e?e.children:this.nodes).push(i)},t.prototype.appendNodes=function(t,e){var i=this;t=Object(W.coerceTruthyValueToArray)(t),t.forEach(function(t){return i.appendNode(t,e)})},t.prototype.getNodes=function(){return this.nodes},t.prototype.getFlattedNodes=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t?this.leafNodes:this.flattedNodes;return e?i:nv(this.nodes,t)},t.prototype.getNodeByValue=function(t){var e=this.getFlattedNodes(!1,!this.config.lazy).filter(function(e){return Object(W.valueEquals)(e.path,t)||e.value===t});return e&&e.length?e[0]:null},t}(),sv=ov,lv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},hv=nf.a.keys,uv={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:W.noop,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},cv=function(t){return!t.getAttribute("aria-owns")},dv=function(t,e){var i=t.parentNode;if(i){var a=i.querySelectorAll('.el-cascader-node[tabindex="-1"]');return a[Array.prototype.indexOf.call(a,t)+e]||null}return null},fv=function(t,e){if(t){var i=t.id.split("-");return Number(i[i.length-2])}},pv=function(t){t&&(t.focus(),!cv(t)&&t.click())},mv=function(t){if(t){var e=t.querySelector("input");e?e.click():cv(t)&&t.click()}},Cv={name:"ElCascaderPanel",components:{CascaderMenu:tv},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return Xe()(lv({},uv),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{options:{handler:function(){this.initStore()},immediate:!0,deep:!0},value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},checkedValue:function(t){Object(W.isEqual)(t,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",t),this.$emit("change",t))}},mounted:function(){this.isEmptyValue(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var t=this.config,e=this.options;t.lazy&&Object(W.isEmpty)(e)?this.lazyLoad():(this.store=new sv(e,t),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var t=this.value,e=this.checkedValue;Object(W.isEqual)(t,e)||(this.activePath=[],this.checkedValue=t,this.syncMenuState())},syncMenuState:function(){var t=this.multiple,e=this.checkStrictly;this.syncActivePath(),t&&this.syncMultiCheckState(),e&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var t=this;this.getFlattedNodes(this.leafOnly).forEach(function(e){e.syncCheckState(t.checkedValue)})},isEmptyValue:function(t){var e=this.multiple,i=this.config,a=i.emitPath;return!(!e&&!a)&&Object(W.isEmpty)(t)},syncActivePath:function(){var t=this,e=this.store,i=this.multiple,a=this.activePath,r=this.checkedValue;if(Object(W.isEmpty)(a))if(this.isEmptyValue(r))this.activePath=[],this.menus=[e.getNodes()];else{var n=i?r[0]:r,o=this.getNodeByValue(n)||{},s=(o.pathNodes||[]).slice(0,-1);this.expandNodes(s)}else{var l=a.map(function(e){return t.getNodeByValue(e.getValue())});this.expandNodes(l)}},expandNodes:function(t){var e=this;t.forEach(function(t){return e.handleExpand(t,!0)})},calculateCheckedNodePaths:function(){var t=this,e=this.checkedValue,i=this.multiple,a=i?Object(W.coerceTruthyValueToArray)(e):[e];this.checkedNodePaths=a.map(function(e){var i=t.getNodeByValue(e);return i?i.pathNodes:[]})},handleKeyDown:function(t){var e=t.target;switch(t.keyCode){case hv.up:var i=dv(e,-1);pv(i);break;case hv.down:var a=dv(e,1);pv(a);break;case hv.left:var r=this.$refs.menu[fv(e)-1];if(r){var n=r.$el.querySelector('.el-cascader-node[aria-expanded="true"]');pv(n)}break;case hv.right:var o=this.$refs.menu[fv(e)+1];if(o){var s=o.$el.querySelector('.el-cascader-node[tabindex="-1"]');pv(s)}break;case hv.enter:mv(e);break;case hv.esc:case hv.tab:this.$emit("close");break;default:return}},handleExpand:function(t,e){var i=this.activePath,a=t.level,r=i.slice(0,a-1),n=this.menus.slice(0,a);if(t.isLeaf||(r.push(t),n.push(t.children)),this.activePath=r,this.menus=n,!e){var o=r.map(function(t){return t.getValue()}),s=i.map(function(t){return t.getValue()});Object(W.valueEquals)(o,s)||(this.$emit("active-item-change",o),this.$emit("expand-change",o))}},handleCheckChange:function(t){this.checkedValue=t},lazyLoad:function(t,e){var i=this,a=this.config;t||(t=t||{root:!0,level:0},this.store=new sv([],a),this.menus=[this.store.getNodes()]),t.loading=!0;var r=function(a){var r=t.root?null:t;if(a&&a.length&&i.store.appendNodes(a,r),t.loading=!1,t.loaded=!0,Array.isArray(i.checkedValue)){var n=i.checkedValue[i.loadCount++],o=i.config.value,s=i.config.leaf;if(Array.isArray(a)&&a.filter(function(t){return t[o]===n}).length>0){var l=i.store.getNodeByValue(n);l.data[s]||i.lazyLoad(l,function(){i.handleExpand(l)}),i.loadCount===i.checkedValue.length&&i.$parent.computePresentText()}}e&&e(a)};a.lazyLoad(t,r)},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map(function(t){return t.getValueByOption()})},scrollIntoView:function(){if(!this.$isServer){(this.$refs.menu||[]).forEach(function(t){var e=t.$el;if(e){var i=e.querySelector(".el-scrollbar__wrap"),a=e.querySelector(".el-cascader-node.is-active")||e.querySelector(".el-cascader-node.in-active-path");ga()(i,a)}})}},getNodeByValue:function(t){return this.store.getNodeByValue(t)},getFlattedNodes:function(t){var e=!this.config.lazy;return this.store.getFlattedNodes(t,e)},getCheckedNodes:function(t){var e=this.checkedValue;if(this.multiple)return this.getFlattedNodes(t).filter(function(t){return t.checked});return this.isEmptyValue(e)?[]:[this.getNodeByValue(e)]},clearCheckedNodes:function(){var t=this.config,e=this.leafOnly,i=t.multiple,a=t.emitPath;i?(this.getCheckedNodes(e).filter(function(t){return!t.isDisabled}).forEach(function(t){return t.doCheck(!1)}),this.calculateMultiCheckedValue()):this.checkedValue=a?[]:null}}},vv=Cv,Dv=a(vv,YC,XC,!1,null,null,null);Dv.options.__file="packages/cascader-panel/src/cascader-panel.vue";var gv=Dv.exports;gv.install=function(t){t.component(gv.name,gv)};var Sv=gv,xv={name:"ElAvatar",props:{size:{type:[Number,String],validator:function(t){return"string"==typeof t?["large","medium","small"].includes(t):"number"==typeof t}},shape:{type:String,default:"circle",validator:function(t){return["circle","square"].includes(t)}},icon:String,src:String,alt:String,srcSet:String,error:Function,fit:{type:String,default:"cover"}},data:function(){return{isImageExist:!0}},computed:{avatarClass:function(){var t=this.size,e=this.icon,i=this.shape,a=["el-avatar"];return t&&"string"==typeof t&&a.push("el-avatar--"+t),e&&a.push("el-avatar--icon"),i&&a.push("el-avatar--"+i),a.join(" ")}},methods:{handleError:function(){var t=this.error;!1!==(t?t():void 0)&&(this.isImageExist=!1)},renderAvatar:function(){var t=this.$createElement,e=this.icon,i=this.src,a=this.alt,r=this.isImageExist,n=this.srcSet,o=this.fit;return r&&i?t("img",{attrs:{src:i,alt:a,srcSet:n},on:{error:this.handleError},style:{"object-fit":o}}):e?t("i",{class:e}):this.$slots.default}},render:function(){var t=arguments[0],e=this.avatarClass,i=this.size;return t("span",{class:e,style:"number"==typeof i?{height:i+"px",width:i+"px",lineHeight:i+"px"}:{}},[this.renderAvatar()])}},bv=xv,Iv=a(bv,void 0,void 0,!1,null,null,null);Iv.options.__file="packages/avatar/src/main.vue";var Tv=Iv.exports;Tv.install=function(t){t.component(Tv.name,Tv)};var yv=Tv,wv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"el-drawer-fade"},on:{"after-enter":t.afterEnter,"after-leave":t.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-drawer__wrapper",attrs:{tabindex:"-1"}},[i("div",{staticClass:"el-drawer__container",class:t.visible&&"el-drawer__open",attrs:{role:"document",tabindex:"-1"},on:{click:function(e){return e.target!==e.currentTarget?null:t.handleWrapperClick(e)}}},[i("div",{ref:"drawer",staticClass:"el-drawer",class:[t.direction,t.customClass],style:t.isHorizontal?"width: "+t.drawerSize:"height: "+t.drawerSize,attrs:{"aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":t.title,role:"dialog",tabindex:"-1"}},[t.withHeader?i("header",{staticClass:"el-drawer__header",attrs:{id:"el-drawer__title"}},[t._t("title",[i("span",{attrs:{role:"heading",title:t.title}},[t._v(t._s(t.title))])]),t.showClose?i("button",{staticClass:"el-drawer__close-btn",attrs:{"aria-label":"close "+(t.title||"drawer"),type:"button"},on:{click:t.closeDrawer}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):t._e()],2):t._e(),t.rendered?i("section",{staticClass:"el-drawer__body"},[t._t("default")],2):t._e()])])])])},Ev=[];wv._withStripped=!0;var Fv={name:"ElDrawer",mixins:[J.a,tt.a],props:{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},customClass:{type:String,default:""},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1},modal:{type:Boolean,default:!0},direction:{type:String,default:"rtl",validator:function(t){return-1!==["ltr","rtl","ttb","btt"].indexOf(t)}},modalAppendToBody:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},size:{type:[Number,String],default:"30%"},title:{type:String,default:""},visible:{type:Boolean},wrapperClosable:{type:Boolean,default:!0},withHeader:{type:Boolean,default:!0}},computed:{isHorizontal:function(){return"rtl"===this.direction||"ltr"===this.direction},drawerSize:function(){return"number"==typeof this.size?this.size+"px":this.size}},data:function(){return{closed:!1,prevActiveElement:null}},watch:{visible:function(t){var e=this;t?(this.closed=!1,this.$emit("open"),this.appendToBody&&document.body.appendChild(this.$el),this.prevActiveElement=document.activeElement):(this.closed||(this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1)),this.$nextTick(function(){e.prevActiveElement&&e.prevActiveElement.focus()}))}},methods:{afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")},hide:function(t){!1!==t&&(this.$emit("update:visible",!1),this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1),this.closed=!0)},handleWrapperClick:function(){this.wrapperClosable&&this.closeDrawer()},closeDrawer:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},handleClose:function(){this.closeDrawer()}},mounted:function(){this.visible&&(this.rendered=!0,this.open())},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},Lv=Fv,Mv=a(Lv,wv,Ev,!1,null,null,null);Mv.options.__file="packages/drawer/src/main.vue";var Av=Mv.exports;Av.install=function(t){t.component(Av.name,Av)};var Ov=Av,Nv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-popover",t._b({attrs:{trigger:"click"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},"el-popover",t.$attrs,!1),[i("div",{staticClass:"el-popconfirm"},[i("p",{staticClass:"el-popconfirm__main"},[t.hideIcon?t._e():i("i",{staticClass:"el-popconfirm__icon",class:t.icon,style:{color:t.iconColor}}),t._v("\n      "+t._s(t.title)+"\n    ")]),i("div",{staticClass:"el-popconfirm__action"},[i("el-button",{attrs:{size:"mini",type:t.cancelButtonType},on:{click:t.cancel}},[t._v("\n        "+t._s(t.displayCancelButtonText)+"\n      ")]),i("el-button",{attrs:{size:"mini",type:t.confirmButtonType},on:{click:t.confirm}},[t._v("\n        "+t._s(t.displayConfirmButtonText)+"\n      ")])],1)]),t._t("reference",null,{slot:"reference"})],2)},_v=[];Nv._withStripped=!0;var Pv=i(44),Rv=i.n(Pv),Bv={name:"ElPopconfirm",props:{title:{type:String},confirmButtonText:{type:String},cancelButtonText:{type:String},confirmButtonType:{type:String,default:"primary"},cancelButtonType:{type:String,default:"text"},icon:{type:String,default:"el-icon-question"},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1}},components:{ElPopover:Rv.a,ElButton:Mt.a},data:function(){return{visible:!1}},computed:{displayConfirmButtonText:function(){return this.confirmButtonText||Object(gs.t)("el.popconfirm.confirmButtonText")},displayCancelButtonText:function(){return this.cancelButtonText||Object(gs.t)("el.popconfirm.cancelButtonText")}},methods:{confirm:function(){this.visible=!1,this.$emit("confirm")},cancel:function(){this.visible=!1,this.$emit("cancel")}}},kv=Bv,Vv=a(kv,Nv,_v,!1,null,null,null);Vv.options.__file="packages/popconfirm/src/main.vue";var Gv=Vv.exports;Gv.install=function(t){t.component(Gv.name,Gv)};var Hv=Gv,Yv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.uiLoading?[i("div",t._b({class:["el-skeleton",t.animated?"is-animated":""]},"div",t.$attrs,!1),[t._l(t.count,function(e){return[t.loading?t._t("template",t._l(t.rows,function(a){return i("el-skeleton-item",{key:e+"-"+a,class:{"el-skeleton__paragraph":1!==a,"is-first":1===a,"is-last":a===t.rows&&t.rows>1},attrs:{variant:"p"}})})):t._e()]})],2)]:[t._t("default",null,null,t.$attrs)]],2)},Xv=[];Yv._withStripped=!0;var Wv={name:"ElSkeleton",props:{animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:4},loading:{type:Boolean,default:!0},throttle:{type:Number,default:0}},watch:{loading:{handler:function(t){var e=this;if(this.throttle<=0)return void(this.uiLoading=t);t?(clearTimeout(this.timeoutHandle),this.timeoutHandle=setTimeout(function(){e.uiLoading=e.loading},this.throttle)):this.uiLoading=t},immediate:!0}},data:function(){return{uiLoading:this.throttle<=0&&this.loading}}},Uv=Wv,zv=a(Uv,Yv,Xv,!1,null,null,null);zv.options.__file="packages/skeleton/src/index.vue";var Kv=zv.exports;Kv.install=function(t){t.component(Kv.name,Kv)};var $v=Kv,jv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["el-skeleton__item","el-skeleton__"+t.variant]},["image"===t.variant?i("img-placeholder"):t._e()],1)},Jv=[];jv._withStripped=!0;var qv=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M64 896V128h896v768H64z m64-128l192-192 116.352 116.352L640 448l256 307.2V192H128v576z m224-480a96 96 0 1 1-0.064 192.064A96 96 0 0 1 352 288z"}})])},Zv=[];qv._withStripped=!0;var Qv={name:"ImgPlaceholder"},tD=Qv,eD=a(tD,qv,Zv,!1,null,null,null);eD.options.__file="packages/skeleton/src/img-placeholder.vue";var iD,aD=eD.exports,rD={name:"ElSkeletonItem",props:{variant:{type:String,default:"text"}},components:(iD={},iD[aD.name]=aD,iD)},nD=rD,oD=a(nD,jv,Jv,!1,null,null,null);oD.options.__file="packages/skeleton/src/item.vue";var sD=oD.exports;sD.install=function(t){t.component(sD.name,sD)};var lD=sD,hD=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-empty"},[i("div",{staticClass:"el-empty__image",style:t.imageStyle},[t.image?i("img",{attrs:{src:t.image,ondragstart:"return false"}}):t._t("image",[i("img-empty")])],2),i("div",{staticClass:"el-empty__description"},[t.$slots.description?t._t("description"):i("p",[t._v(t._s(t.emptyDescription))])],2),t.$slots.default?i("div",{staticClass:"el-empty__bottom"},[t._t("default")],2):t._e()])},uD=[];hD._withStripped=!0;var cD=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("defs",[i("linearGradient",{attrs:{id:"linearGradient-1-"+t.id,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"}},[i("stop",{attrs:{"stop-color":"#FCFCFD",offset:"0%"}}),i("stop",{attrs:{"stop-color":"#EEEFF3",offset:"100%"}})],1),i("linearGradient",{attrs:{id:"linearGradient-2-"+t.id,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"}},[i("stop",{attrs:{"stop-color":"#FCFCFD",offset:"0%"}}),i("stop",{attrs:{"stop-color":"#E9EBEF",offset:"100%"}})],1),i("rect",{attrs:{id:"path-3-"+t.id,x:"0",y:"0",width:"17",height:"36"}})],1),i("g",{attrs:{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[i("g",{attrs:{id:"B-type",transform:"translate(-1268.000000, -535.000000)"}},[i("g",{attrs:{id:"Group-2",transform:"translate(1268.000000, 535.000000)"}},[i("path",{attrs:{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:"#F7F8FC"}}),i("polygon",{attrs:{id:"Rectangle-Copy-14",fill:"#E5E7E9",transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"}}),i("g",{attrs:{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"}},[i("polygon",{attrs:{id:"Rectangle-Copy-10",fill:"#E5E7E9",transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"}}),i("polygon",{attrs:{id:"Rectangle-Copy-11",fill:"#EDEEF2",points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"}}),i("rect",{attrs:{id:"Rectangle-Copy-12",fill:"url(#linearGradient-1-"+t.id+")",transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"}}),i("polygon",{attrs:{id:"Rectangle-Copy-13",fill:"#F8F9FB",transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"}})]),i("rect",{attrs:{id:"Rectangle-Copy-15",fill:"url(#linearGradient-2-"+t.id+")",x:"13",y:"45",width:"40",height:"36"}}),i("g",{attrs:{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"}},[i("mask",{attrs:{id:"mask-4-"+t.id,fill:"white"}},[i("use",{attrs:{"xlink:href":"#path-3-"+t.id}})]),i("use",{attrs:{id:"Mask",fill:"#E0E3E9",transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":"#path-3-"+t.id}}),i("polygon",{attrs:{id:"Rectangle-Copy",fill:"#D5D7DE",mask:"url(#mask-4-"+t.id+")",transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 -1.70530257e-13 16"}})]),i("polygon",{attrs:{id:"Rectangle-Copy-18",fill:"#F8F9FB",transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"}})])])])])},dD=[];cD._withStripped=!0;var fD=0,pD={name:"ImgEmpty",data:function(){return{id:++fD}}},mD=pD,CD=a(mD,cD,dD,!1,null,null,null);CD.options.__file="packages/empty/src/img-empty.vue";var vD,DD=CD.exports,gD={name:"ElEmpty",components:(vD={},vD[DD.name]=DD,vD),props:{image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}},computed:{emptyDescription:function(){return this.description||Object(gs.t)("el.empty.description")},imageStyle:function(){return{width:this.imageSize?this.imageSize+"px":""}}}},SD=gD,xD=a(SD,hD,uD,!1,null,null,null);xD.options.__file="packages/empty/src/index.vue";var bD=xD.exports;bD.install=function(t){t.component(bD.name,bD)};var ID,TD=bD,yD=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},wD={name:"ElDescriptionsRow",props:{row:{type:Array}},inject:["elDescriptions"],render:function(t){var e=this.elDescriptions,i=(this.row||[]).map(function(t){return yD({},t,{label:t.slots.label||t.props.label},["labelClassName","contentClassName","labelStyle","contentStyle"].reduce(function(i,a){return i[a]=t.props[a]||e[a],i},{}))});return"vertical"===e.direction?t("tbody",[t("tr",{class:"el-descriptions-row"},[i.map(function(i){var a;return t("th",{class:(a={"el-descriptions-item__label":!0,"has-colon":!e.border&&e.colon,"is-bordered-label":e.border},a[i.labelClassName]=!0,a),style:i.labelStyle,attrs:{colSpan:i.props.span}},[i.label])})]),t("tr",{class:"el-descriptions-row"},[i.map(function(e){var i;return t("td",(i={class:"el-descriptions-item__content"},i.class=["el-descriptions-item__content",e.contentClassName],i.style=e.contentStyle,i.attrs={colSpan:e.props.span},i),[e.slots.default])})])]):e.border?t("tbody",[t("tr",{class:"el-descriptions-row"},[i.map(function(i){var a;return[t("th",{class:(a={"el-descriptions-item__label":!0,"is-bordered-label":e.border},a[i.labelClassName]=!0,a),style:i.labelStyle,attrs:{colSpan:"1"}},[i.label]),t("td",{class:["el-descriptions-item__content",i.contentClassName],style:i.contentStyle,attrs:{colSpan:2*i.props.span-1}},[i.slots.default])]})])]):t("tbody",[t("tr",{class:"el-descriptions-row"},[i.map(function(i){var a;return t("td",{class:"el-descriptions-item",attrs:{colSpan:i.props.span}},[t("div",{class:"el-descriptions-item__container"},[t("span",{class:(a={"el-descriptions-item__label":!0,"has-colon":e.colon},a[i.labelClassName]=!0,a),style:i.labelStyle},[i.props.label]),t("span",{class:["el-descriptions-item__content",i.contentClassName],style:i.contentStyle},[i.slots.default])])])})])])}},ED=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},FD={name:"ElDescriptions",components:(ID={},ID[wD.name]=wD,ID),props:{border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,default:"horizontal"},size:{type:String},title:{type:String,default:""},extra:{type:String,default:""},labelStyle:{type:Object},contentStyle:{type:Object},labelClassName:{type:String,default:""},contentClassName:{type:String,default:""},colon:{type:Boolean,default:!0}},computed:{descriptionsSize:function(){return this.size||(this.$ELEMENT||{}).size}},provide:function(){return{elDescriptions:this}},methods:{getOptionProps:function(t){if(t.componentOptions){var e=t.componentOptions,i=e.propsData,a=void 0===i?{}:i,r=e.Ctor,n=void 0===r?{}:r,o=(n.options||{}).props||{},s={};for(var l in o){var h=o[l],u=h.default;void 0!==u&&(s[l]=Object(Lc.isFunction)(u)?u.call(t):u)}return ED({},s,a)}return{}},getSlots:function(t){var e=this,i=t.componentOptions||{},a=t.children||i.children||[],r={};return a.forEach(function(t){if(!e.isEmptyElement(t)){var i=t.data&&t.data.slot||"default";r[i]=r[i]||[],"template"===t.tag?r[i].push(t.children):r[i].push(t)}}),ED({},r)},isEmptyElement:function(t){return!(t.tag||t.text&&""!==t.text.trim())},filledNode:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.props||(t.props={}),e>i&&(t.props.span=i),a&&(t.props.span=i),t},getRows:function(){var t=this,e=(this.$slots.default||[]).filter(function(t){return t.tag&&t.componentOptions&&"ElDescriptionsItem"===t.componentOptions.Ctor.options.name}),i=e.map(function(e){return{props:t.getOptionProps(e),slots:t.getSlots(e),vnode:e}}),a=[],r=[],n=this.column;return i.forEach(function(i,o){var s=i.props.span||1;if(o===e.length-1)return r.push(t.filledNode(i,s,n,!0)),void a.push(r);s<n?(n-=s,r.push(i)):(r.push(t.filledNode(i,s,n)),a.push(r),n=t.column,r=[])}),a}},render:function(){var t=arguments[0],e=this.title,i=this.extra,a=this.border,r=this.descriptionsSize,n=this.$slots,o=this.getRows();return t("div",{class:"el-descriptions"},[e||i||n.title||n.extra?t("div",{class:"el-descriptions__header"},[t("div",{class:"el-descriptions__title"},[n.title?n.title:e]),t("div",{class:"el-descriptions__extra"},[n.extra?n.extra:i])]):null,t("div",{class:"el-descriptions__body"},[t("table",{class:[{"is-bordered":a},r?"el-descriptions--"+r:""]},[o.map(function(e){return t(wD,{attrs:{row:e}})})])])])}};FD.install=function(t){t.component(FD.name,FD)};var LD=FD,MD={name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},contentClassName:{type:String,default:""},contentStyle:{type:Object},labelClassName:{type:String,default:""},labelStyle:{type:Object}},render:function(){return null}};MD.install=function(t){t.component(MD.name,MD)};var AD=MD,OD=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-result"},[i("div",{staticClass:"el-result__icon"},[t._t("icon",[i(t.iconElement,{tag:"component",class:t.iconElement})])],2),t.title||t.$slots.title?i("div",{staticClass:"el-result__title"},[t._t("title",[i("p",[t._v(t._s(t.title))])])],2):t._e(),t.subTitle||t.$slots.subTitle?i("div",{staticClass:"el-result__subtitle"},[t._t("subTitle",[i("p",[t._v(t._s(t.subTitle))])])],2):t._e(),t.$slots.extra?i("div",{staticClass:"el-result__extra"},[t._t("extra")],2):t._e()])},ND=[];OD._withStripped=!0;var _D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M34.5548098,16.4485711 C33.9612228,15.8504763 32.9988282,15.8504763 32.4052412,16.4485711 L32.4052412,16.4485711 L21.413757,27.5805811 L21.413757,27.5805811 L21.4034642,27.590855 C21.0097542,27.9781674 20.3766105,27.9729811 19.9892981,27.5792711 L19.9892981,27.5792711 L15.5947588,23.1121428 C15.0011718,22.514048 14.0387772,22.514048 13.4451902,23.1121428 C12.8516033,23.7102376 12.8516033,24.6799409 13.4451902,25.2780357 L13.4451902,25.2780357 L19.6260786,31.5514289 C20.2196656,32.1495237 21.1820602,32.1495237 21.7756472,31.5514289 L21.7756472,31.5514289 L34.5548098,18.614464 C35.1483967,18.0163692 35.1483967,17.0466659 34.5548098,16.4485711 Z"}})])},PD=[];_D._withStripped=!0;var RD={name:"IconSuccess"},BD=RD,kD=a(BD,_D,PD,!1,null,null,null);kD.options.__file="packages/result/src/icon-success.vue";var VD=kD.exports,GD=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.57818,15.42182 C32.0157534,14.8593933 31.1038797,14.8593933 30.541453,15.42182 L30.541453,15.42182 L24.0006789,21.9625941 L17.458547,15.42182 C16.8961203,14.8593933 15.9842466,14.8593933 15.42182,15.42182 C14.8593933,15.9842466 14.8593933,16.8961203 15.42182,17.458547 L15.42182,17.458547 L21.9639519,23.9993211 L15.42182,30.541453 C14.8593933,31.1038797 14.8593933,32.0157534 15.42182,32.57818 C15.9842466,33.1406067 16.8961203,33.1406067 17.458547,32.57818 L17.458547,32.57818 L24.0006789,26.0360481 L30.541453,32.57818 C31.1038797,33.1406067 32.0157534,33.1406067 32.57818,32.57818 C33.1406067,32.0157534 33.1406067,31.1038797 32.57818,30.541453 L32.57818,30.541453 L26.0374059,23.9993211 L32.57818,17.458547 C33.1406067,16.8961203 33.1406067,15.9842466 32.57818,15.42182 Z"}})])},HD=[];GD._withStripped=!0;var YD={name:"IconError"},XD=YD,WD=a(XD,GD,HD,!1,null,null,null);WD.options.__file="packages/result/src/icon-error.vue";var UD=WD.exports,zD=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M24,31 C22.8954305,31 22,31.8954305 22,33 C22,34.1045695 22.8954305,35 24,35 C25.1045695,35 26,34.1045695 26,33 C26,31.8954305 25.1045695,31 24,31 Z M24,14 C23.1715729,14 22.5,14.6715729 22.5,15.5 L22.5,15.5 L22.5,27.5 C22.5,28.3284271 23.1715729,29 24,29 C24.8284271,29 25.5,28.3284271 25.5,27.5 L25.5,27.5 L25.5,15.5 C25.5,14.6715729 24.8284271,14 24,14 Z"}})])},KD=[];zD._withStripped=!0;var $D={name:"IconWarning"},jD=$D,JD=a(jD,zD,KD,!1,null,null,null);JD.options.__file="packages/result/src/icon-warning.vue";var qD=JD.exports,ZD=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M24,19 L21,19 C20.1715729,19 19.5,19.6715729 19.5,20.5 C19.5,21.3284271 20.1715729,22 21,22 L21,22 L22.5,22 L22.5,31 L21,31 C20.1715729,31 19.5,31.6715729 19.5,32.5 C19.5,33.3284271 20.1715729,34 21,34 L21,34 L27,34 C27.8284271,34 28.5,33.3284271 28.5,32.5 C28.5,31.6715729 27.8284271,31 27,31 L27,31 L25.5,31 L25.5,20.5 C25.5,19.6715729 24.8284271,19 24,19 L24,19 Z M24,13 C22.8954305,13 22,13.8954305 22,15 C22,16.1045695 22.8954305,17 24,17 C25.1045695,17 26,16.1045695 26,15 C26,13.8954305 25.1045695,13 24,13 Z"}})])},QD=[];ZD._withStripped=!0;var tg={name:"IconInfo"},eg=tg,ig=a(eg,ZD,QD,!1,null,null,null);ig.options.__file="packages/result/src/icon-info.vue";var ag,rg=ig.exports,ng={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},og={name:"ElResult",components:(ag={},ag[VD.name]=VD,ag[UD.name]=UD,ag[qD.name]=qD,ag[rg.name]=rg,ag),props:{title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,default:"info"}},computed:{iconElement:function(){var t=this.icon;return t&&ng[t]?ng[t]:"icon-info"}}},sg=og,lg=a(sg,OD,ND,!1,null,null,null);lg.options.__file="packages/result/src/index.vue";var hg=lg.exports;hg.install=function(t){t.component(hg.name,hg)};var ug=hg,cg=[z,nt,Ft,Bt,Wt,qt,ce,Se,Le,Re,je,ai,ui,Di,yi,Oi,Vi,zi,Qi,ya,wa,Na,Ga,Ka,Qr,on,_o,zo,ns,ps,Cs,$s,el,ll,xl,Bl,Wl,jl,bh,Mh,ou,Au,Nu,Ru,sc,pc,xc,Wc,qc,rd,cd,Dd,Ed,Ad,kd,Ud,Zd,pf,fp,wp,Np,Gp,Kp,tm,sm,dm,gm,wm,Nm,Zm,fC,bC,HC,Sv,yv,Ov,Hv,$v,lD,TD,LD,AD,ug,fe.a],dg=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ss.a.use(e.locale),Ss.a.i18n(e.i18n),cg.forEach(function(e){t.component(e.name,e)}),t.use(_C),t.use(Tu.directive),t.prototype.$ELEMENT={size:e.size||"",zIndex:e.zIndex||2e3},t.prototype.$loading=Tu.service,t.prototype.$msgbox=Hs,t.prototype.$alert=Hs.alert,t.prototype.$confirm=Hs.confirm,t.prototype.$prompt=Hs.prompt,t.prototype.$notify=Wh,t.prototype.$message=Bc};"undefined"!=typeof window&&window.Vue&&dg(window.Vue);e.default={version:"2.15.5",locale:Ss.a.use,i18n:Ss.a.i18n,install:dg,CollapseTransition:fe.a,Loading:Tu,Pagination:z,Dialog:nt,Autocomplete:Ft,Dropdown:Bt,DropdownMenu:Wt,DropdownItem:qt,Menu:ce,Submenu:Se,MenuItem:Le,MenuItemGroup:Re,Input:je,InputNumber:ai,Radio:ui,RadioGroup:Di,RadioButton:yi,Checkbox:Oi,CheckboxButton:Vi,CheckboxGroup:zi,Switch:Qi,Select:ya,Option:wa,OptionGroup:Na,Button:Ga,ButtonGroup:Ka,Table:Qr,TableColumn:on,DatePicker:_o,TimeSelect:zo,TimePicker:ns,Popover:ps,Tooltip:Cs,MessageBox:Hs,Breadcrumb:$s,BreadcrumbItem:el,Form:ll,FormItem:xl,Tabs:Bl,TabPane:Wl,Tag:jl,Tree:bh,Alert:Mh,Notification:Wh,Slider:ou,Icon:Au,Row:Nu,Col:Ru,Upload:sc,Progress:pc,Spinner:xc,Message:Bc,Badge:Wc,Card:qc,Rate:rd,Steps:cd,Step:Dd,Carousel:Ed,Scrollbar:Ad,CarouselItem:kd,Collapse:Ud,CollapseItem:Zd,Cascader:pf,ColorPicker:fp,Transfer:wp,Container:Np,Header:Gp,Aside:Kp,Main:tm,Footer:sm,Timeline:dm,TimelineItem:gm,Link:wm,Divider:Nm,Image:Zm,Calendar:fC,Backtop:bC,InfiniteScroll:_C,PageHeader:HC,CascaderPanel:Sv,Avatar:yv,Drawer:Ov,Popconfirm:Hv,Skeleton:$v,SkeletonItem:lD,Empty:TD,Descriptions:LD,DescriptionsItem:AD,Result:ug}}]).default},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.i18n=e.use=e.t=void 0;var r=i(127),n=a(r),o=i(3),s=a(o),l=i(128),h=a(l),u=i(129),c=a(u),d=(0,c.default)(s.default),f=n.default,p=!1,m=function(){var t=Object.getPrototypeOf(this||s.default).$t;if("function"==typeof t&&s.default.locale)return p||(p=!0,s.default.locale(s.default.config.lang,(0,h.default)(f,s.default.locale(s.default.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},C=e.t=function(t,e){var i=m.apply(this,arguments);if(null!==i&&void 0!==i)return i;for(var a=t.split("."),r=f,n=0,o=a.length;n<o;n++){if(i=r[a[n]],n===o-1)return d(i,e);if(!i)return"";r=i}return""},v=e.use=function(t){f=t||f},D=e.i18n=function(t){m=t||m};e.default={use:v,t:C,i18n:D}},function(t,e,i){"use strict";e.__esModule=!0;var a=i(48);e.default={methods:{t:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return a.t.apply(this,e)}}}},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(){if(r.default.prototype.$isServer)return 0;if(void 0!==n)return n;var t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",t.appendChild(i);var a=i.offsetWidth;return t.parentNode.removeChild(t),n=e-a};var a=i(3),r=function(t){return t&&t.__esModule?t:{default:t}}(a),n=void 0},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=73)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},11:function(t,e){t.exports=i(85)},21:function(t,e){t.exports=i(38)},4:function(t,e){t.exports=i(18)},73:function(t,e,i){"use strict";function a(t){var e=window.getComputedStyle(t),i=e.getPropertyValue("box-sizing"),a=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),r=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:f.map(function(t){return t+":"+e.getPropertyValue(t)}).join(";"),paddingSize:a,borderSize:r,boxSizing:i}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c||(c=document.createElement("textarea"),document.body.appendChild(c));var r=a(t),n=r.paddingSize,o=r.borderSize,s=r.boxSizing,l=r.contextStyle;c.setAttribute("style",l+";"+d),c.value=t.value||t.placeholder||"";var h=c.scrollHeight,u={};"border-box"===s?h+=o:"content-box"===s&&(h-=n),c.value="";var f=c.scrollHeight-n;if(null!==e){var p=f*e;"border-box"===s&&(p=p+n+o),h=Math.max(p,h),u.minHeight=p+"px"}if(null!==i){var m=f*i;"border-box"===s&&(m=m+n+o),h=Math.min(m,h)}return u.height=h+"px",c.parentNode&&c.parentNode.removeChild(c),c=null,u}i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?i("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?i("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?i("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?i("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?i("span",{staticClass:"el-input__suffix"},[i("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?i("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?i("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?i("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?i("span",{staticClass:"el-input__count"},[i("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?i("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?i("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:i("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?i("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)},o=[];n._withStripped=!0;var s=i(4),l=i.n(s),h=i(11),u=i.n(h),c=void 0,d="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",f=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],p=i(9),m=i.n(p),C=i(21),v={name:"ElInput",componentName:"ElInput",mixins:[l.a,u.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return m()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick(function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize;if("textarea"===this.type){if(!t)return void(this.textareaCalcStyle={minHeight:r(this.$refs.textarea).minHeight});var e=t.minRows,i=t.maxRows;this.textareaCalcStyle=r(this.$refs.textarea,e,i)}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(t){var e=t.target.value,i=e[e.length-1]||"";this.isComposing=!Object(C.isKorean)(i)},handleCompositionEnd:function(t){this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var i=null,a=0;a<e.length;a++)if(e[a].parentNode===this.$el){i=e[a];break}if(i){var r={suffix:"append",prefix:"prepend"},n=r[t];this.$slots[n]?i.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+n).offsetWidth+"px)":i.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){var t=this;this.passwordVisible=!this.passwordVisible,this.$nextTick(function(){t.focus()})},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},D=v,g=i(0),S=Object(g.a)(D,n,o,!1,null,null,null);S.options.__file="packages/input/src/input.vue";var x=S.exports;x.install=function(t){t.component(x.name,x)};e.default=x},9:function(t,e){t.exports=i(37)}})},function(t,e,i){"use strict";e.__esModule=!0,e.removeResizeListener=e.addResizeListener=void 0;var a=i(133),r=function(t){return t&&t.__esModule?t:{default:t}}(a),n="undefined"==typeof window,o=function(t){for(var e=t,i=Array.isArray(e),a=0,e=i?e:e[Symbol.iterator]();;){var r;if(i){if(a>=e.length)break;r=e[a++]}else{if(a=e.next(),a.done)break;r=a.value}var n=r,o=n.target.__resizeListeners__||[];o.length&&o.forEach(function(t){t()})}};e.addResizeListener=function(t,e){n||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new r.default(o),t.__ro__.observe(t)),t.__resizeListeners__.push(e))},e.removeResizeListener=function(t,e){t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())}},function(t,e){t.exports=function(t,e,i,a){function r(){function r(){o=Number(new Date),i.apply(l,u)}function s(){n=void 0}var l=this,h=Number(new Date)-o,u=arguments;a&&!n&&r(),n&&clearTimeout(n),void 0===a&&h>t?r():!0!==e&&(n=setTimeout(a?s:r,void 0===a?t-h:t))}var n,o=0;return"boolean"!=typeof e&&(a=i,i=e,e=void 0),r}},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=132)}({132:function(t,e,i){"use strict";function a(t){var e=t.move,i=t.size,a=t.bar,r={},n="translate"+a.axis+"("+e+"%)";return r[a.size]=i,r.transform=n,r.msTransform=n,r.webkitTransform=n,r}i.r(e);var r=i(16),n=i(38),o=i.n(n),s=i(3),l=i(2),h={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},u={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return h[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(t){var e=this.size,i=this.move,r=this.bar;return t("div",{class:["el-scrollbar__bar","is-"+r.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:a({size:e,move:i,bar:r})})])},methods:{clickThumbHandler:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(t){var e=Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client]),i=this.$refs.thumb[this.bar.offset]/2,a=100*(e-i)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=a*this.wrap[this.bar.scrollSize]/100},startDrag:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(l.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(l.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var i=-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client]),a=this.$refs.thumb[this.bar.offset]-e,r=100*(i-a)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(l.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(l.off)(document,"mouseup",this.mouseUpDocumentHandler)}},c={name:"ElScrollbar",components:{Bar:u},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(t){var e=o()(),i=this.wrapStyle;if(e){var a="-"+e+"px",r="margin-bottom: "+a+"; margin-right: "+a+";";Array.isArray(this.wrapStyle)?(i=Object(s.toObject)(this.wrapStyle),i.marginRight=i.marginBottom=a):"string"==typeof this.wrapStyle?i+=r:i=r}var n=t(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),l=t("div",{ref:"wrap",style:i,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",e?"":"el-scrollbar__wrap--hidden-default"]},[[n]]),h=void 0;return h=this.native?[t("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:i},[[n]])]:[l,t(u,{attrs:{move:this.moveX,size:this.sizeWidth}}),t(u,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})],t("div",{class:"el-scrollbar"},h)},methods:{handleScroll:function(){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth},update:function(){var t=void 0,e=void 0,i=this.wrap;i&&(t=100*i.clientHeight/i.scrollHeight,e=100*i.clientWidth/i.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(r.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(r.removeResizeListener)(this.$refs.resize,this.update)}};c.install=function(t){t.component(c.name,c)};e.default=c},16:function(t,e){t.exports=i(52)},2:function(t,e){t.exports=i(12)},3:function(t,e){t.exports=i(10)},38:function(t,e){t.exports=i(50)}})},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t){return{methods:{focus:function(){this.$refs[t].focus()}}}}},function(t,e,i){"use strict";function a(t,e){if(!n.default.prototype.$isServer){if(!e)return void(t.scrollTop=0);for(var i=[],a=e.offsetParent;a&&t!==a&&t.contains(a);)i.push(a),a=a.offsetParent;var r=e.offsetTop+i.reduce(function(t,e){return t+e.offsetTop},0),o=r+e.offsetHeight,s=t.scrollTop,l=s+t.clientHeight;r<s?t.scrollTop=r:o>l&&(t.scrollTop=o-t.clientHeight)}}e.__esModule=!0,e.default=a;var r=i(3),n=function(t){return t&&t.__esModule?t:{default:t}}(r)},function(t,e,i){"use strict";e.__esModule=!0;var a=a||{};a.Utils=a.Utils||{},a.Utils.focusFirstDescendant=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];if(a.Utils.attemptFocus(i)||a.Utils.focusFirstDescendant(i))return!0}return!1},a.Utils.focusLastDescendant=function(t){for(var e=t.childNodes.length-1;e>=0;e--){var i=t.childNodes[e];if(a.Utils.attemptFocus(i)||a.Utils.focusLastDescendant(i))return!0}return!1},a.Utils.attemptFocus=function(t){if(!a.Utils.isFocusable(t))return!1;a.Utils.IgnoreUtilFocusChanges=!0;try{t.focus()}catch(t){}return a.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===t},a.Utils.isFocusable=function(t){if(t.tabIndex>0||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!==t.rel;case"INPUT":return"hidden"!==t.type&&"file"!==t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},a.Utils.triggerEvent=function(t,e){var i=void 0;i=/^mouse|click/.test(e)?"MouseEvents":/^key/.test(e)?"KeyboardEvent":"HTMLEvents";for(var a=document.createEvent(i),r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return a.initEvent.apply(a,[e].concat(n)),t.dispatchEvent?t.dispatchEvent(a):t.fireEvent("on"+e,a),t},a.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27},e.default=a.Utils},function(t,e,i){var a=i(11),r=i(4).document,n=a(r)&&a(r.createElement);t.exports=function(t){return n?r.createElement(t):{}}},function(t,e,i){var a=i(11);t.exports=function(t,e){if(!a(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!a(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!a(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!a(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var a=i(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var i=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:i)(t)}},function(t,e,i){var a=i(64)("keys"),r=i(41);t.exports=function(t){return a[t]||(a[t]=r(t))}},function(t,e,i){var a=i(0),r=i(4),n=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:a.version,mode:i(29)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){"use strict";var a=i(29),r=i(2),n=i(93),o=i(15),s=i(31),l=i(160),h=i(32),u=i(161),c=i(5)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,i,p,m,C,v){l(i,e,p);var D,g,S,x=function(t){if(!d&&t in y)return y[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},b=e+" Iterator",I="values"==m,T=!1,y=t.prototype,w=y[c]||y["@@iterator"]||m&&y[m],E=w||x(m),F=m?I?x("entries"):E:void 0,L="Array"==e?y.entries||w:w;if(L&&(S=u(L.call(new t)))!==Object.prototype&&S.next&&(h(S,b,!0),a||"function"==typeof S[c]||o(S,c,f)),I&&w&&"values"!==w.name&&(T=!0,E=function(){return w.call(this)}),a&&!v||!d&&!T&&y[c]||o(y,c,E),s[e]=E,s[b]=f,m)if(D={values:I?E:x("values"),keys:C?E:x("keys"),entries:F},v)for(g in D)g in y||n(y,g,D[g]);else r(r.P+r.F*(d||T),e,D);return D}},function(t,e,i){e.f=i(5)},function(t,e,i){var a=i(41)("meta"),r=i(11),n=i(20),o=i(9).f,s=0,l=Object.isExtensible||function(){return!0},h=!i(19)(function(){return l(Object.preventExtensions({}))}),u=function(t){o(t,a,{value:{i:"O"+ ++s,w:{}}})},c=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!n(t,a)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[a].i},d=function(t,e){if(!n(t,a)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[a].w},f=function(t){return h&&p.NEED&&l(t)&&!n(t,a)&&u(t),t},p=t.exports={KEY:a,NEED:!1,fastKey:c,getWeak:d,onFreeze:f}},function(t,e,i){var a=i(4),r=i(0),n=i(29),o=i(68),s=i(9).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=n?{}:a.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,i){var a=i(15);t.exports=function(t,e,i){for(var r in e)i&&t[r]?t[r]=e[r]:a(t,r,e[r]);return t}},function(t,e){t.exports=function(t,e,i,a){if(!(t instanceof e)||void 0!==a&&a in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var a=i(74),r=i(5)("iterator"),n=i(31);t.exports=i(0).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||n[a(t)]}},function(t,e,i){var a=i(28),r=i(5)("toStringTag"),n="Arguments"==a(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=o(e=Object(t),r))?i:n?a(e):"Object"==(s=a(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){var a=i(11);t.exports=function(t,e){if(!a(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){var a=i(227);"string"==typeof a&&(a=[[t.i,a,""]]);i(45)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,i){"use strict";t.exports.Chart=i(228).default,t.exports.Stock=i(262).default,t.exports.RegressionTest=i(263).default},function(t,e,i){"use strict";function a(t){var e,i;this.promise=new t(function(t,a){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=a}),this.resolve=r(e),this.reject=r(i)}var r=i(25);t.exports.f=function(t){return new a(t)}},function(t,e,i){var a=i(264);"string"==typeof a&&(a=[[t.i,a,""]]);i(45)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,i){var a=i(265);"string"==typeof a&&(a=[[t.i,a,""]]);i(45)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,i){(function(t){function a(t,e){this._id=t,this._clearFn=e}var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;e.setTimeout=function(){return new a(n.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new a(n.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(124),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,i(24))},function(t,e,i){"use strict";var a;!function(r){function n(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")}function o(t,e){for(var i=[],a=0,r=t.length;a<r;a++)i.push(t[a].substr(0,e));return i}function s(t){return function(e,i,a){var r=a[t].indexOf(i.charAt(0).toUpperCase()+i.substr(1).toLowerCase());~r&&(e.month=r)}}function l(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var h={},u=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,c="[^\\s]+",d=/\[([^]*?)\]/gm,f=function(){},p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],C=o(m,3),v=o(p,3);h.i18n={dayNamesShort:v,dayNames:p,monthNamesShort:C,monthNames:m,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}};var D={D:function(t){return t.getDay()},DD:function(t){return l(t.getDay())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDate()},dd:function(t){return l(t.getDate())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return l(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},yy:function(t){return l(String(t.getFullYear()),4).substr(2)},yyyy:function(t){return l(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return l(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return l(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return l(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return l(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return l(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return l(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+l(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},g={d:["\\d\\d?",function(t,e){t.day=e}],Do:["\\d\\d?"+c,function(t,e){t.day=parseInt(e,10)}],M:["\\d\\d?",function(t,e){t.month=e-1}],yy:["\\d\\d?",function(t,e){var i=new Date,a=+(""+i.getFullYear()).substr(0,2);t.year=""+(e>68?a-1:a)+e}],h:["\\d\\d?",function(t,e){t.hour=e}],m:["\\d\\d?",function(t,e){t.minute=e}],s:["\\d\\d?",function(t,e){t.second=e}],yyyy:["\\d{4}",function(t,e){t.year=e}],S:["\\d",function(t,e){t.millisecond=100*e}],SS:["\\d{2}",function(t,e){t.millisecond=10*e}],SSS:["\\d{3}",function(t,e){t.millisecond=e}],D:["\\d\\d?",f],ddd:[c,f],MMM:[c,s("monthNamesShort")],MMMM:[c,s("monthNames")],a:[c,function(t,e,i){var a=e.toLowerCase();a===i.amPm[0]?t.isPm=!1:a===i.amPm[1]&&(t.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(t,e){var i,a=(e+"").match(/([+-]|\d\d)/gi);a&&(i=60*a[1]+parseInt(a[2],10),t.timezoneOffset="+"===a[0]?i:-i)}]};g.dd=g.d,g.dddd=g.ddd,g.DD=g.D,g.mm=g.m,g.hh=g.H=g.HH=g.h,g.MM=g.M,g.ss=g.s,g.A=g.a,h.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},h.format=function(t,e,i){var a=i||h.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");e=h.masks[e]||e||h.masks.default;var r=[];return e=e.replace(d,function(t,e){return r.push(e),"@@@"}),e=e.replace(u,function(e){return e in D?D[e](t,a):e.slice(1,e.length-1)}),e.replace(/@@@/g,function(){return r.shift()})},h.parse=function(t,e,i){var a=i||h.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=h.masks[e]||e,t.length>1e3)return null;var r={},o=[],s=[];e=e.replace(d,function(t,e){return s.push(e),"@@@"});var l=n(e).replace(u,function(t){if(g[t]){var e=g[t];return o.push(e[1]),"("+e[0]+")"}return t});l=l.replace(/@@@/g,function(){return s.shift()});var c=t.match(new RegExp(l,"i"));if(!c)return null;for(var f=1;f<c.length;f++)o[f-1](r,c[f],a);var p=new Date;!0===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:!1===r.isPm&&12==+r.hour&&(r.hour=0);var m;return null!=r.timezoneOffset?(r.minute=+(r.minute||0)-+r.timezoneOffset,m=new Date(Date.UTC(r.year||p.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):m=new Date(r.year||p.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0),m},void 0!==t&&t.exports?t.exports=h:void 0!==(a=function(){return h}.call(e,i,e,t))&&(t.exports=a)}()},function(t,e,i){"use strict";function a(t){return"[object String]"===Object.prototype.toString.call(t)}function r(t){return"[object Object]"===Object.prototype.toString.call(t)}function n(t){return t&&t.nodeType===Node.ELEMENT_NODE}e.__esModule=!0,e.isDefined=e.isUndefined=e.isFunction=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isString=a,e.isObject=r,e.isHtmlElement=n;var s=i(3),l=function(t){return t&&t.__esModule?t:{default:t}}(s),h=function(t){var e={};return t&&"[object Function]"===e.toString.call(t)};"function"==typeof/./||"object"===("undefined"==typeof Int8Array?"undefined":o(Int8Array))||!l.default.prototype.$isServer&&"function"==typeof document.childNodes||(e.isFunction=h=function(t){return"function"==typeof t||!1}),e.isFunction=h;e.isUndefined=function(t){return void 0===t},e.isDefined=function(t){return void 0!==t&&null!==t}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.PopupManager=void 0;var r=i(3),n=a(r),o=i(37),s=a(o),l=i(130),h=a(l),u=i(50),c=a(u),d=i(12),f=1,p=void 0;e.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+f++,h.default.register(this._popupId,this)},beforeDestroy:function(){h.default.deregister(this._popupId),h.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,n.default.nextTick(function(){e.open()}))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0);var i=(0,s.default)({},this.$props||this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var a=Number(i.openDelay);a>0?this._openTimer=setTimeout(function(){e._openTimer=null,e.doOpen(i)},a):this.doOpen(i)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var e=this.$el,i=t.modal,a=t.zIndex;if(a&&(h.default.zIndex=a),i&&(this._closing&&(h.default.closeModal(this._popupId),this._closing=!1),h.default.openModal(this._popupId,h.default.nextZIndex(),this.modalAppendToBody?void 0:e,t.modalClass,t.modalFade),t.lockScroll)){this.withoutHiddenClass=!(0,d.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,d.getStyle)(document.body,"paddingRight"),10)),p=(0,c.default)();var r=document.documentElement.clientHeight<document.body.scrollHeight,n=(0,d.getStyle)(document.body,"overflowY");p>0&&(r||"scroll"===n)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+p+"px"),(0,d.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=h.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){h.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,d.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},e.PopupManager=h.default},function(t,e,i){"use strict";e.__esModule=!0;i(10);e.default={mounted:function(){return},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},function(t,e,i){"use strict";function a(t,e,i){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(i&&i.context&&a.target&&r.target)||t.contains(a.target)||t.contains(r.target)||t===a.target||i.context.popperElm&&(i.context.popperElm.contains(a.target)||i.context.popperElm.contains(r.target))||(e.expression&&t[l].methodName&&i.context[t[l].methodName]?i.context[t[l].methodName]():t[l].bindingFn&&t[l].bindingFn())}}e.__esModule=!0;var r=i(3),n=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(12),s=[],l="@@clickoutsideContext",h=void 0,u=0;!n.default.prototype.$isServer&&(0,o.on)(document,"mousedown",function(t){return h=t}),!n.default.prototype.$isServer&&(0,o.on)(document,"mouseup",function(t){s.forEach(function(e){return e[l].documentHandler(t,h)})}),e.default={bind:function(t,e,i){s.push(t);var r=u++;t[l]={id:r,documentHandler:a(t,e,i),methodName:e.expression,bindingFn:e.value}},update:function(t,e,i){t[l].documentHandler=a(t,e,i),t[l].methodName=e.expression,t[l].bindingFn=e.value},unbind:function(t){for(var e=s.length,i=0;i<e;i++)if(s[i][l].id===t[l].id){s.splice(i,1);break}delete t[l]}}},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=120)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},120:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-checkbox",class:[t.border&&t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}],attrs:{id:t.id}},[i("span",{staticClass:"el-checkbox__input",class:{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus},attrs:{tabindex:!!t.indeterminate&&0,role:!!t.indeterminate&&"checkbox","aria-checked":!!t.indeterminate&&"mixed"}},[i("span",{staticClass:"el-checkbox__inner"}),t.trueLabel||t.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var i=t.model,a=e.target,r=a.checked?t.trueLabel:t.falseLabel;if(Array.isArray(i)){var n=t._i(i,null);a.checked?n<0&&(t.model=i.concat([null])):n>-1&&(t.model=i.slice(0,n).concat(i.slice(n+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,name:t.name},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var i=t.model,a=e.target,r=!!a.checked;if(Array.isArray(i)){var n=t.label,o=t._i(i,n);a.checked?o<0&&(t.model=i.concat([n])):o>-1&&(t.model=i.slice(0,o).concat(i.slice(o+1)))}else t.model=r},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})]),t.$slots.default||t.label?i("span",{staticClass:"el-checkbox__label"},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])},r=[];a._withStripped=!0;var n=i(4),o=i.n(n),s={name:"ElCheckbox",mixins:[o.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):(this.$emit("input",t),this.selfModel=t)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var t=this.$parent;t;){if("ElCheckboxGroup"===t.$options.componentName)return this._checkboxGroup=t,!0;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,i=t.min;return!(!e&&!i)&&this.model.length>=e&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup?this._checkboxGroup.checkboxGroupSize||t:t}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var i=void 0;i=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,t),this.$nextTick(function(){e.isGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}}},l=s,h=i(0),u=Object(h.a)(l,a,r,!1,null,null,null);u.options.__file="packages/checkbox/src/checkbox.vue";var c=u.exports;c.install=function(t){t.component(c.name,c)};e.default=c},4:function(t,e){t.exports=i(18)}})},function(t,e){function i(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}}var a=/^(attrs|props|on|nativeOn|class|style|hook)$/;t.exports=function(t){return t.reduce(function(t,e){var r,n,o,s,l;for(o in e)if(r=t[o],n=e[o],r&&a.test(o))if("class"===o&&("string"==typeof r&&(l=r,t[o]=r={},r[l]=!0),"string"==typeof n&&(l=n,e[o]=n={},n[l]=!0)),"on"===o||"nativeOn"===o||"hook"===o)for(s in n)r[s]=i(r[s],n[s]);else if(Array.isArray(r))t[o]=r.concat(n);else if(Array.isArray(n))t[o]=[r].concat(n);else for(s in n)r[s]=n[s];else t[o]=e[o];return t},{})}},function(t,e){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=130)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},130:function(t,e,i){"use strict";i.r(e);var a={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(t){return-1!==["dark","light","plain"].indexOf(t)}}},methods:{handleClose:function(t){t.stopPropagation(),this.$emit("close",t)},handleClick:function(t){this.$emit("click",t)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(t){var e=this.type,i=this.tagSize,a=this.hit,r=this.effect,n=["el-tag",e?"el-tag--"+e:"",i?"el-tag--"+i:"",r?"el-tag--"+r:"",a&&"is-hit"],o=t("span",{class:n,style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&t("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?o:t("transition",{attrs:{name:"el-zoom-in-center"}},[o])}},r=a,n=i(0),o=Object(n.a)(r,void 0,void 0,!1,null,null,null);o.options.__file="packages/tag/src/tag.vue";var s=o.exports;s.install=function(t){t.component(s.name,s)};e.default=s}})},function(t,e,i){"use strict";e.__esModule=!0;var a=i(151),r=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}},function(t,e,i){t.exports=!i(7)&&!i(19)(function(){return 7!=Object.defineProperty(i(58)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var a=i(20),r=i(21),n=i(155)(!1),o=i(63)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),l=0,h=[];for(i in s)i!=o&&a(s,i)&&h.push(i);for(;e.length>l;)a(s,i=e[l++])&&(~n(h,i)||h.push(i));return h}},function(t,e,i){t.exports=i(15)},function(t,e,i){var a=i(9),r=i(13),n=i(27);t.exports=i(7)?Object.defineProperties:function(t,e){r(t);for(var i,o=n(e),s=o.length,l=0;s>l;)a.f(t,i=o[l++],e[i]);return t}},function(t,e,i){var a=i(4).document;t.exports=a&&a.documentElement},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){var a=i(28);t.exports=Array.isArray||function(t){return"Array"==a(t)}},function(t,e,i){var a=i(92),r=i(65).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,r)}},function(t,e,i){"use strict";function a(t,e,i,a,n,o){!t.required||i.hasOwnProperty(t.field)&&!r.e(e,o||t.type)||a.push(r.d(n.messages.required,t.fullField))}var r=i(1);e.a=a},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=108)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},108:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"el-radio",class:[t.border&&t.radioSize?"el-radio--"+t.radioSize:"",{"is-disabled":t.isDisabled},{"is-focus":t.focus},{"is-bordered":t.border},{"is-checked":t.model===t.label}],attrs:{role:"radio","aria-checked":t.model===t.label,"aria-disabled":t.isDisabled,tabindex:t.tabIndex},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"]))return null;e.stopPropagation(),e.preventDefault(),t.model=t.isDisabled?t.model:t.label}}},[i("span",{staticClass:"el-radio__input",class:{"is-disabled":t.isDisabled,"is-checked":t.model===t.label}},[i("span",{staticClass:"el-radio__inner"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.name,disabled:t.isDisabled,tabindex:"-1"},domProps:{value:t.label,checked:t._q(t.model,t.label)},on:{focus:function(e){t.focus=!0},blur:function(e){t.focus=!1},change:[function(e){t.model=t.label},t.handleChange]}})]),i("span",{staticClass:"el-radio__label",on:{keydown:function(t){t.stopPropagation()}}},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2)])},r=[];a._withStripped=!0;var n=i(4),o=i.n(n),s={name:"ElRadio",mixins:[o.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var t=this.$parent;t;){if("ElRadioGroup"===t.$options.componentName)return this._radioGroup=t,!0;t=t.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(t){this.isGroup?this.dispatch("ElRadioGroup","input",[t]):this.$emit("input",t),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup?this._radioGroup.radioGroupSize||t:t},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var t=this;this.$nextTick(function(){t.$emit("change",t.model),t.isGroup&&t.dispatch("ElRadioGroup","handleChange",t.model)})}}},l=s,h=i(0),u=Object(h.a)(l,a,r,!1,null,null,null);u.options.__file="packages/radio/src/radio.vue";var c=u.exports;c.install=function(t){t.component(c.name,c)};e.default=c},4:function(t,e){t.exports=i(18)}})},function(t,e,i){(function(e){!function(i){function a(){}function r(t,e){return function(){t.apply(e,arguments)}}function n(t){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function o(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,n._immediateFn(function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null===i)return void(1===t._state?s:l)(e.promise,t._value);var a;try{a=i(t._value)}catch(t){return void l(e.promise,t)}s(e.promise,a)})}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof n)return t._state=3,t._value=e,void h(t);if("function"==typeof i)return void c(r(i,e),t)}t._state=1,t._value=e,h(t)}catch(e){l(t,e)}}function l(t,e){t._state=2,t._value=e,h(t)}function h(t){2===t._state&&0===t._deferreds.length&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)o(t,t._deferreds[e]);t._deferreds=null}function u(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function c(t,e){var i=!1;try{t(function(t){i||(i=!0,s(e,t))},function(t){i||(i=!0,l(e,t))})}catch(t){if(i)return;i=!0,l(e,t)}}var d=setTimeout;n.prototype.catch=function(t){return this.then(null,t)},n.prototype.then=function(t,e){var i=new this.constructor(a);return o(this,new u(t,e,i)),i},n.all=function(t){return new n(function(e,i){function a(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(e){a(t,e)},i)}r[t]=o,0==--n&&e(r)}catch(t){i(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var n=r.length,o=0;o<r.length;o++)a(o,r[o])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)})},n.reject=function(t){return new n(function(e,i){i(t)})},n.race=function(t){return new n(function(e,i){for(var a=0,r=t.length;a<r;a++)t[a].then(e,i)})},n._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){d(t,0)},n._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},n._setImmediateFn=function(t){n._immediateFn=t},n._setUnhandledRejectionFn=function(t){n._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=n:i.Promise||(i.Promise=n)}(this)}).call(e,i(81).setImmediate)},function(t,e,i){"use strict";function a(t,e){}function r(t,e){for(var i in e)t[i]=e[i];return t}function n(t){try{return decodeURIComponent(t)}catch(t){}return t}function o(t,e,i){void 0===e&&(e={});var a,r=i||s;try{a=r(t||"")}catch(t){a={}}for(var n in e){var o=e[n];a[n]=Array.isArray(o)?o.map(Kt):Kt(o)}return a}function s(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var i=t.replace(/\+/g," ").split("="),a=n(i.shift()),r=i.length>0?n(i.join("=")):null;void 0===e[a]?e[a]=r:Array.isArray(e[a])?e[a].push(r):e[a]=[e[a],r]}),e):e}function l(t){var e=t?Object.keys(t).map(function(e){var i=t[e];if(void 0===i)return"";if(null===i)return zt(e);if(Array.isArray(i)){var a=[];return i.forEach(function(t){void 0!==t&&(null===t?a.push(zt(e)):a.push(zt(e)+"="+zt(t)))}),a.join("&")}return zt(e)+"="+zt(i)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}function h(t,e,i,a){var r=a&&a.options.stringifyQuery,n=e.query||{};try{n=u(n)}catch(t){}var o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:n,params:e.params||{},fullPath:d(e,r),matched:t?c(t):[]};return i&&(o.redirectedFrom=d(i,r)),Object.freeze(o)}function u(t){if(Array.isArray(t))return t.map(u);if(t&&"object"==typeof t){var e={};for(var i in t)e[i]=u(t[i]);return e}return t}function c(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function d(t,e){var i=t.path,a=t.query;void 0===a&&(a={});var r=t.hash;void 0===r&&(r="");var n=e||l;return(i||"/")+n(a)+r}function f(t,e,i){return e===jt?t===e:!!e&&(t.path&&e.path?t.path.replace($t,"")===e.path.replace($t,"")&&(i||t.hash===e.hash&&p(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(i||t.hash===e.hash&&p(t.query,e.query)&&p(t.params,e.params))))}function p(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var i=Object.keys(t).sort(),a=Object.keys(e).sort();return i.length===a.length&&i.every(function(i,r){var n=t[i];if(a[r]!==i)return!1;var o=e[i];return null==n||null==o?n===o:"object"==typeof n&&"object"==typeof o?p(n,o):String(n)===String(o)})}function m(t,e){return 0===t.path.replace($t,"/").indexOf(e.path.replace($t,"/"))&&(!e.hash||t.hash===e.hash)&&C(t.query,e.query)}function C(t,e){for(var i in e)if(!(i in t))return!1;return!0}function v(t){for(var e=0;e<t.matched.length;e++){var i=t.matched[e];for(var a in i.instances){var r=i.instances[a],n=i.enteredCbs[a];if(r&&n){delete i.enteredCbs[a];for(var o=0;o<n.length;o++)r._isBeingDestroyed||n[o](r)}}}}function D(t,e,i,a){var n=e.props=g(i,a);if(n){n=e.props=r({},n);var o=e.attrs=e.attrs||{};for(var s in n)t.props&&s in t.props||(o[s]=n[s],delete n[s])}}function g(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0}}function S(t,e,i){var a=t.charAt(0);if("/"===a)return t;if("?"===a||"#"===a)return e+t;var r=e.split("/");i&&r[r.length-1]||r.pop();for(var n=t.replace(/^\//,"").split("/"),o=0;o<n.length;o++){var s=n[o];".."===s?r.pop():"."!==s&&r.push(s)}return""!==r[0]&&r.unshift(""),r.join("/")}function x(t){var e="",i="",a=t.indexOf("#");a>=0&&(e=t.slice(a),t=t.slice(0,a));var r=t.indexOf("?");return r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),{path:t,query:i,hash:e}}function b(t){return t.replace(/\/\//g,"/")}function I(t,e){for(var i,a=[],r=0,n=0,o="",s=e&&e.delimiter||"/";null!=(i=ae.exec(t));){var l=i[0],h=i[1],u=i.index;if(o+=t.slice(n,u),n=u+l.length,h)o+=h[1];else{var c=t[n],d=i[2],f=i[3],p=i[4],m=i[5],C=i[6],v=i[7];o&&(a.push(o),o="");var D=null!=d&&null!=c&&c!==d,g="+"===C||"*"===C,S="?"===C||"*"===C,x=i[2]||s,b=p||m;a.push({name:f||r++,prefix:d||"",delimiter:x,optional:S,repeat:g,partial:D,asterisk:!!v,pattern:b?L(b):v?".*":"[^"+F(x)+"]+?"})}}return n<t.length&&(o+=t.substr(n)),o&&a.push(o),a}function T(t,e){return E(I(t,e),e)}function y(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function w(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function E(t,e){for(var i=new Array(t.length),a=0;a<t.length;a++)"object"==typeof t[a]&&(i[a]=new RegExp("^(?:"+t[a].pattern+")$",A(e)));return function(e,a){for(var r="",n=e||{},o=a||{},s=o.pretty?y:encodeURIComponent,l=0;l<t.length;l++){var h=t[l];if("string"!=typeof h){var u,c=n[h.name];if(null==c){if(h.optional){h.partial&&(r+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(qt(c)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(c)+"`");if(0===c.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var d=0;d<c.length;d++){if(u=s(c[d]),!i[l].test(u))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(u)+"`");r+=(0===d?h.prefix:h.delimiter)+u}}else{if(u=h.asterisk?w(c):s(c),!i[l].test(u))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+u+'"');r+=h.prefix+u}}else r+=h}return r}}function F(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function L(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function M(t,e){return t.keys=e,t}function A(t){return t&&t.sensitive?"":"i"}function O(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var a=0;a<i.length;a++)e.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return M(t,e)}function N(t,e,i){for(var a=[],r=0;r<t.length;r++)a.push(R(t[r],e,i).source);return M(new RegExp("(?:"+a.join("|")+")",A(i)),e)}function _(t,e,i){return P(I(t,i),e,i)}function P(t,e,i){qt(e)||(i=e||i,e=[]),i=i||{};for(var a=i.strict,r=!1!==i.end,n="",o=0;o<t.length;o++){var s=t[o];if("string"==typeof s)n+=F(s);else{var l=F(s.prefix),h="(?:"+s.pattern+")";e.push(s),s.repeat&&(h+="(?:"+l+h+")*"),h=s.optional?s.partial?l+"("+h+")?":"(?:"+l+"("+h+"))?":l+"("+h+")",n+=h}}var u=F(i.delimiter||"/"),c=n.slice(-u.length)===u;return a||(n=(c?n.slice(0,-u.length):n)+"(?:"+u+"(?=$))?"),n+=r?"$":a&&c?"":"(?="+u+"|$)",M(new RegExp("^"+n,A(i)),e)}function R(t,e,i){return qt(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?O(t,e):qt(t)?N(t,e,i):_(t,e,i)}function B(t,e,i){e=e||{};try{var a=ne[t]||(ne[t]=Zt.compile(t));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),a(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function k(t,e,i,a){var n="string"==typeof t?{path:t}:t;if(n._normalized)return n;if(n.name){n=r({},t);var s=n.params;return s&&"object"==typeof s&&(n.params=r({},s)),n}if(!n.path&&n.params&&e){n=r({},n),n._normalized=!0;var l=r(r({},e.params),n.params);if(e.name)n.name=e.name,n.params=l;else if(e.matched.length){var h=e.matched[e.matched.length-1].path;n.path=B(h,l,"path "+e.path)}return n}var u=x(n.path||""),c=e&&e.path||"/",d=u.path?S(u.path,c,i||n.append):c,f=o(u.query,n.query,a&&a.options.parseQuery),p=n.hash||u.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:d,query:f,hash:p}}function V(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){if(/\b_blank\b/i.test(t.currentTarget.getAttribute("target")))return}return t.preventDefault&&t.preventDefault(),!0}}function G(t){if(t)for(var e,i=0;i<t.length;i++){if(e=t[i],"a"===e.tag)return e;if(e.children&&(e=G(e.children)))return e}}function H(t){if(!H.installed||re!==t){H.installed=!0,re=t;var e=function(t){return void 0!==t},i=function(t,i){var a=t.$options._parentVnode;e(a)&&e(a=a.data)&&e(a=a.registerRouteInstance)&&a(t,i)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",Jt),t.component("RouterLink",he);var a=t.config.optionMergeStrategies;a.beforeRouteEnter=a.beforeRouteLeave=a.beforeRouteUpdate=a.created}}function Y(t,e,i,a,r){var n=e||[],o=i||Object.create(null),s=a||Object.create(null);t.forEach(function(t){X(n,o,s,t,r)});for(var l=0,h=n.length;l<h;l++)"*"===n[l]&&(n.push(n.splice(l,1)[0]),h--,l--);return{pathList:n,pathMap:o,nameMap:s}}function X(t,e,i,a,r,n){var o=a.path,s=a.name,l=a.pathToRegexpOptions||{},h=U(o,r,l.strict);"boolean"==typeof a.caseSensitive&&(l.sensitive=a.caseSensitive);var u={path:h,regex:W(h,l),components:a.components||{default:a.component},alias:a.alias?"string"==typeof a.alias?[a.alias]:a.alias:[],instances:{},enteredCbs:{},name:s,parent:r,matchAs:n,redirect:a.redirect,beforeEnter:a.beforeEnter,meta:a.meta||{},props:null==a.props?{}:a.components?a.props:{default:a.props}};if(a.children&&a.children.forEach(function(a){var r=n?b(n+"/"+a.path):void 0;X(t,e,i,a,u,r)}),e[u.path]||(t.push(u.path),e[u.path]=u),void 0!==a.alias)for(var c=Array.isArray(a.alias)?a.alias:[a.alias],d=0;d<c.length;++d){var f=c[d],p={path:f,children:a.children};X(t,e,i,p,r,u.path||"/")}s&&(i[s]||(i[s]=u))}function W(t,e){var i=Zt(t,[],e);return i}function U(t,e,i){return i||(t=t.replace(/\/$/,"")),"/"===t[0]?t:null==e?t:b(e.path+"/"+t)}function z(t,e){function i(t){Y(t,c,d,f)}function a(t,e){var i="object"!=typeof t?f[t]:void 0;Y([e||t],c,d,f,i),i&&i.alias.length&&Y(i.alias.map(function(t){return{path:t,children:[e]}}),c,d,f,i)}function r(){return c.map(function(t){return d[t]})}function n(t,i,a){var r=k(t,i,!1,e),n=r.name;if(n){var o=f[n];if(!o)return l(null,r);var s=o.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof r.params&&(r.params={}),i&&"object"==typeof i.params)for(var h in i.params)!(h in r.params)&&s.indexOf(h)>-1&&(r.params[h]=i.params[h]);return r.path=B(o.path,r.params,'named route "'+n+'"'),l(o,r,a)}if(r.path){r.params={};for(var u=0;u<c.length;u++){var p=c[u],m=d[p];if(K(m.regex,r.path,r.params))return l(m,r,a)}}return l(null,r)}function o(t,i){var a=t.redirect,r="function"==typeof a?a(h(t,i,null,e)):a;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return l(null,i);var o=r,s=o.name,u=o.path,c=i.query,d=i.hash,p=i.params;if(c=o.hasOwnProperty("query")?o.query:c,d=o.hasOwnProperty("hash")?o.hash:d,p=o.hasOwnProperty("params")?o.params:p,s){f[s];return n({_normalized:!0,name:s,query:c,hash:d,params:p},void 0,i)}if(u){var m=$(u,t);return n({_normalized:!0,path:B(m,p,'redirect route with path "'+m+'"'),query:c,hash:d},void 0,i)}return l(null,i)}function s(t,e,i){var a=B(i,e.params,'aliased route with path "'+i+'"'),r=n({_normalized:!0,path:a});if(r){var o=r.matched,s=o[o.length-1];return e.params=r.params,l(s,e)}return l(null,e)}function l(t,i,a){return t&&t.redirect?o(t,a||i):t&&t.matchAs?s(t,i,t.matchAs):h(t,i,a,e)}var u=Y(t),c=u.pathList,d=u.pathMap,f=u.nameMap;return{match:n,addRoute:a,getRoutes:r,addRoutes:i}}function K(t,e,i){var a=e.match(t);if(!a)return!1;if(!i)return!0;for(var r=1,o=a.length;r<o;++r){var s=t.keys[r-1];s&&(i[s.name||"pathMatch"]="string"==typeof a[r]?n(a[r]):a[r])}return!0}function $(t,e){return S(t,e.parent?e.parent.path:"/",!0)}function j(){return ce.now().toFixed(3)}function J(){return de}function q(t){return de=t}function Z(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),i=r({},window.history.state);return i.key=J(),window.history.replaceState(i,"",e),window.addEventListener("popstate",et),function(){window.removeEventListener("popstate",et)}}function Q(t,e,i,a){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick(function(){var n=it(),o=r.call(t,e,i,a?n:null);o&&("function"==typeof o.then?o.then(function(t){lt(t,n)}).catch(function(t){}):lt(o,n))})}}function tt(){var t=J();t&&(fe[t]={x:window.pageXOffset,y:window.pageYOffset})}function et(t){tt(),t.state&&t.state.key&&q(t.state.key)}function it(){var t=J();if(t)return fe[t]}function at(t,e){var i=document.documentElement,a=i.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-a.left-e.x,y:r.top-a.top-e.y}}function rt(t){return st(t.x)||st(t.y)}function nt(t){return{x:st(t.x)?t.x:window.pageXOffset,y:st(t.y)?t.y:window.pageYOffset}}function ot(t){return{x:st(t.x)?t.x:0,y:st(t.y)?t.y:0}}function st(t){return"number"==typeof t}function lt(t,e){var i="object"==typeof t;if(i&&"string"==typeof t.selector){var a=pe.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(a){var r=t.offset&&"object"==typeof t.offset?t.offset:{};r=ot(r),e=at(a,r)}else rt(t)&&(e=nt(t))}else i&&rt(t)&&(e=nt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}function ht(t,e){tt();var i=window.history;try{if(e){var a=r({},i.state);a.key=J(),i.replaceState(a,"",t)}else i.pushState({key:q(j())},"",t)}catch(i){window.location[e?"replace":"assign"](t)}}function ut(t){ht(t,!0)}function ct(t,e,i){var a=function(r){r>=t.length?i():t[r]?e(t[r],function(){a(r+1)}):a(r+1)};a(0)}function dt(t,e){return Ct(t,e,Ce.redirected,'Redirected when going from "'+t.fullPath+'" to "'+vt(e)+'" via a navigation guard.')}function ft(t,e){var i=Ct(t,e,Ce.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return i.name="NavigationDuplicated",i}function pt(t,e){return Ct(t,e,Ce.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function mt(t,e){return Ct(t,e,Ce.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Ct(t,e,i,a){var r=new Error(a);return r._isRouter=!0,r.from=t,r.to=e,r.type=i,r}function vt(t){if("string"==typeof t)return t;if("path"in t)return t.path;var e={};return ve.forEach(function(i){i in t&&(e[i]=t[i])}),JSON.stringify(e,null,2)}function Dt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function gt(t,e){return Dt(t)&&t._isRouter&&(null==e||t.type===e)}function St(t){return function(e,i,a){var r=!1,n=0,o=null;xt(t,function(t,e,i,s){if("function"==typeof t&&void 0===t.cid){r=!0,n++;var l,h=Tt(function(e){It(e)&&(e=e.default),t.resolved="function"==typeof e?e:re.extend(e),i.components[s]=e,--n<=0&&a()}),u=Tt(function(t){var e="Failed to resolve async component "+s+": "+t;o||(o=Dt(t)?t:new Error(e),a(o))});try{l=t(h,u)}catch(t){u(t)}if(l)if("function"==typeof l.then)l.then(h,u);else{var c=l.component;c&&"function"==typeof c.then&&c.then(h,u)}}}),r||a()}}function xt(t,e){return bt(t.map(function(t){return Object.keys(t.components).map(function(i){return e(t.components[i],t.instances[i],t,i)})}))}function bt(t){return Array.prototype.concat.apply([],t)}function It(t){return t.__esModule||De&&"Module"===t[Symbol.toStringTag]}function Tt(t){var e=!1;return function(){for(var i=[],a=arguments.length;a--;)i[a]=arguments[a];if(!e)return e=!0,t.apply(this,i)}}function yt(t){if(!t)if(ue){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function wt(t,e){var i,a=Math.max(t.length,e.length);for(i=0;i<a&&t[i]===e[i];i++);return{updated:e.slice(0,i),activated:e.slice(i),deactivated:t.slice(i)}}function Et(t,e,i,a){var r=xt(t,function(t,a,r,n){var o=Ft(t,e);if(o)return Array.isArray(o)?o.map(function(t){return i(t,a,r,n)}):i(o,a,r,n)});return bt(a?r.reverse():r)}function Ft(t,e){return"function"!=typeof t&&(t=re.extend(t)),t.options[e]}function Lt(t){return Et(t,"beforeRouteLeave",At,!0)}function Mt(t){return Et(t,"beforeRouteUpdate",At)}function At(t,e){if(e)return function(){return t.apply(e,arguments)}}function Ot(t){return Et(t,"beforeRouteEnter",function(t,e,i,a){return Nt(t,i,a)})}function Nt(t,e,i){return function(a,r,n){return t(a,r,function(t){"function"==typeof t&&(e.enteredCbs[i]||(e.enteredCbs[i]=[]),e.enteredCbs[i].push(t)),n(t)})}}function _t(t){var e=window.location.pathname,i=e.toLowerCase(),a=t.toLowerCase();return!t||i!==a&&0!==i.indexOf(b(a+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}function Pt(t){var e=_t(t);if(!/^\/#/.test(e))return window.location.replace(b(t+"/#"+e)),!0}function Rt(){var t=Bt();return"/"===t.charAt(0)||(Gt("/"+t),!1)}function Bt(){var t=window.location.href,e=t.indexOf("#");return e<0?"":t=t.slice(e+1)}function kt(t){var e=window.location.href,i=e.indexOf("#");return(i>=0?e.slice(0,i):e)+"#"+t}function Vt(t){me?ht(kt(t)):window.location.hash=t}function Gt(t){me?ut(kt(t)):window.location.replace(kt(t))}function Ht(t,e){return t.push(e),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function Yt(t,e,i){var a="hash"===i?"#"+e:e;return t?b(t+"/"+a):a}var Xt=/[!'()*]/g,Wt=function(t){return"%"+t.charCodeAt(0).toString(16)},Ut=/%2C/g,zt=function(t){return encodeURIComponent(t).replace(Xt,Wt).replace(Ut,",")},Kt=function(t){return null==t||"object"==typeof t?t:String(t)},$t=/\/?$/,jt=h(null,{path:"/"}),Jt={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var i=e.props,a=e.children,n=e.parent,o=e.data;o.routerView=!0;for(var s=n.$createElement,l=i.name,h=n.$route,u=n._routerViewCache||(n._routerViewCache={}),c=0,d=!1;n&&n._routerRoot!==n;){var f=n.$vnode?n.$vnode.data:{};f.routerView&&c++,f.keepAlive&&n._directInactive&&n._inactive&&(d=!0),n=n.$parent}if(o.routerViewDepth=c,d){var p=u[l],m=p&&p.component;return m?(p.configProps&&D(m,o,p.route,p.configProps),s(m,o,a)):s()}var C=h.matched[c],g=C&&C.components[l];if(!C||!g)return u[l]=null,s();u[l]={component:g},o.registerRouteInstance=function(t,e){var i=C.instances[l];(e&&i!==t||!e&&i===t)&&(C.instances[l]=e)},(o.hook||(o.hook={})).prepatch=function(t,e){C.instances[l]=e.componentInstance},o.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==C.instances[l]&&(C.instances[l]=t.componentInstance),v(h)};var S=C.props&&C.props[l];return S&&(r(u[l],{route:h,configProps:S}),D(g,o,h,S)),s(g,o,a)}},qt=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},Zt=R,Qt=I,te=T,ee=E,ie=P,ae=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");Zt.parse=Qt,Zt.compile=te,Zt.tokensToFunction=ee,Zt.tokensToRegExp=ie;var re,ne=Object.create(null),oe=[String,Object],se=[String,Array],le=function(){},he={name:"RouterLink",props:{to:{type:oe,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:se,default:"click"}},render:function(t){var e=this,i=this.$router,a=this.$route,n=i.resolve(this.to,a,this.append),o=n.location,s=n.route,l=n.href,u={},c=i.options.linkActiveClass,d=i.options.linkExactActiveClass,p=null==c?"router-link-active":c,C=null==d?"router-link-exact-active":d,v=null==this.activeClass?p:this.activeClass,D=null==this.exactActiveClass?C:this.exactActiveClass,g=s.redirectedFrom?h(null,k(s.redirectedFrom),null,i):s;u[D]=f(a,g,this.exactPath),u[v]=this.exact||this.exactPath?u[D]:m(a,g);var S=u[D]?this.ariaCurrentValue:null,x=function(t){V(t)&&(e.replace?i.replace(o,le):i.push(o,le))},b={click:V};Array.isArray(this.event)?this.event.forEach(function(t){b[t]=x}):b[this.event]=x;var I={class:u},T=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:s,navigate:x,isActive:u[v],isExactActive:u[D]});if(T){if(1===T.length)return T[0];if(T.length>1||!T.length)return 0===T.length?t():t("span",{},T)}if("a"===this.tag)I.on=b,I.attrs={href:l,"aria-current":S};else{var y=G(this.$slots.default);if(y){y.isStatic=!1;var w=y.data=r({},y.data);w.on=w.on||{};for(var E in w.on){var F=w.on[E];E in b&&(w.on[E]=Array.isArray(F)?F:[F])}for(var L in b)L in w.on?w.on[L].push(b[L]):w.on[L]=x;var M=y.data.attrs=r({},y.data.attrs);M.href=l,M["aria-current"]=S}else I.on=b}return t(this.tag,I,this.$slots.default)}},ue="undefined"!=typeof window,ce=ue&&window.performance&&window.performance.now?window.performance:Date,de=j(),fe=Object.create(null),pe=/^#\d/,me=ue&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"==typeof window.history.pushState)}(),Ce={redirected:2,aborted:4,cancelled:8,duplicated:16},ve=["params","query","hash"],De="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,ge=function(t,e){this.router=t,this.base=yt(e),this.current=jt,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};ge.prototype.listen=function(t){this.cb=t},ge.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},ge.prototype.onError=function(t){this.errorCbs.push(t)},ge.prototype.transitionTo=function(t,e,i){var a,r=this;try{a=this.router.match(t,this.current)}catch(t){throw this.errorCbs.forEach(function(e){e(t)}),t}var n=this.current;this.confirmTransition(a,function(){r.updateRoute(a),e&&e(a),r.ensureURL(),r.router.afterHooks.forEach(function(t){t&&t(a,n)}),r.ready||(r.ready=!0,r.readyCbs.forEach(function(t){t(a)}))},function(t){i&&i(t),t&&!r.ready&&(gt(t,Ce.redirected)&&n===jt||(r.ready=!0,r.readyErrorCbs.forEach(function(e){e(t)})))})},ge.prototype.confirmTransition=function(t,e,i){var r=this,n=this.current;this.pending=t;var o=function(t){!gt(t)&&Dt(t)&&(r.errorCbs.length?r.errorCbs.forEach(function(e){e(t)}):(a(!1,"uncaught error during route navigation:"),console.error(t))),i&&i(t)},s=t.matched.length-1,l=n.matched.length-1;if(f(t,n)&&s===l&&t.matched[s]===n.matched[l])return this.ensureURL(),o(ft(n,t));var h=wt(this.current.matched,t.matched),u=h.updated,c=h.deactivated,d=h.activated,p=[].concat(Lt(c),this.router.beforeHooks,Mt(u),d.map(function(t){return t.beforeEnter}),St(d)),m=function(e,i){if(r.pending!==t)return o(pt(n,t));try{e(t,n,function(e){!1===e?(r.ensureURL(!0),o(mt(n,t))):Dt(e)?(r.ensureURL(!0),o(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(o(dt(n,t)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):i(e)})}catch(t){o(t)}};ct(p,m,function(){ct(Ot(d).concat(r.router.resolveHooks),m,function(){if(r.pending!==t)return o(pt(n,t));r.pending=null,e(t),r.router.app&&r.router.app.$nextTick(function(){v(t)})})})},ge.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},ge.prototype.setupListeners=function(){},ge.prototype.teardown=function(){this.listeners.forEach(function(t){t()}),this.listeners=[],this.current=jt,this.pending=null};var Se=function(t){function e(e,i){t.call(this,e,i),this._startLocation=_t(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,i=e.options.scrollBehavior,a=me&&i;a&&this.listeners.push(Z());var r=function(){var i=t.current,r=_t(t.base);t.current===jt&&r===t._startLocation||t.transitionTo(r,function(t){a&&Q(e,t,i,!0)})};window.addEventListener("popstate",r),this.listeners.push(function(){window.removeEventListener("popstate",r)})}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,i){var a=this,r=this,n=r.current;this.transitionTo(t,function(t){ht(b(a.base+t.fullPath)),Q(a.router,t,n,!1),e&&e(t)},i)},e.prototype.replace=function(t,e,i){var a=this,r=this,n=r.current;this.transitionTo(t,function(t){ut(b(a.base+t.fullPath)),Q(a.router,t,n,!1),e&&e(t)},i)},e.prototype.ensureURL=function(t){if(_t(this.base)!==this.current.fullPath){var e=b(this.base+this.current.fullPath);t?ht(e):ut(e)}},e.prototype.getCurrentLocation=function(){return _t(this.base)},e}(ge),xe=function(t){function e(e,i,a){t.call(this,e,i),a&&Pt(this.base)||Rt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,i=e.options.scrollBehavior,a=me&&i;a&&this.listeners.push(Z());var r=function(){var e=t.current;Rt()&&t.transitionTo(Bt(),function(i){a&&Q(t.router,i,e,!0),me||Gt(i.fullPath)})},n=me?"popstate":"hashchange";window.addEventListener(n,r),this.listeners.push(function(){window.removeEventListener(n,r)})}},e.prototype.push=function(t,e,i){var a=this,r=this,n=r.current;this.transitionTo(t,function(t){Vt(t.fullPath),Q(a.router,t,n,!1),e&&e(t)},i)},e.prototype.replace=function(t,e,i){var a=this,r=this,n=r.current;this.transitionTo(t,function(t){Gt(t.fullPath),Q(a.router,t,n,!1),e&&e(t)},i)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Bt()!==e&&(t?Vt(e):Gt(e))},e.prototype.getCurrentLocation=function(){return Bt()},e}(ge),be=function(t){function e(e,i){t.call(this,e,i),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,i){var a=this;this.transitionTo(t,function(t){a.stack=a.stack.slice(0,a.index+1).concat(t),a.index++,e&&e(t)},i)},e.prototype.replace=function(t,e,i){var a=this;this.transitionTo(t,function(t){a.stack=a.stack.slice(0,a.index).concat(t),e&&e(t)},i)},e.prototype.go=function(t){var e=this,i=this.index+t;if(!(i<0||i>=this.stack.length)){var a=this.stack[i];this.confirmTransition(a,function(){var t=e.current;e.index=i,e.updateRoute(a),e.router.afterHooks.forEach(function(e){e&&e(a,t)})},function(t){gt(t,Ce.duplicated)&&(e.index=i)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(ge),Ie=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=z(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!me&&!1!==t.fallback,this.fallback&&(e="hash"),ue||(e="abstract"),this.mode=e,e){case"history":this.history=new Se(this,t.base);break;case"hash":this.history=new xe(this,t.base,this.fallback);break;case"abstract":this.history=new be(this,t.base)}},Te={currentRoute:{configurable:!0}};Ie.prototype.match=function(t,e,i){return this.matcher.match(t,e,i)},Te.currentRoute.get=function(){return this.history&&this.history.current},Ie.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",function(){var i=e.apps.indexOf(t);i>-1&&e.apps.splice(i,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()}),!this.app){this.app=t;var i=this.history;if(i instanceof Se||i instanceof xe){var a=function(t){var a=i.current,r=e.options.scrollBehavior;me&&r&&"fullPath"in t&&Q(e,t,a,!1)},r=function(t){i.setupListeners(),a(t)};i.transitionTo(i.getCurrentLocation(),r,r)}i.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},Ie.prototype.beforeEach=function(t){return Ht(this.beforeHooks,t)},Ie.prototype.beforeResolve=function(t){return Ht(this.resolveHooks,t)},Ie.prototype.afterEach=function(t){return Ht(this.afterHooks,t)},Ie.prototype.onReady=function(t,e){this.history.onReady(t,e)},Ie.prototype.onError=function(t){this.history.onError(t)},Ie.prototype.push=function(t,e,i){var a=this;if(!e&&!i&&"undefined"!=typeof Promise)return new Promise(function(e,i){a.history.push(t,e,i)});this.history.push(t,e,i)},Ie.prototype.replace=function(t,e,i){var a=this;if(!e&&!i&&"undefined"!=typeof Promise)return new Promise(function(e,i){a.history.replace(t,e,i)});this.history.replace(t,e,i)},Ie.prototype.go=function(t){this.history.go(t)},Ie.prototype.back=function(){this.go(-1)},Ie.prototype.forward=function(){this.go(1)},Ie.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},Ie.prototype.resolve=function(t,e,i){e=e||this.history.current;var a=k(t,e,i,this),r=this.match(a,e),n=r.redirectedFrom||r.fullPath;return{location:a,route:r,href:Yt(this.history.base,n,this.mode),normalizedTo:a,resolved:r}},Ie.prototype.getRoutes=function(){return this.matcher.getRoutes()},Ie.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==jt&&this.history.transitionTo(this.history.getCurrentLocation())},Ie.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==jt&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ie.prototype,Te),Ie.install=H,Ie.version="3.5.2",Ie.isNavigationFailure=gt,Ie.NavigationFailureType=Ce,Ie.START_LOCATION=jt,ue&&window.Vue&&window.Vue.use(Ie),e.a=Ie},function(t,e,i){var a=i(197);"string"==typeof a&&(a=[[t.i,a,""]]);i(45)(a,{});a.locals&&(t.exports=a.locals)},function(t,e,i){"use strict";e.__esModule=!0,e.default={el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:""},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},empty:{description:"No Data"}}}},function(t,e,i){"use strict";var a=i(9).f,r=i(43),n=i(71),o=i(14),s=i(72),l=i(35),h=i(67),u=i(96),c=i(108),d=i(7),f=i(69).fastKey,p=i(75),m=d?"_s":"size",C=function(t,e){var i,a=f(e);if("F"!==a)return t._i[a];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,h){var u=t(function(t,a){s(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=a&&l(a,i,t[h],t)});return n(u.prototype,{clear:function(){for(var t=p(this,e),i=t._i,a=t._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete i[a.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var i=p(this,e),a=C(i,t);if(a){var r=a.n,n=a.p;delete i._i[a.i],a.r=!0,n&&(n.n=r),r&&(r.p=n),i._f==a&&(i._f=r),i._l==a&&(i._l=n),i[m]--}return!!a},forEach:function(t){p(this,e);for(var i,a=o(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(a(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!C(p(this,e),t)}}),d&&a(u.prototype,"size",{get:function(){return p(this,e)[m]}}),u},def:function(t,e,i){var a,r,n=C(t,e);return n?n.v=i:(t._l=n={i:r=f(e,!0),k:e,v:i,p:a=t._l,n:void 0,r:!1},t._f||(t._f=n),a&&(a.n=n),t[m]++,"F"!==r&&(t._i[r]=n)),t},getEntry:C,setStrong:function(t,e,i){h(t,e,function(t,i){this._t=p(t,e),this._k=i,this._l=void 0},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?"keys"==e?u(0,i.k):"values"==e?u(0,i.v):u(0,[i.k,i.v]):(t._t=void 0,u(1))},i?"entries":"values",!i,!0),c(e)}}},function(t,e,i){var a=i(13);t.exports=function(t,e,i,r){try{return r?e(a(i)[0],i[1]):e(i)}catch(e){var n=t.return;throw void 0!==n&&a(n.call(t)),e}}},function(t,e,i){var a=i(31),r=i(5)("iterator"),n=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||n[r]===t)}},function(t,e,i){"use strict";var a=i(4),r=i(0),n=i(9),o=i(7),s=i(5)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:a[t];o&&e&&!e[s]&&n.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,i){"use strict";var a=i(4),r=i(2),n=i(69),o=i(19),s=i(15),l=i(71),h=i(35),u=i(72),c=i(11),d=i(32),f=i(9).f,p=i(216)(0),m=i(7);t.exports=function(t,e,i,C,v,D){var g=a[t],S=g,x=v?"set":"add",b=S&&S.prototype,I={};return m&&"function"==typeof S&&(D||b.forEach&&!o(function(){(new S).entries().next()}))?(S=e(function(e,i){u(e,S,t,"_c"),e._c=new g,void 0!=i&&h(i,v,e[x],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in b&&(!D||"clear"!=t)&&s(S.prototype,t,function(i,a){if(u(this,S,t),!e&&D&&!c(i))return"get"==t&&void 0;var r=this._c[t](0===i?0:i,a);return e?this:r})}),D||f(S.prototype,"size",{get:function(){return this._c.size}})):(S=C.getConstructor(e,t,v,x),l(S.prototype,i),n.NEED=!0),d(S,t),I[t]=S,r(r.G+r.W+r.F,I),D||C.setStrong(S,t,v),S}},function(t,e,i){var a=i(74),r=i(220);t.exports=function(t){return function(){if(a(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,i){"use strict";var a=i(2);t.exports=function(t){a(a.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){"use strict";var a=i(2),r=i(25),n=i(14),o=i(35);t.exports=function(t){a(a.S,t,{from:function(t){var e,i,a,s,l=arguments[1];return r(this),e=void 0!==l,e&&r(l),void 0==t?new this:(i=[],e?(a=0,s=n(l,arguments[2],2),o(t,!1,function(t){i.push(s(t,a++))})):o(t,!1,i.push,i),new this(i))}})}},function(t,e,i){"use strict";function a(t){return t<10?"0"+t.toString():t.toString()}function r(t,e){var i=parseInt(t/1e4),r=parseInt(t/100)%100,n=t%100;switch(e){case"MM-DD":return a(r)+"-"+a(n);default:return i.toString()+"-"+a(r)+"-"+a(n)}}var n=i(223),o=(i.n(n),function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?decodeURI(i[2]):null}),s=function(t,e,i){var a;a=t?new Date(t):new Date;switch(i){case"d":a.setDate(a.getDate()+e);break;case"m":a.setMonth(a.getMonth()+e);break;case"y":a.setFullYear(a.getFullYear()+e)}return(1e4*a.getFullYear()+100*(a.getMonth()+1)+a.getDate()).toString()},l=function(){var t=new Date;return(1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()).toString()},h=function(t,e){if(!e)return t;e=Math.floor(e),this.symbol="",t=t.indexOf("-")>-1?t.replace(/-/g,"/"):t.indexOf(".")>-1?t.replace(/\./g,"/"):t.substring(0,4)+"/"+t.substring(4,6)+"/"+t.substring(6,8);var i=new Date(t),a=new Date(Number(i)+864e5*e),r=a.getFullYear(),n=a.getMonth()+1,o=a.getDate();return r+this.symbol+(n<10?"0"+n:n)+this.symbol+(o<10?"0"+o:o)},u={getURLParams:o,startDate:s,endTime:l,FormatDateString:r,date_getPointDate:h};e.a=u},function(t,e,i){var a=i(13),r=i(25),n=i(5)("species");t.exports=function(t,e){var i,o=a(t).constructor;return void 0===o||void 0==(i=a(o)[n])?e:r(i)}},function(t,e,i){var a,r,n,o=i(14),s=i(232),l=i(95),h=i(58),u=i(4),c=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,C=0,v={},D=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},g=function(t){D.call(t.data)};d&&f||(d=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++C]=function(){s("function"==typeof t?t:Function(t),e)},a(C),C},f=function(t){delete v[t]},"process"==i(28)(c)?a=function(t){c.nextTick(o(D,t,1))}:m&&m.now?a=function(t){m.now(o(D,t,1))}:p?(r=new p,n=r.port2,r.port1.onmessage=g,a=o(n.postMessage,n,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(a=function(t){u.postMessage(t+"","*")},u.addEventListener("message",g,!1)):a="onreadystatechange"in h("script")?function(t){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),D.call(t)}}:function(t){setTimeout(o(D,t,1),0)}),t.exports={set:d,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var a=i(13),r=i(11),n=i(78);t.exports=function(t,e){if(a(t),r(e)&&e.constructor===t)return e;var i=n.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){var a=i(5)("iterator"),r=!1;try{var n=[7][a]();n.return=function(){r=!0},Array.from(n,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var n=[7],o=n[a]();o.next=function(){return{done:i=!0}},n[a]=function(){return o},t(n)}catch(t){}return i}},function(t,e,i){"use strict";e.__esModule=!0;var a=i(250),r=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=function(t,e,i){return e in t?(0,r.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e,i){t.exports={default:i(253),__esModule:!0}},function(t,e,i){t.exports={default:i(260),__esModule:!0}},function(t,e,i){"use strict";function a(){}Object.defineProperty(e,"__esModule",{value:!0});var r={stock:[{time:150002,date:20230829,price:7.07,open:7.2,yclose:7.15,high:7.5,low:7.03,vol:50437460,amount:357554848,symbol:"600000.sh",name:"浦发银行"}],start:0,end:100,count:1,ticket:0,version:"HQ.Stock 2.0",message:null,code:0,servertime:"2023-08-29 15:03:34"},n={code:0,data:[[20230829,7.09,7.07,7.09,7.07,7.08,1512692,8873760,1500]],ver:2,symbol:"xxx",name:"xxxx"},o={symbol:"600000.sh",name:"xxxxxxx",data:[{minute:[[925,7.21,7.21,7.21,7.21,42500,306425,7.21,20230707],[930,7.21,7.21,7.21,7.21,42500,306425,7.21,20230707],[931,7.19,7.19,7.19,7.19,269400,1939823,7.202,20230707],[932,7.2,7.2,7.2,7.2,231900,1672034,7.205,20230707],[933,7.21,7.21,7.21,7.21,144300,1041820,7.208,20230707],[934,7.22,7.22,7.22,7.22,87300,630341,7.21,20230707],[935,7.22,7.22,7.22,7.22,49600,358287,7.211,20230707],[936,7.2,7.2,7.2,7.2,106700,769942,7.211,20230707],[937,7.2,7.2,7.2,7.2,38400,276864,7.211,20230707],[938,7.2,7.2,7.2,7.2,31e3,223473,7.211,20230707],[939,7.2,7.2,7.2,7.2,38500,277594,7.211,20230707],[940,7.21,7.21,7.21,7.21,17400,125526,7.211,20230707],[941,7.21,7.21,7.21,7.21,20400,147115,7.211,20230707],[942,7.21,7.21,7.21,7.21,29300,211273,7.211,20230707],[943,7.21,7.21,7.21,7.21,154e3,1111381,7.212,20230707],[944,7.21,7.21,7.21,7.21,33300,240129,7.212,20230707],[945,7.21,7.21,7.21,7.21,198400,1432724,7.213,20230707],[946,7.22,7.22,7.22,7.22,56200,405804,7.213,20230707],[947,7.22,7.22,7.22,7.22,187400,1353030,7.214,20230707],[948,7.21,7.21,7.21,7.21,35900,258878,7.214,20230707],[949,7.21,7.21,7.21,7.21,38e3,274313,7.214,20230707],[950,7.21,7.21,7.21,7.21,15500,111781,7.214,20230707],[951,7.2,7.2,7.2,7.2,264900,1909460,7.213,20230707],[952,7.21,7.21,7.21,7.21,372800,2690957,7.214,20230707],[953,7.22,7.22,7.22,7.22,83100,599982,7.214,20230707],[954,7.22,7.22,7.22,7.22,18600,134301,7.214,20230707],[955,7.22,7.22,7.22,7.22,11900,85968,7.214,20230707],[956,7.22,7.22,7.22,7.22,43900,317337,7.215,20230707],[957,7.22,7.22,7.22,7.22,19300,139534,7.215,20230707],[958,7.22,7.22,7.22,7.22,11900,86027,7.215,20230707],[959,7.22,7.22,7.22,7.22,25800,186293,7.215,20230707],[1e3,7.22,7.22,7.22,7.22,77800,561725,7.215,20230707],[1001,7.22,7.22,7.22,7.22,53400,385801,7.215,20230707],[1002,7.22,7.22,7.22,7.22,65e3,469650,7.215,20230707],[1003,7.22,7.22,7.22,7.22,945700,6843184,7.221,20230707],[1004,7.23,7.23,7.23,7.23,130900,947953,7.221,20230707],[1005,7.23,7.23,7.23,7.23,118800,859986,7.222,20230707],[1006,7.24,7.24,7.24,7.24,14200,102846,7.222,20230707],[1007,7.23,7.23,7.23,7.23,173300,1253355,7.222,20230707],[1008,7.23,7.23,7.23,7.23,42200,305229,7.222,20230707],[1009,7.23,7.23,7.23,7.23,3100,22413,7.222,20230707],[1010,7.23,7.23,7.23,7.23,30900,223680,7.222,20230707],[1011,7.23,7.23,7.23,7.23,11500,83220,7.222,20230707],[1012,7.23,7.23,7.23,7.23,11400,82498,7.223,20230707],[1013,7.23,7.23,7.23,7.23,10300,74525,7.223,20230707],[1014,7.23,7.23,7.23,7.23,12200,88303,7.223,20230707],[1015,7.23,7.23,7.23,7.23,12900,93374,7.223,20230707],[1016,7.23,7.23,7.23,7.23,8800,63667,7.223,20230707],[1017,7.23,7.23,7.23,7.23,26800,193995,7.223,20230707],[1018,7.23,7.23,7.23,7.23,10200,73817,7.223,20230707],[1019,7.23,7.23,7.23,7.23,8900,64429,7.223,20230707],[1020,7.23,7.23,7.23,7.23,30600,221404,7.223,20230707],[1021,7.23,7.23,7.23,7.23,17e3,122956,7.223,20230707],[1022,7.23,7.23,7.23,7.23,8600,62247,7.223,20230707],[1023,7.23,7.23,7.23,7.23,18100,130921,7.223,20230707],[1024,7.23,7.23,7.23,7.23,50800,367521,7.223,20230707],[1025,7.23,7.23,7.23,7.23,57800,417975,7.223,20230707],[1026,7.23,7.23,7.23,7.23,44e3,318132,7.223,20230707],[1027,7.22,7.22,7.22,7.22,54600,394343,7.223,20230707],[1028,7.22,7.22,7.22,7.22,32500,234662,7.223,20230707],[1029,7.22,7.22,7.22,7.22,23200,167633,7.223,20230707],[1030,7.22,7.22,7.22,7.22,14400,104077,7.223,20230707],[1031,7.22,7.22,7.22,7.22,62900,454640,7.223,20230707],[1032,7.22,7.22,7.22,7.22,40100,289608,7.223,20230707],[1033,7.21,7.21,7.21,7.21,87100,628610,7.223,20230707],[1034,7.21,7.21,7.21,7.21,33700,243016,7.223,20230707],[1035,7.2,7.2,7.2,7.2,330100,2379824,7.222,20230707],[1036,7.2,7.2,7.2,7.2,16900,121686,7.222,20230707],[1037,7.2,7.2,7.2,7.2,119100,858705,7.222,20230707],[1038,7.21,7.21,7.21,7.21,300,2163,7.222,20230707],[1039,7.2,7.2,7.2,7.2,51900,374198,7.222,20230707],[1040,7.2,7.2,7.2,7.2,31e3,223356,7.222,20230707],[1041,7.2,7.2,7.2,7.2,51900,373939,7.222,20230707],[1042,7.19,7.19,7.19,7.19,256100,1843735,7.221,20230707],[1043,7.19,7.19,7.19,7.19,4300,30958,7.221,20230707],[1044,7.19,7.19,7.19,7.19,27800,200149,7.221,20230707],[1045,7.19,7.19,7.19,7.19,20900,150472,7.221,20230707],[1046,7.19,7.19,7.19,7.19,49900,359227,7.22,20230707],[1047,7.2,7.2,7.2,7.2,51800,372985,7.22,20230707],[1048,7.2,7.2,7.2,7.2,26900,193695,7.22,20230707],[1049,7.2,7.2,7.2,7.2,8900,64080,7.22,20230707],[1050,7.19,7.19,7.19,7.19,91300,657209,7.22,20230707],[1051,7.19,7.19,7.19,7.19,40700,292820,7.22,20230707],[1052,7.19,7.19,7.19,7.19,45300,325905,7.219,20230707],[1053,7.19,7.19,7.19,7.19,3200,23037,7.219,20230707],[1054,7.19,7.19,7.19,7.19,559300,4021484,7.217,20230707],[1055,7.18,7.18,7.18,7.18,394400,2835733,7.215,20230707],[1056,7.19,7.19,7.19,7.19,135100,971369,7.215,20230707],[1057,7.19,7.19,7.19,7.19,33100,238104,7.215,20230707],[1058,7.19,7.19,7.19,7.19,14100,101415,7.215,20230707],[1059,7.19,7.19,7.19,7.19,5800,41706,7.215,20230707],[1100,7.19,7.19,7.19,7.19,5100,36681,7.215,20230707],[1101,7.19,7.19,7.19,7.19,900,6474,7.215,20230707],[1102,7.19,7.19,7.19,7.19,3200,23010,7.215,20230707],[1103,7.19,7.19,7.19,7.19,19200,138067,7.215,20230707],[1104,7.19,7.19,7.19,7.19,27900,200727,7.215,20230707],[1105,7.19,7.19,7.19,7.19,17e3,122358,7.215,20230707],[1106,7.19,7.19,7.19,7.19,13500,97178,7.215,20230707],[1107,7.19,7.19,7.19,7.19,34400,247348,7.215,20230707],[1108,7.19,7.19,7.19,7.19,7700,55414,7.215,20230707],[1109,7.19,7.19,7.19,7.19,20600,148215,7.214,20230707],[1110,7.19,7.19,7.19,7.19,8400,60424,7.214,20230707],[1111,7.19,7.19,7.19,7.19,16900,121632,7.214,20230707],[1112,7.2,7.2,7.2,7.2,462900,3332833,7.214,20230707],[1113,7.2,7.2,7.2,7.2,68300,492052,7.213,20230707],[1114,7.2,7.2,7.2,7.2,32500,234074,7.213,20230707],[1115,7.2,7.2,7.2,7.2,41600,299530,7.213,20230707],[1116,7.2,7.2,7.2,7.2,47600,342831,7.213,20230707],[1117,7.2,7.2,7.2,7.2,39700,285861,7.213,20230707],[1118,7.2,7.2,7.2,7.2,1600,11522,7.213,20230707],[1119,7.2,7.2,7.2,7.2,7500,54024,7.213,20230707],[1120,7.21,7.21,7.21,7.21,22800,164385,7.213,20230707],[1121,7.2,7.2,7.2,7.2,33200,239043,7.213,20230707],[1122,7.2,7.2,7.2,7.2,49400,355686,7.213,20230707],[1123,7.19,7.19,7.19,7.19,58800,423288,7.213,20230707],[1124,7.19,7.19,7.19,7.19,54e3,388421,7.213,20230707],[1125,7.19,7.19,7.19,7.19,100500,722700,7.213,20230707],[1126,7.19,7.19,7.19,7.19,21300,153237,7.213,20230707],[1127,7.19,7.19,7.19,7.19,46200,332341,7.212,20230707],[1128,7.19,7.19,7.19,7.19,55600,399881,7.212,20230707],[1129,7.21,7.21,7.21,7.21,100,721,7.212,20230707],[1130,7.19,7.19,7.19,7.19,41900,301635,7.212,20230707],[1300,7.2,7.2,7.2,7.2,63700,458986,7.212,20230707],[1301,7.2,7.2,7.2,7.2,63700,458986,7.212,20230707],[1302,7.19,7.19,7.19,7.19,59400,427703,7.212,20230707],[1303,7.19,7.19,7.19,7.19,5400,38832,7.212,20230707],[1304,7.19,7.19,7.19,7.19,73900,531570,7.212,20230707],[1305,7.19,7.19,7.19,7.19,32900,236603,7.212,20230707],[1306,7.19,7.19,7.19,7.19,48500,349204,7.212,20230707],[1307,7.19,7.19,7.19,7.19,63900,459717,7.212,20230707],[1308,7.19,7.19,7.19,7.19,36300,261304,7.212,20230707],[1309,7.2,7.2,7.2,7.2,10600,76354,7.212,20230707],[1310,7.21,7.21,7.21,7.21,56700,408814,7.212,20230707],[1311,7.21,7.21,7.21,7.21,42300,305040,7.212,20230707],[1312,7.21,7.21,7.21,7.21,16800,121186,7.212,20230707],[1313,7.21,7.21,7.21,7.21,45600,328982,7.212,20230707],[1314,7.21,7.21,7.21,7.21,16600,119741,7.212,20230707],[1315,7.21,7.21,7.21,7.21,5200,37537,7.212,20230707],[1316,7.21,7.21,7.21,7.21,24200,174491,7.212,20230707],[1317,7.21,7.21,7.21,7.21,66e3,476005,7.212,20230707],[1318,7.21,7.21,7.21,7.21,24800,178833,7.212,20230707],[1319,7.21,7.21,7.21,7.21,40300,290581,7.212,20230707],[1320,7.21,7.21,7.21,7.21,31900,230090,7.212,20230707],[1321,7.21,7.21,7.21,7.21,233100,1682955,7.212,20230707],[1322,7.22,7.22,7.22,7.22,32e3,231174,7.212,20230707],[1323,7.22,7.22,7.22,7.22,59700,431228,7.212,20230707],[1324,7.22,7.22,7.22,7.22,40100,289677,7.212,20230707],[1325,7.23,7.23,7.23,7.23,54600,394757,7.212,20230707],[1326,7.22,7.22,7.22,7.22,11300,81697,7.212,20230707],[1327,7.22,7.22,7.22,7.22,11500,83123,7.212,20230707],[1328,7.22,7.22,7.22,7.22,3600,26027,7.212,20230707],[1329,7.22,7.22,7.22,7.22,105400,761145,7.212,20230707],[1330,7.22,7.22,7.22,7.22,53100,383397,7.212,20230707],[1331,7.22,7.22,7.22,7.22,4e3,28895,7.212,20230707],[1332,7.22,7.22,7.22,7.22,81e3,584858,7.212,20230707],[1333,7.21,7.21,7.21,7.21,49100,354218,7.212,20230707],[1334,7.22,7.22,7.22,7.22,26900,194198,7.212,20230707],[1335,7.22,7.22,7.22,7.22,14e3,101118,7.212,20230707],[1336,7.22,7.22,7.22,7.22,2e3,14459,7.212,20230707],[1337,7.22,7.22,7.22,7.22,35200,254229,7.212,20230707],[1338,7.22,7.22,7.22,7.22,2700,19504,7.212,20230707],[1339,7.23,7.23,7.23,7.23,3500,25304,7.212,20230707],[1340,7.22,7.22,7.22,7.22,28300,204359,7.212,20230707],[1341,7.22,7.22,7.22,7.22,8600,62165,7.212,20230707],[1342,7.22,7.22,7.22,7.22,4200,30339,7.212,20230707],[1343,7.22,7.22,7.22,7.22,7800,56355,7.212,20230707],[1344,7.22,7.22,7.22,7.22,18400,132977,7.213,20230707],[1345,7.22,7.22,7.22,7.22,166900,1204938,7.213,20230707],[1346,7.21,7.21,7.21,7.21,33500,241721,7.213,20230707],[1347,7.21,7.21,7.21,7.21,27800,200484,7.213,20230707],[1348,7.21,7.21,7.21,7.21,14300,103140,7.213,20230707],[1349,7.21,7.21,7.21,7.21,2e3,14439,7.213,20230707],[1350,7.21,7.21,7.21,7.21,25200,181702,7.213,20230707],[1351,7.21,7.21,7.21,7.21,66100,476590,7.213,20230707],[1352,7.21,7.21,7.21,7.21,39100,281913,7.213,20230707],[1353,7.21,7.21,7.21,7.21,152500,1100990,7.213,20230707],[1354,7.21,7.21,7.21,7.21,17800,128505,7.213,20230707],[1355,7.21,7.21,7.21,7.21,22e3,158632,7.213,20230707],[1356,7.21,7.21,7.21,7.21,11100,80075,7.213,20230707],[1357,7.21,7.21,7.21,7.21,36900,266075,7.213,20230707],[1358,7.21,7.21,7.21,7.21,36600,263917,7.213,20230707],[1359,7.22,7.22,7.22,7.22,7600,54871,7.213,20230707],[1400,7.21,7.21,7.21,7.21,35400,255556,7.213,20230707],[1401,7.21,7.21,7.21,7.21,20600,148635,7.213,20230707],[1402,7.21,7.21,7.21,7.21,9800,70691,7.213,20230707],[1403,7.21,7.21,7.21,7.21,17800,128497,7.213,20230707],[1404,7.22,7.22,7.22,7.22,4400,31741,7.213,20230707],[1405,7.21,7.21,7.21,7.21,73500,529941,7.213,20230707],[1406,7.21,7.21,7.21,7.21,11200,80761,7.213,20230707],[1407,7.21,7.21,7.21,7.21,78300,564696,7.213,20230707],[1408,7.21,7.21,7.21,7.21,43300,312082,7.213,20230707],[1409,7.21,7.21,7.21,7.21,137700,992983,7.213,20230707],[1410,7.21,7.21,7.21,7.21,1100,7941,7.213,20230707],[1411,7.21,7.21,7.21,7.21,2700,19491,7.213,20230707],[1412,7.21,7.21,7.21,7.21,10500,75798,7.213,20230707],[1413,7.21,7.21,7.21,7.21,28100,202811,7.213,20230707],[1414,7.21,7.21,7.21,7.21,12500,90194,7.213,20230707],[1415,7.21,7.21,7.21,7.21,8600,62090,7.213,20230707],[1416,7.21,7.21,7.21,7.21,132200,954669,7.213,20230707],[1417,7.21,7.21,7.21,7.21,87900,634466,7.213,20230707],[1418,7.21,7.21,7.21,7.21,34700,250223,7.213,20230707],[1419,7.21,7.21,7.21,7.21,92700,668380,7.213,20230707],[1420,7.21,7.22,7.21,7.22,32600,235105,7.213,20230707]],date:20230707,yclose:7.21},{minute:[[925,7.25,7.25,7.25,7.25,108600,787350,7.25,20230706],[930,7.25,7.25,7.25,7.25,108600,787350,7.25,20230706],[931,7.23,7.23,7.23,7.23,285600,2069218,7.247,20230706],[932,7.24,7.24,7.24,7.24,51200,371108,7.247,20230706],[933,7.24,7.24,7.24,7.24,67800,491579,7.247,20230706],[934,7.24,7.24,7.24,7.24,75700,548526,7.247,20230706],[935,7.24,7.24,7.24,7.24,43100,312555,7.248,20230706],[936,7.24,7.24,7.24,7.24,19800,143509,7.248,20230706],[937,7.24,7.24,7.24,7.24,126200,915178,7.248,20230706],[938,7.24,7.24,7.24,7.24,119200,864231,7.249,20230706],[939,7.25,7.25,7.25,7.25,190300,1380168,7.249,20230706],[940,7.25,7.25,7.25,7.25,27400,198890,7.249,20230706],[941,7.25,7.25,7.25,7.25,2e4,145011,7.249,20230706],[942,7.25,7.25,7.25,7.25,37400,271214,7.25,20230706],[943,7.24,7.24,7.24,7.24,32200,233343,7.249,20230706],[944,7.25,7.25,7.25,7.25,14500,105153,7.25,20230706],[945,7.24,7.24,7.24,7.24,43100,312385,7.249,20230706],[946,7.24,7.24,7.24,7.24,41500,300897,7.25,20230706],[947,7.24,7.24,7.24,7.24,36100,261677,7.249,20230706],[948,7.25,7.25,7.25,7.25,23700,171883,7.25,20230706],[949,7.25,7.25,7.25,7.25,67100,487028,7.25,20230706],[950,7.25,7.25,7.25,7.25,35600,257891,7.25,20230706],[951,7.24,7.24,7.24,7.24,100400,728183,7.25,20230706],[952,7.25,7.25,7.25,7.25,73900,535912,7.25,20230706],[953,7.24,7.24,7.24,7.24,19500,141383,7.25,20230706],[954,7.25,7.25,7.25,7.25,29300,212666,7.25,20230706],[955,7.25,7.25,7.25,7.25,37100,269189,7.25,20230706],[956,7.25,7.25,7.25,7.25,21200,153873,7.25,20230706],[957,7.25,7.25,7.25,7.25,75e3,544509,7.251,20230706],[958,7.26,7.26,7.26,7.26,51e3,370361,7.251,20230706],[959,7.25,7.25,7.25,7.25,6600,47892,7.251,20230706],[1e3,7.25,7.25,7.25,7.25,53500,388288,7.251,20230706],[1001,7.25,7.25,7.25,7.25,9600,69663,7.251,20230706],[1002,7.25,7.25,7.25,7.25,383e3,2777011,7.251,20230706],[1003,7.25,7.25,7.25,7.25,61e3,442742,7.252,20230706],[1004,7.26,7.26,7.26,7.26,19500,141710,7.252,20230706],[1005,7.26,7.26,7.26,7.26,47300,343608,7.252,20230706],[1006,7.26,7.26,7.26,7.26,76900,558452,7.252,20230706],[1007,7.26,7.26,7.26,7.26,43700,317664,7.253,20230706],[1008,7.26,7.26,7.26,7.26,51500,374309,7.253,20230706],[1009,7.26,7.26,7.26,7.26,22100,160567,7.253,20230706],[1010,7.26,7.26,7.26,7.26,16400,119187,7.253,20230706],[1011,7.26,7.26,7.26,7.26,29e3,210825,7.253,20230706],[1012,7.26,7.26,7.26,7.26,56800,412850,7.254,20230706],[1013,7.26,7.26,7.26,7.26,18300,133031,7.254,20230706],[1014,7.26,7.26,7.26,7.26,62100,451046,7.254,20230706],[1015,7.26,7.26,7.26,7.26,30900,224506,7.254,20230706],[1016,7.26,7.26,7.26,7.26,30700,223024,7.254,20230706],[1017,7.26,7.26,7.26,7.26,17800,129330,7.254,20230706],[1018,7.26,7.26,7.26,7.26,35900,260828,7.254,20230706],[1019,7.26,7.26,7.26,7.26,50600,367455,7.254,20230706],[1020,7.26,7.26,7.26,7.26,29e3,210660,7.254,20230706],[1021,7.25,7.25,7.25,7.25,153e3,1110925,7.255,20230706],[1022,7.25,7.25,7.25,7.25,75800,550576,7.255,20230706],[1023,7.25,7.25,7.25,7.25,7700,55930,7.255,20230706],[1024,7.25,7.25,7.25,7.25,40800,296198,7.255,20230706],[1025,7.25,7.25,7.25,7.25,37800,274459,7.255,20230706],[1026,7.25,7.25,7.25,7.25,11200,81305,7.255,20230706],[1027,7.25,7.25,7.25,7.25,24100,174817,7.255,20230706],[1028,7.25,7.25,7.25,7.25,15400,111789,7.255,20230706],[1029,7.25,7.25,7.25,7.25,35900,260558,7.255,20230706],[1030,7.25,7.25,7.25,7.25,27200,197464,7.255,20230706],[1031,7.25,7.25,7.25,7.25,78100,566999,7.255,20230706],[1032,7.25,7.25,7.25,7.25,13500,98006,7.255,20230706],[1033,7.25,7.25,7.25,7.25,13e3,94343,7.255,20230706],[1034,7.25,7.25,7.25,7.25,29400,213355,7.255,20230706],[1035,7.25,7.25,7.25,7.25,21100,153181,7.255,20230706],[1036,7.25,7.25,7.25,7.25,11500,83468,7.255,20230706],[1037,7.25,7.25,7.25,7.25,28500,206725,7.255,20230706],[1038,7.25,7.25,7.25,7.25,12900,93647,7.255,20230706],[1039,7.25,7.25,7.25,7.25,22300,161794,7.255,20230706],[1040,7.25,7.25,7.25,7.25,10100,73279,7.255,20230706],[1041,7.25,7.25,7.25,7.25,110200,799136,7.255,20230706],[1042,7.25,7.25,7.25,7.25,38600,280035,7.255,20230706],[1043,7.25,7.25,7.25,7.25,31800,230608,7.255,20230706],[1044,7.24,7.24,7.24,7.24,475200,3442872,7.254,20230706],[1045,7.23,7.23,7.23,7.23,11e4,796334,7.254,20230706],[1046,7.23,7.23,7.23,7.23,125600,908387,7.253,20230706],[1047,7.22,7.22,7.22,7.22,177800,1285519,7.252,20230706],[1048,7.23,7.23,7.23,7.23,20400,147510,7.252,20230706],[1049,7.22,7.22,7.22,7.22,69400,501596,7.252,20230706],[1050,7.22,7.22,7.22,7.22,15e3,108395,7.252,20230706],[1051,7.22,7.22,7.22,7.22,185500,1339673,7.251,20230706],[1052,7.22,7.22,7.22,7.22,57400,414670,7.25,20230706],[1053,7.22,7.22,7.22,7.22,13e3,93930,7.25,20230706],[1054,7.22,7.22,7.22,7.22,23400,169501,7.25,20230706],[1055,7.22,7.22,7.22,7.22,21100,152457,7.25,20230706],[1056,7.22,7.22,7.22,7.22,56400,407025,7.25,20230706],[1057,7.22,7.22,7.22,7.22,9300,67236,7.25,20230706],[1058,7.22,7.22,7.22,7.22,61900,447531,7.25,20230706],[1059,7.22,7.22,7.22,7.22,34200,247174,7.249,20230706],[1100,7.22,7.22,7.22,7.22,42200,305124,7.249,20230706],[1101,7.22,7.22,7.22,7.22,60700,438857,7.249,20230706],[1102,7.22,7.22,7.22,7.22,17300,124906,7.249,20230706],[1103,7.22,7.22,7.22,7.22,24600,177848,7.249,20230706],[1104,7.22,7.22,7.22,7.22,38500,278271,7.249,20230706],[1105,7.22,7.22,7.22,7.22,12100,87477,7.249,20230706],[1106,7.22,7.22,7.22,7.22,558800,4038799,7.247,20230706],[1107,7.22,7.22,7.22,7.22,41700,301411,7.247,20230706],[1108,7.22,7.22,7.22,7.22,32300,233496,7.247,20230706],[1109,7.22,7.22,7.22,7.22,87100,629868,7.246,20230706],[1110,7.23,7.23,7.23,7.23,32100,232313,7.246,20230706],[1111,7.23,7.23,7.23,7.23,22900,165794,7.246,20230706],[1112,7.23,7.23,7.23,7.23,17800,128869,7.246,20230706],[1113,7.23,7.23,7.23,7.23,139800,1010711,7.246,20230706],[1114,7.23,7.23,7.23,7.23,10400,75245,7.246,20230706],[1115,7.23,7.23,7.23,7.23,17300,125146,7.246,20230706],[1116,7.22,7.22,7.22,7.22,75300,544267,7.246,20230706],[1117,7.22,7.22,7.22,7.22,25300,182933,7.246,20230706],[1118,7.22,7.22,7.22,7.22,42e3,303537,7.245,20230706],[1119,7.22,7.22,7.22,7.22,60700,438685,7.245,20230706],[1120,7.22,7.22,7.22,7.22,7600,54872,7.245,20230706],[1121,7.22,7.22,7.22,7.22,18600,134355,7.245,20230706],[1122,7.22,7.22,7.22,7.22,249200,1799234,7.244,20230706],[1123,7.21,7.21,7.21,7.21,414e3,2987122,7.243,20230706],[1124,7.21,7.21,7.21,7.21,155100,1118314,7.242,20230706],[1125,7.21,7.21,7.21,7.21,13400,96731,7.242,20230706],[1126,7.21,7.21,7.21,7.21,33400,240832,7.242,20230706],[1127,7.21,7.21,7.21,7.21,57300,413316,7.242,20230706],[1128,7.21,7.21,7.21,7.21,106300,766480,7.241,20230706],[1129,7.2,7.2,7.2,7.2,598400,4311845,7.239,20230706],[1130,7.2,7.2,7.2,7.2,160200,1153686,7.238,20230706],[1300,7.19,7.19,7.19,7.19,598800,4310197,7.235,20230706],[1301,7.19,7.19,7.19,7.19,598800,4310197,7.235,20230706],[1302,7.19,7.19,7.19,7.19,84200,605686,7.235,20230706],[1303,7.19,7.19,7.19,7.19,69e3,496141,7.235,20230706],[1304,7.19,7.19,7.19,7.19,94700,680953,7.234,20230706],[1305,7.19,7.19,7.19,7.19,10800,77706,7.234,20230706],[1306,7.19,7.19,7.19,7.19,66700,479668,7.234,20230706],[1307,7.19,7.19,7.19,7.19,17400,125233,7.234,20230706],[1308,7.19,7.19,7.19,7.19,33200,238721,7.234,20230706],[1309,7.19,7.19,7.19,7.19,68200,490667,7.233,20230706],[1310,7.19,7.19,7.19,7.19,36900,265662,7.233,20230706],[1311,7.19,7.19,7.19,7.19,47500,341769,7.233,20230706],[1312,7.19,7.19,7.19,7.19,47400,340919,7.233,20230706],[1313,7.19,7.19,7.19,7.19,69700,501733,7.233,20230706],[1314,7.19,7.19,7.19,7.19,125300,902259,7.232,20230706],[1315,7.2,7.2,7.2,7.2,24900,179522,7.232,20230706],[1316,7.2,7.2,7.2,7.2,32300,232875,7.232,20230706],[1317,7.2,7.2,7.2,7.2,39e3,281120,7.232,20230706],[1318,7.2,7.2,7.2,7.2,8200,59105,7.232,20230706],[1319,7.2,7.2,7.2,7.2,154500,1112551,7.231,20230706],[1320,7.2,7.2,7.2,7.2,28300,203835,7.231,20230706],[1321,7.2,7.2,7.2,7.2,5600,40343,7.231,20230706],[1322,7.2,7.2,7.2,7.2,26700,192479,7.231,20230706],[1323,7.2,7.2,7.2,7.2,12e3,86515,7.231,20230706],[1324,7.2,7.2,7.2,7.2,20400,147063,7.231,20230706],[1325,7.2,7.2,7.2,7.2,114e3,821937,7.231,20230706],[1326,7.2,7.2,7.2,7.2,90100,649619,7.231,20230706],[1327,7.2,7.2,7.2,7.2,15100,108765,7.231,20230706],[1328,7.2,7.2,7.2,7.2,21100,152363,7.231,20230706],[1329,7.2,7.2,7.2,7.2,19100,137654,7.231,20230706],[1330,7.2,7.2,7.2,7.2,21500,155008,7.231,20230706],[1331,7.2,7.2,7.2,7.2,14900,107350,7.231,20230706],[1332,7.2,7.2,7.2,7.2,131600,947635,7.23,20230706],[1333,7.2,7.2,7.2,7.2,39100,281798,7.23,20230706],[1334,7.2,7.2,7.2,7.2,2900,20892,7.23,20230706],[1335,7.2,7.2,7.2,7.2,7700,55776,7.23,20230706],[1336,7.2,7.2,7.2,7.2,30700,221205,7.23,20230706],[1337,7.2,7.2,7.2,7.2,26400,190154,7.23,20230706],[1338,7.2,7.2,7.2,7.2,16200,116700,7.23,20230706],[1339,7.2,7.2,7.2,7.2,44300,319292,7.23,20230706],[1340,7.2,7.2,7.2,7.2,140300,1011233,7.23,20230706],[1341,7.2,7.2,7.2,7.2,19200,138424,7.23,20230706],[1342,7.2,7.2,7.2,7.2,29e3,208946,7.229,20230706],[1343,7.19,7.19,7.19,7.19,336500,2422962,7.229,20230706],[1344,7.19,7.19,7.19,7.19,66300,477157,7.228,20230706],[1345,7.19,7.19,7.19,7.19,67400,485339,7.228,20230706],[1346,7.2,7.2,7.2,7.2,34200,246321,7.228,20230706],[1347,7.2,7.2,7.2,7.2,85700,617097,7.228,20230706],[1348,7.2,7.2,7.2,7.2,146200,1053793,7.228,20230706],[1349,7.2,7.2,7.2,7.2,17300,124728,7.228,20230706],[1350,7.2,7.2,7.2,7.2,17600,126887,7.228,20230706],[1351,7.2,7.2,7.2,7.2,48800,351406,7.228,20230706],[1352,7.2,7.2,7.2,7.2,32300,232926,7.228,20230706],[1353,7.2,7.2,7.2,7.2,41400,298471,7.227,20230706],[1354,7.2,7.2,7.2,7.2,26400,190365,7.227,20230706],[1355,7.2,7.2,7.2,7.2,15600,112506,7.227,20230706],[1356,7.21,7.21,7.21,7.21,6900,49815,7.227,20230706],[1357,7.21,7.21,7.21,7.21,18300,132114,7.227,20230706],[1358,7.21,7.21,7.21,7.21,7300,52699,7.227,20230706],[1359,7.21,7.21,7.21,7.21,33500,241826,7.227,20230706],[1400,7.21,7.21,7.21,7.21,23600,170337,7.227,20230706],[1401,7.21,7.21,7.21,7.21,44700,322489,7.227,20230706],[1402,7.21,7.21,7.21,7.21,50700,365725,7.227,20230706],[1403,7.21,7.21,7.21,7.21,22900,165218,7.227,20230706],[1404,7.21,7.21,7.21,7.21,30600,220631,7.227,20230706],[1405,7.21,7.21,7.21,7.21,14700,106069,7.227,20230706],[1406,7.21,7.21,7.21,7.21,12900,93132,7.227,20230706],[1407,7.21,7.21,7.21,7.21,40900,295033,7.227,20230706],[1408,7.21,7.21,7.21,7.21,23300,168073,7.227,20230706],[1409,7.21,7.21,7.21,7.21,4100,29578,7.227,20230706],[1410,7.21,7.21,7.21,7.21,191e3,1377579,7.227,20230706],[1411,7.21,7.21,7.21,7.21,35100,253158,7.227,20230706],[1412,7.21,7.21,7.21,7.21,14700,106125,7.227,20230706],[1413,7.21,7.21,7.21,7.21,3100,22352,7.227,20230706],[1414,7.21,7.21,7.21,7.21,23e3,165939,7.227,20230706],[1415,7.21,7.21,7.21,7.21,16300,117621,7.227,20230706],[1416,7.21,7.21,7.21,7.21,15900,114671,7.227,20230706],[1417,7.21,7.21,7.21,7.21,11700,84469,7.227,20230706],[1418,7.21,7.21,7.21,7.21,50200,362078,7.227,20230706],[1419,7.21,7.21,7.21,7.21,2400,17304,7.227,20230706],[1420,7.21,7.21,7.21,7.21,26400,190536,7.227,20230706],[1421,7.2,7.2,7.2,7.2,109300,788038,7.227,20230706],[1422,7.2,7.2,7.2,7.2,15700,113119,7.227,20230706],[1423,7.2,7.2,7.2,7.2,40900,294824,7.226,20230706],[1424,7.2,7.2,7.2,7.2,41800,301294,7.226,20230706],[1425,7.2,7.2,7.2,7.2,50500,364143,7.226,20230706],[1426,7.21,7.21,7.21,7.21,13900,100285,7.226,20230706],[1427,7.21,7.21,7.21,7.21,7200,51950,7.226,20230706],[1428,7.21,7.21,7.21,7.21,33900,244578,7.226,20230706],[1429,7.21,7.21,7.21,7.21,14900,107482,7.226,20230706],[1430,7.21,7.21,7.21,7.21,28400,204765,7.226,20230706],[1431,7.21,7.21,7.21,7.21,112e3,808056,7.226,20230706],[1432,7.2,7.2,7.2,7.2,99100,714625,7.226,20230706],[1433,7.21,7.21,7.21,7.21,19800,142769,7.226,20230706],[1434,7.21,7.21,7.21,7.21,34e3,245149,7.226,20230706],[1435,7.21,7.21,7.21,7.21,36200,261007,7.226,20230706],[1436,7.21,7.21,7.21,7.21,14400,103874,7.226,20230706],[1437,7.21,7.21,7.21,7.21,88300,636761,7.226,20230706],[1438,7.21,7.21,7.21,7.21,28600,206211,7.226,20230706],[1439,7.2,7.2,7.2,7.2,78700,567259,7.226,20230706],[1440,7.2,7.2,7.2,7.2,20600,148440,7.226,20230706],[1441,7.2,7.2,7.2,7.2,64100,462182,7.226,20230706],[1442,7.2,7.2,7.2,7.2,60900,438928,7.225,20230706],[1443,7.2,7.2,7.2,7.2,29500,212770,7.225,20230706],[1444,7.21,7.21,7.21,7.21,27300,197030,7.225,20230706],[1445,7.21,7.21,7.21,7.21,11600,83685,7.225,20230706],[1446,7.21,7.21,7.21,7.21,27600,199208,7.225,20230706],[1447,7.21,7.21,7.21,7.21,34900,251849,7.225,20230706],[1448,7.21,7.21,7.21,7.21,15500,111759,7.225,20230706],[1449,7.21,7.21,7.21,7.21,18100,130502,7.225,20230706],[1450,7.21,7.21,7.21,7.21,41100,296546,7.225,20230706],[1451,7.2,7.2,7.2,7.2,131500,948231,7.225,20230706],[1452,7.21,7.21,7.21,7.21,14300,103118,7.225,20230706],[1453,7.2,7.2,7.2,7.2,161400,1163922,7.225,20230706],[1454,7.21,7.21,7.21,7.21,20800,150022,7.225,20230706],[1455,7.21,7.21,7.21,7.21,77800,561617,7.225,20230706],[1456,7.21,7.21,7.21,7.21,118900,858627,7.225,20230706],[1457,7.21,7.21,7.21,7.21,46100,332538,7.225,20230706],[1458,7.22,7.22,7.22,7.22,0,0,7.225,20230706],[1459,7.22,7.22,7.22,7.22,0,0,7.225,20230706],[1500,7.21,7.21,7.21,7.21,369300,2662444,7.225,20230706]],date:20230706,yclose:7.21},{minute:[[925,7.26,7.26,7.26,7.26,55600,403656,7.26,20230705],[930,7.26,7.26,7.26,7.26,55600,403656,7.26,20230705],[931,7.27,7.27,7.27,7.27,100200,728734,7.268,20230705],[932,7.27,7.27,7.27,7.27,60500,440077,7.27,20230705],[933,7.27,7.27,7.27,7.27,31700,230675,7.271,20230705],[934,7.27,7.27,7.27,7.27,47800,347806,7.272,20230705],[935,7.27,7.27,7.27,7.27,128700,936755,7.274,20230705],[936,7.26,7.26,7.26,7.26,38600,280626,7.273,20230705],[937,7.26,7.26,7.26,7.26,56600,411513,7.273,20230705],[938,7.27,7.27,7.27,7.27,48600,353762,7.274,20230705],[939,7.27,7.27,7.27,7.27,15300,111338,7.274,20230705],[940,7.27,7.27,7.27,7.27,121700,884900,7.273,20230705],[941,7.26,7.26,7.26,7.26,53400,388049,7.273,20230705],[942,7.26,7.26,7.26,7.26,53200,386477,7.272,20230705],[943,7.26,7.26,7.26,7.26,4e4,290548,7.272,20230705],[944,7.26,7.26,7.26,7.26,129500,941729,7.272,20230705],[945,7.26,7.26,7.26,7.26,100300,728605,7.271,20230705],[946,7.25,7.25,7.25,7.25,194100,1408507,7.269,20230705],[947,7.24,7.24,7.24,7.24,248100,1798331,7.266,20230705],[948,7.25,7.25,7.25,7.25,91300,661933,7.265,20230705],[949,7.24,7.24,7.24,7.24,128600,931879,7.263,20230705],[950,7.24,7.24,7.24,7.24,65700,475876,7.263,20230705],[951,7.24,7.24,7.24,7.24,269100,1948582,7.26,20230705],[952,7.23,7.23,7.23,7.23,137e3,991768,7.259,20230705],[953,7.24,7.24,7.24,7.24,52500,380523,7.258,20230705],[954,7.23,7.23,7.23,7.23,160800,1164030,7.257,20230705],[955,7.23,7.23,7.23,7.23,45200,326924,7.257,20230705],[956,7.23,7.23,7.23,7.23,57600,416496,7.256,20230705],[957,7.23,7.23,7.23,7.23,199100,1441323,7.255,20230705],[958,7.23,7.23,7.23,7.23,79600,575906,7.254,20230705],[959,7.21,7.21,7.21,7.21,702400,5075559,7.249,20230705],[1e3,7.21,7.21,7.21,7.21,163500,1179290,7.247,20230705],[1001,7.21,7.21,7.21,7.21,107700,777433,7.246,20230705],[1002,7.22,7.22,7.22,7.22,31900,230382,7.246,20230705],[1003,7.22,7.22,7.22,7.22,44900,324556,7.246,20230705],[1004,7.23,7.23,7.23,7.23,80300,580642,7.246,20230705],[1005,7.22,7.22,7.22,7.22,98100,708877,7.245,20230705],[1006,7.23,7.23,7.23,7.23,37300,269696,7.245,20230705],[1007,7.22,7.22,7.22,7.22,135e3,975928,7.244,20230705],[1008,7.22,7.22,7.22,7.22,77500,560084,7.244,20230705],[1009,7.22,7.22,7.22,7.22,32400,234215,7.244,20230705],[1010,7.23,7.23,7.23,7.23,42700,308988,7.244,20230705],[1011,7.23,7.23,7.23,7.23,18700,135245,7.244,20230705],[1012,7.24,7.24,7.24,7.24,140600,1017938,7.244,20230705],[1013,7.24,7.24,7.24,7.24,37700,273155,7.244,20230705],[1014,7.24,7.24,7.24,7.24,68900,498866,7.244,20230705],[1015,7.23,7.23,7.23,7.23,57200,413602,7.244,20230705],[1016,7.23,7.23,7.23,7.23,26600,192946,7.244,20230705],[1017,7.23,7.23,7.23,7.23,20200,146243,7.244,20230705],[1018,7.23,7.23,7.23,7.23,29900,216473,7.244,20230705],[1019,7.23,7.23,7.23,7.23,62500,452149,7.244,20230705],[1020,7.24,7.24,7.24,7.24,7700,55798,7.244,20230705],[1021,7.23,7.23,7.23,7.23,45300,327813,7.243,20230705],[1022,7.23,7.23,7.23,7.23,14e3,101251,7.243,20230705],[1023,7.23,7.23,7.23,7.23,59300,429317,7.243,20230705],[1024,7.23,7.23,7.23,7.23,51100,369575,7.243,20230705],[1025,7.24,7.24,7.24,7.24,13800,100026,7.243,20230705],[1026,7.24,7.24,7.24,7.24,7900,57265,7.243,20230705],[1027,7.24,7.24,7.24,7.24,27500,199256,7.243,20230705],[1028,7.24,7.24,7.24,7.24,63500,460240,7.243,20230705],[1029,7.24,7.24,7.24,7.24,56100,406408,7.243,20230705],[1030,7.23,7.23,7.23,7.23,145e3,1049786,7.243,20230705],[1031,7.23,7.23,7.23,7.23,46700,338245,7.243,20230705],[1032,7.23,7.23,7.23,7.23,36600,264802,7.243,20230705],[1033,7.23,7.23,7.23,7.23,17700,128022,7.243,20230705],[1034,7.23,7.23,7.23,7.23,9900,71673,7.243,20230705],[1035,7.23,7.23,7.23,7.23,42e3,304063,7.243,20230705],[1036,7.23,7.23,7.23,7.23,28800,208510,7.243,20230705],[1037,7.24,7.24,7.24,7.24,19500,141215,7.243,20230705],[1038,7.23,7.23,7.23,7.23,25e3,181011,7.243,20230705],[1039,7.24,7.24,7.24,7.24,14700,106458,7.243,20230705],[1040,7.24,7.24,7.24,7.24,4300,31167,7.243,20230705],[1041,7.24,7.24,7.24,7.24,26800,194204,7.243,20230705],[1042,7.24,7.24,7.24,7.24,26300,190646,7.243,20230705],[1043,7.24,7.24,7.24,7.24,30300,219670,7.243,20230705],[1044,7.24,7.24,7.24,7.24,30400,220359,7.243,20230705],[1045,7.24,7.24,7.24,7.24,28600,207357,7.243,20230705],[1046,7.24,7.24,7.24,7.24,32300,233914,7.243,20230705],[1047,7.23,7.23,7.23,7.23,104e3,752882,7.243,20230705],[1048,7.24,7.24,7.24,7.24,20700,149867,7.243,20230705],[1049,7.23,7.23,7.23,7.23,17200,124514,7.243,20230705],[1050,7.23,7.23,7.23,7.23,12e3,86908,7.243,20230705],[1051,7.24,7.24,7.24,7.24,14300,103543,7.243,20230705],[1052,7.24,7.24,7.24,7.24,5600,40567,7.243,20230705],[1053,7.25,7.25,7.25,7.25,8600,62349,7.243,20230705],[1054,7.24,7.24,7.24,7.24,14e3,101423,7.243,20230705],[1055,7.24,7.24,7.24,7.24,11100,80469,7.243,20230705],[1056,7.24,7.24,7.24,7.24,13900,100757,7.243,20230705],[1057,7.24,7.24,7.24,7.24,13100,94969,7.243,20230705],[1058,7.24,7.24,7.24,7.24,14200,102918,7.243,20230705],[1059,7.24,7.24,7.24,7.24,19800,143472,7.243,20230705],[1100,7.24,7.24,7.24,7.24,10600,76837,7.243,20230705],[1101,7.24,7.24,7.24,7.24,12600,91343,7.243,20230705],[1102,7.24,7.24,7.24,7.24,20400,147818,7.243,20230705],[1103,7.24,7.24,7.24,7.24,4900,35524,7.243,20230705],[1104,7.24,7.24,7.24,7.24,6700,48545,7.243,20230705],[1105,7.24,7.24,7.24,7.24,5800,42046,7.243,20230705],[1106,7.24,7.24,7.24,7.24,4400,31864,7.243,20230705],[1107,7.24,7.24,7.24,7.24,4200,30408,7.243,20230705],[1108,7.24,7.24,7.24,7.24,10900,78978,7.243,20230705],[1109,7.24,7.24,7.24,7.24,17400,126111,7.243,20230705],[1110,7.24,7.24,7.24,7.24,7200,52166,7.243,20230705],[1111,7.24,7.24,7.24,7.24,7700,55793,7.243,20230705],[1112,7.23,7.23,7.23,7.23,80200,580647,7.243,20230705],[1113,7.23,7.23,7.23,7.23,14500,105015,7.243,20230705],[1114,7.23,7.23,7.23,7.23,22200,160727,7.243,20230705],[1115,7.23,7.23,7.23,7.23,15e3,108677,7.243,20230705],[1116,7.24,7.24,7.24,7.24,14e3,101441,7.243,20230705],[1117,7.24,7.24,7.24,7.24,9700,70274,7.243,20230705],[1118,7.24,7.24,7.24,7.24,12300,89155,7.243,20230705],[1119,7.25,7.25,7.25,7.25,15700,113824,7.243,20230705],[1120,7.25,7.25,7.25,7.25,16700,121075,7.243,20230705],[1121,7.24,7.24,7.24,7.24,13200,95680,7.243,20230705],[1122,7.25,7.25,7.25,7.25,8600,62350,7.243,20230705],[1123,7.25,7.25,7.25,7.25,4700,34068,7.243,20230705],[1124,7.24,7.24,7.24,7.24,30300,219671,7.243,20230705],[1125,7.24,7.24,7.24,7.24,13700,99296,7.243,20230705],[1126,7.24,7.24,7.24,7.24,1200,8690,7.243,20230705],[1127,7.24,7.24,7.24,7.24,18400,133283,7.243,20230705],[1128,7.24,7.24,7.24,7.24,5200,37667,7.243,20230705],[1129,7.24,7.24,7.24,7.24,9200,66675,7.243,20230705],[1130,7.24,7.24,7.24,7.24,33300,241284,7.243,20230705],[1300,7.24,7.24,7.24,7.24,83100,601556,7.243,20230705],[1301,7.24,7.24,7.24,7.24,83100,601556,7.243,20230705],[1302,7.24,7.24,7.24,7.24,4700,34028,7.243,20230705],[1303,7.24,7.24,7.24,7.24,1300,9402,7.243,20230705],[1304,7.24,7.24,7.24,7.24,144100,1043394,7.243,20230705],[1305,7.24,7.24,7.24,7.24,8400,60818,7.243,20230705],[1306,7.24,7.24,7.24,7.24,17200,124527,7.243,20230705],[1307,7.23,7.23,7.23,7.23,14e3,101342,7.243,20230705],[1308,7.23,7.23,7.23,7.23,12900,93378,7.243,20230705],[1309,7.24,7.24,7.24,7.24,1300,9424,7.243,20230705],[1310,7.25,7.25,7.25,7.25,1100,7975,7.243,20230705],[1311,7.24,7.24,7.24,7.24,15300,110924,7.243,20230705],[1312,7.24,7.24,7.24,7.24,28e3,202978,7.243,20230705],[1313,7.24,7.24,7.24,7.24,29400,212961,7.243,20230705],[1314,7.24,7.24,7.24,7.24,32700,236758,7.243,20230705],[1315,7.24,7.24,7.24,7.24,18500,134092,7.243,20230705],[1316,7.23,7.23,7.23,7.23,46100,333824,7.243,20230705],[1317,7.24,7.24,7.24,7.24,2600,19121,7.243,20230705],[1318,7.23,7.23,7.23,7.23,44100,319259,7.243,20230705],[1319,7.24,7.24,7.24,7.24,14e3,101368,7.243,20230705],[1320,7.24,7.24,7.24,7.24,11e3,79647,7.243,20230705],[1321,7.23,7.23,7.23,7.23,27600,199980,7.243,20230705],[1322,7.24,7.24,7.24,7.24,11900,86149,7.243,20230705],[1323,7.24,7.24,7.24,7.24,25100,181901,7.243,20230705],[1324,7.24,7.24,7.24,7.24,13400,97135,7.243,20230705],[1325,7.24,7.24,7.24,7.24,27600,200097,7.243,20230705],[1326,7.24,7.24,7.24,7.24,42500,308154,7.243,20230705],[1327,7.24,7.24,7.24,7.24,1e4,72498,7.243,20230705],[1328,7.24,7.24,7.24,7.24,25e3,181433,7.243,20230705],[1329,7.25,7.25,7.25,7.25,15900,115401,7.243,20230705],[1330,7.25,7.25,7.25,7.25,12400,89920,7.243,20230705],[1331,7.25,7.25,7.25,7.25,19700,142912,7.244,20230705],[1332,7.25,7.25,7.25,7.25,1800,13053,7.244,20230705],[1333,7.25,7.25,7.25,7.25,9900,71808,7.244,20230705],[1334,7.25,7.25,7.25,7.25,13200,95719,7.244,20230705],[1335,7.25,7.25,7.25,7.25,27e3,195945,7.244,20230705],[1336,7.25,7.25,7.25,7.25,19e3,137844,7.244,20230705],[1337,7.25,7.25,7.25,7.25,19800,143571,7.244,20230705],[1338,7.25,7.25,7.25,7.25,81500,590921,7.244,20230705],[1339,7.25,7.25,7.25,7.25,234400,1701514,7.244,20230705],[1340,7.25,7.25,7.25,7.25,16900,122720,7.244,20230705],[1341,7.26,7.26,7.26,7.26,31500,228802,7.244,20230705],[1342,7.26,7.26,7.26,7.26,35700,259334,7.244,20230705],[1343,7.26,7.26,7.26,7.26,6e3,43610,7.244,20230705],[1344,7.26,7.26,7.26,7.26,8900,64664,7.244,20230705],[1345,7.26,7.26,7.26,7.26,25400,184439,7.245,20230705],[1346,7.25,7.25,7.25,7.25,8200,59502,7.245,20230705],[1347,7.25,7.25,7.25,7.25,15700,113920,7.245,20230705],[1348,7.25,7.25,7.25,7.25,6400,46406,7.245,20230705],[1349,7.25,7.25,7.25,7.25,21400,155339,7.245,20230705],[1350,7.25,7.25,7.25,7.25,12500,90700,7.245,20230705],[1351,7.25,7.25,7.25,7.25,14e3,101627,7.245,20230705],[1352,7.25,7.25,7.25,7.25,86300,626030,7.245,20230705],[1353,7.25,7.25,7.25,7.25,14100,102364,7.245,20230705],[1354,7.25,7.25,7.25,7.25,35900,260627,7.245,20230705],[1355,7.26,7.26,7.26,7.26,86800,630594,7.245,20230705],[1356,7.26,7.26,7.26,7.26,15e3,108922,7.245,20230705],[1357,7.25,7.25,7.25,7.25,1900,13791,7.245,20230705],[1358,7.25,7.25,7.25,7.25,8700,63140,7.245,20230705],[1359,7.25,7.25,7.25,7.25,13600,98621,7.245,20230705],[1400,7.25,7.25,7.25,7.25,13200,95829,7.245,20230705],[1401,7.25,7.25,7.25,7.25,57600,417900,7.245,20230705],[1402,7.25,7.25,7.25,7.25,17400,126305,7.245,20230705],[1403,7.25,7.25,7.25,7.25,18500,134308,7.245,20230705],[1404,7.25,7.25,7.25,7.25,26800,194621,7.245,20230705],[1405,7.25,7.25,7.25,7.25,31100,225847,7.245,20230705],[1406,7.25,7.25,7.25,7.25,85200,618598,7.246,20230705],[1407,7.26,7.26,7.26,7.26,79e3,573610,7.246,20230705],[1408,7.25,7.25,7.25,7.25,9600,69693,7.246,20230705],[1409,7.26,7.26,7.26,7.26,71800,521282,7.246,20230705],[1410,7.25,7.25,7.25,7.25,37300,270559,7.246,20230705],[1411,7.25,7.25,7.25,7.25,23500,170599,7.246,20230705],[1412,7.25,7.25,7.25,7.25,81100,588838,7.246,20230705],[1413,7.26,7.26,7.26,7.26,44200,320982,7.246,20230705],[1414,7.25,7.25,7.25,7.25,36800,267271,7.246,20230705],[1415,7.26,7.26,7.26,7.26,48700,353688,7.246,20230705],[1416,7.25,7.25,7.25,7.25,7200,52279,7.246,20230705],[1417,7.25,7.25,7.25,7.25,19800,143768,7.246,20230705],[1418,7.25,7.25,7.25,7.25,22300,161974,7.246,20230705],[1419,7.25,7.25,7.25,7.25,54700,396928,7.246,20230705],[1420,7.25,7.25,7.25,7.25,100100,726016,7.247,20230705],[1421,7.25,7.25,7.25,7.25,59500,431741,7.247,20230705],[1422,7.25,7.25,7.25,7.25,54200,393335,7.247,20230705],[1423,7.25,7.25,7.25,7.25,1100,8294,7.247,20230705],[1424,7.25,7.25,7.25,7.25,23600,171297,7.247,20230705],[1425,7.25,7.25,7.25,7.25,122600,890088,7.247,20230705],[1426,7.25,7.25,7.25,7.25,7e3,50771,7.247,20230705],[1427,7.25,7.25,7.25,7.25,12e3,87097,7.247,20230705],[1428,7.25,7.25,7.25,7.25,41800,303281,7.247,20230705],[1429,7.25,7.25,7.25,7.25,24200,175658,7.247,20230705],[1430,7.25,7.25,7.25,7.25,23400,169845,7.247,20230705],[1431,7.25,7.25,7.25,7.25,87200,633494,7.247,20230705],[1432,7.25,7.25,7.25,7.25,48400,351563,7.247,20230705],[1433,7.25,7.25,7.25,7.25,15100,109619,7.247,20230705],[1434,7.25,7.25,7.25,7.25,24400,177067,7.247,20230705],[1435,7.25,7.25,7.25,7.25,59200,429440,7.247,20230705],[1436,7.25,7.25,7.25,7.25,59500,431845,7.247,20230705],[1437,7.25,7.25,7.25,7.25,108400,786277,7.247,20230705],[1438,7.25,7.25,7.25,7.25,51600,374482,7.247,20230705],[1439,7.25,7.25,7.25,7.25,58200,422219,7.248,20230705],[1440,7.24,7.24,7.24,7.24,449300,3254149,7.247,20230705],[1441,7.24,7.24,7.24,7.24,44e3,318916,7.247,20230705],[1442,7.24,7.24,7.24,7.24,14900,108060,7.247,20230705],[1443,7.24,7.24,7.24,7.24,72e3,521478,7.247,20230705],[1444,7.24,7.24,7.24,7.24,19e3,137643,7.247,20230705],[1445,7.24,7.24,7.24,7.24,82800,600268,7.247,20230705],[1446,7.24,7.24,7.24,7.24,52200,378604,7.247,20230705],[1447,7.24,7.24,7.24,7.24,29300,212142,7.247,20230705],[1448,7.24,7.24,7.24,7.24,14900,108105,7.247,20230705],[1449,7.24,7.24,7.24,7.24,60400,438060,7.247,20230705],[1450,7.25,7.25,7.25,7.25,24e3,174158,7.247,20230705],[1451,7.25,7.25,7.25,7.25,32400,235032,7.247,20230705],[1452,7.24,7.24,7.24,7.24,102300,741636,7.247,20230705],[1453,7.24,7.24,7.24,7.24,72600,526358,7.247,20230705],[1454,7.25,7.25,7.25,7.25,2e4,145084,7.247,20230705],[1455,7.24,7.24,7.24,7.24,74e3,536269,7.247,20230705],[1456,7.25,7.25,7.25,7.25,90300,654864,7.248,20230705],[1457,7.24,7.24,7.24,7.24,32500,235520,7.247,20230705],[1458,7.24,7.24,7.24,7.24,21200,153488,7.247,20230705],[1459,7.24,7.24,7.24,7.24,0,0,7.247,20230705],[1500,7.25,7.25,7.25,7.25,231900,1681137,7.248,20230705]],date:20230705,yclose:7.21},{minute:[[925,7.3,7.3,7.3,7.3,86500,631450,7.3,20230704],[930,7.3,7.3,7.3,7.3,86500,631450,7.3,20230704],[931,7.29,7.29,7.29,7.29,254800,1858930,7.297,20230704],[932,7.3,7.3,7.3,7.3,119200,871431,7.3,20230704],[933,7.29,7.29,7.29,7.29,84600,617344,7.3,20230704],[934,7.29,7.29,7.29,7.29,155e3,1130713,7.299,20230704],[935,7.29,7.29,7.29,7.29,184600,1346782,7.298,20230704],[936,7.28,7.28,7.28,7.28,376600,2745504,7.296,20230704],[937,7.28,7.28,7.28,7.28,154100,1122549,7.295,20230704],[938,7.28,7.28,7.28,7.28,200500,1460433,7.293,20230704],[939,7.28,7.28,7.28,7.28,144100,1049578,7.293,20230704],[940,7.28,7.28,7.28,7.28,133400,971626,7.292,20230704],[941,7.28,7.28,7.28,7.28,136800,996543,7.291,20230704],[942,7.28,7.28,7.28,7.28,147700,1076304,7.291,20230704],[943,7.28,7.28,7.28,7.28,177400,1292819,7.291,20230704],[944,7.28,7.28,7.28,7.28,234600,1709667,7.291,20230704],[945,7.28,7.28,7.28,7.28,262600,1913473,7.29,20230704],[946,7.28,7.28,7.28,7.28,142200,1035687,7.29,20230704],[947,7.28,7.28,7.28,7.28,275e3,2003684,7.29,20230704],[948,7.28,7.28,7.28,7.28,170300,1240858,7.289,20230704],[949,7.29,7.29,7.29,7.29,101e3,736295,7.289,20230704],[950,7.28,7.28,7.28,7.28,190400,1386528,7.289,20230704],[951,7.27,7.27,7.27,7.27,331800,2415453,7.288,20230704],[952,7.27,7.27,7.27,7.27,139300,1014019,7.288,20230704],[953,7.27,7.27,7.27,7.27,107300,780855,7.288,20230704],[954,7.27,7.27,7.27,7.27,88800,646047,7.288,20230704],[955,7.28,7.28,7.28,7.28,105300,766102,7.287,20230704],[956,7.27,7.27,7.27,7.27,111900,813964,7.287,20230704],[957,7.27,7.27,7.27,7.27,97900,711944,7.287,20230704],[958,7.27,7.27,7.27,7.27,126900,924038,7.286,20230704],[959,7.28,7.28,7.28,7.28,135400,986272,7.286,20230704],[1e3,7.27,7.27,7.27,7.27,164400,1197360,7.286,20230704],[1001,7.27,7.27,7.27,7.27,120600,877791,7.286,20230704],[1002,7.27,7.27,7.27,7.27,115700,841731,7.286,20230704],[1003,7.27,7.27,7.27,7.27,86400,628203,7.286,20230704],[1004,7.27,7.27,7.27,7.27,93600,680622,7.285,20230704],[1005,7.27,7.27,7.27,7.27,121300,882199,7.285,20230704],[1006,7.26,7.26,7.26,7.26,461200,3353137,7.284,20230704],[1007,7.26,7.26,7.26,7.26,114100,828510,7.284,20230704],[1008,7.26,7.26,7.26,7.26,165200,1199640,7.283,20230704],[1009,7.26,7.26,7.26,7.26,144600,1050306,7.283,20230704],[1010,7.26,7.26,7.26,7.26,202700,1471755,7.282,20230704],[1011,7.25,7.25,7.25,7.25,89900,652536,7.282,20230704],[1012,7.26,7.26,7.26,7.26,130700,949130,7.281,20230704],[1013,7.26,7.26,7.26,7.26,88300,641094,7.281,20230704],[1014,7.26,7.26,7.26,7.26,94e3,682579,7.281,20230704],[1015,7.26,7.26,7.26,7.26,104800,760959,7.281,20230704],[1016,7.26,7.26,7.26,7.26,200600,1456506,7.28,20230704],[1017,7.25,7.25,7.25,7.25,117800,854333,7.28,20230704],[1018,7.25,7.25,7.25,7.25,96400,699392,7.279,20230704],[1019,7.25,7.25,7.25,7.25,91100,660997,7.279,20230704],[1020,7.26,7.26,7.26,7.26,29700,215713,7.279,20230704],[1021,7.26,7.26,7.26,7.26,6700,48703,7.279,20230704],[1022,7.26,7.26,7.26,7.26,92500,672445,7.279,20230704],[1023,7.26,7.26,7.26,7.26,13200,95921,7.279,20230704],[1024,7.26,7.26,7.26,7.26,5900,42909,7.279,20230704],[1025,7.27,7.27,7.27,7.27,4700,34211,7.279,20230704],[1026,7.27,7.27,7.27,7.27,22600,164407,7.279,20230704],[1027,7.27,7.27,7.27,7.27,5800,42202,7.279,20230704],[1028,7.27,7.27,7.27,7.27,10200,74200,7.279,20230704],[1029,7.27,7.27,7.27,7.27,12200,88724,7.279,20230704],[1030,7.26,7.26,7.26,7.26,254200,1848023,7.278,20230704],[1031,7.26,7.26,7.26,7.26,31200,226765,7.278,20230704],[1032,7.26,7.26,7.26,7.26,9800,71206,7.278,20230704],[1033,7.26,7.26,7.26,7.26,25900,188443,7.278,20230704],[1034,7.26,7.26,7.26,7.26,33e3,239864,7.278,20230704],[1035,7.26,7.26,7.26,7.26,45900,333389,7.278,20230704],[1036,7.26,7.26,7.26,7.26,234700,1704005,7.278,20230704],[1037,7.25,7.25,7.25,7.25,179600,1302684,7.277,20230704],[1038,7.25,7.25,7.25,7.25,125700,911444,7.277,20230704],[1039,7.25,7.25,7.25,7.25,153100,1109999,7.276,20230704],[1040,7.25,7.25,7.25,7.25,156900,1137659,7.276,20230704],[1041,7.24,7.24,7.24,7.24,552400,4004183,7.274,20230704],[1042,7.24,7.24,7.24,7.24,141900,1027437,7.274,20230704],[1043,7.23,7.23,7.23,7.23,346800,2510875,7.273,20230704],[1044,7.23,7.23,7.23,7.23,17e4,1229907,7.272,20230704],[1045,7.24,7.24,7.24,7.24,87900,636719,7.272,20230704],[1046,7.24,7.24,7.24,7.24,1900,13774,7.272,20230704],[1047,7.24,7.24,7.24,7.24,36300,263146,7.272,20230704],[1048,7.25,7.25,7.25,7.25,29500,213936,7.272,20230704],[1049,7.26,7.26,7.26,7.26,31600,229456,7.272,20230704],[1050,7.26,7.26,7.26,7.26,9600,69785,7.272,20230704],[1051,7.26,7.26,7.26,7.26,47500,345118,7.272,20230704],[1052,7.26,7.26,7.26,7.26,58600,425446,7.272,20230704],[1053,7.26,7.26,7.26,7.26,301500,2188958,7.271,20230704],[1054,7.26,7.26,7.26,7.26,94500,686170,7.271,20230704],[1055,7.26,7.26,7.26,7.26,8e3,58100,7.271,20230704],[1056,7.26,7.26,7.26,7.26,66e3,478944,7.271,20230704],[1057,7.25,7.25,7.25,7.25,18900,137181,7.271,20230704],[1058,7.25,7.25,7.25,7.25,24300,176268,7.271,20230704],[1059,7.25,7.25,7.25,7.25,15400,111768,7.271,20230704],[1100,7.25,7.25,7.25,7.25,4300,31176,7.271,20230704],[1101,7.25,7.25,7.25,7.25,38900,282393,7.271,20230704],[1102,7.25,7.25,7.25,7.25,25100,182194,7.271,20230704],[1103,7.25,7.25,7.25,7.25,14200,103029,7.271,20230704],[1104,7.26,7.26,7.26,7.26,61300,444963,7.271,20230704],[1105,7.25,7.25,7.25,7.25,13300,96557,7.271,20230704],[1106,7.25,7.25,7.25,7.25,25500,185054,7.271,20230704],[1107,7.26,7.26,7.26,7.26,13800,100188,7.271,20230704],[1108,7.25,7.25,7.25,7.25,26900,195282,7.271,20230704],[1109,7.25,7.25,7.25,7.25,33200,241003,7.271,20230704],[1110,7.25,7.25,7.25,7.25,20200,146667,7.271,20230704],[1111,7.26,7.26,7.26,7.26,27900,202572,7.271,20230704],[1112,7.27,7.27,7.27,7.27,6e3,43606,7.271,20230704],[1113,7.26,7.26,7.26,7.26,13200,95882,7.271,20230704],[1114,7.26,7.26,7.26,7.26,18200,132292,7.271,20230704],[1115,7.26,7.26,7.26,7.26,20100,146099,7.271,20230704],[1116,7.27,7.27,7.27,7.27,7500,54525,7.271,20230704],[1117,7.26,7.26,7.26,7.26,16e3,116302,7.271,20230704],[1118,7.26,7.26,7.26,7.26,179400,1304343,7.271,20230704],[1119,7.27,7.27,7.27,7.27,3e4,218108,7.271,20230704],[1120,7.26,7.26,7.26,7.26,45e3,326866,7.271,20230704],[1121,7.27,7.27,7.27,7.27,5100,37078,7.271,20230704],[1122,7.26,7.26,7.26,7.26,4100,29799,7.271,20230704],[1123,7.26,7.26,7.26,7.26,9600,69738,7.271,20230704],[1124,7.26,7.26,7.26,7.26,20300,147530,7.271,20230704],[1125,7.26,7.26,7.26,7.26,20800,151156,7.271,20230704],[1126,7.26,7.26,7.26,7.26,20800,151213,7.271,20230704],[1127,7.26,7.26,7.26,7.26,7900,57426,7.271,20230704],[1128,7.26,7.26,7.26,7.26,23600,171537,7.271,20230704],[1129,7.26,7.26,7.26,7.26,20300,147446,7.271,20230704],[1130,7.26,7.26,7.26,7.26,21700,157737,7.271,20230704],[1300,7.26,7.26,7.26,7.26,302700,2200588,7.271,20230704],[1301,7.26,7.26,7.26,7.26,302700,2200588,7.271,20230704],[1302,7.26,7.26,7.26,7.26,45500,330532,7.271,20230704],[1303,7.25,7.25,7.25,7.25,84700,614894,7.271,20230704],[1304,7.26,7.26,7.26,7.26,28300,205507,7.271,20230704],[1305,7.26,7.26,7.26,7.26,9300,67562,7.271,20230704],[1306,7.25,7.25,7.25,7.25,53e3,384776,7.271,20230704],[1307,7.26,7.26,7.26,7.26,48200,349967,7.271,20230704],[1308,7.25,7.25,7.25,7.25,22200,161152,7.27,20230704],[1309,7.25,7.25,7.25,7.25,7400,53679,7.27,20230704],[1310,7.25,7.25,7.25,7.25,12800,92836,7.27,20230704],[1311,7.25,7.25,7.25,7.25,8900,64560,7.27,20230704],[1312,7.25,7.25,7.25,7.25,16100,116816,7.27,20230704],[1313,7.25,7.25,7.25,7.25,10200,74048,7.27,20230704],[1314,7.25,7.25,7.25,7.25,13500,97948,7.27,20230704],[1315,7.25,7.25,7.25,7.25,5400,39202,7.27,20230704],[1316,7.25,7.25,7.25,7.25,7e3,50808,7.27,20230704],[1317,7.25,7.25,7.25,7.25,89900,652528,7.27,20230704],[1318,7.26,7.26,7.26,7.26,81300,591030,7.27,20230704],[1319,7.26,7.26,7.26,7.26,600,4669,7.27,20230704],[1320,7.26,7.26,7.26,7.26,7600,55223,7.27,20230704],[1321,7.26,7.26,7.26,7.26,16e3,116317,7.27,20230704],[1322,7.26,7.26,7.26,7.26,10200,74102,7.27,20230704],[1323,7.26,7.26,7.26,7.26,4700,34133,7.27,20230704],[1324,7.25,7.25,7.25,7.25,368e3,2668851,7.27,20230704],[1325,7.26,7.26,7.26,7.26,7600,55193,7.27,20230704],[1326,7.26,7.26,7.26,7.26,34600,251195,7.27,20230704],[1327,7.26,7.26,7.26,7.26,27100,196875,7.27,20230704],[1328,7.25,7.25,7.25,7.25,28800,209083,7.27,20230704],[1329,7.26,7.26,7.26,7.26,13100,95123,7.27,20230704],[1330,7.25,7.25,7.25,7.25,31900,231618,7.27,20230704],[1331,7.25,7.25,7.25,7.25,17900,129880,7.27,20230704],[1332,7.25,7.25,7.25,7.25,72300,524851,7.27,20230704],[1333,7.25,7.25,7.25,7.25,12300,89297,7.27,20230704],[1334,7.25,7.25,7.25,7.25,8600,62428,7.27,20230704],[1335,7.25,7.25,7.25,7.25,12400,90018,7.27,20230704],[1336,7.25,7.25,7.25,7.25,15600,113237,7.27,20230704],[1337,7.25,7.25,7.25,7.25,8400,60929,7.27,20230704],[1338,7.25,7.25,7.25,7.25,16e3,116059,7.27,20230704],[1339,7.25,7.25,7.25,7.25,22800,165328,7.27,20230704],[1340,7.25,7.25,7.25,7.25,88600,643199,7.27,20230704],[1341,7.25,7.25,7.25,7.25,19900,144449,7.269,20230704],[1342,7.25,7.25,7.25,7.25,7600,55175,7.269,20230704],[1343,7.25,7.25,7.25,7.25,11700,84921,7.269,20230704],[1344,7.25,7.25,7.25,7.25,21200,153761,7.269,20230704],[1345,7.25,7.25,7.25,7.25,23900,173393,7.269,20230704],[1346,7.25,7.25,7.25,7.25,13700,99460,7.269,20230704],[1347,7.26,7.26,7.26,7.26,58700,426167,7.269,20230704],[1348,7.26,7.26,7.26,7.26,9100,66066,7.269,20230704],[1349,7.26,7.26,7.26,7.26,49600,360111,7.269,20230704],[1350,7.25,7.25,7.25,7.25,37300,270730,7.269,20230704],[1351,7.25,7.25,7.25,7.25,6200,45007,7.269,20230704],[1352,7.25,7.25,7.25,7.25,14900,108146,7.269,20230704],[1353,7.25,7.25,7.25,7.25,12600,91424,7.269,20230704],[1354,7.25,7.25,7.25,7.25,93200,675891,7.269,20230704],[1355,7.25,7.25,7.25,7.25,13800,100143,7.269,20230704],[1356,7.25,7.25,7.25,7.25,19100,138641,7.269,20230704],[1357,7.25,7.25,7.25,7.25,19100,138341,7.269,20230704],[1358,7.25,7.25,7.25,7.25,15400,111700,7.269,20230704],[1359,7.25,7.25,7.25,7.25,15500,112427,7.269,20230704],[1400,7.25,7.25,7.25,7.25,29600,214556,7.269,20230704],[1401,7.25,7.25,7.25,7.25,6200,44970,7.269,20230704],[1402,7.26,7.26,7.26,7.26,15e3,108900,7.269,20230704],[1403,7.25,7.25,7.25,7.25,117400,851242,7.269,20230704],[1404,7.25,7.25,7.25,7.25,13700,99434,7.269,20230704],[1405,7.25,7.25,7.25,7.25,12700,92189,7.269,20230704],[1406,7.26,7.26,7.26,7.26,8800,63888,7.269,20230704],[1407,7.26,7.26,7.26,7.26,107400,779966,7.269,20230704],[1408,7.26,7.26,7.26,7.26,21300,154758,7.269,20230704],[1409,7.26,7.26,7.26,7.26,16e3,116165,7.269,20230704],[1410,7.26,7.26,7.26,7.26,51200,371821,7.269,20230704],[1411,7.26,7.26,7.26,7.26,24200,175694,7.269,20230704],[1412,7.26,7.26,7.26,7.26,34100,247712,7.269,20230704],[1413,7.26,7.26,7.26,7.26,23e3,167201,7.269,20230704],[1414,7.26,7.26,7.26,7.26,24100,175044,7.269,20230704],[1415,7.26,7.26,7.26,7.26,35800,259957,7.269,20230704],[1416,7.26,7.26,7.26,7.26,41100,298796,7.269,20230704],[1417,7.26,7.26,7.26,7.26,5e4,363495,7.269,20230704],[1418,7.27,7.27,7.27,7.27,92300,671254,7.269,20230704],[1419,7.27,7.27,7.27,7.27,32600,237249,7.269,20230704],[1420,7.27,7.27,7.27,7.27,24900,181158,7.269,20230704],[1421,7.27,7.27,7.27,7.27,129300,940286,7.269,20230704],[1422,7.27,7.27,7.27,7.27,16400,119350,7.269,20230704],[1423,7.28,7.28,7.28,7.28,21e3,152875,7.269,20230704],[1424,7.26,7.26,7.26,7.26,65500,476106,7.269,20230704],[1425,7.27,7.27,7.27,7.27,93500,680607,7.269,20230704],[1426,7.27,7.27,7.27,7.27,12600,91627,7.269,20230704],[1427,7.27,7.27,7.27,7.27,15300,111340,7.269,20230704],[1428,7.27,7.27,7.27,7.27,14300,104092,7.269,20230704],[1429,7.27,7.27,7.27,7.27,36e3,262005,7.269,20230704],[1430,7.27,7.27,7.27,7.27,29300,213196,7.269,20230704],[1431,7.27,7.27,7.27,7.27,11400,82927,7.269,20230704],[1432,7.27,7.27,7.27,7.27,7e3,50951,7.269,20230704],[1433,7.28,7.28,7.28,7.28,10700,77896,7.269,20230704],[1434,7.27,7.27,7.27,7.27,46700,339965,7.269,20230704],[1435,7.27,7.27,7.27,7.27,24400,177560,7.269,20230704],[1436,7.27,7.27,7.27,7.27,1100,8003,7.269,20230704],[1437,7.27,7.27,7.27,7.27,64900,472470,7.269,20230704],[1438,7.27,7.27,7.27,7.27,17400,126661,7.269,20230704],[1439,7.27,7.27,7.27,7.27,33300,242328,7.269,20230704],[1440,7.27,7.27,7.27,7.27,224400,1633562,7.269,20230704],[1441,7.28,7.28,7.28,7.28,204800,1491408,7.269,20230704],[1442,7.27,7.27,7.27,7.27,41700,303628,7.269,20230704],[1443,7.28,7.28,7.28,7.28,26500,192958,7.269,20230704],[1444,7.28,7.28,7.28,7.28,20900,152206,7.269,20230704],[1445,7.28,7.28,7.28,7.28,49600,361099,7.27,20230704],[1446,7.28,7.28,7.28,7.28,8900,64818,7.27,20230704],[1447,7.28,7.28,7.28,7.28,46400,338138,7.27,20230704],[1448,7.28,7.28,7.28,7.28,26500,193161,7.27,20230704],[1449,7.28,7.28,7.28,7.28,25800,188008,7.27,20230704],[1450,7.28,7.28,7.28,7.28,59e3,429926,7.27,20230704],[1451,7.27,7.27,7.27,7.27,98200,714737,7.27,20230704],[1452,7.27,7.27,7.27,7.27,31500,229303,7.27,20230704],[1453,7.27,7.27,7.27,7.27,56200,408966,7.27,20230704],[1454,7.27,7.27,7.27,7.27,259e3,1883109,7.27,20230704],[1455,7.27,7.27,7.27,7.27,133800,972744,7.27,20230704],[1456,7.26,7.26,7.26,7.26,45700,332309,7.27,20230704],[1457,7.27,7.27,7.27,7.27,109100,793412,7.27,20230704],[1458,7.27,7.27,7.27,7.27,4400,31988,7.27,20230704],[1459,7.27,7.27,7.27,7.27,0,0,7.27,20230704],[1500,7.28,7.28,7.28,7.28,339700,2473016,7.27,20230704]],date:20230704,yclose:7.21},{minute:[[925,7.25,7.25,7.25,7.25,42300,306682,7.25,20230703],[930,7.25,7.25,7.25,7.25,42300,306682,7.25,20230703],[931,7.25,7.25,7.25,7.25,281900,2047598,7.262,20230703],[932,7.26,7.26,7.26,7.26,204e3,1482637,7.264,20230703],[933,7.25,7.25,7.25,7.25,95400,692691,7.264,20230703],[934,7.25,7.25,7.25,7.25,80900,587030,7.263,20230703],[935,7.25,7.25,7.25,7.25,117700,854657,7.263,20230703],[936,7.27,7.27,7.27,7.27,205300,1492925,7.264,20230703],[937,7.27,7.27,7.27,7.27,667500,4858990,7.27,20230703],[938,7.28,7.28,7.28,7.28,324700,2367328,7.274,20230703],[939,7.27,7.27,7.27,7.27,234600,1707964,7.274,20230703],[940,7.27,7.27,7.27,7.27,87e3,632895,7.274,20230703],[941,7.27,7.27,7.27,7.27,144500,1051954,7.275,20230703],[942,7.27,7.27,7.27,7.27,100400,730911,7.275,20230703],[943,7.28,7.28,7.28,7.28,212400,1547187,7.276,20230703],[944,7.27,7.27,7.27,7.27,108600,790710,7.276,20230703],[945,7.27,7.27,7.27,7.27,198600,1446546,7.276,20230703],[946,7.27,7.27,7.27,7.27,94300,686446,7.276,20230703],[947,7.27,7.27,7.27,7.27,201300,1464318,7.276,20230703],[948,7.27,7.27,7.27,7.27,96300,700487,7.276,20230703],[949,7.27,7.27,7.27,7.27,51e3,370937,7.276,20230703],[950,7.27,7.27,7.27,7.27,184900,1345309,7.276,20230703],[951,7.25,7.25,7.25,7.25,535100,3887071,7.275,20230703],[952,7.26,7.26,7.26,7.26,77800,565608,7.275,20230703],[953,7.26,7.26,7.26,7.26,70200,510357,7.275,20230703],[954,7.26,7.26,7.26,7.26,94300,685829,7.275,20230703],[955,7.26,7.26,7.26,7.26,53900,391985,7.274,20230703],[956,7.26,7.26,7.26,7.26,62100,451377,7.274,20230703],[957,7.26,7.26,7.26,7.26,44300,321804,7.274,20230703],[958,7.25,7.25,7.25,7.25,357200,2594561,7.273,20230703],[959,7.25,7.25,7.25,7.25,93400,678095,7.273,20230703],[1e3,7.25,7.25,7.25,7.25,248e3,1799419,7.272,20230703],[1001,7.27,7.27,7.27,7.27,145500,1058187,7.272,20230703],[1002,7.26,7.26,7.26,7.26,149100,1084909,7.273,20230703],[1003,7.26,7.26,7.26,7.26,44600,324216,7.273,20230703],[1004,7.27,7.27,7.27,7.27,47e3,341742,7.273,20230703],[1005,7.26,7.26,7.26,7.26,40900,297319,7.272,20230703],[1006,7.26,7.26,7.26,7.26,32800,238449,7.272,20230703],[1007,7.26,7.26,7.26,7.26,42900,311789,7.272,20230703],[1008,7.26,7.26,7.26,7.26,84700,615812,7.272,20230703],[1009,7.26,7.26,7.26,7.26,34900,253572,7.272,20230703],[1010,7.26,7.26,7.26,7.26,58e3,421574,7.272,20230703],[1011,7.26,7.26,7.26,7.26,82200,597757,7.272,20230703],[1012,7.27,7.27,7.27,7.27,38400,279279,7.272,20230703],[1013,7.26,7.26,7.26,7.26,74800,544122,7.272,20230703],[1014,7.27,7.27,7.27,7.27,404200,2942491,7.273,20230703],[1015,7.28,7.28,7.28,7.28,47600,346854,7.273,20230703],[1016,7.28,7.28,7.28,7.28,22e3,160289,7.273,20230703],[1017,7.27,7.27,7.27,7.27,127700,929404,7.273,20230703],[1018,7.26,7.26,7.26,7.26,278e3,2022768,7.273,20230703],[1019,7.27,7.27,7.27,7.27,11600,84417,7.273,20230703],[1020,7.27,7.27,7.27,7.27,64700,470664,7.273,20230703],[1021,7.27,7.27,7.27,7.27,23300,169430,7.273,20230703],[1022,7.27,7.27,7.27,7.27,33800,245957,7.273,20230703],[1023,7.27,7.27,7.27,7.27,28400,206733,7.273,20230703],[1024,7.27,7.27,7.27,7.27,146900,1068140,7.273,20230703],[1025,7.27,7.27,7.27,7.27,66100,481063,7.273,20230703],[1026,7.27,7.27,7.27,7.27,74600,543332,7.273,20230703],[1027,7.27,7.27,7.27,7.27,81400,593028,7.273,20230703],[1028,7.27,7.27,7.27,7.27,50900,370503,7.274,20230703],[1029,7.27,7.27,7.27,7.27,35500,258438,7.274,20230703],[1030,7.27,7.27,7.27,7.27,34600,251904,7.274,20230703],[1031,7.27,7.27,7.27,7.27,20900,152175,7.274,20230703],[1032,7.27,7.27,7.27,7.27,45500,331264,7.274,20230703],[1033,7.28,7.28,7.28,7.28,37800,275325,7.274,20230703],[1034,7.27,7.27,7.27,7.27,56400,410538,7.274,20230703],[1035,7.27,7.27,7.27,7.27,10700,77885,7.274,20230703],[1036,7.27,7.27,7.27,7.27,12800,93183,7.274,20230703],[1037,7.27,7.27,7.27,7.27,51700,375892,7.274,20230703],[1038,7.27,7.27,7.27,7.27,33600,244543,7.274,20230703],[1039,7.27,7.27,7.27,7.27,95e3,691661,7.274,20230703],[1040,7.27,7.27,7.27,7.27,77200,562006,7.274,20230703],[1041,7.28,7.28,7.28,7.28,47200,343770,7.274,20230703],[1042,7.28,7.28,7.28,7.28,6300,45873,7.274,20230703],[1043,7.28,7.28,7.28,7.28,5100,37159,7.274,20230703],[1044,7.28,7.28,7.28,7.28,8700,63422,7.274,20230703],[1045,7.28,7.28,7.28,7.28,19200,139935,7.274,20230703],[1046,7.28,7.28,7.28,7.28,23400,170508,7.274,20230703],[1047,7.28,7.28,7.28,7.28,35100,255811,7.274,20230703],[1048,7.28,7.28,7.28,7.28,8500,61939,7.274,20230703],[1049,7.28,7.28,7.28,7.28,69600,507141,7.274,20230703],[1050,7.28,7.28,7.28,7.28,52200,380188,7.274,20230703],[1051,7.29,7.29,7.29,7.29,42e3,306031,7.274,20230703],[1052,7.28,7.28,7.28,7.28,28e3,203863,7.274,20230703],[1053,7.28,7.28,7.28,7.28,114100,830680,7.274,20230703],[1054,7.28,7.28,7.28,7.28,22100,160954,7.274,20230703],[1055,7.28,7.28,7.28,7.28,25800,187868,7.275,20230703],[1056,7.28,7.28,7.28,7.28,13e3,94656,7.275,20230703],[1057,7.28,7.28,7.28,7.28,42400,308890,7.275,20230703],[1058,7.28,7.28,7.28,7.28,18700,136552,7.275,20230703],[1059,7.28,7.28,7.28,7.28,13500,98327,7.275,20230703],[1100,7.28,7.28,7.28,7.28,16900,123144,7.275,20230703],[1101,7.28,7.28,7.28,7.28,5300,38618,7.275,20230703],[1102,7.28,7.28,7.28,7.28,165400,1204125,7.275,20230703],[1103,7.27,7.27,7.27,7.27,281600,2049670,7.275,20230703],[1104,7.28,7.28,7.28,7.28,14e3,101919,7.275,20230703],[1105,7.27,7.27,7.27,7.27,133100,967666,7.275,20230703],[1106,7.26,7.26,7.26,7.26,188500,1370406,7.275,20230703],[1107,7.26,7.26,7.26,7.26,130200,946004,7.275,20230703],[1108,7.27,7.27,7.27,7.27,171300,1245543,7.275,20230703],[1109,7.27,7.27,7.27,7.27,200900,1460676,7.274,20230703],[1110,7.27,7.27,7.27,7.27,287200,2090369,7.275,20230703],[1111,7.27,7.27,7.27,7.27,117900,857420,7.275,20230703],[1112,7.27,7.27,7.27,7.27,228700,1663784,7.275,20230703],[1113,7.27,7.27,7.27,7.27,115700,841167,7.275,20230703],[1114,7.27,7.27,7.27,7.27,150200,1092286,7.274,20230703],[1115,7.27,7.27,7.27,7.27,61600,448323,7.274,20230703],[1116,7.28,7.28,7.28,7.28,17800,129587,7.275,20230703],[1117,7.27,7.27,7.27,7.27,17100,124370,7.275,20230703],[1118,7.27,7.27,7.27,7.27,17800,129475,7.275,20230703],[1119,7.27,7.27,7.27,7.27,30200,219807,7.275,20230703],[1120,7.28,7.28,7.28,7.28,18200,132581,7.275,20230703],[1121,7.28,7.28,7.28,7.28,9800,71441,7.275,20230703],[1122,7.27,7.27,7.27,7.27,67300,489871,7.275,20230703],[1123,7.27,7.27,7.27,7.27,15400,112064,7.275,20230703],[1124,7.27,7.27,7.27,7.27,147100,1070783,7.275,20230703],[1125,7.27,7.27,7.27,7.27,48800,355153,7.275,20230703],[1126,7.27,7.27,7.27,7.27,45400,330332,7.275,20230703],[1127,7.28,7.28,7.28,7.28,359700,2618814,7.275,20230703],[1128,7.28,7.28,7.28,7.28,85100,620377,7.275,20230703],[1129,7.28,7.28,7.28,7.28,125200,912587,7.275,20230703],[1130,7.29,7.29,7.29,7.29,124500,907603,7.275,20230703],[1300,7.29,7.29,7.29,7.29,355800,2596831,7.276,20230703],[1301,7.29,7.29,7.29,7.29,355800,2596831,7.276,20230703],[1302,7.29,7.29,7.29,7.29,74800,545509,7.276,20230703],[1303,7.29,7.29,7.29,7.29,265600,1936651,7.276,20230703],[1304,7.28,7.28,7.28,7.28,43400,316258,7.276,20230703],[1305,7.28,7.28,7.28,7.28,14800,107897,7.276,20230703],[1306,7.29,7.29,7.29,7.29,62300,454669,7.276,20230703],[1307,7.29,7.29,7.29,7.29,61300,447361,7.277,20230703],[1308,7.29,7.29,7.29,7.29,16500,120319,7.277,20230703],[1309,7.29,7.29,7.29,7.29,56600,412946,7.277,20230703],[1310,7.29,7.29,7.29,7.29,22600,164925,7.277,20230703],[1311,7.29,7.29,7.29,7.29,1e4,72950,7.277,20230703],[1312,7.29,7.29,7.29,7.29,999900,7305534,7.279,20230703],[1313,7.31,7.31,7.31,7.31,38300,280002,7.279,20230703],[1314,7.3,7.3,7.3,7.3,36100,263779,7.279,20230703],[1315,7.3,7.3,7.3,7.3,112700,824079,7.279,20230703],[1316,7.3,7.3,7.3,7.3,16200,118368,7.279,20230703],[1317,7.3,7.3,7.3,7.3,18600,135797,7.279,20230703],[1318,7.3,7.3,7.3,7.3,92500,676218,7.279,20230703],[1319,7.31,7.31,7.31,7.31,10400,76071,7.28,20230703],[1320,7.31,7.31,7.31,7.31,44400,324678,7.28,20230703],[1321,7.31,7.31,7.31,7.31,53400,390761,7.28,20230703],[1322,7.31,7.31,7.31,7.31,304500,2226059,7.28,20230703],[1323,7.3,7.3,7.3,7.3,38900,284250,7.28,20230703],[1324,7.3,7.3,7.3,7.3,38300,279826,7.281,20230703],[1325,7.3,7.3,7.3,7.3,15400,112493,7.281,20230703],[1326,7.3,7.3,7.3,7.3,8900,65028,7.281,20230703],[1327,7.3,7.3,7.3,7.3,67600,493804,7.281,20230703],[1328,7.3,7.3,7.3,7.3,65400,478063,7.281,20230703],[1329,7.31,7.31,7.31,7.31,2200,16082,7.281,20230703],[1330,7.3,7.3,7.3,7.3,23300,170279,7.281,20230703],[1331,7.31,7.31,7.31,7.31,15400,112564,7.281,20230703],[1332,7.31,7.31,7.31,7.31,163100,1192474,7.281,20230703],[1333,7.31,7.31,7.31,7.31,27200,199050,7.281,20230703],[1334,7.31,7.31,7.31,7.31,8300,60702,7.281,20230703],[1335,7.31,7.31,7.31,7.31,450800,3299813,7.282,20230703],[1336,7.31,7.31,7.31,7.31,141800,1037947,7.283,20230703],[1337,7.32,7.32,7.32,7.32,45900,336009,7.283,20230703],[1338,7.32,7.32,7.32,7.32,7300,53436,7.283,20230703],[1339,7.31,7.31,7.31,7.31,23400,171235,7.283,20230703],[1340,7.31,7.31,7.31,7.31,17200,125818,7.283,20230703],[1341,7.31,7.31,7.31,7.31,10100,73905,7.283,20230703],[1342,7.31,7.31,7.31,7.31,32100,234819,7.283,20230703],[1343,7.31,7.31,7.31,7.31,141800,1037897,7.283,20230703],[1344,7.33,7.33,7.33,7.33,23500,172255,7.283,20230703],[1345,7.32,7.32,7.32,7.32,16e3,117155,7.283,20230703],[1346,7.31,7.31,7.31,7.31,120900,885003,7.284,20230703],[1347,7.31,7.31,7.31,7.31,14900,109011,7.284,20230703],[1348,7.31,7.31,7.31,7.31,23200,169740,7.284,20230703],[1349,7.31,7.31,7.31,7.31,12900,94394,7.284,20230703],[1350,7.31,7.31,7.31,7.31,19e3,139045,7.284,20230703],[1351,7.31,7.31,7.31,7.31,36600,267905,7.284,20230703],[1352,7.31,7.31,7.31,7.31,313100,2288790,7.284,20230703],[1353,7.31,7.31,7.31,7.31,83200,608907,7.285,20230703],[1354,7.31,7.31,7.31,7.31,74700,547081,7.285,20230703],[1355,7.31,7.31,7.31,7.31,23800,174204,7.285,20230703],[1356,7.32,7.32,7.32,7.32,31500,230576,7.285,20230703],[1357,7.32,7.32,7.32,7.32,19300,141280,7.285,20230703],[1358,7.32,7.32,7.32,7.32,9700,71030,7.285,20230703],[1359,7.32,7.32,7.32,7.32,39e3,285698,7.285,20230703],[1400,7.32,7.32,7.32,7.32,15700,114957,7.285,20230703],[1401,7.32,7.32,7.32,7.32,162700,1191430,7.285,20230703],[1402,7.32,7.32,7.32,7.32,10700,78327,7.285,20230703],[1403,7.31,7.31,7.31,7.31,111e3,811858,7.286,20230703],[1404,7.31,7.31,7.31,7.31,33e3,241485,7.286,20230703],[1405,7.31,7.31,7.31,7.31,8400,61454,7.286,20230703],[1406,7.31,7.31,7.31,7.31,7100,51656,7.286,20230703],[1407,7.31,7.31,7.31,7.31,59200,433201,7.286,20230703],[1408,7.31,7.31,7.31,7.31,45600,333736,7.286,20230703],[1409,7.31,7.31,7.31,7.31,16700,122188,7.286,20230703],[1410,7.31,7.31,7.31,7.31,16e3,117042,7.286,20230703],[1411,7.3,7.3,7.3,7.3,185e3,1352612,7.286,20230703],[1412,7.31,7.31,7.31,7.31,129800,949495,7.286,20230703],[1413,7.3,7.3,7.3,7.3,24300,177802,7.286,20230703],[1414,7.31,7.31,7.31,7.31,4400,32173,7.286,20230703],[1415,7.31,7.31,7.31,7.31,11e3,80414,7.286,20230703],[1416,7.31,7.31,7.31,7.31,48100,351718,7.287,20230703],[1417,7.31,7.31,7.31,7.31,9800,71670,7.287,20230703],[1418,7.31,7.31,7.31,7.31,31200,228086,7.287,20230703],[1419,7.31,7.31,7.31,7.31,19500,142559,7.287,20230703],[1420,7.31,7.31,7.31,7.31,18900,138188,7.287,20230703],[1421,7.31,7.31,7.31,7.31,11500,84069,7.287,20230703],[1422,7.31,7.31,7.31,7.31,13600,99429,7.287,20230703],[1423,7.31,7.31,7.31,7.31,31200,228285,7.287,20230703],[1424,7.31,7.31,7.31,7.31,71800,525520,7.287,20230703],[1425,7.31,7.31,7.31,7.31,99500,728002,7.287,20230703],[1426,7.31,7.31,7.31,7.31,15600,114099,7.287,20230703],[1427,7.31,7.31,7.31,7.31,15100,110429,7.287,20230703],[1428,7.31,7.31,7.31,7.31,37300,272947,7.287,20230703],[1429,7.31,7.31,7.31,7.31,27600,201998,7.287,20230703],[1430,7.31,7.31,7.31,7.31,42100,308133,7.287,20230703],[1431,7.31,7.31,7.31,7.31,42800,312933,7.287,20230703],[1432,7.31,7.31,7.31,7.31,9900,72408,7.287,20230703],[1433,7.31,7.31,7.31,7.31,16500,120674,7.287,20230703],[1434,7.31,7.31,7.31,7.31,8e3,58492,7.287,20230703],[1435,7.31,7.31,7.31,7.31,7300,53399,7.287,20230703],[1436,7.31,7.31,7.31,7.31,15900,116306,7.287,20230703],[1437,7.31,7.31,7.31,7.31,11100,81176,7.287,20230703],[1438,7.31,7.31,7.31,7.31,37800,276382,7.287,20230703],[1439,7.31,7.31,7.31,7.31,240500,1760239,7.288,20230703],[1440,7.31,7.31,7.31,7.31,8200,59964,7.288,20230703],[1441,7.31,7.31,7.31,7.31,22300,163057,7.288,20230703],[1442,7.31,7.31,7.31,7.31,22300,163068,7.288,20230703],[1443,7.31,7.31,7.31,7.31,21100,154379,7.288,20230703],[1444,7.31,7.31,7.31,7.31,23800,174158,7.288,20230703],[1445,7.31,7.31,7.31,7.31,13400,97991,7.288,20230703],[1446,7.31,7.31,7.31,7.31,137100,1002261,7.288,20230703],[1447,7.31,7.31,7.31,7.31,89200,652090,7.288,20230703],[1448,7.31,7.31,7.31,7.31,12900,94374,7.288,20230703],[1449,7.31,7.31,7.31,7.31,95200,695967,7.288,20230703],[1450,7.31,7.31,7.31,7.31,115200,842354,7.289,20230703],[1451,7.31,7.31,7.31,7.31,190800,1396309,7.289,20230703],[1452,7.31,7.31,7.31,7.31,75400,551635,7.289,20230703],[1453,7.31,7.31,7.31,7.31,208200,1522926,7.289,20230703],[1454,7.3,7.3,7.3,7.3,132200,966344,7.289,20230703],[1455,7.3,7.3,7.3,7.3,83300,608805,7.289,20230703],[1456,7.3,7.3,7.3,7.3,175100,1278946,7.29,20230703],[1457,7.3,7.3,7.3,7.3,170500,1245036,7.29,20230703],[1458,7.3,7.3,7.3,7.3,5500,40150,7.29,20230703],[1459,7.3,7.3,7.3,7.3,0,0,7.29,20230703],[1500,7.32,7.32,7.32,7.32,421e3,3081720,7.29,20230703]],date:20230703,yclose:7.21}],code:0},s={stock:[{count:41,stockday:[{date:20140320,capital:{a:14922777132}},{date:20140814,capital:{a:14922777132}},{date:20150319,capital:{a:14922777132}},{date:20150820,capital:{a:14922777132}},{date:20160322,capital:{a:18653471415}},{date:20160407,capital:{a:18653471415}},{date:20160616,capital:{a:20518818557}},{date:20160811,capital:{a:20518818557}},{date:20170314,capital:{a:21618279922}},{date:20170519,capital:{a:28103763899}},{date:20170830,capital:{a:28103763899}},{date:20170906,capital:{a:28103763899}},{date:20180830,capital:{a:28103763899}},{date:20190326,capital:{a:28103763899}},{date:20190823,capital:{a:28103763899}},{date:20200424,capital:{a:28103763899}},{date:20200702,capital:{a:28103794812}},{date:20200703,capital:{a:28103794812}},{date:20200715,capital:{a:28103805551}},{date:20200716,capital:{a:28103805551}},{date:20200828,capital:{a:28103794812}},{date:20200831,capital:{a:29352131712}},{date:20200901,capital:{a:29352131712}},{date:20201009,capital:{a:29352134127}},{date:20201012,capital:{a:29352134127}},{date:20210702,capital:{a:29352156163}},{date:20210712,capital:{a:29352160584}},{date:20210713,capital:{a:29352160584}},{date:20211008,capital:{a:29352165582}},{date:20220105,capital:{a:29352168006}},{date:20220106,capital:{a:29352168006}},{date:20220401,capital:{a:29352171861}},{date:20221011,capital:{a:29352173656}},{date:20230104,capital:{a:29352174170}},{date:20230105,capital:{a:29352174170}},{date:20230403,capital:{a:29352174759}},{date:20230404,capital:{a:29352174759}},{date:20230703,capital:{a:29352175421}},{date:20230704,capital:{a:29352175421}},{date:20230712,capital:{a:29352175642}},{date:20230713,capital:{a:29352175642}}],symbol:"600000.sh",name:null}],start:0,end:0,count:1,ticket:266,version:"HQ.StockHistoryDay 2.0",message:null,code:0,servertime:"2023-08-29 14:55:58"},l={data:[[20110429,14.62,14.7,14.74,14,14.28,101688583,1452649693],[20110503,14.28,14.24,14.41,14.12,14.29,47035506,673472605],[20110504,14.29,14.2,14.37,13.74,13.83,81001236,1132838506],[20110505,13.83,13.75,13.99,13.63,13.88,46974559,650093903],[20110506,13.88,13.72,13.97,13.66,13.82,36757391,508740035],[20110509,13.82,13.8,13.97,13.7,13.76,30554676,422490266],[20110510,13.76,13.8,13.99,13.71,13.97,36795361,511163677],[20110511,13.97,13.97,14.05,13.81,13.88,27344003,380898283],[20110512,13.88,13.81,13.94,13.64,13.65,37059483,511077951],[20110513,13.65,13.68,13.83,13.49,13.83,52149614,712045065],[20110516,13.83,13.75,13.91,13.68,13.69,37488832,517163716],[20110517,13.69,13.7,14,13.62,13.91,48282261,669260989],[20110518,13.91,13.89,14.22,13.84,14.15,54624469,770723084],[20110519,14.15,14.18,14.32,14.1,14.14,44471117,632129346],[20110520,14.14,14.13,14.35,14.1,14.24,51652211,736778833],[20110523,14.24,14.17,14.23,13.8,13.86,49529764,690545338],[20110524,13.86,13.82,13.94,13.79,13.85,33302192,462259457],[20110525,13.85,13.82,13.86,13.58,13.6,30456437,417290094],[20110526,13.6,13.71,13.75,13.56,13.65,32165477,439304202],[20110527,13.65,13.68,13.89,13.57,13.69,42690707,586884307],[20110530,13.69,13.65,13.86,13.57,13.8,32773527,450312962],[20110531,13.8,13.81,13.87,13.64,13.86,54862272,754258699],[20110601,13.86,13.8,13.88,13.69,13.74,43373105,597661115],[20110602,13.74,13.6,13.65,13.07,13.21,78054220,1039092746],[20110603,10.04,10.02,10.14,10,10.09,38481953,387260340],[20110607,10.09,10.04,10.13,9.98,10.1,32112692,322851680],[20110608,10.1,10.11,10.12,9.78,9.92,71399603,705901472],[20110609,9.92,9.9,9.9,9.67,9.69,50650154,494816808],[20110610,9.69,9.71,9.8,9.68,9.74,41514189,403650864],[20110613,9.74,9.7,9.83,9.62,9.79,33499528,325257133],[20110614,9.79,9.78,10.04,9.73,9.92,59763717,594459887],[20110615,9.92,9.9,9.9,9.69,9.72,50642541,494521264],[20110616,9.72,9.67,9.71,9.59,9.61,43684110,420806039],[20110617,9.61,9.61,9.69,9.55,9.56,38151775,367427557],[20110620,9.56,9.55,9.67,9.51,9.65,49155845,471826236],[20110621,9.65,9.66,9.72,9.63,9.68,44032371,426182669],[20110622,9.68,9.73,9.73,9.57,9.63,44402682,428768703],[20110623,9.63,9.62,9.79,9.5,9.74,51462993,496177923],[20110624,9.74,9.69,10.18,9.67,10.1,108608292,1083590773],[20110627,10.1,10.1,10.21,10,10.07,61879841,624566437],[20110628,10.07,10.07,10.08,9.89,10,48625916,485148836],[20110629,10,10,10.04,9.74,9.76,92115792,906629869],[20110630,9.76,9.78,9.97,9.74,9.84,89477914,880212562],[20110701,9.84,9.85,9.86,9.65,9.74,84950358,829257826],[20110704,9.74,9.79,10.12,9.78,10.1,137704167,1372265445],[20110705,10.1,10.1,10.18,9.99,10.05,79844236,803065821],[20110706,10.05,10.01,10.01,9.8,9.92,78083396,771582190],[20110707,9.92,10.09,10.15,9.9,9.93,110306181,1107281017],[20110708,9.93,9.95,10.25,9.93,10.14,96178652,973144633],[20110711,10.14,10.05,10.13,9.96,10.05,77297565,774789745],[20110712,10.05,9.97,10.02,9.84,9.88,73779698,730710128],[20110713,9.88,9.93,10.08,9.87,10.01,60517246,605053186],[20110714,10.01,10,10.1,9.97,10.1,72244581,725394120],[20110715,10.1,10.05,10.14,9.99,10.09,66656003,672068536],[20110718,10.09,10.1,10.1,9.93,10,88296134,883661214],[20110719,10,9.94,9.96,9.82,9.85,77790440,768616582],[20110720,9.85,9.9,9.94,9.77,9.84,63761031,626819364],[20110721,9.84,9.83,9.85,9.64,9.73,73648903,716204441],[20110722,9.73,9.75,9.78,9.67,9.7,52488395,509417136],[20110725,9.7,9.65,9.67,9.37,9.43,88189088,838678395],[20110726,9.43,9.43,9.55,9.38,9.42,45125010,426214467],[20110727,9.42,9.38,9.42,9.35,9.39,48213160,452508637],[20110728,9.39,9.33,9.34,9.15,9.22,65663811,605993962],[20110729,9.22,9.25,9.61,9.13,9.4,95487760,894864393],[20110801,9.4,9.33,9.46,9.27,9.32,44930056,420409959],[20110802,9.32,9.25,9.31,9.13,9.26,41364988,380816089],[20110803,9.26,9.19,9.31,9.17,9.26,31523822,291253828],[20110804,9.26,9.31,9.4,9.27,9.28,30410552,283911226],[20110805,9.28,9.09,9.15,9,9.03,71952165,651685202],[20110808,9.03,8.95,9.09,8.62,8.73,98624718,871891979],[20110809,8.73,8.52,8.95,8.47,8.87,110925176,968666716],[20110810,8.87,9.02,9.08,8.87,8.91,67295852,605242196],[20110811,8.91,8.73,9.15,8.71,9.1,74782511,673428896],[20110812,9.1,9.12,9.15,8.98,9.03,51162640,463907926],[20110815,9.03,9.07,9.39,8.99,9.37,89493443,825023455],[20110816,9.37,9.35,9.51,9.27,9.35,92194078,866602343],[20110817,9.35,9.34,9.41,9.28,9.28,44535594,415370550],[20110818,9.28,9.32,9.33,9.09,9.12,40832235,375402155],[20110819,9.12,8.99,9.08,8.94,9.02,55545006,500195838],[20110822,9.02,9.04,9.15,8.95,8.98,42762550,385779149],[20110823,8.98,9.03,9.19,8.93,9.18,48210876,438712166],[20110824,9.18,9.21,9.34,9.08,9.1,53322202,490717794],[20110825,9.1,9.15,9.53,9.11,9.48,121038880,1135191015],[20110826,9.48,9.42,9.51,9.32,9.46,61998169,584450251],[20110829,9.46,9.29,9.29,9.13,9.18,75330948,693917105],[20110830,9.18,9.25,9.4,9.15,9.19,49166774,456223295],[20110831,9.19,9.18,9.35,9.16,9.29,34349428,318100885],[20110901,9.29,9.31,9.43,9.28,9.37,58506018,548068833],[20110902,9.37,9.35,9.4,9.2,9.29,32039819,297248797],[20110905,9.29,9.2,9.22,9.11,9.15,30840689,282591754],[20110906,9.15,9.09,9.22,9.03,9.11,42139539,384694366],[20110907,9.11,9.13,9.38,9.08,9.29,40598521,374413883],[20110908,9.29,9.3,9.33,9.2,9.26,28413650,263397211],[20110909,9.26,9.3,9.41,9.22,9.3,38055811,354331602],[20110913,9.3,9.18,9.22,9.12,9.15,27627217,252939806],[20110914,9.15,9.2,9.21,8.94,9.1,50592099,457967156],[20110915,9.1,9.1,9.17,8.94,8.95,56765027,512651845],[20110916,8.95,9.02,9.07,8.95,8.98,42224050,380213995],[20110919,8.98,8.91,8.92,8.79,8.81,41510239,366080582],[20110920,8.81,8.8,8.92,8.73,8.86,34551618,305251347],[20110921,8.86,8.86,9.22,8.76,9.09,70353056,635069866],[20110922,9.09,9.01,9.02,8.8,8.82,53791988,479557639],[20110923,8.82,8.71,8.81,8.61,8.73,54164832,470756862],[20110926,8.73,8.65,8.72,8.4,8.44,81748380,697436150],[20110927,8.44,8.52,8.58,8.48,8.52,40252611,343008396],[20110928,8.52,8.59,8.6,8.4,8.43,42407399,360008943],[20110929,8.43,8.39,8.52,8.33,8.45,43757787,369392508],[20110930,8.45,8.48,8.64,8.44,8.54,60468787,515663929],[20111010,8.54,8.52,8.56,8.41,8.42,32428434,274365576],[20111011,8.42,8.78,8.78,8.48,8.57,59130344,511050472],[20111012,8.57,8.54,8.92,8.49,8.85,89412222,787072851],[20111013,8.85,8.82,8.94,8.76,8.87,51298778,453963294],[20111014,8.87,8.84,8.88,8.73,8.83,40504198,356399899],[20111017,8.83,8.84,9.05,8.82,8.92,46009758,410848342],[20111018,8.92,8.85,8.9,8.75,8.78,41115344,362177732],[20111019,8.78,8.78,8.92,8.75,8.84,36188377,319545731],[20111020,8.84,8.77,8.86,8.64,8.73,50658455,443175230],[20111021,8.73,8.75,8.97,8.7,8.89,59306969,526976700],[20111024,8.89,8.91,9.21,8.87,9.16,94932084,864185495],[20111025,9.16,9.18,9.25,9.08,9.16,66314936,608223062],[20111026,9.16,9.13,9.3,9.05,9.18,68454846,631301579],[20111027,9.18,9.26,9.35,9.21,9.26,45585827,422360453],[20111028,9.26,9.4,9.55,9.26,9.38,82502754,775731742],[20111031,9.38,9.35,9.35,9.16,9.21,50778832,468747732],[20111101,9.21,9.15,9.34,9.11,9.18,57198902,527513052],[20111102,9.18,9.08,9.37,9.04,9.36,59397848,546059796],[20111103,9.36,9.38,9.39,9.22,9.24,84349601,785658964],[20111104,9.24,9.35,9.36,9.23,9.31,42565042,395922342],[20111107,9.31,9.25,9.28,9.16,9.18,32870037,302777625],[20111108,9.18,9.24,9.3,9.14,9.21,31693301,291603574],[20111109,9.21,9.24,9.29,9.18,9.27,27951632,257975143],[20111110,9.27,9.2,9.25,9.04,9.05,46636157,426657140],[20111111,9.05,9.06,9.17,9.05,9.08,25261827,230005502],[20111114,9.08,9.18,9.27,9.13,9.21,42296963,389371091],[20111115,9.21,9.2,9.22,9.13,9.18,30013432,275179280],[20111116,9.18,9.18,9.18,8.87,8.92,64028631,576115159],[20111117,8.92,8.94,8.97,8.84,8.86,32007465,284590451],[20111118,8.86,8.8,8.89,8.76,8.8,36819930,324198795],[20111121,8.8,8.84,8.85,8.67,8.74,32355327,281903843],[20111122,8.74,8.7,8.81,8.68,8.75,30669913,268099631],[20111123,8.75,8.76,8.77,8.62,8.69,26370231,228822392],[20111124,8.69,8.62,8.76,8.6,8.7,24460075,212634673],[20111125,8.7,8.7,8.72,8.6,8.62,21366538,184856605],[20111128,8.62,8.63,8.68,8.57,8.6,23967739,206431563],[20111129,8.6,8.66,8.74,8.62,8.73,25960610,225388356],[20111130,8.73,8.69,8.73,8.47,8.5,44971839,384658393],[20111201,8.5,8.74,8.95,8.73,8.81,89049077,787219129],[20111202,8.81,8.78,8.85,8.71,8.8,38638133,339557364],[20111205,8.8,8.84,8.91,8.63,8.8,40188321,354439402],[20111206,8.8,8.76,8.84,8.7,8.73,26440305,232129306],[20111207,8.73,8.74,8.83,8.7,8.78,23350899,204935333],[20111208,8.78,8.78,8.83,8.68,8.78,21909676,191759965],[20111209,8.78,8.73,8.78,8.64,8.7,29514e3,257109793],[20111212,8.7,8.68,8.74,8.64,8.66,23035328,200109781],[20111213,8.66,8.64,8.72,8.56,8.58,47600711,412160766],[20111214,8.58,8.57,8.65,8.54,8.6,27334982,235202167],[20111215,8.6,8.56,8.62,8.48,8.49,41518789,354799723],[20111216,8.49,8.51,8.65,8.49,8.62,37730295,322463285],[20111219,8.62,8.57,8.64,8.37,8.61,45264959,384672669],[20111220,8.61,8.58,8.75,8.56,8.59,38376971,331731071],[20111221,8.59,8.66,8.72,8.5,8.53,41637650,359681306],[20111222,8.53,8.49,8.59,8.45,8.53,42682705,363453847],[20111223,8.53,8.54,8.61,8.49,8.54,23263186,198890329],[20111226,8.54,8.52,8.56,8.42,8.47,31788769,269877056],[20111227,8.47,8.47,8.53,8.4,8.44,31075676,262876940],[20111228,8.44,8.43,8.46,8.25,8.38,42011046,351109636],[20111229,8.38,8.35,8.38,8.29,8.35,40055045,333839370],[20111230,8.35,8.39,8.51,8.38,8.49,52982530,448339738],[20120104,8.49,8.54,8.56,8.39,8.41,34201379,290229551],[20120105,8.41,8.47,8.82,8.47,8.65,132116203,1144753023],[20120106,8.65,8.63,8.78,8.62,8.71,61778687,537043761],[20120109,8.71,8.72,8.99,8.68,8.95,80136249,711429611],[20120110,8.95,8.95,9.1,8.88,9.07,72004632,647206633],[20120111,9.07,9.05,9.1,8.98,9,49261157,444366552],[20120112,9,9,9.21,8.99,9.09,60486981,551261471],[20120113,9.09,9.11,9.18,8.97,9.04,56725332,514638094],[20120116,9.04,9,9.12,8.96,8.97,33100160,299225053],[20120117,8.97,9,9.26,8.79,9.2,97357263,876457391],[20120118,9.2,9.16,9.23,9,9.04,58089289,529288104],[20120119,9.04,9.05,9.22,9.02,9.2,68645571,628781817],[20120120,9.2,9.25,9.43,9.17,9.42,95052703,883450355],[20120130,9.42,9.4,9.41,9.2,9.22,71883155,668276691],[20120131,9.22,9.24,9.28,9.16,9.22,35464104,326763252],[20120201,9.22,9.2,9.26,9.05,9.08,39647888,362716575],[20120202,9.08,9.12,9.42,9.08,9.4,87973331,816297537],[20120203,9.4,9.35,9.5,9.32,9.44,97135312,914988444],[20120206,9.44,9.46,9.51,9.29,9.39,63691281,599080983],[20120207,9.39,9.32,9.36,9.18,9.24,51391402,475945766],[20120208,9.24,9.23,9.48,9.23,9.45,64270717,602796522],[20120209,9.45,9.45,9.48,9.36,9.4,50273854,473358227],[20120210,9.4,9.36,9.48,9.32,9.37,51836488,487049474],[20120213,9.37,9.25,9.37,9.18,9.27,49204966,456411669],[20120214,9.27,9.24,9.28,9.13,9.19,53024869,487049233],[20120215,9.19,9.16,9.29,9.14,9.23,55064760,507511353],[20120216,9.23,9.25,9.28,9.14,9.19,47501799,437494063],[20120217,9.19,9.25,9.31,9.2,9.26,41743292,386595857],[20120220,9.26,9.41,9.41,9.25,9.26,57740009,539245887],[20120221,9.26,9.27,9.31,9.2,9.28,42757386,395923924],[20120222,9.28,9.28,9.36,9.2,9.32,81447790,755732387],[20120223,9.32,9.32,9.4,9.28,9.33,87754888,818404842],[20120224,9.33,9.35,9.53,9.31,9.51,128341832,1207795585],[20120227,9.51,9.57,9.62,9.45,9.48,126664015,1206459798],[20120228,9.48,9.48,9.7,9.46,9.66,136121116,1308533877],[20120229,9.66,9.67,9.67,9.51,9.54,77757837,745267161],[20120301,9.54,9.5,9.59,9.49,9.55,46237868,441399342],[20120302,9.55,9.55,9.7,9.54,9.69,74013187,711842953],[20120305,9.69,9.74,9.75,9.58,9.58,66098035,638459411],[20120306,9.58,9.53,9.61,9.41,9.44,68450355,650629551],[20120307,9.44,9.39,9.44,9.33,9.34,51077237,479615280],[20120308,9.34,9.39,9.5,9.37,9.46,54828552,517039328],[20120309,9.46,9.47,9.51,9.42,9.47,47510501,449318745],[20120312,9.47,9.44,9.45,9.33,9.38,52784386,494779980],[20120313,9.38,9.39,9.53,9.35,9.47,61430150,582028877],[20120314,9.47,9.53,9.61,9.32,9.36,99280321,940852511],[20120315,9.36,9.36,9.45,9.16,9.19,70673894,661561276],[20120316,9.19,9.25,9.34,9.2,9.25,72584563,672304027],[20120319,9.25,9.26,9.32,9.24,9.28,50228036,466395766],[20120320,9.28,9.25,9.26,9.12,9.12,62725576,575220524],[20120321,9.12,9.18,9.19,9.02,9.08,51867060,471579975],[20120322,9.08,9.09,9.21,9.03,9.12,38651197,352251184],[20120323,9.12,9.1,9.12,9.02,9.06,35268448,319927048],[20120326,9.06,9.05,9.17,9.05,9.13,33692849,306941853],[20120327,9.13,9.15,9.17,9.08,9.12,27294640,249025233],[20120328,9.12,9.12,9.14,8.93,8.97,43565307,394701420],[20120329,8.97,8.94,9,8.85,8.87,48391415,432068893],[20120330,8.87,8.92,8.97,8.88,8.93,50587012,451335933],[20120405,8.93,8.9,8.95,8.81,8.93,76352001,677374501],[20120406,8.93,8.93,8.96,8.84,8.94,56682481,504458934],[20120409,8.94,8.89,8.94,8.83,8.84,34889828,309720486],[20120410,8.84,8.86,8.93,8.78,8.92,45147e3,399088179],[20120411,8.92,8.87,8.95,8.85,8.89,39397074,350489715],[20120412,8.89,8.89,9.14,8.87,9.12,64571634,581979210],[20120413,9.12,9.11,9.15,9.02,9.14,61175666,556243010],[20120416,9.14,9.08,9.12,9.04,9.06,38614798,350462999],[20120417,9.06,9.06,9.09,8.93,8.93,49466011,444391607],[20120418,8.93,8.93,9.14,8.92,9.12,67117990,607091633],[20120419,9.12,9.1,9.16,9.06,9.12,48488e3,441712581],[20120420,9.12,9.1,9.32,9.09,9.31,77240835,714085575],[20120423,9.31,9.27,9.33,9.21,9.24,41839068,387763897],[20120424,9.24,9.23,9.55,9.22,9.38,113165453,1065629977],[20120425,9.38,9.34,9.44,9.33,9.35,66489024,623235371],[20120426,9.35,9.42,9.46,9.3,9.37,53826936,503917233],[20120427,9.37,9.39,9.45,9.35,9.41,47114993,443152186],[20120502,9.41,9.48,9.59,9.41,9.56,107696972,1023491921],[20120503,9.56,9.51,9.55,9.42,9.46,60560075,574341330],[20120504,9.46,9.47,9.5,9.39,9.49,71659892,677231238],[20120507,9.49,9.43,9.48,9.34,9.42,82225733,773477051],[20120508,9.42,9.41,9.42,9.28,9.36,86721348,810233956],[20120509,9.36,9.3,9.31,9.18,9.2,65066893,600930021],[20120510,9.2,9.21,9.24,9.11,9.16,67576254,619397962],[20120511,9.16,9.16,9.23,9.12,9.16,35532729,325856898],[20120514,9.16,9.21,9.23,9.06,9.08,70896633,648414480],[20120515,9.08,9,9.05,8.98,9.04,60429994,544604567],[20120516,9.04,9.03,9.03,8.89,8.91,75535741,676147543],[20120517,8.91,8.93,9.02,8.9,8.97,43092663,386025718],[20120518,8.97,8.92,8.92,8.82,8.86,61950167,549225590],[20120521,8.86,8.86,8.91,8.83,8.87,46679612,413635877],[20120522,8.87,8.9,8.97,8.88,8.96,67549651,602839656],[20120523,8.96,8.95,8.96,8.85,8.89,61979794,552097474],[20120524,8.89,8.88,8.94,8.81,8.85,49757216,441704165],[20120525,8.85,8.85,8.86,8.77,8.79,45887776,404197693],[20120528,8.79,8.8,8.88,8.77,8.87,52347656,461949299],[20120529,8.87,8.86,8.98,8.82,8.95,93478648,831085291],[20120530,8.95,8.92,8.93,8.79,8.82,88036486,779244023],[20120531,8.82,8.79,8.8,8.75,8.77,67011196,587833136],[20120601,8.77,8.78,8.84,8.75,8.78,42401677,372673966],[20120604,8.78,8.71,8.71,8.58,8.59,69367973,599453523],[20120605,8.59,8.62,8.64,8.55,8.56,69666907,598110567],[20120606,8.56,8.59,8.68,8.55,8.62,49918846,429065873],[20120607,8.62,8.68,8.7,8.53,8.56,48026408,413324686],[20120608,8.56,8.51,8.53,8.31,8.34,140389731,1176530441],[20120611,8.34,8.36,8.38,8.31,8.34,71644862,597652524],[20120612,8.34,8.31,8.35,8.19,8.29,82431224,680814847],[20120613,8.29,8.29,8.29,8.29,8.29,0,0],[20120614,8.29,8.3,8.34,8.25,8.27,80017463,664166685],[20120615,8.27,8.31,8.53,8.29,8.47,134216053,1129580248],[20120618,8.47,8.47,8.48,8.42,8.46,50212960,424346827],[20120619,8.46,8.47,8.54,8.43,8.49,47008304,398791959],[20120620,8.49,8.54,8.61,8.48,8.5,50000107,427039914],[20120621,8.5,8.51,8.51,8.4,8.44,39423884,332932086],[20120625,8.44,8.42,8.48,8.34,8.35,52706596,443526592],[20120626,8.05,8.07,8.12,8.03,8.06,39982538,323089664],[20120627,8.06,8.06,8.09,8.03,8.05,26966055,217422022],[20120628,8.05,8.05,8.07,8.01,8.01,28876449,232014025],[20120629,8.01,8.04,8.16,8.02,8.13,50974236,412653792],[20120702,8.13,8.15,8.15,8.05,8.09,43691987,353033253],[20120703,8.09,8.09,8.15,8.07,8.09,40080965,324895958],[20120704,8.09,8.1,8.18,8.08,8.12,39552477,321375929],[20120705,8.12,8.11,8.12,8.05,8.07,33635896,271555077],[20120706,8.07,7.92,7.97,7.88,7.97,115797069,917011451],[20120709,7.97,7.93,7.94,7.65,7.67,106535413,829804094],[20120710,7.67,7.67,7.76,7.66,7.7,45089773,347540683],[20120711,7.7,7.69,7.74,7.67,7.71,32425638,249889719],[20120712,7.71,7.71,7.72,7.58,7.67,100909326,770420629],[20120713,7.67,7.66,7.79,7.64,7.73,45202381,349346441],[20120716,7.73,7.75,7.75,7.62,7.63,46584899,358037212],[20120717,7.63,7.65,7.73,7.62,7.69,30224255,232272374],[20120718,7.69,7.69,7.69,7.6,7.67,47630983,363638278],[20120719,7.67,7.65,7.73,7.61,7.69,77344589,594527735],[20120720,7.69,7.67,7.68,7.6,7.61,55545514,423521040],[20120723,7.61,7.57,7.57,7.42,7.45,64501900,480841537],[20120724,7.45,7.43,7.5,7.41,7.46,48389405,360293105],[20120725,7.46,7.43,7.5,7.39,7.41,47580447,353247490],[20120726,7.41,7.4,7.45,7.37,7.4,30350495,224778997],[20120727,7.4,7.42,7.56,7.4,7.49,58500797,438293389],[20120730,7.49,7.52,7.65,7.49,7.56,62142486,470732267],[20120731,7.56,7.57,7.69,7.56,7.66,70118950,535947136],[20120801,7.66,7.67,7.71,7.59,7.65,62270863,476495464],[20120802,7.65,7.68,7.77,7.65,7.75,75444190,581966475],[20120803,7.75,7.74,7.75,7.68,7.74,44045380,339338689],[20120806,7.74,7.73,7.74,7.69,7.72,46411105,358235336],[20120807,7.72,7.72,7.73,7.65,7.69,34912528,268267939],[20120808,7.69,7.7,7.77,7.69,7.73,53821168,416624081],[20120809,7.73,7.75,7.76,7.69,7.75,32490296,251340987],[20120810,7.75,7.79,7.85,7.78,7.8,46782980,365500895],[20120813,7.8,7.8,7.83,7.74,7.75,47282079,368478427],[20120814,7.75,7.76,7.8,7.73,7.8,39743689,308683311],[20120815,7.8,7.8,7.8,7.55,7.58,89555247,683068987],[20120816,7.58,7.59,7.59,7.5,7.53,40630297,306256972],[20120817,7.53,7.52,7.58,7.51,7.55,33322665,251555254],[20120820,7.55,7.52,7.56,7.46,7.52,27038216,202877230],[20120821,7.52,7.51,7.56,7.49,7.51,36268940,272732527],[20120822,7.51,7.52,7.53,7.47,7.52,35326454,264640473],[20120823,7.52,7.51,7.55,7.47,7.52,36366406,273444020],[20120824,7.52,7.52,7.53,7.45,7.49,36963616,277056694],[20120827,7.49,7.45,7.49,7.39,7.4,40334510,300069736],[20120828,7.4,7.43,7.62,7.4,7.6,54763743,411991622],[20120829,7.6,7.56,7.57,7.52,7.55,38419444,289895904],[20120830,7.55,7.5,7.62,7.5,7.61,44804211,339823939],[20120831,7.61,7.58,7.68,7.57,7.61,37255105,284745594],[20120903,7.61,7.63,7.63,7.53,7.58,55393324,419440943],[20120904,7.58,7.56,7.59,7.43,7.46,44361378,332534233],[20120905,7.46,7.44,7.45,7.28,7.32,73135906,536590326],[20120906,7.32,7.34,7.39,7.3,7.38,38370245,281996026],[20120907,7.38,7.42,7.78,7.4,7.6,145971941,1108956749],[20120910,7.6,7.59,7.61,7.53,7.56,63799021,482615575],[20120911,7.56,7.54,7.54,7.43,7.49,50981388,381041955],[20120912,7.49,7.53,7.56,7.42,7.48,41199392,308089937],[20120913,7.48,7.47,7.5,7.44,7.45,28598526,213621171],[20120914,7.45,7.5,7.56,7.44,7.52,60553998,454887764],[20120917,7.52,7.52,7.52,7.4,7.41,39495794,294478234],[20120918,7.41,7.39,7.4,7.34,7.35,29556474,217783066],[20120919,7.35,7.35,7.38,7.33,7.34,35316266,259404103],[20120920,7.34,7.32,7.34,7.22,7.23,48072062,349808077],[20120921,7.23,7.22,7.26,7.18,7.21,37540673,271098089],[20120924,7.21,7.18,7.21,7.11,7.17,44280628,316830860],[20120925,7.17,7.16,7.18,7.13,7.16,23528437,168346308],[20120926,7.16,7.15,7.18,7.1,7.11,28344266,202126616],[20120927,7.11,7.11,7.36,7.1,7.32,74565209,540842730],[20120928,7.32,7.28,7.39,7.24,7.38,62930106,460162691],[20121008,7.38,7.38,7.42,7.28,7.32,32324563,237702592],[20121009,7.32,7.35,7.48,7.34,7.45,48620078,361695652],[20121010,7.45,7.43,7.46,7.4,7.44,27147361,201761964],[20121011,7.44,7.41,7.43,7.37,7.41,29564294,218797754],[20121012,7.41,7.43,7.5,7.41,7.45,37953795,283061227],[20121015,7.45,7.46,7.47,7.37,7.41,22249339,164793074],[20121016,7.41,7.41,7.52,7.39,7.46,43952520,328313924],[20121017,7.46,7.48,7.58,7.44,7.55,52658490,395714435],[20121018,7.55,7.55,7.65,7.54,7.62,51397333,390882250],[20121019,7.62,7.62,7.63,7.55,7.58,40185550,305185395],[20121022,7.58,7.54,7.68,7.53,7.65,36799861,280112259],[20121023,7.65,7.66,7.68,7.55,7.57,32189190,245356334],[20121024,7.57,7.55,7.63,7.54,7.59,28328508,215116946],[20121025,7.59,7.58,7.62,7.5,7.53,29807495,225449545],[20121026,7.53,7.54,7.57,7.42,7.46,49611207,370899603],[20121029,7.46,7.44,7.49,7.42,7.47,28176827,210091716],[20121030,7.47,7.47,7.53,7.4,7.48,37082866,276344872],[20121031,7.48,7.49,7.53,7.43,7.51,36411101,273109830],[20121101,7.51,7.52,7.7,7.51,7.64,57205114,436219680],[20121102,7.64,7.65,7.7,7.61,7.68,47587494,364830180],[20121105,7.68,7.7,7.78,7.66,7.73,56974001,439602346],[20121106,7.73,7.74,7.74,7.59,7.68,42177128,323024801],[20121107,7.68,7.67,7.73,7.64,7.69,26193792,201366783],[20121108,7.69,7.63,7.66,7.53,7.54,38667163,293900674],[20121109,7.54,7.53,7.59,7.5,7.53,26921255,202868999],[20121112,7.53,7.54,7.64,7.53,7.63,43645487,331521946],[20121113,7.63,7.62,7.62,7.48,7.49,37691617,283805513],[20121114,7.49,7.49,7.53,7.47,7.5,21823216,163644374],[20121115,7.5,7.49,7.5,7.41,7.42,29220009,217739719],[20121116,7.42,7.41,7.41,7.34,7.36,33266319,245149918],[20121119,7.36,7.36,7.4,7.33,7.37,24785310,182453735],[20121120,7.37,7.4,7.41,7.33,7.35,20252986,149215097],[20121121,7.35,7.35,7.48,7.34,7.47,28957627,214374137],[20121122,7.47,7.45,7.48,7.4,7.44,22784842,169442910],[20121123,7.44,7.46,7.56,7.43,7.51,35819826,268999532],[20121126,7.51,7.5,7.54,7.43,7.47,28167480,210337432],[20121127,7.47,7.44,7.52,7.42,7.46,40827533,304729094],[20121128,7.46,7.44,7.5,7.42,7.44,41978767,312815519],[20121129,7.44,7.46,7.47,7.4,7.41,39279397,291914537],[20121130,7.41,7.41,7.48,7.37,7.46,38822287,288486299],[20121203,7.46,7.46,7.47,7.34,7.35,53769233,396827583],[20121204,7.35,7.33,7.46,7.33,7.43,34974819,258840206],[20121205,7.43,7.43,7.92,7.41,7.88,227002022,1764021567],[20121206,7.88,7.87,7.97,7.83,7.89,115134979,910874057],[20121207,7.89,7.93,8.28,7.92,8.26,229249195,1863056888],[20121210,8.26,8.35,8.42,8.26,8.33,215254803,1796312749],[20121211,8.33,8.32,8.37,8.25,8.28,114930761,955761506],[20121212,8.28,8.29,8.49,8.29,8.4,174126970,1463952981],[20121213,8.4,8.35,8.45,8.28,8.29,124094525,1038553776],[20121214,8.29,8.32,8.99,8.32,8.9,344394455,3002867566],[20121217,8.9,9,9.11,8.94,9.07,254783070,2298528870],[20121218,9.07,9.01,9.29,8.97,9.14,234880214,2144833795],[20121219,9.14,9.11,9.16,8.98,9.05,176670647,1601205282],[20121220,9.05,8.99,9.07,8.88,9.06,149750877,1346132252],[20121221,9.06,9.06,9.11,8.88,8.97,130820092,1174200111],[20121224,8.97,8.94,9.26,8.94,9.09,134642726,1224943518],[20121225,9.09,9.07,9.56,9.04,9.45,234226689,2200438398],[20121226,9.45,9.46,9.49,9.37,9.46,96013021,904988194],[20121227,9.46,9.46,9.64,9.32,9.39,127847946,1211244239],[20121228,9.39,9.37,9.64,9.37,9.59,119599842,1140200526],[20121231,9.59,9.64,9.96,9.63,9.92,198451648,1956467612],[20130104,9.92,10.1,10.26,9.93,10.02,261436810,2633796691],[20130107,10.02,10.05,10.34,10.01,10.32,248200915,2534161998],[20130108,10.32,10.34,10.35,10.06,10.12,154851189,1573240155],[20130109,10.12,10.09,10.18,9.98,10.14,175906181,1774560423],[20130110,10.14,10.11,10.21,9.99,10.04,121226794,1224888956],[20130111,10.04,10.07,10.12,9.77,9.82,171547464,1709899032],[20130114,9.82,9.75,10.36,9.75,10.35,228634872,2326609986],[20130115,10.35,10.35,10.41,10.22,10.33,134039003,1383536241],[20130116,10.33,10.28,10.32,9.98,10.12,156691872,1588121377],[20130117,10.12,10.05,10.17,9.88,10.03,116672023,1163327254],[20130118,10.03,10.08,10.25,9.97,10.16,129872645,1315677034],[20130121,10.16,10.2,10.44,10.05,10.4,178154882,1826584603],[20130122,10.4,10.38,10.76,10.25,10.48,242222065,2546398122],[20130123,10.48,10.44,10.62,10.37,10.6,155968498,1637582752],[20130124,10.6,10.6,11.04,10.53,10.61,320210498,3446063883],[20130125,10.61,10.6,10.68,10.53,10.66,89716806,951423104],[20130128,10.66,10.66,11.21,10.65,11.18,263089195,2903989341],[20130129,11.18,11.21,11.47,11.11,11.3,191067344,2155684299],[20130130,11.3,11.29,11.36,11.09,11.24,172171454,1933404997],[20130131,11.24,11.24,11.5,11.12,11.48,181147190,2051351346],[20130201,11.48,11.41,11.97,11.31,11.95,223157195,2595572299],[20130204,11.95,11.98,12.27,11.83,12.07,271540507,3269293147],[20130205,12.07,11.91,12,11.65,11.87,176944688,2098278652],[20130206,11.87,11.85,12.05,11.72,12,133748186,1595335908],[20130207,12,12,12.02,11.17,11.43,315193605,3634915098],[20130208,11.43,11.4,11.45,11.06,11.34,195904902,2214211012],[20130218,11.34,11.42,11.5,11.19,11.26,119051849,1348960810],[20130219,11.26,11.23,11.31,11.07,11.1,114565262,1279590709],[20130220,11.1,11.1,11.12,10.58,10.81,264523040,2849978249],[20130221,10.81,10.65,10.68,10,10.22,290791316,2996527715],[20130222,10.22,10.19,10.34,10.08,10.14,143226433,1463429410],[20130225,10.14,10.21,10.4,10.2,10.32,116274545,1198145581],[20130226,10.32,10.2,10.76,10.15,10.33,238592674,2515148260],[20130227,10.33,10.36,10.7,10.31,10.39,158815735,1662077351],[20130228,10.39,10.55,11.07,10.39,11.06,224658466,2416913062],[20130301,11.06,11.07,11.31,10.8,11.17,223208905,2475460511],[20130304,11.17,10.86,10.9,10.27,10.39,261002023,2758781288],[20130305,10.39,10.36,11.22,10.36,11.07,233607734,2525017018],[20130306,11.07,11.16,11.31,10.96,11.11,205631621,2289024741],[20130307,11.11,11.02,11.1,10.51,10.76,191555154,2072717387],[20130308,10.76,10.81,10.88,10.6,10.71,103046487,1106726782],[20130311,10.71,10.67,10.67,10.41,10.47,94081221,990803399],[20130312,10.47,10.46,10.65,10.18,10.29,132298619,1371021517],[20130313,10.29,10.29,10.42,10.11,10.25,105764431,1083876595],[20130314,10.25,10.4,10.56,10.27,10.45,163419368,1707645843],[20130315,10.45,10.47,10.93,10.38,10.51,214299272,2283442403],[20130318,10.51,10.44,10.64,10.39,10.48,142604467,1499673028],[20130319,10.48,10.47,10.66,10.43,10.65,114470221,1207222485],[20130320,10.65,10.68,11.2,10.65,11.19,253698290,2793678441],[20130321,11.19,11.2,11.28,10.94,11.1,193267919,2143848514],[20130322,11.1,11.01,11.11,10.95,11.06,122824527,1356165867],[20130325,11.06,11.13,11.24,11,11.04,89020579,986945885],[20130326,11.04,10.98,10.99,10.65,10.7,126327261,1358261944],[20130327,10.7,10.71,10.95,10.63,10.76,113814685,1225592652],[20130328,10.76,10.2,10.25,9.68,10.02,298069476,2992135427],[20130329,10.02,10.03,10.21,9.91,10.13,131028762,1315731616],[20130401,10.13,10.06,10.2,10.03,10.05,76052116,767292300],[20130402,10.05,10.07,10.17,9.94,10.03,83681538,840890523],[20130403,10.03,10.05,10.15,9.95,10.06,88765772,892637729],[20130408,10.06,9.87,9.99,9.7,9.92,89499064,883268138],[20130409,9.92,9.96,10.12,9.96,10.04,65806596,660726025],[20130410,10.04,10.03,10.04,9.92,10,54586848,544630505],[20130411,10,10.08,10.12,10,10.02,43303750,435013681],[20130412,10.02,10.03,10.06,9.9,9.94,41832297,417375283],[20130415,9.94,9.94,9.99,9.79,9.83,75763623,747795127],[20130416,9.83,9.75,9.83,9.6,9.74,126274720,1224441887],[20130417,9.74,9.74,9.74,9.52,9.59,86278542,829038302],[20130418,9.59,9.46,9.66,9.42,9.63,103421937,985199538],[20130419,9.63,9.65,10.19,9.62,10.14,178675031,1778831224],[20130422,10.14,10.11,10.22,10.1,10.22,123343744,1254891723],[20130423,10.22,10.28,10.29,9.8,9.84,108826815,1083711298],[20130424,9.84,9.86,10.15,9.77,10.03,105005043,1045917590],[20130425,10.03,10,10.07,9.82,9.91,74320334,737540033],[20130426,9.91,9.96,10.01,9.85,9.88,52806428,524919890],[20130502,9.88,9.77,9.86,9.66,9.82,80667825,786928394],[20130503,9.82,9.87,10.17,9.83,10.01,109373480,1097528959],[20130506,10.01,10.03,10.21,9.97,10.13,87865272,888293829],[20130507,10.13,10.09,10.1,9.98,10.06,60095952,603143645],[20130508,10.06,10.12,10.2,10.01,10.05,72153519,728615180],[20130509,10.05,10.06,10.08,9.89,9.97,64667334,644949072],[20130510,9.97,9.93,10.06,9.89,10.03,63127003,630968308],[20130513,10.03,10.02,10.11,9.93,10.02,66994306,670319776],[20130514,10.02,10.03,10.05,9.93,9.97,67348057,671548085],[20130515,9.97,9.98,10.02,9.93,9.99,47275904,471747480],[20130516,9.99,9.99,10.16,9.84,10.15,111647303,1120193847],[20130517,10.15,10.15,10.28,10.05,10.24,122955149,1250713166],[20130520,10.24,10.26,10.54,10.2,10.41,156851179,1632285383],[20130521,10.41,10.38,10.42,10.24,10.34,91775245,946356975],[20130522,10.34,10.33,10.38,10.28,10.36,71207689,734819190],[20130523,10.36,10.29,10.33,10.15,10.15,82484743,845485658],[20130524,10.15,10.2,10.28,10.1,10.2,63230983,644944802],[20130527,10.2,10.21,10.33,10.18,10.29,69546991,714504542],[20130528,10.29,10.3,10.56,10.25,10.55,111377099,1160468763],[20130529,10.55,10.58,10.62,10.51,10.52,91459014,966132051],[20130530,10.52,10.48,10.62,10.47,10.54,89454796,942531006],[20130531,10.54,10.56,10.62,10.46,10.47,101875600,1074952868],[20130603,9.92,9.97,10.01,9.81,9.84,83186090,823621313],[20130604,9.84,9.89,9.89,9.7,9.74,60164557,587136100],[20130605,9.74,9.74,9.77,9.6,9.65,56405768,545296050],[20130606,9.65,9.61,9.67,9.42,9.45,72417597,688813179],[20130607,9.45,9.51,9.57,9.32,9.35,72344081,682011573],[20130613,9.35,9.25,9.25,8.91,9.02,127820275,1152185130],[20130614,9.02,9.07,9.07,8.98,9.02,77530686,699500719],[20130617,9.02,9.05,9.1,8.96,9.01,52039165,469144449],[20130618,9.01,9.05,9.12,9.01,9.07,40358845,365844138],[20130619,9.07,9.05,9.05,8.82,8.89,53104791,473179675],[20130620,8.89,8.86,8.86,8.4,8.42,137571510,1178952736],[20130621,8.42,8.31,8.47,8.22,8.28,147442615,1229287083],[20130624,8.28,8.29,8.29,7.5,7.52,249977361,1942163889],[20130625,7.52,7.45,7.84,7.18,7.8,246601203,1856925606],[20130626,7.8,7.9,7.95,7.63,7.77,130788936,1016856736],[20130627,7.77,7.85,7.92,7.7,7.88,125823284,982597070],[20130628,7.88,7.82,8.3,7.76,8.28,157753950,1276035956],[20130701,8.28,8.22,8.27,8.07,8.17,86027064,702497388],[20130702,8.17,8.18,8.22,7.95,8.15,84019573,677872934],[20130703,8.15,8.1,8.11,7.97,8.04,69690313,560255121],[20130704,8.04,8.06,8.28,8.02,8.12,85794489,697456116],[20130705,8.12,8.11,8.22,8.08,8.11,58764344,477728564],[20130708,8.11,8,8.05,7.9,7.91,63977579,508688886],[20130709,7.91,7.92,7.96,7.88,7.92,40964528,324418293],[20130710,7.92,7.95,8.13,7.9,8.11,60829122,488041464],[20130711,8.11,8.17,8.92,8.17,8.86,274152438,2369026958],[20130712,8.86,8.76,8.85,8.43,8.49,162211373,1400965676],[20130715,8.49,8.55,8.71,8.41,8.56,103850924,891216119],[20130716,8.56,8.52,8.55,8.41,8.54,78430472,664317070],[20130717,8.54,8.52,8.55,8.38,8.45,79489709,673336873],[20130718,8.45,8.41,8.45,8.16,8.2,99044377,818192316],[20130719,8.2,8.22,8.24,8.02,8.03,76242268,619426708],[20130722,8.03,7.9,7.99,7.82,7.95,95552055,754153139],[20130723,7.95,7.99,8.23,7.94,8.14,115906521,942643003],[20130724,8.14,8.04,8.09,7.9,8,87410550,697536435],[20130725,8,8.02,8.11,7.96,8.02,62010839,497968427],[20130726,8.02,7.98,8.01,7.94,7.97,42800503,341110312],[20130729,7.97,7.9,7.9,7.71,7.74,84518514,655293169],[20130730,7.74,7.78,7.96,7.74,7.84,68907635,540970736],[20130731,7.84,7.91,8.02,7.82,7.86,50335414,397874860],[20130801,7.86,7.92,8.02,7.87,7.99,58959381,469433179],[20130802,7.99,8.06,8.12,7.97,7.98,57767151,463891788],[20130805,7.98,7.98,8.07,7.95,8.06,53056118,425459707],[20130806,8.06,8.03,8.08,7.98,8.03,82798496,664260262],[20130807,8.03,8.03,8.14,8,8.01,68679917,553785268],[20130808,8.01,8.01,8.07,7.95,7.99,54611350,436833724],[20130809,7.99,8.05,8.08,7.96,8.01,55483572,444645232],[20130812,8.01,8.04,8.32,8.01,8.31,142760853,1171789122],[20130813,8.31,8.3,8.43,8.27,8.42,118672580,991814171],[20130814,8.42,8.44,8.53,8.3,8.31,121903670,1025898643],[20130815,8.31,8.31,8.37,8.2,8.22,67134769,556547154],[20130816,8.22,8.17,9.04,8.15,8.31,264712593,2254296108],[20130819,8.31,8.24,8.5,8.23,8.45,124704778,1044624757],[20130820,8.45,8.42,8.78,8.39,8.51,153605678,1314061899],[20130821,8.51,8.53,8.58,8.37,8.45,65732224,554832999],[20130822,8.45,8.41,8.62,8.4,8.44,60326480,513025402],[20130823,8.44,8.54,8.63,8.25,8.42,117530030,995509250],[20130826,8.42,8.45,8.78,8.4,8.74,161720147,1399048031],[20130827,8.74,8.75,9.05,8.7,8.95,224672933,2001682217],[20130828,8.95,8.88,9.15,8.79,9,243574963,2194823813],[20130829,9,9.11,9.21,8.86,8.92,146496955,1320039144],[20130830,8.92,8.86,9.05,8.76,8.99,129143351,1152526345],[20130902,8.99,9.11,9.29,8.95,8.97,141236900,1281805081],[20130903,8.97,8.96,9.12,8.89,9.09,140383661,1269355850],[20130904,9.09,9.04,9.24,9.03,9.14,142450054,1305299487],[20130905,9.14,9.19,9.19,9.06,9.13,93544409,852833065],[20130906,9.13,9.15,9.87,9.12,9.57,301015112,2850092331],[20130909,9.57,10.28,10.53,10.18,10.53,580189224,6069489608],[20130910,10.53,11,11.49,10.77,11.4,1198024109,13328930206],[20130911,11.4,11.21,11.47,11.2,11.27,603551016,6834516257],[20130912,11.27,11.3,12.4,11.16,12.25,1041527543,12498180262],[20130913,12.25,12.08,12.27,11.73,11.91,661646551,7947104255],[20130916,11.91,12,12.02,11.23,11.49,699493335,8064946319],[20130917,11.49,11.41,11.48,10.77,10.83,511737943,5694768142],[20130918,10.83,10.95,11.19,10.83,11,400172137,4413153554],[20130923,11,11.05,11.2,10.8,11.18,453630138,4987201249],[20130924,11.18,11.19,11.2,10.57,10.81,476900620,5154101324],[20130925,10.81,10.74,11.18,10.69,10.78,384146137,4206311478],[20130926,10.78,10.75,10.76,10.07,10.17,448493838,4639913820],[20130927,10.17,10.11,10.33,10.05,10.24,243782409,2485876805],[20130930,10.24,10.34,10.37,10.02,10.09,256510906,2609512399],[20131008,10.09,10.03,10.33,9.88,10.23,258444174,2618477427],[20131009,10.23,10.1,10.46,10.07,10.27,244015218,2503190590],[20131010,10.27,10.3,10.35,9.93,9.98,249225016,2508885945],[20131011,9.98,10.1,10.65,10,10.55,441961264,4582589758],[20131014,10.55,10.45,10.5,10.25,10.29,274009307,2834786588],[20131015,10.29,10.3,10.35,10.02,10.11,212323978,2155489652],[20131016,10.11,10.09,10.09,9.82,9.91,217322904,2160308473],[20131017,9.91,10.01,10.07,9.81,9.82,145253461,1440499464],[20131018,9.82,9.82,10.06,9.8,9.88,129849775,1290361115],[20131021,9.88,9.95,10.16,9.8,10.12,211850917,2123854885],[20131022,10.12,10.11,10.11,9.86,9.93,156011435,1554175494],[20131023,9.93,9.95,10.35,9.91,10.02,260513178,2639944209],[20131024,10.02,9.96,10.16,9.82,9.98,170003394,1700451825],[20131025,9.98,10.01,10.26,9.99,10.07,256524257,2593128919],[20131028,10.07,10.08,10.22,9.92,10.15,164098118,1650688533],[20131029,10.15,10.22,10.69,10.18,10.48,494214050,5150564497],[20131030,10.48,10.48,10.62,10.31,10.59,301165849,3162162382],[20131031,10.59,10.58,10.6,10.31,10.33,211637554,2206625469],[20131101,10.33,10.32,10.53,10.23,10.42,164057262,1704932182],[20131104,10.42,10.48,10.54,10.26,10.3,138786390,1438550559],[20131105,10.3,10.22,10.25,10.04,10.2,172536527,1747250983],[20131106,10.2,10.07,10.2,10,10.03,151026564,1522867126],[20131107,10.03,10.08,10.19,9.97,10.05,114983822,1158380382],[20131108,10.05,10.02,10.1,9.93,9.98,110388788,1104891677],[20131111,9.98,9.99,10.02,9.9,9.97,79759246,793983216],[20131112,9.97,10.01,10.19,10,10.12,119655182,1209294436],[20131113,10.12,10.04,10.05,9.63,9.64,208714474,2049839119],[20131114,9.64,9.6,9.68,9.39,9.49,169111025,1601513585],[20131115,9.49,9.49,9.85,9.48,9.68,180564555,1753424283],[20131118,9.68,9.75,10.11,9.66,10.1,231275931,2289354073],[20131119,10.1,10.1,10.1,9.95,9.97,128516630,1286050557],[20131120,9.97,10.01,10.18,9.97,10.05,125986570,1265362952],[20131121,10.05,10,10.08,9.78,10.07,172340745,1708643966],[20131122,10.07,10.05,10.11,9.98,10.06,131116961,1317526601],[20131125,10.06,9.99,10.11,9.92,9.93,96767050,967272350],[20131126,9.93,9.9,10.03,9.88,9.9,72857686,724350734],[20131127,9.9,9.87,10.08,9.76,9.93,134357122,1332415710],[20131128,9.93,9.95,10.06,9.9,9.96,121839005,1217508434],[20131129,9.96,10.06,10.12,9.96,9.99,112491968,1128740871],[20131202,9.99,10.1,10.34,9.99,10.32,408952609,4162905229],[20131203,10.32,10.27,10.34,10.14,10.26,178953713,1832350266],[20131204,10.26,10.24,10.57,10.2,10.4,283303320,2951386526],[20131205,10.4,10.4,10.44,10.28,10.35,150565456,1557557550],[20131206,10.35,10.34,10.34,10.13,10.22,157734044,1611228726],[20131209,10.22,10.21,10.25,10.08,10.11,111336390,1127426955],[20131210,10.11,10.12,10.21,10.08,10.14,89476538,907205499],[20131211,10.14,10.11,10.13,9.91,9.93,127176728,1268123946],[20131212,9.93,9.91,9.96,9.87,9.88,89839025,889730892],[20131213,9.88,9.84,9.85,9.77,9.83,98124624,963431279],[20131216,9.83,9.85,9.97,9.72,9.74,119802106,1177159749],[20131217,9.74,9.76,9.77,9.66,9.69,78126226,758108126],[20131218,9.69,9.71,9.8,9.68,9.71,55191766,536799930],[20131219,9.71,9.75,9.78,9.6,9.61,71003510,687152711],[20131220,9.61,9.63,9.64,9.34,9.36,107593841,1018130466],[20131223,9.36,9.41,9.48,9.31,9.34,63014853,590896792],[20131224,9.34,9.37,9.41,9.25,9.34,71802936,671259994],[20131225,9.34,9.33,9.35,9.15,9.27,89003265,821820569],[20131226,9.27,9.26,9.27,9.06,9.09,82518650,753839548],[20131227,9.09,9.09,9.32,9.08,9.24,88052311,811334784],[20131230,9.24,9.3,9.32,9.19,9.2,70408751,650877060],[20131231,9.2,9.21,9.53,9.17,9.43,107237045,1006340928],[20140102,9.43,9.44,9.45,9.29,9.33,69821037,652410783],[20140103,9.33,9.28,9.3,9.08,9.14,88351969,807094466],[20140106,9.14,9.31,9.34,9.13,9.19,117267700,1079925474],[20140107,9.19,9.17,9.21,9.01,9.14,72150947,657895513],[20140108,9.14,9.14,9.32,9.11,9.2,78603481,724415950],[20140109,9.2,9.2,9.44,9.16,9.29,109976763,1025797662],[20140110,9.29,9.28,9.45,9.24,9.41,93379978,875061947],[20140113,9.41,9.44,9.47,9.33,9.39,65935363,618500138],[20140114,9.39,9.4,9.43,9.25,9.4,79710266,744481149],[20140115,9.4,9.39,9.4,9.16,9.23,77606643,717370004],[20140116,9.23,9.22,9.26,9.17,9.18,67204743,618488788],[20140117,9.18,9.17,9.17,9.07,9.12,66047496,601804105],[20140120,9.12,9.1,9.13,9.04,9.07,42094792,382309899],[20140121,9.07,9.1,9.26,9.09,9.16,47596032,436604867],[20140122,9.16,9.18,9.38,9.17,9.34,91387277,849733125],[20140123,9.34,9.31,9.34,9.21,9.22,63055407,583623058],[20140124,9.22,9.17,9.32,9.14,9.23,70757205,653717695],[20140127,9.23,9.19,9.2,9.1,9.12,69858649,637844251],[20140128,9.12,9.12,9.29,9.12,9.19,57333618,527187516],[20140129,9.19,9.24,9.31,9.2,9.29,71042825,659122848],[20140130,9.29,9.27,9.3,9.15,9.17,52508927,485399532],[20140207,9.17,9.13,9.18,9.07,9.18,51136921,466080896],[20140210,9.18,9.18,9.3,9.16,9.29,91573113,848138382],[20140211,9.29,9.31,9.68,9.22,9.54,212392409,2017636446],[20140212,9.54,9.5,9.64,9.44,9.5,106449343,1012082707],[20140213,9.5,9.48,9.84,9.41,9.6,197765140,1901282553],[20140214,9.6,9.6,9.63,9.51,9.59,80503230,770860231],[20140217,9.59,9.62,9.66,9.48,9.52,107916285,1029473517],[20140218,9.52,9.51,9.51,9.23,9.26,131972251,1231564459],[20140219,9.26,9.25,9.57,9.2,9.49,150729704,1420983509],[20140220,9.49,9.53,9.73,9.36,9.39,144607391,1379086315],[20140221,9.39,9.39,9.43,9.22,9.29,82312549,765984708],[20140224,9.29,9.2,9.21,8.97,9.01,135269196,1223507891],[20140225,9.01,9.01,9.08,8.81,8.83,112988180,1012070329],[20140226,8.83,8.81,8.89,8.77,8.85,79811062,704799663],[20140227,8.85,8.9,9.03,8.81,8.94,112556009,1005356244],[20140228,8.94,8.9,9.01,8.8,8.91,75427866,671034442],[20140303,8.91,8.91,8.92,8.81,8.85,81389991,720619849],[20140304,8.85,8.84,8.91,8.68,8.87,113473857,994582737],[20140305,8.87,8.86,8.88,8.68,8.7,66776262,585846336],[20140306,8.7,8.7,8.86,8.62,8.8,105221671,920528165],[20140307,8.8,8.8,8.91,8.71,8.73,85996638,757643571],[20140310,8.73,8.67,8.71,8.42,8.44,100335990,859115769],[20140311,8.44,8.43,8.53,8.39,8.46,71119520,600753236],[20140312,8.46,8.47,8.67,8.39,8.56,110468613,942803798],[20140313,8.56,8.76,9.13,8.68,8.84,198115864,1758751742],[20140314,8.84,8.78,9.03,8.72,8.99,179769247,1602451090],[20140317,8.99,8.99,8.99,8.99,8.99,0,0],[20140318,8.99,9.22,9.23,8.87,8.89,167965350,1523657836],[20140319,8.89,8.85,9.07,8.76,9.05,93838218,832057181],[20140320,9.05,8.96,9.2,8.95,8.99,166058733,1510412577],[20140321,8.99,8.98,9.89,8.97,9.89,577730146,5543459714],[20140324,9.89,9.89,10.01,9.74,9.8,550938112,5438997560],[20140325,9.8,9.76,9.86,9.68,9.75,225324449,2201589731],[20140326,9.75,9.78,9.83,9.51,9.58,188654730,1813592755],[20140327,9.58,9.53,9.94,9.48,9.69,310183453,3020967368],[20140328,9.69,9.64,9.92,9.6,9.67,235609623,2299182855],[20140331,9.67,9.7,9.77,9.57,9.72,117957984,1139701358],[20140401,9.72,9.66,9.84,9.63,9.73,121142230,1177869503],[20140402,9.73,9.75,10.04,9.71,9.94,221487036,2188083753],[20140403,9.94,9.94,10,9.64,9.67,202589136,1988726346],[20140404,9.67,9.62,9.75,9.57,9.73,103710191,1003039509],[20140408,9.73,9.71,10.31,9.71,10.14,389948091,3925146601],[20140409,10.14,10.12,10.19,10.03,10.1,166971745,1686236313],[20140410,10.1,10.14,10.41,10.03,10.23,251774137,2565192729],[20140411,10.23,10.18,10.32,10.14,10.25,187981794,1923682586],[20140414,10.25,10.25,10.29,10.09,10.12,133566631,1356868494],[20140415,10.12,10.07,10.08,9.82,9.85,176166147,1746784882],[20140416,9.85,9.82,9.97,9.81,9.9,100765541,997304842],[20140417,9.9,9.93,9.97,9.74,9.76,147878398,1453030914],[20140418,9.76,9.73,9.81,9.63,9.78,115394462,1120720917],[20140421,9.78,9.74,9.96,9.68,9.71,131392321,1292829716],[20140422,9.71,9.68,9.92,9.66,9.9,141231411,1385544270],[20140423,9.9,9.85,10,9.83,9.88,136419564,1352733686],[20140424,9.88,9.9,9.98,9.85,9.87,82309479,815388785],[20140425,9.87,9.92,10.06,9.82,9.84,180573527,1794439412],[20140428,9.84,9.82,9.87,9.65,9.67,123425122,1198581012],[20140429,9.67,9.67,9.82,9.65,9.8,88443328,859931423],[20140430,9.8,9.98,10.02,9.76,9.77,142558919,1407065796],[20140505,9.77,9.77,9.79,9.58,9.74,103509079,1001815675],[20140506,9.74,9.7,9.8,9.67,9.7,58797626,572224197],[20140507,9.7,9.69,9.75,9.64,9.66,55972788,542274520],[20140508,9.66,9.66,9.87,9.64,9.75,95225892,930740681],[20140509,9.75,9.75,9.82,9.69,9.76,74829332,731563193],[20140512,9.76,9.85,9.96,9.79,9.93,129589586,1282666102],[20140513,9.93,9.9,9.94,9.83,9.9,66182545,653997051],[20140514,9.9,9.89,9.92,9.78,9.81,114355129,1124734340],[20140515,9.81,9.79,9.83,9.71,9.73,70426925,688077256],[20140516,9.73,9.7,9.8,9.7,9.75,57142230,556664624],[20140519,9.75,9.72,9.72,9.47,9.52,137405978,1314192261],[20140520,9.52,9.56,9.6,9.48,9.55,64057749,610778785],[20140521,9.55,9.52,9.61,9.41,9.6,54298040,517810696],[20140522,9.6,9.59,9.73,9.57,9.6,71688611,692799602],[20140523,9.6,9.61,9.7,9.59,9.7,47057342,454096750],[20140526,9.7,9.76,9.78,9.69,9.74,54108963,526560774],[20140527,9.74,9.73,9.74,9.62,9.66,74436155,720820152],[20140528,9.66,9.66,9.72,9.6,9.68,92478303,892246146],[20140529,9.68,9.68,9.72,9.6,9.62,75258524,726796770],[20140530,9.62,9.62,9.63,9.55,9.57,69096841,662738428],[20140603,9.57,9.59,9.64,9.53,9.54,70641283,677281784],[20140604,9.54,9.55,9.56,9.4,9.45,86246408,816293703],[20140605,9.45,9.45,9.63,9.43,9.62,56500335,538639270],[20140606,9.62,9.6,9.62,9.45,9.51,53426017,509267444],[20140609,9.51,9.46,9.67,9.46,9.54,58231714,557813036],[20140610,9.54,9.59,9.65,9.52,9.63,68256823,655798665],[20140611,9.63,9.59,9.63,9.55,9.59,46334806,444252120],[20140612,9.59,9.57,9.59,9.52,9.54,42917693,410062037],[20140613,9.54,9.55,9.78,9.54,9.73,129624894,1256394771],[20140616,9.73,9.73,9.87,9.69,9.81,118477367,1159724313],[20140617,9.81,9.83,9.83,9.71,9.73,91317081,892676102],[20140618,9.73,9.73,9.77,9.71,9.73,66459996,647470882],[20140619,9.73,9.74,9.81,9.6,9.64,68906460,668029792],[20140620,9.64,9.64,9.71,9.62,9.7,57665733,557096336],[20140623,9.7,9.71,9.77,9.63,9.66,86019554,834638557],[20140624,9,9.05,9.09,9.01,9.04,83305537,753572842],[20140625,9.04,9.05,9.05,8.97,8.98,46797781,421074930],[20140626,8.98,8.98,9.04,8.98,8.99,43052470,387941139],[20140627,8.99,8.99,9.02,8.96,8.97,42713239,383829267],[20140630,8.97,8.98,9.08,8.98,9.05,52645089,476195578],[20140701,9.05,9.08,9.1,9.01,9.06,42584500,385288815],[20140702,9.06,9.06,9.09,9.02,9.06,41262790,373724765],[20140703,9.06,9.06,9.09,9.03,9.07,64553232,585009384],[20140704,9.07,9.08,9.09,9.05,9.07,47263941,428330850],[20140707,9.07,9.07,9.08,9.03,9.05,42831405,387738016],[20140708,9.05,9.05,9.06,9.01,9.05,52592964,475316192],[20140709,9.05,9.05,9.05,8.91,8.92,75829647,680803744],[20140710,8.92,8.92,8.95,8.9,8.92,43284795,386256083],[20140711,8.92,8.92,8.99,8.91,8.94,58461216,523490703],[20140714,8.94,8.93,9.01,8.9,9,50192334,449273967],[20140715,9,9.01,9.02,8.98,9.01,57331618,515793884],[20140716,9.01,9.01,9.05,9,9.02,57758013,521218620],[20140717,9.02,9.03,9.04,8.97,8.99,43076122,387416765],[20140718,8.99,8.98,9.05,8.96,9.02,60143570,542519442],[20140721,9.02,9.01,9.02,8.97,8.98,43394538,390236857],[20140722,8.98,8.96,9.1,8.96,9.06,101186449,915202973],[20140723,9.06,9.04,9.14,9.04,9.08,95071892,864070613],[20140724,9.08,9.09,9.38,9.09,9.32,235007435,2179260251],[20140725,9.32,9.38,9.44,9.3,9.39,134460946,1259192307],[20140728,9.39,9.44,9.83,9.44,9.76,315856664,3067199388],[20140729,9.76,9.8,9.88,9.72,9.78,203049428,1989649789],[20140730,9.78,9.89,9.92,9.67,9.71,182728243,1785992158],[20140731,9.71,9.69,9.81,9.66,9.8,113003643,1098506207],[20140801,9.8,9.77,9.96,9.74,9.76,199316283,1966817233],[20140804,9.76,9.82,9.94,9.73,9.92,167001355,1646470442],[20140805,9.92,9.92,9.95,9.8,9.87,116942080,1154644403],[20140806,9.87,9.83,9.83,9.66,9.74,134531042,1309646598],[20140807,9.74,9.75,9.78,9.55,9.56,141244203,1363312806],[20140808,9.56,9.56,9.6,9.5,9.54,120982762,1154961190],[20140811,9.54,9.57,9.73,9.57,9.7,99902317,966146824],[20140812,9.7,9.69,9.7,9.6,9.64,80856190,779243625],[20140813,9.64,9.64,9.68,9.53,9.61,97201687,932751444],[20140814,9.61,9.63,9.68,9.58,9.6,102325664,986409896],[20140815,9.6,9.63,9.7,9.58,9.68,83507836,806096135],[20140818,9.68,9.69,9.81,9.67,9.72,96111663,933999548],[20140819,9.72,9.78,9.78,9.64,9.71,99796164,968114276],[20140820,9.71,9.71,9.71,9.63,9.64,70135543,677452354],[20140821,9.64,9.64,9.65,9.43,9.5,118057183,1123688998],[20140822,9.5,9.5,9.58,9.47,9.54,76885741,733185581],[20140825,9.54,9.52,9.53,9.42,9.44,90596114,856940044],[20140826,9.44,9.43,9.5,9.41,9.46,85213616,804802442],[20140827,9.46,9.45,9.5,9.43,9.45,54628769,516864196],[20140828,9.45,9.45,9.45,9.36,9.36,70289162,661133087],[20140829,9.36,9.4,9.48,9.36,9.47,53881605,507394707],[20140901,9.47,9.49,9.52,9.44,9.49,68578076,650654489],[20140902,9.49,9.51,9.63,9.46,9.6,128705724,1227884244],[20140903,9.6,9.63,9.74,9.62,9.68,128588110,1244849632],[20140904,9.68,9.7,9.72,9.63,9.71,98919202,956753811],[20140905,9.71,9.73,9.78,9.69,9.74,126925907,1234561990],[20140909,9.74,9.75,9.82,9.68,9.7,123866063,1205605803],[20140910,9.7,9.65,9.66,9.57,9.59,111659515,1073076812],[20140911,9.59,9.6,9.73,9.57,9.6,119763193,1152958001],[20140912,9.6,9.61,9.61,9.53,9.6,80296496,768304362],[20140915,9.6,9.56,9.64,9.51,9.6,99444466,950656348],[20140916,9.6,9.65,9.76,9.59,9.62,222751521,2154511976],[20140917,9.62,9.63,9.66,9.53,9.57,116577448,1116528160],[20140918,9.57,9.56,9.75,9.53,9.73,218993865,2119148592],[20140919,9.73,9.72,9.91,9.7,9.85,286004782,2816151314],[20140922,9.85,9.83,9.83,9.61,9.61,155546883,1505934022],[20140923,9.61,9.61,9.69,9.6,9.63,88224150,850252148],[20140924,9.63,9.61,9.79,9.59,9.76,152637326,1480725849],[20140925,9.76,9.79,9.83,9.68,9.71,137216320,1340440535],[20140926,9.71,9.69,9.74,9.64,9.72,80598327,781818068],[20140929,9.72,9.75,9.81,9.72,9.76,121763013,1188241034],[20140930,9.76,9.78,9.8,9.7,9.75,105093276,1023862494],[20141008,9.75,9.78,9.85,9.73,9.84,142724444,1398725077],[20141009,9.84,9.85,9.94,9.81,9.85,130968217,1293022527],[20141010,9.85,9.8,9.91,9.77,9.83,133030186,1308626408],[20141013,9.83,9.79,9.83,9.68,9.73,109831220,1069089803],[20141014,9.73,9.72,9.82,9.69,9.72,84002904,818017648],[20141015,9.72,9.72,9.85,9.64,9.79,133922265,1304901629],[20141016,9.79,9.74,10.04,9.7,9.89,296366859,2936900132],[20141017,9.89,9.88,10,9.75,9.85,161019857,1588282410],[20141020,9.85,9.93,9.95,9.82,9.9,114718758,1133473887],[20141021,9.9,9.89,9.91,9.76,9.78,105290636,1034461912],[20141022,9.78,9.79,9.88,9.75,9.78,91092137,893481676],[20141023,9.78,9.78,9.88,9.72,9.75,118416324,1159897472],[20141024,9.75,9.77,9.79,9.66,9.68,108312657,1054022659],[20141027,9.68,9.62,9.63,9.4,9.47,138929487,1323460330],[20141028,9.47,9.5,9.61,9.5,9.59,101044054,965189350],[20141029,9.59,9.61,9.75,9.57,9.7,161050635,1555124009],[20141030,9.7,9.72,9.85,9.65,9.81,176780522,1722710639],[20141031,9.81,9.88,10.38,9.85,10.2,491064711,4953082712],[20141103,10.2,10.25,10.28,10.1,10.16,248371619,2525984147],[20141104,10.16,10.2,10.2,10.02,10.07,163212641,1645394573],[20141105,10.07,10.08,10.11,9.96,9.99,157561422,1578932517],[20141106,9.99,10.01,10.04,9.95,10.03,101863094,1018619320],[20141107,10.03,10.01,10.39,9.98,10.18,407114119,4155058255],[20141110,10.18,10.53,10.81,10.42,10.55,489376864,5168943744],[20141111,10.55,10.62,11.26,10.62,10.92,653738973,7163875483],[20141112,10.92,10.85,11.07,10.74,11.05,271038574,2961655250],[20141113,11.05,11.1,11.38,10.86,10.94,371263986,4115769395],[20141114,10.94,10.88,10.98,10.75,10.9,198414346,2154897404],[20141117,10.9,10.94,11.08,10.73,10.75,214519835,2329015774],[20141118,10.75,10.75,10.8,10.43,10.45,254900899,2687326957],[20141119,10.45,10.43,10.54,10.39,10.47,145326646,1518565385],[20141120,10.47,10.45,10.66,10.37,10.57,162402495,1709647461],[20141121,10.57,10.58,10.82,10.46,10.79,209997641,2234174865],[20141124,10.79,10.57,10.99,10.45,10.86,474049927,5090821659],[20141125,10.86,10.81,11.09,10.75,11.08,289490093,3159162410],[20141126,11.08,11.25,11.43,11.1,11.32,452263345,5092828904],[20141127,11.32,11.48,11.72,11.28,11.48,439738276,5062406815],[20141128,11.48,11.53,12.48,11.48,12.4,832183256,9950390236],[20141201,12.4,12.45,12.98,12.12,12.16,607270363,7590567304],[20141202,12.16,12.03,13.08,12.03,12.87,589371031,7404591089],[20141203,12.87,12.84,13.29,12.32,12.58,730561448,9380076839],[20141204,12.58,12.58,13.3,12.37,13.27,720041669,9307946036],[20141205,13.27,13.42,14,12.9,13.53,859647616,11553890777],[20141208,13.53,13.39,14.04,13.2,13.81,703922500,9622363300],[20141209,13.81,13.56,14.16,12.46,12.65,869193775,11788051418],[20141210,12.65,12.7,13.25,12.21,13.16,620272395,7901267906],[20141211,13.16,12.96,13.55,12.85,13.05,442571181,5847503446],[20141212,13.05,13.05,13.38,12.78,12.98,310558743,4067040277],[20141215,12.98,12.8,12.82,12.46,12.76,335025414,4232421865],[20141216,12.76,12.7,13.3,12.65,13.29,438688005,5706439860],[20141217,13.29,13.49,14.39,13.33,14.11,869703585,12037657249],[20141218,14.11,14.22,14.34,13.71,13.89,499627853,7010664184],[20141219,13.89,13.96,14.2,13.63,14.09,436244208,6099396161],[20141222,14.09,14.18,15.2,14.14,14.68,683449513,10043569171],[20141223,14.68,14.4,14.98,14.08,14.11,441578783,6398625351],[20141224,14.11,14.11,14.2,13.31,13.46,417579539,5715187854],[20141225,13.46,13.75,14.27,13.53,14.25,455721907,6359588287],[20141226,14.25,14.3,14.84,14.19,14.77,466983121,6790353352],[20141229,14.77,15.4,15.88,14.71,14.95,625216146,9556435997],[20141230,14.95,14.95,15.5,14.83,15.36,443655559,6774519460],[20141231,15.36,15.45,15.79,15.11,15.69,468832339,7271524766],[20150105,15.69,15.88,16.25,15.56,16.07,513568709,8182820911],[20150106,16.07,16,16.68,15.82,16.13,511684535,8311084820],[20150107,16.13,15.9,16.17,15.53,15.81,385716820,6114241100],[20150108,15.81,15.87,15.88,15.2,15.25,330627172,5101310595],[20150109,15.25,15.2,16.25,15.11,15.43,491999937,7692348549],[20150112,15.43,15.5,15.71,14.95,15.22,367787269,5625726993],[20150113,15.22,15.13,15.41,15.1,15.18,178404956,2712026682],[20150114,15.18,15.31,15.79,15.31,15.49,309018855,4812472304],[20150115,15.49,15.49,16.15,15.39,16.12,329826849,5216166778],[20150116,16.12,16.24,16.75,16.16,16.47,480245887,7938757902],[20150119,16.47,15.38,15.73,14.82,14.82,623520880,9496942743],[20150120,14.82,14.88,15.17,14.58,15,479215741,7142638836],[20150121,15,15.1,15.87,14.81,15.74,487540369,7489943294],[20150122,15.74,15.73,15.76,15.35,15.63,294738261,4592022934],[20150123,15.63,15.74,16.04,15.54,15.63,320042992,5044685774],[20150126,15.63,15.56,15.59,15.13,15.43,268566922,4122351608],[20150127,15.43,15.44,15.44,14.75,15.01,351914010,5286301699],[20150128,15.01,14.82,15.11,14.66,14.81,242203054,3592645043],[20150129,14.81,14.58,14.68,14.32,14.42,266968083,3864614152],[20150130,14.42,14.58,14.69,14.36,14.47,207865327,3021747775],[20150202,14.47,14.06,14.26,13.99,14.04,211617677,2989272548],[20150203,14.04,14.21,14.46,14.02,14.45,196263569,2792706733],[20150204,14.45,14.5,14.59,14.12,14.18,167896219,2421384723],[20150205,14.18,14.75,14.8,14.17,14.18,394332692,5742890408],[20150206,14.18,14.09,14.32,13.95,14.09,186547522,2637143942],[20150209,14.09,14.06,14.27,13.85,14.16,224585511,3155932084],[20150210,14.16,14.15,14.48,14.08,14.43,183693513,2629916390],[20150211,14.43,14.43,14.54,14.31,14.42,124127097,1789572963],[20150212,14.42,14.42,14.43,14.11,14.35,148954152,2121808297],[20150213,14.35,14.5,14.67,14.35,14.43,208366810,3023274166],[20150216,14.43,14.43,14.46,14.26,14.4,139220024,1995677496],[20150217,14.4,14.42,14.58,14.41,14.47,120665263,1747213085],[20150225,14.47,14.48,14.5,14.18,14.28,140932583,2025174378],[20150226,14.28,14.25,14.68,14.11,14.62,215013978,3104052166],[20150227,14.62,14.6,14.8,14.48,14.53,195606870,2861206457],[20150302,14.53,14.58,14.58,14.36,14.48,218763276,3159377729],[20150303,14.48,14.44,14.44,13.98,14,266372415,3766071237],[20150304,14,14.05,14.07,13.85,13.91,156595995,2183814569],[20150305,13.91,13.84,13.84,13.51,13.58,226504580,3090569665],[20150306,13.58,13.58,13.78,13.54,13.63,128036367,1750570352],[20150309,13.63,13.81,14.7,13.61,14.51,434801476,6170955159],[20150310,14.51,14.32,14.37,14.07,14.1,254844764,3623305559],[20150311,14.1,14.17,14.56,14.17,14.25,215069722,3087509382],[20150312,14.25,14.65,15.56,14.58,15.12,632781877,9512030471],[20150313,15.12,15.19,15.8,15.08,15.29,440178379,6789040866],[20150316,15.29,15.56,15.61,15.2,15.47,316116667,4867224356],[20150317,15.47,15.6,15.68,15.36,15.54,309677645,4797833475],[20150318,15.54,15.57,15.88,15.43,15.88,354655138,5558613435],[20150319,15.88,15.88,15.89,15.58,15.64,316770912,4978776033],[20150320,15.64,15.62,16.09,15.37,15.75,456531222,7180731346],[20150323,15.75,15.82,16.04,15.77,15.91,357592740,5692415845],[20150324,15.91,15.89,16,15.6,15.69,324657542,5114146783],[20150325,15.69,15.6,15.72,15.15,15.24,331730332,5108990851],[20150326,15.24,15.15,15.58,15.04,15.36,282340713,4326755744],[20150327,15.36,15.32,15.55,15.17,15.36,218174978,3350088365],[20150330,15.36,15.55,16.2,15.44,16.02,487442660,7735007517],[20150331,16.02,16.48,16.58,15.74,15.79,494049254,7990395333],[20150401,15.79,15.79,16.14,15.75,15.95,305878383,4868332118],[20150402,15.95,16.3,16.38,15.87,16.18,410087652,6611462332],[20150403,16.18,16,16.29,15.93,16.2,320361507,5171219071],[20150407,16.2,16.5,16.87,16.45,16.71,502260203,8372655104],[20150408,16.71,16.73,17.04,16.45,17.02,514816375,8633478020],[20150409,17.02,17.05,17.48,16.8,16.87,497335458,8497436086],[20150410,16.87,16.86,17.57,16.76,17.53,451543445,7772119507],[20150413,17.53,17.99,18.48,17.62,18.03,581406595,10470524484],[20150414,18.03,18.03,18.04,17.56,17.89,372837061,6640484668],[20150415,17.89,17.8,18.45,17.71,17.96,449643905,8170773646],[20150416,17.96,17.97,18.67,17.85,18.65,415984573,7577393009],[20150417,18.65,18.95,19.05,18.47,18.6,490159321,9167362860],[20150420,18.6,18.72,18.72,17.6,17.9,572435809,10446728565],[20150421,17.9,17.75,18.19,17.75,18.16,368194681,6615540644],[20150422,18.16,18.3,18.55,18.08,18.5,420766743,7712130682],[20150423,18.5,18.5,18.64,18.11,18.22,363593631,6675541987],[20150424,18.22,17.8,18.03,17.46,17.68,422927109,7509013285],[20150427,17.68,17.72,18.25,17.72,18.17,384541412,6942247859],[20150428,18.17,18.24,19,18,18.3,600053990,11100683779],[20150429,18.3,18.27,18.66,18.06,18.53,358393731,6591914895],[20150430,18.53,18.28,18.46,18.05,18.07,412760522,7523663257],[20150504,18.07,18,18,17.6,17.81,258064565,4597698886],[20150505,17.81,17.73,17.75,16.85,17.08,375386437,6483575960],[20150506,17.08,17.08,17.51,16.97,17.06,303607877,5225100162],[20150507,17.06,17.03,17.28,16.98,17.07,214390703,3674226153],[20150508,17.07,17.19,17.3,16.82,17.11,18456e4,3151167765],[20150511,17.11,16.98,17.31,16.79,17.27,277153427,4711900631],[20150512,17.27,17.25,17.4,17.04,17.24,219176341,3768388795],[20150513,17.24,17.33,17.39,16.9,17.07,245244498,4198950106],[20150514,17.07,17.1,17.25,16.94,16.99,192361949,3283133222],[20150515,16.99,16.91,17.07,16.59,16.78,209597267,3526291462],[20150518,16.78,16.62,16.76,16.34,16.38,187555204,3106379587],[20150519,16.38,16.37,17.09,16.35,17.04,242251271,4080429264],[20150520,17.04,17.04,17.49,16.97,17.15,265675717,4567803884],[20150521,17.15,17.25,17.4,17.1,17.32,166403483,2873100257],[20150522,17.32,17.46,17.79,17.34,17.76,248087543,4379120076],[20150525,17.76,17.85,18.18,17.84,18.14,273874763,4942207005],[20150526,18.14,18.22,18.45,17.91,18.39,301665297,5504873384],[20150527,18.39,18.44,18.65,18.05,18.07,296942307,5444651111],[20150528,18.07,18.1,18.14,17.01,17.04,334032210,5908534663],[20150529,17.04,17.08,17.35,16.71,17.04,256087315,4370819052],[20150601,17.04,17.04,18.08,16.86,17.93,286379255,5015007440],[20150602,17.93,17.93,17.97,17.5,17.84,224935535,4001574466],[20150603,17.84,17.89,18.05,17.54,17.9,244139688,4338757668],[20150604,17.9,18,18.8,17.58,18.63,471864928,8635099296],[20150605,18.63,19,19.17,18.02,18.43,362420155,6742853974],[20150608,18.43,18.43,18.43,18.43,18.43,0,0],[20150609,18.43,18.43,18.43,18.43,18.43,0,0],[20150610,18.43,18.43,18.43,18.43,18.43,0,0],[20150611,18.43,18.43,18.43,18.43,18.43,0,0],[20150612,18.43,18.43,18.43,18.43,18.43,0,0],[20150615,18.43,18.43,18.43,18.43,18.43,0,0],[20150616,18.43,18.43,18.43,18.43,18.43,0,0],[20150617,18.43,18.49,18.98,17.95,18.2,513118652,9419105681],[20150618,18.2,18.09,18.25,17.64,17.72,278296731,4980064847],[20150619,17.72,17.58,17.95,16.84,17.07,278090221,4894778628],[20150623,16.31,16.45,17.09,16.24,17.02,297748888,4966949468],[20150624,17.02,17.03,17.3,16.58,17.25,257825317,4364353264],[20150625,17.25,17.6,17.74,16.65,16.71,271649032,4704733126],[20150626,16.71,16.43,17.08,15.33,15.85,361776730,5893832505],[20150629,15.85,16.3,16.53,14.81,15.91,420675691,6723071040],[20150630,15.91,15.93,16.98,15.91,16.96,375411270,6204981732],[20150701,16.96,16.81,16.93,16.2,16.32,250555997,4180149244],[20150702,16.32,16.5,16.83,15.81,16.37,322264859,5297602404],[20150703,16.37,16.39,16.64,15.1,15.87,312701072,5041249946],[20150706,15.87,17.4,17.46,16.63,17.22,659421895,11195522994],[20150707,17.22,16.94,17.82,16.46,17.57,713763502,12379048406],[20150708,17.57,16.2,17.5,15.81,15.95,837950419,13833635468],[20150709,15.95,15.95,17.4,15.38,16.95,545237273,8927542091],[20150710,16.95,16.76,18.15,16.65,17.28,647768569,11376342740],[20150713,17.28,16.99,17.48,16.81,17.04,372594650,6364720151],[20150714,17.04,16.78,16.98,16.36,16.75,305725800,5111292893],[20150715,16.75,16.7,17.13,16.51,17.07,348253550,5845359e3],[20150716,17.07,17.07,17.12,16.71,16.96,181402598,3069471172],[20150717,16.96,17.03,17.19,16.88,17.02,195927578,3336786144],[20150720,17.02,17,17.03,16.65,16.68,172918155,2908824607],[20150721,16.68,16.58,16.72,16.3,16.38,156268261,2572676436],[20150722,16.38,16.33,16.38,16.15,16.16,120352700,1956978868],[20150723,16.16,16.24,16.51,16.18,16.43,114525468,1878869159],[20150724,16.43,16.43,16.49,16.13,16.14,123609179,2016987556],[20150727,16.14,16,16.1,14.84,14.91,225091581,3515372642],[20150728,14.91,14.68,15.4,14.62,15.24,246095094,3717225976],[20150729,15.24,15.22,15.3,15.12,15.29,135858697,2063868116],[20150730,15.29,15.29,15.36,14.88,14.9,118921723,1807407771],[20150731,14.9,14.97,15.16,14.65,15.07,234941266,3516273899],[20150803,15.07,14.99,15.6,14.86,15.55,212367132,3246435574],[20150804,15.55,15.48,15.67,15.38,15.62,85154364,1320992960],[20150805,15.62,15.6,15.64,15.27,15.31,58185882,899150924],[20150806,15.31,15.16,15.57,15.14,15.38,65377995,1007550209],[20150807,15.38,15.58,15.64,15.39,15.47,65302258,1014250620],[20150810,15.47,15.45,15.86,15.35,15.78,116938205,1823776978],[20150811,15.78,15.7,15.75,15.51,15.57,105104123,1642256846],[20150812,15.57,15.4,15.6,15.38,15.39,79184358,1225370347],[20150813,15.39,15.47,15.56,15.29,15.45,74034209,1141661419],[20150814,15.45,15.47,15.54,15.37,15.49,66356010,1025758702],[20150817,15.49,15.41,15.41,15.22,15.32,120892083,1851641790],[20150818,15.32,15.35,15.52,14.83,14.87,198445221,3032249668],[20150819,14.87,14.87,15.17,14.5,15,199062097,2952584751],[20150820,15,14.94,14.99,14.66,14.68,88124782,1309322551],[20150821,14.68,14.61,14.74,14.2,14.22,123792817,1794884637],[20150824,14.22,13.93,13.95,12.8,12.87,334859429,4407389496],[20150825,12.87,12.54,13.08,11.91,12.39,289470686,3659079619],[20150826,12.39,12.65,13.35,12.4,13.02,235214588,3028238686],[20150827,13.02,13.16,14.09,12.98,13.98,212008806,2835655224],[20150828,13.98,14.1,14.32,13.85,14.24,208950955,2942159406],[20150831,14.24,14.2,14.98,13.96,14.96,202628515,2902670628],[20150901,14.96,14.66,15.34,14.41,15.33,304904688,4572547207],[20150902,15.33,14.9,15.37,14.72,14.89,255045273,3831534739],[20150907,14.89,14.73,15.01,14.16,14.5,287948628,4206785571],[20150908,14.5,14.52,15.16,14.22,15.06,330814193,4893450790],[20150909,15.06,14.91,15.27,14.91,15.16,241917533,3653652169],[20150910,15.16,15.06,15.27,14.96,15.25,205749026,3113080980],[20150911,15.25,15.35,15.66,15.3,15.56,288708558,4469128138],[20150914,15.56,15.5,15.95,14.93,15.93,183936607,2836987910],[20150915,15.93,15.53,15.55,15.24,15.46,107602458,1658227600],[20150916,15.46,15.31,15.8,15.03,15.43,74128982,1135218748],[20150917,15.43,15.34,15.46,15.1,15.11,50848655,778452708],[20150918,15.11,15.16,15.29,15.02,15.03,40899248,619915754],[20150921,15.03,14.96,15.08,14.84,14.97,40488316,604842e3],[20150922,14.97,14.97,15.23,14.97,15.05,38673835,584644943],[20150923,15.05,14.91,15,14.68,14.95,54580634,810914239],[20150924,14.95,14.95,15.3,14.87,15.27,78862572,1192962812],[20150925,15.27,15.15,15.62,15.15,15.59,136070895,2096781866],[20150928,15.59,15.55,15.96,15.42,15.92,91425816,1436492503],[20150929,15.92,15.79,15.99,15.67,15.97,114190253,1807681575],[20150930,15.97,15.95,16.65,15.9,16.63,211038123,3452096800],[20151008,16.63,16.8,16.8,15.83,15.87,140057148,2277284657],[20151009,15.87,15.97,16.15,15.85,15.9,41525835,663144753],[20151012,15.9,15.9,16.25,15.73,16.06,93633306,1497165793],[20151013,16.06,15.98,16.11,15.85,15.97,54698799,873290852],[20151014,15.97,15.81,16.09,15.81,15.9,44297812,706211867],[20151015,15.9,15.9,15.9,15.9,15.9,0,0],[20151016,15.9,15.9,15.9,15.9,15.9,0,0],[20151019,15.9,15.9,15.9,15.9,15.9,0,0],[20151020,15.9,15.9,15.9,15.9,15.9,0,0],[20151021,15.9,15.9,15.9,15.9,15.9,0,0],[20151022,15.9,15.9,15.9,15.9,15.9,0,0],[20151023,15.9,15.9,15.9,15.9,15.9,0,0],[20151026,15.9,16.03,16.57,16.03,16.28,101041055,1648965008],[20151027,16.28,16.23,16.45,16.15,16.32,74933996,1223267248],[20151028,16.32,16.26,16.54,16.09,16.31,74226285,1217460775],[20151029,16.31,16.3,16.63,16.23,16.59,75760565,1251114542],[20151030,16.59,16.5,16.68,16.38,16.39,45465414,750144861],[20151102,16.39,16.3,16.52,16.22,16.41,38122791,625014482],[20151103,16.41,16.4,16.77,16.37,16.46,60485065,1005503941],[20151104,16.46,16.43,16.92,16.43,16.84,65053992,1086409869],[20151105,16.84,16.85,18.07,16.75,17.71,231799691,4077390381],[20151106,17.71,17.52,18.18,17.51,17.88,127594225,2277276146],[20151109,17.88,17.92,19.19,17.88,18.15,157820058,2925510320],[20151110,18.15,18,18.69,17.82,18.37,140427138,2575229758],[20151111,18.37,18.41,18.49,17.5,17.73,92130221,1643831042],[20151112,17.73,17.8,17.83,17.15,17.36,77790159,1353612961],[20151113,17.36,17.2,17.6,17.15,17.58,73433156,1283306200],[20151116,17.58,17.34,17.58,17.2,17.42,45144666,785563829],[20151117,17.42,17.46,17.81,17.42,17.44,63539278,1119712536],[20151118,17.44,17.47,17.68,17.24,17.39,57584578,1003785434],[20151119,17.39,17.3,17.99,17.3,17.9,102543449,1821483172],[20151120,17.9,17.81,18.63,17.78,18.47,148206210,2733449298],[20151123,18.47,18.51,19.13,18.44,19.06,171203791,3235638652],[20151124,19.06,18.9,19.12,18.59,19.05,129389144,2437634483],[20151125,19.05,18.9,19.68,18.44,19.67,326524776,6295983533],[20151126,19.67,19.5,19.7,19.2,19.37,214944239,4187889901],[20151127,19.37,19.16,19.42,18.4,18.53,105608733,1999981226],[20151130,18.53,18.44,18.81,17.6,18.65,97633827,1779188257],[20151201,18.65,18.35,19,18.08,18.66,63430576,1179526363],[20151202,18.66,18.51,20,18.48,19.85,153608076,2972238980],[20151203,19.85,19.7,19.77,19.22,19.25,110346329,2147606954],[20151204,19.25,19.27,19.27,18.69,18.71,70275848,1331588236],[20151207,18.71,18.71,19.5,18.71,19.45,83346816,1592198369],[20151208,19.45,19.28,20.12,18.81,20.1,239884949,4764109259],[20151209,20.1,19.58,19.58,19.11,19.23,92049465,1776578423],[20151210,19.23,19.34,19.88,19.11,19.27,57091310,1108934588],[20151211,19.27,19.01,19.22,18.43,18.6,87066826,1630390309],[20151214,18.6,18.31,18.63,18.03,18.45,70736958,1290712912],[20151215,18.45,18.44,18.82,18.17,18.31,51685772,950672911],[20151216,18.31,18.36,18.45,18.11,18.18,38700640,705621171],[20151217,18.18,18.26,18.61,18.2,18.49,53304071,983362559],[20151218,18.49,18.49,19.8,18.43,18.81,92211924,1753311888],[20151221,18.81,18.79,19.4,18.54,19.14,82490082,1567681249],[20151222,19.14,19.01,19.29,18.77,18.9,53122744,1006796481],[20151223,18.9,18.91,19.13,18.61,18.88,66128171,1249610550],[20151224,18.88,18.85,19.14,18.67,19.04,57171554,1083459057],[20151225,19.04,19.02,19.48,18.93,19.32,55427897,1069153871],[20151228,19.32,19.37,19.43,18.62,18.7,49980698,945164680],[20151229,18.7,18.63,18.92,18.39,18.74,47288465,883333858],[20151230,18.74,18.71,18.78,18.31,18.57,35687385,660326971],[20151231,18.57,18.52,18.52,18.26,18.27,27936138,513758894],[20160104,18.27,18.28,18.28,17.55,17.8,42240610,754425783],[20160105,17.8,17.51,18.06,17.4,17.96,58054793,1034181474],[20160106,17.96,17.9,18.14,17.69,18.1,46772653,838667398],[20160107,18.1,17.8,17.9,17.4,17.51,11350479,199502702],[20160108,17.51,17.74,17.88,16.91,17.49,71918296,1262105060],[20160111,17.49,17.21,17.45,16.96,17.05,90177135,1550155933],[20160112,17.05,17.17,17.52,17.08,17.45,55374454,964061502],[20160113,17.45,17.57,17.9,17.35,17.39,47869312,843717365],[20160114,17.39,17,17.99,16.89,17.92,54838833,966117848],[20160115,17.92,17.8,18.15,17.52,17.58,46723139,836146426],[20160118,17.58,17.43,17.99,17.32,17.68,32729006,583291559],[20160119,17.68,17.78,17.88,17.5,17.77,29807159,527753175],[20160120,17.77,17.61,17.7,17.08,17.25,35968636,623546924],[20160121,17.25,17.22,17.46,16.5,16.58,34197115,582845476],[20160122,16.58,16.84,17.11,16.49,17.02,42007318,708179241],[20160125,17.02,17,17.17,16.72,17.03,23558971,400445071],[20160126,17.03,16.96,17.14,16.4,16.66,38279766,643611762],[20160127,16.66,16.75,16.98,16.51,16.68,44291307,742640743],[20160128,16.68,16.76,16.82,15.88,16.58,38902180,643984171],[20160129,16.58,16.52,17.05,16.41,16.9,47429e3,799493381],[20160201,16.9,16.99,17,16.41,16.5,29139596,485275132],[20160202,16.5,16.5,16.94,16.46,16.76,25380981,425396889],[20160203,16.76,16.6,16.66,16.45,16.61,27779183,459255616],[20160204,16.61,16.84,17.32,16.63,17.3,47162860,799283799],[20160205,17.3,17.24,18.39,17.15,18.38,78413454,1401156041],[20160215,18.38,17.98,18.48,17.8,18.45,67296317,1221398339],[20160216,18.45,18.45,18.45,18.45,18.45,0,0],[20160217,18.45,18.45,18.45,18.45,18.45,0,0],[20160218,18.45,18.45,18.45,18.45,18.45,0,0],[20160219,18.45,18.45,18.45,18.45,18.45,0,0],[20160222,18.45,18.45,18.45,18.45,18.45,0,0],[20160223,18.45,18.45,18.45,18.45,18.45,0,0],[20160224,18.45,18.45,18.45,18.45,18.45,0,0],[20160225,18.45,18.45,18.45,18.45,18.45,0,0],[20160226,18.45,18.45,18.45,18.45,18.45,0,0],[20160229,18.45,18.45,18.45,18.45,18.45,0,0],[20160301,18.45,18.45,18.45,18.45,18.45,0,0],[20160302,18.45,18.45,18.45,18.45,18.45,0,0],[20160303,18.45,18.45,18.45,18.45,18.45,0,0],[20160304,18.45,18.45,18.45,18.45,18.45,0,0],[20160307,18.45,18.45,18.45,18.45,18.45,0,0],[20160308,18.45,18.45,18.45,18.45,18.45,0,0],[20160309,18.45,18.45,18.45,18.45,18.45,0,0],[20160310,18.45,18.45,18.45,18.45,18.45,0,0],[20160311,18.45,17.51,17.53,16.61,16.97,98240322,1657158636],[20160314,16.97,16.88,17.47,16.82,16.86,56922239,973317374],[20160315,16.86,16.95,17.19,16.81,17.02,37540932,638223050],[20160316,17.02,16.92,18.07,16.91,18.03,108404378,1924212601],[20160317,18.03,17.81,18.19,17.45,17.7,68635812,1219236346],[20160318,17.7,17.79,18,17.65,17.84,55987968,996332597],[20160321,17.84,17.78,18.25,17.78,18.06,42001532,756966797],[20160322,18.06,18.09,18.63,18.02,18.15,43760811,800814893],[20160323,18.15,18.16,18.35,18.06,18.13,27830795,506023215],[20160324,18.13,18.11,18.11,17.68,17.72,27448272,488313660],[20160325,17.72,17.72,17.87,17.68,17.74,13619185,241971869],[20160328,17.74,17.78,18,17.37,17.45,24521696,433449200],[20160329,17.45,17.53,17.66,17.37,17.45,19151152,335806206],[20160330,17.45,17.65,17.95,17.65,17.87,35562148,634175207],[20160331,17.87,17.98,18.08,17.72,17.93,23762112,425380429],[20160401,17.93,17.98,18.25,17.61,18.18,35790541,643979468],[20160405,18.18,17.94,18.29,17.76,18.17,42622297,768010128],[20160406,18.17,18.03,18.14,17.87,17.96,23428724,421234846],[20160407,17.96,17.95,18,17.63,17.69,29047713,516129852],[20160408,17.69,17.56,17.76,17.53,17.6,17132244,301704521],[20160411,17.6,17.6,17.82,17.55,17.67,24117635,426862387],[20160412,17.67,17.69,17.7,17.53,17.62,14100759,248002295],[20160413,17.62,17.73,17.99,17.69,17.74,35189716,627667715],[20160414,17.74,17.9,18.01,17.75,17.8,15796208,281977244],[20160415,17.8,17.95,18.06,17.8,17.89,34773526,623836222],[20160418,17.89,17.75,18.03,17.66,17.81,28084133,501790676],[20160419,17.81,17.95,17.98,17.78,17.9,27246371,487095912],[20160420,17.9,17.89,17.99,17.31,17.96,46614611,825437834],[20160421,17.96,17.82,18.35,17.75,18.12,48212915,872382605],[20160422,18.12,18,18.36,17.94,18.24,28178162,513194655],[20160425,18.24,18.15,18.16,17.82,17.88,24294360,435467860],[20160426,17.88,17.87,18.08,17.75,17.92,15739400,281501388],[20160427,17.92,17.97,17.97,17.8,17.86,13838875,247622905],[20160428,17.86,17.93,18.1,17.83,17.9,15728417,282201353],[20160429,17.9,17.83,17.94,17.75,17.83,23065933,412460987],[20160503,17.83,17.95,18.24,17.83,18.12,27776723,501830132],[20160504,18.12,18.06,18.23,18.02,18.08,23118959,418592994],[20160505,18.08,18.06,18.12,17.98,18.06,14936632,269576075],[20160506,18.06,18.07,18.1,17.71,17.73,23406763,418454827],[20160509,17.73,17.71,17.8,17.4,17.51,21947591,386423417],[20160510,17.51,17.38,17.56,17.38,17.48,16846648,294675478],[20160511,17.48,17.55,17.57,17.4,17.45,11941164,208655785],[20160512,17.45,17.43,17.5,17.2,17.41,14668954,254410730],[20160513,17.41,17.37,17.46,17.22,17.24,11013829,190929402],[20160516,17.24,17.23,17.35,17.21,17.29,11045624,190872655],[20160517,17.29,17.29,17.34,17.16,17.25,9765153,168387277],[20160518,17.25,17.25,17.62,17.02,17.56,30962453,536935470],[20160519,17.56,17.44,17.49,17.33,17.35,10380826,180686332],[20160520,17.35,17.31,17.5,17.27,17.45,11140621,194223009],[20160523,17.45,17.5,17.68,17.44,17.55,14080659,247441303],[20160524,17.55,17.48,17.6,17.43,17.55,10725938,187905438],[20160525,17.55,17.68,17.73,17.6,17.67,13766238,243549455],[20160526,17.67,17.65,17.86,17.65,17.7,11065062,196266938],[20160527,17.7,17.69,17.77,17.63,17.74,11621242,205801175],[20160530,17.74,17.84,17.97,17.68,17.95,17538184,313324795],[20160531,17.95,17.93,18.4,17.92,18.29,35631526,650177320],[20160601,18.29,18.3,18.35,18.13,18.19,18312424,333790682],[20160602,18.19,18.2,18.3,17.93,18.02,17786525,321768768],[20160603,18.02,18.12,18.13,17.9,18.01,18003512,323746001],[20160606,18.01,18.05,18.11,17.97,18.02,17856247,321865763],[20160607,18.02,18.1,18.13,17.97,18.02,16533983,298145352],[20160608,18.02,18.01,18.07,17.97,17.99,23758300,427741583],[20160613,17.99,17.86,17.94,17.77,17.78,30051583,536281150],[20160614,17.78,17.77,17.83,17.7,17.79,18773357,333449719],[20160615,17.79,17.61,17.76,17.55,17.74,26332177,464557383],[20160616,17.74,17.67,17.93,17.6,17.8,30871127,549171213],[20160617,17.8,17.75,17.99,17.74,17.77,17412233,311113072],[20160620,17.77,17.93,17.93,17.75,17.85,9681495,172507202],[20160621,17.85,17.88,17.95,17.75,17.78,15852873,282663680],[20160622,17.78,17.8,17.9,17.78,17.89,14227501,253800359],[20160623,15.8,15.9,15.9,15.71,15.72,12882295,203560849],[20160624,15.72,15.7,15.79,15.08,15.28,30575522,470756348],[20160627,15.28,15.29,15.39,15.18,15.31,19163499,292488228],[20160628,15.31,15.27,15.3,15.18,15.28,12559826,191346962],[20160629,15.28,15.29,15.54,15.28,15.5,21253351,326320213],[20160630,15.5,15.5,15.66,15.44,15.57,20735886,323223547],[20160701,15.57,15.57,15.96,15.54,15.92,25106479,394802033],[20160704,15.92,15.86,16.03,15.8,15.93,21411650,341120776],[20160705,15.93,15.94,15.95,15.75,15.79,16171615,255727223],[20160706,15.79,15.71,15.76,15.61,15.64,22976510,360070168],[20160707,15.64,15.63,15.64,15.45,15.57,24498042,380536334],[20160708,15.57,15.55,15.56,15.44,15.45,14901331,230568191],[20160711,15.45,15.56,15.57,15.4,15.43,22852491,354003568],[20160712,15.43,15.48,15.65,15.45,15.64,25545130,397267013],[20160713,15.64,15.65,15.97,15.64,15.79,36238056,573546775],[20160714,15.79,15.77,15.84,15.64,15.7,16883421,265364888],[20160715,15.7,15.71,15.75,15.65,15.71,15998100,251152944],[20160718,15.71,15.73,15.91,15.66,15.77,27766982,438169692],[20160719,15.77,15.77,15.8,15.65,15.73,17179816,269908287],[20160720,15.73,15.7,15.76,15.63,15.75,14866526,233284416],[20160721,15.75,15.74,15.87,15.7,15.83,22020445,348156592],[20160722,15.83,15.81,15.82,15.58,15.63,16711700,262066573],[20160725,15.63,15.63,15.76,15.63,15.69,11441970,179598105],[20160726,15.69,15.69,15.79,15.65,15.74,20462397,321598665],[20160727,15.74,15.73,15.88,15.45,15.87,40697330,637937308],[20160728,15.87,15.77,15.79,15.65,15.68,17451372,274345301],[20160729,15.68,15.65,15.71,15.61,15.7,14348301,224747562],[20160801,15.7,15.68,15.85,15.65,15.8,22909943,361191350],[20160802,15.8,15.79,15.85,15.68,15.75,10877815,171311340],[20160803,15.75,15.64,15.72,15.62,15.67,10583990,165699514],[20160804,15.67,15.69,15.69,15.49,15.59,15610498,243122631],[20160805,15.59,15.6,15.8,15.59,15.73,17648517,277447198],[20160808,15.73,15.76,15.76,15.66,15.74,13129367,206333087],[20160809,15.74,15.75,15.8,15.71,15.79,15480879,243949588],[20160810,15.79,15.8,15.85,15.73,15.83,18499535,292534452],[20160811,15.83,15.75,16.4,15.74,16.07,52689421,852413099],[20160812,16.07,16.12,16.39,16,16.36,46991632,763634354],[20160815,16.36,16.5,17.02,16.45,16.94,77333862,1299618491],[20160816,16.94,16.94,16.99,16.67,16.7,49384036,829743468],[20160817,16.7,16.72,16.85,16.52,16.64,36446597,606581272],[20160818,16.64,16.55,16.77,16.35,16.44,37110139,612294413],[20160819,16.44,16.43,16.5,16.36,16.42,19927300,327521631],[20160822,16.42,16.42,16.47,16.31,16.41,19768630,324280093],[20160823,16.41,16.41,16.56,16.32,16.4,31754370,521794934],[20160824,16.4,16.41,16.51,16.34,16.39,17085424,280402637],[20160825,16.39,16.36,16.41,16.2,16.34,24749915,403472216],[20160826,16.34,16.36,16.4,16.29,16.34,14688056,240035889],[20160829,16.34,16.31,16.37,16.08,16.23,30202023,489414008],[20160830,16.23,16.24,16.49,16.24,16.4,36396993,597418078],[20160831,16.4,16.35,16.56,16.32,16.48,22003438,362526025],[20160901,16.48,16.48,16.55,16.38,16.41,21272047,349934548],[20160902,16.41,16.38,16.5,16.35,16.48,23147001,380418559],[20160905,16.48,16.49,16.58,16.42,16.49,25677035,423399290],[20160906,16.49,16.49,16.53,16.37,16.41,20282647,333206432],[20160907,16.41,16.41,16.5,16.35,16.48,17975558,295519896],[20160908,16.48,16.47,16.61,16.43,16.6,24406900,403801797],[20160909,16.6,16.62,16.66,16.5,16.56,18739471,310623908],[20160912,16.56,16.38,16.47,16.26,16.4,36509177,597895474],[20160913,16.4,16.4,16.46,16.39,16.45,14234378,233969071],[20160914,16.45,16.43,16.48,16.38,16.4,23981413,393967822],[20160919,16.4,16.45,16.51,16.42,16.46,14465955,238091122],[20160920,16.46,16.47,16.48,16.42,16.46,17396811,286078658],[20160921,16.46,16.47,16.51,16.43,16.45,9416102,154918234],[20160922,16.45,16.49,16.59,16.47,16.53,11527832,190442429],[20160923,16.53,16.55,16.55,16.48,16.48,10200460,168270146],[20160926,16.48,16.45,16.57,16.41,16.48,20769186,342748706],[20160927,16.48,16.42,16.52,16.42,16.48,17025470,280852907],[20160928,16.48,16.48,16.53,16.46,16.48,12841990,211844619],[20160929,16.48,16.52,16.55,16.49,16.5,10997408,181620111],[20160930,16.5,16.5,16.53,16.48,16.49,12190268,201085204],[20161010,16.49,16.53,16.6,16.48,16.55,18666854,308450225],[20161011,16.55,16.57,16.58,16.5,16.57,12690366,209785537],[20161012,16.57,16.54,16.54,16.48,16.51,10643884,175594201],[20161013,16.51,16.51,16.52,16.42,16.43,14504356,238973130],[20161014,16.43,16.43,16.47,16.38,16.46,10660114,175020225],[20161017,16.46,16.41,16.44,16.22,16.27,16424904,268130860],[20161018,16.27,16.28,16.39,16.24,16.34,18251833,298064113],[20161019,16.34,16.35,16.39,16.24,16.27,11143167,181631901],[20161020,16.27,16.27,16.34,16.25,16.29,8985794,146255319],[20161021,16.29,16.29,16.34,16.22,16.3,10884798,177155062],[20161024,16.3,16.3,16.58,16.27,16.47,24757241,406980667],[20161025,16.47,16.48,16.5,16.36,16.42,13309321,218721453],[20161026,16.42,16.4,16.42,16.3,16.32,12436805,203174010],[20161027,16.32,16.3,16.31,16.18,16.19,19517454,316513318],[20161028,16.19,16.19,16.34,16.18,16.29,15067204,244739683],[20161031,16.29,16.23,16.31,16.01,16.27,14673298,237635070],[20161101,16.27,16.26,16.33,16.21,16.3,13028259,212179107],[20161102,16.3,16.21,16.3,16.18,16.2,25051160,406667269],[20161103,16.2,16.19,16.38,16.19,16.35,25864110,421412550],[20161104,16.35,16.3,16.53,16.29,16.4,21516475,353348691],[20161107,16.4,16.39,16.45,16.38,16.42,21351658,350381736],[20161108,16.42,16.45,16.54,16.44,16.47,17307155,285419770],[20161109,16.47,16.47,16.53,16.36,16.46,39826582,655055488],[20161110,16.46,16.55,16.64,16.48,16.57,20484554,339602785],[20161111,16.57,16.56,16.63,16.45,16.59,21539188,356740636],[20161114,16.59,16.53,16.7,16.52,16.6,18124496,301208006],[20161115,16.6,16.59,16.61,16.5,16.59,15714142,260648299],[20161116,16.59,16.59,16.63,16.54,16.6,12395504,205688793],[20161117,16.6,16.58,16.63,16.52,16.6,22718556,376599274],[20161118,16.6,16.59,16.64,16.55,16.6,29274383,485488349],[20161121,16.6,16.59,16.73,16.54,16.64,21432453,356612260],[20161122,16.64,16.67,16.72,16.63,16.68,21080968,351666631],[20161123,16.68,16.68,17.23,16.66,16.93,45036427,765689745],[20161124,16.93,16.93,17.12,16.86,16.89,21043140,356783606],[20161125,16.89,16.89,17.1,16.81,17.09,23335230,396231886],[20161128,17.09,17.15,17.49,17.15,17.21,33835281,584558233],[20161129,17.21,17.21,17.35,17.11,17.26,29530098,509203656],[20161130,17.26,17.28,17.45,17.1,17.16,20135026,346784527],[20161201,17.16,17.15,17.27,17.05,17.15,18449219,316391192],[20161202,17.15,17.1,17.18,16.8,17.1,33895875,576329869],[20161205,17.1,16.95,17.32,16.91,17.3,38201368,655302810],[20161206,17.3,17.28,17.42,17.2,17.22,20948075,362989434],[20161207,17.22,17.17,17.2,17.06,17.07,15550748,265825550],[20161208,17.07,17.15,17.2,17.04,17.14,13234569,226759229],[20161209,17.14,17.14,17.46,17.12,17.34,28835648,500164630],[20161212,17.34,17.34,17.57,17.19,17.49,48359554,841905183],[20161213,17.49,17.36,17.44,17.16,17.17,15602869,270112439],[20161214,17.17,17.17,17.42,17.12,17.18,17860552,309185673],[20161215,17.18,17.13,17.13,16.7,16.7,30809613,517398943],[20161216,16.7,16.7,16.83,16.63,16.66,14531366,242842108],[20161219,16.66,16.65,16.7,16.51,16.52,8483493,140430889],[20161220,16.52,16.52,16.56,16.12,16.28,22525817,366213562],[20161221,16.28,16.26,16.37,16.25,16.32,12638809,206022869],[20161222,16.32,16.32,16.33,16.14,16.19,11499190,186428629],[20161223,16.19,16.17,16.22,16.07,16.19,11187906,180365980],[20161226,16.19,16.13,16.28,16.01,16.25,14482456,233999583],[20161227,16.25,16.25,16.32,16.13,16.14,10665824,172900199],[20161228,16.14,16.14,16.19,16.03,16.09,14441526,232406679],[20161229,16.09,16.09,16.15,15.99,16.07,11851308,190400022],[20161230,16.07,16.07,16.23,16.04,16.21,12262167,197653917],[20170103,16.21,16.21,16.44,16.17,16.3,16237125,265043268],[20170104,16.3,16.29,16.35,16.18,16.33,29658734,482612222],[20170105,16.33,16.3,16.38,16.24,16.3,26437646,431449126],[20170106,16.3,16.3,16.3,16.13,16.18,17195598,278864536],[20170109,16.18,16.24,16.29,16.13,16.2,14908745,241579598],[20170110,16.2,16.18,16.24,16.14,16.19,7996756,129458363],[20170111,16.19,16.24,16.24,16.15,16.16,9193332,148793816],[20170112,16.16,16.18,16.2,16.11,16.12,8296150,134057682],[20170113,16.12,16.1,16.29,16.1,16.27,19034143,308468975],[20170116,16.27,16.23,16.6,16.1,16.56,53304724,876414508],[20170117,16.56,16.46,16.54,16.37,16.4,12555292,206230538],[20170118,16.4,16.42,16.55,16.36,16.48,11478663,189191354],[20170119,16.48,16.43,16.64,16.43,16.54,12180687,201675871],[20170120,16.54,16.58,16.66,16.5,16.6,14288268,236958622],[20170123,16.6,16.66,16.69,16.51,16.57,14616540,242945923],[20170124,16.57,16.58,16.7,16.58,16.69,14985241,249503391],[20170125,16.69,16.69,16.74,16.61,16.69,11284869,188172530],[20170126,16.69,16.69,16.84,16.61,16.74,8602907,144343272],[20170203,16.74,16.82,16.85,16.62,16.63,8174289,136532939],[20170206,16.63,16.75,16.78,16.66,16.66,13455850,225037394],[20170207,16.66,16.65,16.74,16.63,16.67,14759284,246037892],[20170208,16.67,16.63,16.69,16.54,16.67,11238867,186815177],[20170209,16.67,16.68,16.77,16.59,16.72,11393034,190339364],[20170210,16.72,16.76,16.84,16.7,16.78,13985262,234489132],[20170213,16.78,16.88,16.9,16.78,16.85,19992872,336932200],[20170214,16.85,16.87,16.88,16.74,16.75,12987235,217924152],[20170215,16.75,16.82,16.93,16.75,16.84,25688032,433573962],[20170216,16.84,16.88,16.91,16.76,16.78,16327832,274241728],[20170217,16.78,16.78,16.82,16.59,16.64,13863642,231623672],[20170220,16.64,16.62,16.98,16.62,16.91,29949984,503858485],[20170221,16.91,16.88,17.08,16.81,16.88,17509118,296489045],[20170222,16.88,16.88,16.9,16.73,16.75,17032277,285870629],[20170223,16.75,16.78,16.83,16.64,16.69,15011148,250909254],[20170224,16.69,16.67,16.75,16.66,16.71,11594971,193610637],[20170227,16.71,16.69,16.72,16.53,16.59,13732273,228302043],[20170228,16.59,16.58,16.67,16.53,16.59,12097943,200661656],[20170301,16.59,16.58,16.62,16.52,16.56,16226984,268840218],[20170302,16.56,16.62,16.62,16.39,16.41,18996632,312626391],[20170303,16.41,16.42,16.43,16.32,16.35,12429467,203315662],[20170306,16.35,16.37,16.53,16.35,16.41,15703751,258165904],[20170307,16.41,16.38,16.45,16.37,16.43,9319842,152969168],[20170308,16.43,16.4,16.44,16.35,16.39,10109647,165715073],[20170309,16.39,16.37,16.4,16.22,16.22,17366025,282644706],[20170310,16.22,16.23,16.28,16.17,16.23,16396375,265663459],[20170313,16.23,16.23,16.34,16.16,16.34,17950147,291999358],[20170314,16.34,16.34,16.35,16.24,16.26,16988979,276642688],[20170315,16.26,16.24,16.28,16.17,16.24,18900324,306175990],[20170316,16.24,16.27,16.35,16.25,16.29,19036545,310417986],[20170317,16.29,16.3,16.32,16.14,16.2,21560354,350179470],[20170320,16.2,16.24,16.25,16.13,16.14,15017806,242775930],[20170321,16.14,16.15,16.16,15.98,16,31124617,499206643],[20170322,16,15.98,15.98,15.7,15.78,43811429,691677895],[20170323,15.78,15.8,15.92,15.79,15.88,22225660,352635979],[20170324,15.88,15.85,16,15.83,15.96,19902006,316984958],[20170327,15.96,15.97,16.13,15.9,16.04,18997369,304990151],[20170328,16.04,16.11,16.13,15.97,16.01,13212969,211750766],[20170329,16.01,16.01,16.11,15.8,15.87,23446792,372794465],[20170330,15.87,15.88,15.9,15.72,15.81,23645144,373665115],[20170331,15.81,15.78,16.05,15.77,16.01,24187120,385793421],[20170405,16.01,16.05,16.2,15.89,16.16,31036271,499121565],[20170406,16.16,16.09,16.18,16.03,16.1,22335442,359361840],[20170407,16.1,16.06,16.16,16.02,16.1,20126948,323821647],[20170410,16.1,16.12,16.12,15.94,15.97,16154024,258662668],[20170411,15.97,15.97,15.99,15.81,15.89,18611375,295381671],[20170412,15.89,15.88,15.96,15.75,15.89,22210541,352357729],[20170413,15.89,15.88,15.89,15.73,15.75,23426650,369388222],[20170414,15.75,15.76,15.78,15.42,15.51,40156553,625510632],[20170417,15.51,15.53,15.6,15.3,15.56,36739448,566536789],[20170418,15.56,15.5,15.52,15.3,15.3,22889980,351624622],[20170419,15.3,15.25,15.27,15.11,15.11,24455407,371021507],[20170420,15.11,15.12,15.14,14.9,14.91,41061406,614436383],[20170421,14.91,14.92,15.07,14.85,15.05,22688358,340453104],[20170424,15.05,15.05,15.11,14.91,15,17627803,264649933],[20170425,15,15.02,15.1,14.99,15.05,12975919,195296862],[20170426,15.05,15.06,15.11,15,15.05,14939871,225022668],[20170427,15.05,15.05,15.25,15.03,15.21,22887645,345791526],[20170428,15.21,15.15,15.22,15.08,15.21,15718509,238419161],[20170502,15.21,15.21,15.22,15.13,15.16,12607509,191225527],[20170503,15.16,15.16,15.16,15.05,15.08,14247943,215130847],[20170504,15.08,15.07,15.07,14.9,14.98,19477788,291839737],[20170505,14.98,14.95,14.98,14.52,14.92,40194577,592160198],[20170508,14.92,14.78,14.9,14.51,14.86,43568576,638781010],[20170509,14.86,14.69,14.84,14.66,14.76,19225492,283864640],[20170510,14.76,14.76,14.85,14.55,14.61,28359413,418201400],[20170511,14.61,14.57,14.79,14.55,14.75,27312908,400313949],[20170512,14.75,14.75,15.23,14.73,15.21,45733426,687468466],[20170515,15.21,15.27,15.43,15.16,15.27,29965820,458298668],[20170516,15.27,15.23,15.29,15.08,15.27,24875396,377908567],[20170517,15.27,15.24,15.26,15.07,15.21,33434411,505883672],[20170518,15.21,15.1,15.14,14.95,15.01,30657927,460669387],[20170519,15.01,15.04,15.08,14.91,15.02,28610626,428236200],[20170522,15.02,15.02,15.06,14.93,15.04,30227245,453230616],[20170523,15.04,15,15.57,14.98,15.43,75400428,1154524439],[20170524,15.43,15.38,15.52,15.21,15.47,70439028,1081376996],[20170525,11.75,11.75,12.93,11.72,12.93,222373433,2803027082],[20170526,12.93,12.81,12.91,12.54,12.84,176456630,2246593329],[20170531,12.84,12.75,13.05,12.66,12.84,113009809,1450286642],[20170601,12.84,12.78,12.97,12.69,12.92,96217055,1235216028],[20170602,12.92,12.93,13.01,12.74,12.89,80197701,1034450236],[20170605,12.89,12.79,12.88,12.51,12.85,75876475,963227274],[20170606,12.85,12.8,12.84,12.66,12.8,36104406,460469437],[20170607,12.8,12.81,12.99,12.78,12.84,64395191,827766620],[20170608,12.84,12.76,12.86,12.67,12.84,48194843,615876297],[20170609,12.84,12.79,13.2,12.77,12.93,114434319,1489264558],[20170612,12.93,12.9,13.14,12.76,12.78,73931192,955965931],[20170613,12.78,12.78,12.78,12.56,12.59,52716070,665205801],[20170614,12.59,12.6,12.64,12.31,12.46,55306982,687620409],[20170615,12.46,12.41,12.46,12.28,12.38,37492860,462612620],[20170616,12.38,12.38,12.46,12.27,12.35,47351062,586081485],[20170619,12.35,12.36,12.43,12.3,12.4,32941278,407834844],[20170620,12.4,12.41,12.44,12.22,12.29,44645196,548932358],[20170621,12.29,12.4,12.4,12.26,12.34,34000062,418820218],[20170622,12.34,12.33,12.84,12.29,12.57,110259441,1392278622],[20170623,12.57,12.55,12.65,12.36,12.64,68579079,858095944],[20170626,12.64,12.64,12.82,12.55,12.64,60509162,766551256],[20170627,12.64,12.64,12.73,12.53,12.7,46687475,589020019],[20170628,12.7,12.66,12.91,12.6,12.79,75349557,963202799],[20170629,12.79,12.81,12.86,12.7,12.76,38994542,497489975],[20170630,12.76,12.7,12.73,12.59,12.65,36566479,462244023],[20170703,12.65,12.64,12.65,12.47,12.56,38778949,486264674],[20170704,12.56,12.55,12.58,12.41,12.55,36659128,458434427],[20170705,12.55,12.5,12.65,12.47,12.62,26470507,332542458],[20170706,12.62,12.62,12.72,12.51,12.66,37414241,471582088],[20170707,12.66,12.62,12.69,12.55,12.6,24667294,311101536],[20170710,12.6,12.59,12.64,12.52,12.53,26411530,331940512],[20170711,12.53,12.51,12.94,12.51,12.8,96835349,1238626601],[20170712,12.8,12.8,13.06,12.74,12.86,80469025,1039614032],[20170713,12.86,12.82,13.29,12.77,13.27,110219238,1436784310],[20170714,13.27,13.34,13.8,13.34,13.59,146865370,1991795315],[20170717,13.59,13.62,14.02,13.28,13.76,178661221,2448349167],[20170718,13.76,13.65,13.72,13.4,13.55,69895876,946717556],[20170719,13.55,13.56,13.78,13.48,13.69,66108709,900014392],[20170720,13.69,13.67,13.7,13.53,13.62,40017492,544175215],[20170721,13.62,13.61,13.63,13.38,13.45,52272375,702999237],[20170724,13.45,13.45,13.74,13.36,13.67,65820954,892033686],[20170725,13.67,13.62,13.75,13.41,13.51,58478099,795769078],[20170726,13.51,13.45,13.7,13.36,13.38,57495388,775489074],[20170727,13.38,13.38,13.47,13.28,13.38,33612097,449548317],[20170728,13.38,13.37,13.49,13.3,13.47,24954961,334111573],[20170731,13.47,13.45,13.52,13.31,13.36,45083081,602638872],[20170801,13.36,13.42,13.49,13.32,13.43,64198064,860914609],[20170802,13.43,13.44,13.6,13.39,13.44,61644148,830433621],[20170803,13.44,13.42,13.42,13.04,13.08,78581867,1036842141],[20170804,13.08,13.09,13.1,12.85,12.87,63181971,818014678],[20170807,12.87,12.87,12.95,12.83,12.93,29528429,380518686],[20170808,12.93,12.91,12.93,12.83,12.87,23570298,303469941],[20170809,12.87,12.84,12.88,12.75,12.76,32303821,413575784],[20170810,12.76,12.74,12.88,12.7,12.79,44056044,563372040],[20170811,12.79,12.72,12.73,12.46,12.68,88890056,1118537328],[20170814,12.68,12.62,12.63,12.52,12.56,45562027,572465225],[20170815,12.56,12.58,12.76,12.56,12.59,62591905,792887783],[20170816,12.59,12.56,12.56,12.47,12.49,33886531,423706578],[20170817,12.49,12.49,12.55,12.47,12.53,39091156,488847378],[20170818,12.53,12.5,12.57,12.46,12.51,35976632,450071386],[20170821,12.51,12.5,12.57,12.46,12.51,33810237,422478328],[20170822,12.51,12.51,12.53,12.41,12.43,58829999,731959991],[20170823,12.43,12.44,12.66,12.41,12.57,96871587,1215804709],[20170824,12.57,12.58,12.66,12.45,12.47,62153175,779043383],[20170825,12.47,12.47,12.8,12.47,12.78,145590666,1842766907],[20170828,12.78,12.83,12.96,12.75,12.89,104113170,1339965987],[20170829,12.89,12.85,12.98,12.77,12.96,60063956,772995364],[20170830,12.96,12.91,12.98,12.82,12.87,60479990,779708165],[20170831,12.87,12.83,12.84,12.65,12.71,44790313,570138136],[20170901,12.71,12.68,12.87,12.68,12.77,39264131,501796405],[20170904,12.77,12.78,12.84,12.65,12.78,35667447,454951467],[20170905,12.78,12.78,13.09,12.78,13.03,73493027,954528907],[20170906,13.03,12.99,13.05,12.9,12.96,33823576,438219617],[20170907,12.96,12.94,13.02,12.82,12.85,38224782,494212416],[20170908,12.85,12.85,13.12,12.83,13.03,64778087,842285784],[20170911,13.03,13.15,13.15,12.95,12.99,52234735,683194002],[20170912,12.99,13,13.04,12.91,13.04,51012322,661471546],[20170913,13.04,13.01,13.01,12.86,12.87,31972897,412327510],[20170914,12.87,12.88,12.98,12.81,12.85,24160832,311079246],[20170915,12.85,12.82,12.86,12.75,12.83,24874312,318464945],[20170918,12.83,12.82,12.96,12.8,12.91,35747529,461032051],[20170919,12.91,12.93,12.95,12.82,12.9,30170124,388627660],[20170920,12.9,12.88,12.93,12.83,12.88,19867148,255856510],[20170921,12.88,12.86,12.95,12.83,12.87,20140268,259643727],[20170922,12.87,12.84,12.92,12.79,12.89,24192687,311178548],[20170925,12.89,12.89,12.95,12.71,12.94,50687628,650703773],[20170926,12.94,12.89,12.93,12.85,12.86,22163311,285364898],[20170927,12.86,12.83,12.91,12.76,12.85,26374752,339097277],[20170928,12.85,12.85,12.88,12.77,12.84,24124934,309223171],[20170929,12.84,12.82,12.91,12.81,12.87,19822263,255341342],[20171009,12.87,13.27,13.29,13,13.04,52149081,684274104],[20171010,13.04,13.05,13.1,12.98,13.1,27493986,359114767],[20171011,13.1,13.08,13.11,13.03,13.06,18706308,244440298],[20171012,13.06,13.05,13.09,12.97,13.05,17125284,223204024],[20171013,13.05,13.01,13.08,12.92,12.94,20857578,271308478],[20171016,12.94,12.98,13.06,12.94,13.04,23611164,307206532],[20171017,13.04,13.04,13.06,12.94,12.99,14692320,190770505],[20171018,12.99,12.99,13.1,12.93,13.07,45458736,592125606],[20171019,13.07,13.03,13.16,12.98,13.13,52881168,690607546],[20171020,13.13,13.09,13.1,13.01,13.01,17228409,224781272],[20171023,13.01,13.02,13.03,12.83,12.84,31563834,406941717],[20171024,12.84,12.84,12.95,12.82,12.86,27236042,350864968],[20171025,12.86,12.86,12.94,12.82,12.9,20743829,267109744],[20171026,12.9,12.87,12.88,12.78,12.82,25275166,324110141],[20171027,12.82,12.85,12.94,12.82,12.85,32673820,420972314],[20171030,12.85,12.84,12.84,12.59,12.7,74713617,947820344],[20171031,12.7,12.6,12.66,12.58,12.61,20120724,253737598],[20171101,12.61,12.63,12.72,12.53,12.54,35368712,446287606],[20171102,12.54,12.52,12.57,12.43,12.53,48267038,602955872],[20171103,12.53,12.53,12.6,12.43,12.58,32848169,411198265],[20171106,12.58,12.56,12.56,12.45,12.47,20016827,249788208],[20171107,12.47,12.49,12.6,12.41,12.54,38677337,482986126],[20171108,12.54,12.54,12.68,12.49,12.58,37134146,468242270],[20171109,12.58,12.57,12.63,12.53,12.55,17463373,219541345],[20171110,12.55,12.54,12.63,12.46,12.63,49925359,626756843],[20171113,12.63,12.65,12.85,12.63,12.8,78009337,996962275],[20171114,12.8,12.76,12.77,12.58,12.6,33754928,426955935],[20171115,12.6,12.6,12.63,12.55,12.6,28076530,353327083],[20171116,12.6,12.57,12.57,12.38,12.39,35680762,444238625],[20171117,12.39,12.38,12.8,12.38,12.78,109336535,1378873267],[20171120,12.78,12.7,12.86,12.61,12.85,61495420,783077227],[20171121,12.85,12.81,13.17,12.75,12.94,116179412,1512638142],[20171122,12.94,13,13.44,13,13.23,114576266,1513356223],[20171123,13.23,13.24,13.32,12.91,13.06,81912602,1076890039],[20171124,13.06,13.11,13.18,12.93,13.09,59612483,777699709],[20171127,13.09,13.09,13.12,12.81,13.1,79250273,1028510255],[20171128,13.1,13.03,13.07,12.92,12.94,34031908,441466983],[20171129,12.94,12.95,13.04,12.81,12.94,41846783,540439739],[20171130,12.94,12.91,12.95,12.8,12.91,39916356,513785829],[20171201,12.91,12.93,12.95,12.81,12.91,38577445,496330241],[20171204,12.91,12.87,12.94,12.84,12.92,36479233,470155474],[20171205,12.92,12.92,13.27,12.91,13.17,123796797,1623138207],[20171206,13.17,13.12,13.16,12.91,12.96,43564931,566372423],[20171207,12.96,12.95,13.03,12.91,12.96,34802229,451233524],[20171208,12.96,12.98,12.99,12.87,12.93,31296221,404411517],[20171211,12.93,12.92,13.04,12.85,12.97,36649902,474566888],[20171212,12.97,12.97,12.97,12.74,12.75,30370097,390113096],[20171213,12.75,12.8,12.81,12.63,12.74,19345338,246331123],[20171214,12.74,12.79,12.79,12.66,12.69,16141678,205219487],[20171215,12.69,12.69,12.73,12.61,12.62,16210108,205323767],[20171218,12.62,12.71,12.71,12.61,12.65,13445648,170140035],[20171219,12.65,12.65,12.76,12.62,12.75,18399603,233884666],[20171220,12.75,12.76,12.76,12.6,12.73,26639844,337603451],[20171221,12.73,12.67,12.78,12.6,12.7,21052388,267624195],[20171222,12.7,12.68,12.72,12.61,12.62,16076938,203468779],[20171225,12.62,12.61,12.68,12.56,12.59,19306662,243553698],[20171226,12.59,12.57,12.66,12.56,12.64,15225722,192219131],[20171227,12.64,12.65,12.66,12.53,12.62,32731881,412197987],[20171228,12.62,12.6,12.66,12.53,12.54,23870824,300834017],[20171229,12.54,12.52,12.62,12.51,12.59,16351826,205752875],[20180102,12.59,12.61,12.77,12.6,12.72,31323053,398614966],[20180103,12.72,12.73,12.8,12.66,12.66,37839101,480954809],[20180104,12.66,12.7,12.73,12.62,12.66,27883804,353205838],[20180105,12.66,12.67,12.71,12.62,12.69,31026744,393058250],[20180108,12.69,12.69,12.71,12.63,12.68,31389887,397842209],[20180109,12.68,12.68,12.74,12.66,12.7,26215432,332848333],[20180110,12.7,12.7,13.09,12.68,13.02,90679990,1174202006],[20180111,13.02,12.95,13.04,12.87,12.94,37816412,489588906],[20180112,12.94,12.97,13,12.9,12.91,24203419,313215088],[20180115,12.91,12.88,13.08,12.85,13.02,61320680,796861091],[20180116,13.02,12.97,13.06,12.78,12.9,74892652,963701144],[20180117,12.9,12.91,13.42,12.89,13.1,127132813,1675235171],[20180118,13.1,13.14,13.25,13.05,13.24,111608076,1465159094],[20180119,13.24,13.33,13.61,13.18,13.24,171648871,2300220633],[20180122,13.24,12.93,13.15,12.71,12.77,272513801,3514775144],[20180123,12.77,12.75,12.92,12.68,12.9,217827457,2791828653],[20180124,12.9,12.97,14,12.89,13.57,379653629,5099364114],[20180125,13.57,13.54,13.76,13.36,13.65,176989631,2400208784],[20180126,13.65,13.65,13.72,13.36,13.41,218419685,2954019925],[20180129,13.41,13.48,13.53,13.32,13.46,153783104,2065139247],[20180130,13.46,13.45,13.49,13.09,13.11,107804018,1429924976],[20180131,13.11,13.05,13.19,12.98,13.17,117703264,1541960901],[20180201,13.17,13.14,13.33,12.94,13.3,173573331,2289044601],[20180202,13.3,13.19,13.19,13.01,13.14,71796780,941467191],[20180205,13.14,13,13.54,12.98,13.49,150149657,2006361757],[20180206,13.49,13.29,13.5,13.2,13.48,244358992,3270199180],[20180207,13.48,13.58,13.9,13.24,13.45,200770115,2720519687],[20180208,13.45,13.34,13.4,12.95,13.1,109426872,1438198801],[20180209,13.1,12.89,12.98,12.24,12.78,149257356,1877264356],[20180212,12.78,12.66,12.68,12.43,12.49,64799197,811027710],[20180213,12.49,12.55,12.68,12.5,12.51,54900214,690054113],[20180214,12.51,12.5,12.55,12.38,12.46,32597811,406060202],[20180222,12.46,12.6,12.68,12.53,12.63,42012285,529856471],[20180223,12.63,12.66,12.78,12.59,12.72,38736515,491768409],[20180226,12.72,12.77,12.84,12.61,12.73,48806055,620261080],[20180227,12.73,12.75,12.76,12.61,12.69,48561087,615622149],[20180228,12.69,12.61,12.66,12.44,12.46,39888938,499258844],[20180301,12.46,12.4,12.5,12.38,12.47,34491031,429574072],[20180302,12.47,12.4,12.46,12.36,12.41,23024132,285473130],[20180305,12.41,12.41,12.48,12.34,12.42,29343464,363849705],[20180306,12.42,12.48,12.51,12.38,12.49,27222668,339015159],[20180307,12.49,12.51,12.6,12.46,12.49,38817575,487036820],[20180308,12.49,12.55,12.55,12.4,12.47,22164132,276013913],[20180309,12.47,12.49,12.51,12.42,12.48,23558287,293550899],[20180312,12.48,12.53,12.54,12.46,12.5,25161821,314544074],[20180313,12.5,12.5,12.58,12.43,12.49,25145e3,314545358],[20180314,12.49,12.45,12.45,12.38,12.39,22804603,282970086],[20180315,12.39,12.35,12.41,12.34,12.39,17287774,213972089],[20180316,12.39,12.36,12.4,12.3,12.3,26781399,330778426],[20180319,12.3,12.31,12.33,12.26,12.31,16896048,207819310],[20180320,12.31,12.28,12.39,12.25,12.32,20672283,254187843],[20180321,12.32,12.34,12.4,12.28,12.29,23878465,294872209],[20180322,12.29,12.35,12.35,12.25,12.25,22948484,281975042],[20180323,12.25,12,12.06,11.64,11.71,57106391,676679666],[20180326,11.71,11.71,11.75,11.5,11.61,36425054,422233460],[20180327,11.61,11.7,11.77,11.56,11.62,27332809,318586664],[20180328,11.62,11.53,11.75,11.52,11.57,22911282,266121467],[20180329,11.57,11.57,11.71,11.45,11.62,33108805,383064999],[20180330,11.62,11.63,11.69,11.61,11.65,23271965,270987701],[20180402,11.65,11.68,11.82,11.65,11.71,27719599,325667590],[20180403,11.71,11.66,11.67,11.54,11.56,18303514,211906876],[20180404,11.56,11.61,11.65,11.53,11.53,19637509,227689712],[20180409,11.53,11.53,11.59,11.49,11.5,16722481,192709506],[20180410,11.5,11.52,11.79,11.51,11.77,28748298,336076808],[20180411,11.77,11.79,12.02,11.75,11.91,31298519,372471249],[20180412,11.91,11.91,11.96,11.76,11.78,18824289,222769476],[20180413,11.78,11.83,11.89,11.69,11.69,14094853,166015524],[20180416,11.69,11.8,11.8,11.54,11.55,23720095,275070676],[20180417,11.55,11.56,11.7,11.55,11.55,25469983,296234022],[20180418,11.55,11.75,11.79,11.66,11.73,26295275,308485462],[20180419,11.73,11.8,11.89,11.76,11.8,16553270,195771190],[20180420,11.8,11.74,11.79,11.57,11.61,18377407,213965166],[20180423,11.61,11.56,11.75,11.53,11.6,18181610,211046456],[20180424,11.6,11.56,11.78,11.56,11.78,23032861,269871844],[20180425,11.78,11.71,11.77,11.65,11.66,16082634,188149247],[20180426,11.66,11.73,11.78,11.55,11.57,18205794,211987526],[20180427,11.57,11.58,11.67,11.55,11.61,23450783,272328553],[20180502,11.61,11.33,11.33,10.97,11.03,69325684,769050164],[20180503,11.03,10.99,11.01,10.83,10.92,34665572,378055362],[20180504,10.92,10.91,10.94,10.8,10.83,22253089,241749748],[20180507,10.83,10.82,10.89,10.76,10.84,27425378,297162770],[20180508,10.84,10.84,10.97,10.81,10.95,28796453,314537694],[20180509,10.95,10.95,11,10.89,10.93,18510621,202375456],[20180510,10.93,10.98,11,10.91,10.95,16030500,175546224],[20180511,10.95,11,11.01,10.94,10.95,22015135,241676135],[20180514,10.95,10.97,11.05,10.96,11,23763310,261553535],[20180515,11,11.03,11.05,10.88,10.99,23548459,258018710],[20180516,10.99,10.93,10.96,10.86,10.87,23580345,257351420],[20180517,10.87,10.86,10.91,10.81,10.83,18474690,200668980],[20180518,10.83,10.85,10.9,10.81,10.9,21717105,235717339],[20180521,10.9,10.98,10.98,10.9,10.94,23393724,255891648],[20180522,10.94,10.94,10.95,10.85,10.88,16014501,174138743],[20180523,10.88,10.88,10.89,10.79,10.8,21194469,229712309],[20180524,10.8,10.83,10.84,10.76,10.79,15229580,164430466],[20180525,10.79,10.83,10.83,10.68,10.71,19016226,204634790],[20180528,10.71,10.71,10.79,10.61,10.76,18370343,196979804],[20180529,10.76,10.7,10.74,10.61,10.64,16933980,180559166],[20180530,10.64,10.56,10.6,10.39,10.44,32230788,338274421],[20180531,10.44,10.46,10.69,10.46,10.55,45532670,480871723],[20180601,10.55,10.6,10.69,10.53,10.68,18365527,195167690],[20180604,10.68,10.76,10.83,10.7,10.75,16180325,174154210],[20180605,10.75,10.71,10.75,10.61,10.66,18692609,199025891],[20180606,10.66,10.64,10.64,10.53,10.55,14983603,158227437],[20180607,10.55,10.56,10.66,10.51,10.62,23355633,247771033],[20180608,10.62,10.55,10.57,10.37,10.42,27181997,283822904],[20180611,10.42,10.38,10.43,10.28,10.42,18004293,186272758],[20180612,10.42,10.41,10.41,10.3,10.35,16085667,166400389],[20180613,10.35,10.3,10.33,10.18,10.21,19961576,204624613],[20180614,10.21,10.16,10.26,10.16,10.22,17557528,179339350],[20180615,10.22,10.22,10.34,10.19,10.3,19914990,204800278],[20180619,10.3,10.23,10.24,9.81,9.92,42988471,432159776],[20180620,9.92,9.92,9.98,9.87,9.89,18915740,187504468],[20180621,9.89,9.88,9.98,9.75,9.83,23636961,234236776],[20180622,9.83,9.83,9.83,9.67,9.76,25040001,243586307],[20180625,9.76,9.77,9.82,9.55,9.56,24244380,234851670],[20180626,9.56,9.6,9.6,9.35,9.48,24424095,231698549],[20180627,9.48,9.41,9.53,9.36,9.37,24913770,234831869],[20180628,9.37,9.33,9.61,9.32,9.5,30741337,290768015],[20180629,9.5,9.56,9.6,9.45,9.56,19493546,185831802],[20180702,9.56,9.55,9.55,9.23,9.29,22669089,212743905],[20180703,9.29,9.29,9.38,9.2,9.35,24123551,224816757],[20180704,9.35,9.34,9.42,9.28,9.31,14464777,135000876],[20180705,9.31,9.26,9.35,9.22,9.26,16495438,152978661],[20180706,9.26,9.31,9.43,9.17,9.37,22594443,210564106],[20180709,9.37,9.37,9.63,9.37,9.6,22172565,212109327],[20180710,9.6,9.61,9.65,9.5,9.57,12402837,118668133],[20180711,9.57,9.37,9.44,9.32,9.38,15203933,142450919],[20180712,9.38,9.41,9.61,9.39,9.57,19704837,188206858],[20180713,9.47,9.57,9.58,9.46,9.49,15026339,142708347],[20180716,9.49,9.5,9.54,9.34,9.41,14414119,135697106],[20180717,9.41,9.41,9.48,9.38,9.44,13713495,129512091],[20180718,9.44,9.51,9.64,9.48,9.51,18922700,180858003],[20180719,9.51,9.6,9.62,9.53,9.56,18360482,175909129],[20180720,9.56,9.56,9.95,9.47,9.87,33275650,325018010],[20180723,9.87,9.91,10.03,9.74,9.96,31484434,311612051],[20180724,9.96,9.98,10.14,9.97,10.02,36424560,365678865],[20180725,10.02,10.12,10.12,9.96,10.02,15889970,159153073],[20180726,10.02,10.07,10.08,9.95,9.96,15206330,151927483],[20180727,9.96,9.96,10.04,9.93,9.99,12120067,121060815],[20180730,9.99,9.99,10.16,9.97,10.13,20096364,202566237],[20180731,10.13,10.12,10.2,10,10.17,18203008,184265064],[20180801,10.17,10.26,10.27,9.9,9.91,20741884,209512354],[20180802,9.91,9.91,10.03,9.66,9.79,24483871,240792864],[20180803,9.79,9.79,9.98,9.76,9.83,16997939,168026922],[20180806,9.83,9.97,10.03,9.87,9.91,17444492,173559265],[20180807,9.91,9.94,10.12,9.94,10.11,21784661,218926426],[20180808,10.11,10.15,10.15,10.01,10.05,13461992,135623302],[20180809,10.05,10,10.18,9.99,10.14,17689853,179007673],[20180810,10.14,10.14,10.14,10.02,10.07,13172633,132643603],[20180813,10.07,10,10.06,9.9,9.98,17927668,178552668],[20180814,9.98,9.98,10.07,9.95,10.06,15868585,158997523],[20180815,10.06,10.06,10.06,9.9,9.9,14787033,147639905],[20180816,9.9,9.87,10.12,9.84,10.06,24323652,243554060],[20180817,10.06,10.16,10.16,9.93,9.98,15090455,151684025],[20180820,9.98,10.17,10.17,10.01,10.15,26975300,272534557],[20180821,10.15,10.18,10.2,10.09,10.12,19786535,200852851],[20180822,10.12,10.12,10.14,10,10.09,11993541,120615691],[20180823,10.09,10.13,10.14,9.98,10.07,15537812,156583263],[20180824,10.07,10.06,10.43,10.02,10.3,32268837,330331268],[20180827,10.3,10.33,10.35,10.21,10.33,23266645,239467138],[20180828,10.33,10.3,10.38,10.25,10.3,14609685,150677769],[20180829,10.3,10.29,10.32,10.26,10.32,10362e3,106687297],[20180830,10.32,10.3,10.41,10.17,10.17,18621890,191336868],[20180831,10.17,10.16,10.36,10.16,10.33,37311724,383679854],[20180903,10.33,10.27,10.3,10.17,10.24,14309539,146457275],[20180904,10.24,10.21,10.4,10.18,10.37,16353060,168632347],[20180905,10.37,10.31,10.37,10.12,10.12,22729232,232884783],[20180906,10.12,10.12,10.23,10.12,10.14,10546916,107317753],[20180907,10.14,10.15,10.25,10.12,10.19,8995716,91694437],[20180910,10.19,10.16,10.23,10.13,10.18,11822813,120376355],[20180911,10.18,10.22,10.27,9.98,10.02,19689042,199401394],[20180912,10.02,9.99,10.07,9.95,10.04,16506103,165231589],[20180913,10.04,10.17,10.3,10.11,10.29,29417198,300441533],[20180914,10.29,10.36,10.36,10.21,10.26,16450780,169083471],[20180917,10.26,10.26,10.28,10.1,10.15,10535343,107339083],[20180918,10.15,10.16,10.26,10.09,10.26,16684789,170045729],[20180919,10.26,10.28,10.29,10.2,10.24,18550643,190221692],[20180920,10.24,10.26,10.28,10.18,10.22,16307051,166658023],[20180921,10.22,10.24,10.49,10.15,10.49,37571431,388504217],[20180925,10.49,10.38,10.47,10.32,10.35,15879199,164580504],[20180926,10.35,10.39,10.56,10.34,10.41,31175799,326010701],[20180927,10.41,10.45,10.48,10.38,10.48,24182714,252306120],[20180928,10.48,10.49,10.75,10.44,10.62,37430602,396863685],[20181008,10.62,10.39,10.48,10.15,10.16,41957276,432913252],[20181009,10.16,10.08,10.24,10.07,10.15,23159026,234661842],[20181010,10.15,10.14,10.28,10.13,10.17,18124701,184735118],[20181011,10.17,10,10.05,9.71,9.8,39056785,386778863],[20181012,9.8,9.9,10.1,9.83,10.03,25145127,250805638],[20181015,10.03,10.05,10.16,9.97,10.03,13957844,140122866],[20181016,10.03,10.03,10.19,9.97,10.05,15308344,154272073],[20181017,10.05,10.18,10.31,10.14,10.29,26520895,271564080],[20181018,10.29,10.35,10.35,10.16,10.19,22403988,229432798],[20181019,10.19,10.25,10.43,10.07,10.38,40331386,414893373],[20181022,10.38,10.32,10.7,10.32,10.62,47003409,497527573],[20181023,10.62,10.64,10.7,10.45,10.45,38089035,403493088],[20181024,10.45,10.57,11.05,10.52,10.74,59165552,639391016],[20181025,10.74,10.6,10.89,10.54,10.84,36866593,393987422],[20181026,10.84,10.85,10.98,10.74,10.92,27519309,298733755],[20181029,10.92,11.08,11.12,10.71,10.79,35265959,385116491],[20181030,10.79,10.93,11.05,10.89,10.95,33086049,363018055],[20181031,10.95,10.99,11.03,10.87,10.98,21737114,237583046],[20181101,10.98,11.05,11.09,10.86,10.89,23505322,257781673],[20181102,10.89,11.1,11.25,10.94,11.18,47788920,530913675],[20181105,11.18,11.15,11.25,11.08,11.14,17012759,189481162],[20181106,11.14,11.13,11.15,11,11.03,18422477,203565760],[20181107,11.03,11.09,11.1,10.87,10.9,20843864,228836505],[20181108,10.9,11.05,11.1,10.9,11.06,19991683,220506116],[20181109,11.06,10.99,11.03,10.7,10.75,25570050,277004944],[20181112,10.75,10.77,10.95,10.75,10.8,27015827,292478247],[20181113,10.8,10.68,10.9,10.68,10.82,20708729,223541479],[20181114,10.82,10.87,10.87,10.68,10.7,17998183,193809658],[20181115,10.7,10.72,10.81,10.65,10.77,16580059,178144575],[20181116,10.77,10.77,10.85,10.71,10.76,21394417,230509596],[20181119,10.76,10.86,10.9,10.77,10.88,21384793,231999662],[20181120,10.88,10.87,10.89,10.65,10.69,21883780,234959214],[20181121,10.69,10.61,10.72,10.61,10.66,16027458,170915676],[20181122,10.66,10.73,10.73,10.57,10.64,14008305,148745106],[20181123,10.64,10.6,10.66,10.5,10.5,14715010,155566104],[20181126,10.5,10.66,10.66,10.43,10.5,14377396,151609376],[20181127,10.5,10.5,10.61,10.45,10.49,15084666,158853285],[20181128,10.49,10.56,10.62,10.5,10.58,18339621,193914889],[20181129,10.58,10.64,10.75,10.54,10.63,20685685,220670065],[20181130,10.63,10.65,10.75,10.62,10.71,28572651,305468672],[20181203,10.71,10.99,11.05,10.84,11.02,43049070,472438382],[20181204,11.02,11,11.08,10.97,11.08,20811293,229713745],[20181205,11.08,10.99,11.1,10.96,11,25491217,281189602],[20181206,11,10.82,10.93,10.82,10.9,23597997,256533148],[20181207,10.9,10.94,11.03,10.88,10.89,10580550,115760323],[20181210,10.89,10.77,10.9,10.77,10.83,15927563,172346141],[20181211,10.83,10.84,10.9,10.69,10.72,17234222,185675067],[20181212,10.72,10.89,10.89,10.7,10.73,12448791,134006589],[20181213,10.73,10.76,10.86,10.73,10.8,19792340,213866046],[20181214,10.8,10.74,10.8,10.59,10.62,24163831,257441060],[20181217,10.62,10.65,10.78,10.62,10.78,19746228,211971706],[20181218,10.78,10.68,10.82,10.54,10.57,19451677,207318277],[20181219,10.57,10.59,10.65,10.54,10.54,13603633,144342542],[20181220,10.54,10.53,10.59,10.11,10.25,30069914,309207188],[20181221,10.25,10.23,10.24,10,10.07,20885862,209975605],[20181224,10.07,9.98,10.04,9.86,9.91,22779882,225706451],[20181225,9.91,9.77,9.86,9.6,9.79,34810397,337985911],[20181226,9.79,9.81,9.88,9.64,9.67,20569202,200359184],[20181227,9.67,9.77,9.8,9.66,9.66,27347564,266280883],[20181228,9.66,9.72,9.95,9.71,9.8,27404028,269118592],[20190102,9.8,9.74,9.79,9.58,9.7,23762822,229625669],[20190103,9.7,9.7,9.82,9.66,9.81,18654262,181975985],[20190104,9.81,9.73,10,9.7,9.96,27172844,268964563],[20190107,9.96,10.09,10.09,9.92,9.98,23597376,235440197],[20190108,9.98,10.03,10.03,9.91,9.96,15104933,150501650],[20190109,9.96,10.06,10.16,9.98,9.99,23163720,233890281],[20190110,9.99,9.94,10.02,9.92,9.96,15923566,158718755],[20190111,9.96,10.03,10.15,9.96,10.05,19069069,191290102],[20190114,10.05,10.03,10.1,10.01,10.06,20352840,204659052],[20190115,10.06,10.1,10.15,10.05,10.11,15632125,158126136],[20190116,10.11,10.1,10.15,10.07,10.13,12988340,131354721],[20190117,10.13,10.17,10.28,10.07,10.17,22766048,232114667],[20190118,10.17,10.29,10.44,10.22,10.43,29087141,300979124],[20190121,10.43,10.36,10.46,10.3,10.35,18947789,196394076],[20190122,10.35,10.38,10.38,10.23,10.25,16250557,167165417],[20190123,10.25,10.29,10.34,10.25,10.27,16520327,170289907],[20190124,10.27,10.34,10.39,10.27,10.38,15006699,155265972],[20190125,10.38,10.45,10.56,10.38,10.5,19696587,206935398],[20190128,10.5,10.53,10.66,10.39,10.42,21769073,229185387],[20190129,10.42,10.39,10.63,10.38,10.58,23768004,250301612],[20190130,10.58,10.59,10.64,10.47,10.5,16054256,169387635],[20190131,10.5,10.59,10.73,10.51,10.73,25131034,267614893],[20190201,10.73,10.82,10.82,10.62,10.77,19119343,204604273],[20190211,10.77,10.62,10.73,10.62,10.7,20216568,215903077],[20190212,10.7,10.71,10.73,10.63,10.72,16769601,179099038],[20190213,10.72,10.74,10.93,10.68,10.86,30248695,325845959],[20190214,10.86,10.85,10.91,10.8,10.82,19815286,215023175],[20190215,10.82,10.78,10.85,10.66,10.66,17758789,190960435],[20190218,10.66,10.75,10.87,10.7,10.84,20102219,217621153],[20190219,10.84,10.85,10.96,10.78,10.8,25952745,281465131],[20190220,10.8,10.92,10.92,10.81,10.83,22286311,242111573],[20190221,10.83,10.83,10.93,10.75,10.79,25402390,275374197],[20190222,10.79,10.76,11.01,10.76,11.01,25907438,281913760],[20190225,11.01,11.03,11.95,11.03,11.92,93712264,1075040678],[20190226,11.92,11.91,12.15,11.6,11.65,83643265,990289721],[20190227,11.65,11.71,12.07,11.67,11.83,71201603,843023417],[20190228,11.83,11.83,11.92,11.68,11.74,39393414,464139463],[20190301,11.74,11.81,12.06,11.6,12.02,63254621,747753342],[20190304,12.02,12.12,12.38,11.95,12.02,85024777,1030561509],[20190305,12.02,12.01,12.04,11.87,11.98,54564202,652552200],[20190306,11.98,11.99,12.15,11.86,12.02,53693164,644243050],[20190307,12.02,12.03,12.04,11.87,11.88,52618824,628390863],[20190308,11.88,11.72,11.72,11.36,11.5,52670531,609490591],[20190311,11.5,11.44,11.59,11.36,11.47,39922020,457056506],[20190312,11.47,11.59,11.69,11.4,11.44,52211807,602940683],[20190313,11.44,11.41,11.56,11.3,11.44,41373014,472974759],[20190314,11.44,11.46,11.58,11.43,11.46,34337899,395468492],[20190315,11.46,11.47,11.6,11.43,11.43,33769320,388244487],[20190318,11.43,11.45,11.6,11.37,11.59,43879562,503915219],[20190319,11.59,11.63,11.67,11.51,11.55,27500231,318521475],[20190320,11.55,11.52,11.64,11.49,11.55,27325424,315587208],[20190321,11.55,11.56,11.59,11.44,11.46,35037035,403573243],[20190322,11.46,11.49,11.51,11.31,11.39,35436446,403972783],[20190325,11.39,11.28,11.29,11.01,11.03,57716577,642860108],[20190326,11.03,11.11,11.14,11.03,11.09,30795722,341425280],[20190327,11.09,11.11,11.24,11.04,11.08,42124489,469246326],[20190328,11.08,11.03,11.05,10.9,11.03,29296120,321585861],[20190329,11.03,10.98,11.3,10.98,11.28,60526266,678436536],[20190401,11.28,11.36,11.52,11.29,11.44,70637405,808657530],[20190402,11.44,11.5,11.52,11.41,11.44,46714710,534896810],[20190403,11.44,11.37,11.54,11.34,11.5,50271029,575799446],[20190404,11.5,11.55,11.71,11.54,11.71,75232527,876099547],[20190408,11.71,11.79,11.96,11.65,11.72,77870373,920513531],[20190409,11.72,11.72,11.75,11.49,11.54,56895992,660406225],[20190410,11.54,11.5,11.56,11.42,11.48,41027539,470666649],[20190411,11.48,11.47,11.59,11.35,11.47,50172794,575765348],[20190412,11.47,11.47,11.56,11.43,11.49,26273690,301752036],[20190415,11.49,11.67,11.77,11.46,11.47,70509167,823853432],[20190416,11.47,11.46,11.99,11.43,11.95,100665400,1188260123],[20190417,11.95,11.96,12.09,11.88,11.91,68157211,816127043],[20190418,11.91,11.91,12.05,11.84,11.91,43048980,513835270],[20190419,11.91,12.01,12.2,11.86,12.01,56013041,672739660],[20190422,12.01,12.02,12.07,11.68,11.71,53389418,631192357],[20190423,11.71,11.68,11.8,11.63,11.7,33847719,396659664],[20190424,11.7,11.76,11.77,11.51,11.62,38201108,444929313],[20190425,11.62,11.56,11.69,11.48,11.54,40876129,473973527],[20190426,11.54,11.43,11.56,11.28,11.32,42469581,485267261],[20190429,11.32,11.35,11.54,11.34,11.48,38586938,442046727],[20190430,11.48,11.7,12.09,11.7,11.97,123474738,1466714710],[20190506,11.97,11.75,11.86,11.54,11.8,124545414,1460217054],[20190507,11.8,11.82,11.94,11.6,11.8,85489922,1010271124],[20190508,11.8,11.64,11.78,11.49,11.51,58500103,677487368],[20190509,11.51,11.48,11.56,11.1,11.12,64128049,722119098],[20190510,11.12,11.23,11.42,11.06,11.32,48550722,548884302],[20190513,11.32,11.2,11.4,11.15,11.31,40284963,455643057],[20190514,11.31,11.18,11.44,11.17,11.21,41888998,473151522],[20190515,11.21,11.28,11.42,11.23,11.32,34404465,389533437],[20190516,11.32,11.28,11.36,11.22,11.3,34141755,385015233],[20190517,11.3,11.32,11.35,11.2,11.24,38399831,433108021],[20190520,11.24,11.28,11.44,11.25,11.34,34904438,396448397],[20190521,11.34,11.33,11.45,11.31,11.32,32975873,374972621],[20190522,11.32,11.32,11.34,11.12,11.16,40000391,447828812],[20190523,11.16,11.12,11.15,10.95,11.1,36312689,401709177],[20190524,11.1,11.17,11.22,11,11.11,24160265,269312449],[20190527,11.11,11.09,11.26,10.96,11.22,35087915,390018809],[20190528,11.22,11.19,11.3,11.02,11.29,72278135,809741253],[20190529,11.29,11.17,11.29,11.07,11.12,40860970,455620583],[20190530,11.12,11.18,11.18,11.03,11.11,26650033,295267455],[20190531,11.11,11.11,11.23,11.05,11.13,36976728,412819768],[20190603,11.13,11.17,11.29,11.13,11.28,30492063,342326268],[20190604,11.28,11.29,11.37,11.26,11.35,25077393,283826808],[20190605,11.35,11.43,11.52,11.35,11.41,31423641,359479709],[20190606,11.41,11.51,11.51,11.38,11.47,26427215,303162728],[20190610,11.47,11.57,11.7,11.53,11.61,43183779,502599177],[20190611,11.26,11.35,11.45,11.27,11.42,52266217,594464068],[20190612,11.42,11.42,11.7,11.4,11.6,50635228,584680927],[20190613,11.6,11.57,11.79,11.5,11.7,46966016,548219997],[20190614,11.7,11.74,11.87,11.71,11.79,47385174,558641883],[20190617,11.79,11.78,11.92,11.75,11.77,35220103,416594828],[20190618,11.77,11.82,11.9,11.72,11.82,28965124,341904864],[20190619,11.82,12.04,12.07,11.81,11.88,44927745,537339845],[20190620,11.88,11.95,12.32,11.85,12.2,71647496,869024541],[20190621,12.2,12.18,12.3,12.03,12.09,55381180,670759370],[20190624,12.09,12.09,12.13,11.96,12.03,34195336,411172373],[20190625,12.03,11.98,11.98,11.51,11.66,80359367,940465134],[20190626,11.66,11.56,11.73,11.55,11.66,36973199,431115050],[20190627,11.66,11.68,11.84,11.55,11.64,47997783,561472043],[20190628,11.64,11.67,11.68,11.54,11.68,29545173,343056316],[20190701,11.68,11.86,11.92,11.69,11.71,54887882,646405195],[20190702,11.71,11.72,11.74,11.57,11.61,51165729,595072188],[20190703,11.61,11.62,11.63,11.51,11.56,36567085,422580470],[20190704,11.56,11.61,11.67,11.57,11.62,30369201,352968330],[20190705,11.62,11.63,11.64,11.53,11.57,25753241,298158887],[20190708,11.57,11.56,11.57,11.31,11.36,34710676,395611376],[20190709,11.36,11.4,11.43,11.33,11.37,21885404,248524017],[20190710,11.37,11.43,11.43,11.31,11.35,23409890,265773696],[20190711,11.35,11.43,11.46,11.34,11.4,23285835,265672149],[20190712,11.4,11.39,11.62,11.39,11.52,34816996,400591791],[20190715,11.52,11.4,11.54,11.22,11.5,40305603,459022365],[20190716,11.5,11.5,11.57,11.44,11.55,21606007,248901949],[20190717,11.55,11.49,11.57,11.46,11.48,17480372,201420080],[20190718,11.48,11.53,11.53,11.45,11.49,18260034,209938962],[20190719,11.49,11.51,11.63,11.49,11.58,19619622,227078769],[20190722,11.58,11.54,11.63,11.47,11.48,25617875,295840612],[20190723,11.48,11.43,11.56,11.43,11.49,17927898,206511e3],[20190724,11.49,11.54,11.68,11.53,11.59,24112288,279914884],[20190725,11.59,11.57,11.96,11.57,11.88,55900219,660037408],[20190726,11.88,11.83,11.94,11.81,11.87,30368988,360677451],[20190729,11.87,11.9,11.94,11.8,11.86,21465011,254289650],[20190730,11.86,11.84,12,11.84,11.86,33731002,401937925],[20190731,11.86,11.81,11.94,11.73,11.87,30650758,362607630],[20190801,11.87,11.76,11.85,11.63,11.65,32471702,380252159],[20190802,11.65,11.48,11.56,11.41,11.48,38976091,447723838],[20190805,11.48,11.42,11.46,11.23,11.24,42719073,483523857],[20190806,11.24,11.1,11.23,10.97,11.09,45203853,501885625],[20190807,11.09,11.14,11.16,11.05,11.07,31462085,349267412],[20190808,11.07,11.15,11.31,11.11,11.26,33258085,373205583],[20190809,11.26,11.31,11.41,11.26,11.37,40637993,461422060],[20190812,11.37,11.33,11.45,11.31,11.43,34989082,398523209],[20190813,11.43,11.4,11.4,11.29,11.33,18839979,213447653],[20190814,11.33,11.42,11.48,11.28,11.28,19874457,225555663],[20190815,11.28,11.16,11.32,11.12,11.29,19101192,214656224],[20190816,11.29,11.25,11.34,11.21,11.22,24823561,279706602],[20190819,11.22,11.22,11.38,11.08,11.38,38253341,430744321],[20190820,11.38,11.3,11.47,11.28,11.37,23758050,270727986],[20190821,11.37,11.35,11.44,11.34,11.41,14656537,167119481],[20190822,11.41,11.43,11.45,11.37,11.43,15866836,180907933],[20190823,11.43,11.39,11.59,11.38,11.59,33655377,387195405],[20190826,11.59,11.39,11.44,11.15,11.3,41845176,472500378],[20190827,11.3,11.37,11.57,11.3,11.3,66247458,756664142],[20190828,11.3,11.37,11.4,11.3,11.32,25525597,289685352],[20190829,11.32,11.3,11.35,11.18,11.23,28049594,315060610],[20190830,11.23,11.34,11.37,11.22,11.28,25424004,287099396],[20190902,11.28,11.3,11.42,11.24,11.34,27749879,315706922],[20190903,11.34,11.39,11.41,11.31,11.35,16286609,184932344],[20190904,11.35,11.4,11.5,11.36,11.49,30670961,350981214],[20190905,11.49,11.5,11.74,11.5,11.62,46828e3,544694736],[20190906,11.62,11.68,11.7,11.58,11.69,34392057,400477410],[20190909,11.69,11.78,11.79,11.68,11.75,40059368,470186970],[20190910,11.75,11.79,11.86,11.69,11.85,37041097,437072473],[20190911,11.85,11.85,12,11.85,11.95,39063654,466909327],[20190912,11.95,12.08,12.09,11.92,12,26104824,313028158],[20190916,12,11.99,12.01,11.83,11.93,25489116,303225647],[20190917,11.93,11.96,12.01,11.77,11.81,33558932,399569109],[20190918,11.81,11.94,12,11.87,11.93,31387271,375059086],[20190919,11.93,12,12,11.88,11.94,23742171,283084515],[20190920,11.94,11.99,11.99,11.85,11.95,40109279,478010547],[20190923,11.95,11.9,11.92,11.68,11.75,27710795,325475285],[20190924,11.75,11.81,11.86,11.73,11.75,21870962,257910160],[20190925,11.75,11.75,11.95,11.69,11.81,30136356,356897100],[20190926,11.81,11.88,12.18,11.84,11.97,72726461,876687793],[20190927,11.97,11.95,11.99,11.76,11.9,36807878,437372188],[20190930,11.9,11.85,12.07,11.81,11.84,35947577,430109099],[20191008,11.84,11.8,12.03,11.8,11.9,32415886,386027564],[20191009,11.9,11.82,12.13,11.8,11.99,42209602,506474302],[20191010,11.99,12.02,12.04,11.91,11.96,27261229,326023332],[20191011,11.96,12.05,12.45,12,12.45,92030800,1131441679],[20191014,12.45,12.59,13.22,12.52,12.94,123970103,1596408955],[20191015,12.94,12.95,13.14,12.86,13.09,73394591,952804782],[20191016,13.09,13.08,13.33,12.9,13.08,67002223,876221010],[20191017,13.08,13.07,13.25,13.03,13.17,47869313,628571153],[20191018,13.17,13.24,13.29,12.72,12.78,64992896,840281772],[20191021,12.78,12.8,13.03,12.75,12.91,38996287,502880211],[20191022,12.91,13.03,13.05,12.77,12.93,31396257,404182674],[20191023,12.93,12.89,12.95,12.77,12.86,32821414,422141011],[20191024,12.86,12.98,13.24,12.95,13.09,103158806,1347032670],[20191025,13.09,13.09,13.09,12.78,12.9,97876357,1260246484],[20191028,12.9,12.75,12.88,12.65,12.7,72380466,919894887],[20191029,12.7,12.74,12.85,12.62,12.77,52604090,669546625],[20191030,12.77,12.75,12.79,12.52,12.59,53734730,678152770],[20191031,12.59,12.68,12.7,12.5,12.51,33347533,419182995],[20191101,12.51,12.5,12.83,12.44,12.75,62705733,793656950],[20191104,12.75,12.75,12.89,12.69,12.74,49737996,634816416],[20191105,12.74,12.74,13.19,12.69,12.95,74274389,962257376],[20191106,12.95,12.95,13.1,12.86,12.92,46023920,597016896],[20191107,12.92,12.95,12.95,12.71,12.76,46267281,592408771],[20191108,12.76,12.8,12.81,12.56,12.57,48841866,617218205],[20191111,12.57,12.48,12.48,12.29,12.29,38594267,477989511],[20191112,12.29,12.31,12.36,12.17,12.24,39239395,480742763],[20191113,12.24,12.21,12.29,12.15,12.23,32274979,394505189],[20191114,12.23,12.23,12.27,12.1,12.14,28943647,351795388],[20191115,12.14,12.22,12.26,12.12,12.15,27324299,332797325],[20191118,12.15,12.17,12.35,12.13,12.24,28796529,352880166],[20191119,12.24,12.2,12.31,12.18,12.23,29370803,359115488],[20191120,12.23,12.17,12.22,12.01,12.04,38092059,460234691],[20191121,12.04,12,12.04,11.91,11.96,34617175,414077527],[20191122,11.96,12.01,12.06,11.94,11.99,29531099,354250530],[20191125,11.99,12.03,12.14,12,12.07,25153256,303962341],[20191126,12.07,12.15,12.17,11.98,12.06,59633264,719075408],[20191127,12.06,12.07,12.07,11.9,11.99,28703956,343598879],[20191128,11.99,12,12.01,11.92,11.96,17797225,212826181],[20191129,11.96,11.93,12.07,11.89,11.91,24566935,293541788],[20191202,11.91,11.96,11.97,11.82,11.87,22163020,263131788],[20191203,11.87,11.81,11.9,11.77,11.86,19557865,231361399],[20191204,11.86,11.78,11.83,11.7,11.75,24734662,290465763],[20191205,11.75,11.79,11.89,11.76,11.89,24976130,295963968],[20191206,11.89,11.92,11.95,11.83,11.92,20654438,245635919],[20191209,11.92,11.9,11.93,11.85,11.9,17349258,206211639],[20191210,11.9,11.88,11.91,11.86,11.86,15324640,181988682],[20191211,11.86,11.88,11.99,11.85,11.98,33409045,398582360],[20191212,11.98,11.99,11.99,11.88,11.9,27021203,321917933],[20191213,11.9,11.98,12.12,11.94,12.12,59520554,716034787],[20191216,12.12,12.12,12.15,12,12.13,37971632,458170277],[20191217,12.13,12.17,12.51,12.1,12.39,57435605,707895681],[20191218,12.39,12.36,12.5,12.34,12.4,34565268,428827229],[20191219,12.4,12.4,12.5,12.38,12.41,23789907,295686647],[20191220,12.41,12.41,12.55,12.38,12.42,40150148,500592355],[20191223,12.42,12.46,12.46,12.17,12.2,37033891,455979055],[20191224,12.2,12.21,12.29,12.2,12.28,21671029,265496459],[20191225,12.28,12.29,12.29,12.2,12.24,13678175,167407896],[20191226,12.24,12.26,12.32,12.23,12.29,15739054,193083033],[20191227,12.29,12.25,12.43,12.25,12.32,27932109,344832499],[20191230,12.32,12.27,12.36,12.12,12.34,41051555,503090483],[20191231,12.34,12.32,12.38,12.21,12.37,31953628,392736236],[20200102,12.37,12.47,12.64,12.45,12.47,51629079,647446166],[20200103,12.47,12.57,12.63,12.47,12.6,38018810,477053357],[20200106,12.6,12.52,12.65,12.42,12.46,41001193,514432551],[20200107,12.46,12.51,12.6,12.46,12.5,28421482,355811756],[20200108,12.5,12.41,12.45,12.25,12.32,35240536,434980266],[20200109,12.32,12.39,12.43,12.35,12.37,26151448,324168061],[20200110,12.37,12.37,12.42,12.31,12.39,18321252,226580302],[20200113,12.39,12.4,12.41,12.31,12.41,20715566,255982380],[20200114,12.41,12.4,12.69,12.39,12.43,29994561,374971640],[20200115,12.43,12.41,12.45,12.25,12.25,31897217,392531149],[20200116,12.25,12.28,12.31,12.16,12.2,22454876,274130148],[20200117,12.2,12.22,12.29,12.16,12.23,17593111,215028083],[20200120,12.23,12.26,12.27,12.19,12.25,23734609,290296136],[20200121,12.25,12.2,12.25,12.04,12.08,31787474,384580844],[20200122,12.08,11.7,11.84,11.65,11.77,78133556,917203481],[20200123,11.77,11.75,11.75,11.32,11.35,76534796,879151046],[20200203,11.35,10.22,10.69,10.22,10.47,95367382,997686058],[20200204,10.47,10.51,10.74,10.48,10.66,66783767,710434836],[20200205,10.66,10.69,10.78,10.58,10.7,45046658,481639081],[20200206,10.7,10.81,10.86,10.65,10.79,38023801,408101901],[20200207,10.79,10.73,10.91,10.67,10.86,31896956,342581621],[20200210,10.86,10.76,10.84,10.71,10.77,34032121,366391170],[20200211,10.77,10.82,10.95,10.78,10.86,34856302,378583345],[20200212,10.86,10.84,10.88,10.76,10.86,26313927,284693716],[20200213,10.86,10.82,10.88,10.76,10.76,22630613,244794981],[20200214,10.76,10.76,10.88,10.74,10.86,22360549,242102421],[20200217,10.86,10.88,11.21,10.86,11.18,41343320,457641227],[20200218,11.18,11.09,11.18,11.04,11.06,30162703,334474238],[20200219,11.06,11.08,11.24,11.04,11.11,25100157,279375283],[20200220,11.11,11.17,11.27,11.06,11.23,36656416,408938116],[20200221,11.23,11.23,11.39,11.21,11.3,38949418,439706991],[20200224,11.3,11.23,11.34,11.1,11.16,44738622,501186013],[20200225,11.16,11.07,11.15,11.01,11.09,48324564,535241824],[20200226,11.09,11.01,11.33,11.01,11.2,51906287,581437742],[20200227,11.2,11.2,11.3,11.13,11.21,33029824,370549707],[20200228,11.21,11.11,11.18,10.85,10.85,50137988,550529618],[20200302,10.85,10.95,11.1,10.92,11.04,39245056,432698824],[20200303,11.04,11.13,11.23,11.04,11.06,39332460,437422565],[20200304,11.06,11.01,11.1,10.95,11.03,34628358,381014627],[20200305,11.03,11.08,11.32,11.03,11.32,73047882,819311470],[20200306,11.32,11.23,11.28,11.11,11.12,41587820,464404003],[20200309,11.12,11,11,10.75,10.78,59495242,644379973],[20200310,10.78,10.71,10.96,10.7,10.87,44761737,485896696],[20200311,10.87,10.93,10.93,10.77,10.77,31688826,343734180],[20200312,10.77,10.75,10.75,10.61,10.64,32632350,348157969],[20200313,10.64,10.4,10.73,10.28,10.7,57457109,603756305],[20200316,10.7,10.7,10.78,10.5,10.51,47649924,507308318],[20200317,10.51,10.68,10.69,10.29,10.43,42139008,440636619],[20200318,10.43,10.4,10.5,10.2,10.21,33176646,343553119],[20200319,10.21,10.19,10.34,9.86,9.94,55707113,558047012],[20200320,9.94,10.12,10.18,9.96,10.09,42609358,428744766],[20200323,10.09,9.95,9.95,9.82,9.84,28286030,279043930],[20200324,9.84,10.03,10.13,9.98,10.06,28990754,291586379],[20200325,10.06,10.2,10.27,10.12,10.15,32172278,327768574],[20200326,10.15,10.1,10.37,10.08,10.23,30921803,315960382],[20200327,10.23,10.35,10.38,10.2,10.24,27107951,278718751],[20200330,10.24,10.18,10.28,10.11,10.28,26046018,265782024],[20200331,10.28,10.3,10.36,10.13,10.15,26144854,267681227],[20200401,10.15,10.11,10.26,10.09,10.09,22479192,228559545],[20200402,10.09,10.09,10.2,10.07,10.2,17042135,172675321],[20200403,10.2,10.13,10.21,10.12,10.15,14842382,150706819],[20200407,10.15,10.3,10.33,10.23,10.28,23825611,244911012],[20200408,10.28,10.25,10.29,10.18,10.24,17952255,183606904],[20200409,10.24,10.26,10.29,10.18,10.2,13569586,138881044],[20200410,10.2,10.22,10.24,10.15,10.21,16625528,169625912],[20200413,10.21,10.15,10.22,10.1,10.11,11966986,121315470],[20200414,10.11,10.17,10.25,10.12,10.25,17792926,181192027],[20200415,10.25,10.2,10.27,10.15,10.18,14945608,152284659],[20200416,10.18,10.1,10.18,10.1,10.16,14403197,145969853],[20200417,10.16,10.18,10.23,10.15,10.2,22744411,231788988],[20200420,10.2,10.15,10.19,10.09,10.11,23503715,237574344],[20200421,10.11,10.07,10.12,10.01,10.03,17557525,176508085],[20200422,10.03,10.02,10.07,9.98,10.07,15802441,158372535],[20200423,10.07,10.1,10.1,10.01,10.06,16878643,169579075],[20200424,10.06,10.06,10.09,10.01,10.06,16973113,170599170],[20200427,10.06,10.15,10.42,10.15,10.34,50342806,520243997],[20200428,10.34,10.36,10.38,10.22,10.33,29222578,301584635],[20200429,10.33,10.35,10.61,10.33,10.61,35056836,367739389],[20200430,10.61,10.58,10.79,10.56,10.63,30906971,330157488],[20200506,10.63,10.44,10.49,10.36,10.46,41378362,431336740],[20200507,10.46,10.45,10.46,10.37,10.39,26211656,272516386],[20200508,10.39,10.44,10.49,10.4,10.44,20927670,218698514],[20200511,10.44,10.44,10.54,10.42,10.43,21472495,224819916],[20200512,10.43,10.44,10.48,10.34,10.34,19405945,201474588],[20200513,10.34,10.31,10.39,10.28,10.38,15574310,160783648],[20200514,10.38,10.32,10.36,10.27,10.3,15892376,163558192],[20200515,10.3,10.36,10.38,10.26,10.28,13753770,141846602],[20200518,10.28,10.28,10.43,10.25,10.32,15675941,162140715],[20200519,10.32,10.45,10.45,10.34,10.35,12576997,130445254],[20200520,10.35,10.37,10.42,10.33,10.41,20046300,208195248],[20200521,10.41,10.44,10.44,10.33,10.33,14361684,149140643],[20200522,10.33,10.3,10.34,10.14,10.14,23722915,243204611],[20200525,10.14,10.3,10.31,10.13,10.27,15722012,160438358],[20200526,10.27,10.32,10.32,10.25,10.27,14372249,147713417],[20200527,10.27,10.28,10.38,10.25,10.35,20145712,208419130],[20200528,10.35,10.36,10.55,10.36,10.53,38263189,401358593],[20200529,10.53,10.45,10.57,10.45,10.57,30659227,322828566],[20200601,10.57,10.63,10.72,10.57,10.65,28612841,304346423],[20200602,10.65,10.58,10.74,10.58,10.68,25922545,276609954],[20200603,10.68,10.75,10.87,10.7,10.7,27352188,294473001],[20200604,10.7,10.8,10.8,10.64,10.64,17559033,187688384],[20200605,10.64,10.68,10.69,10.56,10.67,20958291,222668156],[20200608,10.67,10.64,10.72,10.6,10.61,18251152,194265349],[20200609,10.61,10.62,10.72,10.58,10.68,17263160,184089097],[20200610,10.68,10.71,10.71,10.58,10.58,16693480,177440922],[20200611,10.58,10.58,10.61,10.45,10.48,25171455,264822302],[20200612,10.48,10.58,10.58,10.43,10.55,25514482,267574331],[20200615,10.55,10.41,10.49,10.35,10.35,25497883,265574307],[20200616,10.35,10.44,10.5,10.4,10.45,17682742,184966297],[20200617,10.45,10.44,10.51,10.43,10.47,16148594,169024390],[20200618,10.47,10.42,10.57,10.39,10.5,20856551,218713603],[20200619,10.5,10.56,10.68,10.5,10.61,39814479,422462428],[20200622,10.61,10.57,10.66,10.53,10.55,24611903,260728901],[20200623,10.55,10.51,10.57,10.47,10.48,19602212,206109220],[20200624,10.48,10.54,10.61,10.5,10.6,22873884,241489165],[20200629,10.6,10.63,10.73,10.49,10.57,27875619,295223647],[20200630,10.57,10.59,10.64,10.54,10.58,22886764,242601910],[20200701,10.58,10.59,10.76,10.55,10.74,36690710,390832225],[20200702,10.74,10.73,11.05,10.7,11.05,60951268,663308323],[20200703,11.05,11.08,11.26,11.02,11.19,82238477,916157920],[20200706,11.19,11.3,12.31,11.29,12.2,149558001,1776417981],[20200707,12.2,12.45,12.69,12.1,12.11,131469759,1621839646],[20200708,12.11,12.17,12.44,12.03,12.14,104879230,1282339816],[20200709,12.14,12.26,12.26,11.94,11.99,91311738,1101713242],[20200710,11.99,11.98,12.09,11.55,11.6,78611864,925839420],[20200713,11.6,11.6,11.85,11.56,11.66,96564333,1128297577],[20200714,11.66,11.61,11.69,11.33,11.38,79944260,919482272],[20200715,11.38,11.47,11.47,11.14,11.18,92438310,1042128861],[20200716,11.18,11.25,11.48,11.2,11.2,96614162,1094090004],[20200717,11.2,11.37,11.39,11.17,11.27,68639480,771657319],[20200720,11.27,11.32,11.57,11.27,11.52,78766518,901216619],[20200721,11.52,11.59,11.61,11.4,11.54,55004587,632576750],[20200722,11.54,11.55,11.75,11.5,11.62,98687637,1147395851],[20200723,11.02,10.99,10.99,10.61,10.84,86806896,937319747],[20200724,10.84,10.78,10.8,10.4,10.42,72886391,769923511],[20200727,10.42,10.55,10.55,10.32,10.37,44655910,465608566],[20200728,10.37,10.46,10.54,10.35,10.39,32599274,339999711],[20200729,10.39,10.35,10.54,10.32,10.51,45256602,474093213],[20200730,10.51,10.51,10.53,10.4,10.4,40443481,422561054],[20200731,10.4,10.41,10.52,10.31,10.36,65368427,679850126],[20200803,10.36,10.4,10.48,10.37,10.41,56272005,586201746],[20200804,10.41,10.46,10.72,10.43,10.66,88522454,937235109],[20200805,10.66,10.64,10.64,10.45,10.51,46011280,483338972],[20200806,10.51,10.57,10.63,10.41,10.53,42484232,445698833],[20200807,10.53,10.51,10.53,10.36,10.43,44271966,461730421],[20200810,10.43,10.42,10.57,10.39,10.52,48973967,514604348],[20200811,10.52,10.58,10.68,10.45,10.47,63673224,676102351],[20200812,10.47,10.49,10.6,10.46,10.56,43268629,455458282],[20200813,10.56,10.6,10.61,10.5,10.51,25798477,271625415],[20200814,10.51,10.53,10.6,10.48,10.59,37584530,396506223],[20200817,10.59,10.59,10.98,10.57,10.84,98742699,1066482968],[20200818,10.84,10.85,10.85,10.63,10.69,54091961,580056196],[20200819,10.69,10.69,10.74,10.57,10.58,43448106,462151805],[20200820,10.58,10.56,10.57,10.43,10.47,53539028,559975457],[20200821,10.47,10.56,10.56,10.45,10.5,31451520,329790601],[20200824,10.5,10.57,10.57,10.44,10.46,38982822,408922475],[20200825,10.46,10.48,10.51,10.41,10.45,37897250,396122405],[20200826,10.45,10.44,10.45,10.35,10.37,39278732,408174292],[20200827,10.37,10.38,10.4,10.32,10.35,30462492,315213297],[20200828,10.35,10.35,10.46,10.31,10.46,53131203,552429111],[20200831,10.46,10.46,10.51,10.32,10.36,80037356,835524366],[20200901,10.36,10.31,10.36,10.26,10.29,53931233,555922099],[20200902,10.29,10.28,10.29,10.12,10.18,56787081,578763479],[20200903,10.18,10.19,10.23,10.11,10.12,40832020,414701608],[20200904,10.12,10.07,10.15,10.01,10.07,38443982,387141418],[20200907,10.07,10.07,10.16,10.01,10.01,58564585,589509231],[20200908,10.01,10.07,10.09,10.01,10.05,52972540,532346433],[20200909,10.05,10.01,10.08,10,10.01,49418500,496009217],[20200910,10.01,10.06,10.06,9.94,9.96,54169916,540727381],[20200911,9.96,9.95,9.96,9.85,9.92,49947642,494619680],[20200914,9.92,9.95,9.95,9.86,9.9,38851230,384257706],[20200915,9.9,9.91,9.92,9.85,9.86,46601549,459933678],[20200916,9.86,9.87,9.9,9.8,9.86,51470657,507227129],[20200917,9.86,9.87,9.89,9.8,9.83,43171675,424496712],[20200918,9.83,9.84,9.94,9.8,9.94,95230581,941630508],[20200921,9.94,9.94,9.97,9.83,9.84,55998716,553037614],[20200922,9.84,9.81,9.84,9.69,9.7,65952098,643194146],[20200923,9.7,9.71,9.72,9.62,9.63,41909587,404393340],[20200924,9.63,9.61,9.62,9.46,9.5,53858739,512493256],[20200925,9.5,9.5,9.53,9.46,9.47,29487505,279750442],[20200928,9.47,9.49,9.53,9.46,9.46,26257827,249063489],[20200929,9.46,9.5,9.52,9.43,9.43,32988266,312583585],[20200930,9.43,9.45,9.49,9.35,9.39,39006807,367745389],[20201009,9.39,9.44,9.48,9.4,9.42,39772687,375559366],[20201012,9.42,9.45,9.63,9.42,9.59,66671637,637356691],[20201013,9.59,9.58,9.59,9.52,9.54,28059097,267595711],[20201014,9.54,9.54,9.56,9.5,9.53,42969217,409511682],[20201015,9.53,9.54,9.72,9.53,9.62,66146732,637856656],[20201016,9.62,9.61,9.77,9.6,9.72,74850236,726361116],[20201019,9.72,9.73,9.93,9.64,9.65,84532385,826077895],[20201020,9.65,9.63,9.65,9.51,9.58,46687029,446894604],[20201021,9.58,9.58,9.7,9.51,9.7,61622129,592503579],[20201022,9.7,9.67,9.76,9.59,9.65,47288884,456765639],[20201023,9.65,9.63,9.79,9.62,9.7,70954476,689493437],[20201026,9.7,9.72,9.75,9.59,9.6,52711443,508770628],[20201027,9.6,9.59,9.59,9.48,9.48,38062780,362632659],[20201028,9.48,9.48,9.52,9.38,9.4,45881367,432093181],[20201029,9.4,9.35,9.45,9.34,9.37,43707348,409990836],[20201030,9.37,9.38,9.45,9.25,9.26,56060864,523487861],[20201102,9.26,9.28,9.33,9.22,9.25,46542251,431202859],[20201103,9.25,9.31,9.4,9.28,9.3,67876111,632973897],[20201104,9.3,9.35,9.4,9.28,9.34,50256088,469008803],[20201105,9.34,9.46,9.46,9.33,9.36,55873229,523812724],[20201106,9.36,9.37,9.43,9.33,9.39,63919592,600129369],[20201109,9.39,9.42,9.48,9.39,9.43,88937655,839142820],[20201110,9.43,9.47,9.59,9.44,9.46,84217864,800256172],[20201111,9.46,9.49,9.58,9.44,9.56,64171805,610306555],[20201112,9.56,9.52,9.53,9.43,9.43,51891050,491018805],[20201113,9.43,9.41,9.41,9.33,9.36,44910112,420337400],[20201116,9.36,9.38,9.46,9.37,9.45,31878052,300508257],[20201117,9.45,9.46,9.53,9.44,9.53,47293970,448873504],[20201118,9.53,9.53,9.77,9.5,9.7,109417513,1059930873],[20201119,9.7,9.7,9.78,9.64,9.74,63840056,620569638],[20201120,9.74,9.68,9.72,9.61,9.67,46631360,450166503],[20201123,9.67,9.66,9.92,9.63,9.9,92618240,909448904],[20201124,9.9,9.92,9.97,9.82,9.85,61221709,605831671],[20201125,9.85,9.9,9.99,9.81,9.81,61216111,606063472],[20201126,9.81,9.84,9.99,9.76,9.98,71595543,709188721],[20201127,9.98,10.01,10.2,9.96,10.2,113388037,1141650217],[20201130,10.2,10.3,10.53,10.06,10.06,203498922,2102112686],[20201201,10.06,10.08,10.35,10.01,10.3,107812159,1099269636],[20201202,10.3,10.26,10.39,10.19,10.25,78702779,808812296],[20201203,10.25,10.23,10.28,10.16,10.24,57195735,584153273],[20201204,10.24,10.24,10.25,10.05,10.17,47336450,479183315],[20201207,10.17,10.11,10.17,9.9,9.99,57810545,577584101],[20201208,9.99,9.97,10.06,9.93,9.98,31522398,315079838],[20201209,9.98,9.98,10.09,9.91,9.91,44090061,440752941],[20201210,9.91,9.91,9.96,9.76,9.82,39400878,388252088],[20201211,9.82,9.84,9.88,9.69,9.7,48386569,471620087],[20201214,9.7,9.75,9.8,9.68,9.75,38743836,376928042],[20201215,9.75,9.73,9.74,9.6,9.71,39323070,379468278],[20201216,9.71,9.72,9.78,9.64,9.65,47998904,465187094],[20201217,9.65,9.64,9.79,9.59,9.77,42901555,415257095],[20201218,9.77,9.74,9.79,9.69,9.76,31884462,310411756],[20201221,9.76,9.7,9.77,9.65,9.75,31965504,310813655],[20201222,9.75,9.75,9.75,9.55,9.61,50418001,485974240],[20201223,9.61,9.6,9.64,9.48,9.55,38656338,368816679],[20201224,9.55,9.55,9.66,9.51,9.55,24871912,238279376],[20201225,9.55,9.56,9.61,9.51,9.58,22420976,214427367],[20201228,9.58,9.55,9.63,9.5,9.57,33765935,322826382],[20201229,9.57,9.59,9.62,9.52,9.53,44150648,421945426],[20201230,9.53,9.52,9.54,9.44,9.5,54885564,519975315],[20201231,9.5,9.51,9.69,9.49,9.68,65992362,635666178],[20210104,9.68,9.64,9.73,9.55,9.69,62906939,606364959],[20210105,9.69,9.68,9.68,9.52,9.68,53859177,517135737],[20210106,9.68,9.62,9.83,9.62,9.82,61881321,604071110],[20210107,9.82,9.83,9.93,9.66,9.81,57090442,557051920],[20210108,9.81,9.83,9.9,9.73,9.83,55801455,547035205],[20210111,9.83,9.83,9.94,9.68,9.69,75984056,745359165],[20210112,9.69,9.7,9.79,9.58,9.78,56732878,548277788],[20210113,9.78,9.75,9.88,9.72,9.84,57145173,560579198],[20210114,9.84,9.83,9.96,9.76,9.87,55338565,545908487],[20210115,9.87,9.98,10.23,9.92,9.92,143067603,1440725952],[20210118,9.92,9.92,10.12,9.87,10.08,96389498,962800689],[20210119,10.08,10.07,10.22,9.98,10.16,82816180,837479675],[20210120,10.16,10.13,10.18,9.96,9.98,66608913,669394442],[20210121,9.98,9.99,10.07,9.93,9.97,53622907,536180004],[20210122,9.97,9.96,9.97,9.76,9.79,61879785,607707949],[20210125,9.79,9.77,9.78,9.67,9.72,51705648,501372368],[20210126,9.72,9.69,9.78,9.66,9.68,39877611,386930899],[20210127,9.68,9.67,9.88,9.66,9.73,55174457,539658292],[20210128,9.73,9.73,9.74,9.61,9.66,52360924,506059207],[20210129,9.66,9.69,10.13,9.65,9.96,115257482,1142597659],[20210201,9.96,9.94,10.48,9.9,10.44,181883788,1867280983],[20210202,10.44,10.35,10.47,10.15,10.22,131403970,1349638625],[20210203,10.22,10.19,10.43,10.06,10.26,131150745,1346692050],[20210204,10.26,10.21,10.41,10.12,10.28,92016450,944124558],[20210205,10.28,10.28,10.82,10.25,10.72,195506162,2078645791],[20210208,10.72,10.71,10.81,10.51,10.72,137089506,1467791360],[20210209,10.72,10.7,10.74,10.54,10.68,99871998,1061301527],[20210210,10.68,10.67,10.85,10.56,10.69,105092241,1123961356],[20210218,10.69,10.8,11.02,10.74,10.83,143397923,1558504811],[20210219,10.83,10.83,11.12,10.77,10.97,122926300,1351290391],[20210222,10.97,10.92,10.95,10.7,10.71,127379414,1373533382],[20210223,10.71,10.71,10.99,10.71,10.78,93327786,1010901316],[20210224,10.78,10.81,10.89,10.55,10.6,97783999,1047470279],[20210225,10.6,10.66,10.85,10.6,10.8,89855495,964732755],[20210226,10.8,10.72,10.82,10.54,10.54,85386093,909298105],[20210301,10.54,10.59,10.64,10.5,10.58,54746126,578491496],[20210302,10.58,10.61,10.7,10.36,10.47,74763149,786616693],[20210303,10.47,10.45,10.92,10.43,10.92,113570860,1224387994],[20210304,10.92,10.8,10.92,10.76,10.88,75412865,817817159],[20210305,10.88,10.87,10.94,10.69,10.86,72154782,778561759],[20210308,10.86,10.98,11.02,10.71,10.75,80153097,869553733],[20210309,10.75,10.78,10.9,10.65,10.73,83584061,900880589],[20210310,10.73,10.76,10.79,10.63,10.72,50512161,542100935],[20210311,10.72,10.8,10.97,10.76,10.9,76816962,836848985],[20210312,10.9,10.89,11.03,10.82,10.9,79235629,866141111],[20210315,10.9,10.88,11.24,10.88,11.12,113524449,1259911417],[20210316,11.12,11.05,11.24,11.01,11.11,65502259,728108285],[20210317,11.11,11.1,11.12,10.89,10.92,57821851,634262121],[20210318,10.92,10.97,11.05,10.9,11.03,50943550,559643203],[20210319,11.03,11.01,11.05,10.56,10.65,103359887,1110156577],[20210322,10.65,10.62,10.88,10.62,10.75,66031003,710176261],[20210323,10.75,10.76,10.83,10.68,10.78,47127710,506263416],[20210324,10.78,10.77,10.81,10.63,10.68,44132642,472480388],[20210325,10.68,10.72,10.78,10.61,10.63,43547662,465464539],[20210326,10.63,10.68,10.73,10.61,10.62,40882734,435739848],[20210329,10.62,10.6,10.6,10.4,10.48,92366772,964797269],[20210330,10.48,10.65,11.01,10.62,11.01,173447215,1882440615],[20210331,11.01,11.01,11.04,10.87,10.99,66813691,731611999],[20210401,10.99,10.99,11.01,10.81,10.89,47781207,519576384],[20210402,10.89,10.94,10.95,10.67,10.76,65365057,704137147],[20210406,10.76,10.76,10.79,10.68,10.7,33911224,363567283],[20210407,10.7,10.74,10.75,10.58,10.65,60988540,648631699],[20210408,10.65,10.63,10.7,10.56,10.66,42047850,447410758],[20210409,10.66,10.64,10.64,10.53,10.59,38683022,409118551],[20210412,10.59,10.58,10.75,10.52,10.73,57023744,608748238],[20210413,10.73,10.74,10.82,10.67,10.76,52756234,566984752],[20210414,10.76,10.82,10.82,10.57,10.59,45686754,486204160],[20210415,10.59,10.58,10.61,10.38,10.43,53172372,555086924],[20210416,10.43,10.45,10.55,10.42,10.54,32895624,345237987],[20210419,10.54,10.55,10.64,10.45,10.58,50203914,529864990],[20210420,10.58,10.55,10.58,10.48,10.5,29450563,309777290],[20210421,10.5,10.47,10.62,10.46,10.58,45439718,480039018],[20210422,10.58,10.6,10.6,10.4,10.43,41793378,437919109],[20210423,10.43,10.42,10.47,10.38,10.43,24825285,259051575],[20210426,10.43,10.45,10.5,10.28,10.3,46387212,482566266],[20210427,10.3,10.33,10.34,10.24,10.27,25042540,257631072],[20210428,10.27,10.33,10.33,10.18,10.25,35321183,361207957],[20210429,10.25,10.28,10.55,10.26,10.54,48194627,503908364],[20210430,10.54,10.28,10.28,9.96,10.05,156103445,1570141012],[20210506,10.05,9.97,10.18,9.97,10.1,61139167,616780672],[20210507,10.1,10.1,10.15,9.99,10.03,72345288,728759605],[20210510,10.03,10.06,10.06,9.88,9.95,61516454,610992515],[20210511,9.95,9.92,10.07,9.9,10.05,42333780,423538345],[20210512,10.05,10.04,10.2,10.02,10.12,52012085,526835923],[20210513,10.12,10.09,10.17,10.01,10.09,47212565,475665503],[20210514,10.09,10.1,10.2,10.03,10.19,47681403,483068527],[20210517,10.19,10.2,10.29,10.13,10.21,46363314,473603666],[20210518,10.21,10.18,10.23,10.15,10.22,19093505,194624788],[20210519,10.22,10.19,10.2,10.07,10.12,29273907,296073789],[20210520,10.12,10.1,10.18,10.02,10.16,35395264,357783848],[20210521,10.16,10.2,10.22,10.07,10.09,28618932,289959893],[20210524,10.09,10.08,10.14,10.05,10.09,23518901,237130459],[20210525,10.09,10.1,10.33,10.06,10.32,75417564,771994298],[20210526,10.32,10.31,10.42,10.28,10.35,54984815,568991552],[20210527,10.35,10.32,10.43,10.26,10.29,52063330,536862488],[20210528,10.29,10.33,10.36,10.25,10.35,34593293,356339747],[20210531,10.35,10.34,10.34,10.22,10.27,37255726,381740400],[20210601,10.27,10.23,10.26,10.18,10.19,41880384,427253269],[20210602,10.19,10.21,10.23,10.13,10.22,35830478,364475986],[20210603,10.22,10.21,10.32,10.18,10.23,52244908,535599653],[20210604,10.23,10.25,10.38,10.19,10.23,71052432,729772587],[20210607,10.23,10.26,10.27,10.2,10.23,36301400,371369102],[20210608,10.23,10.24,10.33,10.18,10.31,50838116,522323155],[20210609,10.31,10.29,10.35,10.21,10.21,56095091,575008507],[20210610,10.21,10.21,10.31,10.2,10.23,45685432,467893685],[20210611,10.23,10.24,10.28,10.11,10.17,58030251,591098508],[20210615,10.17,10.15,10.15,10.01,10.03,46955773,472150826],[20210616,10.03,10.04,10.14,10.01,10.05,32171081,324482532],[20210617,10.05,10.05,10.12,10.03,10.04,29689848,298576626],[20210618,10.04,10.04,10.1,10,10.1,44451210,446813171],[20210621,10.1,10.06,10.09,10.01,10.04,39815744,399756079],[20210622,10.04,10.06,10.12,10,10,45184564,453604604],[20210623,10,10.01,10.03,9.96,9.99,34400099,343745819],[20210624,9.99,10,10.05,9.97,10.02,31652661,316690710],[20210625,10.02,10.02,10.11,10.01,10.08,48335388,486548042],[20210628,10.08,10.06,10.07,9.99,10.01,32597114,326457360],[20210629,10.01,10.01,10.04,9.98,9.98,32733370,327178180],[20210630,9.98,10,10.02,9.97,10,21580051,215772914],[20210701,10,10.01,10.06,9.99,10.03,36999138,370991509],[20210702,10.03,10.01,10.05,9.92,9.93,51535129,513421350],[20210705,9.93,9.95,9.96,9.85,9.92,44806863,442917699],[20210706,9.92,9.91,10.01,9.88,9.99,37737379,375924559],[20210707,9.99,10.01,10.04,9.94,10.03,35666988,356794175],[20210708,10.03,10.05,10.05,9.92,9.94,30745176,306373156],[20210709,9.94,9.93,10.01,9.9,9.91,34590087,343545047],[20210712,9.91,9.96,9.99,9.9,9.91,33415612,332219128],[20210713,9.91,9.94,9.99,9.88,9.96,34611654,344399322],[20210714,9.96,9.97,9.97,9.8,9.83,52207557,514554736],[20210715,9.83,9.83,9.96,9.81,9.94,45903396,454671008],[20210716,9.94,10.01,10.08,9.96,9.98,45557802,455679343],[20210719,9.98,9.98,10.03,9.85,10.01,53049438,527117554],[20210720,10.01,10.01,10.02,9.94,9.99,36834727,367615291],[20210721,9.51,9.51,9.64,9.51,9.55,58450876,558646900],[20210722,9.55,9.58,9.72,9.56,9.64,43977169,424674366],[20210723,9.64,9.6,9.67,9.57,9.58,30090322,289065063],[20210726,9.58,9.57,9.58,9.3,9.34,51742715,486767435],[20210727,9.34,9.36,9.43,9.09,9.15,53279860,494584132],[20210728,9.15,9.16,9.36,9.16,9.21,46335875,428304156],[20210729,9.21,9.25,9.28,9.1,9.12,43587733,398885079],[20210730,9.12,9.13,9.13,9.01,9.03,35697122,323216885],[20210802,9.03,9.03,9.24,8.97,9.13,45713350,416533737],[20210803,9.13,9.13,9.14,9.04,9.12,33014050,300047780],[20210804,9.12,9.12,9.14,9.05,9.07,25214494,229004469],[20210805,9.07,9.06,9.12,9.04,9.05,24267799,220300799],[20210806,9.05,9.05,9.08,9,9.08,22486126,203315738],[20210809,9.08,9.06,9.25,9.05,9.17,37461914,344052120],[20210810,9.17,9.18,9.23,9.1,9.2,34370935,314539916],[20210811,9.2,9.18,9.29,9.16,9.21,37382098,345067502],[20210812,9.21,9.21,9.22,9.16,9.17,22978467,211023250],[20210813,9.17,9.16,9.23,9.14,9.18,21925988,201254904],[20210816,9.18,9.19,9.27,9.16,9.22,27369511,252450157],[20210817,9.22,9.23,9.29,9.17,9.19,38016760,350733815],[20210818,9.19,9.2,9.39,9.16,9.33,43424745,403158874],[20210819,9.33,9.34,9.34,9.19,9.23,36391371,336172105],[20210820,9.23,9.25,9.3,9.18,9.27,35374387,327037545],[20210823,9.27,9.3,9.31,9.2,9.2,32418942,299502501],[20210824,9.2,9.22,9.3,9.17,9.21,40815968,376573366],[20210825,9.21,9.23,9.24,9.16,9.19,34063999,313176527],[20210826,9.19,9.18,9.2,9.13,9.14,29439149,269637951],[20210827,9.14,9.16,9.22,9.14,9.17,27618817,253490156],[20210830,9.17,9.05,9.08,8.92,8.96,80410279,721952836],[20210831,8.96,8.98,9.05,8.93,9.05,44633690,401545634],[20210901,9.05,9.03,9.23,9.01,9.18,58211312,532088406],[20210902,9.18,9.2,9.24,9.16,9.23,40122727,369226846],[20210903,9.23,9.24,9.33,9.16,9.24,50781588,470393997],[20210906,9.24,9.22,9.31,9.2,9.21,35627742,329503566],[20210907,9.21,9.21,9.39,9.16,9.34,64051787,594700224],[20210908,9.34,9.34,9.39,9.29,9.34,40941784,382017869],[20210909,9.34,9.32,9.34,9.25,9.3,31951355,297126954],[20210910,9.3,9.32,9.48,9.31,9.41,57250718,537963809],[20210913,9.41,9.38,9.43,9.34,9.39,29373307,275283515],[20210914,9.39,9.39,9.43,9.17,9.21,53934721,500630063],[20210915,9.21,9.21,9.26,9.13,9.19,38064766,349607328],[20210916,9.19,9.2,9.23,9.11,9.12,49199895,450453204],[20210917,9.12,9.11,9.17,9.08,9.11,30233529,275167575],[20210922,9.11,9,9.08,8.96,9.03,35054148,316134897],[20210923,9.03,9.1,9.15,9.01,9.03,39639967,359242361],[20210924,9.03,9.04,9.08,8.99,9.02,39925596,360045375],[20210927,9.02,9.02,9.05,8.94,9.02,41708355,374465142],[20210928,9.02,8.98,9.09,8.98,9.03,33340762,301762292],[20210929,9.03,9.01,9.09,8.97,9.02,40008268,361288902],[20210930,9.02,9.03,9.05,8.98,9,29190245,262917687],[20211008,9,9.05,9.15,9.03,9.08,39080557,354870725],[20211011,9.08,9.12,9.25,9.1,9.15,46632488,427661681],[20211012,9.15,9.12,9.19,9.09,9.14,35725751,326390581],[20211013,9.14,9.14,9.15,9.05,9.07,22538281,204856494],[20211014,9.07,9.07,9.09,9.02,9.04,22584606,204329607],[20211015,9.04,9.05,9.11,9.02,9.07,27525449,249700096],[20211018,9.07,9.06,9.1,8.98,9.02,25964695,234209597],[20211019,9.02,9.03,9.07,9.01,9.01,28636166,258552846],[20211020,9.01,9.03,9.06,8.99,9.02,27482428,247758529],[20211021,9.02,9.05,9.09,9.01,9.04,44074576,398999704],[20211022,9.04,9.07,9.13,9.02,9.07,38669415,350441991],[20211025,9.07,9.03,9.06,9.02,9.03,26585515,240319367],[20211026,9.03,9.06,9.09,9.01,9.03,30751828,277872449],[20211027,9.03,9.01,9.02,8.96,8.99,34197280,307379956],[20211028,8.99,8.99,9.01,8.95,8.96,28165181,252660140],[20211029,8.96,8.96,9,8.93,8.94,35990731,322416661],[20211101,8.94,8.69,8.78,8.6,8.72,64940974,564516752],[20211102,8.72,8.71,8.75,8.5,8.54,70034623,602023097],[20211103,8.54,8.59,8.59,8.51,8.53,29785185,254382301],[20211104,8.53,8.53,8.54,8.5,8.51,26148859,222785142],[20211105,8.51,8.51,8.54,8.49,8.53,22913355,195212631],[20211108,8.53,8.48,8.53,8.46,8.49,24353008,206985050],[20211109,8.49,8.5,8.55,8.49,8.54,19548518,166547491],[20211110,8.54,8.53,8.53,8.44,8.48,27478869,232796692],[20211111,8.48,8.48,8.62,8.47,8.62,31419321,269103086],[20211112,8.62,8.64,8.65,8.58,8.65,20498205,176737119],[20211115,8.65,8.66,8.75,8.65,8.75,27625801,240602624],[20211116,8.75,8.7,8.74,8.63,8.73,24030066,208943547],[20211117,8.73,8.67,8.72,8.65,8.65,19301599,167446824],[20211118,8.65,8.61,8.66,8.53,8.56,20465395,175306638],[20211119,8.56,8.56,8.7,8.55,8.65,20471995,176572248],[20211122,8.65,8.63,8.66,8.59,8.6,20983745,180823527],[20211123,8.6,8.61,8.7,8.61,8.63,21502374,185927807],[20211124,8.63,8.61,8.69,8.59,8.68,19342692,167133727],[20211125,8.68,8.68,8.69,8.61,8.64,13169070,113743005],[20211126,8.64,8.61,8.62,8.55,8.56,21199061,181698146],[20211129,8.56,8.57,8.59,8.5,8.59,23746400,202736522],[20211130,8.59,8.54,8.59,8.51,8.51,30900124,263703121],[20211201,8.51,8.53,8.58,8.51,8.56,19333856,165443381],[20211202,8.56,8.56,8.61,8.52,8.58,22906201,196509475],[20211203,8.58,8.58,8.6,8.52,8.59,23848744,204050795],[20211206,8.59,8.59,8.64,8.57,8.6,33882029,291593648],[20211207,8.6,8.69,8.7,8.6,8.68,40016290,346582039],[20211208,8.68,8.7,8.7,8.63,8.67,28605916,247833290],[20211209,8.67,8.69,8.8,8.66,8.75,51186201,447467445],[20211210,8.75,8.73,8.78,8.72,8.77,42494890,371969042],[20211213,8.77,8.79,8.81,8.62,8.65,56234006,488480939],[20211214,8.65,8.64,8.65,8.54,8.57,49389318,423738409],[20211215,8.57,8.54,8.58,8.53,8.55,20664239,176754858],[20211216,8.55,8.56,8.61,8.55,8.6,26899524,230865612],[20211217,8.6,8.61,8.62,8.56,8.56,27269580,234082748],[20211220,8.56,8.55,8.61,8.55,8.58,27786123,238630278],[20211221,8.58,8.55,8.65,8.55,8.61,26310957,226526116],[20211222,8.61,8.62,8.64,8.57,8.57,21618063,185663516],[20211223,8.57,8.58,8.6,8.56,8.58,18901873,162106685],[20211224,8.58,8.58,8.59,8.53,8.54,18252048,156027073],[20211227,8.54,8.54,8.57,8.53,8.56,19527735,167009884],[20211228,8.56,8.56,8.59,8.54,8.57,29833707,255590457],[20211229,8.57,8.57,8.58,8.53,8.54,20050130,171393528],[20211230,8.54,8.54,8.58,8.53,8.54,23272484,199031073],[20211231,8.54,8.54,8.57,8.53,8.53,22929621,195941582],[20220104,8.53,8.54,8.58,8.52,8.57,37707647,322145532],[20220105,8.57,8.57,8.68,8.56,8.64,55459135,478834470],[20220106,8.64,8.66,8.66,8.56,8.57,41031062,352720657],[20220107,8.57,8.57,8.73,8.57,8.71,63018297,546456194],[20220110,8.71,8.72,8.78,8.66,8.72,34055312,296601230],[20220111,8.72,8.74,8.78,8.69,8.73,42646106,373093384],[20220112,8.73,8.75,8.75,8.63,8.69,41240670,358535694],[20220113,8.69,8.73,8.85,8.69,8.72,48923692,429003208],[20220114,8.72,8.72,8.72,8.57,8.59,51060652,440215954],[20220117,8.59,8.57,8.63,8.57,8.57,22177975,190459847],[20220118,8.57,8.58,8.66,8.55,8.63,39995195,344181260],[20220119,8.63,8.63,8.66,8.61,8.64,26257662,226931297],[20220120,8.64,8.66,8.82,8.64,8.8,82842044,724160483],[20220121,8.8,8.78,8.8,8.72,8.76,47572539,416684184],[20220124,8.76,8.79,8.79,8.66,8.69,32489722,282465419],[20220125,8.69,8.68,8.68,8.56,8.56,43312412,372488759],[20220126,8.56,8.57,8.59,8.54,8.57,23481959,201130974],[20220127,8.57,8.55,8.56,8.45,8.45,56281031,477716811],[20220128,8.45,8.48,8.51,8.41,8.41,43993766,372256637],[20220207,8.41,8.48,8.55,8.44,8.52,39988312,340086709],[20220208,8.52,8.53,8.67,8.51,8.65,47572520,409206611],[20220209,8.65,8.64,8.71,8.62,8.64,36223235,313861239],[20220210,8.64,8.66,8.71,8.62,8.69,28716174,249045194],[20220211,8.69,8.7,8.76,8.67,8.74,37682874,328719166],[20220214,8.74,8.69,8.71,8.58,8.6,34727078,299136398],[20220215,8.6,8.59,8.63,8.52,8.55,31680750,271300747],[20220216,8.55,8.58,8.64,8.56,8.59,28609574,246064337],[20220217,8.59,8.6,8.63,8.56,8.56,24533221,210822959],[20220218,8.56,8.55,8.67,8.53,8.67,34384620,296119868],[20220221,8.67,8.64,8.64,8.55,8.6,24334270,208998930],[20220222,8.6,8.57,8.59,8.53,8.58,32497174,278140362],[20220223,8.58,8.59,8.59,8.53,8.54,29476392,251902283],[20220224,8.54,8.54,8.55,8.4,8.44,47703559,404232342],[20220225,8.44,8.44,8.48,8.41,8.43,32239910,272095574],[20220228,8.43,8.44,8.45,8.36,8.39,23393262,196216444],[20220301,8.39,8.39,8.46,8.39,8.44,23540305,198243687],[20220302,8.44,8.41,8.46,8.4,8.42,16708051,140817898],[20220303,8.42,8.44,8.5,8.43,8.46,19864647,167938715],[20220304,8.46,8.44,8.44,8.36,8.4,26395729,221531967],[20220307,8.4,8.38,8.4,8.28,8.29,37177243,309677991],[20220308,8.29,8.29,8.3,8.05,8.08,46688059,381542333],[20220309,8.08,8.11,8.13,7.76,7.9,46035702,367319437],[20220310,7.9,8.01,8.05,7.92,7.92,25181489,200622345],[20220311,7.92,7.89,8.02,7.77,8.01,33286005,262318143],[20220314,8.01,7.95,8,7.9,7.91,22770866,180826437],[20220315,7.91,7.92,7.93,7.61,7.63,48962295,379252434],[20220316,7.63,7.69,7.8,7.52,7.77,41520083,318505390],[20220317,7.77,7.85,7.85,7.71,7.74,41495556,322981454],[20220318,7.74,7.73,7.91,7.71,7.9,53179530,417702652],[20220321,7.9,7.84,7.84,7.73,7.76,38823962,302127786],[20220322,7.76,7.77,7.88,7.75,7.83,28224469,220766832],[20220323,7.83,7.83,7.84,7.77,7.8,25553686,199580747],[20220324,7.8,7.78,7.83,7.76,7.8,16687677,130087627],[20220325,7.8,7.8,7.86,7.78,7.8,16474442,128855055],[20220328,7.8,7.8,7.87,7.71,7.86,28783984,224838880],[20220329,7.86,7.83,7.86,7.8,7.82,22516978,176131297],[20220330,7.82,7.84,7.92,7.82,7.92,29854369,235127475],[20220331,7.92,7.89,8.02,7.86,8,25969772,206902404],[20220401,8,7.95,8.07,7.94,8.07,31881345,255823775],[20220406,8.07,8,8.18,8,8.17,42546117,345601825],[20220407,8.17,8.16,8.18,8.06,8.07,31712143,257349868],[20220408,8.07,8.07,8.12,8.02,8.11,24089173,194553785],[20220411,8.11,8.11,8.11,7.97,8.01,30015679,240997448],[20220412,8.01,8.02,8.15,7.98,8.11,31331939,252435318],[20220413,8.11,8.09,8.14,8.05,8.1,18501150,149849342],[20220414,8.1,8.11,8.15,8.1,8.11,18973150,154167548],[20220415,8.11,8.11,8.18,8.09,8.15,21811956,177849450],[20220418,8.15,8.12,8.14,8.01,8.03,21022369,169238879],[20220419,8.03,8.04,8.14,8.03,8.14,24564490,198485790],[20220420,8.14,8.13,8.15,8.08,8.11,19143935,155238284],[20220421,8.11,8.08,8.16,7.99,8.07,29228035,236728146],[20220422,8.07,8.01,8.12,8.01,8.09,27612017,222997628],[20220425,8.09,8.02,8.1,7.81,7.82,53311550,426094148],[20220426,7.82,7.84,7.99,7.79,7.87,38204259,301693698],[20220427,7.87,7.91,7.95,7.81,7.83,38688614,304687721],[20220428,7.83,7.86,7.99,7.86,7.99,45175169,358888163],[20220429,7.99,7.98,8.06,7.86,8.03,44512846,354246100],[20220505,8.03,8.03,8.08,7.96,7.99,29133140,233186177],[20220506,7.99,7.94,7.98,7.82,7.85,31795578,250345903],[20220509,7.85,7.85,7.86,7.8,7.82,16035420,125476461],[20220510,7.82,7.8,7.89,7.71,7.85,32991018,257366422],[20220511,7.85,7.84,7.9,7.81,7.86,25116815,197407269],[20220512,7.86,7.83,7.91,7.83,7.87,22352229,176091168],[20220513,7.87,7.91,8.05,7.9,8.05,37343358,298941533],[20220516,8.05,8.05,8.07,7.93,7.97,20990826,167326392],[20220517,7.97,8.01,8.04,7.95,8.02,18714191,149733543],[20220518,8.02,7.98,8.01,7.92,7.95,19463913,154781980],[20220519,7.95,7.92,7.98,7.89,7.91,19904191,157705909],[20220520,7.91,7.94,8.05,7.92,8.04,32699572,262095154],[20220523,8.04,8.06,8.06,7.95,7.95,25527572,203770116],[20220524,7.95,7.96,7.97,7.87,7.88,26028514,205916168],[20220525,7.88,7.92,7.93,7.85,7.88,21003364,165613957],[20220526,7.88,7.89,7.92,7.84,7.9,23401589,184331253],[20220527,7.9,7.92,8.01,7.88,8,31755338,252802577],[20220530,8,8.01,8.02,7.87,7.88,35696257,282538705],[20220531,7.88,7.9,7.98,7.88,7.94,31750884,251916051],[20220601,7.94,7.94,7.94,7.89,7.91,18401941,145647638],[20220602,7.91,7.89,7.91,7.87,7.89,18931116,149199713],[20220606,7.89,7.87,7.9,7.82,7.86,33010527,259403167],[20220607,7.86,7.84,7.89,7.83,7.88,30623076,240941764],[20220608,7.88,7.87,7.88,7.83,7.86,39555666,310775180],[20220609,7.86,7.86,7.96,7.84,7.95,60606956,480180512],[20220610,7.95,7.93,8.05,7.89,7.93,123446198,984436173],[20220613,7.93,7.91,7.93,7.74,7.77,104597235,816472115],[20220614,7.77,7.74,7.89,7.73,7.87,55047795,428964424],[20220615,7.87,7.86,8.13,7.85,8.03,112759058,906495919],[20220616,8.03,8.05,8.08,7.92,7.92,56889689,453897643],[20220617,7.92,7.91,8,7.89,7.97,35612494,283173437],[20220620,7.97,7.95,7.98,7.91,7.91,30065154,238320268],[20220621,7.91,7.92,7.98,7.92,7.97,23245677,185071903],[20220622,7.97,7.96,7.97,7.91,7.92,20635582,163685601],[20220623,7.92,7.94,7.97,7.91,7.97,23255144,184864875],[20220624,7.97,7.97,7.98,7.93,7.95,23665322,188294113],[20220627,7.95,7.95,8.01,7.94,7.97,24067719,192131006],[20220628,7.97,7.97,8.04,7.96,8.04,25729078,205871662],[20220629,8.04,8.01,8.06,8,8.05,30299747,243477295],[20220630,8.05,8.05,8.06,8,8.01,23369617,187691080],[20220701,8.01,8.01,8.04,7.98,7.99,17846787,142651655],[20220704,7.99,7.99,8,7.94,7.96,18222009,145047089],[20220705,7.96,7.96,8,7.94,7.98,21322243,169924263],[20220706,7.98,7.97,7.98,7.87,7.9,28829658,227963132],[20220707,7.9,7.88,7.92,7.86,7.87,18636395,147034170],[20220708,7.87,7.9,7.9,7.87,7.88,12379190,97665057],[20220711,7.88,7.87,7.9,7.86,7.87,16195472,127636557],[20220712,7.87,7.86,7.94,7.86,7.91,19889798,157433752],[20220713,7.91,7.93,7.94,7.85,7.85,30506523,240374854],[20220714,7.85,7.84,7.86,7.75,7.79,40565878,315441409],[20220715,7.79,7.76,7.8,7.65,7.67,47127632,364457391],[20220718,7.67,7.68,7.79,7.68,7.79,25164232,195287191],[20220719,7.79,7.79,7.82,7.77,7.81,28872304,224891813],[20220720,7.81,7.85,7.85,7.77,7.79,39713402,309465406],[20220721,7.38,7.4,7.41,7.33,7.33,41541585,305408212],[20220722,7.33,7.34,7.38,7.34,7.35,19660796,144713990],[20220725,7.35,7.33,7.38,7.33,7.35,17093960,125744844],[20220726,7.35,7.36,7.39,7.34,7.38,18730569,138030623],[20220727,7.38,7.36,7.37,7.33,7.34,17036417,125085329],[20220728,7.34,7.35,7.37,7.32,7.33,21524372,158047423],[20220729,7.33,7.35,7.35,7.23,7.26,43873316,319838541],[20220801,7.26,7.26,7.28,7.21,7.23,24438011,176997249],[20220802,7.23,7.22,7.22,7.07,7.14,40986083,291570127],[20220803,7.14,7.13,7.17,7.07,7.07,28144846,199887999],[20220804,7.07,7.09,7.1,7.06,7.09,21294463,150760431],[20220805,7.09,7.09,7.18,7.08,7.15,22554203,160555049],[20220808,7.15,7.17,7.18,7.12,7.12,12981219,92667054],[20220809,7.12,7.13,7.15,7.1,7.12,13023820,92757272],[20220810,7.12,7.12,7.13,7.08,7.09,11674742,82872444],[20220811,7.09,7.12,7.19,7.1,7.18,21910821,156858352],[20220812,7.18,7.19,7.26,7.17,7.24,22253354,160666706],[20220815,7.24,7.24,7.29,7.2,7.21,20451392,148015693],[20220816,7.21,7.21,7.26,7.18,7.19,17910142,129120993],[20220817,7.19,7.21,7.3,7.18,7.28,20980840,152061979],[20220818,7.28,7.27,7.27,7.19,7.21,12991819,93820911],[20220819,7.21,7.18,7.28,7.18,7.2,17544569,126989202],[20220822,7.2,7.18,7.24,7.16,7.23,13776616,99353492],[20220823,7.23,7.21,7.22,7.17,7.17,15047471,108111340],[20220824,7.17,7.17,7.22,7.14,7.15,16855765,120996053],[20220825,7.15,7.16,7.22,7.15,7.2,15772556,113287117],[20220826,7.2,7.23,7.26,7.18,7.22,17576235,126876441],[20220829,7.22,7.16,7.21,7.12,7.15,27600324,197253687],[20220830,7.15,7.14,7.2,7.13,7.19,22541928,161534933],[20220831,7.19,7.17,7.28,7.15,7.27,39566130,286509309],[20220901,7.27,7.23,7.29,7.2,7.23,23298388,169134999],[20220902,7.23,7.24,7.27,7.2,7.21,19975499,144236249],[20220905,7.21,7.18,7.27,7.14,7.26,26646247,192171037],[20220906,7.26,7.25,7.3,7.24,7.26,21866681,159009208],[20220907,7.26,7.23,7.26,7.22,7.22,16568470,119766057],[20220908,7.22,7.24,7.27,7.22,7.24,14478347,104930853],[20220909,7.24,7.27,7.34,7.24,7.31,32423037,236986665],[20220913,7.31,7.28,7.36,7.27,7.35,23795140,174338448],[20220914,7.35,7.29,7.34,7.27,7.28,18649011,136014994],[20220915,7.28,7.29,7.37,7.28,7.32,31940343,233945047],[20220916,7.32,7.3,7.32,7.14,7.14,33979138,245252584],[20220919,7.14,7.16,7.2,7.1,7.16,22388073,160021577],[20220920,7.16,7.16,7.18,7.1,7.11,22247046,158496620],[20220921,7.11,7.1,7.16,7.08,7.13,20026161,142605616],[20220922,7.13,7.11,7.14,7.08,7.12,19540404,138786682],[20220923,7.12,7.12,7.18,7.09,7.16,21806262,155805817],[20220926,7.16,7.12,7.17,7.05,7.06,29503476,209607847],[20220927,7.06,7.04,7.09,7.02,7.07,20128163,142035077],[20220928,7.07,7.05,7.12,7.02,7.08,25197590,178257967],[20220929,7.08,7.11,7.13,6.95,6.99,37072647,260386962],[20220930,6.99,7.02,7.07,6.99,7.04,21572691,151907573],[20221010,7.04,7.04,7.09,7.01,7.03,20028296,141308416],[20221011,7.03,7.07,7.08,7,7.01,18613647,130804312],[20221012,7.01,7.01,7.05,6.96,7.05,20354488,142570655],[20221013,7.05,7.03,7.04,6.97,7,24107256,168676264],[20221014,7,7.03,7.07,7.01,7.03,27342763,192757733],[20221017,7.03,7.05,7.05,7,7.02,20616536,144892076],[20221018,7.02,7.04,7.06,7.01,7.02,21908675,154099280],[20221019,7.02,7.02,7.04,6.97,6.97,17988215,125873058],[20221020,6.97,6.97,7,6.96,6.97,19765093,137810613],[20221021,6.97,6.99,7.02,6.91,6.92,24567888,170868903],[20221024,6.92,6.93,6.94,6.8,6.81,38610105,265091388],[20221025,6.81,6.88,6.88,6.8,6.84,26539881,181269047],[20221026,6.84,6.83,6.86,6.8,6.82,20377311,139135071],[20221027,6.82,6.83,6.87,6.81,6.82,21293652,145765770],[20221028,6.82,6.84,6.87,6.75,6.8,28234295,192577660],[20221031,6.8,6.73,6.75,6.63,6.64,32237373,215102268],[20221101,6.64,6.68,6.74,6.65,6.74,27035074,181314549],[20221102,6.74,6.7,6.74,6.66,6.71,24034116,160891463],[20221103,6.71,6.71,6.71,6.64,6.66,21251911,141624735],[20221104,6.66,6.65,6.8,6.64,6.79,32665677,220460181],[20221107,6.79,6.75,6.83,6.74,6.81,16269623,110507706],[20221108,6.81,6.83,6.83,6.77,6.79,15282862,103708977],[20221109,6.79,6.77,6.82,6.77,6.79,13127494,89138502],[20221110,6.79,6.75,6.8,6.74,6.78,12601008,85330919],[20221111,6.78,6.83,6.98,6.83,6.94,40237053,277525770],[20221114,6.94,6.98,7.09,6.96,7.03,43777420,308265881],[20221115,7.03,7.01,7.09,7,7.06,25212063,177876453],[20221116,7.06,7.03,7.06,7.01,7.03,17398102,122332873],[20221117,7.03,7.02,7.02,6.95,6.98,22026825,153691240],[20221118,6.98,6.99,7,6.91,6.91,22662930,157460686],[20221121,6.91,6.9,6.91,6.83,6.88,22374965,153475266],[20221122,6.88,6.89,7.04,6.89,7.02,33424530,233200479],[20221123,7.02,7.01,7.12,6.99,7.05,36694389,259475308],[20221124,7.05,7.06,7.14,7.03,7.03,21534531,152263202],[20221125,7.03,7.04,7.18,7.04,7.17,43033799,307087082],[20221128,7.17,7.1,7.1,6.98,7.07,37873189,266592726],[20221129,7.07,7.1,7.3,7.08,7.27,68171227,492975278],[20221130,7.27,7.24,7.3,7.22,7.22,32346981,234334306],[20221201,7.22,7.28,7.34,7.21,7.22,30040435,217886967],[20221202,7.22,7.25,7.25,7.17,7.23,25722026,185354138],[20221205,7.23,7.28,7.37,7.24,7.36,47367357,346640963],[20221206,7.36,7.32,7.39,7.3,7.36,30550306,224448680],[20221207,7.36,7.35,7.4,7.3,7.34,31176550,229009593],[20221208,7.34,7.32,7.39,7.31,7.38,25551776,187977674],[20221209,7.38,7.37,7.39,7.3,7.32,38192346,280350287],[20221212,7.32,7.31,7.36,7.23,7.26,26708550,194644290],[20221213,7.26,7.27,7.35,7.25,7.32,18253626,133464502],[20221214,7.32,7.37,7.37,7.26,7.32,16180635,118352409],[20221215,7.32,7.28,7.32,7.23,7.24,17471770,126757096],[20221216,7.24,7.25,7.35,7.23,7.35,31704629,232171544],[20221219,7.35,7.37,7.37,7.21,7.24,20432546,148576218],[20221220,7.24,7.23,7.28,7.13,7.14,24800259,178369740],[20221221,7.14,7.22,7.24,7.13,7.19,17252934,124209181],[20221222,7.19,7.28,7.31,7.2,7.24,18662641,135509039],[20221223,7.24,7.19,7.27,7.17,7.19,12958464,93463047],[20221226,7.19,7.19,7.21,7.08,7.1,20138533,143606824],[20221227,7.1,7.13,7.29,7.12,7.22,24065192,173516852],[20221228,7.22,7.22,7.3,7.2,7.3,20901364,152167734],[20221229,7.3,7.27,7.29,7.18,7.24,18367088,132652083],[20221230,7.24,7.23,7.3,7.22,7.28,20352397,147932731],[20230103,7.28,7.27,7.28,7.17,7.23,25892521,187094064],[20230104,7.23,7.27,7.35,7.23,7.31,30947081,226321372],[20230105,7.31,7.37,7.38,7.3,7.35,30162154,221617355],[20230106,7.35,7.35,7.38,7.31,7.34,20312881,149170538],[20230109,7.34,7.38,7.38,7.3,7.34,19612260,143998211],[20230110,7.34,7.35,7.35,7.28,7.28,16194647,118223822],[20230111,7.28,7.31,7.34,7.27,7.3,19215541,140393996],[20230112,7.3,7.33,7.34,7.24,7.27,16849908,122554362],[20230113,7.27,7.29,7.35,7.27,7.34,21770211,159178132],[20230116,7.34,7.35,7.38,7.28,7.33,36816941,270170018],[20230117,7.33,7.34,7.35,7.27,7.3,24222613,176749046],[20230118,7.3,7.31,7.33,7.27,7.31,24494551,178868885],[20230119,7.31,7.31,7.33,7.26,7.33,16713352,121983726],[20230120,7.33,7.34,7.36,7.32,7.36,20986958,154239831],[20230130,7.36,7.43,7.43,7.37,7.4,31810739,235352030],[20230131,7.4,7.42,7.45,7.37,7.37,28438220,210715444],[20230201,7.37,7.4,7.4,7.33,7.36,18659542,137294549],[20230202,7.36,7.39,7.39,7.32,7.36,21900191,160961795],[20230203,7.36,7.33,7.35,7.27,7.27,29885527,217904608],[20230206,7.27,7.25,7.25,7.21,7.25,22786780,164745210],[20230207,7.25,7.27,7.27,7.22,7.24,15481821,112169271],[20230208,7.24,7.24,7.27,7.22,7.23,13095025,94770357],[20230209,7.23,7.23,7.28,7.22,7.26,10895965,79099151],[20230210,7.26,7.25,7.27,7.22,7.24,11944106,86527412],[20230213,7.24,7.22,7.26,7.18,7.23,20449779,147742689],[20230214,7.23,7.24,7.26,7.23,7.24,11929853,86373390],[20230215,7.24,7.24,7.25,7.19,7.2,15467693,111509088],[20230216,7.2,7.21,7.26,7.18,7.19,18798353,135881169],[20230217,7.19,7.19,7.22,7.13,7.13,21148914,151882567],[20230220,7.13,7.16,7.27,7.15,7.26,25613504,184902604],[20230221,7.26,7.26,7.3,7.23,7.29,16234446,118094161],[20230222,7.29,7.28,7.29,7.24,7.24,12971392,94204601],[20230223,7.24,7.25,7.28,7.23,7.23,11436536,82898812],[20230224,7.23,7.22,7.26,7.18,7.18,16681114,120124648],[20230227,7.18,7.16,7.2,7.16,7.16,15800639,113363322],[20230228,7.16,7.18,7.2,7.14,7.18,17448100,125100408],[20230301,7.18,7.17,7.27,7.17,7.26,25661325,185861462],[20230302,7.26,7.23,7.29,7.23,7.27,17070002,124094305],[20230303,7.27,7.29,7.36,7.26,7.35,31094168,227583048],[20230306,7.35,7.35,7.37,7.31,7.33,24939950,182971731],[20230307,7.33,7.32,7.46,7.3,7.31,56642781,417960791],[20230308,7.31,7.3,7.32,7.25,7.31,19059038,138757482],[20230309,7.31,7.31,7.34,7.25,7.27,18993344,138470615],[20230310,7.27,7.24,7.26,7.15,7.15,27843826,200486042],[20230313,7.15,7.05,7.09,7.03,7.06,51314997,362230490],[20230314,7.06,7.06,7.07,7,7.02,32453388,228164818],[20230315,7.02,7.07,7.1,7.06,7.08,25072976,177677435],[20230316,7.08,7.08,7.17,7.05,7.12,28501314,203051784],[20230317,7.12,7.14,7.22,7.1,7.11,36328142,260022748],[20230320,7.11,7.1,7.22,7.1,7.13,26292154,188546316],[20230321,7.13,7.16,7.2,7.13,7.13,18977675,135798122],[20230322,7.13,7.15,7.19,7.14,7.18,16988375,121799289],[20230323,7.18,7.15,7.22,7.14,7.21,21506296,154656983],[20230324,7.21,7.19,7.25,7.18,7.21,25687826,185477856],[20230327,7.21,7.23,7.23,7.15,7.15,19141397,137294386],[20230328,7.15,7.16,7.19,7.14,7.18,16641290,119293209],[20230329,7.18,7.23,7.23,7.16,7.16,12685806,91087594],[20230330,7.16,7.18,7.21,7.12,7.19,22504756,161359032],[20230331,7.19,7.19,7.24,7.17,7.19,20048925,144423998],[20230403,7.19,7.19,7.21,7.16,7.19,20246596,145394356],[20230404,7.19,7.19,7.22,7.16,7.21,25718197,184997550],[20230406,7.21,7.21,7.22,7.18,7.18,14740291,106072546],[20230407,7.18,7.19,7.24,7.16,7.23,17465820,125889350],[20230410,7.23,7.21,7.24,7.19,7.21,17548307,126535779],[20230411,7.21,7.23,7.23,7.18,7.18,20191251,145358007],[20230412,7.18,7.2,7.23,7.17,7.21,19475694,140373570],[20230413,7.21,7.22,7.29,7.2,7.25,25779019,186717624],[20230414,7.25,7.28,7.31,7.25,7.27,25074604,182629852],[20230417,7.27,7.26,7.4,7.26,7.39,36027756,264817275],[20230418,7.39,7.38,7.59,7.37,7.54,77412335,582499848],[20230419,7.54,7.49,7.58,7.43,7.53,52269783,393443029],[20230420,7.53,7.5,7.69,7.5,7.68,72340661,550359766],[20230421,7.68,7.67,7.73,7.57,7.59,50258973,383793225],[20230424,7.59,7.59,7.64,7.47,7.49,43348471,326606926],[20230425,7.49,7.53,7.62,7.52,7.56,42805282,323698545],[20230426,7.56,7.56,7.56,7.42,7.46,50919367,380460213],[20230427,7.46,7.48,7.51,7.42,7.48,49269460,367760167],[20230428,7.48,7.47,7.65,7.47,7.6,38841289,294352873],[20230504,7.6,7.48,7.75,7.35,7.68,75866605,575141257],[20230505,7.68,7.68,7.9,7.66,7.76,67991125,529531597],[20230508,7.76,7.77,8.17,7.76,8.07,143117862,1148389705],[20230509,8.07,8.14,8.22,7.94,7.96,122058988,987860019],[20230510,7.96,7.93,7.95,7.65,7.7,87338919,677598927],[20230511,7.7,7.72,7.8,7.65,7.67,43135406,332304491],[20230512,7.67,7.7,7.71,7.58,7.62,55003725,420040623],[20230515,7.62,7.62,7.71,7.51,7.69,49175572,373081744],[20230516,7.69,7.7,7.78,7.64,7.67,41397733,318997697],[20230517,7.67,7.67,7.69,7.58,7.61,29442573,224614977],[20230518,7.61,7.64,7.75,7.61,7.68,38714402,297590092],[20230519,7.68,7.67,7.67,7.52,7.54,35072548,265388166],[20230522,7.54,7.58,7.6,7.52,7.54,21174297,159997715],[20230523,7.54,7.54,7.59,7.45,7.45,29213715,219372233],[20230524,7.45,7.43,7.44,7.29,7.29,45145900,331690566],[20230525,7.29,7.26,7.33,7.24,7.31,34408974,250361066],[20230526,7.31,7.31,7.36,7.25,7.32,18912850,138237161],[20230529,7.32,7.32,7.46,7.31,7.41,29624085,218780886],[20230530,7.41,7.42,7.44,7.3,7.37,26942819,198416676],[20230531,7.37,7.37,7.37,7.29,7.35,26569353,194680269],[20230601,7.35,7.33,7.35,7.26,7.28,30606250,223217358],[20230602,7.28,7.29,7.36,7.29,7.35,20697156,151681592],[20230605,7.35,7.35,7.43,7.31,7.41,21286683,157069299],[20230606,7.41,7.41,7.53,7.36,7.38,33736363,251262504],[20230607,7.38,7.4,7.5,7.4,7.46,21593403,161137015],[20230608,7.46,7.49,7.59,7.43,7.57,27634633,207840752],[20230609,7.57,7.57,7.6,7.53,7.56,22288077,168547961],[20230612,7.56,7.54,7.54,7.43,7.43,20300133,151516728],[20230613,7.43,7.43,7.48,7.4,7.46,15724325,117086539],[20230614,7.46,7.48,7.51,7.4,7.4,17986091,134018714],[20230615,7.4,7.43,7.49,7.39,7.45,20936996,155705975],[20230616,7.45,7.45,7.47,7.39,7.43,26908579,199680699],[20230619,7.43,7.41,7.42,7.34,7.34,17368652,128045971],[20230620,7.34,7.36,7.37,7.29,7.29,20417397,149411204],[20230621,7.29,7.29,7.37,7.27,7.27,20122147,147098242],[20230626,7.27,7.27,7.28,7.14,7.16,34007942,244185921],[20230627,7.16,7.15,7.23,7.14,7.19,18412655,132407801],[20230628,7.19,7.2,7.22,7.15,7.21,15806614,113547071],[20230629,7.21,7.21,7.25,7.18,7.18,21627405,155944843],[20230630,7.18,7.17,7.27,7.17,7.24,19425283,140653932],[20230703,7.24,7.25,7.33,7.25,7.32,20873751,152174189],[20230704,7.32,7.3,7.33,7.23,7.28,17447358,126841704],[20230705,7.28,7.26,7.28,7.21,7.25,11396554,82596378],[20230706,7.25,7.25,7.27,7.19,7.21,14827400,107119878],[20230707,7.21,7.21,7.25,7.18,7.22,14748837,106398636],[20230710,7.22,7.22,7.25,7.2,7.22,11410653,82406254],[20230711,7.22,7.26,7.29,7.23,7.28,14074191,102272416],[20230712,7.28,7.28,7.32,7.25,7.25,14414543,105021891],[20230713,7.25,7.3,7.4,7.27,7.4,26925447,198390792],[20230714,7.4,7.42,7.45,7.38,7.44,19569658,145348730],[20230717,7.44,7.44,7.45,7.35,7.42,13992076,103339601],[20230718,7.42,7.42,7.42,7.37,7.39,12026567,88895175],[20230719,7.39,7.36,7.43,7.36,7.41,18189577,134677036],[20230720,7.41,7.43,7.48,7.4,7.42,26686817,198503271],[20230721,7.1,7.1,7.15,7.07,7.12,27661416,196813979],[20230724,7.12,7.08,7.16,7.07,7.13,25840210,184072422],[20230725,7.13,7.18,7.29,7.17,7.27,31444763,227784692],[20230726,7.27,7.28,7.34,7.26,7.29,22818033,166416269],[20230727,7.29,7.33,7.4,7.29,7.37,26198753,193006451],[20230728,7.37,7.33,7.52,7.33,7.5,46528827,347454787],[20230731,7.5,7.55,7.64,7.52,7.6,52804227,400087143],[20230801,7.6,7.58,7.63,7.54,7.6,30934266,234625800],[20230802,7.6,7.56,7.59,7.43,7.48,42654533,319717235],[20230803,7.48,7.52,7.58,7.44,7.56,29329503,220449825],[20230804,7.56,7.59,7.65,7.54,7.58,34256817,260297665],[20230807,7.58,7.57,7.57,7.49,7.52,26012874,195449522],[20230808,7.52,7.47,7.55,7.43,7.52,27001247,202344903],[20230809,7.52,7.5,7.55,7.47,7.55,17792571,133937332],[20230810,7.55,7.45,7.46,7.35,7.42,52865300,391107894],[20230811,7.42,7.44,7.44,7.23,7.23,37051127,270665761],[20230814,7.23,7.18,7.2,7.05,7.1,44245535,315007728],[20230815,7.1,7.12,7.19,7.09,7.17,31218657,222582866],[20230816,7.17,7.15,7.19,7.12,7.14,22953985,163923269],[20230817,7.14,7.13,7.14,7.05,7.1,37202484,263598981],[20230818,7.1,7.1,7.17,7.07,7.07,28150555,200372019],[20230821,7.07,7.06,7.11,6.96,6.96,42517681,298419531],[20230822,6.96,6.98,7.04,6.97,7.01,32939985,230491370],[20230823,7.01,7.01,7.09,6.98,7.02,30151367,212210300],[20230824,7.02,7.03,7.06,6.98,6.99,24604979,172413193],[20230825,6.99,6.99,7.09,6.97,7.05,24703830,174021381],[20230829,7.15,7.2,7.2,7.03,7.07,44969042,318887360]],symbol:"600000.sh",name:"xxxxxx",start:5768,end:2769,count:5769,ticket:16,version:"2.0",message:null,code:0,servertime:"2023-08-29 14:38:26"},h={stock:[{symbol:"600000.sh",minute:[{date:20230707,time:930,open:7.21,high:7.21,low:7.21,price:7.21,vol:42500,amount:306425,avprice:7.21},{date:20230707,time:931,open:7.21,high:7.19,low:7.21,price:7.19,vol:269400,amount:1939823,avprice:7.202},{date:20230707,time:932,open:7.21,high:7.21,low:7.22,price:7.2,vol:231900,amount:1672034,avprice:7.205},{date:20230707,time:933,open:7.21,high:7.23,low:7.23,price:7.21,vol:144300,amount:1041820,avprice:7.208},{date:20230707,time:934,open:7.23,high:7.22,low:7.23,price:7.22,vol:87300,amount:630341,avprice:7.21},{date:20230707,time:935,open:7.23,high:7.22,low:7.23,price:7.22,vol:49600,amount:358287,avprice:7.211},{date:20230707,time:936,open:7.22,high:7.21,low:7.23,price:7.2,vol:106700,amount:769942,avprice:7.211},{date:20230707,time:937,open:7.21,high:7.22,low:7.22,price:7.2,vol:38400,amount:276864,avprice:7.211},{date:20230707,time:938,open:7.22,high:7.2,low:7.22,price:7.2,vol:31e3,amount:223473,avprice:7.211},{date:20230707,time:939,open:7.2,high:7.21,low:7.22,price:7.2,vol:38500,amount:277594,avprice:7.211},{date:20230707,time:940,open:7.22,high:7.21,low:7.22,price:7.21,vol:17400,amount:125526,avprice:7.211},{date:20230707,time:941,open:7.21,high:7.21,low:7.22,price:7.21,vol:20400,amount:147115,avprice:7.211},{date:20230707,time:942,open:7.21,high:7.21,low:7.22,price:7.21,vol:29300,amount:211273,avprice:7.211},{date:20230707,time:943,open:7.22,high:7.21,low:7.22,price:7.21,vol:154e3,amount:1111381,avprice:7.212},{date:20230707,time:944,open:7.22,high:7.22,low:7.22,price:7.21,vol:33300,amount:240129,avprice:7.212},{date:20230707,time:945,open:7.21,high:7.22,low:7.23,price:7.21,vol:198400,amount:1432724,avprice:7.213},{date:20230707,time:946,open:7.22,high:7.23,low:7.23,price:7.22,vol:56200,amount:405804,avprice:7.213},{date:20230707,time:947,open:7.22,high:7.22,low:7.23,price:7.22,vol:187400,amount:1353030,avprice:7.214},{date:20230707,time:948,open:7.22,high:7.22,low:7.22,price:7.21,vol:35900,amount:258878,avprice:7.214},{date:20230707,time:949,open:7.22,high:7.22,low:7.22,price:7.21,vol:38e3,amount:274313,avprice:7.214},{date:20230707,time:950,open:7.22,high:7.22,low:7.22,price:7.21,vol:15500,amount:111781,avprice:7.214},{date:20230707,time:951,open:7.21,high:7.2,low:7.21,price:7.2,vol:264900,amount:1909460,avprice:7.213},{date:20230707,time:952,open:7.21,high:7.22,low:7.23,price:7.21,vol:372800,amount:2690957,avprice:7.214},{date:20230707,time:953,open:7.22,high:7.22,low:7.22,price:7.22,vol:83100,amount:599982,avprice:7.214},{date:20230707,time:954,open:7.22,high:7.22,low:7.22,price:7.22,vol:18600,amount:134301,avprice:7.214},{date:20230707,time:955,open:7.22,high:7.23,low:7.23,price:7.22,vol:11900,amount:85968,avprice:7.214},{date:20230707,time:956,open:7.22,high:7.22,low:7.23,price:7.22,vol:43900,amount:317337,avprice:7.215},{date:20230707,time:957,open:7.23,high:7.23,low:7.23,price:7.22,vol:19300,amount:139534,avprice:7.215},{date:20230707,time:958,open:7.23,high:7.23,low:7.23,price:7.22,vol:11900,amount:86027,avprice:7.215},{date:20230707,time:959,open:7.23,high:7.22,low:7.23,price:7.22,vol:25800,amount:186293,avprice:7.215},{date:20230707,time:1e3,open:7.22,high:7.22,low:7.22,price:7.22,vol:77800,amount:561725,avprice:7.215},{date:20230707,time:1001,open:7.23,high:7.23,low:7.23,price:7.22,vol:53400,amount:385801,avprice:7.215},{date:20230707,time:1002,open:7.22,high:7.23,low:7.23,price:7.22,vol:65e3,amount:469650,avprice:7.215},{date:20230707,time:1003,open:7.22,high:7.24,low:7.25,price:7.22,vol:945700,amount:6843184,avprice:7.221},{date:20230707,time:1004,open:7.25,high:7.23,low:7.25,price:7.23,vol:130900,amount:947953,avprice:7.221},{date:20230707,time:1005,open:7.24,high:7.24,low:7.25,price:7.23,vol:118800,amount:859986,avprice:7.222},{date:20230707,time:1006,open:7.24,high:7.24,low:7.25,price:7.24,vol:14200,amount:102846,avprice:7.222},{date:20230707,time:1007,open:7.24,high:7.23,low:7.24,price:7.23,vol:173300,amount:1253355,avprice:7.222},{date:20230707,time:1008,open:7.23,high:7.23,low:7.23,price:7.23,vol:42200,amount:305229,avprice:7.222},{date:20230707,time:1009,open:7.23,high:7.23,low:7.23,price:7.23,vol:3100,amount:22413,avprice:7.222},{date:20230707,time:1010,open:7.23,high:7.23,low:7.24,price:7.23,vol:30900,amount:223680,avprice:7.222},{date:20230707,time:1011,open:7.24,high:7.23,low:7.24,price:7.23,vol:11500,amount:83220,avprice:7.222},{date:20230707,time:1012,open:7.24,high:7.23,low:7.24,price:7.23,vol:11400,amount:82498,avprice:7.223},{date:20230707,time:1013,open:7.24,high:7.23,low:7.24,price:7.23,vol:10300,amount:74525,avprice:7.223},{date:20230707,time:1014,open:7.24,high:7.23,low:7.24,price:7.23,vol:12200,amount:88303,avprice:7.223},{date:20230707,time:1015,open:7.24,high:7.23,low:7.24,price:7.23,vol:12900,amount:93374,avprice:7.223},{date:20230707,time:1016,open:7.23,high:7.24,low:7.24,price:7.23,vol:8800,amount:63667,avprice:7.223},{date:20230707,time:1017,open:7.24,high:7.23,low:7.24,price:7.23,vol:26800,amount:193995,avprice:7.223},{date:20230707,time:1018,open:7.24,high:7.24,low:7.24,price:7.23,vol:10200,amount:73817,avprice:7.223},{date:20230707,time:1019,open:7.23,high:7.24,low:7.24,price:7.23,vol:8900,amount:64429,avprice:7.223},{date:20230707,time:1020,open:7.24,high:7.23,low:7.24,price:7.23,vol:30600,amount:221404,avprice:7.223},{date:20230707,time:1021,open:7.24,high:7.24,low:7.24,price:7.23,vol:17e3,amount:122956,avprice:7.223},{date:20230707,time:1022,open:7.24,high:7.24,low:7.24,price:7.23,vol:8600,amount:62247,avprice:7.223},{date:20230707,time:1023,open:7.23,high:7.24,low:7.24,price:7.23,vol:18100,amount:130921,avprice:7.223},{date:20230707,time:1024,open:7.23,high:7.23,low:7.24,price:7.23,vol:50800,amount:367521,avprice:7.223},{date:20230707,time:1025,open:7.23,high:7.23,low:7.24,price:7.23,vol:57800,amount:417975,avprice:7.223},{date:20230707,time:1026,open:7.23,high:7.23,low:7.23,price:7.23,vol:44e3,amount:318132,avprice:7.223},{date:20230707,time:1027,open:7.23,high:7.22,low:7.23,price:7.22,vol:54600,amount:394343,avprice:7.223},{date:20230707,time:1028,open:7.23,high:7.22,low:7.23,price:7.22,vol:32500,amount:234662,avprice:7.223},{date:20230707,time:1029,open:7.23,high:7.23,low:7.23,price:7.22,vol:23200,amount:167633,avprice:7.223},{date:20230707,time:1030,open:7.22,high:7.23,low:7.23,price:7.22,vol:14400,amount:104077,avprice:7.223},{date:20230707,time:1031,open:7.23,high:7.23,low:7.23,price:7.22,vol:62900,amount:454640,avprice:7.223},{date:20230707,time:1032,open:7.23,high:7.22,low:7.23,price:7.22,vol:40100,amount:289608,avprice:7.223},{date:20230707,time:1033,open:7.22,high:7.22,low:7.22,price:7.21,vol:87100,amount:628610,avprice:7.223},{date:20230707,time:1034,open:7.22,high:7.22,low:7.22,price:7.21,vol:33700,amount:243016,avprice:7.223},{date:20230707,time:1035,open:7.21,high:7.2,low:7.21,price:7.2,vol:330100,amount:2379824,avprice:7.222},{date:20230707,time:1036,open:7.2,high:7.21,low:7.21,price:7.2,vol:16900,amount:121686,avprice:7.222},{date:20230707,time:1037,open:7.21,high:7.21,low:7.21,price:7.2,vol:119100,amount:858705,avprice:7.222},{date:20230707,time:1038,open:7.21,high:7.21,low:7.21,price:7.21,vol:300,amount:2163,avprice:7.222},{date:20230707,time:1039,open:7.21,high:7.21,low:7.21,price:7.2,vol:51900,amount:374198,avprice:7.222},{date:20230707,time:1040,open:7.21,high:7.2,low:7.21,price:7.2,vol:31e3,amount:223356,avprice:7.222},{date:20230707,time:1041,open:7.21,high:7.2,low:7.21,price:7.2,vol:51900,amount:373939,avprice:7.222},{date:20230707,time:1042,open:7.2,high:7.2,low:7.21,price:7.19,vol:256100,amount:1843735,avprice:7.221},{date:20230707,time:1043,open:7.2,high:7.19,low:7.2,price:7.19,vol:4300,amount:30958,avprice:7.221},{date:20230707,time:1044,open:7.2,high:7.2,low:7.2,price:7.19,vol:27800,amount:200149,avprice:7.221},{date:20230707,time:1045,open:7.2,high:7.19,low:7.2,price:7.19,vol:20900,amount:150472,avprice:7.221},{date:20230707,time:1046,open:7.19,high:7.2,low:7.2,price:7.19,vol:49900,amount:359227,avprice:7.22},{date:20230707,time:1047,open:7.2,high:7.2,low:7.21,price:7.2,vol:51800,amount:372985,avprice:7.22},{date:20230707,time:1048,open:7.21,high:7.21,low:7.21,price:7.2,vol:26900,amount:193695,avprice:7.22},{date:20230707,time:1049,open:7.2,high:7.2,low:7.2,price:7.2,vol:8900,amount:64080,avprice:7.22},{date:20230707,time:1050,open:7.21,high:7.2,low:7.21,price:7.19,vol:91300,amount:657209,avprice:7.22},{date:20230707,time:1051,open:7.19,high:7.21,low:7.21,price:7.19,vol:40700,amount:292820,avprice:7.22},{date:20230707,time:1052,open:7.19,high:7.2,low:7.21,price:7.19,vol:45300,amount:325905,avprice:7.219},{date:20230707,time:1053,open:7.2,high:7.2,low:7.2,price:7.19,vol:3200,amount:23037,avprice:7.219},{date:20230707,time:1054,open:7.2,high:7.19,low:7.2,price:7.19,vol:559300,amount:4021484,avprice:7.217},{date:20230707,time:1055,open:7.19,high:7.19,low:7.2,price:7.18,vol:394400,amount:2835733,avprice:7.215},{date:20230707,time:1056,open:7.19,high:7.19,low:7.19,price:7.19,vol:135100,amount:971369,avprice:7.215},{date:20230707,time:1057,open:7.19,high:7.19,low:7.2,price:7.19,vol:33100,amount:238104,avprice:7.215},{date:20230707,time:1058,open:7.19,high:7.2,low:7.2,price:7.19,vol:14100,amount:101415,avprice:7.215},{date:20230707,time:1059,open:7.2,high:7.19,low:7.2,price:7.19,vol:5800,amount:41706,avprice:7.215},{date:20230707,time:1100,open:7.19,high:7.2,low:7.2,price:7.19,vol:5100,amount:36681,avprice:7.215},{date:20230707,time:1101,open:7.19,high:7.2,low:7.2,price:7.19,vol:900,amount:6474,avprice:7.215},{date:20230707,time:1102,open:7.19,high:7.2,low:7.2,price:7.19,vol:3200,amount:23010,avprice:7.215},{date:20230707,time:1103,open:7.2,high:7.2,low:7.2,price:7.19,vol:19200,amount:138067,avprice:7.215},{date:20230707,time:1104,open:7.2,high:7.2,low:7.2,price:7.19,vol:27900,amount:200727,avprice:7.215},{date:20230707,time:1105,open:7.2,high:7.19,low:7.2,price:7.19,vol:17e3,amount:122358,avprice:7.215},{date:20230707,time:1106,open:7.2,high:7.2,low:7.2,price:7.19,vol:13500,amount:97178,avprice:7.215},{date:20230707,time:1107,open:7.2,high:7.2,low:7.2,price:7.19,vol:34400,amount:247348,avprice:7.215},{date:20230707,time:1108,open:7.2,high:7.2,low:7.2,price:7.19,vol:7700,amount:55414,avprice:7.215},{date:20230707,time:1109,open:7.2,high:7.19,low:7.2,price:7.19,vol:20600,amount:148215,avprice:7.214},{date:20230707,time:1110,open:7.19,high:7.2,low:7.2,price:7.19,vol:8400,amount:60424,avprice:7.214},{date:20230707,time:1111,open:7.2,high:7.2,low:7.2,price:7.19,vol:16900,amount:121632,avprice:7.214},{date:20230707,time:1112,open:7.2,high:7.21,low:7.21,price:7.2,vol:462900,amount:3332833,avprice:7.214},{date:20230707,time:1113,open:7.21,high:7.2,low:7.21,price:7.2,vol:68300,amount:492052,avprice:7.213},{date:20230707,time:1114,open:7.2,high:7.2,low:7.21,price:7.2,vol:32500,amount:234074,avprice:7.213},{date:20230707,time:1115,open:7.2,high:7.21,low:7.21,price:7.2,vol:41600,amount:299530,avprice:7.213},{date:20230707,time:1116,open:7.21,high:7.21,low:7.21,price:7.2,vol:47600,amount:342831,avprice:7.213},{date:20230707,time:1117,open:7.2,high:7.2,low:7.21,price:7.2,vol:39700,amount:285861,avprice:7.213},{date:20230707,time:1118,open:7.21,high:7.21,low:7.21,price:7.2,vol:1600,amount:11522,avprice:7.213},{date:20230707,time:1119,open:7.2,high:7.21,low:7.21,price:7.2,vol:7500,amount:54024,avprice:7.213},{date:20230707,time:1120,open:7.21,high:7.21,low:7.21,price:7.21,vol:22800,amount:164385,avprice:7.213},{date:20230707,time:1121,open:7.2,high:7.2,low:7.2,price:7.2,vol:33200,amount:239043,avprice:7.213},{date:20230707,time:1122,open:7.2,high:7.21,low:7.21,price:7.2,vol:49400,amount:355686,avprice:7.213},{date:20230707,time:1123,open:7.2,high:7.19,low:7.2,price:7.19,vol:58800,amount:423288,avprice:7.213},{date:20230707,time:1124,open:7.2,high:7.2,low:7.2,price:7.19,vol:54e3,amount:388421,avprice:7.213},{date:20230707,time:1125,open:7.19,high:7.2,low:7.2,price:7.19,vol:100500,amount:722700,avprice:7.213},{date:20230707,time:1126,open:7.2,high:7.21,low:7.21,price:7.19,vol:21300,amount:153237,avprice:7.213},{date:20230707,time:1127,open:7.2,high:7.2,low:7.21,price:7.19,vol:46200,amount:332341,avprice:7.212},{date:20230707,time:1128,open:7.2,high:7.2,low:7.2,price:7.19,vol:55600,amount:399881,avprice:7.212},{date:20230707,time:1129,open:7.21,high:7.21,low:7.21,price:7.21,vol:100,amount:721,avprice:7.212},{date:20230707,time:1130,open:7.2,high:7.2,low:7.2,price:7.19,vol:41900,amount:301635,avprice:7.212},{date:20230707,time:1301,open:7.21,high:7.21,low:7.21,price:7.2,vol:63700,amount:458986,avprice:7.212},{date:20230707,time:1302,open:7.2,high:7.2,low:7.21,price:7.19,vol:59400,amount:427703,avprice:7.212},{date:20230707,time:1303,open:7.19,high:7.2,low:7.21,price:7.19,vol:5400,amount:38832,avprice:7.212},{date:20230707,time:1304,open:7.19,high:7.19,low:7.2,price:7.19,vol:73900,amount:531570,avprice:7.212},{date:20230707,time:1305,open:7.19,high:7.2,low:7.21,price:7.19,vol:32900,amount:236603,avprice:7.212},{date:20230707,time:1306,open:7.21,high:7.19,low:7.21,price:7.19,vol:48500,amount:349204,avprice:7.212},{date:20230707,time:1307,open:7.2,high:7.19,low:7.2,price:7.19,vol:63900,amount:459717,avprice:7.212},{date:20230707,time:1308,open:7.2,high:7.19,low:7.21,price:7.19,vol:36300,amount:261304,avprice:7.212},{date:20230707,time:1309,open:7.2,high:7.21,low:7.21,price:7.2,vol:10600,amount:76354,avprice:7.212},{date:20230707,time:1310,open:7.21,high:7.22,low:7.22,price:7.21,vol:56700,amount:408814,avprice:7.212},{date:20230707,time:1311,open:7.21,high:7.22,low:7.22,price:7.21,vol:42300,amount:305040,avprice:7.212},{date:20230707,time:1312,open:7.22,high:7.22,low:7.22,price:7.21,vol:16800,amount:121186,avprice:7.212},{date:20230707,time:1313,open:7.22,high:7.22,low:7.22,price:7.21,vol:45600,amount:328982,avprice:7.212},{date:20230707,time:1314,open:7.22,high:7.21,low:7.22,price:7.21,vol:16600,amount:119741,avprice:7.212},{date:20230707,time:1315,open:7.22,high:7.21,low:7.22,price:7.21,vol:5200,amount:37537,avprice:7.212},{date:20230707,time:1316,open:7.21,high:7.22,low:7.22,price:7.21,vol:24200,amount:174491,avprice:7.212},{date:20230707,time:1317,open:7.21,high:7.21,low:7.22,price:7.21,vol:66e3,amount:476005,avprice:7.212},{date:20230707,time:1318,open:7.21,high:7.21,low:7.22,price:7.21,vol:24800,amount:178833,avprice:7.212},{date:20230707,time:1319,open:7.22,high:7.21,low:7.22,price:7.21,vol:40300,amount:290581,avprice:7.212},{date:20230707,time:1320,open:7.21,high:7.21,low:7.22,price:7.21,vol:31900,amount:230090,avprice:7.212},{date:20230707,time:1321,open:7.22,high:7.23,low:7.23,price:7.21,vol:233100,amount:1682955,avprice:7.212},{date:20230707,time:1322,open:7.23,high:7.23,low:7.23,price:7.22,vol:32e3,amount:231174,avprice:7.212},{date:20230707,time:1323,open:7.23,high:7.23,low:7.23,price:7.22,vol:59700,amount:431228,avprice:7.212},{date:20230707,time:1324,open:7.23,high:7.22,low:7.23,price:7.22,vol:40100,amount:289677,avprice:7.212},{date:20230707,time:1325,open:7.23,high:7.23,low:7.23,price:7.23,vol:54600,amount:394757,avprice:7.212},{date:20230707,time:1326,open:7.23,high:7.23,low:7.23,price:7.22,vol:11300,amount:81697,avprice:7.212},{date:20230707,time:1327,open:7.23,high:7.23,low:7.23,price:7.22,vol:11500,amount:83123,avprice:7.212},{date:20230707,time:1328,open:7.23,high:7.23,low:7.23,price:7.22,vol:3600,amount:26027,avprice:7.212},{date:20230707,time:1329,open:7.23,high:7.23,low:7.23,price:7.22,vol:105400,amount:761145,avprice:7.212},{date:20230707,time:1330,open:7.22,high:7.23,low:7.23,price:7.22,vol:53100,amount:383397,avprice:7.212},{date:20230707,time:1331,open:7.22,high:7.23,low:7.23,price:7.22,vol:4e3,amount:28895,avprice:7.212},{date:20230707,time:1332,open:7.23,high:7.22,low:7.23,price:7.22,vol:81e3,amount:584858,avprice:7.212},{date:20230707,time:1333,open:7.22,high:7.22,low:7.22,price:7.21,vol:49100,amount:354218,avprice:7.212},{date:20230707,time:1334,open:7.22,high:7.22,low:7.23,price:7.22,vol:26900,amount:194198,avprice:7.212},{date:20230707,time:1335,open:7.22,high:7.23,low:7.23,price:7.22,vol:14e3,amount:101118,avprice:7.212},{date:20230707,time:1336,open:7.23,high:7.23,low:7.23,price:7.22,vol:2e3,amount:14459,avprice:7.212},{date:20230707,time:1337,open:7.22,high:7.22,low:7.23,price:7.22,vol:35200,amount:254229,avprice:7.212},{date:20230707,time:1338,open:7.22,high:7.22,low:7.23,price:7.22,vol:2700,amount:19504,avprice:7.212},{date:20230707,time:1339,open:7.23,high:7.23,low:7.23,price:7.23,vol:3500,amount:25304,avprice:7.212},{date:20230707,time:1340,open:7.22,high:7.22,low:7.23,price:7.22,vol:28300,amount:204359,avprice:7.212},{date:20230707,time:1341,open:7.23,high:7.23,low:7.23,price:7.22,vol:8600,amount:62165,avprice:7.212},{date:20230707,time:1342,open:7.22,high:7.23,low:7.23,price:7.22,vol:4200,amount:30339,avprice:7.212},{date:20230707,time:1343,open:7.23,high:7.23,low:7.23,price:7.22,vol:7800,amount:56355,avprice:7.212},{date:20230707,time:1344,open:7.23,high:7.22,low:7.23,price:7.22,vol:18400,amount:132977,avprice:7.213},{date:20230707,time:1345,open:7.23,high:7.22,low:7.23,price:7.22,vol:166900,amount:1204938,avprice:7.213},{date:20230707,time:1346,open:7.23,high:7.21,low:7.23,price:7.21,vol:33500,amount:241721,avprice:7.213},{date:20230707,time:1347,open:7.22,high:7.21,low:7.22,price:7.21,vol:27800,amount:200484,avprice:7.213},{date:20230707,time:1348,open:7.22,high:7.21,low:7.22,price:7.21,vol:14300,amount:103140,avprice:7.213},{date:20230707,time:1349,open:7.22,high:7.21,low:7.22,price:7.21,vol:2e3,amount:14439,avprice:7.213},{date:20230707,time:1350,open:7.22,high:7.21,low:7.22,price:7.21,vol:25200,amount:181702,avprice:7.213},{date:20230707,time:1351,open:7.22,high:7.21,low:7.22,price:7.21,vol:66100,amount:476590,avprice:7.213},{date:20230707,time:1352,open:7.21,high:7.21,low:7.22,price:7.21,vol:39100,amount:281913,avprice:7.213},{date:20230707,time:1353,open:7.22,high:7.23,low:7.23,price:7.21,vol:152500,amount:1100990,avprice:7.213},{date:20230707,time:1354,open:7.22,high:7.22,low:7.23,price:7.21,vol:17800,amount:128505,avprice:7.213},{date:20230707,time:1355,open:7.22,high:7.21,low:7.22,price:7.21,vol:22e3,amount:158632,avprice:7.213},{date:20230707,time:1356,open:7.22,high:7.22,low:7.22,price:7.21,vol:11100,amount:80075,avprice:7.213},{date:20230707,time:1357,open:7.21,high:7.21,low:7.22,price:7.21,vol:36900,amount:266075,avprice:7.213},{date:20230707,time:1358,open:7.21,high:7.21,low:7.22,price:7.21,vol:36600,amount:263917,avprice:7.213},{date:20230707,time:1359,open:7.22,high:7.22,low:7.22,price:7.22,vol:7600,amount:54871,avprice:7.213},{date:20230707,time:1400,open:7.22,high:7.22,low:7.22,price:7.21,vol:35400,amount:255556,avprice:7.213},{date:20230707,time:1401,open:7.22,high:7.21,low:7.22,price:7.21,vol:20600,amount:148635,avprice:7.213},{date:20230707,time:1402,open:7.22,high:7.22,low:7.22,price:7.21,vol:9800,amount:70691,avprice:7.213},{date:20230707,time:1403,open:7.22,high:7.22,low:7.22,price:7.21,vol:17800,amount:128497,avprice:7.213},{date:20230707,time:1404,open:7.22,high:7.22,low:7.22,price:7.22,vol:4400,amount:31741,avprice:7.213},{date:20230707,time:1405,open:7.22,high:7.21,low:7.22,price:7.21,vol:73500,amount:529941,avprice:7.213},{date:20230707,time:1406,open:7.21,high:7.21,low:7.22,price:7.21,vol:11200,amount:80761,avprice:7.213},{date:20230707,time:1407,open:7.22,high:7.22,low:7.22,price:7.21,vol:78300,amount:564696,avprice:7.213},{date:20230707,time:1408,open:7.22,high:7.21,low:7.22,price:7.21,vol:43300,amount:312082,avprice:7.213},{date:20230707,time:1409,open:7.22,high:7.21,low:7.22,price:7.21,vol:137700,amount:992983,avprice:7.213},{date:20230707,time:1410,open:7.22,high:7.22,low:7.22,price:7.21,vol:1100,amount:7941,avprice:7.213},{date:20230707,time:1411,open:7.22,high:7.22,low:7.22,price:7.21,vol:2700,amount:19491,avprice:7.213},{date:20230707,time:1412,open:7.22,high:7.22,low:7.22,price:7.21,vol:10500,amount:75798,avprice:7.213},{date:20230707,time:1413,open:7.22,high:7.22,low:7.22,price:7.21,vol:28100,amount:202811,avprice:7.213},{date:20230707,time:1414,open:7.22,high:7.21,low:7.22,price:7.21,vol:12500,amount:90194,avprice:7.213},{date:20230707,time:1415,open:7.22,high:7.22,low:7.22,price:7.21,vol:8600,amount:62090,avprice:7.213},{date:20230707,time:1416,open:7.22,high:7.22,low:7.22,price:7.21,vol:132200,amount:954669,avprice:7.213},{date:20230707,time:1417,open:7.22,high:7.21,low:7.22,price:7.21,vol:87900,amount:634466,avprice:7.213},{date:20230707,time:1418,open:7.22,high:7.22,low:7.22,price:7.21,vol:34700,amount:250223,avprice:7.213},{date:20230707,time:1419,open:7.22,high:7.22,low:7.22,price:7.21,vol:92700,amount:668380,avprice:7.213},{date:20230707,time:1420,open:7.21,high:7.21,low:7.22,price:7.21,vol:32600,amount:235105,avprice:7.213},{date:20230707,time:1421,open:7.21,high:7.22,low:7.22,price:7.21,vol:22100,amount:159350,avprice:7.213},{date:20230707,time:1422,open:7.22,high:7.22,low:7.22,price:7.21,vol:10500,amount:75745,avprice:7.213},{date:20230707,time:1423,open:7.22,high:7.22,low:7.22,price:7.22,vol:9500,amount:68590,avprice:7.213},{date:20230707,time:1424,open:7.22,high:7.22,low:7.22,price:7.21,vol:85200,amount:615143,avprice:7.213},{date:20230707,time:1425,open:7.22,high:7.22,low:7.22,price:7.21,vol:14800,amount:106851,avprice:7.213},{date:20230707,time:1426,open:7.22,high:7.22,low:7.23,price:7.21,vol:161100,amount:1162786,avprice:7.213},{date:20230707,time:1427,open:7.23,high:7.22,low:7.23,price:7.22,vol:28800,amount:207943,avprice:7.213},{date:20230707,time:1428,open:7.22,high:7.23,low:7.23,price:7.22,vol:18700,amount:135071,avprice:7.213},{date:20230707,time:1429,open:7.23,high:7.23,low:7.23,price:7.22,vol:7900,amount:57109,avprice:7.213},{date:20230707,time:1430,open:7.23,high:7.23,low:7.23,price:7.22,vol:20600,amount:148827,avprice:7.213},{date:20230707,time:1431,open:7.23,high:7.22,low:7.23,price:7.22,vol:11400,amount:82418,avprice:7.213},{date:20230707,time:1432,open:7.23,high:7.23,low:7.23,price:7.22,vol:43600,amount:315036,avprice:7.213},{date:20230707,time:1433,open:7.23,high:7.22,low:7.23,price:7.22,vol:34e3,amount:245603,avprice:7.213},{date:20230707,time:1434,open:7.23,high:7.23,low:7.23,price:7.22,vol:14300,amount:103384,avprice:7.213},{date:20230707,time:1435,open:7.23,high:7.22,low:7.23,price:7.22,vol:30900,amount:223375,avprice:7.213},{date:20230707,time:1436,open:7.23,high:7.23,low:7.23,price:7.23,vol:19300,amount:139538,avprice:7.213},{date:20230707,time:1437,open:7.23,high:7.23,low:7.23,price:7.23,vol:61600,amount:445359,avprice:7.213},{date:20230707,time:1438,open:7.23,high:7.23,low:7.23,price:7.23,vol:20800,amount:150384,avprice:7.213},{date:20230707,time:1439,open:7.23,high:7.23,low:7.23,price:7.22,vol:39100,amount:282481,avprice:7.213},{date:20230707,time:1440,open:7.23,high:7.22,low:7.23,price:7.22,vol:32800,amount:236945,avprice:7.213},{date:20230707,time:1441,open:7.23,high:7.22,low:7.23,price:7.22,vol:78200,amount:564782,avprice:7.213},{date:20230707,time:1442,open:7.22,high:7.23,low:7.23,price:7.22,vol:46600,amount:336706,avprice:7.213},{date:20230707,time:1443,open:7.22,high:7.22,low:7.23,price:7.22,vol:98100,amount:708461,avprice:7.214},{date:20230707,time:1444,open:7.22,high:7.21,low:7.23,price:7.21,vol:287900,amount:2078569,avprice:7.214},{date:20230707,time:1445,open:7.22,high:7.22,low:7.22,price:7.21,vol:36700,amount:264881,avprice:7.214},{date:20230707,time:1446,open:7.21,high:7.21,low:7.22,price:7.21,vol:22100,amount:159520,avprice:7.214},{date:20230707,time:1447,open:7.22,high:7.22,low:7.22,price:7.21,vol:63400,amount:457538,avprice:7.214},{date:20230707,time:1448,open:7.22,high:7.23,low:7.23,price:7.21,vol:67e3,amount:483977,avprice:7.214},{date:20230707,time:1449,open:7.22,high:7.22,low:7.23,price:7.22,vol:57600,amount:415923,avprice:7.214},{date:20230707,time:1450,open:7.22,high:7.21,low:7.23,price:7.21,vol:79300,amount:572599,avprice:7.214},{date:20230707,time:1451,open:7.21,high:7.22,low:7.22,price:7.21,vol:60800,amount:438804,avprice:7.214},{date:20230707,time:1452,open:7.22,high:7.22,low:7.22,price:7.21,vol:61900,amount:446809,avprice:7.214},{date:20230707,time:1453,open:7.21,high:7.22,low:7.22,price:7.21,vol:234400,amount:1690114,avprice:7.214},{date:20230707,time:1454,open:7.2,high:7.21,low:7.22,price:7.2,vol:64100,amount:462468,avprice:7.214},{date:20230707,time:1455,open:7.21,high:7.21,low:7.22,price:7.21,vol:128500,amount:926945,avprice:7.214},{date:20230707,time:1456,open:7.21,high:7.22,low:7.22,price:7.21,vol:141400,amount:1020555,avprice:7.214},{date:20230707,time:1457,open:7.21,high:7.21,low:7.23,price:7.21,vol:51900,amount:374693,avprice:7.214},{date:20230707,time:1458,open:7.21,high:7.21,low:7.21,price:7.21,vol:0,amount:0,avprice:7.214},{date:20230707,time:1459,open:7.21,high:7.21,low:7.21,price:7.21,vol:0,amount:0,avprice:7.214},{date:20230707,time:1500,open:7.22,high:7.22,low:7.22,price:7.22,vol:540100,amount:3899522,avprice:7.214}],name:"xxxxxx",yclose:7.21,date:20230707}],code:0},u={data:[[20230829,7.15,7.2,7.2,7.2,7.2,400400,2882880,925],[20230829,7.2,7.18,7.18,7.16,7.16,1034200,7416668,930],[20230829,7.16,7.16,7.18,7.16,7.18,460400,3301719,931],[20230829,7.18,7.18,7.18,7.15,7.17,546500,3915399,932],[20230829,7.17,7.17,7.17,7.15,7.16,570362,4083492,933],[20230829,7.16,7.15,7.17,7.15,7.17,179900,1288424,934],[20230829,7.17,7.16,7.17,7.15,7.16,375700,2690676,935],[20230829,7.16,7.16,7.17,7.14,7.15,421468,3015486,936],[20230829,7.15,7.16,7.16,7.14,7.15,270100,1931904,937],[20230829,7.15,7.16,7.16,7.14,7.15,270660,1934274,938],[20230829,7.15,7.15,7.15,7.12,7.13,759200,5409818,939],[20230829,7.13,7.13,7.15,7.13,7.14,379500,2709260,940],[20230829,7.14,7.14,7.16,7.14,7.16,257400,1840404,941],[20230829,7.16,7.15,7.15,7.13,7.15,239900,1714476,942],[20230829,7.15,7.15,7.16,7.14,7.16,420800,3011536,943],[20230829,7.16,7.15,7.16,7.14,7.15,550600,3935324,944],[20230829,7.15,7.15,7.15,7.12,7.14,367100,2619028,945],[20230829,7.14,7.14,7.15,7.12,7.14,707600,5050348,946],[20230829,7.14,7.13,7.14,7.12,7.14,303700,2166520,947],[20230829,7.14,7.14,7.14,7.12,7.13,242800,1730756,948],[20230829,7.13,7.13,7.13,7.11,7.12,324900,2314416,949],[20230829,7.12,7.13,7.13,7.11,7.12,816900,5808896,950],[20230829,7.12,7.11,7.13,7.1,7.12,347700,2473184,951],[20230829,7.12,7.12,7.12,7.11,7.11,168100,1196240,952],[20230829,7.11,7.12,7.13,7.11,7.12,280300,1995568,953],[20230829,7.12,7.12,7.13,7.11,7.12,217462,1547240,954],[20230829,7.12,7.12,7.12,7.11,7.11,343167,2441480,955],[20230829,7.11,7.11,7.11,7.1,7.11,187100,1329824,956],[20230829,7.11,7.11,7.11,7.1,7.11,124400,884440,957],[20230829,7.11,7.11,7.12,7.11,7.12,106172,755336,958],[20230829,7.12,7.12,7.12,7.1,7.11,121228,861760,959],[20230829,7.11,7.11,7.12,7.1,7.12,290900,2068984,1e3],[20230829,7.12,7.11,7.11,7.09,7.1,714800,5072976,1001],[20230829,7.1,7.09,7.1,7.09,7.1,189800,1346760,1002],[20230829,7.1,7.1,7.1,7.08,7.1,371700,2634968,1003],[20230829,7.1,7.09,7.09,7.08,7.08,132800,941384,1004],[20230829,7.08,7.09,7.09,7.08,7.09,276e3,1955488,1005],[20230829,7.09,7.08,7.08,7.07,7.07,955800,6762696,1006],[20230829,7.07,7.06,7.08,7.06,7.07,259118,1832832,1007],[20230829,7.07,7.08,7.08,7.07,7.08,180500,1277368,1008],[20230829,7.08,7.07,7.09,7.07,7.08,735e3,5203624,1009],[20230829,7.08,7.08,7.08,7.07,7.08,240800,1704016,1010],[20230829,7.08,7.07,7.09,7.07,7.09,178200,1261904,1011],[20230829,7.09,7.09,7.09,7.07,7.08,264800,1874400,1012],[20230829,7.08,7.09,7.09,7.07,7.08,200400,1417952,1013],[20230829,7.08,7.09,7.09,7.07,7.08,78300,554064,1014],[20230829,7.08,7.07,7.07,7.06,7.07,632500,4470280,1015],[20230829,7.07,7.07,7.07,7.06,7.07,111800,789968,1016],[20230829,7.07,7.07,7.07,7.06,7.07,97500,689120,1017],[20230829,7.07,7.07,7.07,7.06,7.07,226200,1599152,1018],[20230829,7.07,7.07,7.07,7.06,7.07,194400,1373632,1019],[20230829,7.07,7.07,7.07,7.06,7.07,121600,859648,1020],[20230829,7.07,7.07,7.07,7.06,7.06,109900,776856,1021],[20230829,7.06,7.07,7.07,7.06,7.07,535e3,3781704,1022],[20230829,7.07,7.08,7.08,7.07,7.07,135200,956016,1023],[20230829,7.07,7.07,7.07,7.06,7.07,767300,5417920,1024],[20230829,7.07,7.07,7.07,7.06,7.07,54500,385152,1025],[20230829,7.07,7.07,7.07,7.06,7.07,210700,1489456,1026],[20230829,7.07,7.06,7.08,7.06,7.06,133300,942464,1027],[20230829,7.06,7.07,7.08,7.06,7.07,215200,1521600,1028],[20230829,7.07,7.08,7.08,7.06,7.07,140400,992800,1029],[20230829,7.07,7.07,7.07,7.06,7.06,186900,1320256,1030],[20230829,7.06,7.07,7.07,7.06,7.07,146400,1034912,1031],[20230829,7.07,7.07,7.07,7.06,7.07,123600,873728,1032],[20230829,7.07,7.07,7.07,7.06,7.06,661500,467e4,1033],[20230829,7.06,7.06,7.06,7.05,7.05,514700,3628912,1034],[20230829,7.05,7.06,7.06,7.05,7.06,98900,697840,1035],[20230829,7.06,7.06,7.06,7.04,7.05,794100,5594240,1036],[20230829,7.05,7.04,7.05,7.03,7.05,384900,2708880,1037],[20230829,7.05,7.05,7.05,7.04,7.05,473200,3332960,1038],[20230829,7.05,7.05,7.06,7.04,7.05,379300,2670048,1039],[20230829,7.05,7.04,7.05,7.04,7.05,58500,411632,1040],[20230829,7.05,7.05,7.05,7.04,7.05,168400,1186752,1041],[20230829,7.05,7.06,7.06,7.05,7.06,258500,1823360,1042],[20230829,7.06,7.06,7.06,7.05,7.06,45800,323280,1043],[20230829,7.06,7.06,7.06,7.05,7.06,388800,2745472,1044],[20230829,7.06,7.06,7.07,7.05,7.06,373600,2637152,1045],[20230829,7.06,7.06,7.06,7.05,7.06,254400,1795520,1046],[20230829,7.06,7.06,7.06,7.05,7.05,14e4,987568,1047],[20230829,7.05,7.05,7.06,7.05,7.06,69800,492784,1048],[20230829,7.06,7.06,7.07,7.05,7.07,114400,807712,1049],[20230829,7.07,7.06,7.06,7.05,7.06,61400,433456,1050],[20230829,7.06,7.06,7.06,7.05,7.06,161100,1137088,1051],[20230829,7.06,7.06,7.07,7.05,7.06,190900,1347232,1052],[20230829,7.06,7.06,7.06,7.05,7.06,127100,896848,1053],[20230829,7.06,7.07,7.07,7.05,7.05,95900,676848,1054],[20230829,7.05,7.06,7.06,7.05,7.05,141900,1000832,1055],[20230829,7.05,7.05,7.06,7.05,7.05,63700,449712,1056],[20230829,7.05,7.06,7.06,7.05,7.06,155100,1094960,1057],[20230829,7.06,7.06,7.07,7.05,7.06,181600,1282256,1058],[20230829,7.06,7.06,7.07,7.06,7.07,208700,1474912,1059],[20230829,7.07,7.06,7.07,7.06,7.07,209800,1483088,1100],[20230829,7.07,7.06,7.07,7.05,7.06,286500,2023312,1101],[20230829,7.06,7.06,7.06,7.05,7.06,240300,1695200,1102],[20230829,7.06,7.07,7.07,7.06,7.07,83100,587088,1103],[20230829,7.07,7.07,7.07,7.06,7.07,157600,1113968,1104],[20230829,7.07,7.07,7.07,7.06,7.07,146100,1033008,1105],[20230829,7.07,7.07,7.07,7.06,7.07,269700,1904592,1106],[20230829,7.07,7.07,7.08,7.07,7.08,124100,878256,1107],[20230829,7.08,7.08,7.08,7.07,7.08,24300,172016,1108],[20230829,7.08,7.07,7.08,7.07,7.07,43600,308368,1109],[20230829,7.07,7.08,7.08,7.06,7.07,191900,1356752,1110],[20230829,7.07,7.06,7.08,7.06,7.06,159900,1130416,1111],[20230829,7.06,7.07,7.08,7.06,7.07,107200,758080,1112],[20230829,7.07,7.07,7.08,7.06,7.07,111500,788496,1113],[20230829,7.07,7.07,7.08,7.06,7.07,147500,1043744,1114],[20230829,7.07,7.07,7.08,7.07,7.07,61800,437312,1115],[20230829,7.07,7.08,7.08,7.07,7.07,223400,1579840,1116],[20230829,7.07,7.08,7.08,7.07,7.08,81400,576288,1117],[20230829,7.08,7.08,7.08,7.07,7.08,34500,244256,1118],[20230829,7.08,7.08,7.08,7.07,7.08,45e3,318560,1119],[20230829,7.08,7.08,7.09,7.08,7.08,357600,2532e3,1120],[20230829,7.08,7.08,7.08,7.07,7.08,139600,988176,1121],[20230829,7.08,7.08,7.08,7.07,7.08,46900,332048,1122],[20230829,7.08,7.08,7.08,7.07,7.08,120700,854544,1123],[20230829,7.08,7.08,7.08,7.07,7.08,65e3,460096,1124],[20230829,7.08,7.09,7.09,7.07,7.09,160100,1134016,1125],[20230829,7.09,7.09,7.1,7.08,7.09,211800,1501920,1126],[20230829,7.09,7.09,7.1,7.08,7.09,112100,794944,1127],[20230829,7.09,7.09,7.1,7.08,7.09,105015,744336,1128],[20230829,7.09,7.1,7.1,7.09,7.1,74500,528736,1129],[20230829,7.1,7.1,7.1,7.1,7.1,500,3536,1130],[20230829,7.1,7.1,7.1,7.07,7.08,912185,6469088,1300],[20230829,7.08,7.08,7.08,7.07,7.07,83200,588944,1301],[20230829,7.07,7.08,7.08,7.06,7.06,695300,4913776,1302],[20230829,7.06,7.06,7.07,7.06,7.07,30900,218432,1303],[20230829,7.07,7.06,7.07,7.05,7.07,339500,2397168,1304],[20230829,7.07,7.07,7.07,7.06,7.07,86200,609424,1305],[20230829,7.07,7.07,7.07,7.06,7.07,34700,245232,1306],[20230829,7.07,7.07,7.08,7.07,7.08,158500,1120720,1307],[20230829,7.08,7.08,7.09,7.07,7.08,493283,3492096,1308],[20230829,7.08,7.08,7.09,7.08,7.09,112217,794608,1309],[20230829,7.09,7.09,7.09,7.08,7.09,61600,436576,1310],[20230829,7.09,7.09,7.09,7.08,7.09,62900,445872,1311],[20230829,7.09,7.09,7.09,7.08,7.08,41100,291328,1312],[20230829,7.08,7.08,7.09,7.08,7.08,62e3,439504,1313],[20230829,7.08,7.09,7.09,7.08,7.09,80900,573360,1314],[20230829,7.09,7.08,7.09,7.07,7.07,276800,1960816,1315],[20230829,7.07,7.08,7.08,7.07,7.07,37600,266032,1316],[20230829,7.07,7.08,7.08,7.07,7.08,135100,955744,1317],[20230829,7.08,7.08,7.08,7.07,7.07,53700,380048,1318],[20230829,7.07,7.08,7.09,7.07,7.09,343300,2431072,1319],[20230829,7.09,7.08,7.08,7.07,7.07,46600,329792,1320],[20230829,7.07,7.08,7.08,7.07,7.08,157600,1115344,1321],[20230829,7.08,7.08,7.08,7.07,7.07,80500,569792,1322],[20230829,7.07,7.08,7.08,7.07,7.08,117300,830576,1323],[20230829,7.08,7.08,7.09,7.07,7.08,56e3,396480,1324],[20230829,7.08,7.08,7.08,7.07,7.08,62200,440336,1325],[20230829,7.08,7.08,7.08,7.07,7.08,135700,960816,1326],[20230829,7.08,7.08,7.09,7.07,7.09,108e3,764640,1327],[20230829,7.09,7.09,7.09,7.08,7.08,77500,548880,1328],[20230829,7.08,7.08,7.08,7.07,7.08,71200,504176,1329],[20230829,7.08,7.08,7.08,7.07,7.08,101500,718480,1330],[20230829,7.08,7.08,7.08,7.07,7.08,45e3,318496,1331],[20230829,7.08,7.07,7.08,7.07,7.07,140400,994e3,1332],[20230829,7.07,7.08,7.08,7.07,7.08,13800,97696,1333],[20230829,7.08,7.08,7.09,7.07,7.07,60900,431072,1334],[20230829,7.07,7.08,7.09,7.08,7.08,95900,679424,1335],[20230829,7.08,7.09,7.09,7.08,7.08,105200,745056,1336],[20230829,7.08,7.08,7.1,7.08,7.1,423277,3001056,1337],[20230829,7.1,7.09,7.1,7.09,7.09,54900,389472,1338],[20230829,7.09,7.1,7.1,7.09,7.1,73200,519552,1339],[20230829,7.1,7.1,7.1,7.09,7.09,522300,3705344,1340],[20230829,7.09,7.09,7.1,7.08,7.08,176600,1252320,1341],[20230829,7.08,7.08,7.09,7.08,7.09,95900,679680,1342],[20230829,7.09,7.09,7.09,7.08,7.08,147500,1045728,1343],[20230829,7.08,7.09,7.09,7.08,7.09,103700,735168,1344],[20230829,7.09,7.09,7.09,7.08,7.09,20800,147456,1345],[20230829,7.09,7.09,7.09,7.07,7.08,398500,2821152,1346],[20230829,7.08,7.07,7.08,7.07,7.08,86100,609408,1347],[20230829,7.08,7.08,7.09,7.07,7.08,227200,1608608,1348],[20230829,7.08,7.08,7.09,7.08,7.08,73800,523104,1349],[20230829,7.08,7.09,7.09,7.08,7.08,92100,652384,1350],[20230829,7.08,7.09,7.09,7.08,7.09,71e3,503264,1351],[20230829,7.09,7.08,7.1,7.08,7.09,80828,573024,1352],[20230829,7.09,7.09,7.09,7.08,7.08,45e3,319040,1353],[20230829,7.08,7.09,7.09,7.08,7.09,50800,360064,1354],[20230829,7.09,7.08,7.09,7.08,7.08,36200,256480,1355],[20230829,7.08,7.08,7.09,7.07,7.08,311700,2206784,1356],[20230829,7.08,7.08,7.09,7.07,7.09,58300,412800,1357],[20230829,7.09,7.09,7.09,7.08,7.08,22200,157248,1358],[20230829,7.08,7.08,7.09,7.07,7.08,113500,803648,1359],[20230829,7.08,7.08,7.08,7.07,7.08,117500,831840,1400],[20230829,7.08,7.08,7.08,7.07,7.08,15900,112544,1401],[20230829,7.08,7.08,7.08,7.08,7.08,54600,386432,1402],[20230829,7.08,7.08,7.09,7.07,7.08,220900,1563616,1403],[20230829,7.08,7.08,7.09,7.08,7.08,45900,325152,1404],[20230829,7.08,7.09,7.09,7.08,7.09,43600,309088,1405],[20230829,7.09,7.08,7.09,7.08,7.09,40700,288384,1406],[20230829,7.09,7.09,7.09,7.08,7.08,69600,493056,1407],[20230829,7.08,7.09,7.09,7.08,7.08,55600,393952,1408],[20230829,7.08,7.09,7.09,7.08,7.08,26200,185664,1409],[20230829,7.08,7.08,7.09,7.08,7.08,93542,663040,1410],[20230829,7.08,7.09,7.09,7.07,7.07,485258,3435552,1411],[20230829,7.07,7.07,7.08,7.07,7.07,21300,150688,1412],[20230829,7.07,7.08,7.08,7.07,7.07,58400,413184,1413],[20230829,7.07,7.08,7.08,7.07,7.07,25100,177568,1414],[20230829,7.07,7.08,7.08,7.07,7.07,41700,294976,1415],[20230829,7.07,7.07,7.08,7.07,7.07,56200,397568,1416],[20230829,7.07,7.08,7.08,7.08,7.08,219100,1550592,1417],[20230829,7.08,7.08,7.08,7.07,7.07,51100,361472,1418],[20230829,7.07,7.07,7.08,7.07,7.08,21e3,148576,1419],[20230829,7.08,7.07,7.08,7.07,7.08,64100,453408,1420],[20230829,7.08,7.08,7.08,7.07,7.08,61800,437376,1421],[20230829,7.08,7.08,7.08,7.07,7.08,110400,780704,1422],[20230829,7.08,7.08,7.08,7.07,7.08,15200,107552,1423],[20230829,7.08,7.08,7.08,7.07,7.07,18200,128736,1424],[20230829,7.07,7.08,7.08,7.07,7.08,61500,435008,1425],[20230829,7.08,7.08,7.08,7.07,7.07,40900,289376,1426],[20230829,7.07,7.07,7.08,7.07,7.07,11e3,77792,1427],[20230829,7.07,7.07,7.08,7.07,7.07,36600,258848,1428],[20230829,7.07,7.08,7.08,7.07,7.08,28e3,198112,1429],[20230829,7.08,7.07,7.08,7.07,7.07,107600,761568,1430],[20230829,7.07,7.07,7.08,7.07,7.07,89e3,629376,1431],[20230829,7.07,7.08,7.08,7.07,7.07,42100,297792,1432],[20230829,7.07,7.07,7.08,7.07,7.07,702900,4968352,1433],[20230829,7.07,7.06,7.07,7.06,7.06,28800,203392,1434],[20230829,7.06,7.06,7.07,7.06,7.07,86300,609952,1435],[20230829,7.07,7.07,7.07,7.07,7.07,127700,902528,1436],[20230829,7.07,7.07,7.07,7.06,7.06,37100,262240,1437],[20230829,7.06,7.06,7.07,7.06,7.06,75100,530592,1438],[20230829,7.06,7.06,7.08,7.06,7.07,263400,1861536,1439],[20230829,7.07,7.07,7.07,7.06,7.07,156700,1107360,1440],[20230829,7.07,7.07,7.07,7.06,7.07,79572,562496,1441],[20230829,7.07,7.06,7.07,7.06,7.07,144800,1023488,1442],[20230829,7.07,7.07,7.08,7.07,7.07,175500,1240576,1443],[20230829,7.07,7.07,7.07,7.06,7.07,66243,468256,1444],[20230829,7.07,7.06,7.08,7.06,7.08,626400,4429280,1445],[20230829,7.08,7.07,7.08,7.06,7.07,512100,3624032,1446],[20230829,7.07,7.07,7.08,7.06,7.07,86200,609216,1447],[20230829,7.07,7.07,7.07,7.06,7.07,63900,451712,1448],[20230829,7.07,7.07,7.07,7.06,7.06,84700,598528,1449],[20230829,7.06,7.06,7.07,7.06,7.07,369700,2614144,1450],[20230829,7.07,7.06,7.07,7.06,7.07,358443,2533152,1451],[20230829,7.07,7.07,7.07,7.06,7.06,229300,1620832,1452],[20230829,7.06,7.07,7.08,7.06,7.08,144468,1021440,1453],[20230829,7.08,7.07,7.08,7.07,7.07,140300,992448,1454],[20230829,7.07,7.07,7.08,7.07,7.08,413800,2928416,1455],[20230829,7.08,7.07,7.09,7.07,7.08,182800,1294080,1456],[20230829,7.08,7.09,7.09,7.09,7.09,0,0,1457],[20230829,7.09,7.09,7.09,7.09,7.09,0,0,1458],[20230829,7.09,7.09,7.09,7.09,7.09,0,0,1459],[20230829,7.09,7.07,7.07,7.07,7.07,1212692,8573760,1500]],symbol:"600000.sh",name:"xxxxxxx",version:"2.0",code:0};a.Explain="本地测试数据",a.NetworkFilter=function(t,e){switch(console.log("[HQData::NetworkFilter] "+a.Explain,t),t.Name){case"MinuteChartContainer::RequestMinuteData":a.RequestMinuteData(t,e);break;case"MinuteChartContainer::RequestHistoryMinuteData":a.RequestMinuteDaysData(t,e);break;case"KLineChartContainer::RequestHistoryData":a.RequestHistoryData(t,e);break;case"KLineChartContainer::RequestRealtimeData":a.RequestRealtimeData(t,e);break;case"KLineChartContainer::RequestFlowCapitalData":a.RequestFlowCapitalData(t,e);break;case"KLineChartContainer::ReqeustHistoryMinuteData":a.RequestHistoryMinuteData(t,e);break;case"KLineChartContainer::RequestMinuteRealtimeData":a.RequestMinuteRealtimeData(t,e)}},a.RequestMinuteData=function(t,e){t.PreventDefault=!0;var i=t.Request.Data.symbol[0];t.Request.Data.daycount;console.log("[HQData::RequestMinuteData] Symbol="+i);var a=h;a.stock[0].symbol=i,a.stock[0].name=i,e(a)},a.RequestMinuteDaysData=function(t,e){t.PreventDefault=!0;var i=t.Request.Data.symbol;t.Request.Data.daycount;console.log("[HQData::RequestMinuteDaysData] Symbol="+i);var a=o;a.symbol=i,a.name=i,e(a)},a.RequestHistoryData=function(t,e){t.PreventDefault=!0;var i=t.Request.Data.symbol;console.log("[HQData::RequestMinuteDaysData] Symbol="+i);var a=l;a.symbol=i,a.name=i,e(a)},a.RequestFlowCapitalData=function(t,e){t.PreventDefault=!0;var i=t.Request.Data.symbol;console.log("[HQData::RequestFlowCapitalData] Symbol="+i),e(s)},a.RequestRealtimeData=function(t,e){t.PreventDefault=!0;var i=t.Request.Data.symbol[0];console.log("[HQData::RequestRealtimeData] Symbol="+i);var a=r;a.stock[0].name=i,a.stock[0].symbol=i,e(a)},a.RequestHistoryMinuteData=function(t,e){t.PreventDefault=!0;var i=t.Request.Data.symbol;console.log("[HQData::RequestHistoryMinuteData] Symbol="+i);var a=u;a.name=i,a.symbol=i,e(a)},a.RequestMinuteRealtimeData=function(t,e){t.PreventDefault=!0;var i=t.Request.Data.symbol[0];console.log("[HQData::RequestMinuteRealtimeData] Symbol="+i);var a=n;a.name=i,a.symbol=i,e(a)},e.default={HQData:a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=(i(3),i(47));i.n(a)},function(t,e,i){(function(t,e){!function(t,i){"use strict";function a(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var a={callback:t,args:e};return h[l]=a,s(l),l++}function r(t){delete h[t]}function n(t){var e=t.callback,a=t.args;switch(a.length){case 0:e();break;case 1:e(a[0]);break;case 2:e(a[0],a[1]);break;case 3:e(a[0],a[1],a[2]);break;default:e.apply(i,a)}}function o(t){if(u)setTimeout(o,0,t);else{var e=h[t];if(e){u=!0;try{n(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var s,l=1,h={},u=!1,c=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){o(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?function(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(e)&&o(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),s=function(i){t.postMessage(e+i,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){o(t.data)},s=function(e){t.port2.postMessage(e)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var t=c.documentElement;s=function(e){var i=c.createElement("script");i.onreadystatechange=function(){o(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}():function(){s=function(t){setTimeout(o,0,t)}}(),d.setImmediate=a,d.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,i(24),i(125))},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function n(t){if(c===clearTimeout)return clearTimeout(t);if((c===a||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function o(){m&&f&&(m=!1,f.length?p=f.concat(p):C=-1,p.length&&s())}function s(){if(!m){var t=r(o);m=!0;for(var e=p.length;e;){for(f=p,p=[];++C<e;)f&&f[C].run();C=-1,e=p.length}f=null,m=!1,n(t)}}function l(t,e){this.fun=t,this.array=e}function h(){}var u,c,d=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(t){u=i}try{c="function"==typeof clearTimeout?clearTimeout:a}catch(t){c=a}}();var f,p=[],m=!1,C=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||m||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=h,d.addListener=h,d.once=h,d.off=h,d.removeListener=h,d.removeAllListeners=h,d.emit=h,d.prependListener=h,d.prependOnceListener=h,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,i){"use strict";function a(t,e,i,a){for(var r=e;r<i;r++)t[r]=a}e.__esModule=!0,e.validateRangeInOneMonth=e.extractTimeFormat=e.extractDateFormat=e.nextYear=e.prevYear=e.nextMonth=e.prevMonth=e.changeYearMonthAndClampDate=e.timeWithinRange=e.limitTimeRange=e.clearMilliseconds=e.clearTime=e.modifyWithTimeString=e.modifyTime=e.modifyDate=e.range=e.getRangeMinutes=e.getMonthDays=e.getPrevMonthLastDays=e.getRangeHours=e.getWeekNumber=e.getStartDateOfMonth=e.nextDate=e.prevDate=e.getFirstDayOfMonth=e.getDayCountOfYear=e.getDayCountOfMonth=e.parseDate=e.formatDate=e.isDateObject=e.isDate=e.toDate=e.getI18nSettings=void 0;var r=i(82),n=function(t){return t&&t.__esModule?t:{default:t}}(r),o=i(48),s=["sun","mon","tue","wed","thu","fri","sat"],l=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],h=function(t,e){for(var i=[],a=t;a<=e;a++)i.push(a);return i},u=e.getI18nSettings=function(){return{dayNamesShort:s.map(function(t){return(0,o.t)("el.datepicker.weeks."+t)}),dayNames:s.map(function(t){return(0,o.t)("el.datepicker.weeks."+t)}),monthNamesShort:l.map(function(t){return(0,o.t)("el.datepicker.months."+t)}),monthNames:l.map(function(t,e){return(0,o.t)("el.datepicker.month"+(e+1))}),amPm:["am","pm"]}},c=e.toDate=function(t){return d(t)?new Date(t):null},d=e.isDate=function(t){return null!==t&&void 0!==t&&(!isNaN(new Date(t).getTime())&&!Array.isArray(t))},f=(e.isDateObject=function(t){return t instanceof Date},e.formatDate=function(t,e){return t=c(t),t?n.default.format(t,e||"yyyy-MM-dd",u()):""},e.parseDate=function(t,e){return n.default.parse(t,e||"yyyy-MM-dd",u())}),p=e.getDayCountOfMonth=function(t,e){return 3===e||5===e||8===e||10===e?30:1===e?t%4==0&&t%100!=0||t%400==0?29:28:31},m=(e.getDayCountOfYear=function(t){return t%400==0||t%100!=0&&t%4==0?366:365},e.getFirstDayOfMonth=function(t){var e=new Date(t.getTime());return e.setDate(1),e.getDay()},e.prevDate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(t.getFullYear(),t.getMonth(),t.getDate()-e)}),C=(e.nextDate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)},e.getStartDateOfMonth=function(t,e){var i=new Date(t,e,1),a=i.getDay();return 0===a?m(i,7):m(i,a)},e.getWeekNumber=function(t){if(!d(t))return null;var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var i=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},e.getRangeHours=function(t){var e=[],i=[];if((t||[]).forEach(function(t){var e=t.map(function(t){return t.getHours()});i=i.concat(h(e[0],e[1]))}),i.length)for(var a=0;a<24;a++)e[a]=-1===i.indexOf(a);else for(var r=0;r<24;r++)e[r]=!1;return e},e.getPrevMonthLastDays=function(t,e){if(e<=0)return[];var i=new Date(t.getTime());i.setDate(0);var a=i.getDate();return C(e).map(function(t,i){return a-(e-i-1)})},e.getMonthDays=function(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0),i=e.getDate();return C(i).map(function(t,e){return e+1})},e.getRangeMinutes=function(t,e){var i=new Array(60);return t.length>0?t.forEach(function(t){var r=t[0],n=t[1],o=r.getHours(),s=r.getMinutes(),l=n.getHours(),h=n.getMinutes();o===e&&l!==e?a(i,s,60,!0):o===e&&l===e?a(i,s,h+1,!0):o!==e&&l===e?a(i,0,h+1,!0):o<e&&l>e&&a(i,0,60,!0)}):a(i,0,60,!0),i},e.range=function(t){return Array.apply(null,{length:t}).map(function(t,e){return e})}),v=e.modifyDate=function(t,e,i,a){return new Date(e,i,a,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},D=e.modifyTime=function(t,e,i,a){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e,i,a,t.getMilliseconds())},g=(e.modifyWithTimeString=function(t,e){return null!=t&&e?(e=f(e,"HH:mm:ss"),D(t,e.getHours(),e.getMinutes(),e.getSeconds())):t},e.clearTime=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.clearMilliseconds=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),0)},e.limitTimeRange=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm:ss";if(0===e.length)return t;var a=function(t){return n.default.parse(n.default.format(t,i),i)},r=a(t),o=e.map(function(t){return t.map(a)});if(o.some(function(t){return r>=t[0]&&r<=t[1]}))return t;var s=o[0][0],l=o[0][0];return o.forEach(function(t){s=new Date(Math.min(t[0],s)),l=new Date(Math.max(t[1],s))}),v(r<s?s:l,t.getFullYear(),t.getMonth(),t.getDate())}),S=(e.timeWithinRange=function(t,e,i){return g(t,e,i).getTime()===t.getTime()},e.changeYearMonthAndClampDate=function(t,e,i){var a=Math.min(t.getDate(),p(e,i));return v(t,e,i,a)});e.prevMonth=function(t){var e=t.getFullYear(),i=t.getMonth();return 0===i?S(t,e-1,11):S(t,e,i-1)},e.nextMonth=function(t){var e=t.getFullYear(),i=t.getMonth();return 11===i?S(t,e+1,0):S(t,e,i+1)},e.prevYear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.getFullYear(),a=t.getMonth();return S(t,i-e,a)},e.nextYear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.getFullYear(),a=t.getMonth();return S(t,i+e,a)},e.extractDateFormat=function(t){return t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim()},e.extractTimeFormat=function(t){return t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?y{2,4}/g,"").trim()},e.validateRangeInOneMonth=function(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}},function(t,e,i){"use strict";e.__esModule=!0,e.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},empty:{description:"暂无数据"}}}},function(t,e,i){"use strict";function a(t){return!!t&&"object"==typeof t}function r(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||n(t)}function n(t){return t.$$typeof===f}function o(t){return Array.isArray(t)?[]:{}}function s(t,e){return e&&!0===e.clone&&c(t)?u(o(t),t,e):t}function l(t,e,i){var a=t.slice();return e.forEach(function(e,r){void 0===a[r]?a[r]=s(e,i):c(e)?a[r]=u(t[r],e,i):-1===t.indexOf(e)&&a.push(s(e,i))}),a}function h(t,e,i){var a={};return c(t)&&Object.keys(t).forEach(function(e){a[e]=s(t[e],i)}),Object.keys(e).forEach(function(r){c(e[r])&&t[r]?a[r]=u(t[r],e[r],i):a[r]=s(e[r],i)}),a}function u(t,e,i){var a=Array.isArray(e),r=Array.isArray(t),n=i||{arrayMerge:l};if(a===r)return a?(n.arrayMerge||l)(t,e,i):h(t,e,i);return s(e,i)}var c=function(t){return a(t)&&!r(t)},d="function"==typeof Symbol&&Symbol.for,f=d?Symbol.for("react.element"):60103;u.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,i){return u(t,i,e)})};var p=u;t.exports=p},function(t,e,i){"use strict";e.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){function e(t){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return 1===i.length&&"object"===a(i[0])&&(i=i[0]),i&&i.hasOwnProperty||(i={}),t.replace(n,function(e,a,n,o){var s=void 0;return"{"===t[o-1]&&"}"===t[o+e.length]?n:(s=(0,r.hasOwn)(i,n)?i[n]:null,null===s||void 0===s?"":s)})}return e};var r=i(10),n=/(%|)\{([0-9a-zA-Z_]+)\}/g},function(t,e,i){"use strict";e.__esModule=!0;var a=i(3),r=function(t){return t&&t.__esModule?t:{default:t}}(a),n=i(12),o=!1,s=!1,l=void 0,h=function(){if(!r.default.prototype.$isServer){var t=c.modalDom;return t?o=!0:(o=!1,t=document.createElement("div"),c.modalDom=t,t.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("click",function(){c.doOnModalClick&&c.doOnModalClick()})),t}},u={},c={modalFade:!0,getInstance:function(t){return u[t]},register:function(t,e){t&&e&&(u[t]=e)},deregister:function(t){t&&(u[t]=null,delete u[t])},nextZIndex:function(){return c.zIndex++},modalStack:[],doOnModalClick:function(){var t=c.modalStack[c.modalStack.length-1];if(t){var e=c.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,i,a,s){if(!r.default.prototype.$isServer&&t&&void 0!==e){this.modalFade=s;for(var l=this.modalStack,u=0,c=l.length;u<c;u++){if(l[u].id===t)return}var d=h();if((0,n.addClass)(d,"v-modal"),this.modalFade&&!o&&(0,n.addClass)(d,"v-modal-enter"),a){a.trim().split(/\s+/).forEach(function(t){return(0,n.addClass)(d,t)})}setTimeout(function(){(0,n.removeClass)(d,"v-modal-enter")},200),i&&i.parentNode&&11!==i.parentNode.nodeType?i.parentNode.appendChild(d):document.body.appendChild(d),e&&(d.style.zIndex=e),d.tabIndex=0,d.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:a})}},closeModal:function(t){var e=this.modalStack,i=h();if(e.length>0){var a=e[e.length-1];if(a.id===t){if(a.modalClass){a.modalClass.trim().split(/\s+/).forEach(function(t){return(0,n.removeClass)(i,t)})}e.pop(),e.length>0&&(i.style.zIndex=e[e.length-1].zIndex)}else for(var r=e.length-1;r>=0;r--)if(e[r].id===t){e.splice(r,1);break}}0===e.length&&(this.modalFade&&(0,n.addClass)(i,"v-modal-leave"),setTimeout(function(){0===e.length&&(i.parentNode&&i.parentNode.removeChild(i),i.style.display="none",c.modalDom=void 0),(0,n.removeClass)(i,"v-modal-leave")},200))}};Object.defineProperty(c,"zIndex",{configurable:!0,get:function(){return s||(l=l||(r.default.prototype.$ELEMENT||{}).zIndex||2e3,s=!0),l},set:function(t){l=t}});var d=function(){if(!r.default.prototype.$isServer&&c.modalStack.length>0){var t=c.modalStack[c.modalStack.length-1];if(!t)return;return c.getInstance(t.id)}};r.default.prototype.$isServer||window.addEventListener("keydown",function(t){if(27===t.keyCode){var e=d();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}}),e.default=c},function(t,e,i){"use strict";var a,r;"function"==typeof Symbol&&Symbol.iterator;!function(n,o){a=o,void 0!==(r="function"==typeof a?a.call(e,i,e,t):a)&&(t.exports=r)}(0,function(){function t(t,e,i){this._reference=t.jquery?t[0]:t,this.state={};var a=void 0===e||null===e,r=e&&"[object Object]"===Object.prototype.toString.call(e);return this._popper=a||r?this.parse(r?e:{}):e.jquery?e[0]:e,this._options=Object.assign({},C,i),this._options.modifiers=this._options.modifiers.map(function(t){if(-1===this._options.modifiersIgnored.indexOf(t))return"applyStyle"===t&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[t]||t}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),h(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function e(t){var e=t.style.display,i=t.style.visibility;t.style.display="block",t.style.visibility="hidden";var a=(t.offsetWidth,m.getComputedStyle(t)),r=parseFloat(a.marginTop)+parseFloat(a.marginBottom),n=parseFloat(a.marginLeft)+parseFloat(a.marginRight),o={width:t.offsetWidth+n,height:t.offsetHeight+r};return t.style.display=e,t.style.visibility=i,o}function i(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function a(t){var e=Object.assign({},t);return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function r(t,e){var i,a=0;for(i in t){if(t[i]===e)return a;a++}return null}function n(t,e){return m.getComputedStyle(t,null)[e]}function o(t){var e=t.offsetParent;return e!==m.document.body&&e?e:m.document.documentElement}function s(t){var e=t.parentNode;return e?e===m.document?m.document.body.scrollTop||m.document.body.scrollLeft?m.document.body:m.document.documentElement:-1!==["scroll","auto"].indexOf(n(e,"overflow"))||-1!==["scroll","auto"].indexOf(n(e,"overflow-x"))||-1!==["scroll","auto"].indexOf(n(e,"overflow-y"))?e:s(t.parentNode):t}function l(t){return t!==m.document.body&&("fixed"===n(t,"position")||(t.parentNode?l(t.parentNode):t))}function h(t,e){function i(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}Object.keys(e).forEach(function(a){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(a)&&i(e[a])&&(r="px"),t.style[a]=e[a]+r})}function u(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function c(t){var e={width:t.offsetWidth,height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function d(t){var e=t.getBoundingClientRect(),i=-1!=navigator.userAgent.indexOf("MSIE"),a=i&&"HTML"===t.tagName?-t.scrollTop:e.top;return{left:e.left,top:a,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-a}}function f(t,e,i){var a=d(t),r=d(e);if(i){var n=s(e);r.top+=n.scrollTop,r.bottom+=n.scrollTop,r.left+=n.scrollLeft,r.right+=n.scrollLeft}return{top:a.top-r.top,left:a.left-r.left,bottom:a.top-r.top+a.height,right:a.left-r.left+a.width,width:a.width,height:a.height}}function p(t){for(var e=["","ms","webkit","moz","o"],i=0;i<e.length;i++){var a=e[i]?e[i]+t.charAt(0).toUpperCase()+t.slice(1):t;if(void 0!==m.document.body.style[a])return a}return null}var m=window,C={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};return t.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[p("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},t.prototype.update=function(){var t={instance:this,styles:{}};t.placement=this._options.placement,t._originalPlacement=this._options.placement,t.offsets=this._getOffsets(this._popper,this._reference,t.placement),t.boundaries=this._getBoundaries(t,this._options.boundariesPadding,this._options.boundariesElement),t=this.runModifiers(t,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(t)},t.prototype.onCreate=function(t){return t(this),this},t.prototype.onUpdate=function(t){return this.state.updateCallback=t,this},t.prototype.parse=function(t){function e(t,e){e.forEach(function(e){t.classList.add(e)})}function i(t,e){e.forEach(function(e){t.setAttribute(e.split(":")[0],e.split(":")[1]||"")})}var a={tagName:"div",classNames:["popper"],attributes:[],parent:m.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};t=Object.assign({},a,t);var r=m.document,n=r.createElement(t.tagName);if(e(n,t.classNames),i(n,t.attributes),"node"===t.contentType?n.appendChild(t.content.jquery?t.content[0]:t.content):"html"===t.contentType?n.innerHTML=t.content:n.textContent=t.content,t.arrowTagName){var o=r.createElement(t.arrowTagName);e(o,t.arrowClassNames),i(o,t.arrowAttributes),n.appendChild(o)}var s=t.parent.jquery?t.parent[0]:t.parent;if("string"==typeof s){if(s=r.querySelectorAll(t.parent),s.length>1&&console.warn("WARNING: the given `parent` query("+t.parent+") matched more than one element, the first one will be used"),0===s.length)throw"ERROR: the given `parent` doesn't exists!";s=s[0]}return s.length>1&&s instanceof Element==!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),s=s[0]),s.appendChild(n),n},t.prototype._getPosition=function(t,e){var i=o(e);return this._options.forceAbsolute?"absolute":l(e,i)?"fixed":"absolute"},t.prototype._getOffsets=function(t,i,a){a=a.split("-")[0];var r={};r.position=this.state.position;var n="fixed"===r.position,s=f(i,o(t),n),l=e(t);return-1!==["right","left"].indexOf(a)?(r.top=s.top+s.height/2-l.height/2,r.left="left"===a?s.left-l.width:s.right):(r.left=s.left+s.width/2-l.width/2,r.top="top"===a?s.top-l.height:s.bottom),r.width=l.width,r.height=l.height,{popper:r,reference:s}},t.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),m.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var t=s(this._reference);t!==m.document.body&&t!==m.document.documentElement||(t=m),t.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=t}},t.prototype._removeEventListeners=function(){m.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},t.prototype._getBoundaries=function(t,e,i){var a,r,n={};if("window"===i){var l=m.document.body,h=m.document.documentElement;r=Math.max(l.scrollHeight,l.offsetHeight,h.clientHeight,h.scrollHeight,h.offsetHeight),a=Math.max(l.scrollWidth,l.offsetWidth,h.clientWidth,h.scrollWidth,h.offsetWidth),n={top:0,right:a,bottom:r,left:0}}else if("viewport"===i){var u=o(this._popper),d=s(this._popper),f=c(u),p="fixed"===t.offsets.popper.position?0:function(t){return t==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):t.scrollTop}(d),C="fixed"===t.offsets.popper.position?0:function(t){return t==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):t.scrollLeft}(d);n={top:0-(f.top-p),right:m.document.documentElement.clientWidth-(f.left-C),bottom:m.document.documentElement.clientHeight-(f.top-p),left:0-(f.left-C)}}else n=o(this._popper)===i?{top:0,left:0,right:i.clientWidth,bottom:i.clientHeight}:c(i);return n.left+=e,n.right-=e,n.top=n.top+e,n.bottom=n.bottom-e,n},t.prototype.runModifiers=function(t,e,i){var a=e.slice();return void 0!==i&&(a=this._options.modifiers.slice(0,r(this._options.modifiers,i))),a.forEach(function(e){u(e)&&(t=e.call(this,t))}.bind(this)),t},t.prototype.isModifierRequired=function(t,e){var i=r(this._options.modifiers,t);return!!this._options.modifiers.slice(0,i).filter(function(t){return t===e}).length},t.prototype.modifiers={},t.prototype.modifiers.applyStyle=function(t){var e,i={position:t.offsets.popper.position},a=Math.round(t.offsets.popper.left),r=Math.round(t.offsets.popper.top);return this._options.gpuAcceleration&&(e=p("transform"))?(i[e]="translate3d("+a+"px, "+r+"px, 0)",i.top=0,i.left=0):(i.left=a,i.top=r),Object.assign(i,t.styles),h(this._popper,i),this._popper.setAttribute("x-placement",t.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&t.offsets.arrow&&h(t.arrowElement,t.offsets.arrow),t},t.prototype.modifiers.shift=function(t){var e=t.placement,i=e.split("-")[0],r=e.split("-")[1];if(r){var n=t.offsets.reference,o=a(t.offsets.popper),s={y:{start:{top:n.top},end:{top:n.top+n.height-o.height}},x:{start:{left:n.left},end:{left:n.left+n.width-o.width}}},l=-1!==["bottom","top"].indexOf(i)?"x":"y";t.offsets.popper=Object.assign(o,s[l][r])}return t},t.prototype.modifiers.preventOverflow=function(t){var e=this._options.preventOverflowOrder,i=a(t.offsets.popper),r={left:function(){var e=i.left;return i.left<t.boundaries.left&&(e=Math.max(i.left,t.boundaries.left)),{left:e}},right:function(){var e=i.left;return i.right>t.boundaries.right&&(e=Math.min(i.left,t.boundaries.right-i.width)),{left:e}},top:function(){var e=i.top;return i.top<t.boundaries.top&&(e=Math.max(i.top,t.boundaries.top)),{top:e}},bottom:function(){var e=i.top;return i.bottom>t.boundaries.bottom&&(e=Math.min(i.top,t.boundaries.bottom-i.height)),{top:e}}};return e.forEach(function(e){t.offsets.popper=Object.assign(i,r[e]())}),t},t.prototype.modifiers.keepTogether=function(t){var e=a(t.offsets.popper),i=t.offsets.reference,r=Math.floor;return e.right<r(i.left)&&(t.offsets.popper.left=r(i.left)-e.width),e.left>r(i.right)&&(t.offsets.popper.left=r(i.right)),e.bottom<r(i.top)&&(t.offsets.popper.top=r(i.top)-e.height),e.top>r(i.bottom)&&(t.offsets.popper.top=r(i.bottom)),t},t.prototype.modifiers.flip=function(t){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),t;if(t.flipped&&t.placement===t._originalPlacement)return t;var e=t.placement.split("-")[0],r=i(e),n=t.placement.split("-")[1]||"",o=[];return o="flip"===this._options.flipBehavior?[e,r]:this._options.flipBehavior,o.forEach(function(s,l){if(e===s&&o.length!==l+1){e=t.placement.split("-")[0],r=i(e);var h=a(t.offsets.popper),u=-1!==["right","bottom"].indexOf(e);(u&&Math.floor(t.offsets.reference[e])>Math.floor(h[r])||!u&&Math.floor(t.offsets.reference[e])<Math.floor(h[r]))&&(t.flipped=!0,t.placement=o[l+1],n&&(t.placement+="-"+n),t.offsets.popper=this._getOffsets(this._popper,this._reference,t.placement).popper,t=this.runModifiers(t,this._options.modifiers,this._flip))}}.bind(this)),t},t.prototype.modifiers.offset=function(t){var e=this._options.offset,i=t.offsets.popper;return-1!==t.placement.indexOf("left")?i.top-=e:-1!==t.placement.indexOf("right")?i.top+=e:-1!==t.placement.indexOf("top")?i.left-=e:-1!==t.placement.indexOf("bottom")&&(i.left+=e),t},t.prototype.modifiers.arrow=function(t){var i=this._options.arrowElement,r=this._options.arrowOffset;if("string"==typeof i&&(i=this._popper.querySelector(i)),!i)return t;if(!this._popper.contains(i))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),t;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),t;var n={},o=t.placement.split("-")[0],s=a(t.offsets.popper),l=t.offsets.reference,h=-1!==["left","right"].indexOf(o),u=h?"height":"width",c=h?"top":"left",d=h?"left":"top",f=h?"bottom":"right",p=e(i)[u];l[f]-p<s[c]&&(t.offsets.popper[c]-=s[c]-(l[f]-p)),l[c]+p>s[f]&&(t.offsets.popper[c]+=l[c]+p-s[f]);var m=l[c]+(r||l[u]/2-p/2),C=m-s[c];return C=Math.max(Math.min(s[u]-p-8,C),8),n[c]=C,n[d]="",t.offsets.arrow=n,t.arrowElement=i,t},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),i=1;i<arguments.length;i++){var a=arguments[i];if(void 0!==a&&null!==a){a=Object(a);for(var r=Object.keys(a),n=0,o=r.length;n<o;n++){var s=r[n],l=Object.getOwnPropertyDescriptor(a,s);void 0!==l&&l.enumerable&&(e[s]=a[s])}}}return e}}),t})},function(t,e){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=86)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},86:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?i("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?i("i",{class:t.icon}):t._e(),t.$slots.default?i("span",[t._t("default")],2):t._e()])},r=[];a._withStripped=!0;var n={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},o=n,s=i(0),l=Object(s.a)(o,a,r,!1,null,null,null);l.options.__file="packages/button/src/button.vue";var h=l.exports;h.install=function(t){t.component(h.name,h)};e.default=h}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function i(t,e){function i(){n&&(n=!1,t()),o&&r()}function a(){m(i)}function r(){var t=Date.now();if(n){if(t-s<C)return;o=!0}else n=!0,o=!1,setTimeout(a,e);s=t}var n=!1,o=!1,s=0;return r}function a(t){return parseFloat(t)||0}function r(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(e,i){return e+a(t["border-"+i+"-width"])},0)}function n(t){for(var e=["top","right","bottom","left"],i={},r=0,n=e;r<n.length;r++){var o=n[r],s=t["padding-"+o];i[o]=a(s)}return i}function o(t){var e=t.getBBox();return c(0,0,e.width,e.height)}function s(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return I;var o=b(t).getComputedStyle(t),s=n(o),h=s.left+s.right,u=s.top+s.bottom,d=a(o.width),f=a(o.height);if("border-box"===o.boxSizing&&(Math.round(d+h)!==e&&(d-=r(o,"left","right")+h),Math.round(f+u)!==i&&(f-=r(o,"top","bottom")+u)),!l(t)){var p=Math.round(d+h)-e,m=Math.round(f+u)-i;1!==Math.abs(p)&&(d-=p),1!==Math.abs(m)&&(f-=m)}return c(s.left,s.top,d,f)}function l(t){return t===b(t).document.documentElement}function h(t){return f?T(t)?o(t):s(t):I}function u(t){var e=t.x,i=t.y,a=t.width,r=t.height,n="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(n.prototype);return x(o,{x:e,y:i,width:a,height:r,top:i,right:e+a,bottom:r+i,left:e}),o}function c(t,e,i,a){return{x:t,y:e,width:i,height:a}}var d=function(){function t(t,e){var i=-1;return t.some(function(t,a){return t[0]===e&&(i=a,!0)}),i}return"undefined"!=typeof Map?Map:function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),a=this.__entries__[i];return a&&a[1]},e.prototype.set=function(e,i){var a=t(this.__entries__,e);~a?this.__entries__[a][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,a=t(i,e);~a&&i.splice(a,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,a=this.__entries__;i<a.length;i++){var r=a[i];t.call(e,r[1],r[0])}},e}()}(),f="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,p=function(){return void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),m=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(p):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),C=2,v=20,D=["top","right","bottom","left","width","height","size","weight"],g="undefined"!=typeof MutationObserver,S=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=i(this.refresh.bind(this),v)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},t.prototype.connect_=function(){f&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),g?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){f&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;D.some(function(t){return!!~i.indexOf(t)})&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),x=function(t,e){for(var i=0,a=Object.keys(e);i<a.length;i++){var r=a[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},b=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||p},I=c(0,0,0,0),T=function(){return"undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof b(t).SVGGraphicsElement}:function(t){return t instanceof b(t).SVGElement&&"function"==typeof t.getBBox}}(),y=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=c(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=h(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),w=function(){function t(t,e){var i=u(e);x(this,{target:t,contentRect:i})}return t}(),E=function(){function t(t,e,i){if(this.activeObservations_=[],this.observations_=new d,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof b(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new y(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof b(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new w(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),F="undefined"!=typeof WeakMap?new WeakMap:new d,L=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=S.getInstance(),a=new E(e,i,this);F.set(this,a)}return t}();["observe","unobserve","disconnect"].forEach(function(t){L.prototype[t]=function(){var e;return(e=F.get(this))[t].apply(e,arguments)}});var M=function(){return void 0!==p.ResizeObserver?p.ResizeObserver:L}();e.default=M}.call(e,i(24))},function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(12),n=function(){function t(){a(this,t)}return t.prototype.beforeEnter=function(t){(0,r.addClass)(t,"collapse-transition"),t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},t.prototype.enter=function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},t.prototype.afterEnter=function(t){(0,r.removeClass)(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow},t.prototype.beforeLeave=function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},t.prototype.leave=function(t){0!==t.scrollHeight&&((0,r.addClass)(t,"collapse-transition"),t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},t.prototype.afterLeave=function(t){(0,r.removeClass)(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},t}();e.default={name:"ElCollapseTransition",functional:!0,render:function(t,e){var i=e.children;return t("transition",{on:new n},i)}}},function(t,e,i){"use strict";function a(t){return null!==t&&"object"===(void 0===t?"undefined":r(t))&&(0,n.hasOwn)(t,"componentOptions")}e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isVNode=a;var n=i(10)},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=140)}({140:function(t,e,i){"use strict";i.r(e);var a=i(5),r=i.n(a),n=i(18),o=i.n(n),s=i(2),l=i(3),h=i(7),u=i.n(h),c={name:"ElTooltip",mixins:[r.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(l.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var t=this;this.$isServer||(this.popperVM=new u.a({data:{node:""},render:function(t){return this.node}}).$mount(),this.debounceClose=o()(200,function(){return t.handleClosePopper()}))},render:function(t){var e=this;this.popperVM&&(this.popperVM.node=t("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[t("div",{on:{mouseleave:function(){e.setExpectedState(!1),e.debounceClose()},mouseenter:function(){e.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var i=this.getFirstElement();if(!i)return null;var a=i.data=i.data||{};return a.staticClass=this.addTooltipClass(a.staticClass),i},mounted:function(){var t=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(s.on)(this.referenceElm,"mouseenter",this.show),Object(s.on)(this.referenceElm,"mouseleave",this.hide),Object(s.on)(this.referenceElm,"focus",function(){if(!t.$slots.default||!t.$slots.default.length)return void t.handleFocus();var e=t.$slots.default[0].componentInstance;e&&e.focus?e.focus():t.handleFocus()}),Object(s.on)(this.referenceElm,"blur",this.handleBlur),Object(s.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick(function(){t.value&&t.updatePopper()})},watch:{focusing:function(t){t?Object(s.addClass)(this.referenceElm,"focusing"):Object(s.removeClass)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(t){return t?"el-tooltip "+t.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var t=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.showPopper=!0},this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout(function(){t.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(t){!1===t&&clearTimeout(this.timeoutPending),this.expectedState=t},getFirstElement:function(){var t=this.$slots.default;if(!Array.isArray(t))return null;for(var e=null,i=0;i<t.length;i++)t[i]&&t[i].tag&&(e=t[i]);return e}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var t=this.referenceElm;1===t.nodeType&&(Object(s.off)(t,"mouseenter",this.show),Object(s.off)(t,"mouseleave",this.hide),Object(s.off)(t,"focus",this.handleFocus),Object(s.off)(t,"blur",this.handleBlur),Object(s.off)(t,"click",this.removeFocusing))}};c.install=function(t){t.component(c.name,c)};e.default=c},18:function(t,e){t.exports=i(39)},2:function(t,e){t.exports=i(12)},3:function(t,e){t.exports=i(10)},5:function(t,e){t.exports=i(36)},7:function(t,e){t.exports=i(3)}})},function(t,e){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=87)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},87:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-button-group"},[t._t("default")],2)},r=[];a._withStripped=!0;var n={name:"ElButtonGroup"},o=n,s=i(0),l=Object(s.a)(o,a,r,!1,null,null,null);l.options.__file="packages/button/src/button-group.vue";var h=l.exports;h.install=function(t){t.component(h.name,h)};e.default=h}})},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=126)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},126:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[t._t("default")],2)},r=[];a._withStripped=!0;var n=i(4),o=i.n(n),s={name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[o.a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[t])}}},l=s,h=i(0),u=Object(h.a)(l,a,r,!1,null,null,null);u.options.__file="packages/checkbox/src/checkbox-group.vue";var c=u.exports;c.install=function(t){t.component(c.name,c)};e.default=c},4:function(t,e){t.exports=i(18)}})},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t||!e)throw new Error("instance & callback is required");var r=!1,n=function(){r||(r=!0,e&&e.apply(null,arguments))};a?t.$once("after-leave",n):t.$on("after-leave",n),setTimeout(function(){n()},i+100)}},function(t,e){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=90)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},90:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-progress",class:["el-progress--"+t.type,t.status?"is-"+t.status:"",{"el-progress--without-text":!t.showText,"el-progress--text-inside":t.textInside}],attrs:{role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===t.type?i("div",{staticClass:"el-progress-bar"},[i("div",{staticClass:"el-progress-bar__outer",style:{height:t.strokeWidth+"px"}},[i("div",{staticClass:"el-progress-bar__inner",style:t.barStyle},[t.showText&&t.textInside?i("div",{staticClass:"el-progress-bar__innerText"},[t._v(t._s(t.content))]):t._e()])])]):i("div",{staticClass:"el-progress-circle",style:{height:t.width+"px",width:t.width+"px"}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("path",{staticClass:"el-progress-circle__track",style:t.trailPathStyle,attrs:{d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none"}}),i("path",{staticClass:"el-progress-circle__path",style:t.circlePathStyle,attrs:{d:t.trackPath,stroke:t.stroke,fill:"none","stroke-linecap":t.strokeLinecap,"stroke-width":t.percentage?t.relativeStrokeWidth:0}})])]),t.showText&&!t.textInside?i("div",{staticClass:"el-progress__text",style:{fontSize:t.progressTextSize+"px"}},[t.status?i("i",{class:t.iconClass}):[t._v(t._s(t.content))]],2):t._e()])},r=[];a._withStripped=!0;var n={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(t){return["line","circle","dashboard"].indexOf(t)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(t){return t>=0&&t<=100}},status:{type:String,validator:function(t){return["success","exception","warning"].indexOf(t)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var t={};return t.width=this.percentage+"%",t.backgroundColor=this.getCurrentColor(this.percentage),t},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var t=this.radius,e="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(e?"":"-")+t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"-":"")+2*t+"\n        a "+t+" "+t+" 0 1 1 0 "+(e?"":"-")+2*t+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var t=void 0;if(this.color)t=this.getCurrentColor(this.percentage);else switch(this.status){case"success":t="#13ce66";break;case"exception":t="#ff4949";break;case"warning":t="#e6a23c";break;default:t="#20a0ff"}return t},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(t){return"function"==typeof this.color?this.color(t):"string"==typeof this.color?this.color:this.getLevelColor(t)},getLevelColor:function(t){for(var e=this.getColorArray().sort(function(t,e){return t.percentage-e.percentage}),i=0;i<e.length;i++)if(e[i].percentage>t)return e[i].color;return e[e.length-1].color},getColorArray:function(){var t=this.color,e=100/t.length;return t.map(function(t,i){return"string"==typeof t?{color:t,percentage:(i+1)*e}:t})}}},o=n,s=i(0),l=Object(s.a)(o,a,r,!1,null,null,null);l.options.__file="packages/progress/src/progress.vue";var h=l.exports;h.install=function(t){t.component(h.name,h)};e.default=h}})},function(t,e,i){var a=i(53),r=i(39);t.exports={throttle:a,debounce:r}},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=61)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},10:function(t,e){t.exports=i(51)},12:function(t,e){t.exports=i(86)},15:function(t,e){t.exports=i(54)},16:function(t,e){t.exports=i(52)},18:function(t,e){t.exports=i(39)},21:function(t,e){t.exports=i(38)},22:function(t,e){t.exports=i(55)},3:function(t,e){t.exports=i(10)},31:function(t,e){t.exports=i(56)},33:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[i("span",[t._v(t._s(t.currentLabel))])])],2)},r=[];a._withStripped=!0;var n=i(4),o=i.n(n),s=i(3),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h={mixins:[o.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var i=this.select,a=i.remote,r=i.valueKey;if(!this.created&&!a){if(r&&"object"===(void 0===t?"undefined":l(t))&&"object"===(void 0===e?"undefined":l(e))&&t[r]===e[r])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var i=this.select.valueKey;return Object(s.getValueByPath)(t,i)===Object(s.getValueByPath)(e,i)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var i=this.select.valueKey;return t&&t.some(function(t){return Object(s.getValueByPath)(t,i)===Object(s.getValueByPath)(e,i)})}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(s.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,i=t.multiple,a=i?e:[e],r=this.select.cachedOptions.indexOf(this),n=a.indexOf(this);r>-1&&n<0&&this.select.cachedOptions.splice(r,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},u=h,c=i(0),d=Object(c.a)(u,a,r,!1,null,null,null);d.options.__file="packages/select/src/option.vue";e.a=d.exports},37:function(t,e){t.exports=i(89)},4:function(t,e){t.exports=i(18)},5:function(t,e){t.exports=i(36)},6:function(t,e){t.exports=i(49)},61:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[t.selectSize?"el-select--"+t.selectSize:""],on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[t.multiple?i("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":t.inputWidth-32+"px",width:"100%"}},[t.collapseTags&&t.selected.length?i("span",[i("el-tag",{attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(e){t.deleteTag(e,t.selected[0])}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(t.selected[0].currentLabel))])]),t.selected.length>1?i("el-tag",{attrs:{closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""}},[i("span",{staticClass:"el-select__tags-text"},[t._v("+ "+t._s(t.selected.length-1))])]):t._e()],1):t._e(),t.collapseTags?t._e():i("transition-group",{on:{"after-leave":t.resetInputHeight}},t._l(t.selected,function(e){return i("el-tag",{key:t.getValueKey(e),attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:e.hitState,type:"info","disable-transitions":""},on:{close:function(i){t.deleteTag(i,e)}}},[i("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e.currentLabel))])])}),1),t.filterable?i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[t.selectSize?"is-"+t.selectSize:""],style:{"flex-grow":"1",width:t.inputLength/(t.inputWidth-32)+"%","max-width":t.inputWidth-42+"px"},attrs:{type:"text",disabled:t.selectDisabled,autocomplete:t.autoComplete||t.autocomplete},domProps:{value:t.query},on:{focus:t.handleFocus,blur:function(e){t.softFocus=!1},keyup:t.managePlaceholder,keydown:[t.resetInputState,function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){return"button"in e||!t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?t.deletePrevTag(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:[function(e){e.target.composing||(t.query=e.target.value)},t.debouncedQueryChange]}}):t._e()],1):t._e(),i("el-input",{ref:"reference",class:{"is-focus":t.visible},attrs:{type:"text",placeholder:t.currentPlaceholder,name:t.name,id:t.id,autocomplete:t.autoComplete||t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,tabindex:t.multiple&&t.filterable?"-1":null},on:{focus:t.handleFocus,blur:t.handleBlur,input:t.debouncedOnInputChange},nativeOn:{keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.stopPropagation(),e.preventDefault(),t.navigateOptions("prev")},function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.selectOption(e)):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],mouseenter:function(e){t.inputHovering=!0},mouseleave:function(e){t.inputHovering=!1}},model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}},[t.$slots.prefix?i("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),i("template",{slot:"suffix"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!t.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+t.iconClass]}),t.showClose?i("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:t.handleClearClick}}):t._e()])],2),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":t.doDestroy}},[i("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:t.visible&&!1!==t.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":t.popperAppendToBody}},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.options.length>0&&!t.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!t.allowCreate&&t.query&&0===t.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t.showNewOption?i("el-option",{attrs:{value:t.query,created:""}}):t._e(),t._t("default")],2),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&0===t.options.length)?[t.$slots.empty?t._t("empty"):i("p",{staticClass:"el-select-dropdown__empty"},[t._v("\n          "+t._s(t.emptyText)+"\n        ")])]:t._e()],2)],1)],1)},r=[];a._withStripped=!0;var n=i(4),o=i.n(n),s=i(22),l=i.n(s),h=i(6),u=i.n(h),c=i(10),d=i.n(c),f=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":t.$parent.multiple},t.popperClass],style:{minWidth:t.minWidth}},[t._t("default")],2)},p=[];f._withStripped=!0;var m=i(5),C=i.n(m),v={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[C.a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var t=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",function(){t.$parent.visible&&t.updatePopper()}),this.$on("destroyPopper",this.destroyPopper)}},D=v,g=i(0),S=Object(g.a)(D,f,p,!1,null,null,null);S.options.__file="packages/select/src/select-dropdown.vue";var x=S.exports,b=i(33),I=i(37),T=i.n(I),y=i(15),w=i.n(y),E=i(18),F=i.n(E),L=i(12),M=i.n(L),A=i(16),O=i(31),N=i.n(O),_=i(3),P={data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter(function(t){return t.visible}).every(function(t){return t.disabled})}},watch:{hoverIndex:function(t){var e=this;"number"==typeof t&&t>-1&&(this.hoverOption=this.options[t]||{}),this.options.forEach(function(t){t.hover=e.hoverOption===t})}},methods:{navigateOptions:function(t){var e=this;if(!this.visible)return void(this.visible=!0);if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===t?++this.hoverIndex===this.options.length&&(this.hoverIndex=0):"prev"===t&&--this.hoverIndex<0&&(this.hoverIndex=this.options.length-1);var i=this.options[this.hoverIndex];!0!==i.disabled&&!0!==i.groupDisabled&&i.visible||this.navigateOptions(t),this.$nextTick(function(){return e.scrollToOption(e.hoverOption)})}}}},R=i(21),B={mixins:[o.a,u.a,l()("reference"),P],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(_.isIE)()&&!Object(_.isEdge)()&&!this.visible},showClose:function(){var t=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&t},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var t=this,e=this.options.filter(function(t){return!t.created}).some(function(e){return e.currentLabel===t.query});return this.filterable&&this.allowCreate&&""!==this.query&&!e},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"},propPlaceholder:function(){return void 0!==this.placeholder?this.placeholder:this.t("el.select.placeholder")}},components:{ElInput:d.a,ElSelectMenu:x,ElOption:b.a,ElTag:T.a,ElScrollbar:w.a},directives:{Clickoutside:M.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,required:!1},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var t=this;this.$nextTick(function(){t.resetInputHeight()})},propPlaceholder:function(t){this.cachedPlaceHolder=this.currentPlaceholder=t},value:function(t,e){this.multiple&&(this.resetInputHeight(),t&&t.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(_.valueEquals)(t,e)||this.dispatch("ElFormItem","el.form.change",t)},visible:function(t){var e=this;t?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick(function(){e.$refs.input&&""===e.$refs.input.value&&0===e.selected.length&&(e.currentPlaceholder=e.cachedPlaceHolder)}),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",t)},options:function(){var t=this;if(!this.$isServer){this.$nextTick(function(){t.broadcast("ElSelectDropdown","updatePopper")}),this.multiple&&this.resetInputHeight();var e=this.$el.querySelectorAll("input");-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleComposition:function(t){var e=this,i=t.target.value;if("compositionend"===t.type)this.isOnComposition=!1,this.$nextTick(function(t){return e.handleQueryChange(i)});else{var a=i[i.length-1]||"";this.isOnComposition=!Object(R.isKorean)(a)}},handleQueryChange:function(t){var e=this;if(this.previousQuery!==t&&!this.isOnComposition){if(null===this.previousQuery&&("function"==typeof this.filterMethod||"function"==typeof this.remoteMethod))return void(this.previousQuery=t);this.previousQuery=t,this.$nextTick(function(){e.visible&&e.broadcast("ElSelectDropdown","updatePopper")}),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick(function(){var t=15*e.$refs.input.value.length+20;e.inputLength=e.collapseTags?Math.min(50,t):t,e.managePlaceholder(),e.resetInputHeight()}),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(t)):"function"==typeof this.filterMethod?(this.filterMethod(t),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",t),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}},scrollToOption:function(t){var e=Array.isArray(t)&&t[0]?t[0].$el:t.$el;if(this.$refs.popper&&e){var i=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");N()(i,e)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var t=this;this.$nextTick(function(){return t.scrollToOption(t.selected)})},emitChange:function(t){Object(_.valueEquals)(this.value,t)||this.$emit("change",t)},getOption:function(t){for(var e=void 0,i="[object object]"===Object.prototype.toString.call(t).toLowerCase(),a="[object null]"===Object.prototype.toString.call(t).toLowerCase(),r="[object undefined]"===Object.prototype.toString.call(t).toLowerCase(),n=this.cachedOptions.length-1;n>=0;n--){var o=this.cachedOptions[n];if(i?Object(_.getValueByPath)(o.value,this.valueKey)===Object(_.getValueByPath)(t,this.valueKey):o.value===t){e=o;break}}if(e)return e;var s=i||a||r?"":String(t),l={value:t,currentLabel:s};return this.multiple&&(l.hitState=!1),l},setSelected:function(){var t=this;if(!this.multiple){var e=this.getOption(this.value);return e.created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,void(this.filterable&&(this.query=this.selectedLabel))}var i=[];Array.isArray(this.value)&&this.value.forEach(function(e){i.push(t.getOption(e))}),this.selected=i,this.$nextTick(function(){t.resetInputHeight()})},handleFocus:function(t){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",t))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(t){var e=this;setTimeout(function(){e.isSilentBlur?e.isSilentBlur=!1:e.$emit("blur",t)},50),this.softFocus=!1},handleClearClick:function(t){this.deleteSelected(t)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(t){if(Array.isArray(this.selected)){var e=this.selected[this.selected.length-1];if(e)return!0===t||!1===t?(e.hitState=t,t):(e.hitState=!e.hitState,e.hitState)}},deletePrevTag:function(t){if(t.target.value.length<=0&&!this.toggleLastOptionHitState()){var e=this.value.slice();e.pop(),this.$emit("input",e),this.emitChange(e)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(t){8!==t.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var t=this;this.collapseTags&&!this.filterable||this.$nextTick(function(){if(t.$refs.reference){var e=t.$refs.reference.$el.childNodes,i=[].filter.call(e,function(t){return"INPUT"===t.tagName})[0],a=t.$refs.tags,r=a?Math.round(a.getBoundingClientRect().height):0,n=t.initialInputHeight||40;i.style.height=0===t.selected.length?n+"px":Math.max(a?r+(r>n?6:0):0,n)+"px",t.visible&&!1!==t.emptyText&&t.broadcast("ElSelectDropdown","updatePopper")}})},resetHoverIndex:function(){var t=this;setTimeout(function(){t.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(function(e){return t.options.indexOf(e)})):t.hoverIndex=-1:t.hoverIndex=t.options.indexOf(t.selected)},300)},handleOptionSelect:function(t,e){var i=this;if(this.multiple){var a=(this.value||[]).slice(),r=this.getValueIndex(a,t.value);r>-1?a.splice(r,1):(this.multipleLimit<=0||a.length<this.multipleLimit)&&a.push(t.value),this.$emit("input",a),this.emitChange(a),t.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",t.value),this.emitChange(t.value),this.visible=!1;this.isSilentBlur=e,this.setSoftFocus(),this.visible||this.$nextTick(function(){i.scrollToOption(t)})},setSoftFocus:function(){this.softFocus=!0;var t=this.$refs.input||this.$refs.reference;t&&t.focus()},getValueIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if("[object object]"===Object.prototype.toString.call(e).toLowerCase()){var i=this.valueKey,a=-1;return t.some(function(t,r){return Object(_.getValueByPath)(t,i)===Object(_.getValueByPath)(e,i)&&(a=r,!0)}),a}return t.indexOf(e)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(t){t.stopPropagation();var e=this.multiple?[]:"";this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(t,e){var i=this.selected.indexOf(e);if(i>-1&&!this.selectDisabled){var a=this.value.slice();a.splice(i,1),this.$emit("input",a),this.emitChange(a),this.$emit("remove-tag",e.value)}t.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(t){t>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(t,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var t=!1,e=this.options.length-1;e>=0;e--)if(this.options[e].created){t=!0,this.hoverIndex=e;break}if(!t)for(var i=0;i!==this.options.length;++i){var a=this.options[i];if(this.query){if(!a.disabled&&!a.groupDisabled&&a.visible){this.hoverIndex=i;break}}else if(a.itemSelected){this.hoverIndex=i;break}}},getValueKey:function(t){return"[object object]"!==Object.prototype.toString.call(t.value).toLowerCase()?t.value:Object(_.getValueByPath)(t.value,this.valueKey)}},created:function(){var t=this;this.cachedPlaceHolder=this.currentPlaceholder=this.propPlaceholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=F()(this.debounce,function(){t.onInputChange()}),this.debouncedQueryChange=F()(this.debounce,function(e){t.handleQueryChange(e.target.value)}),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var t=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(A.addResizeListener)(this.$el,this.handleResize);var e=this.$refs.reference;if(e&&e.$el){var i={medium:36,small:32,mini:28},a=e.$el.querySelector("input");this.initialInputHeight=a.getBoundingClientRect().height||i[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick(function(){e&&e.$el&&(t.inputWidth=e.$el.getBoundingClientRect().width)}),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(A.removeResizeListener)(this.$el,this.handleResize)}},k=B,V=Object(g.a)(k,a,r,!1,null,null,null);V.options.__file="packages/select/src/select.vue";var G=V.exports;G.install=function(t){t.component(G.name,G)};e.default=G}})},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=53)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},3:function(t,e){t.exports=i(10)},33:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[i("span",[t._v(t._s(t.currentLabel))])])],2)},r=[];a._withStripped=!0;var n=i(4),o=i.n(n),s=i(3),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h={mixins:[o.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var i=this.select,a=i.remote,r=i.valueKey;if(!this.created&&!a){if(r&&"object"===(void 0===t?"undefined":l(t))&&"object"===(void 0===e?"undefined":l(e))&&t[r]===e[r])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var i=this.select.valueKey;return Object(s.getValueByPath)(t,i)===Object(s.getValueByPath)(e,i)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var i=this.select.valueKey;return t&&t.some(function(t){return Object(s.getValueByPath)(t,i)===Object(s.getValueByPath)(e,i)})}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(s.escapeRegexpString)(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,i=t.multiple,a=i?e:[e],r=this.select.cachedOptions.indexOf(this),n=a.indexOf(this);r>-1&&n<0&&this.select.cachedOptions.splice(r,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},u=h,c=i(0),d=Object(c.a)(u,a,r,!1,null,null,null);d.options.__file="packages/select/src/option.vue";e.a=d.exports},4:function(t,e){t.exports=i(18)},53:function(t,e,i){"use strict";i.r(e);var a=i(33);a.a.install=function(t){t.component(a.a.name,a.a)},e.default=a.a}})},function(t,e,i){t.exports=i(145)},function(t,e,i){"use strict";function a(t){var e=0,i=0,a=0,r=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),a=e*o,r=i*o,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(a=t.deltaX),(a||r)&&t.deltaMode&&(1==t.deltaMode?(a*=s,r*=s):(a*=l,r*=l)),a&&!e&&(e=a<1?-1:1),r&&!i&&(i=r<1?-1:1),{spinX:e,spinY:i,pixelX:a,pixelY:r}}var r=i(146),n=i(147),o=10,s=40,l=800;a.getEventType=function(){return r.firefox()?"DOMMouseScroll":n("wheel")?"wheel":"mousewheel"},t.exports=a},function(t,e){function i(){if(!D){D=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),i=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(p=/\b(iPhone|iP[ao]d)/.exec(t),m=/\b(iP[ao]d)/.exec(t),d=/Android/i.exec(t),C=/FBAN\/\w+;/i.exec(t),v=/Mobile/i.exec(t),f=!!/Win64/.exec(t),e){a=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,a&&document&&document.documentMode&&(a=document.documentMode);var g=/(?:Trident\/(\d+.\d+))/.exec(t);l=g?parseFloat(g[1])+4:a,r=e[2]?parseFloat(e[2]):NaN,n=e[3]?parseFloat(e[3]):NaN,o=e[4]?parseFloat(e[4]):NaN,o?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),s=e&&e[1]?parseFloat(e[1]):NaN):s=NaN}else a=r=n=s=o=NaN;if(i){if(i[1]){var S=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);h=!S||parseFloat(S[1].replace("_","."))}else h=!1;u=!!i[2],c=!!i[3]}else h=u=c=!1}}var a,r,n,o,s,l,h,u,c,d,f,p,m,C,v,D=!1,g={ie:function(){return i()||a},ieCompatibilityMode:function(){return i()||l>a},ie64:function(){return g.ie()&&f},firefox:function(){return i()||r},opera:function(){return i()||n},webkit:function(){return i()||o},safari:function(){return g.webkit()},chrome:function(){return i()||s},windows:function(){return i()||u},osx:function(){return i()||h},linux:function(){return i()||c},iphone:function(){return i()||p},mobile:function(){return i()||p||m||d||v},nativeApp:function(){return i()||C},android:function(){return i()||d},ipad:function(){return i()||m}};t.exports=g},function(t,e,i){"use strict";/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function a(t,e){if(!n.canUseDOM||e&&!("addEventListener"in document))return!1;var i="on"+t,a=i in document;if(!a){var o=document.createElement("div");o.setAttribute(i,"return;"),a="function"==typeof o[i]}return!a&&r&&"wheel"===t&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}var r,n=i(148);n.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=a},function(t,e,i){"use strict";var a=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:a,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:a&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen,isInWorker:!a};t.exports=r},function(t,e,i){"use strict";e.__esModule=!0;var a,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=i(57),o=function(t){return t&&t.__esModule?t:{default:t}}(n),s=s||{};s.Dialog=function(t,e,i){var n=this;if(this.dialogNode=t,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");"string"==typeof e?this.focusAfterClosed=document.getElementById(e):"object"===(void 0===e?"undefined":r(e))?this.focusAfterClosed=e:this.focusAfterClosed=null,"string"==typeof i?this.focusFirst=document.getElementById(i):"object"===(void 0===i?"undefined":r(i))?this.focusFirst=i:this.focusFirst=null,this.focusFirst?this.focusFirst.focus():o.default.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement,a=function(t){n.trapFocus(t)},this.addListeners()},s.Dialog.prototype.addListeners=function(){document.addEventListener("focus",a,!0)},s.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",a,!0)},s.Dialog.prototype.closeDialog=function(){var t=this;this.removeListeners(),this.focusAfterClosed&&setTimeout(function(){t.focusAfterClosed.focus()})},s.Dialog.prototype.trapFocus=function(t){o.default.IgnoreUtilFocusChanges||(this.dialogNode.contains(t.target)?this.lastFocus=t.target:(o.default.focusFirstDescendant(this.dialogNode),this.lastFocus===document.activeElement&&o.default.focusLastDescendant(this.dialogNode),this.lastFocus=document.activeElement))},e.default=s.Dialog},function(t,e,i){"use strict";function a(t){this.rules=null,this._messages=u.a,this.define(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=i(90),n=i.n(r),o=i(30),s=i.n(o),l=i(1),h=i(172),u=i(192);a.prototype={messages:function(t){return t&&(this._messages=Object(l.c)(Object(u.b)(),t)),this._messages},define:function(t){if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===t?"undefined":s()(t))||Array.isArray(t))throw new Error("Rules must be an object");this.rules={};var e=void 0,i=void 0;for(e in t)t.hasOwnProperty(e)&&(i=t[e],this.rules[e]=Array.isArray(i)?i:[i])},validate:function(t){function e(t){var e=void 0,i=void 0,a=[],r={};for(e=0;e<t.length;e++)!function(t){Array.isArray(t)?a=a.concat.apply(a,t):a.push(t)}(t[e]);if(a.length)for(e=0;e<a.length;e++)i=a[e].field,r[i]=r[i]||[],r[i].push(a[e]);else a=null,r=null;d(a,r)}var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2],h=t,c=r,d=o;if("function"==typeof c&&(d=c,c={}),!this.rules||0===Object.keys(this.rules).length)return void(d&&d());if(c.messages){var f=this.messages();f===u.a&&(f=Object(u.b)()),Object(l.c)(f,c.messages),c.messages=f}else c.messages=this.messages();var p=void 0,m=void 0,C={};(c.keys||Object.keys(this.rules)).forEach(function(e){p=i.rules[e],m=h[e],p.forEach(function(a){var r=a;"function"==typeof r.transform&&(h===t&&(h=n()({},h)),m=h[e]=r.transform(m)),r="function"==typeof r?{validator:r}:n()({},r),r.validator=i.getValidationMethod(r),r.field=e,r.fullField=r.fullField||e,r.type=i.getType(r),r.validator&&(C[e]=C[e]||[],C[e].push({rule:r,value:m,source:h,field:e}))})});var v={};Object(l.a)(C,c,function(t,e){function i(t,e){return n()({},e,{fullField:o.fullField+"."+t})}function r(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=r;if(Array.isArray(s)||(s=[s]),s.length&&Object(l.f)("async-validator:",s),s.length&&o.message&&(s=[].concat(o.message)),s=s.map(Object(l.b)(o)),c.first&&s.length)return v[o.field]=1,e(s);if(h){if(o.required&&!t.value)return s=o.message?[].concat(o.message).map(Object(l.b)(o)):c.error?[c.error(o,Object(l.d)(c.messages.required,o.field))]:[],e(s);var u={};if(o.defaultField)for(var d in t.value)t.value.hasOwnProperty(d)&&(u[d]=o.defaultField);u=n()({},u,t.rule.fields);for(var f in u)if(u.hasOwnProperty(f)){var p=Array.isArray(u[f])?u[f]:[u[f]];u[f]=p.map(i.bind(null,f))}var m=new a(u);m.messages(c.messages),t.rule.options&&(t.rule.options.messages=c.messages,t.rule.options.error=c.error),m.validate(t.value,t.rule.options||c,function(t){e(t&&t.length?s.concat(t):t)})}else e(s)}var o=t.rule,h=!("object"!==o.type&&"array"!==o.type||"object"!==s()(o.fields)&&"object"!==s()(o.defaultField));h=h&&(o.required||!o.required&&t.value),o.field=t.field;var u=o.validator(o,t.value,r,t.source,c);u&&u.then&&u.then(function(){return r()},function(t){return r(t)})},function(t){e(t)})},getType:function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!=typeof t.validator&&t.type&&!h.a.hasOwnProperty(t.type))throw new Error(Object(l.d)("Unknown rule type %s",t.type));return t.type||"string"},getValidationMethod:function(t){if("function"==typeof t.validator)return t.validator;var e=Object.keys(t),i=e.indexOf("message");return-1!==i&&e.splice(i,1),1===e.length&&"required"===e[0]?h.a.required:h.a[this.getType(t)]||!1}},a.register=function(t,e){if("function"!=typeof e)throw new Error("Cannot register a validator by type, validator is not a function");h.a[t]=e},a.messages=u.a,e.default=a},function(t,e,i){t.exports={default:i(152),__esModule:!0}},function(t,e,i){i(153),t.exports=i(0).Object.assign},function(t,e,i){var a=i(2);a(a.S+a.F,"Object",{assign:i(154)})},function(t,e,i){"use strict";var a=i(7),r=i(27),n=i(66),o=i(42),s=i(22),l=i(60),h=Object.assign;t.exports=!h||i(19)(function(){var t={},e={},i=Symbol(),a="abcdefghijklmnopqrst";return t[i]=7,a.split("").forEach(function(t){e[t]=t}),7!=h({},t)[i]||Object.keys(h({},e)).join("")!=a})?function(t,e){for(var i=s(t),h=arguments.length,u=1,c=n.f,d=o.f;h>u;)for(var f,p=l(arguments[u++]),m=c?r(p).concat(c(p)):r(p),C=m.length,v=0;C>v;)f=m[v++],a&&!d.call(p,f)||(i[f]=p[f]);return i}:h},function(t,e,i){var a=i(21),r=i(40),n=i(156);t.exports=function(t){return function(e,i,o){var s,l=a(e),h=r(l.length),u=n(o,h);if(t&&i!=i){for(;h>u;)if((s=l[u++])!=s)return!0}else for(;h>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},function(t,e,i){var a=i(62),r=Math.max,n=Math.min;t.exports=function(t,e){return t=a(t),t<0?r(t+e,0):n(t,e)}},function(t,e,i){t.exports={default:i(158),__esModule:!0}},function(t,e,i){i(23),i(33),t.exports=i(68).f("iterator")},function(t,e,i){var a=i(62),r=i(61);t.exports=function(t){return function(e,i){var n,o,s=String(r(e)),l=a(i),h=s.length;return l<0||l>=h?t?"":void 0:(n=s.charCodeAt(l),n<55296||n>56319||l+1===h||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):n:t?s.slice(l,l+2):o-56320+(n-55296<<10)+65536)}}},function(t,e,i){"use strict";var a=i(43),r=i(26),n=i(32),o={};i(15)(o,i(5)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=a(o,{next:r(1,i)}),n(t,e+" Iterator")}},function(t,e,i){var a=i(20),r=i(22),n=i(63)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),a(t,n)?t[n]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,i){"use strict";var a=i(163),r=i(96),n=i(31),o=i(21);t.exports=i(67)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,i):"values"==e?r(0,t[i]):r(0,[i,t[i]])},"values"),n.Arguments=n.Array,a("keys"),a("values"),a("entries")},function(t,e){t.exports=function(){}},function(t,e,i){t.exports={default:i(165),__esModule:!0}},function(t,e,i){i(166),i(44),i(170),i(171),t.exports=i(0).Symbol},function(t,e,i){"use strict";var a=i(4),r=i(20),n=i(7),o=i(2),s=i(93),l=i(69).KEY,h=i(19),u=i(64),c=i(32),d=i(41),f=i(5),p=i(68),m=i(70),C=i(167),v=i(97),D=i(13),g=i(11),S=i(22),x=i(21),b=i(59),I=i(26),T=i(43),y=i(168),w=i(169),E=i(66),F=i(9),L=i(27),M=w.f,A=F.f,O=y.f,N=a.Symbol,_=a.JSON,P=_&&_.stringify,R=f("_hidden"),B=f("toPrimitive"),k={}.propertyIsEnumerable,V=u("symbol-registry"),G=u("symbols"),H=u("op-symbols"),Y=Object.prototype,X="function"==typeof N&&!!E.f,W=a.QObject,U=!W||!W.prototype||!W.prototype.findChild,z=n&&h(function(){return 7!=T(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,i){var a=M(Y,e);a&&delete Y[e],A(t,e,i),a&&t!==Y&&A(Y,e,a)}:A,K=function(t){var e=G[t]=T(N.prototype);return e._k=t,e},$=X&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},j=function(t,e,i){return t===Y&&j(H,e,i),D(t),e=b(e,!0),D(i),r(G,e)?(i.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),i=T(i,{enumerable:I(0,!1)})):(r(t,R)||A(t,R,I(1,{})),t[R][e]=!0),z(t,e,i)):A(t,e,i)},J=function(t,e){D(t);for(var i,a=C(e=x(e)),r=0,n=a.length;n>r;)j(t,i=a[r++],e[i]);return t},q=function(t,e){return void 0===e?T(t):J(T(t),e)},Z=function(t){var e=k.call(this,t=b(t,!0));return!(this===Y&&r(G,t)&&!r(H,t))&&(!(e||!r(this,t)||!r(G,t)||r(this,R)&&this[R][t])||e)},Q=function(t,e){if(t=x(t),e=b(e,!0),t!==Y||!r(G,e)||r(H,e)){var i=M(t,e);return!i||!r(G,e)||r(t,R)&&t[R][e]||(i.enumerable=!0),i}},tt=function(t){for(var e,i=O(x(t)),a=[],n=0;i.length>n;)r(G,e=i[n++])||e==R||e==l||a.push(e);return a},et=function(t){for(var e,i=t===Y,a=O(i?H:x(t)),n=[],o=0;a.length>o;)!r(G,e=a[o++])||i&&!r(Y,e)||n.push(G[e]);return n};X||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===Y&&e.call(H,i),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),z(this,t,I(1,i))};return n&&U&&z(Y,t,{configurable:!0,set:e}),K(t)},s(N.prototype,"toString",function(){return this._k}),w.f=Q,F.f=j,i(98).f=y.f=tt,i(42).f=Z,E.f=et,n&&!i(29)&&s(Y,"propertyIsEnumerable",Z,!0),p.f=function(t){return K(f(t))}),o(o.G+o.W+o.F*!X,{Symbol:N});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),at=0;it.length>at;)f(it[at++]);for(var rt=L(f.store),nt=0;rt.length>nt;)m(rt[nt++]);o(o.S+o.F*!X,"Symbol",{for:function(t){return r(V,t+="")?V[t]:V[t]=N(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in V)if(V[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),o(o.S+o.F*!X,"Object",{create:q,defineProperty:j,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var ot=h(function(){E.f(1)});o(o.S+o.F*ot,"Object",{getOwnPropertySymbols:function(t){return E.f(S(t))}}),_&&o(o.S+o.F*(!X||h(function(){var t=N();return"[null]"!=P([t])||"{}"!=P({a:t})||"{}"!=P(Object(t))})),"JSON",{stringify:function(t){for(var e,i,a=[t],r=1;arguments.length>r;)a.push(arguments[r++]);if(i=e=a[1],(g(e)||void 0!==t)&&!$(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!$(e))return e}),a[1]=e,P.apply(_,a)}}),N.prototype[B]||i(15)(N.prototype,B,N.prototype.valueOf),c(N,"Symbol"),c(Math,"Math",!0),c(a.JSON,"JSON",!0)},function(t,e,i){var a=i(27),r=i(66),n=i(42);t.exports=function(t){var e=a(t),i=r.f;if(i)for(var o,s=i(t),l=n.f,h=0;s.length>h;)l.call(t,o=s[h++])&&e.push(o);return e}},function(t,e,i){var a=i(21),r=i(98).f,n={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(t){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==n.call(t)?s(t):r(a(t))}},function(t,e,i){var a=i(42),r=i(26),n=i(21),o=i(59),s=i(20),l=i(91),h=Object.getOwnPropertyDescriptor;e.f=i(7)?h:function(t,e){if(t=n(t),e=o(e,!0),l)try{return h(t,e)}catch(t){}if(s(t,e))return r(!a.f.call(t,e),t[e])}},function(t,e,i){i(70)("asyncIterator")},function(t,e,i){i(70)("observable")},function(t,e,i){"use strict";var a=i(173),r=i(179),n=i(180),o=i(181),s=i(182),l=i(183),h=i(184),u=i(185),c=i(186),d=i(187),f=i(188),p=i(189),m=i(190),C=i(191);e.a={string:a.a,method:r.a,number:n.a,boolean:o.a,regexp:s.a,integer:l.a,float:h.a,array:u.a,object:c.a,enum:d.a,pattern:f.a,date:p.a,url:C.a,hex:C.a,email:C.a,required:m.a}},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e,"string")&&!t.required)return i();r.a.required(t,e,a,s,o,"string"),Object(n.e)(e,"string")||(r.a.type(t,e,a,s,o),r.a.range(t,e,a,s,o),r.a.pattern(t,e,a,s,o),!0===t.whitespace&&r.a.whitespace(t,e,a,s,o))}i(s)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,n){(/^\s+$/.test(e)||""===e)&&a.push(r.d(n.messages.whitespace,t.fullField))}var r=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,r){if(t.required&&void 0===e)return void Object(s.a)(t,e,i,a,r);var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=t.type;l.indexOf(u)>-1?h[u](e)||a.push(o.d(r.messages.types[u],t.fullField,t.type)):u&&(void 0===e?"undefined":n()(e))!==t.type&&a.push(o.d(r.messages.types[u],t.fullField,t.type))}var r=i(30),n=i.n(r),o=i(1),s=i(99),l={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},h={integer:function(t){return h.number(t)&&parseInt(t,10)===t},float:function(t){return h.number(t)&&!h.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(t){return!1}},date:function(t){return"function"==typeof t.getTime&&"function"==typeof t.getMonth&&"function"==typeof t.getYear},number:function(t){return!isNaN(t)&&"number"==typeof t},object:function(t){return"object"===(void 0===t?"undefined":n()(t))&&!h.array(t)},method:function(t){return"function"==typeof t},email:function(t){return"string"==typeof t&&!!t.match(l.email)&&t.length<255},url:function(t){return"string"==typeof t&&!!t.match(l.url)},hex:function(t){return"string"==typeof t&&!!t.match(l.hex)}};e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,n){var o="number"==typeof t.len,s="number"==typeof t.min,l="number"==typeof t.max,h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=e,c=null,d="number"==typeof e,f="string"==typeof e,p=Array.isArray(e);if(d?c="number":f?c="string":p&&(c="array"),!c)return!1;p&&(u=e.length),f&&(u=e.replace(h,"_").length),o?u!==t.len&&a.push(r.d(n.messages[c].len,t.fullField,t.len)):s&&!l&&u<t.min?a.push(r.d(n.messages[c].min,t.fullField,t.min)):l&&!s&&u>t.max?a.push(r.d(n.messages[c].max,t.fullField,t.max)):s&&l&&(u<t.min||u>t.max)&&a.push(r.d(n.messages[c].range,t.fullField,t.min,t.max))}var r=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){t[n]=Array.isArray(t[n])?t[n]:[],-1===t[n].indexOf(e)&&a.push(r.d(o.messages[n],t.fullField,t[n].join(", ")))}var r=i(1),n="enum";e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,n){if(t.pattern)if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||a.push(r.d(n.messages.pattern.mismatch,t.fullField,e,t.pattern));else if("string"==typeof t.pattern){var o=new RegExp(t.pattern);o.test(e)||a.push(r.d(n.messages.pattern.mismatch,t.fullField,e,t.pattern))}}var r=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e)&&!t.required)return i();r.a.required(t,e,a,s,o),void 0!==e&&r.a.type(t,e,a,s,o)}i(s)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e)&&!t.required)return i();r.a.required(t,e,a,s,o),void 0!==e&&(r.a.type(t,e,a,s,o),r.a.range(t,e,a,s,o))}i(s)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(r.e)(e)&&!t.required)return i();n.a.required(t,e,a,s,o),void 0!==e&&n.a.type(t,e,a,s,o)}i(s)}var r=i(1),n=i(6);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e)&&!t.required)return i();r.a.required(t,e,a,s,o),Object(n.e)(e)||r.a.type(t,e,a,s,o)}i(s)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e)&&!t.required)return i();r.a.required(t,e,a,s,o),void 0!==e&&(r.a.type(t,e,a,s,o),r.a.range(t,e,a,s,o))}i(s)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e)&&!t.required)return i();r.a.required(t,e,a,s,o),void 0!==e&&(r.a.type(t,e,a,s,o),r.a.range(t,e,a,s,o))}i(s)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e,"array")&&!t.required)return i();r.a.required(t,e,a,s,o,"array"),Object(n.e)(e,"array")||(r.a.type(t,e,a,s,o),r.a.range(t,e,a,s,o))}i(s)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e)&&!t.required)return i();r.a.required(t,e,a,s,o),void 0!==e&&r.a.type(t,e,a,s,o)}i(s)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,s){var l=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e)&&!t.required)return i();r.a.required(t,e,a,l,s),e&&r.a[o](t,e,a,l,s)}i(l)}var r=i(6),n=i(1),o="enum";e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e,"string")&&!t.required)return i();r.a.required(t,e,a,s,o),Object(n.e)(e,"string")||r.a.pattern(t,e,a,s,o)}i(s)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e)&&!t.required)return i();if(r.a.required(t,e,a,s,o),!Object(n.e)(e)){var l=void 0;l="number"==typeof e?new Date(e):e,r.a.type(t,l,a,s,o),l&&r.a.range(t,l.getTime(),a,s,o)}}i(s)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,r){var s=[],l=Array.isArray(e)?"array":void 0===e?"undefined":n()(e);o.a.required(t,e,a,s,r,l),i(s)}var r=i(30),n=i.n(r),o=i(6);e.a=a},function(t,e,i){"use strict";function a(t,e,i,a,o){var s=t.type,l=[];if(t.required||!t.required&&a.hasOwnProperty(t.field)){if(Object(n.e)(e,s)&&!t.required)return i();r.a.required(t,e,a,l,o,s),Object(n.e)(e,s)||r.a.type(t,e,a,l,o)}i(l)}var r=i(6),n=i(1);e.a=a},function(t,e,i){"use strict";function a(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}e.b=a,i.d(e,"a",function(){return r});var r=a()},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=104)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},10:function(t,e){t.exports=i(51)},104:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["el-input-number",t.inputNumberSize?"el-input-number--"+t.inputNumberSize:"",{"is-disabled":t.inputNumberDisabled},{"is-without-controls":!t.controls},{"is-controls-right":t.controlsAtRight}],on:{dragstart:function(t){t.preventDefault()}}},[t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":t.minDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.decrease(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-down":"minus")})]):t._e(),t.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:t.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":t.maxDisabled},attrs:{role:"button"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.increase(e):null}}},[i("i",{class:"el-icon-"+(t.controlsAtRight?"arrow-up":"plus")})]):t._e(),i("el-input",{ref:"input",attrs:{value:t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label},on:{blur:t.handleBlur,focus:t.handleFocus,input:t.handleInput,change:t.handleInputChange},nativeOn:{keydown:[function(e){return"button"in e||!t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?(e.preventDefault(),t.increase(e)):null},function(e){return"button"in e||!t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?(e.preventDefault(),t.decrease(e)):null}]}})],1)},r=[];a._withStripped=!0;var n=i(10),o=i.n(n),s=i(22),l=i.n(s),h=i(30),u={name:"ElInputNumber",mixins:[l()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:h.a},components:{ElInput:o.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(t){return t>=0&&t===parseInt(t,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(t){var e=void 0===t?t:Number(t);if(void 0!==e){if(isNaN(e))return;if(this.stepStrictly){var i=this.getPrecision(this.step),a=Math.pow(10,i);e=Math.round(e/this.step)*a*this.step/a}void 0!==this.precision&&(e=this.toPrecision(e,this.precision))}e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),this.currentValue=e,this.userInput=null,this.$emit("input",e)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var t=this.value,e=this.step,i=this.getPrecision,a=this.precision,r=i(e);return void 0!==a?(r>a&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),a):Math.max(i(t),r)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||!!(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var t=this.currentValue;if("number"==typeof t){if(this.stepStrictly){var e=this.getPrecision(this.step),i=Math.pow(10,e);t=Math.round(t/this.step)*i*this.step/i}void 0!==this.precision&&(t=t.toFixed(this.precision))}return t}},methods:{toPrecision:function(t,e){return void 0===e&&(e=this.numPrecision),parseFloat(Math.round(t*Math.pow(10,e))/Math.pow(10,e))},getPrecision:function(t){if(void 0===t)return 0;var e=t.toString(),i=e.indexOf("."),a=0;return-1!==i&&(a=e.length-i-1),a},_increase:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t+i*e)/i)},_decrease:function(t,e){if("number"!=typeof t&&void 0!==t)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*t-i*e)/i)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var t=this.value||0,e=this._increase(t,this.step);this.setCurrentValue(e)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var t=this.value||0,e=this._decrease(t,this.step);this.setCurrentValue(e)}},handleBlur:function(t){this.$emit("blur",t)},handleFocus:function(t){this.$emit("focus",t)},setCurrentValue:function(t){var e=this.currentValue;"number"==typeof t&&void 0!==this.precision&&(t=this.toPrecision(t,this.precision)),t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),e!==t&&(this.userInput=null,this.$emit("input",t),this.$emit("change",t,e),this.currentValue=t)},handleInput:function(t){this.userInput=t},handleInputChange:function(t){var e=""===t?void 0:Number(t);isNaN(e)&&""!==t||this.setCurrentValue(e),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var t=this.$refs.input.$refs.input;t.setAttribute("role","spinbutton"),t.setAttribute("aria-valuemax",this.max),t.setAttribute("aria-valuemin",this.min),t.setAttribute("aria-valuenow",this.currentValue),t.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){if(this.$refs&&this.$refs.input){this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}}},c=u,d=i(0),f=Object(d.a)(c,a,r,!1,null,null,null);f.options.__file="packages/input-number/src/input-number.vue";var p=f.exports;p.install=function(t){t.component(p.name,p)};e.default=p},2:function(t,e){t.exports=i(12)},22:function(t,e){t.exports=i(55)},30:function(t,e,i){"use strict";var a=i(2);e.a={bind:function(t,e,i){var r=null,n=void 0,o=function(){return i.context[e.expression].apply()},s=function(){Date.now()-n<100&&o(),clearInterval(r),r=null};Object(a.on)(t,"mousedown",function(t){0===t.button&&(n=Date.now(),Object(a.once)(document,"mouseup",s),clearInterval(r),r=setInterval(o,100))})}}}})},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=59)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},15:function(t,e){t.exports=i(54)},19:function(t,e){t.exports=i(87)},21:function(t,e){t.exports=i(38)},26:function(t,e){t.exports=i(88)},3:function(t,e){t.exports=i(10)},31:function(t,e){t.exports=i(56)},40:function(t,e){t.exports=i(57)},51:function(t,e){t.exports=i(100)},59:function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["el-cascader-panel",t.border&&"is-bordered"],on:{keydown:t.handleKeyDown}},t._l(t.menus,function(t,e){return i("cascader-menu",{key:e,ref:"menu",refInFor:!0,attrs:{index:e,nodes:t}})}),1)},o=[];n._withStripped=!0;var s=i(26),l=i.n(s),h=i(15),u=i.n(h),c=i(19),d=i.n(c),f=i(51),p=i.n(f),m=i(3),C=function(t){return t.stopPropagation()},v={inject:["panel"],components:{ElCheckbox:d.a,ElRadio:p.a},props:{node:{required:!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var t=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some(function(e){return t.isInPath(e)})},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var t=this,e=this.panel,i=this.node,a=this.isDisabled,r=this.config,n=r.multiple;!r.checkStrictly&&a||i.loading||(r.lazy&&!i.loaded?e.lazyLoad(i,function(){var e=t.isLeaf;if(e||t.handleExpand(),n){var a=!!e&&i.checked;t.handleMultiCheckChange(a)}}):e.handleExpand(i))},handleCheckChange:function(){var t=this.panel,e=this.value,i=this.node;t.handleCheckChange(e),t.handleExpand(i)},handleMultiCheckChange:function(t){this.node.doCheck(t),this.panel.calculateMultiCheckedValue()},isInPath:function(t){var e=this.node;return(t[e.level-1]||{}).uid===e.uid},renderPrefix:function(t){var e=this.isLeaf,i=this.isChecked,a=this.config,r=a.checkStrictly;return a.multiple?this.renderCheckbox(t):r?this.renderRadio(t):e&&i?this.renderCheckIcon(t):null},renderPostfix:function(t){var e=this.node,i=this.isLeaf;return e.loading?this.renderLoadingIcon(t):i?null:this.renderExpandIcon(t)},renderCheckbox:function(t){var e=this.node,i=this.config,a=this.isDisabled,r={on:{change:this.handleMultiCheckChange},nativeOn:{}};return i.checkStrictly&&(r.nativeOn.click=C),t("el-checkbox",l()([{attrs:{value:e.checked,indeterminate:e.indeterminate,disabled:a}},r]))},renderRadio:function(t){var e=this.checkedValue,i=this.value,a=this.isDisabled;return Object(m.isEqual)(i,e)&&(i=e),t("el-radio",{attrs:{value:e,label:i,disabled:a},on:{change:this.handleCheckChange},nativeOn:{click:C}},[t("span")])},renderCheckIcon:function(t){return t("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(t){return t("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(t){return t("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(t){var e=this.panel,i=this.node,a=e.renderLabelFn;return t("span",{class:"el-cascader-node__label"},[(a?a({node:i,data:i.data}):null)||i.label])}},render:function(t){var e=this,i=this.inActivePath,a=this.inCheckedPath,r=this.isChecked,n=this.isLeaf,o=this.isDisabled,s=this.config,h=this.nodeId,u=s.expandTrigger,c=s.checkStrictly,d=s.multiple,f=!c&&o,p={on:{}};return"click"===u?p.on.click=this.handleExpand:(p.on.mouseenter=function(t){e.handleExpand(),e.$emit("expand",t)},p.on.focus=function(t){e.handleExpand(),e.$emit("expand",t)}),!n||o||c||d||(p.on.click=this.handleCheckChange),t("li",l()([{attrs:{role:"menuitem",id:h,"aria-expanded":i,tabindex:f?null:-1},class:{"el-cascader-node":!0,"is-selectable":c,"in-active-path":i,"in-checked-path":a,"is-active":r,"is-disabled":f}},p]),[this.renderPrefix(t),this.renderContent(t),this.renderPostfix(t)])}},D=v,g=i(0),S=Object(g.a)(D,void 0,void 0,!1,null,null,null);S.options.__file="packages/cascader-panel/src/cascader-node.vue";var x=S.exports,b=i(6),I=i.n(b),T={name:"ElCascaderMenu",mixins:[I.a],inject:["panel"],components:{ElScrollbar:u.a,CascaderNode:x},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:Object(m.generateId)()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(t){this.activeNode=t.target},handleMouseMove:function(t){var e=this.activeNode,i=this.hoverTimer,a=this.$refs.hoverZone;if(e&&a)if(e.contains(t.target)){clearTimeout(i);var r=this.$el.getBoundingClientRect(),n=r.left,o=t.clientX-n,s=this.$el,l=s.offsetWidth,h=s.offsetHeight,u=e.offsetTop,c=u+e.offsetHeight;a.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+u+" L"+l+" 0 V"+u+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+c+" L"+l+" "+h+" V"+c+' Z" />\n        '}else i||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold))},clearHoverZone:function(){var t=this.$refs.hoverZone;t&&(t.innerHTML="")},renderEmptyText:function(t){return t("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(t){var e=this.menuId,i=this.panel.isHoverMenu,a={on:{}};return i&&(a.on.expand=this.handleExpand),[].concat(this.nodes.map(function(i,r){var n=i.hasChildren;return t("cascader-node",l()([{key:i.uid,attrs:{node:i,"node-id":e+"-"+r,"aria-haspopup":n,"aria-owns":n?e:null}},a]))}),[i?t("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(t){var e=this.isEmpty,i=this.menuId,a={nativeOn:{}};return this.panel.isHoverMenu&&(a.nativeOn.mousemove=this.handleMouseMove),t("el-scrollbar",l()([{attrs:{tag:"ul",role:"menu",id:i,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":e}},class:"el-cascader-menu"},a]),[e?this.renderEmptyText(t):this.renderNodeList(t)])}},y=T,w=Object(g.a)(y,void 0,void 0,!1,null,null,null);w.options.__file="packages/cascader-panel/src/cascader-menu.vue";var E=w.exports,F=i(21),L=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),M=0,A=function(){function t(e,i,r){a(this,t),this.data=e,this.config=i,this.parent=r||null,this.level=this.parent?this.parent.level+1:1,this.uid=M++,this.initState(),this.initChildren()}return t.prototype.initState=function(){var t=this.config,e=t.value,i=t.label;this.value=this.data[e],this.label=this.data[i],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map(function(t){return t.value}),this.pathLabels=this.pathNodes.map(function(t){return t.label}),this.loading=!1,this.loaded=!1},t.prototype.initChildren=function(){var e=this,i=this.config,a=i.children,r=this.data[a];this.hasChildren=Array.isArray(r),this.children=(r||[]).map(function(a){return new t(a,i,e)})},t.prototype.calculatePathNodes=function(){for(var t=[this],e=this.parent;e;)t.unshift(e),e=e.parent;return t},t.prototype.getPath=function(){return this.path},t.prototype.getValue=function(){return this.value},t.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},t.prototype.getText=function(t,e){return t?this.pathLabels.join(e):this.label},t.prototype.isSameNode=function(t){var e=this.getValueByOption();return this.config.multiple&&Array.isArray(t)?t.some(function(t){return Object(m.isEqual)(t,e)}):Object(m.isEqual)(t,e)},t.prototype.broadcast=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];var r="onParent"+Object(m.capitalize)(t);this.children.forEach(function(e){e&&(e.broadcast.apply(e,[t].concat(i)),e[r]&&e[r].apply(e,i))})},t.prototype.emit=function(t){var e=this.parent,i="onChild"+Object(m.capitalize)(t);if(e){for(var a=arguments.length,r=Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];e[i]&&e[i].apply(e,r),e.emit.apply(e,[t].concat(r))}},t.prototype.onParentCheck=function(t){this.isDisabled||this.setCheckState(t)},t.prototype.onChildCheck=function(){var t=this.children,e=t.filter(function(t){return!t.isDisabled}),i=!!e.length&&e.every(function(t){return t.checked});this.setCheckState(i)},t.prototype.setCheckState=function(t){var e=this.children.length,i=this.children.reduce(function(t,e){return t+(e.checked?1:e.indeterminate?.5:0)},0);this.checked=t,this.indeterminate=i!==e&&i>0},t.prototype.syncCheckState=function(t){var e=this.getValueByOption(),i=this.isSameNode(t,e);this.doCheck(i)},t.prototype.doCheck=function(t){this.checked!==t&&(this.config.checkStrictly?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check")))},L(t,[{key:"isDisabled",get:function(){var t=this.data,e=this.parent,i=this.config,a=i.disabled,r=i.checkStrictly;return t[a]||!r&&e&&e.isDisabled}},{key:"isLeaf",get:function(){var t=this.data,e=this.loaded,i=this.hasChildren,a=this.children,r=this.config,n=r.lazy,o=r.leaf;if(n){var s=Object(F.isDef)(t[o])?t[o]:!!e&&!a.length;return this.hasChildren=!s,s}return!i}}]),t}(),O=A,N=function t(e,i){return e.reduce(function(e,a){return a.isLeaf?e.push(a):(!i&&e.push(a),e=e.concat(t(a.children,i))),e},[])},_=function(){function t(e,i){r(this,t),this.config=i,this.initNodes(e)}return t.prototype.initNodes=function(t){var e=this;t=Object(m.coerceTruthyValueToArray)(t),this.nodes=t.map(function(t){return new O(t,e.config)}),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},t.prototype.appendNode=function(t,e){var i=new O(t,this.config,e);(e?e.children:this.nodes).push(i)},t.prototype.appendNodes=function(t,e){var i=this;t=Object(m.coerceTruthyValueToArray)(t),t.forEach(function(t){return i.appendNode(t,e)})},t.prototype.getNodes=function(){return this.nodes},t.prototype.getFlattedNodes=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t?this.leafNodes:this.flattedNodes;return e?i:N(this.nodes,t)},t.prototype.getNodeByValue=function(t){var e=this.getFlattedNodes(!1,!this.config.lazy).filter(function(e){return Object(m.valueEquals)(e.path,t)||e.value===t});return e&&e.length?e[0]:null},t}(),P=_,R=i(9),B=i.n(R),k=i(40),V=i.n(k),G=i(31),H=i.n(G),Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},X=V.a.keys,W={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:m.noop,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},U=function(t){return!t.getAttribute("aria-owns")},z=function(t,e){var i=t.parentNode;if(i){var a=i.querySelectorAll('.el-cascader-node[tabindex="-1"]');return a[Array.prototype.indexOf.call(a,t)+e]||null}return null},K=function(t,e){if(t){var i=t.id.split("-");return Number(i[i.length-2])}},$=function(t){t&&(t.focus(),!U(t)&&t.click())},j=function(t){if(t){var e=t.querySelector("input");e?e.click():U(t)&&t.click()}},J={name:"ElCascaderPanel",components:{CascaderMenu:E},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return B()(Y({},W),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{options:{handler:function(){this.initStore()},immediate:!0,deep:!0},value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},checkedValue:function(t){Object(m.isEqual)(t,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",t),this.$emit("change",t))}},mounted:function(){this.isEmptyValue(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var t=this.config,e=this.options;t.lazy&&Object(m.isEmpty)(e)?this.lazyLoad():(this.store=new P(e,t),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var t=this.value,e=this.checkedValue;Object(m.isEqual)(t,e)||(this.activePath=[],this.checkedValue=t,this.syncMenuState())},syncMenuState:function(){var t=this.multiple,e=this.checkStrictly;this.syncActivePath(),t&&this.syncMultiCheckState(),e&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var t=this;this.getFlattedNodes(this.leafOnly).forEach(function(e){e.syncCheckState(t.checkedValue)})},isEmptyValue:function(t){var e=this.multiple,i=this.config,a=i.emitPath;return!(!e&&!a)&&Object(m.isEmpty)(t)},syncActivePath:function(){var t=this,e=this.store,i=this.multiple,a=this.activePath,r=this.checkedValue;if(Object(m.isEmpty)(a))if(this.isEmptyValue(r))this.activePath=[],this.menus=[e.getNodes()];else{var n=i?r[0]:r,o=this.getNodeByValue(n)||{},s=(o.pathNodes||[]).slice(0,-1);this.expandNodes(s)}else{var l=a.map(function(e){return t.getNodeByValue(e.getValue())});this.expandNodes(l)}},expandNodes:function(t){var e=this;t.forEach(function(t){return e.handleExpand(t,!0)})},calculateCheckedNodePaths:function(){var t=this,e=this.checkedValue,i=this.multiple,a=i?Object(m.coerceTruthyValueToArray)(e):[e];this.checkedNodePaths=a.map(function(e){var i=t.getNodeByValue(e);return i?i.pathNodes:[]})},handleKeyDown:function(t){var e=t.target;switch(t.keyCode){case X.up:var i=z(e,-1);$(i);break;case X.down:var a=z(e,1);$(a);break;case X.left:var r=this.$refs.menu[K(e)-1];if(r){var n=r.$el.querySelector('.el-cascader-node[aria-expanded="true"]');$(n)}break;case X.right:var o=this.$refs.menu[K(e)+1];if(o){var s=o.$el.querySelector('.el-cascader-node[tabindex="-1"]');$(s)}break;case X.enter:j(e);break;case X.esc:case X.tab:this.$emit("close");break;default:return}},handleExpand:function(t,e){var i=this.activePath,a=t.level,r=i.slice(0,a-1),n=this.menus.slice(0,a);if(t.isLeaf||(r.push(t),n.push(t.children)),this.activePath=r,this.menus=n,!e){var o=r.map(function(t){return t.getValue()}),s=i.map(function(t){return t.getValue()});Object(m.valueEquals)(o,s)||(this.$emit("active-item-change",o),this.$emit("expand-change",o))}},handleCheckChange:function(t){this.checkedValue=t},lazyLoad:function(t,e){var i=this,a=this.config;t||(t=t||{root:!0,level:0},this.store=new P([],a),this.menus=[this.store.getNodes()]),t.loading=!0;var r=function(a){var r=t.root?null:t;if(a&&a.length&&i.store.appendNodes(a,r),t.loading=!1,t.loaded=!0,Array.isArray(i.checkedValue)){var n=i.checkedValue[i.loadCount++],o=i.config.value,s=i.config.leaf;if(Array.isArray(a)&&a.filter(function(t){return t[o]===n}).length>0){var l=i.store.getNodeByValue(n);l.data[s]||i.lazyLoad(l,function(){i.handleExpand(l)}),i.loadCount===i.checkedValue.length&&i.$parent.computePresentText()}}e&&e(a)};a.lazyLoad(t,r)},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map(function(t){return t.getValueByOption()})},scrollIntoView:function(){if(!this.$isServer){(this.$refs.menu||[]).forEach(function(t){var e=t.$el;if(e){var i=e.querySelector(".el-scrollbar__wrap"),a=e.querySelector(".el-cascader-node.is-active")||e.querySelector(".el-cascader-node.in-active-path");H()(i,a)}})}},getNodeByValue:function(t){return this.store.getNodeByValue(t)},getFlattedNodes:function(t){var e=!this.config.lazy;return this.store.getFlattedNodes(t,e)},getCheckedNodes:function(t){var e=this.checkedValue;if(this.multiple)return this.getFlattedNodes(t).filter(function(t){return t.checked});return this.isEmptyValue(e)?[]:[this.getNodeByValue(e)]},clearCheckedNodes:function(){var t=this.config,e=this.leafOnly,i=t.multiple,a=t.emitPath;i?(this.getCheckedNodes(e).filter(function(t){return!t.isDisabled}).forEach(function(t){return t.doCheck(!1)}),this.calculateMultiCheckedValue()):this.checkedValue=a?[]:null}}},q=J,Z=Object(g.a)(q,n,o,!1,null,null,null);Z.options.__file="packages/cascader-panel/src/cascader-panel.vue";var Q=Z.exports;Q.install=function(t){t.component(Q.name,Q)};e.default=Q},6:function(t,e){t.exports=i(49)},9:function(t,e){t.exports=i(37)}})},function(t,e,i){t.exports=function(t){function e(a){if(i[a])return i[a].exports;var r=i[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(a,r,function(e){return t[e]}.bind(null,r));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=79)}({0:function(t,e,i){"use strict";function a(t,e,i,a,r,n,o,s){var l="function"==typeof t?t.options:t;e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),a&&(l.functional=!0),n&&(l._scopeId="data-v-"+n);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=h):r&&(h=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(l.functional){l._injectStyles=h;var u=l.render;l.render=function(t,e){return h.call(e),u(t,e)}}else{var c=l.beforeCreate;l.beforeCreate=c?[].concat(c,h):[h]}return{exports:t,options:l}}i.d(e,"a",function(){return a})},2:function(t,e){t.exports=i(12)},3:function(t,e){t.exports=i(10)},5:function(t,e){t.exports=i(36)},7:function(t,e){t.exports=i(3)},79:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("transition",{attrs:{name:t.transition},on:{"after-enter":t.handleAfterEnter,"after-leave":t.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled&&t.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[t.popperClass,t.content&&"el-popover--plain"],style:{width:t.width+"px"},attrs:{role:"tooltip",id:t.tooltipId,"aria-hidden":t.disabled||!t.showPopper?"true":"false"}},[t.title?i("div",{staticClass:"el-popover__title",domProps:{textContent:t._s(t.title)}}):t._e(),t._t("default",[t._v(t._s(t.content))])],2)]),i("span",{ref:"wrapper",staticClass:"el-popover__reference-wrapper"},[t._t("reference")],2)],1)},r=[];a._withStripped=!0;var n=i(5),o=i.n(n),s=i(2),l=i(3),h={name:"ElPopover",mixins:[o.a],props:{trigger:{type:String,default:"click",validator:function(t){return["click","focus","hover","manual"].indexOf(t)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(l.generateId)()}},watch:{showPopper:function(t){this.disabled||(t?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var t=this,e=this.referenceElm=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$refs.wrapper.children&&(e=this.referenceElm=this.$refs.wrapper.children[0]),e&&(Object(s.addClass)(e,"el-popover__reference"),e.setAttribute("aria-describedby",this.tooltipId),e.setAttribute("tabindex",this.tabindex),i.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(s.on)(e,"focusin",function(){t.handleFocus();var i=e.__vue__;i&&"function"==typeof i.focus&&i.focus()}),Object(s.on)(i,"focusin",this.handleFocus),Object(s.on)(e,"focusout",this.handleBlur),Object(s.on)(i,"focusout",this.handleBlur)),Object(s.on)(e,"keydown",this.handleKeydown),Object(s.on)(e,"click",this.handleClick)),"click"===this.trigger?(Object(s.on)(e,"click",this.doToggle),Object(s.on)(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(s.on)(e,"mouseenter",this.handleMouseEnter),Object(s.on)(i,"mouseenter",this.handleMouseEnter),Object(s.on)(e,"mouseleave",this.handleMouseLeave),Object(s.on)(i,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),e.querySelector("input, textarea")?(Object(s.on)(e,"focusin",this.doShow),Object(s.on)(e,"focusout",this.doClose)):(Object(s.on)(e,"mousedown",this.doShow),Object(s.on)(e,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(s.addClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(s.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){Object(s.removeClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var t=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){t.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(t){27===t.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var t=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout(function(){t.showPopper=!1},this.closeDelay):this.showPopper=!1},handleDocumentClick:function(t){var e=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!e&&this.$refs.wrapper.children&&(e=this.referenceElm=this.$refs.wrapper.children[0]),this.$el&&e&&!this.$el.contains(t.target)&&!e.contains(t.target)&&i&&!i.contains(t.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var t=this.reference;Object(s.off)(t,"click",this.doToggle),Object(s.off)(t,"mouseup",this.doClose),Object(s.off)(t,"mousedown",this.doShow),Object(s.off)(t,"focusin",this.doShow),Object(s.off)(t,"focusout",this.doClose),Object(s.off)(t,"mousedown",this.doShow),Object(s.off)(t,"mouseup",this.doClose),Object(s.off)(t,"mouseleave",this.handleMouseLeave),Object(s.off)(t,"mouseenter",this.handleMouseEnter),Object(s.off)(document,"click",this.handleDocumentClick)}},u=h,c=i(0),d=Object(c.a)(u,a,r,!1,null,null,null);d.options.__file="packages/popover/src/main.vue";var f=d.exports,p=function(t,e,i){var a=e.expression?e.value:e.arg,r=i.context.$refs[a];r&&(Array.isArray(r)?r[0].$refs.reference=t:r.$refs.reference=t)},m={bind:function(t,e,i){p(t,e,i)},inserted:function(t,e,i){p(t,e,i)}},C=i(7);i.n(C).a.directive("popover",m),f.install=function(t){t.directive("popover",m),t.component(f.name,f)},f.directive=m;e.default=f}})},,function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,".el-pagination--small .arrow.disabled,.el-table--hidden,.el-table .hidden-columns,.el-table td.is-hidden>*,.el-table th.is-hidden>*{visibility:hidden}.el-dropdown .el-dropdown-selfdefine:focus:active,.el-dropdown .el-dropdown-selfdefine:focus:not(.focusing),.el-message__closeBtn:focus,.el-message__content:focus,.el-popover:focus,.el-popover:focus:active,.el-popover__reference:focus:hover,.el-popover__reference:focus:not(.focusing),.el-rate:active,.el-rate:focus,.el-tooltip:focus:hover,.el-tooltip:focus:not(.focusing),.el-upload-list__item.is-success:active,.el-upload-list__item.is-success:not(.focusing):focus{outline-width:0}.el-input__suffix,.el-tree.is-dragging .el-tree-node__content *{pointer-events:none}@font-face{font-family:element-icons;src:url("+i(202)+') format("woff"),url('+i(203)+') format("truetype");font-weight:400;font-display:"auto";font-style:normal}[class*=" el-icon-"],[class^=el-icon-]{font-family:element-icons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;vertical-align:baseline;display:inline-block;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.el-icon-ice-cream-round:before{content:"\\E6A0"}.el-icon-ice-cream-square:before{content:"\\E6A3"}.el-icon-lollipop:before{content:"\\E6A4"}.el-icon-potato-strips:before{content:"\\E6A5"}.el-icon-milk-tea:before{content:"\\E6A6"}.el-icon-ice-drink:before{content:"\\E6A7"}.el-icon-ice-tea:before{content:"\\E6A9"}.el-icon-coffee:before{content:"\\E6AA"}.el-icon-orange:before{content:"\\E6AB"}.el-icon-pear:before{content:"\\E6AC"}.el-icon-apple:before{content:"\\E6AD"}.el-icon-cherry:before{content:"\\E6AE"}.el-icon-watermelon:before{content:"\\E6AF"}.el-icon-grape:before{content:"\\E6B0"}.el-icon-refrigerator:before{content:"\\E6B1"}.el-icon-goblet-square-full:before{content:"\\E6B2"}.el-icon-goblet-square:before{content:"\\E6B3"}.el-icon-goblet-full:before{content:"\\E6B4"}.el-icon-goblet:before{content:"\\E6B5"}.el-icon-cold-drink:before{content:"\\E6B6"}.el-icon-coffee-cup:before{content:"\\E6B8"}.el-icon-water-cup:before{content:"\\E6B9"}.el-icon-hot-water:before{content:"\\E6BA"}.el-icon-ice-cream:before{content:"\\E6BB"}.el-icon-dessert:before{content:"\\E6BC"}.el-icon-sugar:before{content:"\\E6BD"}.el-icon-tableware:before{content:"\\E6BE"}.el-icon-burger:before{content:"\\E6BF"}.el-icon-knife-fork:before{content:"\\E6C1"}.el-icon-fork-spoon:before{content:"\\E6C2"}.el-icon-chicken:before{content:"\\E6C3"}.el-icon-food:before{content:"\\E6C4"}.el-icon-dish-1:before{content:"\\E6C5"}.el-icon-dish:before{content:"\\E6C6"}.el-icon-moon-night:before{content:"\\E6EE"}.el-icon-moon:before{content:"\\E6F0"}.el-icon-cloudy-and-sunny:before{content:"\\E6F1"}.el-icon-partly-cloudy:before{content:"\\E6F2"}.el-icon-cloudy:before{content:"\\E6F3"}.el-icon-sunny:before{content:"\\E6F6"}.el-icon-sunset:before{content:"\\E6F7"}.el-icon-sunrise-1:before{content:"\\E6F8"}.el-icon-sunrise:before{content:"\\E6F9"}.el-icon-heavy-rain:before{content:"\\E6FA"}.el-icon-lightning:before{content:"\\E6FB"}.el-icon-light-rain:before{content:"\\E6FC"}.el-icon-wind-power:before{content:"\\E6FD"}.el-icon-baseball:before{content:"\\E712"}.el-icon-soccer:before{content:"\\E713"}.el-icon-football:before{content:"\\E715"}.el-icon-basketball:before{content:"\\E716"}.el-icon-ship:before{content:"\\E73F"}.el-icon-truck:before{content:"\\E740"}.el-icon-bicycle:before{content:"\\E741"}.el-icon-mobile-phone:before{content:"\\E6D3"}.el-icon-service:before{content:"\\E6D4"}.el-icon-key:before{content:"\\E6E2"}.el-icon-unlock:before{content:"\\E6E4"}.el-icon-lock:before{content:"\\E6E5"}.el-icon-watch:before{content:"\\E6FE"}.el-icon-watch-1:before{content:"\\E6FF"}.el-icon-timer:before{content:"\\E702"}.el-icon-alarm-clock:before{content:"\\E703"}.el-icon-map-location:before{content:"\\E704"}.el-icon-delete-location:before{content:"\\E705"}.el-icon-add-location:before{content:"\\E706"}.el-icon-location-information:before{content:"\\E707"}.el-icon-location-outline:before{content:"\\E708"}.el-icon-location:before{content:"\\E79E"}.el-icon-place:before{content:"\\E709"}.el-icon-discover:before{content:"\\E70A"}.el-icon-first-aid-kit:before{content:"\\E70B"}.el-icon-trophy-1:before{content:"\\E70C"}.el-icon-trophy:before{content:"\\E70D"}.el-icon-medal:before{content:"\\E70E"}.el-icon-medal-1:before{content:"\\E70F"}.el-icon-stopwatch:before{content:"\\E710"}.el-icon-mic:before{content:"\\E711"}.el-icon-copy-document:before{content:"\\E718"}.el-icon-full-screen:before{content:"\\E719"}.el-icon-switch-button:before{content:"\\E71B"}.el-icon-aim:before{content:"\\E71C"}.el-icon-crop:before{content:"\\E71D"}.el-icon-odometer:before{content:"\\E71E"}.el-icon-time:before{content:"\\E71F"}.el-icon-bangzhu:before{content:"\\E724"}.el-icon-close-notification:before{content:"\\E726"}.el-icon-microphone:before{content:"\\E727"}.el-icon-turn-off-microphone:before{content:"\\E728"}.el-icon-position:before{content:"\\E729"}.el-icon-postcard:before{content:"\\E72A"}.el-icon-message:before{content:"\\E72B"}.el-icon-chat-line-square:before{content:"\\E72D"}.el-icon-chat-dot-square:before{content:"\\E72E"}.el-icon-chat-dot-round:before{content:"\\E72F"}.el-icon-chat-square:before{content:"\\E730"}.el-icon-chat-line-round:before{content:"\\E731"}.el-icon-chat-round:before{content:"\\E732"}.el-icon-set-up:before{content:"\\E733"}.el-icon-turn-off:before{content:"\\E734"}.el-icon-open:before{content:"\\E735"}.el-icon-connection:before{content:"\\E736"}.el-icon-link:before{content:"\\E737"}.el-icon-cpu:before{content:"\\E738"}.el-icon-thumb:before{content:"\\E739"}.el-icon-female:before{content:"\\E73A"}.el-icon-male:before{content:"\\E73B"}.el-icon-guide:before{content:"\\E73C"}.el-icon-news:before{content:"\\E73E"}.el-icon-price-tag:before{content:"\\E744"}.el-icon-discount:before{content:"\\E745"}.el-icon-wallet:before{content:"\\E747"}.el-icon-coin:before{content:"\\E748"}.el-icon-money:before{content:"\\E749"}.el-icon-bank-card:before{content:"\\E74A"}.el-icon-box:before{content:"\\E74B"}.el-icon-present:before{content:"\\E74C"}.el-icon-sell:before{content:"\\E6D5"}.el-icon-sold-out:before{content:"\\E6D6"}.el-icon-shopping-bag-2:before{content:"\\E74D"}.el-icon-shopping-bag-1:before{content:"\\E74E"}.el-icon-shopping-cart-2:before{content:"\\E74F"}.el-icon-shopping-cart-1:before{content:"\\E750"}.el-icon-shopping-cart-full:before{content:"\\E751"}.el-icon-smoking:before{content:"\\E752"}.el-icon-no-smoking:before{content:"\\E753"}.el-icon-house:before{content:"\\E754"}.el-icon-table-lamp:before{content:"\\E755"}.el-icon-school:before{content:"\\E756"}.el-icon-office-building:before{content:"\\E757"}.el-icon-toilet-paper:before{content:"\\E758"}.el-icon-notebook-2:before{content:"\\E759"}.el-icon-notebook-1:before{content:"\\E75A"}.el-icon-files:before{content:"\\E75B"}.el-icon-collection:before{content:"\\E75C"}.el-icon-receiving:before{content:"\\E75D"}.el-icon-suitcase-1:before{content:"\\E760"}.el-icon-suitcase:before{content:"\\E761"}.el-icon-film:before{content:"\\E763"}.el-icon-collection-tag:before{content:"\\E765"}.el-icon-data-analysis:before{content:"\\E766"}.el-icon-pie-chart:before{content:"\\E767"}.el-icon-data-board:before{content:"\\E768"}.el-icon-data-line:before{content:"\\E76D"}.el-icon-reading:before{content:"\\E769"}.el-icon-magic-stick:before{content:"\\E76A"}.el-icon-coordinate:before{content:"\\E76B"}.el-icon-mouse:before{content:"\\E76C"}.el-icon-brush:before{content:"\\E76E"}.el-icon-headset:before{content:"\\E76F"}.el-icon-umbrella:before{content:"\\E770"}.el-icon-scissors:before{content:"\\E771"}.el-icon-mobile:before{content:"\\E773"}.el-icon-attract:before{content:"\\E774"}.el-icon-monitor:before{content:"\\E775"}.el-icon-search:before{content:"\\E778"}.el-icon-takeaway-box:before{content:"\\E77A"}.el-icon-paperclip:before{content:"\\E77D"}.el-icon-printer:before{content:"\\E77E"}.el-icon-document-add:before{content:"\\E782"}.el-icon-document:before{content:"\\E785"}.el-icon-document-checked:before{content:"\\E786"}.el-icon-document-copy:before{content:"\\E787"}.el-icon-document-delete:before{content:"\\E788"}.el-icon-document-remove:before{content:"\\E789"}.el-icon-tickets:before{content:"\\E78B"}.el-icon-folder-checked:before{content:"\\E77F"}.el-icon-folder-delete:before{content:"\\E780"}.el-icon-folder-remove:before{content:"\\E781"}.el-icon-folder-add:before{content:"\\E783"}.el-icon-folder-opened:before{content:"\\E784"}.el-icon-folder:before{content:"\\E78A"}.el-icon-edit-outline:before{content:"\\E764"}.el-icon-edit:before{content:"\\E78C"}.el-icon-date:before{content:"\\E78E"}.el-icon-c-scale-to-original:before{content:"\\E7C6"}.el-icon-view:before{content:"\\E6CE"}.el-icon-loading:before{content:"\\E6CF"}.el-icon-rank:before{content:"\\E6D1"}.el-icon-sort-down:before{content:"\\E7C4"}.el-icon-sort-up:before{content:"\\E7C5"}.el-icon-sort:before{content:"\\E6D2"}.el-icon-finished:before{content:"\\E6CD"}.el-icon-refresh-left:before{content:"\\E6C7"}.el-icon-refresh-right:before{content:"\\E6C8"}.el-icon-refresh:before{content:"\\E6D0"}.el-icon-video-play:before{content:"\\E7C0"}.el-icon-video-pause:before{content:"\\E7C1"}.el-icon-d-arrow-right:before{content:"\\E6DC"}.el-icon-d-arrow-left:before{content:"\\E6DD"}.el-icon-arrow-up:before{content:"\\E6E1"}.el-icon-arrow-down:before{content:"\\E6DF"}.el-icon-arrow-right:before{content:"\\E6E0"}.el-icon-arrow-left:before{content:"\\E6DE"}.el-icon-top-right:before{content:"\\E6E7"}.el-icon-top-left:before{content:"\\E6E8"}.el-icon-top:before{content:"\\E6E6"}.el-icon-bottom:before{content:"\\E6EB"}.el-icon-right:before{content:"\\E6E9"}.el-icon-back:before{content:"\\E6EA"}.el-icon-bottom-right:before{content:"\\E6EC"}.el-icon-bottom-left:before{content:"\\E6ED"}.el-icon-caret-top:before{content:"\\E78F"}.el-icon-caret-bottom:before{content:"\\E790"}.el-icon-caret-right:before{content:"\\E791"}.el-icon-caret-left:before{content:"\\E792"}.el-icon-d-caret:before{content:"\\E79A"}.el-icon-share:before{content:"\\E793"}.el-icon-menu:before{content:"\\E798"}.el-icon-s-grid:before{content:"\\E7A6"}.el-icon-s-check:before{content:"\\E7A7"}.el-icon-s-data:before{content:"\\E7A8"}.el-icon-s-opportunity:before{content:"\\E7AA"}.el-icon-s-custom:before{content:"\\E7AB"}.el-icon-s-claim:before{content:"\\E7AD"}.el-icon-s-finance:before{content:"\\E7AE"}.el-icon-s-comment:before{content:"\\E7AF"}.el-icon-s-flag:before{content:"\\E7B0"}.el-icon-s-marketing:before{content:"\\E7B1"}.el-icon-s-shop:before{content:"\\E7B4"}.el-icon-s-open:before{content:"\\E7B5"}.el-icon-s-management:before{content:"\\E7B6"}.el-icon-s-ticket:before{content:"\\E7B7"}.el-icon-s-release:before{content:"\\E7B8"}.el-icon-s-home:before{content:"\\E7B9"}.el-icon-s-promotion:before{content:"\\E7BA"}.el-icon-s-operation:before{content:"\\E7BB"}.el-icon-s-unfold:before{content:"\\E7BC"}.el-icon-s-fold:before{content:"\\E7A9"}.el-icon-s-platform:before{content:"\\E7BD"}.el-icon-s-order:before{content:"\\E7BE"}.el-icon-s-cooperation:before{content:"\\E7BF"}.el-icon-bell:before{content:"\\E725"}.el-icon-message-solid:before{content:"\\E799"}.el-icon-video-camera:before{content:"\\E772"}.el-icon-video-camera-solid:before{content:"\\E796"}.el-icon-camera:before{content:"\\E779"}.el-icon-camera-solid:before{content:"\\E79B"}.el-icon-download:before{content:"\\E77C"}.el-icon-upload2:before{content:"\\E77B"}.el-icon-upload:before{content:"\\E7C3"}.el-icon-picture-outline-round:before{content:"\\E75F"}.el-icon-picture-outline:before{content:"\\E75E"}.el-icon-picture:before{content:"\\E79F"}.el-icon-close:before{content:"\\E6DB"}.el-icon-check:before{content:"\\E6DA"}.el-icon-plus:before{content:"\\E6D9"}.el-icon-minus:before{content:"\\E6D8"}.el-icon-help:before{content:"\\E73D"}.el-icon-s-help:before{content:"\\E7B3"}.el-icon-circle-close:before{content:"\\E78D"}.el-icon-circle-check:before{content:"\\E720"}.el-icon-circle-plus-outline:before{content:"\\E723"}.el-icon-remove-outline:before{content:"\\E722"}.el-icon-zoom-out:before{content:"\\E776"}.el-icon-zoom-in:before{content:"\\E777"}.el-icon-error:before{content:"\\E79D"}.el-icon-success:before{content:"\\E79C"}.el-icon-circle-plus:before{content:"\\E7A0"}.el-icon-remove:before{content:"\\E7A2"}.el-icon-info:before{content:"\\E7A1"}.el-icon-question:before{content:"\\E7A4"}.el-icon-warning-outline:before{content:"\\E6C9"}.el-icon-warning:before{content:"\\E7A3"}.el-icon-goods:before{content:"\\E7C2"}.el-icon-s-goods:before{content:"\\E7B2"}.el-icon-star-off:before{content:"\\E717"}.el-icon-star-on:before{content:"\\E797"}.el-icon-more-outline:before{content:"\\E6CC"}.el-icon-more:before{content:"\\E794"}.el-icon-phone-outline:before{content:"\\E6CB"}.el-icon-phone:before{content:"\\E795"}.el-icon-user:before{content:"\\E6E3"}.el-icon-user-solid:before{content:"\\E7A5"}.el-icon-setting:before{content:"\\E6CA"}.el-icon-s-tools:before{content:"\\E7AC"}.el-icon-delete:before{content:"\\E6D7"}.el-icon-delete-solid:before{content:"\\E7C9"}.el-icon-eleme:before{content:"\\E7C7"}.el-icon-platform-eleme:before{content:"\\E7CA"}.el-icon-loading{animation:rotating 2s linear infinite}.el-icon--right{margin-left:5px}.el-icon--left{margin-right:5px}@keyframes rotating{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.el-pagination{white-space:nowrap;padding:2px 5px;color:#303133;font-weight:700}.el-pagination:after,.el-pagination:before{display:table;content:""}.el-pagination:after{clear:both}.el-pagination button,.el-pagination span:not([class*=suffix]){display:inline-block;font-size:13px;min-width:35.5px;height:28px;line-height:28px;vertical-align:top;box-sizing:border-box}.el-pagination .el-input__inner{text-align:center;-moz-appearance:textfield;line-height:normal}.el-pagination .el-input__suffix{right:0;transform:scale(.8)}.el-pagination .el-select .el-input{width:100px;margin:0 5px}.el-pagination .el-select .el-input .el-input__inner{padding-right:25px;border-radius:3px}.el-pagination button{border:none;padding:0 6px;background:0 0}.el-pagination button:focus{outline:0}.el-pagination button:hover{color:#409eff}.el-pagination button:disabled{color:#c0c4cc;background-color:#fff;cursor:not-allowed}.el-pagination .btn-next,.el-pagination .btn-prev{background:50% no-repeat #fff;background-size:16px;cursor:pointer;margin:0;color:#303133}.el-pagination .btn-next .el-icon,.el-pagination .btn-prev .el-icon{display:block;font-size:12px;font-weight:700}.el-pagination .btn-prev{padding-right:12px}.el-pagination .btn-next{padding-left:12px}.el-pagination .el-pager li.disabled{color:#c0c4cc;cursor:not-allowed}.el-pager li,.el-pager li.btn-quicknext:hover,.el-pager li.btn-quickprev:hover{cursor:pointer}.el-pagination--small .btn-next,.el-pagination--small .btn-prev,.el-pagination--small .el-pager li,.el-pagination--small .el-pager li.btn-quicknext,.el-pagination--small .el-pager li.btn-quickprev,.el-pagination--small .el-pager li:last-child{border-color:transparent;font-size:12px;line-height:22px;height:22px;min-width:22px}.el-pagination--small .more:before,.el-pagination--small li.more:before{line-height:24px}.el-pagination--small button,.el-pagination--small span:not([class*=suffix]){height:22px;line-height:22px}.el-pagination--small .el-pagination__editor,.el-pagination--small .el-pagination__editor.el-input .el-input__inner{height:22px}.el-pagination__sizes{margin:0 10px 0 0;font-weight:400;color:#606266}.el-pagination__sizes .el-input .el-input__inner{font-size:13px;padding-left:8px}.el-pagination__sizes .el-input .el-input__inner:hover{border-color:#409eff}.el-pagination__total{margin-right:10px;font-weight:400;color:#606266}.el-pagination__jump{margin-left:24px;font-weight:400;color:#606266}.el-pagination__jump .el-input__inner{padding:0 3px}.el-pagination__rightwrapper{float:right}.el-pagination__editor{line-height:18px;padding:0 2px;height:28px;text-align:center;margin:0 2px;box-sizing:border-box;border-radius:3px}.el-pager,.el-pagination.is-background .btn-next,.el-pagination.is-background .btn-prev{padding:0}.el-pagination__editor.el-input{width:50px}.el-pagination__editor.el-input .el-input__inner{height:28px}.el-pagination__editor .el-input__inner::-webkit-inner-spin-button,.el-pagination__editor .el-input__inner::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.el-pagination.is-background .btn-next,.el-pagination.is-background .btn-prev,.el-pagination.is-background .el-pager li{margin:0 5px;background-color:#f4f4f5;color:#606266;min-width:30px;border-radius:2px}.el-pagination.is-background .btn-next.disabled,.el-pagination.is-background .btn-next:disabled,.el-pagination.is-background .btn-prev.disabled,.el-pagination.is-background .btn-prev:disabled,.el-pagination.is-background .el-pager li.disabled{color:#c0c4cc}.el-pagination.is-background .el-pager li:not(.disabled):hover{color:#409eff}.el-pagination.is-background .el-pager li:not(.disabled).active{background-color:#409eff;color:#fff}.el-dialog,.el-pager li{background:#fff;-webkit-box-sizing:border-box}.el-pagination.is-background.el-pagination--small .btn-next,.el-pagination.is-background.el-pagination--small .btn-prev,.el-pagination.is-background.el-pagination--small .el-pager li{margin:0 3px;min-width:22px}.el-pager,.el-pager li{vertical-align:top;margin:0;display:inline-block}.el-pager{-ms-user-select:none;user-select:none;list-style:none;font-size:0}.el-date-table,.el-pager,.el-table th{-webkit-user-select:none;-moz-user-select:none}.el-pager .more:before{line-height:30px}.el-pager li{padding:0 4px;font-size:13px;min-width:35.5px;height:28px;line-height:28px;box-sizing:border-box;text-align:center}.el-menu--collapse .el-menu .el-submenu,.el-menu--popup{min-width:200px}.el-pager li.btn-quicknext,.el-pager li.btn-quickprev{line-height:28px;color:#303133}.el-pager li.btn-quicknext.disabled,.el-pager li.btn-quickprev.disabled{color:#c0c4cc}.el-pager li.active+li{border-left:0}.el-pager li:hover{color:#409eff}.el-pager li.active{color:#409eff;cursor:default}.el-dialog{position:relative;margin:0 auto 50px;border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,.3);box-sizing:border-box;width:50%}.el-dialog.is-fullscreen{width:100%;margin-top:0;margin-bottom:0;height:100%;overflow:auto}.el-dialog__wrapper{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;margin:0}.el-dialog__header{padding:20px 20px 10px}.el-dialog__headerbtn{position:absolute;top:20px;right:20px;padding:0;background:0 0;border:none;outline:0;cursor:pointer;font-size:16px}.el-dialog__headerbtn .el-dialog__close{color:#909399}.el-dialog__headerbtn:focus .el-dialog__close,.el-dialog__headerbtn:hover .el-dialog__close{color:#409eff}.el-dialog__title{line-height:24px;font-size:18px;color:#303133}.el-dialog__body{padding:30px 20px;color:#606266;font-size:14px;word-break:break-all}.el-dialog__footer{padding:10px 20px 20px;text-align:right;box-sizing:border-box}.el-dialog--center{text-align:center}.el-dialog--center .el-dialog__body{text-align:initial;padding:25px 25px 30px}.el-dialog--center .el-dialog__footer{text-align:inherit}.dialog-fade-enter-active{animation:dialog-fade-in .3s}.dialog-fade-leave-active{animation:dialog-fade-out .3s}@keyframes dialog-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@keyframes dialog-fade-out{0%{transform:translateZ(0);opacity:1}to{transform:translate3d(0,-20px,0);opacity:0}}.el-autocomplete{position:relative;display:inline-block}.el-autocomplete-suggestion{margin:5px 0;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);border-radius:4px;border:1px solid #e4e7ed;box-sizing:border-box;background-color:#fff}.el-dropdown-menu,.el-menu--collapse .el-submenu .el-menu{z-index:10;-webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.el-autocomplete-suggestion__wrap{max-height:280px;padding:10px 0;box-sizing:border-box}.el-autocomplete-suggestion__list{margin:0;padding:0}.el-autocomplete-suggestion li{padding:0 20px;margin:0;line-height:34px;cursor:pointer;color:#606266;font-size:14px;list-style:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.el-autocomplete-suggestion li.highlighted,.el-autocomplete-suggestion li:hover{background-color:#f5f7fa}.el-autocomplete-suggestion li.divider{margin-top:6px;border-top:1px solid #000}.el-autocomplete-suggestion li.divider:last-child{margin-bottom:-6px}.el-autocomplete-suggestion.is-loading li{text-align:center;height:100px;line-height:100px;font-size:20px;color:#999}.el-autocomplete-suggestion.is-loading li:after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-autocomplete-suggestion.is-loading li:hover{background-color:#fff}.el-autocomplete-suggestion.is-loading .el-icon-loading{vertical-align:middle}.el-dropdown{display:inline-block;position:relative;color:#606266;font-size:14px}.el-dropdown .el-button-group{display:block}.el-dropdown .el-button-group .el-button{float:none}.el-dropdown .el-dropdown__caret-button{padding-left:5px;padding-right:5px;position:relative;border-left:none}.el-dropdown .el-dropdown__caret-button:before{content:"";position:absolute;display:block;width:1px;top:5px;bottom:5px;left:0;background:hsla(0,0%,100%,.5)}.el-dropdown .el-dropdown__caret-button.el-button--default:before{background:rgba(220,223,230,.5)}.el-dropdown .el-dropdown__caret-button:hover:before{top:0;bottom:0}.el-dropdown .el-dropdown__caret-button .el-dropdown__icon{padding-left:0}.el-dropdown__icon{font-size:12px;margin:0 3px}.el-dropdown-menu{position:absolute;top:0;left:0;padding:10px 0;margin:5px 0;background-color:#fff;border:1px solid #ebeef5;border-radius:4px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.el-dropdown-menu__item{list-style:none;line-height:36px;padding:0 20px;margin:0;font-size:14px;color:#606266;cursor:pointer;outline:0}.el-dropdown-menu__item:focus,.el-dropdown-menu__item:not(.is-disabled):hover{background-color:#ecf5ff;color:#66b1ff}.el-dropdown-menu__item i{margin-right:5px}.el-dropdown-menu__item--divided{position:relative;margin-top:6px;border-top:1px solid #ebeef5}.el-dropdown-menu__item--divided:before{content:"";height:6px;display:block;margin:0 -20px;background-color:#fff}.el-dropdown-menu__item.is-disabled{cursor:default;color:#bbb;pointer-events:none}.el-dropdown-menu--medium{padding:6px 0}.el-dropdown-menu--medium .el-dropdown-menu__item{line-height:30px;padding:0 17px;font-size:14px}.el-dropdown-menu--medium .el-dropdown-menu__item.el-dropdown-menu__item--divided{margin-top:6px}.el-dropdown-menu--medium .el-dropdown-menu__item.el-dropdown-menu__item--divided:before{height:6px;margin:0 -17px}.el-dropdown-menu--small{padding:6px 0}.el-dropdown-menu--small .el-dropdown-menu__item{line-height:27px;padding:0 15px;font-size:13px}.el-dropdown-menu--small .el-dropdown-menu__item.el-dropdown-menu__item--divided{margin-top:4px}.el-dropdown-menu--small .el-dropdown-menu__item.el-dropdown-menu__item--divided:before{height:4px;margin:0 -15px}.el-dropdown-menu--mini{padding:3px 0}.el-dropdown-menu--mini .el-dropdown-menu__item{line-height:24px;padding:0 10px;font-size:12px}.el-dropdown-menu--mini .el-dropdown-menu__item.el-dropdown-menu__item--divided{margin-top:3px}.el-dropdown-menu--mini .el-dropdown-menu__item.el-dropdown-menu__item--divided:before{height:3px;margin:0 -10px}.el-menu{border-right:1px solid #e6e6e6;list-style:none;position:relative;margin:0;padding-left:0}.el-menu,.el-menu--horizontal>.el-menu-item:not(.is-disabled):focus,.el-menu--horizontal>.el-menu-item:not(.is-disabled):hover,.el-menu--horizontal>.el-submenu .el-submenu__title:hover{background-color:#fff}.el-menu:after,.el-menu:before{display:table;content:""}.el-menu:after{clear:both}.el-menu.el-menu--horizontal{border-bottom:1px solid #e6e6e6}.el-menu--horizontal{border-right:none}.el-menu--horizontal>.el-menu-item{float:left;height:60px;line-height:60px;margin:0;border-bottom:2px solid transparent;color:#909399}.el-menu--horizontal>.el-menu-item a,.el-menu--horizontal>.el-menu-item a:hover{color:inherit}.el-menu--horizontal>.el-submenu{float:left}.el-menu--horizontal>.el-submenu:focus,.el-menu--horizontal>.el-submenu:hover{outline:0}.el-menu--horizontal>.el-submenu:focus .el-submenu__title,.el-menu--horizontal>.el-submenu:hover .el-submenu__title{color:#303133}.el-menu--horizontal>.el-submenu.is-active .el-submenu__title{border-bottom:2px solid #409eff;color:#303133}.el-menu--horizontal>.el-submenu .el-submenu__title{height:60px;line-height:60px;border-bottom:2px solid transparent;color:#909399}.el-menu--horizontal>.el-submenu .el-submenu__icon-arrow{position:static;vertical-align:middle;margin-left:8px;margin-top:-3px}.el-menu--horizontal .el-menu .el-menu-item,.el-menu--horizontal .el-menu .el-submenu__title{background-color:#fff;float:none;height:36px;line-height:36px;padding:0 10px;color:#909399}.el-menu--horizontal .el-menu .el-menu-item.is-active,.el-menu--horizontal .el-menu .el-submenu.is-active>.el-submenu__title{color:#303133}.el-menu--horizontal .el-menu-item:not(.is-disabled):focus,.el-menu--horizontal .el-menu-item:not(.is-disabled):hover{outline:0;color:#303133}.el-menu--horizontal>.el-menu-item.is-active{border-bottom:2px solid #409eff;color:#303133}.el-menu--collapse{width:64px}.el-menu--collapse>.el-menu-item [class^=el-icon-],.el-menu--collapse>.el-submenu>.el-submenu__title [class^=el-icon-]{margin:0;vertical-align:middle;width:24px;text-align:center}.el-menu--collapse>.el-menu-item .el-submenu__icon-arrow,.el-menu--collapse>.el-submenu>.el-submenu__title .el-submenu__icon-arrow{display:none}.el-menu--collapse>.el-menu-item span,.el-menu--collapse>.el-submenu>.el-submenu__title span{height:0;width:0;overflow:hidden;visibility:hidden;display:inline-block}.el-menu--collapse>.el-menu-item.is-active i{color:inherit}.el-menu--collapse .el-submenu{position:relative}.el-menu--collapse .el-submenu .el-menu{position:absolute;margin-left:5px;top:0;left:100%;border:1px solid #e4e7ed;border-radius:2px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.el-menu-item,.el-submenu__title{height:56px;line-height:56px;position:relative;-webkit-box-sizing:border-box;white-space:nowrap;list-style:none}.el-menu--collapse .el-submenu.is-opened>.el-submenu__title .el-submenu__icon-arrow{transform:none}.el-menu--popup{z-index:100;border:none;padding:5px 0;border-radius:2px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.el-menu--popup-bottom-start{margin-top:5px}.el-menu--popup-right-start{margin-left:5px;margin-right:5px}.el-menu-item{font-size:14px;color:#303133;padding:0 20px;cursor:pointer;transition:border-color .3s,background-color .3s,color .3s;box-sizing:border-box}.el-menu-item *{vertical-align:middle}.el-menu-item i{color:#909399}.el-menu-item:focus,.el-menu-item:hover{outline:0;background-color:#ecf5ff}.el-menu-item.is-disabled{opacity:.25;cursor:not-allowed;background:0 0!important}.el-menu-item [class^=el-icon-]{margin-right:5px;width:24px;text-align:center;font-size:18px;vertical-align:middle}.el-menu-item.is-active{color:#409eff}.el-menu-item.is-active i{color:inherit}.el-submenu{list-style:none;margin:0;padding-left:0}.el-submenu__title{font-size:14px;color:#303133;padding:0 20px;cursor:pointer;transition:border-color .3s,background-color .3s,color .3s;box-sizing:border-box}.el-submenu__title *{vertical-align:middle}.el-submenu__title i{color:#909399}.el-submenu__title:focus,.el-submenu__title:hover{outline:0;background-color:#ecf5ff}.el-submenu__title.is-disabled{opacity:.25;cursor:not-allowed;background:0 0!important}.el-submenu__title:hover{background-color:#ecf5ff}.el-submenu .el-menu{border:none}.el-submenu .el-menu-item{height:50px;line-height:50px;padding:0 45px;min-width:200px}.el-submenu__icon-arrow{position:absolute;top:50%;right:20px;margin-top:-7px;transition:transform .3s;font-size:12px}.el-submenu.is-active .el-submenu__title{border-bottom-color:#409eff}.el-submenu.is-opened>.el-submenu__title .el-submenu__icon-arrow{transform:rotate(180deg)}.el-submenu.is-disabled .el-menu-item,.el-submenu.is-disabled .el-submenu__title{opacity:.25;cursor:not-allowed;background:0 0!important}.el-submenu [class^=el-icon-]{vertical-align:middle;margin-right:5px;width:24px;text-align:center;font-size:18px}.el-menu-item-group>ul{padding:0}.el-menu-item-group__title{padding:7px 0 7px 20px;line-height:normal;font-size:12px;color:#909399}.el-radio-button__inner,.el-radio-group{display:inline-block;line-height:1;vertical-align:middle}.horizontal-collapse-transition .el-submenu__title .el-submenu__icon-arrow{transition:.2s;opacity:0}.el-radio-group{font-size:0}.el-radio-button{position:relative;display:inline-block;outline:0}.el-radio-button__inner{white-space:nowrap;background:#fff;border:1px solid #dcdfe6;font-weight:500;border-left:0;color:#606266;-webkit-appearance:none;text-align:center;box-sizing:border-box;outline:0;margin:0;position:relative;cursor:pointer;transition:all .3s cubic-bezier(.645,.045,.355,1);padding:12px 20px;font-size:14px;border-radius:0}.el-radio-button__inner.is-round{padding:12px 20px}.el-radio-button__inner:hover{color:#409eff}.el-radio-button__inner [class*=el-icon-]{line-height:.9}.el-radio-button__inner [class*=el-icon-]+span{margin-left:5px}.el-radio-button:first-child .el-radio-button__inner{border-left:1px solid #dcdfe6;border-radius:4px 0 0 4px;box-shadow:none!important}.el-radio-button__orig-radio{opacity:0;outline:0;position:absolute;z-index:-1}.el-radio-button__orig-radio:checked+.el-radio-button__inner{color:#fff;background-color:#409eff;border-color:#409eff;box-shadow:-1px 0 0 0 #409eff}.el-radio-button__orig-radio:disabled+.el-radio-button__inner{color:#c0c4cc;cursor:not-allowed;background-image:none;background-color:#fff;border-color:#ebeef5;box-shadow:none}.el-radio-button__orig-radio:disabled:checked+.el-radio-button__inner{background-color:#f2f6fc}.el-radio-button:last-child .el-radio-button__inner{border-radius:0 4px 4px 0}.el-popover,.el-radio-button:first-child:last-child .el-radio-button__inner{border-radius:4px}.el-radio-button--medium .el-radio-button__inner{padding:10px 20px;font-size:14px;border-radius:0}.el-radio-button--medium .el-radio-button__inner.is-round{padding:10px 20px}.el-radio-button--small .el-radio-button__inner{padding:9px 15px;font-size:12px;border-radius:0}.el-radio-button--small .el-radio-button__inner.is-round{padding:9px 15px}.el-radio-button--mini .el-radio-button__inner{padding:7px 15px;font-size:12px;border-radius:0}.el-radio-button--mini .el-radio-button__inner.is-round{padding:7px 15px}.el-radio-button:focus:not(.is-focus):not(:active):not(.is-disabled){box-shadow:0 0 2px 2px #409eff}.el-switch{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;position:relative;font-size:14px;line-height:20px;height:20px;vertical-align:middle}.el-switch__core,.el-switch__label{display:inline-block;cursor:pointer}.el-switch.is-disabled .el-switch__core,.el-switch.is-disabled .el-switch__label{cursor:not-allowed}.el-switch__label{transition:.2s;height:20px;font-size:14px;font-weight:500;vertical-align:middle;color:#303133}.el-switch__label.is-active{color:#409eff}.el-switch__label--left{margin-right:10px}.el-switch__label--right{margin-left:10px}.el-switch__label *{line-height:1;font-size:14px;display:inline-block}.el-switch__input{position:absolute;width:0;height:0;opacity:0;margin:0}.el-switch__core{margin:0;position:relative;width:40px;height:20px;border:1px solid #dcdfe6;outline:0;border-radius:10px;box-sizing:border-box;background:#dcdfe6;transition:border-color .3s,background-color .3s;vertical-align:middle}.el-switch__core:after{content:"";position:absolute;top:1px;left:1px;border-radius:100%;transition:all .3s;width:16px;height:16px;background-color:#fff}.el-switch.is-checked .el-switch__core{border-color:#409eff;background-color:#409eff}.el-switch.is-checked .el-switch__core:after{left:100%;margin-left:-17px}.el-switch.is-disabled{opacity:.6}.el-switch--wide .el-switch__label.el-switch__label--left span{left:10px}.el-switch--wide .el-switch__label.el-switch__label--right span{right:10px}.el-switch .label-fade-enter,.el-switch .label-fade-leave-active{opacity:0}.el-select-dropdown{position:absolute;z-index:1001;border:1px solid #e4e7ed;border-radius:4px;background-color:#fff;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);box-sizing:border-box;margin:5px 0}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected{color:#409eff;background-color:#fff}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected.hover{background-color:#f5f7fa}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected:after{position:absolute;right:20px;font-family:element-icons;content:"\\E6DA";font-size:12px;font-weight:700;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.el-select-dropdown .el-scrollbar.is-empty .el-select-dropdown__list{padding:0}.el-select-dropdown__empty{padding:10px 0;margin:0;text-align:center;color:#999;font-size:14px}.el-select-dropdown__wrap{max-height:274px}.el-select-dropdown__list{list-style:none;padding:6px 0;margin:0;box-sizing:border-box}.el-select-dropdown__item{font-size:14px;padding:0 20px;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#606266;height:34px;line-height:34px;box-sizing:border-box;cursor:pointer}.el-select-dropdown__item.is-disabled{color:#c0c4cc;cursor:not-allowed}.el-select-dropdown__item.is-disabled:hover{background-color:#fff}.el-select-dropdown__item.hover,.el-select-dropdown__item:hover{background-color:#f5f7fa}.el-select-dropdown__item.selected{color:#409eff;font-weight:700}.el-select-group{margin:0;padding:0}.el-select-group__wrap{position:relative;list-style:none;margin:0;padding:0}.el-select-group__wrap:not(:last-of-type){padding-bottom:24px}.el-select-group__wrap:not(:last-of-type):after{content:"";position:absolute;display:block;left:20px;right:20px;bottom:12px;height:1px;background:#e4e7ed}.el-select-group__title{padding-left:20px;font-size:12px;color:#909399;line-height:30px}.el-select-group .el-select-dropdown__item{padding-left:20px}.el-select{display:inline-block;position:relative}.el-select .el-select__tags>span{display:contents}.el-select:hover .el-input__inner{border-color:#c0c4cc}.el-select .el-input__inner{cursor:pointer;padding-right:35px}.el-select .el-input__inner:focus{border-color:#409eff}.el-select .el-input .el-select__caret{color:#c0c4cc;font-size:14px;transition:transform .3s;transform:rotate(180deg);cursor:pointer}.el-select .el-input .el-select__caret.is-reverse{transform:rotate(0)}.el-select .el-input .el-select__caret.is-show-close{font-size:14px;text-align:center;transform:rotate(180deg);border-radius:100%;color:#c0c4cc;transition:color .2s cubic-bezier(.645,.045,.355,1)}.el-select .el-input .el-select__caret.is-show-close:hover{color:#909399}.el-select .el-input.is-disabled .el-input__inner{cursor:not-allowed}.el-select .el-input.is-disabled .el-input__inner:hover{border-color:#e4e7ed}.el-select .el-input.is-focus .el-input__inner{border-color:#409eff}.el-select>.el-input{display:block}.el-select__input{border:none;outline:0;padding:0;margin-left:15px;color:#666;font-size:14px;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;background-color:transparent}.el-select__input.is-mini{height:14px}.el-select__close{cursor:pointer;position:absolute;top:8px;z-index:1000;right:25px;color:#c0c4cc;line-height:18px;font-size:14px}.el-select__close:hover{color:#909399}.el-select__tags{position:absolute;line-height:normal;white-space:normal;z-index:1;top:50%;transform:translateY(-50%);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.el-select .el-tag__close{margin-top:-2px}.el-select .el-tag{box-sizing:border-box;border-color:transparent;margin:2px 0 2px 6px;background-color:#f0f2f5}.el-select .el-tag__close.el-icon-close{background-color:#c0c4cc;right:-7px;top:0;color:#fff}.el-select .el-tag__close.el-icon-close:hover{background-color:#909399}.el-table,.el-table__expanded-cell{background-color:#fff}.el-select .el-tag__close.el-icon-close:before{display:block;transform:translateY(.5px)}.el-table{position:relative;overflow:hidden;box-sizing:border-box;-ms-flex:1;flex:1;width:100%;max-width:100%;font-size:14px;color:#606266}.el-table--mini,.el-table--small,.el-table__expand-icon{font-size:12px}.el-table__empty-block{min-height:60px;text-align:center;width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.el-table__empty-text{line-height:60px;width:50%;color:#909399}.el-table__expand-column .cell{padding:0;text-align:center}.el-table__expand-icon{position:relative;cursor:pointer;color:#666;transition:transform .2s ease-in-out;height:20px}.el-table__expand-icon--expanded{transform:rotate(90deg)}.el-table__expand-icon>.el-icon{position:absolute;left:50%;top:50%;margin-left:-5px;margin-top:-5px}.el-table__expanded-cell[class*=cell]{padding:20px 50px}.el-table__expanded-cell:hover{background-color:transparent!important}.el-table__placeholder{display:inline-block;width:20px}.el-table__append-wrapper{overflow:hidden}.el-table--fit{border-right:0;border-bottom:0}.el-table--fit td.gutter,.el-table--fit th.gutter{border-right-width:1px}.el-table--scrollable-x .el-table__body-wrapper{overflow-x:auto}.el-table--scrollable-y .el-table__body-wrapper{overflow-y:auto}.el-table thead{color:#909399;font-weight:500}.el-table thead.is-group th{background:#f5f7fa}.el-table th,.el-table tr{background-color:#fff}.el-table td,.el-table th{padding:12px 0;min-width:0;box-sizing:border-box;text-overflow:ellipsis;vertical-align:middle;position:relative;text-align:left}.el-table td.is-center,.el-table th.is-center{text-align:center}.el-table td.is-right,.el-table th.is-right{text-align:right}.el-table td.gutter,.el-table th.gutter{width:15px;border-right-width:0;border-bottom-width:0;padding:0}.el-table--medium td,.el-table--medium th{padding:10px 0}.el-table--small td,.el-table--small th{padding:8px 0}.el-table--mini td,.el-table--mini th{padding:6px 0}.el-table--border td:first-child .cell,.el-table--border th:first-child .cell,.el-table .cell{padding-left:10px}.el-table tr input[type=checkbox]{margin:0}.el-table td,.el-table th.is-leaf{border-bottom:1px solid #ebeef5}.el-table th.is-sortable{cursor:pointer}.el-table th{overflow:hidden;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-table th>.cell{display:inline-block;box-sizing:border-box;position:relative;vertical-align:middle;padding-left:10px;padding-right:10px;width:100%}.el-table th>.cell.highlight{color:#409eff}.el-table th.required>div:before{display:inline-block;content:"";width:8px;height:8px;border-radius:50%;background:#ff4d51;margin-right:5px;vertical-align:middle}.el-table td div{box-sizing:border-box}.el-table td.gutter{width:0}.el-table .cell{box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:normal;word-break:break-all;line-height:23px;padding-right:10px}.el-table .cell.el-tooltip{white-space:nowrap;min-width:50px}.el-table--border,.el-table--group{border:1px solid #ebeef5}.el-table--border:after,.el-table--group:after,.el-table:before{content:"";position:absolute;background-color:#ebeef5;z-index:1}.el-table--border:after,.el-table--group:after{top:0;right:0;width:1px;height:100%}.el-table:before{left:0;bottom:0;width:100%;height:1px}.el-table--border{border-right:none;border-bottom:none}.el-table--border.el-loading-parent--relative{border-color:transparent}.el-table--border td,.el-table--border th,.el-table__body-wrapper .el-table--border.is-scrolling-left~.el-table__fixed{border-right:1px solid #ebeef5}.el-table--border th.gutter:last-of-type{border-bottom:1px solid #ebeef5;border-bottom-width:1px}.el-table--border th,.el-table__fixed-right-patch{border-bottom:1px solid #ebeef5}.el-table__fixed,.el-table__fixed-right{position:absolute;top:0;left:0;overflow-x:hidden;overflow-y:hidden;box-shadow:0 0 10px rgba(0,0,0,.12)}.el-table__fixed-right:before,.el-table__fixed:before{content:"";position:absolute;left:0;bottom:0;width:100%;height:1px;background-color:#ebeef5;z-index:4}.el-table__fixed-right-patch{position:absolute;top:-1px;right:0;background-color:#fff}.el-table__fixed-right{top:0;left:auto;right:0}.el-table__fixed-right .el-table__fixed-body-wrapper,.el-table__fixed-right .el-table__fixed-footer-wrapper,.el-table__fixed-right .el-table__fixed-header-wrapper{left:auto;right:0}.el-table__fixed-header-wrapper{position:absolute;left:0;top:0;z-index:3}.el-table__fixed-footer-wrapper{position:absolute;left:0;bottom:0;z-index:3}.el-table__fixed-footer-wrapper tbody td{border-top:1px solid #ebeef5;background-color:#f5f7fa;color:#606266}.el-table__fixed-body-wrapper{position:absolute;left:0;top:37px;overflow:hidden;z-index:3}.el-table__body-wrapper,.el-table__footer-wrapper,.el-table__header-wrapper{width:100%}.el-table__footer-wrapper{margin-top:-1px}.el-table__footer-wrapper td{border-top:1px solid #ebeef5}.el-table__body,.el-table__footer,.el-table__header{table-layout:fixed;border-collapse:separate}.el-table__footer-wrapper,.el-table__header-wrapper{overflow:hidden}.el-table__footer-wrapper tbody td,.el-table__header-wrapper tbody td{background-color:#f5f7fa;color:#606266}.el-table__body-wrapper{overflow:hidden;position:relative}.el-table__body-wrapper.is-scrolling-left~.el-table__fixed,.el-table__body-wrapper.is-scrolling-none~.el-table__fixed,.el-table__body-wrapper.is-scrolling-none~.el-table__fixed-right,.el-table__body-wrapper.is-scrolling-right~.el-table__fixed-right{box-shadow:none}.el-picker-panel,.el-table-filter{-webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.el-table__body-wrapper .el-table--border.is-scrolling-right~.el-table__fixed-right{border-left:1px solid #ebeef5}.el-table .caret-wrapper{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;height:34px;width:24px;vertical-align:middle;cursor:pointer;overflow:initial;position:relative}.el-table .sort-caret{width:0;height:0;border:5px solid transparent;position:absolute;left:7px}.el-table .sort-caret.ascending{border-bottom-color:#c0c4cc;top:5px}.el-table .sort-caret.descending{border-top-color:#c0c4cc;bottom:7px}.el-table .ascending .sort-caret.ascending{border-bottom-color:#409eff}.el-table .descending .sort-caret.descending{border-top-color:#409eff}.el-table .hidden-columns{position:absolute;z-index:-1}.el-table--striped .el-table__body tr.el-table__row--striped td{background:#fafafa}.el-table--striped .el-table__body tr.el-table__row--striped.current-row td{background-color:#ecf5ff}.el-table__body tr.hover-row.current-row>td,.el-table__body tr.hover-row.el-table__row--striped.current-row>td,.el-table__body tr.hover-row.el-table__row--striped>td,.el-table__body tr.hover-row>td{background-color:#f5f7fa}.el-table__body tr.current-row>td{background-color:#ecf5ff}.el-table__column-resize-proxy{position:absolute;left:200px;top:0;bottom:0;width:0;border-left:1px solid #ebeef5;z-index:10}.el-table__column-filter-trigger{display:inline-block;line-height:34px;cursor:pointer}.el-table__column-filter-trigger i{color:#909399;font-size:12px;transform:scale(.75)}.el-table--enable-row-transition .el-table__body td{transition:background-color .25s ease}.el-table--enable-row-hover .el-table__body tr:hover>td{background-color:#f5f7fa}.el-table--fluid-height .el-table__fixed,.el-table--fluid-height .el-table__fixed-right{bottom:0;overflow:hidden}.el-table [class*=el-table__row--level] .el-table__expand-icon{display:inline-block;width:20px;line-height:20px;height:20px;text-align:center;margin-right:3px}.el-table-column--selection .cell{padding-left:14px;padding-right:14px}.el-table-filter{border:1px solid #ebeef5;border-radius:2px;background-color:#fff;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);box-sizing:border-box;margin:2px 0}.el-date-table td,.el-date-table td div{height:30px;-webkit-box-sizing:border-box}.el-table-filter__list{padding:5px 0;margin:0;list-style:none;min-width:100px}.el-table-filter__list-item{line-height:36px;padding:0 10px;cursor:pointer;font-size:14px}.el-table-filter__list-item:hover{background-color:#ecf5ff;color:#66b1ff}.el-table-filter__list-item.is-active{background-color:#409eff;color:#fff}.el-table-filter__content{min-width:100px}.el-table-filter__bottom{border-top:1px solid #ebeef5;padding:8px}.el-table-filter__bottom button{background:0 0;border:none;color:#606266;cursor:pointer;font-size:13px;padding:0 3px}.el-date-table.is-week-mode .el-date-table__row.current div,.el-date-table.is-week-mode .el-date-table__row:hover div,.el-date-table td.in-range div,.el-date-table td.in-range div:hover{background-color:#f2f6fc}.el-table-filter__bottom button:hover{color:#409eff}.el-table-filter__bottom button:focus{outline:0}.el-table-filter__bottom button.is-disabled{color:#c0c4cc;cursor:not-allowed}.el-table-filter__wrap{max-height:280px}.el-table-filter__checkbox-group{padding:10px}.el-table-filter__checkbox-group label.el-checkbox{display:block;margin-right:5px;margin-bottom:8px;margin-left:5px}.el-table-filter__checkbox-group .el-checkbox:last-child{margin-bottom:0}.el-date-table{font-size:12px;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.el-date-table.is-week-mode .el-date-table__row:hover td.available:hover{color:#606266}.el-date-table.is-week-mode .el-date-table__row:hover td:first-child div{margin-left:5px;border-top-left-radius:15px;border-bottom-left-radius:15px}.el-date-table.is-week-mode .el-date-table__row:hover td:last-child div{margin-right:5px;border-top-right-radius:15px;border-bottom-right-radius:15px}.el-date-table td{width:32px;padding:4px 0;box-sizing:border-box;text-align:center;cursor:pointer;position:relative}.el-date-table td div{padding:3px 0;box-sizing:border-box}.el-date-table td span{width:24px;height:24px;display:block;margin:0 auto;line-height:24px;position:absolute;left:50%;transform:translateX(-50%);border-radius:50%}.el-date-table td.next-month,.el-date-table td.prev-month{color:#c0c4cc}.el-date-table td.today{position:relative}.el-date-table td.today span{color:#409eff;font-weight:700}.el-date-table td.today.end-date span,.el-date-table td.today.start-date span{color:#fff}.el-date-table td.available:hover{color:#409eff}.el-date-table td.current:not(.disabled) span{color:#fff;background-color:#409eff}.el-date-table td.end-date div,.el-date-table td.start-date div{color:#fff}.el-date-table td.end-date span,.el-date-table td.start-date span{background-color:#409eff}.el-date-table td.start-date div{margin-left:5px;border-top-left-radius:15px;border-bottom-left-radius:15px}.el-date-table td.end-date div{margin-right:5px;border-top-right-radius:15px;border-bottom-right-radius:15px}.el-date-table td.disabled div{background-color:#f5f7fa;opacity:1;cursor:not-allowed;color:#c0c4cc}.el-date-table td.selected div{margin-left:5px;margin-right:5px;background-color:#f2f6fc;border-radius:15px}.el-date-table td.selected div:hover{background-color:#f2f6fc}.el-date-table td.selected span{background-color:#409eff;color:#fff;border-radius:15px}.el-date-table td.week{font-size:80%;color:#606266}.el-month-table,.el-year-table{font-size:12px;border-collapse:collapse}.el-date-table th{padding:5px;color:#606266;font-weight:400;border-bottom:1px solid #ebeef5}.el-month-table{margin:-1px}.el-month-table td{text-align:center;padding:8px 0;cursor:pointer}.el-month-table td div{height:48px;padding:6px 0;box-sizing:border-box}.el-month-table td.today .cell{color:#409eff;font-weight:700}.el-month-table td.today.end-date .cell,.el-month-table td.today.start-date .cell{color:#fff}.el-month-table td.disabled .cell{background-color:#f5f7fa;cursor:not-allowed;color:#c0c4cc}.el-month-table td.disabled .cell:hover{color:#c0c4cc}.el-month-table td .cell{width:60px;height:36px;display:block;line-height:36px;color:#606266;margin:0 auto;border-radius:18px}.el-month-table td .cell:hover{color:#409eff}.el-month-table td.in-range div,.el-month-table td.in-range div:hover{background-color:#f2f6fc}.el-month-table td.end-date div,.el-month-table td.start-date div{color:#fff}.el-month-table td.end-date .cell,.el-month-table td.start-date .cell{color:#fff;background-color:#409eff}.el-month-table td.start-date div{border-top-left-radius:24px;border-bottom-left-radius:24px}.el-month-table td.end-date div{border-top-right-radius:24px;border-bottom-right-radius:24px}.el-month-table td.current:not(.disabled) .cell{color:#409eff}.el-year-table{margin:-1px}.el-year-table .el-icon{color:#303133}.el-year-table td{text-align:center;padding:20px 3px;cursor:pointer}.el-year-table td.today .cell{color:#409eff;font-weight:700}.el-year-table td.disabled .cell{background-color:#f5f7fa;cursor:not-allowed;color:#c0c4cc}.el-year-table td.disabled .cell:hover{color:#c0c4cc}.el-year-table td .cell{width:48px;height:32px;display:block;line-height:32px;color:#606266;margin:0 auto}.el-year-table td .cell:hover,.el-year-table td.current:not(.disabled) .cell{color:#409eff}.el-date-range-picker{width:646px}.el-date-range-picker.has-sidebar{width:756px}.el-date-range-picker table{table-layout:fixed;width:100%}.el-date-range-picker .el-picker-panel__body{min-width:513px}.el-date-range-picker .el-picker-panel__content{margin:0}.el-date-range-picker__header{position:relative;text-align:center;height:28px}.el-date-range-picker__header [class*=arrow-left]{float:left}.el-date-range-picker__header [class*=arrow-right]{float:right}.el-date-range-picker__header div{font-size:16px;font-weight:500;margin-right:50px}.el-date-range-picker__content{float:left;width:50%;box-sizing:border-box;margin:0;padding:16px}.el-date-range-picker__content.is-left{border-right:1px solid #e4e4e4}.el-date-range-picker__content .el-date-range-picker__header div{margin-left:50px;margin-right:50px}.el-date-range-picker__editors-wrap{box-sizing:border-box;display:table-cell}.el-date-range-picker__editors-wrap.is-right{text-align:right}.el-date-range-picker__time-header{position:relative;border-bottom:1px solid #e4e4e4;font-size:12px;padding:8px 5px 5px;display:table;width:100%;box-sizing:border-box}.el-date-range-picker__time-header>.el-icon-arrow-right{font-size:20px;vertical-align:middle;display:table-cell;color:#303133}.el-date-range-picker__time-picker-wrap{position:relative;display:table-cell;padding:0 5px}.el-date-range-picker__time-picker-wrap .el-picker-panel{position:absolute;top:13px;right:0;z-index:1;background:#fff}.el-date-picker{width:322px}.el-date-picker.has-sidebar.has-time{width:434px}.el-date-picker.has-sidebar{width:438px}.el-date-picker.has-time .el-picker-panel__body-wrapper{position:relative}.el-date-picker .el-picker-panel__content{width:292px}.el-date-picker table{table-layout:fixed;width:100%}.el-date-picker__editor-wrap{position:relative;display:table-cell;padding:0 5px}.el-date-picker__time-header{position:relative;border-bottom:1px solid #e4e4e4;font-size:12px;padding:8px 5px 5px;display:table;width:100%;box-sizing:border-box}.el-date-picker__header{margin:12px;text-align:center}.el-date-picker__header--bordered{margin-bottom:0;padding-bottom:12px;border-bottom:1px solid #ebeef5}.el-date-picker__header--bordered+.el-picker-panel__content{margin-top:0}.el-date-picker__header-label{font-size:16px;font-weight:500;padding:0 5px;line-height:22px;text-align:center;cursor:pointer;color:#606266}.el-date-picker__header-label.active,.el-date-picker__header-label:hover{color:#409eff}.el-date-picker__prev-btn{float:left}.el-date-picker__next-btn{float:right}.el-date-picker__time-wrap{padding:10px;text-align:center}.el-date-picker__time-label{float:left;cursor:pointer;line-height:30px;margin-left:10px}.time-select{margin:5px 0;min-width:0}.time-select .el-picker-panel__content{max-height:200px;margin:0}.time-select-item{padding:8px 10px;font-size:14px;line-height:20px}.time-select-item.selected:not(.disabled){color:#409eff;font-weight:700}.time-select-item.disabled{color:#e4e7ed;cursor:not-allowed}.time-select-item:hover{background-color:#f5f7fa;font-weight:700;cursor:pointer}.el-date-editor{position:relative;display:inline-block;text-align:left}.el-date-editor.el-input,.el-date-editor.el-input__inner{width:220px}.el-date-editor--monthrange.el-input,.el-date-editor--monthrange.el-input__inner{width:300px}.el-date-editor--daterange.el-input,.el-date-editor--daterange.el-input__inner,.el-date-editor--timerange.el-input,.el-date-editor--timerange.el-input__inner{width:350px}.el-date-editor--datetimerange.el-input,.el-date-editor--datetimerange.el-input__inner{width:400px}.el-date-editor--dates .el-input__inner{text-overflow:ellipsis;white-space:nowrap}.el-date-editor .el-icon-circle-close{cursor:pointer}.el-date-editor .el-range__icon{font-size:14px;margin-left:-5px;color:#c0c4cc;float:left;line-height:32px}.el-date-editor .el-range-input,.el-date-editor .el-range-separator{height:100%;margin:0;text-align:center;display:inline-block;font-size:14px}.el-date-editor .el-range-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;outline:0;padding:0;width:39%;color:#606266}.el-date-editor .el-range-input::-webkit-input-placeholder{color:#c0c4cc}.el-date-editor .el-range-input:-ms-input-placeholder,.el-date-editor .el-range-input::-ms-input-placeholder{color:#c0c4cc}.el-date-editor .el-range-input::placeholder{color:#c0c4cc}.el-date-editor .el-range-separator{padding:0 5px;line-height:32px;width:5%;color:#303133}.el-date-editor .el-range__close-icon{font-size:14px;color:#c0c4cc;width:25px;display:inline-block;float:right;line-height:32px}.el-range-editor.el-input__inner{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;padding:3px 10px}.el-range-editor .el-range-input{line-height:1}.el-range-editor.is-active,.el-range-editor.is-active:hover{border-color:#409eff}.el-range-editor--medium.el-input__inner{height:36px}.el-range-editor--medium .el-range-separator{line-height:28px;font-size:14px}.el-range-editor--medium .el-range-input{font-size:14px}.el-range-editor--medium .el-range__close-icon,.el-range-editor--medium .el-range__icon{line-height:28px}.el-range-editor--small.el-input__inner{height:32px}.el-range-editor--small .el-range-separator{line-height:24px;font-size:13px}.el-range-editor--small .el-range-input{font-size:13px}.el-range-editor--small .el-range__close-icon,.el-range-editor--small .el-range__icon{line-height:24px}.el-range-editor--mini.el-input__inner{height:28px}.el-range-editor--mini .el-range-separator{line-height:20px;font-size:12px}.el-range-editor--mini .el-range-input{font-size:12px}.el-range-editor--mini .el-range__close-icon,.el-range-editor--mini .el-range__icon{line-height:20px}.el-range-editor.is-disabled{background-color:#f5f7fa;border-color:#e4e7ed;color:#c0c4cc;cursor:not-allowed}.el-range-editor.is-disabled:focus,.el-range-editor.is-disabled:hover{border-color:#e4e7ed}.el-range-editor.is-disabled input{background-color:#f5f7fa;color:#c0c4cc;cursor:not-allowed}.el-range-editor.is-disabled input::-webkit-input-placeholder{color:#c0c4cc}.el-range-editor.is-disabled input:-ms-input-placeholder,.el-range-editor.is-disabled input::-ms-input-placeholder{color:#c0c4cc}.el-range-editor.is-disabled input::placeholder{color:#c0c4cc}.el-range-editor.is-disabled .el-range-separator{color:#c0c4cc}.el-picker-panel{color:#606266;border:1px solid #e4e7ed;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);background:#fff;border-radius:4px;line-height:30px;margin:5px 0}.el-popover,.el-time-panel{-webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.el-picker-panel__body-wrapper:after,.el-picker-panel__body:after{content:"";display:table;clear:both}.el-picker-panel__content{position:relative;margin:15px}.el-picker-panel__footer{border-top:1px solid #e4e4e4;padding:4px;text-align:right;background-color:#fff;position:relative;font-size:0}.el-picker-panel__shortcut{display:block;width:100%;border:0;background-color:transparent;line-height:28px;font-size:14px;color:#606266;padding-left:12px;text-align:left;outline:0;cursor:pointer}.el-picker-panel__shortcut:hover{color:#409eff}.el-picker-panel__shortcut.active{background-color:#e6f1fe;color:#409eff}.el-picker-panel__btn{border:1px solid #dcdcdc;color:#333;line-height:24px;border-radius:2px;padding:0 20px;cursor:pointer;background-color:transparent;outline:0;font-size:12px}.el-picker-panel__btn[disabled]{color:#ccc;cursor:not-allowed}.el-picker-panel__icon-btn{font-size:12px;color:#303133;border:0;background:0 0;cursor:pointer;outline:0;margin-top:8px}.el-picker-panel__icon-btn:hover{color:#409eff}.el-picker-panel__icon-btn.is-disabled{color:#bbb}.el-picker-panel__icon-btn.is-disabled:hover{cursor:not-allowed}.el-picker-panel__link-btn{vertical-align:middle}.el-picker-panel [slot=sidebar],.el-picker-panel__sidebar{position:absolute;top:0;bottom:0;width:110px;border-right:1px solid #e4e4e4;box-sizing:border-box;padding-top:6px;background-color:#fff;overflow:auto}.el-picker-panel [slot=sidebar]+.el-picker-panel__body,.el-picker-panel__sidebar+.el-picker-panel__body{margin-left:110px}.el-time-spinner.has-seconds .el-time-spinner__wrapper{width:33.3%}.el-time-spinner__wrapper{max-height:190px;overflow:auto;display:inline-block;width:50%;vertical-align:top;position:relative}.el-time-spinner__wrapper .el-scrollbar__wrap:not(.el-scrollbar__wrap--hidden-default){padding-bottom:15px}.el-time-spinner__input.el-input .el-input__inner,.el-time-spinner__list{padding:0;text-align:center}.el-time-spinner__wrapper.is-arrow{box-sizing:border-box;text-align:center;overflow:hidden}.el-time-spinner__wrapper.is-arrow .el-time-spinner__list{transform:translateY(-32px)}.el-time-spinner__wrapper.is-arrow .el-time-spinner__item:hover:not(.disabled):not(.active){background:#fff;cursor:default}.el-time-spinner__arrow{font-size:12px;color:#909399;position:absolute;left:0;width:100%;z-index:1;text-align:center;height:30px;line-height:30px;cursor:pointer}.el-time-spinner__arrow:hover{color:#409eff}.el-time-spinner__arrow.el-icon-arrow-up{top:10px}.el-time-spinner__arrow.el-icon-arrow-down{bottom:10px}.el-time-spinner__input.el-input{width:70%}.el-time-spinner__list{margin:0;list-style:none}.el-time-spinner__list:after,.el-time-spinner__list:before{content:"";display:block;width:100%;height:80px}.el-time-spinner__item{height:32px;line-height:32px;font-size:12px;color:#606266}.el-time-spinner__item:hover:not(.disabled):not(.active){background:#f5f7fa;cursor:pointer}.el-time-spinner__item.active:not(.disabled){color:#303133;font-weight:700}.el-time-spinner__item.disabled{color:#c0c4cc;cursor:not-allowed}.el-time-panel{margin:5px 0;border:1px solid #e4e7ed;background-color:#fff;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);border-radius:2px;position:absolute;width:180px;left:0;z-index:1000;user-select:none;box-sizing:content-box}.el-slider__button,.el-slider__button-wrapper,.el-time-panel{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.el-time-panel__content{font-size:0;position:relative;overflow:hidden}.el-time-panel__content:after,.el-time-panel__content:before{content:"";top:50%;position:absolute;margin-top:-15px;height:32px;z-index:-1;left:0;right:0;box-sizing:border-box;padding-top:6px;text-align:left;border-top:1px solid #e4e7ed;border-bottom:1px solid #e4e7ed}.el-time-panel__content:after{left:50%;margin-left:12%;margin-right:12%}.el-time-panel__content:before{padding-left:50%;margin-right:12%;margin-left:12%}.el-time-panel__content.has-seconds:after{left:66.66667%}.el-time-panel__content.has-seconds:before{padding-left:33.33333%}.el-time-panel__footer{border-top:1px solid #e4e4e4;padding:4px;height:36px;line-height:25px;text-align:right;box-sizing:border-box}.el-time-panel__btn{border:none;line-height:28px;padding:0 5px;margin:0 5px;cursor:pointer;background-color:transparent;outline:0;font-size:12px;color:#303133}.el-time-panel__btn.confirm{font-weight:800;color:#409eff}.el-time-range-picker{width:354px;overflow:visible}.el-time-range-picker__content{position:relative;text-align:center;padding:10px}.el-time-range-picker__cell{box-sizing:border-box;margin:0;padding:4px 7px 7px;width:50%;display:inline-block}.el-time-range-picker__header{margin-bottom:5px;text-align:center;font-size:14px}.el-time-range-picker__body{border-radius:2px;border:1px solid #e4e7ed}.el-popover{position:absolute;background:#fff;min-width:150px;border:1px solid #ebeef5;padding:12px;z-index:2000;color:#606266;line-height:1.4;text-align:justify;font-size:14px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);word-break:break-all}.el-popover--plain{padding:18px 20px}.el-popover__title{color:#303133;font-size:16px;line-height:1;margin-bottom:12px}.v-modal-enter{animation:v-modal-in .2s ease}.v-modal-leave{animation:v-modal-out .2s ease forwards}@keyframes v-modal-in{0%{opacity:0}}@keyframes v-modal-out{to{opacity:0}}.v-modal{position:fixed;left:0;top:0;width:100%;height:100%;opacity:.5;background:#000}.el-popup-parent--hidden{overflow:hidden}.el-message-box{display:inline-block;width:420px;padding-bottom:10px;vertical-align:middle;background-color:#fff;border-radius:4px;border:1px solid #ebeef5;font-size:18px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);text-align:left;overflow:hidden;-webkit-backface-visibility:hidden;backface-visibility:hidden}.el-message-box__wrapper{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center}.el-message-box__wrapper:after{content:"";display:inline-block;height:100%;width:0;vertical-align:middle}.el-message-box__header{position:relative;padding:15px 15px 10px}.el-message-box__title{padding-left:0;margin-bottom:0;font-size:18px;line-height:1;color:#303133}.el-message-box__headerbtn{position:absolute;top:15px;right:15px;padding:0;border:none;outline:0;background:0 0;font-size:16px;cursor:pointer}.el-form-item.is-error .el-input__inner,.el-form-item.is-error .el-input__inner:focus,.el-form-item.is-error .el-textarea__inner,.el-form-item.is-error .el-textarea__inner:focus,.el-message-box__input input.invalid,.el-message-box__input input.invalid:focus{border-color:#f56c6c}.el-message-box__headerbtn .el-message-box__close{color:#909399}.el-message-box__headerbtn:focus .el-message-box__close,.el-message-box__headerbtn:hover .el-message-box__close{color:#409eff}.el-message-box__content{padding:10px 15px;color:#606266;font-size:14px}.el-message-box__container{position:relative}.el-message-box__input{padding-top:15px}.el-message-box__status{position:absolute;top:50%;transform:translateY(-50%);font-size:24px!important}.el-message-box__status:before{padding-left:1px}.el-message-box__status+.el-message-box__message{padding-left:36px;padding-right:12px}.el-message-box__status.el-icon-success{color:#67c23a}.el-message-box__status.el-icon-info{color:#909399}.el-message-box__status.el-icon-warning{color:#e6a23c}.el-message-box__status.el-icon-error{color:#f56c6c}.el-message-box__message{margin:0}.el-message-box__message p{margin:0;line-height:24px}.el-message-box__errormsg{color:#f56c6c;font-size:12px;min-height:18px;margin-top:2px}.el-message-box__btns{padding:5px 15px 0;text-align:right}.el-message-box__btns button:nth-child(2){margin-left:10px}.el-message-box__btns-reverse{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.el-message-box--center{padding-bottom:30px}.el-message-box--center .el-message-box__header{padding-top:30px}.el-message-box--center .el-message-box__title{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.el-message-box--center .el-message-box__status{position:relative;top:auto;padding-right:5px;text-align:center;transform:translateY(-1px)}.el-message-box--center .el-message-box__message{margin-left:0}.el-message-box--center .el-message-box__btns,.el-message-box--center .el-message-box__content{text-align:center}.el-message-box--center .el-message-box__content{padding-left:27px;padding-right:27px}.msgbox-fade-enter-active{animation:msgbox-fade-in .3s}.msgbox-fade-leave-active{animation:msgbox-fade-out .3s}@keyframes msgbox-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@keyframes msgbox-fade-out{0%{transform:translateZ(0);opacity:1}to{transform:translate3d(0,-20px,0);opacity:0}}.el-breadcrumb{font-size:14px;line-height:1}.el-breadcrumb:after,.el-breadcrumb:before{display:table;content:""}.el-breadcrumb:after{clear:both}.el-breadcrumb__separator{margin:0 9px;font-weight:700;color:#c0c4cc}.el-breadcrumb__separator[class*=icon]{margin:0 6px;font-weight:400}.el-breadcrumb__item{float:left}.el-breadcrumb__inner{color:#606266}.el-breadcrumb__inner.is-link,.el-breadcrumb__inner a{font-weight:700;text-decoration:none;transition:color .2s cubic-bezier(.645,.045,.355,1);color:#303133}.el-breadcrumb__inner.is-link:hover,.el-breadcrumb__inner a:hover{color:#409eff;cursor:pointer}.el-breadcrumb__item:last-child .el-breadcrumb__inner,.el-breadcrumb__item:last-child .el-breadcrumb__inner:hover,.el-breadcrumb__item:last-child .el-breadcrumb__inner a,.el-breadcrumb__item:last-child .el-breadcrumb__inner a:hover{font-weight:400;color:#606266;cursor:text}.el-breadcrumb__item:last-child .el-breadcrumb__separator{display:none}.el-form--label-left .el-form-item__label{text-align:left}.el-form--label-top .el-form-item__label{float:none;display:inline-block;text-align:left;padding:0 0 10px}.el-form--inline .el-form-item{display:inline-block;margin-right:10px;vertical-align:top}.el-form--inline .el-form-item__label{float:none;display:inline-block}.el-form--inline .el-form-item__content{display:inline-block;vertical-align:top}.el-form--inline.el-form--label-top .el-form-item__content{display:block}.el-form-item{margin-bottom:22px}.el-form-item:after,.el-form-item:before{display:table;content:""}.el-form-item:after{clear:both}.el-form-item .el-form-item{margin-bottom:0}.el-form-item--mini.el-form-item,.el-form-item--small.el-form-item{margin-bottom:18px}.el-form-item .el-input__validateIcon{display:none}.el-form-item--medium .el-form-item__content,.el-form-item--medium .el-form-item__label{line-height:36px}.el-form-item--small .el-form-item__content,.el-form-item--small .el-form-item__label{line-height:32px}.el-form-item--small .el-form-item__error{padding-top:2px}.el-form-item--mini .el-form-item__content,.el-form-item--mini .el-form-item__label{line-height:28px}.el-form-item--mini .el-form-item__error{padding-top:1px}.el-form-item__label-wrap{float:left}.el-form-item__label-wrap .el-form-item__label{display:inline-block;float:none}.el-form-item__label{text-align:right;vertical-align:middle;float:left;font-size:14px;color:#606266;line-height:40px;padding:0 12px 0 0;box-sizing:border-box}.el-form-item__content{line-height:40px;position:relative;font-size:14px}.el-form-item__content:after,.el-form-item__content:before{display:table;content:""}.el-form-item__content:after{clear:both}.el-form-item__content .el-input-group{vertical-align:top}.el-form-item__error{color:#f56c6c;font-size:12px;line-height:1;padding-top:4px;position:absolute;top:100%;left:0}.el-form-item__error--inline{position:relative;top:auto;left:auto;display:inline-block;margin-left:10px}.el-form-item.is-required:not(.is-no-asterisk) .el-form-item__label-wrap>.el-form-item__label:before,.el-form-item.is-required:not(.is-no-asterisk)>.el-form-item__label:before{content:"*";color:#f56c6c;margin-right:4px}.el-form-item.is-error .el-input-group__append .el-input__inner,.el-form-item.is-error .el-input-group__prepend .el-input__inner{border-color:transparent}.el-form-item.is-error .el-input__validateIcon{color:#f56c6c}.el-form-item--feedback .el-input__validateIcon{display:inline-block}.el-tabs__header{padding:0;position:relative;margin:0 0 15px}.el-tabs__active-bar{position:absolute;bottom:0;left:0;height:2px;background-color:#409eff;z-index:1;transition:transform .3s cubic-bezier(.645,.045,.355,1);list-style:none}.el-tabs__new-tab{float:right;border:1px solid #d3dce6;height:18px;width:18px;line-height:18px;margin:12px 0 9px 10px;border-radius:3px;text-align:center;font-size:12px;color:#d3dce6;cursor:pointer;transition:all .15s}.el-collapse-item__arrow,.el-tabs__nav{-webkit-transition:-webkit-transform .3s}.el-tabs__new-tab .el-icon-plus{transform:scale(.8)}.el-tabs__new-tab:hover{color:#409eff}.el-tabs__nav-wrap{overflow:hidden;margin-bottom:-1px;position:relative}.el-tabs__nav-wrap:after{content:"";position:absolute;left:0;bottom:0;width:100%;height:2px;background-color:#e4e7ed;z-index:1}.el-tabs--border-card>.el-tabs__header .el-tabs__nav-wrap:after,.el-tabs--card>.el-tabs__header .el-tabs__nav-wrap:after{content:none}.el-tabs__nav-wrap.is-scrollable{padding:0 20px;box-sizing:border-box}.el-tabs__nav-scroll{overflow:hidden}.el-tabs__nav-next,.el-tabs__nav-prev{position:absolute;cursor:pointer;line-height:44px;font-size:12px;color:#909399}.el-tabs__nav-next{right:0}.el-tabs__nav-prev{left:0}.el-tabs__nav{white-space:nowrap;position:relative;transition:transform .3s;float:left;z-index:2}.el-tabs__nav.is-stretch{min-width:100%;display:-ms-flexbox;display:flex}.el-tabs__nav.is-stretch>*{-ms-flex:1;flex:1;text-align:center}.el-tabs__item{padding:0 20px;height:40px;box-sizing:border-box;line-height:40px;display:inline-block;list-style:none;font-size:14px;font-weight:500;color:#303133;position:relative}.el-tabs__item:focus,.el-tabs__item:focus:active{outline:0}.el-tabs__item:focus.is-active.is-focus:not(:active){box-shadow:inset 0 0 2px 2px #409eff;border-radius:3px}.el-tabs__item .el-icon-close{border-radius:50%;text-align:center;transition:all .3s cubic-bezier(.645,.045,.355,1);margin-left:5px}.el-tabs__item .el-icon-close:before{transform:scale(.9);display:inline-block}.el-tabs__item .el-icon-close:hover{background-color:#c0c4cc;color:#fff}.el-tabs__item.is-active{color:#409eff}.el-tabs__item:hover{color:#409eff;cursor:pointer}.el-tabs__item.is-disabled{color:#c0c4cc;cursor:default}.el-tabs__content{overflow:hidden;position:relative}.el-tabs--card>.el-tabs__header{border-bottom:1px solid #e4e7ed}.el-tabs--card>.el-tabs__header .el-tabs__nav{border:1px solid #e4e7ed;border-bottom:none;border-radius:4px 4px 0 0;box-sizing:border-box}.el-tabs--card>.el-tabs__header .el-tabs__active-bar{display:none}.el-tabs--card>.el-tabs__header .el-tabs__item .el-icon-close{position:relative;font-size:12px;width:0;height:14px;vertical-align:middle;line-height:15px;overflow:hidden;top:-1px;right:-2px;transform-origin:100% 50%}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active.is-closable .el-icon-close,.el-tabs--card>.el-tabs__header .el-tabs__item.is-closable:hover .el-icon-close{width:14px}.el-tabs--card>.el-tabs__header .el-tabs__item{border-bottom:1px solid transparent;border-left:1px solid #e4e7ed;transition:color .3s cubic-bezier(.645,.045,.355,1),padding .3s cubic-bezier(.645,.045,.355,1)}.el-tabs--card>.el-tabs__header .el-tabs__item:first-child{border-left:none}.el-tabs--card>.el-tabs__header .el-tabs__item.is-closable:hover{padding-left:13px;padding-right:13px}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active{border-bottom-color:#fff}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active.is-closable{padding-left:20px;padding-right:20px}.el-tabs--border-card{background:#fff;border:1px solid #dcdfe6;box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04)}.el-tabs--border-card>.el-tabs__content{padding:15px}.el-tabs--border-card>.el-tabs__header{background-color:#f5f7fa;border-bottom:1px solid #e4e7ed;margin:0}.el-tabs--border-card>.el-tabs__header .el-tabs__item{transition:all .3s cubic-bezier(.645,.045,.355,1);border:1px solid transparent;margin-top:-1px;color:#909399}.el-tabs--border-card>.el-tabs__header .el-tabs__item+.el-tabs__item,.el-tabs--border-card>.el-tabs__header .el-tabs__item:first-child{margin-left:-1px}.el-tabs--border-card>.el-tabs__header .el-tabs__item.is-active{color:#409eff;background-color:#fff;border-right-color:#dcdfe6;border-left-color:#dcdfe6}.el-tabs--border-card>.el-tabs__header .el-tabs__item:not(.is-disabled):hover{color:#409eff}.el-tabs--border-card>.el-tabs__header .el-tabs__item.is-disabled{color:#c0c4cc}.el-tabs--border-card>.el-tabs__header .is-scrollable .el-tabs__item:first-child{margin-left:0}.el-tabs--bottom .el-tabs__item.is-bottom:nth-child(2),.el-tabs--bottom .el-tabs__item.is-top:nth-child(2),.el-tabs--top .el-tabs__item.is-bottom:nth-child(2),.el-tabs--top .el-tabs__item.is-top:nth-child(2){padding-left:0}.el-tabs--bottom .el-tabs__item.is-bottom:last-child,.el-tabs--bottom .el-tabs__item.is-top:last-child,.el-tabs--top .el-tabs__item.is-bottom:last-child,.el-tabs--top .el-tabs__item.is-top:last-child{padding-right:0}.el-tabs--bottom.el-tabs--border-card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom.el-tabs--card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom .el-tabs--left>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom .el-tabs--right>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top.el-tabs--border-card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top.el-tabs--card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top .el-tabs--left>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top .el-tabs--right>.el-tabs__header .el-tabs__item:nth-child(2){padding-left:20px}.el-tabs--bottom.el-tabs--border-card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom.el-tabs--card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom .el-tabs--left>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom .el-tabs--right>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top.el-tabs--border-card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top.el-tabs--card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top .el-tabs--left>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top .el-tabs--right>.el-tabs__header .el-tabs__item:last-child{padding-right:20px}.el-tabs--bottom .el-tabs__header.is-bottom{margin-bottom:0;margin-top:10px}.el-tabs--bottom.el-tabs--border-card .el-tabs__header.is-bottom{border-bottom:0;border-top:1px solid #dcdfe6}.el-tabs--bottom.el-tabs--border-card .el-tabs__nav-wrap.is-bottom{margin-top:-1px;margin-bottom:0}.el-tabs--bottom.el-tabs--border-card .el-tabs__item.is-bottom:not(.is-active){border:1px solid transparent}.el-tabs--bottom.el-tabs--border-card .el-tabs__item.is-bottom{margin:0 -1px -1px}.el-tabs--left,.el-tabs--right{overflow:hidden}.el-tabs--left .el-tabs__header.is-left,.el-tabs--left .el-tabs__header.is-right,.el-tabs--left .el-tabs__nav-scroll,.el-tabs--left .el-tabs__nav-wrap.is-left,.el-tabs--left .el-tabs__nav-wrap.is-right,.el-tabs--right .el-tabs__header.is-left,.el-tabs--right .el-tabs__header.is-right,.el-tabs--right .el-tabs__nav-scroll,.el-tabs--right .el-tabs__nav-wrap.is-left,.el-tabs--right .el-tabs__nav-wrap.is-right{height:100%}.el-tabs--left .el-tabs__active-bar.is-left,.el-tabs--left .el-tabs__active-bar.is-right,.el-tabs--right .el-tabs__active-bar.is-left,.el-tabs--right .el-tabs__active-bar.is-right{top:0;bottom:auto;width:2px;height:auto}.el-tabs--left .el-tabs__nav-wrap.is-left,.el-tabs--left .el-tabs__nav-wrap.is-right,.el-tabs--right .el-tabs__nav-wrap.is-left,.el-tabs--right .el-tabs__nav-wrap.is-right{margin-bottom:0}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev{height:30px;line-height:30px;width:100%;text-align:center;cursor:pointer}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next i,.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev i,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next i,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev i,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next i,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev i,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next i,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev i{transform:rotate(90deg)}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev{left:auto;top:0}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next{right:auto;bottom:0}.el-tabs--left .el-tabs__active-bar.is-left,.el-tabs--left .el-tabs__nav-wrap.is-left:after{right:0;left:auto}.el-tabs--left .el-tabs__nav-wrap.is-left.is-scrollable,.el-tabs--left .el-tabs__nav-wrap.is-right.is-scrollable,.el-tabs--right .el-tabs__nav-wrap.is-left.is-scrollable,.el-tabs--right .el-tabs__nav-wrap.is-right.is-scrollable{padding:30px 0}.el-tabs--left .el-tabs__nav-wrap.is-left:after,.el-tabs--left .el-tabs__nav-wrap.is-right:after,.el-tabs--right .el-tabs__nav-wrap.is-left:after,.el-tabs--right .el-tabs__nav-wrap.is-right:after{height:100%;width:2px;bottom:auto;top:0}.el-tabs--left .el-tabs__nav.is-left,.el-tabs--left .el-tabs__nav.is-right,.el-tabs--right .el-tabs__nav.is-left,.el-tabs--right .el-tabs__nav.is-right{float:none}.el-tabs--left .el-tabs__item.is-left,.el-tabs--left .el-tabs__item.is-right,.el-tabs--right .el-tabs__item.is-left,.el-tabs--right .el-tabs__item.is-right{display:block}.el-tabs--left.el-tabs--card .el-tabs__active-bar.is-left,.el-tabs--right.el-tabs--card .el-tabs__active-bar.is-right{display:none}.el-tabs--left .el-tabs__header.is-left{float:left;margin-bottom:0;margin-right:10px}.el-tabs--left .el-tabs__nav-wrap.is-left{margin-right:-1px}.el-tabs--left .el-tabs__item.is-left{text-align:right}.el-tabs--left.el-tabs--card .el-tabs__item.is-left{border-left:none;border-right:1px solid #e4e7ed;border-bottom:none;border-top:1px solid #e4e7ed;text-align:left}.el-tabs--left.el-tabs--card .el-tabs__item.is-left:first-child{border-right:1px solid #e4e7ed;border-top:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active{border:1px solid #e4e7ed;border-right-color:#fff;border-left:none;border-bottom:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active:first-child{border-top:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active:last-child{border-bottom:none}.el-tabs--left.el-tabs--card .el-tabs__nav{border-radius:4px 0 0 4px;border-bottom:1px solid #e4e7ed;border-right:none}.el-tabs--left.el-tabs--card .el-tabs__new-tab{float:none}.el-tabs--left.el-tabs--border-card .el-tabs__header.is-left{border-right:1px solid #dfe4ed}.el-tabs--left.el-tabs--border-card .el-tabs__item.is-left{border:1px solid transparent;margin:-1px 0 -1px -1px}.el-tabs--left.el-tabs--border-card .el-tabs__item.is-left.is-active{border-color:#d1dbe5 transparent}.el-tabs--right .el-tabs__header.is-right{float:right;margin-bottom:0;margin-left:10px}.el-tabs--right .el-tabs__nav-wrap.is-right{margin-left:-1px}.el-tabs--right .el-tabs__nav-wrap.is-right:after{left:0;right:auto}.el-tabs--right .el-tabs__active-bar.is-right{left:0}.el-tabs--right.el-tabs--card .el-tabs__item.is-right{border-bottom:none;border-top:1px solid #e4e7ed}.el-tabs--right.el-tabs--card .el-tabs__item.is-right:first-child{border-left:1px solid #e4e7ed;border-top:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active{border:1px solid #e4e7ed;border-left-color:#fff;border-right:none;border-bottom:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active:first-child{border-top:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active:last-child{border-bottom:none}.el-tabs--right.el-tabs--card .el-tabs__nav{border-radius:0 4px 4px 0;border-bottom:1px solid #e4e7ed;border-left:none}.el-tabs--right.el-tabs--border-card .el-tabs__header.is-right{border-left:1px solid #dfe4ed}.el-tabs--right.el-tabs--border-card .el-tabs__item.is-right{border:1px solid transparent;margin:-1px -1px -1px 0}.el-tabs--right.el-tabs--border-card .el-tabs__item.is-right.is-active{border-color:#d1dbe5 transparent}.slideInLeft-transition,.slideInRight-transition{display:inline-block}.slideInRight-enter{animation:slideInRight-enter .3s}.slideInRight-leave{position:absolute;left:0;right:0;animation:slideInRight-leave .3s}.slideInLeft-enter{animation:slideInLeft-enter .3s}.slideInLeft-leave{position:absolute;left:0;right:0;animation:slideInLeft-leave .3s}@keyframes slideInRight-enter{0%{opacity:0;transform-origin:0 0;transform:translateX(100%)}to{opacity:1;transform-origin:0 0;transform:translateX(0)}}@keyframes slideInRight-leave{0%{transform-origin:0 0;transform:translateX(0);opacity:1}to{transform-origin:0 0;transform:translateX(100%);opacity:0}}@keyframes slideInLeft-enter{0%{opacity:0;transform-origin:0 0;transform:translateX(-100%)}to{opacity:1;transform-origin:0 0;transform:translateX(0)}}@keyframes slideInLeft-leave{0%{transform-origin:0 0;transform:translateX(0);opacity:1}to{transform-origin:0 0;transform:translateX(-100%);opacity:0}}.el-tree{position:relative;cursor:default;background:#fff;color:#606266}.el-tree__empty-block{position:relative;min-height:60px;text-align:center;width:100%;height:100%}.el-tree__empty-text{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#909399;font-size:14px}.el-tree__drop-indicator{position:absolute;left:0;right:0;height:1px;background-color:#409eff}.el-tree-node{white-space:nowrap;outline:0}.el-tree-node:focus>.el-tree-node__content{background-color:#f5f7fa}.el-tree-node.is-drop-inner>.el-tree-node__content .el-tree-node__label{background-color:#409eff;color:#fff}.el-tree-node__content{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:26px;cursor:pointer}.el-tree-node__content>.el-tree-node__expand-icon{padding:6px}.el-tree-node__content>label.el-checkbox{margin-right:8px}.el-tree-node__content:hover{background-color:#f5f7fa}.el-tree.is-dragging .el-tree-node__content{cursor:move}.el-tree.is-dragging.is-drop-not-allow .el-tree-node__content{cursor:not-allowed}.el-tree-node__expand-icon{cursor:pointer;color:#c0c4cc;font-size:12px;transform:rotate(0);transition:transform .3s ease-in-out}.el-tree-node__expand-icon.expanded{transform:rotate(90deg)}.el-tree-node__expand-icon.is-leaf{color:transparent;cursor:default}.el-tree-node__label{font-size:14px}.el-tree-node__loading-icon{margin-right:8px;font-size:14px;color:#c0c4cc}.el-tree-node>.el-tree-node__children{overflow:hidden;background-color:transparent}.el-tree-node.is-expanded>.el-tree-node__children{display:block}.el-tree--highlight-current .el-tree-node.is-current>.el-tree-node__content{background-color:#f0f7ff}.el-alert{width:100%;padding:8px 16px;margin:0;box-sizing:border-box;border-radius:4px;position:relative;background-color:#fff;overflow:hidden;opacity:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;transition:opacity .2s}.el-alert.is-light .el-alert__closebtn{color:#c0c4cc}.el-alert.is-dark .el-alert__closebtn,.el-alert.is-dark .el-alert__description{color:#fff}.el-alert.is-center{-ms-flex-pack:center;justify-content:center}.el-alert--success.is-light{background-color:#f0f9eb;color:#67c23a}.el-alert--success.is-light .el-alert__description{color:#67c23a}.el-alert--success.is-dark{background-color:#67c23a;color:#fff}.el-alert--info.is-light{background-color:#f4f4f5;color:#909399}.el-alert--info.is-dark{background-color:#909399;color:#fff}.el-alert--info .el-alert__description{color:#909399}.el-alert--warning.is-light{background-color:#fdf6ec;color:#e6a23c}.el-alert--warning.is-light .el-alert__description{color:#e6a23c}.el-alert--warning.is-dark{background-color:#e6a23c;color:#fff}.el-alert--error.is-light{background-color:#fef0f0;color:#f56c6c}.el-alert--error.is-light .el-alert__description{color:#f56c6c}.el-alert--error.is-dark{background-color:#f56c6c;color:#fff}.el-alert__content{display:table-cell;padding:0 8px}.el-alert__icon{font-size:16px;width:16px}.el-alert__icon.is-big{font-size:28px;width:28px}.el-alert__title{font-size:13px;line-height:18px}.el-alert__title.is-bold{font-weight:700}.el-alert .el-alert__description{font-size:12px;margin:5px 0 0}.el-alert__closebtn{font-size:12px;opacity:1;position:absolute;top:12px;right:15px;cursor:pointer}.el-alert-fade-enter,.el-alert-fade-leave-active,.el-loading-fade-enter,.el-loading-fade-leave-active,.el-notification-fade-leave-active{opacity:0}.el-alert__closebtn.is-customed{font-style:normal;font-size:13px;top:9px}.el-notification{display:-ms-flexbox;display:flex;width:330px;padding:14px 26px 14px 13px;border-radius:8px;box-sizing:border-box;border:1px solid #ebeef5;position:fixed;background-color:#fff;box-shadow:0 2px 12px 0 rgba(0,0,0,.1);transition:opacity .3s,transform .3s,left .3s,right .3s,top .4s,bottom .3s;overflow:hidden}.el-notification.right{right:16px}.el-notification.left{left:16px}.el-notification__group{margin-left:13px;margin-right:8px}.el-notification__title{font-weight:700;font-size:16px;color:#303133;margin:0}.el-notification__content{font-size:14px;line-height:21px;margin:6px 0 0;color:#606266;text-align:justify}.el-notification__content p{margin:0}.el-notification__icon{height:24px;width:24px;font-size:24px}.el-notification__closeBtn{position:absolute;top:18px;right:15px;cursor:pointer;color:#909399;font-size:16px}.el-notification__closeBtn:hover{color:#606266}.el-notification .el-icon-success{color:#67c23a}.el-notification .el-icon-error{color:#f56c6c}.el-notification .el-icon-info{color:#909399}.el-notification .el-icon-warning{color:#e6a23c}.el-notification-fade-enter.right{right:0;transform:translateX(100%)}.el-notification-fade-enter.left{left:0;transform:translateX(-100%)}.el-input-number{position:relative;display:inline-block;width:180px;line-height:38px}.el-input-number .el-input{display:block}.el-input-number .el-input__inner{-webkit-appearance:none;padding-left:50px;padding-right:50px;text-align:center}.el-input-number__decrease,.el-input-number__increase{position:absolute;z-index:1;top:1px;width:40px;height:auto;text-align:center;background:#f5f7fa;color:#606266;cursor:pointer;font-size:13px}.el-input-number__decrease:hover,.el-input-number__increase:hover{color:#409eff}.el-input-number__decrease:hover:not(.is-disabled)~.el-input .el-input__inner:not(.is-disabled),.el-input-number__increase:hover:not(.is-disabled)~.el-input .el-input__inner:not(.is-disabled){border-color:#409eff}.el-input-number__decrease.is-disabled,.el-input-number__increase.is-disabled{color:#c0c4cc;cursor:not-allowed}.el-input-number__increase{right:1px;border-radius:0 4px 4px 0;border-left:1px solid #dcdfe6}.el-input-number__decrease{left:1px;border-radius:4px 0 0 4px;border-right:1px solid #dcdfe6}.el-input-number.is-disabled .el-input-number__decrease,.el-input-number.is-disabled .el-input-number__increase{border-color:#e4e7ed;color:#e4e7ed}.el-input-number.is-disabled .el-input-number__decrease:hover,.el-input-number.is-disabled .el-input-number__increase:hover{color:#e4e7ed;cursor:not-allowed}.el-input-number--medium{width:200px;line-height:34px}.el-input-number--medium .el-input-number__decrease,.el-input-number--medium .el-input-number__increase{width:36px;font-size:14px}.el-input-number--medium .el-input__inner{padding-left:43px;padding-right:43px}.el-input-number--small{width:130px;line-height:30px}.el-input-number--small .el-input-number__decrease,.el-input-number--small .el-input-number__increase{width:32px;font-size:13px}.el-input-number--small .el-input-number__decrease [class*=el-icon],.el-input-number--small .el-input-number__increase [class*=el-icon]{transform:scale(.9)}.el-input-number--small .el-input__inner{padding-left:39px;padding-right:39px}.el-input-number--mini{width:130px;line-height:26px}.el-input-number--mini .el-input-number__decrease,.el-input-number--mini .el-input-number__increase{width:28px;font-size:12px}.el-input-number--mini .el-input-number__decrease [class*=el-icon],.el-input-number--mini .el-input-number__increase [class*=el-icon]{transform:scale(.8)}.el-input-number--mini .el-input__inner{padding-left:35px;padding-right:35px}.el-input-number.is-without-controls .el-input__inner{padding-left:15px;padding-right:15px}.el-input-number.is-controls-right .el-input__inner{padding-left:15px;padding-right:50px}.el-input-number.is-controls-right .el-input-number__decrease,.el-input-number.is-controls-right .el-input-number__increase{height:auto;line-height:19px}.el-input-number.is-controls-right .el-input-number__decrease [class*=el-icon],.el-input-number.is-controls-right .el-input-number__increase [class*=el-icon]{transform:scale(.8)}.el-input-number.is-controls-right .el-input-number__increase{border-radius:0 4px 0 0;border-bottom:1px solid #dcdfe6}.el-input-number.is-controls-right .el-input-number__decrease{right:1px;bottom:1px;top:auto;left:auto;border-right:none;border-left:1px solid #dcdfe6;border-radius:0 0 4px}.el-input-number.is-controls-right[class*=medium] [class*=decrease],.el-input-number.is-controls-right[class*=medium] [class*=increase]{line-height:17px}.el-input-number.is-controls-right[class*=small] [class*=decrease],.el-input-number.is-controls-right[class*=small] [class*=increase]{line-height:15px}.el-input-number.is-controls-right[class*=mini] [class*=decrease],.el-input-number.is-controls-right[class*=mini] [class*=increase]{line-height:13px}.el-tooltip__popper{position:absolute;border-radius:4px;padding:10px;z-index:2000;font-size:12px;line-height:1.2;min-width:10px;word-wrap:break-word}.el-tooltip__popper .popper__arrow,.el-tooltip__popper .popper__arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.el-tooltip__popper .popper__arrow{border-width:6px}.el-tooltip__popper .popper__arrow:after{content:" ";border-width:5px}.el-progress-bar__inner:after,.el-row:after,.el-row:before,.el-slider:after,.el-slider:before,.el-slider__button-wrapper:after,.el-upload-cover:after{content:""}.el-tooltip__popper[x-placement^=top]{margin-bottom:12px}.el-tooltip__popper[x-placement^=top] .popper__arrow{bottom:-6px;border-top-color:#303133;border-bottom-width:0}.el-tooltip__popper[x-placement^=top] .popper__arrow:after{bottom:1px;margin-left:-5px;border-top-color:#303133;border-bottom-width:0}.el-tooltip__popper[x-placement^=bottom]{margin-top:12px}.el-tooltip__popper[x-placement^=bottom] .popper__arrow{top:-6px;border-top-width:0;border-bottom-color:#303133}.el-tooltip__popper[x-placement^=bottom] .popper__arrow:after{top:1px;margin-left:-5px;border-top-width:0;border-bottom-color:#303133}.el-tooltip__popper[x-placement^=right]{margin-left:12px}.el-tooltip__popper[x-placement^=right] .popper__arrow{left:-6px;border-right-color:#303133;border-left-width:0}.el-tooltip__popper[x-placement^=right] .popper__arrow:after{bottom:-5px;left:1px;border-right-color:#303133;border-left-width:0}.el-tooltip__popper[x-placement^=left]{margin-right:12px}.el-tooltip__popper[x-placement^=left] .popper__arrow{right:-6px;border-right-width:0;border-left-color:#303133}.el-tooltip__popper[x-placement^=left] .popper__arrow:after{right:1px;bottom:-5px;margin-left:-5px;border-right-width:0;border-left-color:#303133}.el-tooltip__popper.is-dark{background:#303133;color:#fff}.el-tooltip__popper.is-light{background:#fff;border:1px solid #303133}.el-tooltip__popper.is-light[x-placement^=top] .popper__arrow{border-top-color:#303133}.el-tooltip__popper.is-light[x-placement^=top] .popper__arrow:after{border-top-color:#fff}.el-tooltip__popper.is-light[x-placement^=bottom] .popper__arrow{border-bottom-color:#303133}.el-tooltip__popper.is-light[x-placement^=bottom] .popper__arrow:after{border-bottom-color:#fff}.el-tooltip__popper.is-light[x-placement^=left] .popper__arrow{border-left-color:#303133}.el-tooltip__popper.is-light[x-placement^=left] .popper__arrow:after{border-left-color:#fff}.el-tooltip__popper.is-light[x-placement^=right] .popper__arrow{border-right-color:#303133}.el-tooltip__popper.is-light[x-placement^=right] .popper__arrow:after{border-right-color:#fff}.el-slider:after,.el-slider:before{display:table}.el-slider__button-wrapper .el-tooltip,.el-slider__button-wrapper:after{vertical-align:middle;display:inline-block}.el-slider:after{clear:both}.el-slider__runway{width:100%;height:6px;margin:16px 0;background-color:#e4e7ed;border-radius:3px;position:relative;cursor:pointer;vertical-align:middle}.el-slider__runway.show-input{margin-right:160px;width:auto}.el-slider__runway.disabled{cursor:default}.el-slider__runway.disabled .el-slider__bar{background-color:#c0c4cc}.el-slider__runway.disabled .el-slider__button{border-color:#c0c4cc}.el-slider__runway.disabled .el-slider__button-wrapper.dragging,.el-slider__runway.disabled .el-slider__button-wrapper.hover,.el-slider__runway.disabled .el-slider__button-wrapper:hover{cursor:not-allowed}.el-slider__runway.disabled .el-slider__button.dragging,.el-slider__runway.disabled .el-slider__button.hover,.el-slider__runway.disabled .el-slider__button:hover{transform:scale(1);cursor:not-allowed}.el-slider__button-wrapper,.el-slider__stop{-webkit-transform:translateX(-50%);position:absolute}.el-slider__input{float:right;margin-top:3px;width:130px}.el-slider__input.el-input-number--mini{margin-top:5px}.el-slider__input.el-input-number--medium{margin-top:0}.el-slider__input.el-input-number--large{margin-top:-2px}.el-slider__bar{height:6px;background-color:#409eff;border-top-left-radius:3px;border-bottom-left-radius:3px;position:absolute}.el-slider__button-wrapper{height:36px;width:36px;z-index:1001;top:-15px;transform:translateX(-50%);background-color:transparent;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:normal}.el-slider__button-wrapper:after{height:100%}.el-slider__button-wrapper.hover,.el-slider__button-wrapper:hover{cursor:grab}.el-slider__button-wrapper.dragging{cursor:grabbing}.el-slider__button{width:16px;height:16px;border:2px solid #409eff;background-color:#fff;border-radius:50%;transition:.2s;user-select:none}.el-image-viewer__btn,.el-slider__button,.el-step__icon-inner{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.el-slider__button.dragging,.el-slider__button.hover,.el-slider__button:hover{transform:scale(1.2)}.el-slider__button.hover,.el-slider__button:hover{cursor:grab}.el-slider__button.dragging{cursor:grabbing}.el-slider__stop{height:6px;width:6px;border-radius:100%;background-color:#fff;transform:translateX(-50%)}.el-slider__marks{top:0;left:12px;width:18px;height:100%}.el-slider__marks-text{position:absolute;transform:translateX(-50%);font-size:14px;color:#909399;margin-top:15px}.el-slider.is-vertical{position:relative}.el-slider.is-vertical .el-slider__runway{width:6px;height:100%;margin:0 16px}.el-slider.is-vertical .el-slider__bar{width:6px;height:auto;border-radius:0 0 3px 3px}.el-slider.is-vertical .el-slider__button-wrapper{top:auto;left:-15px;transform:translateY(50%)}.el-slider.is-vertical .el-slider__stop{transform:translateY(50%)}.el-slider.is-vertical.el-slider--with-input{padding-bottom:58px}.el-slider.is-vertical.el-slider--with-input .el-slider__input{overflow:visible;float:none;position:absolute;bottom:22px;width:36px;margin-top:15px}.el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input__inner{text-align:center;padding-left:5px;padding-right:5px}.el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input-number__decrease,.el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input-number__increase{top:32px;margin-top:-1px;border:1px solid #dcdfe6;line-height:20px;box-sizing:border-box;transition:border-color .2s cubic-bezier(.645,.045,.355,1)}.el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input-number__decrease{width:18px;right:18px;border-bottom-left-radius:4px}.el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input-number__increase{width:19px;border-bottom-right-radius:4px}.el-slider.is-vertical.el-slider--with-input .el-slider__input .el-input-number__increase~.el-input .el-input__inner{border-bottom-left-radius:0;border-bottom-right-radius:0}.el-slider.is-vertical.el-slider--with-input .el-slider__input:hover .el-input-number__decrease,.el-slider.is-vertical.el-slider--with-input .el-slider__input:hover .el-input-number__increase{border-color:#c0c4cc}.el-slider.is-vertical.el-slider--with-input .el-slider__input:active .el-input-number__decrease,.el-slider.is-vertical.el-slider--with-input .el-slider__input:active .el-input-number__increase{border-color:#409eff}.el-slider.is-vertical .el-slider__marks-text{margin-top:0;left:15px;transform:translateY(50%)}.el-loading-parent--relative{position:relative!important}.el-loading-parent--hidden{overflow:hidden!important}.el-loading-mask{position:absolute;z-index:2000;background-color:hsla(0,0%,100%,.9);margin:0;top:0;right:0;bottom:0;left:0;transition:opacity .3s}.el-loading-mask.is-fullscreen{position:fixed}.el-loading-mask.is-fullscreen .el-loading-spinner{margin-top:-25px}.el-loading-mask.is-fullscreen .el-loading-spinner .circular{height:50px;width:50px}.el-loading-spinner{top:50%;margin-top:-21px;width:100%;text-align:center;position:absolute}.el-col-pull-0,.el-col-pull-1,.el-col-pull-2,.el-col-pull-3,.el-col-pull-4,.el-col-pull-5,.el-col-pull-6,.el-col-pull-7,.el-col-pull-8,.el-col-pull-9,.el-col-pull-10,.el-col-pull-11,.el-col-pull-13,.el-col-pull-14,.el-col-pull-15,.el-col-pull-16,.el-col-pull-17,.el-col-pull-18,.el-col-pull-19,.el-col-pull-20,.el-col-pull-21,.el-col-pull-22,.el-col-pull-23,.el-col-pull-24,.el-col-push-0,.el-col-push-1,.el-col-push-2,.el-col-push-3,.el-col-push-4,.el-col-push-5,.el-col-push-6,.el-col-push-7,.el-col-push-8,.el-col-push-9,.el-col-push-10,.el-col-push-11,.el-col-push-12,.el-col-push-13,.el-col-push-14,.el-col-push-15,.el-col-push-16,.el-col-push-17,.el-col-push-18,.el-col-push-19,.el-col-push-20,.el-col-push-21,.el-col-push-22,.el-col-push-23,.el-col-push-24,.el-row{position:relative}.el-loading-spinner .el-loading-text{color:#409eff;margin:3px 0;font-size:14px}.el-loading-spinner .circular{height:42px;width:42px;animation:loading-rotate 2s linear infinite}.el-loading-spinner .path{animation:loading-dash 1.5s ease-in-out infinite;stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:2;stroke:#409eff;stroke-linecap:round}.el-loading-spinner i{color:#409eff}@keyframes loading-rotate{to{transform:rotate(1turn)}}@keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}to{stroke-dasharray:90,150;stroke-dashoffset:-120px}}.el-row{box-sizing:border-box}.el-row:after,.el-row:before{display:table}.el-row:after{clear:both}.el-row--flex{display:-ms-flexbox;display:flex}.el-col-0,.el-row--flex:after,.el-row--flex:before{display:none}.el-row--flex.is-justify-center{-ms-flex-pack:center;justify-content:center}.el-row--flex.is-justify-end{-ms-flex-pack:end;justify-content:flex-end}.el-row--flex.is-justify-space-between{-ms-flex-pack:justify;justify-content:space-between}.el-row--flex.is-justify-space-around{-ms-flex-pack:distribute;justify-content:space-around}.el-row--flex.is-align-top{-ms-flex-align:start;align-items:flex-start}.el-row--flex.is-align-middle{-ms-flex-align:center;align-items:center}.el-row--flex.is-align-bottom{-ms-flex-align:end;align-items:flex-end}[class*=el-col-]{float:left;box-sizing:border-box}.el-upload--picture-card,.el-upload-dragger{-webkit-box-sizing:border-box;cursor:pointer}.el-col-0{width:0}.el-col-offset-0{margin-left:0}.el-col-pull-0{right:0}.el-col-push-0{left:0}.el-col-1{width:4.16667%}.el-col-offset-1{margin-left:4.16667%}.el-col-pull-1{right:4.16667%}.el-col-push-1{left:4.16667%}.el-col-2{width:8.33333%}.el-col-offset-2{margin-left:8.33333%}.el-col-pull-2{right:8.33333%}.el-col-push-2{left:8.33333%}.el-col-3{width:12.5%}.el-col-offset-3{margin-left:12.5%}.el-col-pull-3{right:12.5%}.el-col-push-3{left:12.5%}.el-col-4{width:16.66667%}.el-col-offset-4{margin-left:16.66667%}.el-col-pull-4{right:16.66667%}.el-col-push-4{left:16.66667%}.el-col-5{width:20.83333%}.el-col-offset-5{margin-left:20.83333%}.el-col-pull-5{right:20.83333%}.el-col-push-5{left:20.83333%}.el-col-6{width:25%}.el-col-offset-6{margin-left:25%}.el-col-pull-6{right:25%}.el-col-push-6{left:25%}.el-col-7{width:29.16667%}.el-col-offset-7{margin-left:29.16667%}.el-col-pull-7{right:29.16667%}.el-col-push-7{left:29.16667%}.el-col-8{width:33.33333%}.el-col-offset-8{margin-left:33.33333%}.el-col-pull-8{right:33.33333%}.el-col-push-8{left:33.33333%}.el-col-9{width:37.5%}.el-col-offset-9{margin-left:37.5%}.el-col-pull-9{right:37.5%}.el-col-push-9{left:37.5%}.el-col-10{width:41.66667%}.el-col-offset-10{margin-left:41.66667%}.el-col-pull-10{right:41.66667%}.el-col-push-10{left:41.66667%}.el-col-11{width:45.83333%}.el-col-offset-11{margin-left:45.83333%}.el-col-pull-11{right:45.83333%}.el-col-push-11{left:45.83333%}.el-col-12{width:50%}.el-col-offset-12{margin-left:50%}.el-col-pull-12{position:relative;right:50%}.el-col-push-12{left:50%}.el-col-13{width:54.16667%}.el-col-offset-13{margin-left:54.16667%}.el-col-pull-13{right:54.16667%}.el-col-push-13{left:54.16667%}.el-col-14{width:58.33333%}.el-col-offset-14{margin-left:58.33333%}.el-col-pull-14{right:58.33333%}.el-col-push-14{left:58.33333%}.el-col-15{width:62.5%}.el-col-offset-15{margin-left:62.5%}.el-col-pull-15{right:62.5%}.el-col-push-15{left:62.5%}.el-col-16{width:66.66667%}.el-col-offset-16{margin-left:66.66667%}.el-col-pull-16{right:66.66667%}.el-col-push-16{left:66.66667%}.el-col-17{width:70.83333%}.el-col-offset-17{margin-left:70.83333%}.el-col-pull-17{right:70.83333%}.el-col-push-17{left:70.83333%}.el-col-18{width:75%}.el-col-offset-18{margin-left:75%}.el-col-pull-18{right:75%}.el-col-push-18{left:75%}.el-col-19{width:79.16667%}.el-col-offset-19{margin-left:79.16667%}.el-col-pull-19{right:79.16667%}.el-col-push-19{left:79.16667%}.el-col-20{width:83.33333%}.el-col-offset-20{margin-left:83.33333%}.el-col-pull-20{right:83.33333%}.el-col-push-20{left:83.33333%}.el-col-21{width:87.5%}.el-col-offset-21{margin-left:87.5%}.el-col-pull-21{right:87.5%}.el-col-push-21{left:87.5%}.el-col-22{width:91.66667%}.el-col-offset-22{margin-left:91.66667%}.el-col-pull-22{right:91.66667%}.el-col-push-22{left:91.66667%}.el-col-23{width:95.83333%}.el-col-offset-23{margin-left:95.83333%}.el-col-pull-23{right:95.83333%}.el-col-push-23{left:95.83333%}.el-col-24{width:100%}.el-col-offset-24{margin-left:100%}.el-col-pull-24{right:100%}.el-col-push-24{left:100%}@media only screen and (max-width:767px){.el-col-xs-0{display:none;width:0}.el-col-xs-offset-0{margin-left:0}.el-col-xs-pull-0{position:relative;right:0}.el-col-xs-push-0{position:relative;left:0}.el-col-xs-1{width:4.16667%}.el-col-xs-offset-1{margin-left:4.16667%}.el-col-xs-pull-1{position:relative;right:4.16667%}.el-col-xs-push-1{position:relative;left:4.16667%}.el-col-xs-2{width:8.33333%}.el-col-xs-offset-2{margin-left:8.33333%}.el-col-xs-pull-2{position:relative;right:8.33333%}.el-col-xs-push-2{position:relative;left:8.33333%}.el-col-xs-3{width:12.5%}.el-col-xs-offset-3{margin-left:12.5%}.el-col-xs-pull-3{position:relative;right:12.5%}.el-col-xs-push-3{position:relative;left:12.5%}.el-col-xs-4{width:16.66667%}.el-col-xs-offset-4{margin-left:16.66667%}.el-col-xs-pull-4{position:relative;right:16.66667%}.el-col-xs-push-4{position:relative;left:16.66667%}.el-col-xs-5{width:20.83333%}.el-col-xs-offset-5{margin-left:20.83333%}.el-col-xs-pull-5{position:relative;right:20.83333%}.el-col-xs-push-5{position:relative;left:20.83333%}.el-col-xs-6{width:25%}.el-col-xs-offset-6{margin-left:25%}.el-col-xs-pull-6{position:relative;right:25%}.el-col-xs-push-6{position:relative;left:25%}.el-col-xs-7{width:29.16667%}.el-col-xs-offset-7{margin-left:29.16667%}.el-col-xs-pull-7{position:relative;right:29.16667%}.el-col-xs-push-7{position:relative;left:29.16667%}.el-col-xs-8{width:33.33333%}.el-col-xs-offset-8{margin-left:33.33333%}.el-col-xs-pull-8{position:relative;right:33.33333%}.el-col-xs-push-8{position:relative;left:33.33333%}.el-col-xs-9{width:37.5%}.el-col-xs-offset-9{margin-left:37.5%}.el-col-xs-pull-9{position:relative;right:37.5%}.el-col-xs-push-9{position:relative;left:37.5%}.el-col-xs-10{width:41.66667%}.el-col-xs-offset-10{margin-left:41.66667%}.el-col-xs-pull-10{position:relative;right:41.66667%}.el-col-xs-push-10{position:relative;left:41.66667%}.el-col-xs-11{width:45.83333%}.el-col-xs-offset-11{margin-left:45.83333%}.el-col-xs-pull-11{position:relative;right:45.83333%}.el-col-xs-push-11{position:relative;left:45.83333%}.el-col-xs-12{width:50%}.el-col-xs-offset-12{margin-left:50%}.el-col-xs-pull-12{position:relative;right:50%}.el-col-xs-push-12{position:relative;left:50%}.el-col-xs-13{width:54.16667%}.el-col-xs-offset-13{margin-left:54.16667%}.el-col-xs-pull-13{position:relative;right:54.16667%}.el-col-xs-push-13{position:relative;left:54.16667%}.el-col-xs-14{width:58.33333%}.el-col-xs-offset-14{margin-left:58.33333%}.el-col-xs-pull-14{position:relative;right:58.33333%}.el-col-xs-push-14{position:relative;left:58.33333%}.el-col-xs-15{width:62.5%}.el-col-xs-offset-15{margin-left:62.5%}.el-col-xs-pull-15{position:relative;right:62.5%}.el-col-xs-push-15{position:relative;left:62.5%}.el-col-xs-16{width:66.66667%}.el-col-xs-offset-16{margin-left:66.66667%}.el-col-xs-pull-16{position:relative;right:66.66667%}.el-col-xs-push-16{position:relative;left:66.66667%}.el-col-xs-17{width:70.83333%}.el-col-xs-offset-17{margin-left:70.83333%}.el-col-xs-pull-17{position:relative;right:70.83333%}.el-col-xs-push-17{position:relative;left:70.83333%}.el-col-xs-18{width:75%}.el-col-xs-offset-18{margin-left:75%}.el-col-xs-pull-18{position:relative;right:75%}.el-col-xs-push-18{position:relative;left:75%}.el-col-xs-19{width:79.16667%}.el-col-xs-offset-19{margin-left:79.16667%}.el-col-xs-pull-19{position:relative;right:79.16667%}.el-col-xs-push-19{position:relative;left:79.16667%}.el-col-xs-20{width:83.33333%}.el-col-xs-offset-20{margin-left:83.33333%}.el-col-xs-pull-20{position:relative;right:83.33333%}.el-col-xs-push-20{position:relative;left:83.33333%}.el-col-xs-21{width:87.5%}.el-col-xs-offset-21{margin-left:87.5%}.el-col-xs-pull-21{position:relative;right:87.5%}.el-col-xs-push-21{position:relative;left:87.5%}.el-col-xs-22{width:91.66667%}.el-col-xs-offset-22{margin-left:91.66667%}.el-col-xs-pull-22{position:relative;right:91.66667%}.el-col-xs-push-22{position:relative;left:91.66667%}.el-col-xs-23{width:95.83333%}.el-col-xs-offset-23{margin-left:95.83333%}.el-col-xs-pull-23{position:relative;right:95.83333%}.el-col-xs-push-23{position:relative;left:95.83333%}.el-col-xs-24{width:100%}.el-col-xs-offset-24{margin-left:100%}.el-col-xs-pull-24{position:relative;right:100%}.el-col-xs-push-24{position:relative;left:100%}}@media only screen and (min-width:768px){.el-col-sm-0{display:none;width:0}.el-col-sm-offset-0{margin-left:0}.el-col-sm-pull-0{position:relative;right:0}.el-col-sm-push-0{position:relative;left:0}.el-col-sm-1{width:4.16667%}.el-col-sm-offset-1{margin-left:4.16667%}.el-col-sm-pull-1{position:relative;right:4.16667%}.el-col-sm-push-1{position:relative;left:4.16667%}.el-col-sm-2{width:8.33333%}.el-col-sm-offset-2{margin-left:8.33333%}.el-col-sm-pull-2{position:relative;right:8.33333%}.el-col-sm-push-2{position:relative;left:8.33333%}.el-col-sm-3{width:12.5%}.el-col-sm-offset-3{margin-left:12.5%}.el-col-sm-pull-3{position:relative;right:12.5%}.el-col-sm-push-3{position:relative;left:12.5%}.el-col-sm-4{width:16.66667%}.el-col-sm-offset-4{margin-left:16.66667%}.el-col-sm-pull-4{position:relative;right:16.66667%}.el-col-sm-push-4{position:relative;left:16.66667%}.el-col-sm-5{width:20.83333%}.el-col-sm-offset-5{margin-left:20.83333%}.el-col-sm-pull-5{position:relative;right:20.83333%}.el-col-sm-push-5{position:relative;left:20.83333%}.el-col-sm-6{width:25%}.el-col-sm-offset-6{margin-left:25%}.el-col-sm-pull-6{position:relative;right:25%}.el-col-sm-push-6{position:relative;left:25%}.el-col-sm-7{width:29.16667%}.el-col-sm-offset-7{margin-left:29.16667%}.el-col-sm-pull-7{position:relative;right:29.16667%}.el-col-sm-push-7{position:relative;left:29.16667%}.el-col-sm-8{width:33.33333%}.el-col-sm-offset-8{margin-left:33.33333%}.el-col-sm-pull-8{position:relative;right:33.33333%}.el-col-sm-push-8{position:relative;left:33.33333%}.el-col-sm-9{width:37.5%}.el-col-sm-offset-9{margin-left:37.5%}.el-col-sm-pull-9{position:relative;right:37.5%}.el-col-sm-push-9{position:relative;left:37.5%}.el-col-sm-10{width:41.66667%}.el-col-sm-offset-10{margin-left:41.66667%}.el-col-sm-pull-10{position:relative;right:41.66667%}.el-col-sm-push-10{position:relative;left:41.66667%}.el-col-sm-11{width:45.83333%}.el-col-sm-offset-11{margin-left:45.83333%}.el-col-sm-pull-11{position:relative;right:45.83333%}.el-col-sm-push-11{position:relative;left:45.83333%}.el-col-sm-12{width:50%}.el-col-sm-offset-12{margin-left:50%}.el-col-sm-pull-12{position:relative;right:50%}.el-col-sm-push-12{position:relative;left:50%}.el-col-sm-13{width:54.16667%}.el-col-sm-offset-13{margin-left:54.16667%}.el-col-sm-pull-13{position:relative;right:54.16667%}.el-col-sm-push-13{position:relative;left:54.16667%}.el-col-sm-14{width:58.33333%}.el-col-sm-offset-14{margin-left:58.33333%}.el-col-sm-pull-14{position:relative;right:58.33333%}.el-col-sm-push-14{position:relative;left:58.33333%}.el-col-sm-15{width:62.5%}.el-col-sm-offset-15{margin-left:62.5%}.el-col-sm-pull-15{position:relative;right:62.5%}.el-col-sm-push-15{position:relative;left:62.5%}.el-col-sm-16{width:66.66667%}.el-col-sm-offset-16{margin-left:66.66667%}.el-col-sm-pull-16{position:relative;right:66.66667%}.el-col-sm-push-16{position:relative;left:66.66667%}.el-col-sm-17{width:70.83333%}.el-col-sm-offset-17{margin-left:70.83333%}.el-col-sm-pull-17{position:relative;right:70.83333%}.el-col-sm-push-17{position:relative;left:70.83333%}.el-col-sm-18{width:75%}.el-col-sm-offset-18{margin-left:75%}.el-col-sm-pull-18{position:relative;right:75%}.el-col-sm-push-18{position:relative;left:75%}.el-col-sm-19{width:79.16667%}.el-col-sm-offset-19{margin-left:79.16667%}.el-col-sm-pull-19{position:relative;right:79.16667%}.el-col-sm-push-19{position:relative;left:79.16667%}.el-col-sm-20{width:83.33333%}.el-col-sm-offset-20{margin-left:83.33333%}.el-col-sm-pull-20{position:relative;right:83.33333%}.el-col-sm-push-20{position:relative;left:83.33333%}.el-col-sm-21{width:87.5%}.el-col-sm-offset-21{margin-left:87.5%}.el-col-sm-pull-21{position:relative;right:87.5%}.el-col-sm-push-21{position:relative;left:87.5%}.el-col-sm-22{width:91.66667%}.el-col-sm-offset-22{margin-left:91.66667%}.el-col-sm-pull-22{position:relative;right:91.66667%}.el-col-sm-push-22{position:relative;left:91.66667%}.el-col-sm-23{width:95.83333%}.el-col-sm-offset-23{margin-left:95.83333%}.el-col-sm-pull-23{position:relative;right:95.83333%}.el-col-sm-push-23{position:relative;left:95.83333%}.el-col-sm-24{width:100%}.el-col-sm-offset-24{margin-left:100%}.el-col-sm-pull-24{position:relative;right:100%}.el-col-sm-push-24{position:relative;left:100%}}@media only screen and (min-width:992px){.el-col-md-0{display:none;width:0}.el-col-md-offset-0{margin-left:0}.el-col-md-pull-0{position:relative;right:0}.el-col-md-push-0{position:relative;left:0}.el-col-md-1{width:4.16667%}.el-col-md-offset-1{margin-left:4.16667%}.el-col-md-pull-1{position:relative;right:4.16667%}.el-col-md-push-1{position:relative;left:4.16667%}.el-col-md-2{width:8.33333%}.el-col-md-offset-2{margin-left:8.33333%}.el-col-md-pull-2{position:relative;right:8.33333%}.el-col-md-push-2{position:relative;left:8.33333%}.el-col-md-3{width:12.5%}.el-col-md-offset-3{margin-left:12.5%}.el-col-md-pull-3{position:relative;right:12.5%}.el-col-md-push-3{position:relative;left:12.5%}.el-col-md-4{width:16.66667%}.el-col-md-offset-4{margin-left:16.66667%}.el-col-md-pull-4{position:relative;right:16.66667%}.el-col-md-push-4{position:relative;left:16.66667%}.el-col-md-5{width:20.83333%}.el-col-md-offset-5{margin-left:20.83333%}.el-col-md-pull-5{position:relative;right:20.83333%}.el-col-md-push-5{position:relative;left:20.83333%}.el-col-md-6{width:25%}.el-col-md-offset-6{margin-left:25%}.el-col-md-pull-6{position:relative;right:25%}.el-col-md-push-6{position:relative;left:25%}.el-col-md-7{width:29.16667%}.el-col-md-offset-7{margin-left:29.16667%}.el-col-md-pull-7{position:relative;right:29.16667%}.el-col-md-push-7{position:relative;left:29.16667%}.el-col-md-8{width:33.33333%}.el-col-md-offset-8{margin-left:33.33333%}.el-col-md-pull-8{position:relative;right:33.33333%}.el-col-md-push-8{position:relative;left:33.33333%}.el-col-md-9{width:37.5%}.el-col-md-offset-9{margin-left:37.5%}.el-col-md-pull-9{position:relative;right:37.5%}.el-col-md-push-9{position:relative;left:37.5%}.el-col-md-10{width:41.66667%}.el-col-md-offset-10{margin-left:41.66667%}.el-col-md-pull-10{position:relative;right:41.66667%}.el-col-md-push-10{position:relative;left:41.66667%}.el-col-md-11{width:45.83333%}.el-col-md-offset-11{margin-left:45.83333%}.el-col-md-pull-11{position:relative;right:45.83333%}.el-col-md-push-11{position:relative;left:45.83333%}.el-col-md-12{width:50%}.el-col-md-offset-12{margin-left:50%}.el-col-md-pull-12{position:relative;right:50%}.el-col-md-push-12{position:relative;left:50%}.el-col-md-13{width:54.16667%}.el-col-md-offset-13{margin-left:54.16667%}.el-col-md-pull-13{position:relative;right:54.16667%}.el-col-md-push-13{position:relative;left:54.16667%}.el-col-md-14{width:58.33333%}.el-col-md-offset-14{margin-left:58.33333%}.el-col-md-pull-14{position:relative;right:58.33333%}.el-col-md-push-14{position:relative;left:58.33333%}.el-col-md-15{width:62.5%}.el-col-md-offset-15{margin-left:62.5%}.el-col-md-pull-15{position:relative;right:62.5%}.el-col-md-push-15{position:relative;left:62.5%}.el-col-md-16{width:66.66667%}.el-col-md-offset-16{margin-left:66.66667%}.el-col-md-pull-16{position:relative;right:66.66667%}.el-col-md-push-16{position:relative;left:66.66667%}.el-col-md-17{width:70.83333%}.el-col-md-offset-17{margin-left:70.83333%}.el-col-md-pull-17{position:relative;right:70.83333%}.el-col-md-push-17{position:relative;left:70.83333%}.el-col-md-18{width:75%}.el-col-md-offset-18{margin-left:75%}.el-col-md-pull-18{position:relative;right:75%}.el-col-md-push-18{position:relative;left:75%}.el-col-md-19{width:79.16667%}.el-col-md-offset-19{margin-left:79.16667%}.el-col-md-pull-19{position:relative;right:79.16667%}.el-col-md-push-19{position:relative;left:79.16667%}.el-col-md-20{width:83.33333%}.el-col-md-offset-20{margin-left:83.33333%}.el-col-md-pull-20{position:relative;right:83.33333%}.el-col-md-push-20{position:relative;left:83.33333%}.el-col-md-21{width:87.5%}.el-col-md-offset-21{margin-left:87.5%}.el-col-md-pull-21{position:relative;right:87.5%}.el-col-md-push-21{position:relative;left:87.5%}.el-col-md-22{width:91.66667%}.el-col-md-offset-22{margin-left:91.66667%}.el-col-md-pull-22{position:relative;right:91.66667%}.el-col-md-push-22{position:relative;left:91.66667%}.el-col-md-23{width:95.83333%}.el-col-md-offset-23{margin-left:95.83333%}.el-col-md-pull-23{position:relative;right:95.83333%}.el-col-md-push-23{position:relative;left:95.83333%}.el-col-md-24{width:100%}.el-col-md-offset-24{margin-left:100%}.el-col-md-pull-24{position:relative;right:100%}.el-col-md-push-24{position:relative;left:100%}}@media only screen and (min-width:1200px){.el-col-lg-0{display:none;width:0}.el-col-lg-offset-0{margin-left:0}.el-col-lg-pull-0{position:relative;right:0}.el-col-lg-push-0{position:relative;left:0}.el-col-lg-1{width:4.16667%}.el-col-lg-offset-1{margin-left:4.16667%}.el-col-lg-pull-1{position:relative;right:4.16667%}.el-col-lg-push-1{position:relative;left:4.16667%}.el-col-lg-2{width:8.33333%}.el-col-lg-offset-2{margin-left:8.33333%}.el-col-lg-pull-2{position:relative;right:8.33333%}.el-col-lg-push-2{position:relative;left:8.33333%}.el-col-lg-3{width:12.5%}.el-col-lg-offset-3{margin-left:12.5%}.el-col-lg-pull-3{position:relative;right:12.5%}.el-col-lg-push-3{position:relative;left:12.5%}.el-col-lg-4{width:16.66667%}.el-col-lg-offset-4{margin-left:16.66667%}.el-col-lg-pull-4{position:relative;right:16.66667%}.el-col-lg-push-4{position:relative;left:16.66667%}.el-col-lg-5{width:20.83333%}.el-col-lg-offset-5{margin-left:20.83333%}.el-col-lg-pull-5{position:relative;right:20.83333%}.el-col-lg-push-5{position:relative;left:20.83333%}.el-col-lg-6{width:25%}.el-col-lg-offset-6{margin-left:25%}.el-col-lg-pull-6{position:relative;right:25%}.el-col-lg-push-6{position:relative;left:25%}.el-col-lg-7{width:29.16667%}.el-col-lg-offset-7{margin-left:29.16667%}.el-col-lg-pull-7{position:relative;right:29.16667%}.el-col-lg-push-7{position:relative;left:29.16667%}.el-col-lg-8{width:33.33333%}.el-col-lg-offset-8{margin-left:33.33333%}.el-col-lg-pull-8{position:relative;right:33.33333%}.el-col-lg-push-8{position:relative;left:33.33333%}.el-col-lg-9{width:37.5%}.el-col-lg-offset-9{margin-left:37.5%}.el-col-lg-pull-9{position:relative;right:37.5%}.el-col-lg-push-9{position:relative;left:37.5%}.el-col-lg-10{width:41.66667%}.el-col-lg-offset-10{margin-left:41.66667%}.el-col-lg-pull-10{position:relative;right:41.66667%}.el-col-lg-push-10{position:relative;left:41.66667%}.el-col-lg-11{width:45.83333%}.el-col-lg-offset-11{margin-left:45.83333%}.el-col-lg-pull-11{position:relative;right:45.83333%}.el-col-lg-push-11{position:relative;left:45.83333%}.el-col-lg-12{width:50%}.el-col-lg-offset-12{margin-left:50%}.el-col-lg-pull-12{position:relative;right:50%}.el-col-lg-push-12{position:relative;left:50%}.el-col-lg-13{width:54.16667%}.el-col-lg-offset-13{margin-left:54.16667%}.el-col-lg-pull-13{position:relative;right:54.16667%}.el-col-lg-push-13{position:relative;left:54.16667%}.el-col-lg-14{width:58.33333%}.el-col-lg-offset-14{margin-left:58.33333%}.el-col-lg-pull-14{position:relative;right:58.33333%}.el-col-lg-push-14{position:relative;left:58.33333%}.el-col-lg-15{width:62.5%}.el-col-lg-offset-15{margin-left:62.5%}.el-col-lg-pull-15{position:relative;right:62.5%}.el-col-lg-push-15{position:relative;left:62.5%}.el-col-lg-16{width:66.66667%}.el-col-lg-offset-16{margin-left:66.66667%}.el-col-lg-pull-16{position:relative;right:66.66667%}.el-col-lg-push-16{position:relative;left:66.66667%}.el-col-lg-17{width:70.83333%}.el-col-lg-offset-17{margin-left:70.83333%}.el-col-lg-pull-17{position:relative;right:70.83333%}.el-col-lg-push-17{position:relative;left:70.83333%}.el-col-lg-18{width:75%}.el-col-lg-offset-18{margin-left:75%}.el-col-lg-pull-18{position:relative;right:75%}.el-col-lg-push-18{position:relative;left:75%}.el-col-lg-19{width:79.16667%}.el-col-lg-offset-19{margin-left:79.16667%}.el-col-lg-pull-19{position:relative;right:79.16667%}.el-col-lg-push-19{position:relative;left:79.16667%}.el-col-lg-20{width:83.33333%}.el-col-lg-offset-20{margin-left:83.33333%}.el-col-lg-pull-20{position:relative;right:83.33333%}.el-col-lg-push-20{position:relative;left:83.33333%}.el-col-lg-21{width:87.5%}.el-col-lg-offset-21{margin-left:87.5%}.el-col-lg-pull-21{position:relative;right:87.5%}.el-col-lg-push-21{position:relative;left:87.5%}.el-col-lg-22{width:91.66667%}.el-col-lg-offset-22{margin-left:91.66667%}.el-col-lg-pull-22{position:relative;right:91.66667%}.el-col-lg-push-22{position:relative;left:91.66667%}.el-col-lg-23{width:95.83333%}.el-col-lg-offset-23{margin-left:95.83333%}.el-col-lg-pull-23{position:relative;right:95.83333%}.el-col-lg-push-23{position:relative;left:95.83333%}.el-col-lg-24{width:100%}.el-col-lg-offset-24{margin-left:100%}.el-col-lg-pull-24{position:relative;right:100%}.el-col-lg-push-24{position:relative;left:100%}}@media only screen and (min-width:1920px){.el-col-xl-0{display:none;width:0}.el-col-xl-offset-0{margin-left:0}.el-col-xl-pull-0{position:relative;right:0}.el-col-xl-push-0{position:relative;left:0}.el-col-xl-1{width:4.16667%}.el-col-xl-offset-1{margin-left:4.16667%}.el-col-xl-pull-1{position:relative;right:4.16667%}.el-col-xl-push-1{position:relative;left:4.16667%}.el-col-xl-2{width:8.33333%}.el-col-xl-offset-2{margin-left:8.33333%}.el-col-xl-pull-2{position:relative;right:8.33333%}.el-col-xl-push-2{position:relative;left:8.33333%}.el-col-xl-3{width:12.5%}.el-col-xl-offset-3{margin-left:12.5%}.el-col-xl-pull-3{position:relative;right:12.5%}.el-col-xl-push-3{position:relative;left:12.5%}.el-col-xl-4{width:16.66667%}.el-col-xl-offset-4{margin-left:16.66667%}.el-col-xl-pull-4{position:relative;right:16.66667%}.el-col-xl-push-4{position:relative;left:16.66667%}.el-col-xl-5{width:20.83333%}.el-col-xl-offset-5{margin-left:20.83333%}.el-col-xl-pull-5{position:relative;right:20.83333%}.el-col-xl-push-5{position:relative;left:20.83333%}.el-col-xl-6{width:25%}.el-col-xl-offset-6{margin-left:25%}.el-col-xl-pull-6{position:relative;right:25%}.el-col-xl-push-6{position:relative;left:25%}.el-col-xl-7{width:29.16667%}.el-col-xl-offset-7{margin-left:29.16667%}.el-col-xl-pull-7{position:relative;right:29.16667%}.el-col-xl-push-7{position:relative;left:29.16667%}.el-col-xl-8{width:33.33333%}.el-col-xl-offset-8{margin-left:33.33333%}.el-col-xl-pull-8{position:relative;right:33.33333%}.el-col-xl-push-8{position:relative;left:33.33333%}.el-col-xl-9{width:37.5%}.el-col-xl-offset-9{margin-left:37.5%}.el-col-xl-pull-9{position:relative;right:37.5%}.el-col-xl-push-9{position:relative;left:37.5%}.el-col-xl-10{width:41.66667%}.el-col-xl-offset-10{margin-left:41.66667%}.el-col-xl-pull-10{position:relative;right:41.66667%}.el-col-xl-push-10{position:relative;left:41.66667%}.el-col-xl-11{width:45.83333%}.el-col-xl-offset-11{margin-left:45.83333%}.el-col-xl-pull-11{position:relative;right:45.83333%}.el-col-xl-push-11{position:relative;left:45.83333%}.el-col-xl-12{width:50%}.el-col-xl-offset-12{margin-left:50%}.el-col-xl-pull-12{position:relative;right:50%}.el-col-xl-push-12{position:relative;left:50%}.el-col-xl-13{width:54.16667%}.el-col-xl-offset-13{margin-left:54.16667%}.el-col-xl-pull-13{position:relative;right:54.16667%}.el-col-xl-push-13{position:relative;left:54.16667%}.el-col-xl-14{width:58.33333%}.el-col-xl-offset-14{margin-left:58.33333%}.el-col-xl-pull-14{position:relative;right:58.33333%}.el-col-xl-push-14{position:relative;left:58.33333%}.el-col-xl-15{width:62.5%}.el-col-xl-offset-15{margin-left:62.5%}.el-col-xl-pull-15{position:relative;right:62.5%}.el-col-xl-push-15{position:relative;left:62.5%}.el-col-xl-16{width:66.66667%}.el-col-xl-offset-16{margin-left:66.66667%}.el-col-xl-pull-16{position:relative;right:66.66667%}.el-col-xl-push-16{position:relative;left:66.66667%}.el-col-xl-17{width:70.83333%}.el-col-xl-offset-17{margin-left:70.83333%}.el-col-xl-pull-17{position:relative;right:70.83333%}.el-col-xl-push-17{position:relative;left:70.83333%}.el-col-xl-18{width:75%}.el-col-xl-offset-18{margin-left:75%}.el-col-xl-pull-18{position:relative;right:75%}.el-col-xl-push-18{position:relative;left:75%}.el-col-xl-19{width:79.16667%}.el-col-xl-offset-19{margin-left:79.16667%}.el-col-xl-pull-19{position:relative;right:79.16667%}.el-col-xl-push-19{position:relative;left:79.16667%}.el-col-xl-20{width:83.33333%}.el-col-xl-offset-20{margin-left:83.33333%}.el-col-xl-pull-20{position:relative;right:83.33333%}.el-col-xl-push-20{position:relative;left:83.33333%}.el-col-xl-21{width:87.5%}.el-col-xl-offset-21{margin-left:87.5%}.el-col-xl-pull-21{position:relative;right:87.5%}.el-col-xl-push-21{position:relative;left:87.5%}.el-col-xl-22{width:91.66667%}.el-col-xl-offset-22{margin-left:91.66667%}.el-col-xl-pull-22{position:relative;right:91.66667%}.el-col-xl-push-22{position:relative;left:91.66667%}.el-col-xl-23{width:95.83333%}.el-col-xl-offset-23{margin-left:95.83333%}.el-col-xl-pull-23{position:relative;right:95.83333%}.el-col-xl-push-23{position:relative;left:95.83333%}.el-col-xl-24{width:100%}.el-col-xl-offset-24{margin-left:100%}.el-col-xl-pull-24{position:relative;right:100%}.el-col-xl-push-24{position:relative;left:100%}}.el-upload{display:inline-block;text-align:center;cursor:pointer;outline:0}.el-upload__input{display:none}.el-upload__tip{font-size:12px;color:#606266;margin-top:7px}.el-upload iframe{position:absolute;z-index:-1;top:0;left:0;opacity:0;filter:alpha(opacity=0)}.el-upload--picture-card{background-color:#fbfdff;border:1px dashed #c0ccda;border-radius:6px;box-sizing:border-box;width:148px;height:148px;line-height:146px;vertical-align:top}.el-upload--picture-card i{font-size:28px;color:#8c939d}.el-upload--picture-card:hover,.el-upload:focus{border-color:#409eff;color:#409eff}.el-upload:focus .el-upload-dragger{border-color:#409eff}.el-upload-dragger{background-color:#fff;border:1px dashed #d9d9d9;border-radius:6px;box-sizing:border-box;width:360px;height:180px;text-align:center;position:relative;overflow:hidden}.el-upload-dragger .el-icon-upload{font-size:67px;color:#c0c4cc;margin:40px 0 16px;line-height:50px}.el-upload-dragger+.el-upload__tip{text-align:center}.el-upload-dragger~.el-upload__files{border-top:1px solid #dcdfe6;margin-top:7px;padding-top:5px}.el-upload-dragger .el-upload__text{color:#606266;font-size:14px;text-align:center}.el-upload-dragger .el-upload__text em{color:#409eff;font-style:normal}.el-upload-dragger:hover{border-color:#409eff}.el-upload-dragger.is-dragover{background-color:rgba(32,159,255,.06);border:2px dashed #409eff}.el-upload-list{margin:0;padding:0;list-style:none}.el-upload-list__item{transition:all .5s cubic-bezier(.55,0,.1,1);font-size:14px;color:#606266;line-height:1.8;margin-top:5px;position:relative;box-sizing:border-box;border-radius:4px;width:100%}.el-upload-list__item .el-progress{position:absolute;top:20px;width:100%}.el-upload-list__item .el-progress__text{position:absolute;right:0;top:-13px}.el-upload-list__item .el-progress-bar{margin-right:0;padding-right:0}.el-upload-list__item:first-child{margin-top:10px}.el-upload-list__item .el-icon-upload-success{color:#67c23a}.el-upload-list__item .el-icon-close{display:none;position:absolute;top:5px;right:5px;cursor:pointer;opacity:.75;color:#606266}.el-upload-list__item .el-icon-close:hover{opacity:1}.el-upload-list__item .el-icon-close-tip{display:none;position:absolute;top:5px;right:5px;font-size:12px;cursor:pointer;opacity:1;color:#409eff}.el-upload-list__item:hover{background-color:#f5f7fa}.el-upload-list__item:hover .el-icon-close{display:inline-block}.el-upload-list__item:hover .el-progress__text{display:none}.el-upload-list__item.is-success .el-upload-list__item-status-label{display:block}.el-upload-list__item.is-success .el-upload-list__item-name:focus,.el-upload-list__item.is-success .el-upload-list__item-name:hover{color:#409eff;cursor:pointer}.el-upload-list__item.is-success:focus:not(:hover) .el-icon-close-tip{display:inline-block}.el-upload-list__item.is-success:active .el-icon-close-tip,.el-upload-list__item.is-success:focus .el-upload-list__item-status-label,.el-upload-list__item.is-success:hover .el-upload-list__item-status-label,.el-upload-list__item.is-success:not(.focusing):focus .el-icon-close-tip{display:none}.el-upload-list.is-disabled .el-upload-list__item:hover .el-upload-list__item-status-label{display:block}.el-upload-list__item-name{color:#606266;display:block;margin-right:40px;overflow:hidden;padding-left:4px;text-overflow:ellipsis;transition:color .3s;white-space:nowrap}.el-upload-list__item-name [class^=el-icon]{height:100%;margin-right:7px;color:#909399;line-height:inherit}.el-upload-list__item-status-label{position:absolute;right:5px;top:0;line-height:inherit;display:none}.el-upload-list__item-delete{position:absolute;right:10px;top:0;font-size:12px;color:#606266;display:none}.el-upload-list__item-delete:hover{color:#409eff}.el-upload-list--picture-card{margin:0;display:inline;vertical-align:top}.el-upload-list--picture-card .el-upload-list__item{overflow:hidden;background-color:#fff;border:1px solid #c0ccda;border-radius:6px;box-sizing:border-box;width:148px;height:148px;margin:0 8px 8px 0;display:inline-block}.el-upload-list--picture-card .el-upload-list__item .el-icon-check,.el-upload-list--picture-card .el-upload-list__item .el-icon-circle-check{color:#fff}.el-upload-list--picture-card .el-upload-list__item .el-icon-close,.el-upload-list--picture-card .el-upload-list__item:hover .el-upload-list__item-status-label{display:none}.el-upload-list--picture-card .el-upload-list__item:hover .el-progress__text{display:block}.el-upload-list--picture-card .el-upload-list__item-name{display:none}.el-upload-list--picture-card .el-upload-list__item-thumbnail{width:100%;height:100%}.el-upload-list--picture-card .el-upload-list__item-status-label{position:absolute;right:-15px;top:-6px;width:40px;height:24px;background:#13ce66;text-align:center;transform:rotate(45deg);box-shadow:0 0 1pc 1px rgba(0,0,0,.2)}.el-upload-list--picture-card .el-upload-list__item-status-label i{font-size:12px;margin-top:11px;transform:rotate(-45deg)}.el-upload-list--picture-card .el-upload-list__item-actions{position:absolute;width:100%;height:100%;left:0;top:0;cursor:default;text-align:center;color:#fff;opacity:0;font-size:20px;background-color:rgba(0,0,0,.5);transition:opacity .3s}.el-upload-list--picture-card .el-upload-list__item-actions:after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-upload-list--picture-card .el-upload-list__item-actions span{display:none;cursor:pointer}.el-upload-list--picture-card .el-upload-list__item-actions span+span{margin-left:15px}.el-upload-list--picture-card .el-upload-list__item-actions .el-upload-list__item-delete{position:static;font-size:inherit;color:inherit}.el-upload-list--picture-card .el-upload-list__item-actions:hover{opacity:1}.el-upload-list--picture-card .el-upload-list__item-actions:hover span{display:inline-block}.el-upload-list--picture-card .el-progress{top:50%;left:50%;transform:translate(-50%,-50%);bottom:auto;width:126px}.el-upload-list--picture-card .el-progress .el-progress__text{top:50%}.el-upload-list--picture .el-upload-list__item{overflow:hidden;z-index:0;background-color:#fff;border:1px solid #c0ccda;border-radius:6px;box-sizing:border-box;margin-top:10px;padding:10px 10px 10px 90px;height:92px}.el-upload-list--picture .el-upload-list__item .el-icon-check,.el-upload-list--picture .el-upload-list__item .el-icon-circle-check{color:#fff}.el-upload-list--picture .el-upload-list__item:hover .el-upload-list__item-status-label{background:0 0;box-shadow:none;top:-2px;right:-12px}.el-upload-list--picture .el-upload-list__item:hover .el-progress__text{display:block}.el-upload-list--picture .el-upload-list__item.is-success .el-upload-list__item-name{line-height:70px;margin-top:0}.el-upload-list--picture .el-upload-list__item.is-success .el-upload-list__item-name i{display:none}.el-upload-list--picture .el-upload-list__item-thumbnail{vertical-align:middle;display:inline-block;width:70px;height:70px;float:left;position:relative;z-index:1;margin-left:-80px;background-color:#fff}.el-upload-list--picture .el-upload-list__item-name{display:block;margin-top:20px}.el-upload-list--picture .el-upload-list__item-name i{font-size:70px;line-height:1;position:absolute;left:9px;top:10px}.el-upload-list--picture .el-upload-list__item-status-label{position:absolute;right:-17px;top:-7px;width:46px;height:26px;background:#13ce66;text-align:center;transform:rotate(45deg);box-shadow:0 1px 1px #ccc}.el-upload-list--picture .el-upload-list__item-status-label i{font-size:12px;margin-top:12px;transform:rotate(-45deg)}.el-upload-list--picture .el-progress{position:relative;top:-7px}.el-upload-cover{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden;z-index:10;cursor:default}.el-upload-cover:after{display:inline-block;height:100%;vertical-align:middle}.el-upload-cover img{display:block;width:100%;height:100%}.el-upload-cover__label{position:absolute;right:-15px;top:-6px;width:40px;height:24px;background:#13ce66;text-align:center;transform:rotate(45deg);box-shadow:0 0 1pc 1px rgba(0,0,0,.2)}.el-upload-cover__label i{font-size:12px;margin-top:11px;transform:rotate(-45deg);color:#fff}.el-upload-cover__progress{display:inline-block;vertical-align:middle;position:static;width:243px}.el-upload-cover__progress+.el-upload__inner{opacity:0}.el-upload-cover__content{position:absolute;top:0;left:0;width:100%;height:100%}.el-upload-cover__interact{position:absolute;bottom:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.72);text-align:center}.el-upload-cover__interact .btn{display:inline-block;color:#fff;font-size:14px;cursor:pointer;vertical-align:middle;transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1);margin-top:60px}.el-upload-cover__interact .btn span{opacity:0;transition:opacity .15s linear}.el-upload-cover__interact .btn:not(:first-child){margin-left:35px}.el-upload-cover__interact .btn:hover{transform:translateY(-13px)}.el-upload-cover__interact .btn:hover span{opacity:1}.el-upload-cover__interact .btn i{color:#fff;display:block;font-size:24px;line-height:inherit;margin:0 auto 5px}.el-upload-cover__title{position:absolute;bottom:0;left:0;background-color:#fff;height:36px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400;text-align:left;padding:0 10px;margin:0;line-height:36px;font-size:14px;color:#303133}.el-upload-cover+.el-upload__inner{opacity:0;position:relative;z-index:1}.el-progress{position:relative;line-height:1}.el-progress__text{font-size:14px;color:#606266;display:inline-block;vertical-align:middle;margin-left:10px;line-height:1}.el-progress__text i{vertical-align:middle;display:block}.el-progress--circle,.el-progress--dashboard{display:inline-block}.el-progress--circle .el-progress__text,.el-progress--dashboard .el-progress__text{position:absolute;top:50%;left:0;width:100%;text-align:center;margin:0;transform:translateY(-50%)}.el-progress--circle .el-progress__text i,.el-progress--dashboard .el-progress__text i{vertical-align:middle;display:inline-block}.el-progress--without-text .el-progress__text{display:none}.el-progress--without-text .el-progress-bar{padding-right:0;margin-right:0;display:block}.el-progress-bar,.el-progress-bar__inner:after,.el-progress-bar__innerText,.el-spinner{display:inline-block;vertical-align:middle}.el-progress--text-inside .el-progress-bar{padding-right:0;margin-right:0}.el-progress.is-success .el-progress-bar__inner{background-color:#67c23a}.el-progress.is-success .el-progress__text{color:#67c23a}.el-progress.is-warning .el-progress-bar__inner{background-color:#e6a23c}.el-progress.is-warning .el-progress__text{color:#e6a23c}.el-progress.is-exception .el-progress-bar__inner{background-color:#f56c6c}.el-progress.is-exception .el-progress__text{color:#f56c6c}.el-progress-bar{padding-right:50px;width:100%;margin-right:-55px;box-sizing:border-box}.el-progress-bar__outer{height:6px;border-radius:100px;background-color:#ebeef5;overflow:hidden;position:relative;vertical-align:middle}.el-progress-bar__inner{position:absolute;left:0;top:0;height:100%;background-color:#409eff;text-align:right;border-radius:100px;line-height:1;white-space:nowrap;transition:width .6s ease}.el-card,.el-message{border-radius:4px;overflow:hidden}.el-progress-bar__inner:after{height:100%}.el-progress-bar__innerText{color:#fff;font-size:12px;margin:0 5px}@keyframes progress{0%{background-position:0 0}to{background-position:32px 0}}.el-time-spinner{width:100%;white-space:nowrap}.el-spinner-inner{animation:rotate 2s linear infinite;width:50px;height:50px}.el-spinner-inner .path{stroke:#ececec;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(1turn)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}.el-message{min-width:380px;box-sizing:border-box;border:1px solid #ebeef5;position:fixed;left:50%;top:20px;transform:translateX(-50%);background-color:#edf2fc;transition:opacity .3s,transform .4s,top .4s;padding:15px 15px 15px 20px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.el-message.is-center{-ms-flex-pack:center;justify-content:center}.el-message.is-closable .el-message__content{padding-right:16px}.el-message p{margin:0}.el-message--info .el-message__content{color:#909399}.el-message--success{background-color:#f0f9eb;border-color:#e1f3d8}.el-message--success .el-message__content{color:#67c23a}.el-message--warning{background-color:#fdf6ec;border-color:#faecd8}.el-message--warning .el-message__content{color:#e6a23c}.el-message--error{background-color:#fef0f0;border-color:#fde2e2}.el-message--error .el-message__content{color:#f56c6c}.el-message__icon{margin-right:10px}.el-message__content{padding:0;font-size:14px;line-height:1}.el-message__closeBtn{position:absolute;top:50%;right:15px;transform:translateY(-50%);cursor:pointer;color:#c0c4cc;font-size:16px}.el-message__closeBtn:hover{color:#909399}.el-message .el-icon-success{color:#67c23a}.el-message .el-icon-error{color:#f56c6c}.el-message .el-icon-info{color:#909399}.el-message .el-icon-warning{color:#e6a23c}.el-message-fade-enter,.el-message-fade-leave-active{opacity:0;transform:translate(-50%,-100%)}.el-badge{position:relative;vertical-align:middle;display:inline-block}.el-badge__content{background-color:#f56c6c;border-radius:10px;color:#fff;display:inline-block;font-size:12px;height:18px;line-height:18px;padding:0 6px;text-align:center;white-space:nowrap;border:1px solid #fff}.el-badge__content.is-fixed{position:absolute;top:0;right:10px;transform:translateY(-50%) translateX(100%)}.el-rate__icon,.el-rate__item{position:relative;display:inline-block}.el-badge__content.is-fixed.is-dot{right:5px}.el-badge__content.is-dot{height:8px;width:8px;padding:0;right:0;border-radius:50%}.el-badge__content--primary{background-color:#409eff}.el-badge__content--success{background-color:#67c23a}.el-badge__content--warning{background-color:#e6a23c}.el-badge__content--info{background-color:#909399}.el-badge__content--danger{background-color:#f56c6c}.el-card{border:1px solid #ebeef5;background-color:#fff;color:#303133;transition:.3s}.el-card.is-always-shadow,.el-card.is-hover-shadow:focus,.el-card.is-hover-shadow:hover{box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.el-card__header{padding:18px 20px;border-bottom:1px solid #ebeef5;box-sizing:border-box}.el-card__body{padding:20px}.el-rate{height:20px;line-height:1}.el-rate__item{font-size:0;vertical-align:middle}.el-rate__icon{font-size:18px;margin-right:6px;color:#c0c4cc;transition:.3s}.el-rate__decimal,.el-rate__icon .path2{position:absolute;top:0;left:0}.el-rate__icon.hover{transform:scale(1.15)}.el-rate__decimal{display:inline-block;overflow:hidden}.el-step.is-vertical,.el-steps{display:-ms-flexbox}.el-rate__text{font-size:14px;vertical-align:middle}.el-steps{display:-ms-flexbox;display:flex}.el-steps--simple{padding:13px 8%;border-radius:4px;background:#f5f7fa}.el-steps--horizontal{white-space:nowrap}.el-steps--vertical{height:100%;-ms-flex-flow:column;flex-flow:column}.el-step{position:relative;-ms-flex-negative:1;flex-shrink:1}.el-step:last-of-type .el-step__line{display:none}.el-step:last-of-type.is-flex{-ms-flex-preferred-size:auto!important;flex-basis:auto!important;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0}.el-step:last-of-type .el-step__description,.el-step:last-of-type .el-step__main{padding-right:0}.el-step__head{position:relative;width:100%}.el-step__head.is-process{color:#303133;border-color:#303133}.el-step__head.is-wait{color:#c0c4cc;border-color:#c0c4cc}.el-step__head.is-success{color:#67c23a;border-color:#67c23a}.el-step__head.is-error{color:#f56c6c;border-color:#f56c6c}.el-step__head.is-finish{color:#409eff;border-color:#409eff}.el-step__icon{position:relative;z-index:1;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;width:24px;height:24px;font-size:14px;box-sizing:border-box;background:#fff;transition:.15s ease-out}.el-step__icon.is-text{border-radius:50%;border:2px solid;border-color:inherit}.el-step__icon.is-icon{width:40px}.el-step__icon-inner{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;font-weight:700;line-height:1;color:inherit}.el-step__icon-inner[class*=el-icon]:not(.is-status){font-size:25px;font-weight:400}.el-step__icon-inner.is-status{transform:translateY(1px)}.el-step__line{position:absolute;border-color:inherit;background-color:#c0c4cc}.el-step__line-inner{display:block;border-width:1px;border-style:solid;border-color:inherit;transition:.15s ease-out;box-sizing:border-box;width:0;height:0}.el-step__main{white-space:normal;text-align:left}.el-step__title{font-size:16px;line-height:38px}.el-step__title.is-process{font-weight:700;color:#303133}.el-step__title.is-wait{color:#c0c4cc}.el-step__title.is-success{color:#67c23a}.el-step__title.is-error{color:#f56c6c}.el-step__title.is-finish{color:#409eff}.el-step__description{padding-right:10%;margin-top:-5px;font-size:12px;line-height:20px;font-weight:400}.el-step__description.is-process{color:#303133}.el-step__description.is-wait{color:#c0c4cc}.el-step__description.is-success{color:#67c23a}.el-step__description.is-error{color:#f56c6c}.el-step__description.is-finish{color:#409eff}.el-step.is-horizontal{display:inline-block}.el-step.is-horizontal .el-step__line{height:2px;top:11px;left:0;right:0}.el-step.is-vertical{display:-ms-flexbox;display:flex}.el-step.is-vertical .el-step__head{-ms-flex-positive:0;flex-grow:0;width:24px}.el-step.is-vertical .el-step__main{padding-left:10px;-ms-flex-positive:1;flex-grow:1}.el-step.is-vertical .el-step__title{line-height:24px;padding-bottom:8px}.el-step.is-vertical .el-step__line{width:2px;top:0;bottom:0;left:11px}.el-step.is-vertical .el-step__icon.is-icon{width:24px}.el-step.is-center .el-step__head,.el-step.is-center .el-step__main{text-align:center}.el-step.is-center .el-step__description{padding-left:20%;padding-right:20%}.el-step.is-center .el-step__line{left:50%;right:-50%}.el-step.is-simple{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.el-step.is-simple .el-step__head{width:auto;font-size:0;padding-right:10px}.el-step.is-simple .el-step__icon{background:0 0;width:16px;height:16px;font-size:12px}.el-step.is-simple .el-step__icon-inner[class*=el-icon]:not(.is-status){font-size:18px}.el-step.is-simple .el-step__icon-inner.is-status{transform:scale(.8) translateY(1px)}.el-step.is-simple .el-step__main{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch;-ms-flex-positive:1;flex-grow:1}.el-step.is-simple .el-step__title{font-size:16px;line-height:20px}.el-step.is-simple:not(:last-of-type) .el-step__title{max-width:50%;word-break:break-all}.el-step.is-simple .el-step__arrow{-ms-flex-positive:1;flex-grow:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.el-step.is-simple .el-step__arrow:after,.el-step.is-simple .el-step__arrow:before{content:"";display:inline-block;position:absolute;height:15px;width:1px;background:#c0c4cc}.el-step.is-simple .el-step__arrow:before{transform:rotate(-45deg) translateY(-4px);transform-origin:0 0}.el-step.is-simple .el-step__arrow:after{transform:rotate(45deg) translateY(4px);transform-origin:100% 100%}.el-step.is-simple:last-of-type .el-step__arrow{display:none}.el-carousel{position:relative}.el-carousel--horizontal{overflow-x:hidden}.el-carousel--vertical{overflow-y:hidden}.el-carousel__container{position:relative;height:300px}.el-carousel__arrow{border:none;outline:0;padding:0;margin:0;height:36px;width:36px;cursor:pointer;transition:.3s;border-radius:50%;background-color:rgba(31,45,61,.11);color:#fff;position:absolute;top:50%;z-index:10;transform:translateY(-50%);text-align:center;font-size:12px}.el-carousel__arrow--left{left:16px}.el-carousel__arrow--right{right:16px}.el-carousel__arrow:hover{background-color:rgba(31,45,61,.23)}.el-carousel__arrow i{cursor:pointer}.el-carousel__indicators{position:absolute;list-style:none;margin:0;padding:0;z-index:2}.el-carousel__indicators--horizontal{bottom:0;left:50%;transform:translateX(-50%)}.el-carousel__indicators--vertical{right:0;top:50%;transform:translateY(-50%)}.el-carousel__indicators--outside{bottom:26px;text-align:center;position:static;transform:none}.el-carousel__indicators--outside .el-carousel__indicator:hover button{opacity:.64}.el-carousel__indicators--outside button{background-color:#c0c4cc;opacity:.24}.el-carousel__indicators--labels{left:0;right:0;transform:none;text-align:center}.el-carousel__indicators--labels .el-carousel__button{height:auto;width:auto;padding:2px 18px;font-size:12px}.el-carousel__indicators--labels .el-carousel__indicator{padding:6px 4px}.el-carousel__indicator{background-color:transparent;cursor:pointer}.el-carousel__indicator:hover button{opacity:.72}.el-carousel__indicator--horizontal{display:inline-block;padding:12px 4px}.el-carousel__indicator--vertical{padding:4px 12px}.el-carousel__indicator--vertical .el-carousel__button{width:2px;height:15px}.el-carousel__indicator.is-active button{opacity:1}.el-carousel__button{display:block;opacity:.48;width:30px;height:2px;background-color:#fff;border:none;outline:0;padding:0;margin:0;cursor:pointer;transition:.3s}.el-carousel__item,.el-carousel__mask{height:100%;top:0;left:0;position:absolute}.carousel-arrow-left-enter,.carousel-arrow-left-leave-active{transform:translateY(-50%) translateX(-10px);opacity:0}.carousel-arrow-right-enter,.carousel-arrow-right-leave-active{transform:translateY(-50%) translateX(10px);opacity:0}.el-carousel__item{width:100%;display:inline-block;overflow:hidden;z-index:0}.el-carousel__item.is-active{z-index:2}.el-carousel__item--card,.el-carousel__item.is-animating{transition:transform .4s ease-in-out}.el-carousel__item--card{width:50%}.el-carousel__item--card.is-in-stage{cursor:pointer;z-index:1}.el-carousel__item--card.is-in-stage.is-hover .el-carousel__mask,.el-carousel__item--card.is-in-stage:hover .el-carousel__mask{opacity:.12}.el-carousel__item--card.is-active{z-index:2}.el-carousel__mask{width:100%;background-color:#fff;opacity:.24;transition:.2s}.el-fade-in-enter,.el-fade-in-leave-active,.el-fade-in-linear-enter,.el-fade-in-linear-leave,.el-fade-in-linear-leave-active,.fade-in-linear-enter,.fade-in-linear-leave,.fade-in-linear-leave-active{opacity:0}.el-fade-in-linear-enter-active,.el-fade-in-linear-leave-active,.fade-in-linear-enter-active,.fade-in-linear-leave-active{transition:opacity .2s linear}.el-fade-in-enter-active,.el-fade-in-leave-active,.el-zoom-in-center-enter-active,.el-zoom-in-center-leave-active{transition:all .3s cubic-bezier(.55,0,.1,1)}.el-zoom-in-center-enter,.el-zoom-in-center-leave-active{opacity:0;transform:scaleX(0)}.el-zoom-in-top-enter-active,.el-zoom-in-top-leave-active{opacity:1;transform:scaleY(1);transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1);transform-origin:center top}.el-zoom-in-top-enter,.el-zoom-in-top-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-bottom-enter-active,.el-zoom-in-bottom-leave-active{opacity:1;transform:scaleY(1);transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1);transform-origin:center bottom}.el-zoom-in-bottom-enter,.el-zoom-in-bottom-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-left-enter-active,.el-zoom-in-left-leave-active{opacity:1;transform:scale(1);transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1);transform-origin:top left}.el-zoom-in-left-enter,.el-zoom-in-left-leave-active{opacity:0;transform:scale(.45)}.collapse-transition{transition:height .3s ease-in-out,padding-top .3s ease-in-out,padding-bottom .3s ease-in-out}.horizontal-collapse-transition{transition:width .3s ease-in-out,padding-left .3s ease-in-out,padding-right .3s ease-in-out}.el-list-enter-active,.el-list-leave-active{transition:all 1s}.el-list-enter,.el-list-leave-active{opacity:0;transform:translateY(-30px)}.el-opacity-transition{transition:opacity .3s cubic-bezier(.55,0,.1,1)}.el-collapse{border-top:1px solid #ebeef5;border-bottom:1px solid #ebeef5}.el-collapse-item.is-disabled .el-collapse-item__header{color:#bbb;cursor:not-allowed}.el-collapse-item__header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:48px;line-height:48px;background-color:#fff;color:#303133;cursor:pointer;border-bottom:1px solid #ebeef5;font-size:13px;font-weight:500;transition:border-bottom-color .3s;outline:0}.el-collapse-item__arrow{margin:0 8px 0 auto;transition:transform .3s;font-weight:300}.el-collapse-item__arrow.is-active{transform:rotate(90deg)}.el-collapse-item__header.focusing:focus:not(:hover){color:#409eff}.el-collapse-item__header.is-active{border-bottom-color:transparent}.el-collapse-item__wrap{will-change:height;background-color:#fff;overflow:hidden;box-sizing:border-box;border-bottom:1px solid #ebeef5}.el-cascader__tags,.el-tag{-webkit-box-sizing:border-box}.el-collapse-item__content{padding-bottom:25px;font-size:13px;color:#303133;line-height:1.769230769230769}.el-collapse-item:last-child{margin-bottom:-1px}.el-popper .popper__arrow,.el-popper .popper__arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.el-popper .popper__arrow{border-width:6px;filter:drop-shadow(0 2px 12px rgba(0,0,0,.03))}.el-popper .popper__arrow:after{content:" ";border-width:6px}.el-popper[x-placement^=top]{margin-bottom:12px}.el-popper[x-placement^=top] .popper__arrow{bottom:-6px;left:50%;margin-right:3px;border-top-color:#ebeef5;border-bottom-width:0}.el-popper[x-placement^=top] .popper__arrow:after{bottom:1px;margin-left:-6px;border-top-color:#fff;border-bottom-width:0}.el-popper[x-placement^=bottom]{margin-top:12px}.el-popper[x-placement^=bottom] .popper__arrow{top:-6px;left:50%;margin-right:3px;border-top-width:0;border-bottom-color:#ebeef5}.el-popper[x-placement^=bottom] .popper__arrow:after{top:1px;margin-left:-6px;border-top-width:0;border-bottom-color:#fff}.el-popper[x-placement^=right]{margin-left:12px}.el-popper[x-placement^=right] .popper__arrow{top:50%;left:-6px;margin-bottom:3px;border-right-color:#ebeef5;border-left-width:0}.el-popper[x-placement^=right] .popper__arrow:after{bottom:-6px;left:1px;border-right-color:#fff;border-left-width:0}.el-popper[x-placement^=left]{margin-right:12px}.el-popper[x-placement^=left] .popper__arrow{top:50%;right:-6px;margin-bottom:3px;border-right-width:0;border-left-color:#ebeef5}.el-popper[x-placement^=left] .popper__arrow:after{right:1px;bottom:-6px;margin-left:-6px;border-right-width:0;border-left-color:#fff}.el-tag{background-color:#ecf5ff;border:1px solid #d9ecff;display:inline-block;height:32px;padding:0 10px;line-height:30px;font-size:12px;color:#409eff;border-radius:4px;box-sizing:border-box;white-space:nowrap}.el-tag.is-hit{border-color:#409eff}.el-tag .el-tag__close{color:#409eff}.el-tag .el-tag__close:hover{color:#fff;background-color:#409eff}.el-tag.el-tag--info{background-color:#f4f4f5;border-color:#e9e9eb;color:#909399}.el-tag.el-tag--info.is-hit{border-color:#909399}.el-tag.el-tag--info .el-tag__close{color:#909399}.el-tag.el-tag--info .el-tag__close:hover{color:#fff;background-color:#909399}.el-tag.el-tag--success{background-color:#f0f9eb;border-color:#e1f3d8;color:#67c23a}.el-tag.el-tag--success.is-hit{border-color:#67c23a}.el-tag.el-tag--success .el-tag__close{color:#67c23a}.el-tag.el-tag--success .el-tag__close:hover{color:#fff;background-color:#67c23a}.el-tag.el-tag--warning{background-color:#fdf6ec;border-color:#faecd8;color:#e6a23c}.el-tag.el-tag--warning.is-hit{border-color:#e6a23c}.el-tag.el-tag--warning .el-tag__close{color:#e6a23c}.el-tag.el-tag--warning .el-tag__close:hover{color:#fff;background-color:#e6a23c}.el-tag.el-tag--danger{background-color:#fef0f0;border-color:#fde2e2;color:#f56c6c}.el-tag.el-tag--danger.is-hit{border-color:#f56c6c}.el-tag.el-tag--danger .el-tag__close{color:#f56c6c}.el-tag.el-tag--danger .el-tag__close:hover{color:#fff;background-color:#f56c6c}.el-tag .el-icon-close{border-radius:50%;text-align:center;position:relative;cursor:pointer;font-size:12px;height:16px;width:16px;line-height:16px;vertical-align:middle;top:-1px;right:-5px}.el-tag .el-icon-close:before{display:block}.el-tag--dark{background-color:#409eff;color:#fff}.el-tag--dark,.el-tag--dark.is-hit{border-color:#409eff}.el-tag--dark .el-tag__close{color:#fff}.el-tag--dark .el-tag__close:hover{color:#fff;background-color:#66b1ff}.el-tag--dark.el-tag--info{background-color:#909399;border-color:#909399;color:#fff}.el-tag--dark.el-tag--info.is-hit{border-color:#909399}.el-tag--dark.el-tag--info .el-tag__close{color:#fff}.el-tag--dark.el-tag--info .el-tag__close:hover{color:#fff;background-color:#a6a9ad}.el-tag--dark.el-tag--success{background-color:#67c23a;border-color:#67c23a;color:#fff}.el-tag--dark.el-tag--success.is-hit{border-color:#67c23a}.el-tag--dark.el-tag--success .el-tag__close{color:#fff}.el-tag--dark.el-tag--success .el-tag__close:hover{color:#fff;background-color:#85ce61}.el-tag--dark.el-tag--warning{background-color:#e6a23c;border-color:#e6a23c;color:#fff}.el-tag--dark.el-tag--warning.is-hit{border-color:#e6a23c}.el-tag--dark.el-tag--warning .el-tag__close{color:#fff}.el-tag--dark.el-tag--warning .el-tag__close:hover{color:#fff;background-color:#ebb563}.el-tag--dark.el-tag--danger{background-color:#f56c6c;border-color:#f56c6c;color:#fff}.el-tag--dark.el-tag--danger.is-hit{border-color:#f56c6c}.el-tag--dark.el-tag--danger .el-tag__close{color:#fff}.el-tag--dark.el-tag--danger .el-tag__close:hover{color:#fff;background-color:#f78989}.el-tag--plain{background-color:#fff;border-color:#b3d8ff;color:#409eff}.el-tag--plain.is-hit{border-color:#409eff}.el-tag--plain .el-tag__close{color:#409eff}.el-tag--plain .el-tag__close:hover{color:#fff;background-color:#409eff}.el-tag--plain.el-tag--info{background-color:#fff;border-color:#d3d4d6;color:#909399}.el-tag--plain.el-tag--info.is-hit{border-color:#909399}.el-tag--plain.el-tag--info .el-tag__close{color:#909399}.el-tag--plain.el-tag--info .el-tag__close:hover{color:#fff;background-color:#909399}.el-tag--plain.el-tag--success{background-color:#fff;border-color:#c2e7b0;color:#67c23a}.el-tag--plain.el-tag--success.is-hit{border-color:#67c23a}.el-tag--plain.el-tag--success .el-tag__close{color:#67c23a}.el-tag--plain.el-tag--success .el-tag__close:hover{color:#fff;background-color:#67c23a}.el-tag--plain.el-tag--warning{background-color:#fff;border-color:#f5dab1;color:#e6a23c}.el-tag--plain.el-tag--warning.is-hit{border-color:#e6a23c}.el-tag--plain.el-tag--warning .el-tag__close{color:#e6a23c}.el-tag--plain.el-tag--warning .el-tag__close:hover{color:#fff;background-color:#e6a23c}.el-tag--plain.el-tag--danger{background-color:#fff;border-color:#fbc4c4;color:#f56c6c}.el-tag--plain.el-tag--danger.is-hit{border-color:#f56c6c}.el-tag--plain.el-tag--danger .el-tag__close{color:#f56c6c}.el-tag--plain.el-tag--danger .el-tag__close:hover{color:#fff;background-color:#f56c6c}.el-tag--medium{height:28px;line-height:26px}.el-tag--medium .el-icon-close{transform:scale(.8)}.el-tag--small{height:24px;padding:0 8px;line-height:22px}.el-tag--small .el-icon-close{transform:scale(.8)}.el-tag--mini{height:20px;padding:0 5px;line-height:19px}.el-tag--mini .el-icon-close{margin-left:-3px;transform:scale(.7)}.el-cascader{display:inline-block;position:relative;font-size:14px;line-height:40px}.el-cascader:not(.is-disabled):hover .el-input__inner{cursor:pointer;border-color:#c0c4cc}.el-cascader .el-input .el-input__inner:focus,.el-cascader .el-input.is-focus .el-input__inner{border-color:#409eff}.el-cascader .el-input{cursor:pointer}.el-cascader .el-input .el-input__inner{text-overflow:ellipsis}.el-cascader .el-input .el-icon-arrow-down{transition:transform .3s;font-size:14px}.el-cascader .el-input .el-icon-arrow-down.is-reverse{transform:rotate(180deg)}.el-cascader .el-input .el-icon-circle-close:hover{color:#909399}.el-cascader--medium{font-size:14px;line-height:36px}.el-cascader--small{font-size:13px;line-height:32px}.el-cascader--mini{font-size:12px;line-height:28px}.el-cascader.is-disabled .el-cascader__label{z-index:2;color:#c0c4cc}.el-cascader__dropdown{margin:5px 0;font-size:14px;background:#fff;border:1px solid #e4e7ed;border-radius:4px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.el-cascader__tags{position:absolute;left:0;right:30px;top:50%;transform:translateY(-50%);display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;line-height:normal;text-align:left;box-sizing:border-box}.el-cascader__tags .el-tag{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;max-width:100%;margin:2px 0 2px 6px;text-overflow:ellipsis;background:#f0f2f5}.el-cascader__tags .el-tag:not(.is-hit){border-color:transparent}.el-cascader__tags .el-tag>span{-ms-flex:1;flex:1;overflow:hidden;text-overflow:ellipsis}.el-cascader__tags .el-tag .el-icon-close{-ms-flex:none;flex:none;background-color:#c0c4cc;color:#fff}.el-cascader__tags .el-tag .el-icon-close:hover{background-color:#909399}.el-cascader__suggestion-panel{border-radius:4px}.el-cascader__suggestion-list{max-height:204px;margin:0;padding:6px 0;font-size:14px;color:#606266;text-align:center}.el-cascader__suggestion-item{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;height:34px;padding:0 15px;text-align:left;outline:0;cursor:pointer}.el-cascader__suggestion-item:focus,.el-cascader__suggestion-item:hover{background:#f5f7fa}.el-cascader__suggestion-item.is-checked{color:#409eff;font-weight:700}.el-cascader__suggestion-item>span{margin-right:10px}.el-cascader__empty-text{margin:10px 0;color:#c0c4cc}.el-cascader__search-input{-ms-flex:1;flex:1;height:24px;min-width:60px;margin:2px 0 2px 15px;padding:0;color:#606266;border:none;outline:0;box-sizing:border-box}.el-cascader__search-input::-webkit-input-placeholder{color:#c0c4cc}.el-cascader__search-input:-ms-input-placeholder,.el-cascader__search-input::-ms-input-placeholder{color:#c0c4cc}.el-cascader__search-input::placeholder{color:#c0c4cc}.el-color-predefine{display:-ms-flexbox;display:flex;font-size:12px;margin-top:8px;width:280px}.el-color-predefine__colors{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-wrap:wrap;flex-wrap:wrap}.el-color-predefine__color-selector{margin:0 0 8px 8px;width:20px;height:20px;border-radius:4px;cursor:pointer}.el-color-predefine__color-selector:nth-child(10n+1){margin-left:0}.el-color-predefine__color-selector.selected{box-shadow:0 0 3px 2px #409eff}.el-color-predefine__color-selector>div{display:-ms-flexbox;display:flex;height:100%;border-radius:3px}.el-color-predefine__color-selector.is-alpha{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.el-color-hue-slider{position:relative;box-sizing:border-box;width:280px;height:12px;background-color:red;padding:0 2px}.el-color-hue-slider__bar{position:relative;background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);height:100%}.el-color-hue-slider__thumb{position:absolute;cursor:pointer;box-sizing:border-box;left:0;top:0;width:4px;height:100%;border-radius:1px;background:#fff;border:1px solid #f0f0f0;box-shadow:0 0 2px rgba(0,0,0,.6);z-index:1}.el-color-hue-slider.is-vertical{width:12px;height:180px;padding:2px 0}.el-color-hue-slider.is-vertical .el-color-hue-slider__bar{background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.el-color-hue-slider.is-vertical .el-color-hue-slider__thumb{left:0;top:0;width:100%;height:4px}.el-color-svpanel{position:relative;width:280px;height:180px}.el-color-svpanel__black,.el-color-svpanel__white{position:absolute;top:0;left:0;right:0;bottom:0}.el-color-svpanel__white{background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.el-color-svpanel__black{background:linear-gradient(0deg,#000,transparent)}.el-color-svpanel__cursor{position:absolute}.el-color-svpanel__cursor>div{cursor:head;width:4px;height:4px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);border-radius:50%;transform:translate(-2px,-2px)}.el-color-alpha-slider{position:relative;box-sizing:border-box;width:280px;height:12px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.el-color-alpha-slider__bar{position:relative;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff);height:100%}.el-color-alpha-slider__thumb{position:absolute;cursor:pointer;box-sizing:border-box;left:0;top:0;width:4px;height:100%;border-radius:1px;background:#fff;border:1px solid #f0f0f0;box-shadow:0 0 2px rgba(0,0,0,.6);z-index:1}.el-color-alpha-slider.is-vertical{width:20px;height:180px}.el-color-alpha-slider.is-vertical .el-color-alpha-slider__bar{background:linear-gradient(180deg,hsla(0,0%,100%,0) 0,#fff)}.el-color-alpha-slider.is-vertical .el-color-alpha-slider__thumb{left:0;top:0;width:100%;height:4px}.el-color-dropdown{width:300px}.el-color-dropdown__main-wrapper{margin-bottom:6px}.el-color-dropdown__main-wrapper:after{content:"";display:table;clear:both}.el-color-dropdown__btns{margin-top:6px;text-align:right}.el-color-dropdown__value{float:left;line-height:26px;font-size:12px;color:#000;width:160px}.el-color-dropdown__btn{border:1px solid #dcdcdc;color:#333;line-height:24px;border-radius:2px;padding:0 20px;cursor:pointer;background-color:transparent;outline:0;font-size:12px}.el-color-dropdown__btn[disabled]{color:#ccc;cursor:not-allowed}.el-color-dropdown__btn:hover{color:#409eff;border-color:#409eff}.el-color-dropdown__link-btn{cursor:pointer;color:#409eff;text-decoration:none;padding:15px;font-size:12px}.el-color-dropdown__link-btn:hover{color:tint(#409eff,20%)}.el-color-picker{display:inline-block;position:relative;line-height:normal;height:40px}.el-color-picker.is-disabled .el-color-picker__trigger{cursor:not-allowed}.el-color-picker--medium{height:36px}.el-color-picker--medium .el-color-picker__trigger{height:36px;width:36px}.el-color-picker--medium .el-color-picker__mask{height:34px;width:34px}.el-color-picker--small{height:32px}.el-color-picker--small .el-color-picker__trigger{height:32px;width:32px}.el-color-picker--small .el-color-picker__mask{height:30px;width:30px}.el-color-picker--small .el-color-picker__empty,.el-color-picker--small .el-color-picker__icon{transform:translate3d(-50%,-50%,0) scale(.8)}.el-color-picker--mini{height:28px}.el-color-picker--mini .el-color-picker__trigger{height:28px;width:28px}.el-color-picker--mini .el-color-picker__mask{height:26px;width:26px}.el-color-picker--mini .el-color-picker__empty,.el-color-picker--mini .el-color-picker__icon{transform:translate3d(-50%,-50%,0) scale(.8)}.el-color-picker__mask{height:38px;width:38px;border-radius:4px;position:absolute;top:1px;left:1px;z-index:1;cursor:not-allowed;background-color:hsla(0,0%,100%,.7)}.el-color-picker__trigger{display:inline-block;box-sizing:border-box;height:40px;width:40px;padding:4px;border:1px solid #e6e6e6;border-radius:4px;font-size:0;position:relative;cursor:pointer}.el-color-picker__color{position:relative;display:block;box-sizing:border-box;border:1px solid #999;border-radius:2px;width:100%;height:100%;text-align:center}.el-color-picker__color.is-alpha{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.el-color-picker__color-inner{position:absolute;left:0;top:0;right:0;bottom:0}.el-color-picker__empty,.el-color-picker__icon{top:50%;left:50%;font-size:12px;position:absolute}.el-color-picker__empty{color:#999;transform:translate3d(-50%,-50%,0)}.el-color-picker__icon{display:inline-block;width:100%;transform:translate3d(-50%,-50%,0);color:#fff;text-align:center}.el-color-picker__panel{position:absolute;z-index:10;padding:6px;box-sizing:content-box;background-color:#fff;border:1px solid #ebeef5;border-radius:4px;box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.el-textarea{position:relative;display:inline-block;width:100%;vertical-align:bottom;font-size:14px}.el-textarea__inner{display:block;resize:vertical;padding:5px 15px;line-height:1.5;box-sizing:border-box;width:100%;font-size:inherit;color:#606266;background-color:#fff;background-image:none;border:1px solid #dcdfe6;border-radius:4px;transition:border-color .2s cubic-bezier(.645,.045,.355,1)}.el-textarea__inner::-webkit-input-placeholder{color:#c0c4cc}.el-textarea__inner:-ms-input-placeholder,.el-textarea__inner::-ms-input-placeholder{color:#c0c4cc}.el-textarea__inner::placeholder{color:#c0c4cc}.el-textarea__inner:hover{border-color:#c0c4cc}.el-textarea__inner:focus{outline:0;border-color:#409eff}.el-textarea .el-input__count{color:#909399;background:#fff;position:absolute;font-size:12px;bottom:5px;right:10px}.el-textarea.is-disabled .el-textarea__inner{background-color:#f5f7fa;border-color:#e4e7ed;color:#c0c4cc;cursor:not-allowed}.el-textarea.is-disabled .el-textarea__inner::-webkit-input-placeholder{color:#c0c4cc}.el-textarea.is-disabled .el-textarea__inner:-ms-input-placeholder,.el-textarea.is-disabled .el-textarea__inner::-ms-input-placeholder{color:#c0c4cc}.el-textarea.is-disabled .el-textarea__inner::placeholder{color:#c0c4cc}.el-textarea.is-exceed .el-textarea__inner{border-color:#f56c6c}.el-textarea.is-exceed .el-input__count{color:#f56c6c}.el-input{position:relative;font-size:14px;display:inline-block;width:100%}.el-input::-webkit-scrollbar{z-index:11;width:6px}.el-input::-webkit-scrollbar:horizontal{height:6px}.el-input::-webkit-scrollbar-thumb{border-radius:5px;width:6px;background:#b4bccc}.el-input::-webkit-scrollbar-corner,.el-input::-webkit-scrollbar-track{background:#fff}.el-input::-webkit-scrollbar-track-piece{background:#fff;width:6px}.el-input .el-input__clear{color:#c0c4cc;font-size:14px;cursor:pointer;transition:color .2s cubic-bezier(.645,.045,.355,1)}.el-input .el-input__clear:hover{color:#909399}.el-input .el-input__count{height:100%;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;color:#909399;font-size:12px}.el-input .el-input__count .el-input__count-inner{background:#fff;line-height:normal;display:inline-block;padding:0 5px}.el-input__inner{-webkit-appearance:none;background-color:#fff;background-image:none;border-radius:4px;border:1px solid #dcdfe6;box-sizing:border-box;color:#606266;display:inline-block;font-size:inherit;height:40px;line-height:40px;outline:0;padding:0 15px;transition:border-color .2s cubic-bezier(.645,.045,.355,1);width:100%}.el-input__prefix,.el-input__suffix{position:absolute;top:0;-webkit-transition:all .3s;height:100%;color:#c0c4cc;text-align:center}.el-input__inner::-ms-reveal{display:none}.el-input__inner::-webkit-input-placeholder{color:#c0c4cc}.el-input__inner:-ms-input-placeholder,.el-input__inner::-ms-input-placeholder{color:#c0c4cc}.el-input__inner::placeholder{color:#c0c4cc}.el-input__inner:hover{border-color:#c0c4cc}.el-input.is-active .el-input__inner,.el-input__inner:focus{border-color:#409eff;outline:0}.el-input__suffix{right:5px;transition:all .3s}.el-input__suffix-inner{pointer-events:all}.el-input__prefix{left:5px;transition:all .3s}.el-input__icon{height:100%;width:25px;text-align:center;transition:all .3s;line-height:40px}.el-input__icon:after{content:"";height:100%;width:0;display:inline-block;vertical-align:middle}.el-input__validateIcon{pointer-events:none}.el-input.is-disabled .el-input__inner{background-color:#f5f7fa;border-color:#e4e7ed;color:#c0c4cc;cursor:not-allowed}.el-input.is-disabled .el-input__inner::-webkit-input-placeholder{color:#c0c4cc}.el-input.is-disabled .el-input__inner:-ms-input-placeholder,.el-input.is-disabled .el-input__inner::-ms-input-placeholder{color:#c0c4cc}.el-input.is-disabled .el-input__inner::placeholder{color:#c0c4cc}.el-input.is-disabled .el-input__icon{cursor:not-allowed}.el-link,.el-transfer-panel__filter .el-icon-circle-close{cursor:pointer}.el-input.is-exceed .el-input__inner{border-color:#f56c6c}.el-input.is-exceed .el-input__suffix .el-input__count{color:#f56c6c}.el-input--suffix .el-input__inner{padding-right:30px}.el-input--prefix .el-input__inner{padding-left:30px}.el-input--medium{font-size:14px}.el-input--medium .el-input__inner{height:36px;line-height:36px}.el-input--medium .el-input__icon{line-height:36px}.el-input--small{font-size:13px}.el-input--small .el-input__inner{height:32px;line-height:32px}.el-input--small .el-input__icon{line-height:32px}.el-input--mini{font-size:12px}.el-input--mini .el-input__inner{height:28px;line-height:28px}.el-input--mini .el-input__icon{line-height:28px}.el-input-group{line-height:normal;display:inline-table;width:100%;border-collapse:separate;border-spacing:0}.el-input-group>.el-input__inner{vertical-align:middle;display:table-cell}.el-input-group__append,.el-input-group__prepend{background-color:#f5f7fa;color:#909399;vertical-align:middle;display:table-cell;position:relative;border:1px solid #dcdfe6;border-radius:4px;padding:0 20px;width:1px;white-space:nowrap}.el-input-group--prepend .el-input__inner,.el-input-group__append{border-top-left-radius:0;border-bottom-left-radius:0}.el-input-group--append .el-input__inner,.el-input-group__prepend{border-top-right-radius:0;border-bottom-right-radius:0}.el-input-group__append:focus,.el-input-group__prepend:focus{outline:0}.el-input-group__append .el-button,.el-input-group__append .el-select,.el-input-group__prepend .el-button,.el-input-group__prepend .el-select{display:inline-block;margin:-10px -20px}.el-input-group__append button.el-button,.el-input-group__append div.el-select .el-input__inner,.el-input-group__append div.el-select:hover .el-input__inner,.el-input-group__prepend button.el-button,.el-input-group__prepend div.el-select .el-input__inner,.el-input-group__prepend div.el-select:hover .el-input__inner{border-color:transparent;background-color:transparent;color:inherit;border-top:0;border-bottom:0}.el-input-group__append .el-button,.el-input-group__append .el-input,.el-input-group__prepend .el-button,.el-input-group__prepend .el-input{font-size:inherit}.el-input-group__prepend{border-right:0}.el-input-group__append{border-left:0}.el-input-group--append .el-select .el-input.is-focus .el-input__inner,.el-input-group--prepend .el-select .el-input.is-focus .el-input__inner{border-color:transparent}.el-input__inner::-ms-clear{display:none;width:0;height:0}.el-transfer{font-size:14px}.el-transfer__buttons{display:inline-block;vertical-align:middle;padding:0 30px}.el-transfer__button{display:block;margin:0 auto;padding:10px;border-radius:50%;color:#fff;background-color:#409eff;font-size:0}.el-transfer-panel__item+.el-transfer-panel__item,.el-transfer__button [class*=el-icon-]+span{margin-left:0}.el-transfer__button.is-with-texts{border-radius:4px}.el-transfer__button.is-disabled,.el-transfer__button.is-disabled:hover{border:1px solid #dcdfe6;background-color:#f5f7fa;color:#c0c4cc}.el-transfer__button:first-child{margin-bottom:10px}.el-transfer__button:nth-child(2){margin:0}.el-transfer__button i,.el-transfer__button span{font-size:14px}.el-transfer-panel{border:1px solid #ebeef5;border-radius:4px;overflow:hidden;background:#fff;display:inline-block;vertical-align:middle;width:200px;max-height:100%;box-sizing:border-box;position:relative}.el-transfer-panel__body{height:246px}.el-transfer-panel__body.is-with-footer{padding-bottom:40px}.el-transfer-panel__list{margin:0;padding:6px 0;list-style:none;height:246px;overflow:auto;box-sizing:border-box}.el-transfer-panel__list.is-filterable{height:194px;padding-top:0}.el-transfer-panel__item{height:30px;line-height:30px;padding-left:15px;display:block!important}.el-transfer-panel__item.el-checkbox{color:#606266}.el-transfer-panel__item:hover{color:#409eff}.el-transfer-panel__item.el-checkbox .el-checkbox__label{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;padding-left:24px;line-height:30px}.el-transfer-panel__item .el-checkbox__input{position:absolute;top:8px}.el-transfer-panel__filter{text-align:center;margin:15px;box-sizing:border-box;display:block;width:auto}.el-transfer-panel__filter .el-input__inner{height:32px;width:100%;font-size:12px;display:inline-block;box-sizing:border-box;border-radius:16px;padding-right:10px;padding-left:30px}.el-transfer-panel__filter .el-input__icon{margin-left:5px}.el-transfer-panel .el-transfer-panel__header{height:40px;line-height:40px;background:#f5f7fa;margin:0;padding-left:15px;border-bottom:1px solid #ebeef5;box-sizing:border-box;color:#000}.el-transfer-panel .el-transfer-panel__header .el-checkbox{display:block;line-height:40px}.el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label{font-size:16px;color:#303133;font-weight:400}.el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label span{position:absolute;right:15px;color:#909399;font-size:12px;font-weight:400}.el-divider__text,.el-link{font-weight:500;font-size:14px}.el-transfer-panel .el-transfer-panel__footer{height:40px;background:#fff;margin:0;padding:0;border-top:1px solid #ebeef5;position:absolute;bottom:0;left:0;width:100%;z-index:1}.el-transfer-panel .el-transfer-panel__footer:after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-container,.el-timeline-item__node{display:-ms-flexbox}.el-transfer-panel .el-transfer-panel__footer .el-checkbox{padding-left:20px;color:#606266}.el-transfer-panel .el-transfer-panel__empty{margin:0;height:30px;line-height:30px;padding:6px 15px 0;color:#909399;text-align:center}.el-transfer-panel .el-checkbox__label{padding-left:8px}.el-transfer-panel .el-checkbox__inner{height:14px;width:14px;border-radius:3px}.el-transfer-panel .el-checkbox__inner:after{height:6px;width:3px;left:4px}.el-container{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex:1;flex:1;-ms-flex-preferred-size:auto;flex-basis:auto;box-sizing:border-box;min-width:0}.el-aside,.el-header{-webkit-box-sizing:border-box}.el-container.is-vertical{-ms-flex-direction:column;flex-direction:column}.el-header{padding:0 20px}.el-aside,.el-header{box-sizing:border-box;-ms-flex-negative:0;flex-shrink:0}.el-aside{overflow:auto}.el-footer,.el-main{-webkit-box-sizing:border-box}.el-main{display:block;-ms-flex:1;flex:1;-ms-flex-preferred-size:auto;flex-basis:auto;overflow:auto;padding:20px}.el-footer,.el-main{box-sizing:border-box}.el-footer{padding:0 20px;-ms-flex-negative:0;flex-shrink:0}.el-timeline{margin:0;font-size:14px;list-style:none}.el-timeline .el-timeline-item:last-child .el-timeline-item__tail{display:none}.el-timeline-item{position:relative;padding-bottom:20px}.el-timeline-item__wrapper{position:relative;padding-left:28px;top:-3px}.el-timeline-item__tail{position:absolute;left:4px;height:100%;border-left:2px solid #e4e7ed}.el-timeline-item__icon{color:#fff;font-size:13px}.el-timeline-item__node{position:absolute;background-color:#e4e7ed;border-radius:50%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.el-image__error,.el-timeline-item__dot{display:-ms-flexbox}.el-timeline-item__node--normal{left:-1px;width:12px;height:12px}.el-timeline-item__node--large{left:-2px;width:14px;height:14px}.el-timeline-item__node--primary{background-color:#409eff}.el-timeline-item__node--success{background-color:#67c23a}.el-timeline-item__node--warning{background-color:#e6a23c}.el-timeline-item__node--danger{background-color:#f56c6c}.el-timeline-item__node--info{background-color:#909399}.el-timeline-item__dot{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.el-timeline-item__content{color:#303133}.el-timeline-item__timestamp{color:#909399;line-height:1;font-size:13px}.el-timeline-item__timestamp.is-top{margin-bottom:8px;padding-top:4px}.el-timeline-item__timestamp.is-bottom{margin-top:8px}.el-link{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;vertical-align:middle;position:relative;text-decoration:none;outline:0;padding:0}.el-link.is-underline:hover:after{content:"";position:absolute;left:0;right:0;height:0;bottom:0;border-bottom:1px solid #409eff}.el-link.el-link--default:after,.el-link.el-link--primary.is-underline:hover:after,.el-link.el-link--primary:after{border-color:#409eff}.el-link.is-disabled{cursor:not-allowed}.el-link [class*=el-icon-]+span{margin-left:5px}.el-link.el-link--default{color:#606266}.el-link.el-link--default:hover{color:#409eff}.el-link.el-link--default.is-disabled{color:#c0c4cc}.el-link.el-link--primary{color:#409eff}.el-link.el-link--primary:hover{color:#66b1ff}.el-link.el-link--primary.is-disabled{color:#a0cfff}.el-link.el-link--danger.is-underline:hover:after,.el-link.el-link--danger:after{border-color:#f56c6c}.el-link.el-link--danger{color:#f56c6c}.el-link.el-link--danger:hover{color:#f78989}.el-link.el-link--danger.is-disabled{color:#fab6b6}.el-link.el-link--success.is-underline:hover:after,.el-link.el-link--success:after{border-color:#67c23a}.el-link.el-link--success{color:#67c23a}.el-link.el-link--success:hover{color:#85ce61}.el-link.el-link--success.is-disabled{color:#b3e19d}.el-link.el-link--warning.is-underline:hover:after,.el-link.el-link--warning:after{border-color:#e6a23c}.el-link.el-link--warning{color:#e6a23c}.el-link.el-link--warning:hover{color:#ebb563}.el-link.el-link--warning.is-disabled{color:#f3d19e}.el-link.el-link--info.is-underline:hover:after,.el-link.el-link--info:after{border-color:#909399}.el-link.el-link--info{color:#909399}.el-link.el-link--info:hover{color:#a6a9ad}.el-link.el-link--info.is-disabled{color:#c8c9cc}.el-divider{background-color:#dcdfe6;position:relative}.el-divider--horizontal{display:block;height:1px;width:100%;margin:24px 0}.el-divider--vertical{display:inline-block;width:1px;height:1em;margin:0 8px;vertical-align:middle;position:relative}.el-divider__text{position:absolute;background-color:#fff;padding:0 20px;color:#303133}.el-image__error,.el-image__placeholder{background:#f5f7fa}.el-divider__text.is-left{left:20px;transform:translateY(-50%)}.el-divider__text.is-center{left:50%;transform:translateX(-50%) translateY(-50%)}.el-divider__text.is-right{right:20px;transform:translateY(-50%)}.el-image__error,.el-image__inner,.el-image__placeholder{width:100%;height:100%}.el-image{position:relative;display:inline-block;overflow:hidden}.el-image__inner{vertical-align:top}.el-image__inner--center{position:relative;top:50%;left:50%;transform:translate(-50%,-50%);display:block}.el-image__error{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:14px;color:#c0c4cc;vertical-align:middle}.el-image__preview{cursor:pointer}.el-image-viewer__wrapper{position:fixed;top:0;right:0;bottom:0;left:0}.el-image-viewer__btn{position:absolute;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:50%;opacity:.8;cursor:pointer;box-sizing:border-box;user-select:none}.el-button,.el-checkbox,.el-image-viewer__btn{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.el-image-viewer__close{top:40px;right:40px;width:40px;height:40px;font-size:24px;color:#fff;background-color:#606266}.el-image-viewer__canvas{width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.el-image-viewer__actions{left:50%;bottom:30px;transform:translateX(-50%);width:282px;height:44px;padding:0 23px;background-color:#606266;border-color:#fff;border-radius:22px}.el-image-viewer__actions__inner{width:100%;height:100%;text-align:justify;cursor:default;font-size:23px;color:#fff;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around}.el-image-viewer__next,.el-image-viewer__prev{top:50%;width:44px;height:44px;font-size:24px;color:#fff;background-color:#606266;border-color:#fff}.el-image-viewer__prev{transform:translateY(-50%);left:40px}.el-image-viewer__next{transform:translateY(-50%);right:40px;text-indent:2px}.el-image-viewer__mask{position:absolute;width:100%;height:100%;top:0;left:0;opacity:.5;background:#000}.viewer-fade-enter-active{animation:viewer-fade-in .3s}.viewer-fade-leave-active{animation:viewer-fade-out .3s}@keyframes viewer-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}to{transform:translateZ(0);opacity:1}}@keyframes viewer-fade-out{0%{transform:translateZ(0);opacity:1}to{transform:translate3d(0,-20px,0);opacity:0}}.el-button{display:inline-block;line-height:1;white-space:nowrap;cursor:pointer;background:#fff;border:1px solid #dcdfe6;color:#606266;-webkit-appearance:none;text-align:center;box-sizing:border-box;outline:0;margin:0;transition:.1s;font-weight:500;padding:12px 20px;font-size:14px;border-radius:4px}.el-button+.el-button{margin-left:10px}.el-button:focus,.el-button:hover{color:#409eff;border-color:#c6e2ff;background-color:#ecf5ff}.el-button:active{color:#3a8ee6;border-color:#3a8ee6;outline:0}.el-button::-moz-focus-inner{border:0}.el-button [class*=el-icon-]+span{margin-left:5px}.el-button.is-plain:focus,.el-button.is-plain:hover{background:#fff;border-color:#409eff;color:#409eff}.el-button.is-active,.el-button.is-plain:active{color:#3a8ee6;border-color:#3a8ee6}.el-button.is-plain:active{background:#fff;outline:0}.el-button.is-disabled,.el-button.is-disabled:focus,.el-button.is-disabled:hover{color:#c0c4cc;cursor:not-allowed;background-image:none;background-color:#fff;border-color:#ebeef5}.el-button.is-disabled.el-button--text{background-color:transparent}.el-button.is-disabled.is-plain,.el-button.is-disabled.is-plain:focus,.el-button.is-disabled.is-plain:hover{background-color:#fff;border-color:#ebeef5;color:#c0c4cc}.el-button.is-loading{position:relative;pointer-events:none}.el-button.is-loading:before{pointer-events:none;content:"";position:absolute;left:-1px;top:-1px;right:-1px;bottom:-1px;border-radius:inherit;background-color:hsla(0,0%,100%,.35)}.el-button.is-round{border-radius:20px;padding:12px 23px}.el-button.is-circle{border-radius:50%;padding:12px}.el-button--primary{color:#fff;background-color:#409eff;border-color:#409eff}.el-button--primary:focus,.el-button--primary:hover{background:#66b1ff;border-color:#66b1ff;color:#fff}.el-button--primary.is-active,.el-button--primary:active{background:#3a8ee6;border-color:#3a8ee6;color:#fff}.el-button--primary:active{outline:0}.el-button--primary.is-disabled,.el-button--primary.is-disabled:active,.el-button--primary.is-disabled:focus,.el-button--primary.is-disabled:hover{color:#fff;background-color:#a0cfff;border-color:#a0cfff}.el-button--primary.is-plain{color:#409eff;background:#ecf5ff;border-color:#b3d8ff}.el-button--primary.is-plain:focus,.el-button--primary.is-plain:hover{background:#409eff;border-color:#409eff;color:#fff}.el-button--primary.is-plain:active{background:#3a8ee6;border-color:#3a8ee6;color:#fff;outline:0}.el-button--primary.is-plain.is-disabled,.el-button--primary.is-plain.is-disabled:active,.el-button--primary.is-plain.is-disabled:focus,.el-button--primary.is-plain.is-disabled:hover{color:#8cc5ff;background-color:#ecf5ff;border-color:#d9ecff}.el-button--success{color:#fff;background-color:#67c23a;border-color:#67c23a}.el-button--success:focus,.el-button--success:hover{background:#85ce61;border-color:#85ce61;color:#fff}.el-button--success.is-active,.el-button--success:active{background:#5daf34;border-color:#5daf34;color:#fff}.el-button--success:active{outline:0}.el-button--success.is-disabled,.el-button--success.is-disabled:active,.el-button--success.is-disabled:focus,.el-button--success.is-disabled:hover{color:#fff;background-color:#b3e19d;border-color:#b3e19d}.el-button--success.is-plain{color:#67c23a;background:#f0f9eb;border-color:#c2e7b0}.el-button--success.is-plain:focus,.el-button--success.is-plain:hover{background:#67c23a;border-color:#67c23a;color:#fff}.el-button--success.is-plain:active{background:#5daf34;border-color:#5daf34;color:#fff;outline:0}.el-button--success.is-plain.is-disabled,.el-button--success.is-plain.is-disabled:active,.el-button--success.is-plain.is-disabled:focus,.el-button--success.is-plain.is-disabled:hover{color:#a4da89;background-color:#f0f9eb;border-color:#e1f3d8}.el-button--warning{color:#fff;background-color:#e6a23c;border-color:#e6a23c}.el-button--warning:focus,.el-button--warning:hover{background:#ebb563;border-color:#ebb563;color:#fff}.el-button--warning.is-active,.el-button--warning:active{background:#cf9236;border-color:#cf9236;color:#fff}.el-button--warning:active{outline:0}.el-button--warning.is-disabled,.el-button--warning.is-disabled:active,.el-button--warning.is-disabled:focus,.el-button--warning.is-disabled:hover{color:#fff;background-color:#f3d19e;border-color:#f3d19e}.el-button--warning.is-plain{color:#e6a23c;background:#fdf6ec;border-color:#f5dab1}.el-button--warning.is-plain:focus,.el-button--warning.is-plain:hover{background:#e6a23c;border-color:#e6a23c;color:#fff}.el-button--warning.is-plain:active{background:#cf9236;border-color:#cf9236;color:#fff;outline:0}.el-button--warning.is-plain.is-disabled,.el-button--warning.is-plain.is-disabled:active,.el-button--warning.is-plain.is-disabled:focus,.el-button--warning.is-plain.is-disabled:hover{color:#f0c78a;background-color:#fdf6ec;border-color:#faecd8}.el-button--danger{color:#fff;background-color:#f56c6c;border-color:#f56c6c}.el-button--danger:focus,.el-button--danger:hover{background:#f78989;border-color:#f78989;color:#fff}.el-button--danger.is-active,.el-button--danger:active{background:#dd6161;border-color:#dd6161;color:#fff}.el-button--danger:active{outline:0}.el-button--danger.is-disabled,.el-button--danger.is-disabled:active,.el-button--danger.is-disabled:focus,.el-button--danger.is-disabled:hover{color:#fff;background-color:#fab6b6;border-color:#fab6b6}.el-button--danger.is-plain{color:#f56c6c;background:#fef0f0;border-color:#fbc4c4}.el-button--danger.is-plain:focus,.el-button--danger.is-plain:hover{background:#f56c6c;border-color:#f56c6c;color:#fff}.el-button--danger.is-plain:active{background:#dd6161;border-color:#dd6161;color:#fff;outline:0}.el-button--danger.is-plain.is-disabled,.el-button--danger.is-plain.is-disabled:active,.el-button--danger.is-plain.is-disabled:focus,.el-button--danger.is-plain.is-disabled:hover{color:#f9a7a7;background-color:#fef0f0;border-color:#fde2e2}.el-button--info{color:#fff;background-color:#909399;border-color:#909399}.el-button--info:focus,.el-button--info:hover{background:#a6a9ad;border-color:#a6a9ad;color:#fff}.el-button--info.is-active,.el-button--info:active{background:#82848a;border-color:#82848a;color:#fff}.el-button--info:active{outline:0}.el-button--info.is-disabled,.el-button--info.is-disabled:active,.el-button--info.is-disabled:focus,.el-button--info.is-disabled:hover{color:#fff;background-color:#c8c9cc;border-color:#c8c9cc}.el-button--info.is-plain{color:#909399;background:#f4f4f5;border-color:#d3d4d6}.el-button--info.is-plain:focus,.el-button--info.is-plain:hover{background:#909399;border-color:#909399;color:#fff}.el-button--info.is-plain:active{background:#82848a;border-color:#82848a;color:#fff;outline:0}.el-button--info.is-plain.is-disabled,.el-button--info.is-plain.is-disabled:active,.el-button--info.is-plain.is-disabled:focus,.el-button--info.is-plain.is-disabled:hover{color:#bcbec2;background-color:#f4f4f5;border-color:#e9e9eb}.el-button--text,.el-button--text.is-disabled,.el-button--text.is-disabled:focus,.el-button--text.is-disabled:hover,.el-button--text:active{border-color:transparent}.el-button--medium{padding:10px 20px;font-size:14px;border-radius:4px}.el-button--mini,.el-button--small{font-size:12px;border-radius:3px}.el-button--medium.is-round{padding:10px 20px}.el-button--medium.is-circle{padding:10px}.el-button--small,.el-button--small.is-round{padding:9px 15px}.el-button--small.is-circle{padding:9px}.el-button--mini,.el-button--mini.is-round{padding:7px 15px}.el-button--mini.is-circle{padding:7px}.el-button--text{color:#409eff;background:0 0;padding-left:0;padding-right:0}.el-button--text:focus,.el-button--text:hover{color:#66b1ff;border-color:transparent;background-color:transparent}.el-button--text:active{color:#3a8ee6;background-color:transparent}.el-button-group{display:inline-block;vertical-align:middle}.el-button-group:after,.el-button-group:before{display:table;content:""}.el-button-group:after{clear:both}.el-button-group>.el-button{float:left;position:relative}.el-button-group>.el-button+.el-button{margin-left:0}.el-button-group>.el-button.is-disabled{z-index:1}.el-button-group>.el-button:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.el-button-group>.el-button:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.el-button-group>.el-button:first-child:last-child{border-radius:4px}.el-button-group>.el-button:first-child:last-child.is-round{border-radius:20px}.el-button-group>.el-button:first-child:last-child.is-circle{border-radius:50%}.el-button-group>.el-button:not(:first-child):not(:last-child){border-radius:0}.el-button-group>.el-button:not(:last-child){margin-right:-1px}.el-button-group>.el-button.is-active,.el-button-group>.el-button:active,.el-button-group>.el-button:focus,.el-button-group>.el-button:hover{z-index:1}.el-button-group>.el-dropdown>.el-button{border-top-left-radius:0;border-bottom-left-radius:0;border-left-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--primary:first-child{border-right-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--primary:last-child{border-left-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--primary:not(:first-child):not(:last-child){border-left-color:hsla(0,0%,100%,.5);border-right-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--success:first-child{border-right-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--success:last-child{border-left-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--success:not(:first-child):not(:last-child){border-left-color:hsla(0,0%,100%,.5);border-right-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--warning:first-child{border-right-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--warning:last-child{border-left-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--warning:not(:first-child):not(:last-child){border-left-color:hsla(0,0%,100%,.5);border-right-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--danger:first-child{border-right-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--danger:last-child{border-left-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--danger:not(:first-child):not(:last-child){border-left-color:hsla(0,0%,100%,.5);border-right-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--info:first-child{border-right-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--info:last-child{border-left-color:hsla(0,0%,100%,.5)}.el-button-group .el-button--info:not(:first-child):not(:last-child){border-left-color:hsla(0,0%,100%,.5);border-right-color:hsla(0,0%,100%,.5)}.el-calendar{background-color:#fff}.el-calendar__header{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:12px 20px;border-bottom:1px solid #ebeef5}.el-backtop,.el-page-header{display:-ms-flexbox}.el-calendar__title{color:#000;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.el-calendar__body{padding:12px 20px 35px}.el-calendar-table{table-layout:fixed;width:100%}.el-calendar-table thead th{padding:12px 0;color:#606266;font-weight:400}.el-calendar-table:not(.is-range) td.next,.el-calendar-table:not(.is-range) td.prev{color:#c0c4cc}.el-backtop,.el-calendar-table td.is-today{color:#409eff}.el-calendar-table td{border-bottom:1px solid #ebeef5;border-right:1px solid #ebeef5;vertical-align:top;transition:background-color .2s ease}.el-calendar-table td.is-selected{background-color:#f2f8fe}.el-calendar-table tr:first-child td{border-top:1px solid #ebeef5}.el-calendar-table tr td:first-child{border-left:1px solid #ebeef5}.el-calendar-table tr.el-calendar-table__row--hide-border td{border-top:none}.el-calendar-table .el-calendar-day{box-sizing:border-box;padding:8px;height:85px}.el-calendar-table .el-calendar-day:hover{cursor:pointer;background-color:#f2f8fe}.el-backtop{position:fixed;background-color:#fff;width:40px;height:40px;border-radius:50%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;font-size:20px;box-shadow:0 0 6px rgba(0,0,0,.12);cursor:pointer;z-index:5}.el-backtop:hover{background-color:#f2f6fc}.el-page-header{display:-ms-flexbox;display:flex;line-height:24px}.el-page-header__left{display:-ms-flexbox;display:flex;cursor:pointer;margin-right:40px;position:relative}.el-page-header__left:after{content:"";position:absolute;width:1px;height:16px;right:-20px;top:50%;transform:translateY(-50%);background-color:#dcdfe6}.el-checkbox,.el-checkbox__input{display:inline-block;position:relative;white-space:nowrap}.el-page-header__left .el-icon-back{font-size:18px;margin-right:6px;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.el-page-header__title{font-size:14px;font-weight:500}.el-page-header__content{font-size:18px;color:#303133}.el-checkbox{color:#606266;font-weight:500;font-size:14px;cursor:pointer;user-select:none;margin-right:30px}.el-checkbox,.el-checkbox-button__inner,.el-empty__image img,.el-radio{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.el-checkbox.is-bordered{padding:9px 20px 9px 10px;border-radius:4px;border:1px solid #dcdfe6;box-sizing:border-box;line-height:normal;height:40px}.el-checkbox.is-bordered.is-checked{border-color:#409eff}.el-checkbox.is-bordered.is-disabled{border-color:#ebeef5;cursor:not-allowed}.el-checkbox.is-bordered+.el-checkbox.is-bordered{margin-left:10px}.el-checkbox.is-bordered.el-checkbox--medium{padding:7px 20px 7px 10px;border-radius:4px;height:36px}.el-checkbox.is-bordered.el-checkbox--medium .el-checkbox__label{line-height:17px;font-size:14px}.el-checkbox.is-bordered.el-checkbox--medium .el-checkbox__inner{height:14px;width:14px}.el-checkbox.is-bordered.el-checkbox--small{padding:5px 15px 5px 10px;border-radius:3px;height:32px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__label{line-height:15px;font-size:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner{height:12px;width:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner:after{height:6px;width:2px}.el-checkbox.is-bordered.el-checkbox--mini{padding:3px 15px 3px 10px;border-radius:3px;height:28px}.el-checkbox.is-bordered.el-checkbox--mini .el-checkbox__label{line-height:12px;font-size:12px}.el-checkbox.is-bordered.el-checkbox--mini .el-checkbox__inner{height:12px;width:12px}.el-checkbox.is-bordered.el-checkbox--mini .el-checkbox__inner:after{height:6px;width:2px}.el-checkbox__input{cursor:pointer;outline:0;line-height:1;vertical-align:middle}.el-checkbox__input.is-disabled .el-checkbox__inner{background-color:#edf2fc;border-color:#dcdfe6;cursor:not-allowed}.el-checkbox__input.is-disabled .el-checkbox__inner:after{cursor:not-allowed;border-color:#c0c4cc}.el-checkbox__input.is-disabled .el-checkbox__inner+.el-checkbox__label{cursor:not-allowed}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner{background-color:#f2f6fc;border-color:#dcdfe6}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner:after{border-color:#c0c4cc}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner{background-color:#f2f6fc;border-color:#dcdfe6}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner:before{background-color:#c0c4cc;border-color:#c0c4cc}.el-checkbox__input.is-checked .el-checkbox__inner,.el-checkbox__input.is-indeterminate .el-checkbox__inner{background-color:#409eff;border-color:#409eff}.el-checkbox__input.is-disabled+span.el-checkbox__label{color:#c0c4cc;cursor:not-allowed}.el-checkbox__input.is-checked .el-checkbox__inner:after{transform:rotate(45deg) scaleY(1)}.el-checkbox__input.is-checked+.el-checkbox__label{color:#409eff}.el-checkbox__input.is-focus .el-checkbox__inner{border-color:#409eff}.el-checkbox__input.is-indeterminate .el-checkbox__inner:before{content:"";position:absolute;display:block;background-color:#fff;height:2px;transform:scale(.5);left:0;right:0;top:5px}.el-checkbox__input.is-indeterminate .el-checkbox__inner:after{display:none}.el-checkbox__inner{display:inline-block;position:relative;border:1px solid #dcdfe6;border-radius:2px;box-sizing:border-box;width:14px;height:14px;background-color:#fff;z-index:1;transition:border-color .25s cubic-bezier(.71,-.46,.29,1.46),background-color .25s cubic-bezier(.71,-.46,.29,1.46)}.el-checkbox__inner:hover{border-color:#409eff}.el-checkbox__inner:after{box-sizing:content-box;content:"";border:1px solid #fff;border-left:0;border-top:0;height:7px;left:4px;position:absolute;top:1px;transform:rotate(45deg) scaleY(0);width:3px;transition:transform .15s ease-in .05s;transform-origin:center}.el-checkbox__original{opacity:0;outline:0;position:absolute;margin:0;width:0;height:0;z-index:-1}.el-checkbox-button,.el-checkbox-button__inner{display:inline-block;position:relative}.el-checkbox__label{display:inline-block;padding-left:10px;line-height:19px;font-size:14px}.el-checkbox:last-of-type{margin-right:0}.el-checkbox-button__inner{line-height:1;font-weight:500;white-space:nowrap;vertical-align:middle;cursor:pointer;background:#fff;border:1px solid #dcdfe6;border-left:0;color:#606266;-webkit-appearance:none;text-align:center;box-sizing:border-box;outline:0;margin:0;transition:all .3s cubic-bezier(.645,.045,.355,1);padding:12px 20px;font-size:14px;border-radius:0}.el-checkbox-button__inner.is-round{padding:12px 20px}.el-checkbox-button__inner:hover{color:#409eff}.el-checkbox-button__inner [class*=el-icon-]{line-height:.9}.el-radio,.el-radio__input{line-height:1;white-space:nowrap;outline:0}.el-checkbox-button__inner [class*=el-icon-]+span{margin-left:5px}.el-checkbox-button__original{opacity:0;outline:0;position:absolute;margin:0;z-index:-1}.el-radio,.el-radio__inner,.el-radio__input{position:relative;display:inline-block}.el-checkbox-button.is-checked .el-checkbox-button__inner{color:#fff;background-color:#409eff;border-color:#409eff;box-shadow:-1px 0 0 0 #8cc5ff}.el-checkbox-button.is-checked:first-child .el-checkbox-button__inner{border-left-color:#409eff}.el-checkbox-button.is-disabled .el-checkbox-button__inner{color:#c0c4cc;cursor:not-allowed;background-image:none;background-color:#fff;border-color:#ebeef5;box-shadow:none}.el-checkbox-button.is-disabled:first-child .el-checkbox-button__inner{border-left-color:#ebeef5}.el-checkbox-button:first-child .el-checkbox-button__inner{border-left:1px solid #dcdfe6;border-radius:4px 0 0 4px;box-shadow:none!important}.el-checkbox-button.is-focus .el-checkbox-button__inner{border-color:#409eff}.el-checkbox-button:last-child .el-checkbox-button__inner{border-radius:0 4px 4px 0}.el-checkbox-button--medium .el-checkbox-button__inner{padding:10px 20px;font-size:14px;border-radius:0}.el-checkbox-button--medium .el-checkbox-button__inner.is-round{padding:10px 20px}.el-checkbox-button--small .el-checkbox-button__inner{padding:9px 15px;font-size:12px;border-radius:0}.el-checkbox-button--small .el-checkbox-button__inner.is-round{padding:9px 15px}.el-checkbox-button--mini .el-checkbox-button__inner{padding:7px 15px;font-size:12px;border-radius:0}.el-checkbox-button--mini .el-checkbox-button__inner.is-round{padding:7px 15px}.el-checkbox-group{font-size:0}.el-radio,.el-radio--medium.is-bordered .el-radio__label{font-size:14px}.el-radio{color:#606266;font-weight:500;cursor:pointer;margin-right:30px}.el-cascader-node>.el-radio,.el-radio:last-child{margin-right:0}.el-radio.is-bordered{padding:12px 20px 0 10px;border-radius:4px;border:1px solid #dcdfe6;box-sizing:border-box;height:40px}.el-radio.is-bordered.is-checked{border-color:#409eff}.el-radio.is-bordered.is-disabled{cursor:not-allowed;border-color:#ebeef5}.el-radio__input.is-disabled .el-radio__inner,.el-radio__input.is-disabled.is-checked .el-radio__inner{background-color:#f5f7fa;border-color:#e4e7ed}.el-radio.is-bordered+.el-radio.is-bordered{margin-left:10px}.el-radio--medium.is-bordered{padding:10px 20px 0 10px;border-radius:4px;height:36px}.el-radio--mini.is-bordered .el-radio__label,.el-radio--small.is-bordered .el-radio__label{font-size:12px}.el-radio--medium.is-bordered .el-radio__inner{height:14px;width:14px}.el-radio--small.is-bordered{padding:8px 15px 0 10px;border-radius:3px;height:32px}.el-radio--small.is-bordered .el-radio__inner{height:12px;width:12px}.el-radio--mini.is-bordered{padding:6px 15px 0 10px;border-radius:3px;height:28px}.el-radio--mini.is-bordered .el-radio__inner{height:12px;width:12px}.el-radio__input{cursor:pointer;vertical-align:middle}.el-radio__input.is-disabled .el-radio__inner{cursor:not-allowed}.el-radio__input.is-disabled .el-radio__inner:after{cursor:not-allowed;background-color:#f5f7fa}.el-radio__input.is-disabled .el-radio__inner+.el-radio__label{cursor:not-allowed}.el-radio__input.is-disabled.is-checked .el-radio__inner:after{background-color:#c0c4cc}.el-radio__input.is-disabled+span.el-radio__label{color:#c0c4cc;cursor:not-allowed}.el-radio__input.is-checked .el-radio__inner{border-color:#409eff;background:#409eff}.el-radio__input.is-checked .el-radio__inner:after{transform:translate(-50%,-50%) scale(1)}.el-radio__input.is-checked+.el-radio__label{color:#409eff}.el-radio__input.is-focus .el-radio__inner{border-color:#409eff}.el-radio__inner{border:1px solid #dcdfe6;border-radius:100%;width:14px;height:14px;background-color:#fff;cursor:pointer;box-sizing:border-box}.el-radio__inner:hover{border-color:#409eff}.el-radio__inner:after{width:4px;height:4px;border-radius:100%;background-color:#fff;content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(0);transition:transform .15s ease-in}.el-radio__original{opacity:0;outline:0;position:absolute;z-index:-1;top:0;left:0;right:0;bottom:0;margin:0}.el-radio:focus:not(.is-focus):not(:active):not(.is-disabled) .el-radio__inner{box-shadow:0 0 2px 2px #409eff}.el-radio__label{font-size:14px;padding-left:10px}.el-scrollbar{overflow:hidden;position:relative}.el-scrollbar:active>.el-scrollbar__bar,.el-scrollbar:focus>.el-scrollbar__bar,.el-scrollbar:hover>.el-scrollbar__bar{opacity:1;transition:opacity .34s ease-out}.el-scrollbar__wrap{overflow:scroll;height:100%}.el-scrollbar__wrap--hidden-default{scrollbar-width:none}.el-scrollbar__wrap--hidden-default::-webkit-scrollbar{width:0;height:0}.el-scrollbar__thumb{position:relative;display:block;width:0;height:0;cursor:pointer;border-radius:inherit;background-color:hsla(220,4%,58%,.3);transition:background-color .3s}.el-scrollbar__thumb:hover{background-color:hsla(220,4%,58%,.5)}.el-scrollbar__bar{position:absolute;right:2px;bottom:2px;z-index:1;border-radius:4px;opacity:0;transition:opacity .12s ease-out}.el-scrollbar__bar.is-vertical{width:6px;top:2px}.el-scrollbar__bar.is-vertical>div{width:100%}.el-scrollbar__bar.is-horizontal{height:6px;left:2px}.el-scrollbar__bar.is-horizontal>div{height:100%}.el-cascader-panel{display:-ms-flexbox;display:flex;border-radius:4px;font-size:14px}.el-cascader-panel.is-bordered{border:1px solid #e4e7ed;border-radius:4px}.el-cascader-menu{min-width:180px;box-sizing:border-box;color:#606266;border-right:1px solid #e4e7ed}.el-cascader-menu:last-child{border-right:none}.el-cascader-menu:last-child .el-cascader-node{padding-right:20px}.el-cascader-menu__wrap{height:204px}.el-cascader-menu__list{position:relative;min-height:100%;margin:0;padding:6px 0;list-style:none;box-sizing:border-box}.el-avatar,.el-drawer{-webkit-box-sizing:border-box;overflow:hidden}.el-cascader-menu__hover-zone{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.el-cascader-menu__empty-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#c0c4cc}.el-cascader-node{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:0 30px 0 20px;height:34px;line-height:34px;outline:0}.el-cascader-node.is-selectable.in-active-path{color:#606266}.el-cascader-node.in-active-path,.el-cascader-node.is-active,.el-cascader-node.is-selectable.in-checked-path{color:#409eff;font-weight:700}.el-cascader-node:not(.is-disabled){cursor:pointer}.el-cascader-node:not(.is-disabled):focus,.el-cascader-node:not(.is-disabled):hover{background:#f5f7fa}.el-cascader-node.is-disabled{color:#c0c4cc;cursor:not-allowed}.el-cascader-node__prefix{position:absolute;left:10px}.el-cascader-node__postfix{position:absolute;right:10px}.el-cascader-node__label{-ms-flex:1;flex:1;padding:0 10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.el-cascader-node>.el-radio .el-radio__label{padding-left:0}.el-avatar{display:inline-block;box-sizing:border-box;text-align:center;color:#fff;background:#c0c4cc;width:40px;height:40px;line-height:40px;font-size:14px}.el-avatar>img{display:block;height:100%;vertical-align:middle}.el-drawer,.el-drawer__header{display:-ms-flexbox}.el-empty__image img,.el-empty__image svg{vertical-align:top;height:100%;width:100%}.el-avatar--circle{border-radius:50%}.el-avatar--square{border-radius:4px}.el-avatar--icon{font-size:18px}.el-avatar--large{width:40px;height:40px;line-height:40px}.el-avatar--medium{width:36px;height:36px;line-height:36px}.el-avatar--small{width:28px;height:28px;line-height:28px}.el-drawer.ltr,.el-drawer.rtl,.el-drawer__container{top:0;bottom:0;height:100%}@keyframes el-drawer-fade-in{0%{opacity:0}to{opacity:1}}@keyframes rtl-drawer-in{0%{transform:translate(100%)}to{transform:translate(0)}}@keyframes rtl-drawer-out{0%{transform:translate(0)}to{transform:translate(100%)}}@keyframes ltr-drawer-in{0%{transform:translate(-100%)}to{transform:translate(0)}}@keyframes ltr-drawer-out{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes ttb-drawer-in{0%{transform:translateY(-100%)}to{transform:translate(0)}}@keyframes ttb-drawer-out{0%{transform:translate(0)}to{transform:translateY(-100%)}}@keyframes btt-drawer-in{0%{transform:translateY(100%)}to{transform:translate(0)}}@keyframes btt-drawer-out{0%{transform:translate(0)}to{transform:translateY(100%)}}.el-drawer{position:absolute;box-sizing:border-box;background-color:#fff;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12);outline:0}.el-drawer__body>*,.el-empty{-webkit-box-sizing:border-box}.el-drawer.rtl{animation:rtl-drawer-out .3s;right:0}.el-drawer__open .el-drawer.rtl{animation:rtl-drawer-in .3s 1ms}.el-drawer.ltr{animation:ltr-drawer-out .3s;left:0}.el-drawer__open .el-drawer.ltr{animation:ltr-drawer-in .3s 1ms}.el-drawer.ttb{animation:ttb-drawer-out .3s;top:0}.el-drawer__open .el-drawer.ttb{animation:ttb-drawer-in .3s 1ms}.el-drawer.btt{animation:btt-drawer-out .3s;bottom:0}.el-drawer__open .el-drawer.btt{animation:btt-drawer-in .3s 1ms}.el-drawer__wrapper{position:fixed;top:0;right:0;bottom:0;left:0;overflow:hidden;margin:0}.el-drawer__header{-ms-flex-align:center;align-items:center;color:#72767b;display:-ms-flexbox;display:flex;margin-bottom:32px;padding:20px 20px 0}.el-drawer__header>:first-child{-ms-flex:1;flex:1}.el-drawer__title{margin:0;-ms-flex:1;flex:1;line-height:inherit;font-size:1rem}.el-drawer__close-btn{border:none;cursor:pointer;font-size:20px;color:inherit;background-color:transparent}.el-drawer__body{-ms-flex:1;flex:1;overflow:auto}.el-drawer__body>*{box-sizing:border-box}.el-drawer.btt,.el-drawer.ttb,.el-drawer__container{width:100%;left:0;right:0}.el-drawer__container{position:relative}.el-drawer-fade-enter-active{animation:el-drawer-fade-in .3s}.el-drawer-fade-leave-active{animation:el-drawer-fade-in .3s reverse}.el-popconfirm__main{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.el-popconfirm__icon{margin-right:5px}.el-popconfirm__action{text-align:right;margin:0}@keyframes el-skeleton-loading{0%{background-position:100% 50%}to{background-position:0 50%}}.el-skeleton{width:100%}.el-skeleton__first-line,.el-skeleton__paragraph{height:16px;margin-top:16px;background:#f2f2f2}.el-skeleton.is-animated .el-skeleton__item{background:linear-gradient(90deg,#f2f2f2 25%,#e6e6e6 37%,#f2f2f2 63%);background-size:400% 100%;animation:el-skeleton-loading 1.4s ease infinite}.el-skeleton__item{background:#f2f2f2;display:inline-block;height:16px;border-radius:4px;width:100%}.el-empty,.el-skeleton__image{display:-ms-flexbox}.el-skeleton__circle{border-radius:50%;width:36px;height:36px;line-height:36px}.el-skeleton__circle--lg{width:40px;height:40px;line-height:40px}.el-skeleton__circle--md{width:28px;height:28px;line-height:28px}.el-skeleton__button{height:40px;width:64px;border-radius:4px}.el-skeleton__p{width:100%}.el-skeleton__p.is-last{width:61%}.el-skeleton__p.is-first{width:33%}.el-skeleton__text{width:100%;height:13px}.el-skeleton__caption{height:12px}.el-skeleton__h1{height:20px}.el-skeleton__h3{height:18px}.el-skeleton__h5{height:16px}.el-skeleton__image{width:unset;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;border-radius:0}.el-skeleton__image svg{fill:#dcdde0;width:22%;height:22%}.el-empty{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column;text-align:center;box-sizing:border-box;padding:40px 0}.el-empty__image{width:160px}.el-empty__image img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-o-object-fit:contain;object-fit:contain}.el-empty__image svg{fill:#dcdde0}.el-empty__description{margin-top:20px}.el-empty__description p{margin:0;font-size:14px;color:#909399}.el-empty__bottom,.el-result__title{margin-top:20px}.el-descriptions{box-sizing:border-box;font-size:14px;color:#303133}.el-descriptions__header{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;margin-bottom:20px}.el-descriptions__title{font-size:16px;font-weight:700}.el-descriptions--mini,.el-descriptions--small{font-size:12px}.el-descriptions__body{color:#606266;background-color:#fff}.el-descriptions__body table{border-collapse:collapse;width:100%;table-layout:fixed}.el-descriptions__body table td,.el-descriptions__body table th{box-sizing:border-box;text-align:left;font-weight:400;line-height:1.5}.el-descriptions__body table td.is-left,.el-descriptions__body table th.is-left{text-align:left}.el-descriptions__body table td.is-center,.el-descriptions__body table th.is-center{text-align:center}.el-descriptions__body table td.is-right,.el-descriptions__body table th.is-right{text-align:right}.el-descriptions .is-bordered{table-layout:auto}.el-descriptions .is-bordered td,.el-descriptions .is-bordered th{border:1px solid #ebeef5;padding:12px 10px}.el-descriptions :not(.is-bordered) td,.el-descriptions :not(.is-bordered) th{padding-bottom:12px}.el-descriptions--medium.is-bordered td,.el-descriptions--medium.is-bordered th{padding:10px}.el-descriptions--medium:not(.is-bordered) td,.el-descriptions--medium:not(.is-bordered) th{padding-bottom:10px}.el-descriptions--small.is-bordered td,.el-descriptions--small.is-bordered th{padding:8px 10px}.el-descriptions--small:not(.is-bordered) td,.el-descriptions--small:not(.is-bordered) th{padding-bottom:8px}.el-descriptions--mini.is-bordered td,.el-descriptions--mini.is-bordered th{padding:6px 10px}.el-descriptions--mini:not(.is-bordered) td,.el-descriptions--mini:not(.is-bordered) th{padding-bottom:6px}.el-descriptions-item__container{display:-ms-flexbox;display:flex}.el-descriptions-item__label.has-colon:after{content:":";position:relative;top:-.5px}.el-descriptions-item__label.is-bordered-label{font-weight:700;color:#909399;background:#fafafa}.el-descriptions-item__label:not(.is-bordered-label){margin-right:10px}.el-result{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column;text-align:center;box-sizing:border-box;padding:40px 30px}.el-result__icon svg{width:64px;height:64px}.el-result__title p{margin:0;font-size:20px;color:#303133;line-height:1.3}.el-result__subtitle{margin-top:10px}.el-result__subtitle p{margin:0;font-size:14px;color:#606266;line-height:1.3}.el-result__extra{margin-top:30px}.el-result .icon-success{fill:#67c23a}.el-result .icon-error{fill:#f56c6c}.el-result .icon-info{fill:#909399}.el-result .icon-warning{fill:#e6a23c}',""])},function(t,e,i){"use strict";(function(t){function a(){return n.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return n.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=n.prototype):(null===t&&(t=new n(e)),t.length=e),t}function n(t,e,i){if(!(n.TYPED_ARRAY_SUPPORT||this instanceof n))return new n(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return o(this,t,e,i)}function o(t,e,i,a){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,i,a):"string"==typeof e?u(t,e,i):f(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,i,a){return s(e),e<=0?r(t,e):void 0!==i?"string"==typeof a?r(t,e).fill(i,a):r(t,e).fill(i):r(t,e)}function h(t,e){if(s(e),t=r(t,e<0?0:0|p(e)),!n.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function u(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!n.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var a=0|C(e,i);t=r(t,a);var o=t.write(e,i);return o!==a&&(t=t.slice(0,o)),t}function c(t,e){var i=e.length<0?0:0|p(e.length);t=r(t,i);for(var a=0;a<i;a+=1)t[a]=255&e[a];return t}function d(t,e,i,a){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(a||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===a?new Uint8Array(e):void 0===a?new Uint8Array(e,i):new Uint8Array(e,i,a),n.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=n.prototype):t=c(t,e),t}function f(t,e){if(n.isBuffer(e)){var i=0|p(e.length);return t=r(t,i),0===t.length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||j(e.length)?r(t,0):c(t,e);if("Buffer"===e.type&&Z(e.data))return c(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),n.alloc(+t)}function C(t,e){if(n.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var a=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return K(t).length;default:if(a)return W(t).length;e=(""+e).toLowerCase(),a=!0}}function v(t,e,i){var a=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,i);case"utf8":case"utf-8":return F(this,e,i);case"ascii":return M(this,e,i);case"latin1":case"binary":return A(this,e,i);case"base64":return E(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,i);default:if(a)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}function D(t,e,i){var a=t[e];t[e]=t[i],t[i]=a}function g(t,e,i,a,r){if(0===t.length)return-1;if("string"==typeof i?(a=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=n.from(e,a)),n.isBuffer(e))return 0===e.length?-1:S(t,e,i,a,r);if("number"==typeof e)return e&=255,n.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):S(t,[e],i,a,r);throw new TypeError("val must be string, number or Buffer")}function S(t,e,i,a,r){function n(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,s=t.length,l=e.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(t.length<2||e.length<2)return-1;o=2,s/=2,l/=2,i/=2}var h;if(r){var u=-1;for(h=i;h<s;h++)if(n(t,h)===n(e,-1===u?0:h-u)){if(-1===u&&(u=h),h-u+1===l)return u*o}else-1!==u&&(h-=h-u),u=-1}else for(i+l>s&&(i=s-l),h=i;h>=0;h--){for(var c=!0,d=0;d<l;d++)if(n(t,h+d)!==n(e,d)){c=!1;break}if(c)return h}return-1}function x(t,e,i,a){i=Number(i)||0;var r=t.length-i;a?(a=Number(a))>r&&(a=r):a=r;var n=e.length;if(n%2!=0)throw new TypeError("Invalid hex string");a>n/2&&(a=n/2);for(var o=0;o<a;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[i+o]=s}return o}function b(t,e,i,a){return $(W(e,t.length-i),t,i,a)}function I(t,e,i,a){return $(U(e),t,i,a)}function T(t,e,i,a){return I(t,e,i,a)}function y(t,e,i,a){return $(K(e),t,i,a)}function w(t,e,i,a){return $(z(e,t.length-i),t,i,a)}function E(t,e,i){return 0===e&&i===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,i))}function F(t,e,i){i=Math.min(t.length,i);for(var a=[],r=e;r<i;){var n=t[r],o=null,s=n>239?4:n>223?3:n>191?2:1;if(r+s<=i){var l,h,u,c;switch(s){case 1:n<128&&(o=n);break;case 2:l=t[r+1],128==(192&l)&&(c=(31&n)<<6|63&l)>127&&(o=c);break;case 3:l=t[r+1],h=t[r+2],128==(192&l)&&128==(192&h)&&(c=(15&n)<<12|(63&l)<<6|63&h)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:l=t[r+1],h=t[r+2],u=t[r+3],128==(192&l)&&128==(192&h)&&128==(192&u)&&(c=(15&n)<<18|(63&l)<<12|(63&h)<<6|63&u)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,a.push(o>>>10&1023|55296),o=56320|1023&o),a.push(o),r+=s}return L(a)}function L(t){var e=t.length;if(e<=Q)return String.fromCharCode.apply(String,t);for(var i="",a=0;a<e;)i+=String.fromCharCode.apply(String,t.slice(a,a+=Q));return i}function M(t,e,i){var a="";i=Math.min(t.length,i);for(var r=e;r<i;++r)a+=String.fromCharCode(127&t[r]);return a}function A(t,e,i){var a="";i=Math.min(t.length,i);for(var r=e;r<i;++r)a+=String.fromCharCode(t[r]);return a}function O(t,e,i){var a=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>a)&&(i=a);for(var r="",n=e;n<i;++n)r+=X(t[n]);return r}function N(t,e,i){for(var a=t.slice(e,i),r="",n=0;n<a.length;n+=2)r+=String.fromCharCode(a[n]+256*a[n+1]);return r}function _(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,i,a,r,o){if(!n.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+a>t.length)throw new RangeError("Index out of range")}function R(t,e,i,a){e<0&&(e=65535+e+1);for(var r=0,n=Math.min(t.length-i,2);r<n;++r)t[i+r]=(e&255<<8*(a?r:1-r))>>>8*(a?r:1-r)}function B(t,e,i,a){e<0&&(e=4294967295+e+1);for(var r=0,n=Math.min(t.length-i,4);r<n;++r)t[i+r]=e>>>8*(a?r:3-r)&255}function k(t,e,i,a,r,n){if(i+a>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function V(t,e,i,a,r){return r||k(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),q.write(t,e,i,a,23,4),i+4}function G(t,e,i,a,r){return r||k(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),q.write(t,e,i,a,52,8),i+8}function H(t){if(t=Y(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function X(t){return t<16?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var i,a=t.length,r=null,n=[],o=0;o<a;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&n.push(239,191,189);continue}if(o+1===a){(e-=3)>-1&&n.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&n.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&n.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;n.push(i)}else if(i<2048){if((e-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return n}function U(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function z(t,e){for(var i,a,r,n=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),a=i>>8,r=i%256,n.push(r),n.push(a);return n}function K(t){return J.toByteArray(H(t))}function $(t,e,i,a){for(var r=0;r<a&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function j(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var J=i(199),q=i(200),Z=i(201);e.Buffer=n,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,n.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),n.poolSize=8192,n._augment=function(t){return t.__proto__=n.prototype,t},n.from=function(t,e,i){return o(null,t,e,i)},n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0})),n.alloc=function(t,e,i){return l(null,t,e,i)},n.allocUnsafe=function(t){return h(null,t)},n.allocUnsafeSlow=function(t){return h(null,t)},n.isBuffer=function(t){return!(null==t||!t._isBuffer)},n.compare=function(t,e){if(!n.isBuffer(t)||!n.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,a=e.length,r=0,o=Math.min(i,a);r<o;++r)if(t[r]!==e[r]){i=t[r],a=e[r];break}return i<a?-1:a<i?1:0},n.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(t,e){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return n.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var a=n.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!n.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(a,r),r+=o.length}return a},n.byteLength=C,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)D(this,e,e+1);return this},n.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)D(this,e,e+3),D(this,e+1,e+2);return this},n.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)D(this,e,e+7),D(this,e+1,e+6),D(this,e+2,e+5),D(this,e+3,e+4);return this},n.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?F(this,0,t):v.apply(this,arguments)},n.prototype.equals=function(t){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===n.compare(this,t)},n.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},n.prototype.compare=function(t,e,i,a,r){if(!n.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===a&&(a=0),void 0===r&&(r=this.length),e<0||i>t.length||a<0||r>this.length)throw new RangeError("out of range index");if(a>=r&&e>=i)return 0;if(a>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,a>>>=0,r>>>=0,this===t)return 0;for(var o=r-a,s=i-e,l=Math.min(o,s),h=this.slice(a,r),u=t.slice(e,i),c=0;c<l;++c)if(h[c]!==u[c]){o=h[c],s=u[c];break}return o<s?-1:s<o?1:0},n.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},n.prototype.indexOf=function(t,e,i){return g(this,t,e,i,!0)},n.prototype.lastIndexOf=function(t,e,i){return g(this,t,e,i,!1)},n.prototype.write=function(t,e,i,a){if(void 0===e)a="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)a=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===a&&(a="utf8")):(a=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var n=!1;;)switch(a){case"hex":return x(this,t,e,i);case"utf8":case"utf-8":return b(this,t,e,i);case"ascii":return I(this,t,e,i);case"latin1":case"binary":return T(this,t,e,i);case"base64":return y(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,i);default:if(n)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),n=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;n.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var a;if(n.TYPED_ARRAY_SUPPORT)a=this.subarray(t,e),a.__proto__=n.prototype;else{var r=e-t;a=new n(r,void 0);for(var o=0;o<r;++o)a[o]=this[o+t]}return a},n.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||_(t,e,this.length);for(var a=this[t],r=1,n=0;++n<e&&(r*=256);)a+=this[t+n]*r;return a},n.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||_(t,e,this.length);for(var a=this[t+--e],r=1;e>0&&(r*=256);)a+=this[t+--e]*r;return a},n.prototype.readUInt8=function(t,e){return e||_(t,1,this.length),this[t]},n.prototype.readUInt16LE=function(t,e){return e||_(t,2,this.length),this[t]|this[t+1]<<8},n.prototype.readUInt16BE=function(t,e){return e||_(t,2,this.length),this[t]<<8|this[t+1]},n.prototype.readUInt32LE=function(t,e){return e||_(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},n.prototype.readUInt32BE=function(t,e){return e||_(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},n.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||_(t,e,this.length);for(var a=this[t],r=1,n=0;++n<e&&(r*=256);)a+=this[t+n]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*e)),a},n.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||_(t,e,this.length);for(var a=e,r=1,n=this[t+--a];a>0&&(r*=256);)n+=this[t+--a]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},n.prototype.readInt8=function(t,e){return e||_(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},n.prototype.readInt16LE=function(t,e){e||_(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},n.prototype.readInt16BE=function(t,e){e||_(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},n.prototype.readInt32LE=function(t,e){return e||_(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},n.prototype.readInt32BE=function(t,e){return e||_(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},n.prototype.readFloatLE=function(t,e){return e||_(t,4,this.length),q.read(this,t,!0,23,4)},n.prototype.readFloatBE=function(t,e){return e||_(t,4,this.length),q.read(this,t,!1,23,4)},n.prototype.readDoubleLE=function(t,e){return e||_(t,8,this.length),q.read(this,t,!0,52,8)},n.prototype.readDoubleBE=function(t,e){return e||_(t,8,this.length),q.read(this,t,!1,52,8)},n.prototype.writeUIntLE=function(t,e,i,a){if(t=+t,e|=0,i|=0,!a){P(this,t,e,i,Math.pow(2,8*i)-1,0)}var r=1,n=0;for(this[e]=255&t;++n<i&&(r*=256);)this[e+n]=t/r&255;return e+i},n.prototype.writeUIntBE=function(t,e,i,a){if(t=+t,e|=0,i|=0,!a){P(this,t,e,i,Math.pow(2,8*i)-1,0)}var r=i-1,n=1;for(this[e+r]=255&t;--r>=0&&(n*=256);)this[e+r]=t/n&255;return e+i},n.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,1,255,0),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},n.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},n.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},n.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},n.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},n.prototype.writeIntLE=function(t,e,i,a){if(t=+t,e|=0,!a){var r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}var n=0,o=1,s=0;for(this[e]=255&t;++n<i&&(o*=256);)t<0&&0===s&&0!==this[e+n-1]&&(s=1),this[e+n]=(t/o>>0)-s&255;return e+i},n.prototype.writeIntBE=function(t,e,i,a){if(t=+t,e|=0,!a){var r=Math.pow(2,8*i-1);P(this,t,e,i,r-1,-r)}var n=i-1,o=1,s=0;for(this[e+n]=255&t;--n>=0&&(o*=256);)t<0&&0===s&&0!==this[e+n+1]&&(s=1),this[e+n]=(t/o>>0)-s&255;return e+i},n.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,1,127,-128),n.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},n.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},n.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},n.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},n.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),n.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},n.prototype.writeFloatLE=function(t,e,i){return V(this,t,e,!0,i)},n.prototype.writeFloatBE=function(t,e,i){return V(this,t,e,!1,i)},n.prototype.writeDoubleLE=function(t,e,i){return G(this,t,e,!0,i)},n.prototype.writeDoubleBE=function(t,e,i){return G(this,t,e,!1,i)},n.prototype.copy=function(t,e,i,a){if(i||(i=0),a||0===a||(a=this.length),e>=t.length&&(e=t.length),e||(e=0),a>0&&a<i&&(a=i),a===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-e<a-i&&(a=t.length-e+i);var r,o=a-i;if(this===t&&i<e&&e<a)for(r=o-1;r>=0;--r)t[r+e]=this[r+i];else if(o<1e3||!n.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},n.prototype.fill=function(t,e,i,a){if("string"==typeof t){if("string"==typeof e?(a=e,e=0,i=this.length):"string"==typeof i&&(a=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!n.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var s=n.isBuffer(t)?t:W(new n(t,a).toString()),l=s.length;for(o=0;o<i-e;++o)this[o+e]=s[o%l]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,i(24))},function(t,e,i){"use strict";function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function r(t){var e=a(t),i=e[0],r=e[1];return 3*(i+r)/4-r}function n(t,e,i){return 3*(e+i)/4-i}function o(t){var e,i,r=a(t),o=r[0],s=r[1],l=new d(n(t,o,s)),h=0,u=s>0?o-4:o;for(i=0;i<u;i+=4)e=c[t.charCodeAt(i)]<<18|c[t.charCodeAt(i+1)]<<12|c[t.charCodeAt(i+2)]<<6|c[t.charCodeAt(i+3)],l[h++]=e>>16&255,l[h++]=e>>8&255,l[h++]=255&e;return 2===s&&(e=c[t.charCodeAt(i)]<<2|c[t.charCodeAt(i+1)]>>4,l[h++]=255&e),1===s&&(e=c[t.charCodeAt(i)]<<10|c[t.charCodeAt(i+1)]<<4|c[t.charCodeAt(i+2)]>>2,l[h++]=e>>8&255,l[h++]=255&e),l}function s(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function l(t,e,i){for(var a,r=[],n=e;n<i;n+=3)a=(t[n]<<16&16711680)+(t[n+1]<<8&65280)+(255&t[n+2]),r.push(s(a));return r.join("")}function h(t){for(var e,i=t.length,a=i%3,r=[],n=0,o=i-a;n<o;n+=16383)r.push(l(t,n,n+16383>o?o:n+16383));return 1===a?(e=t[i-1],r.push(u[e>>2]+u[e<<4&63]+"==")):2===a&&(e=(t[i-2]<<8)+t[i-1],r.push(u[e>>10]+u[e>>4&63]+u[e<<2&63]+"=")),r.join("")}e.byteLength=r,e.toByteArray=o,e.fromByteArray=h;for(var u=[],c=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=f.length;p<m;++p)u[p]=f[p],c[f.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,i,a,r){var n,o,s=8*r-a-1,l=(1<<s)-1,h=l>>1,u=-7,c=i?r-1:0,d=i?-1:1,f=t[e+c];for(c+=d,n=f&(1<<-u)-1,f>>=-u,u+=s;u>0;n=256*n+t[e+c],c+=d,u-=8);for(o=n&(1<<-u)-1,n>>=-u,u+=a;u>0;o=256*o+t[e+c],c+=d,u-=8);if(0===n)n=1-h;else{if(n===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,a),n-=h}return(f?-1:1)*o*Math.pow(2,n-a)},e.write=function(t,e,i,a,r,n){var o,s,l,h=8*n-r-1,u=(1<<h)-1,c=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:n-1,p=a?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+c>=1?d/l:d*Math.pow(2,1-c),e*l>=2&&(o++,l/=2),o+c>=u?(s=0,o=u):o+c>=1?(s=(e*l-1)*Math.pow(2,r),o+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,r),o=0));r>=8;t[i+f]=255&s,f+=p,s/=256,r-=8);for(o=o<<r|s,h+=r;h>0;t[i+f]=255&o,f+=p,o/=256,h-=8);t[i+f-p]|=128*m}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){t.exports=i.p+"535877f50039c0cb49a6196a5b7517cd.woff"},function(t,e,i){t.exports=i.p+"732389ded34cb9c52dd88271f1345af9.ttf"},,,,function(t,e){t.exports=function(t,e){for(var i=[],a={},r=0;r<e.length;r++){var n=e[r],o=n[0],s=n[1],l=n[2],h=n[3],u={id:t+":"+r,css:s,media:l,sourceMap:h};a[o]?a[o].parts.push(u):i.push(a[o]={id:o,parts:[u]})}return i}},,,,,,,function(t,e,i){i(44),i(23),i(33),i(215),i(219),i(221),i(222),t.exports=i(0).Map},function(t,e,i){"use strict";var a=i(105),r=i(75);t.exports=i(109)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=a.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return a.def(r(this,"Map"),0===t?0:t,e)}},a,!0)},function(t,e,i){var a=i(14),r=i(60),n=i(22),o=i(40),s=i(217);t.exports=function(t,e){var i=1==t,l=2==t,h=3==t,u=4==t,c=6==t,d=5==t||c,f=e||s;return function(e,s,p){for(var m,C,v=n(e),D=r(v),g=a(s,p,3),S=o(D.length),x=0,b=i?f(e,S):l?f(e,0):void 0;S>x;x++)if((d||x in D)&&(m=D[x],C=g(m,x,v),t))if(i)b[x]=C;else if(C)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:b.push(m)}else if(u)return!1;return c?-1:h||u?u:b}}},function(t,e,i){var a=i(218);t.exports=function(t,e){return new(a(t))(e)}},function(t,e,i){var a=i(11),r=i(97),n=i(5)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),a(e)&&null===(e=e[n])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){var a=i(2);a(a.P+a.R,"Map",{toJSON:i(110)("Map")})},function(t,e,i){var a=i(35);t.exports=function(t,e){var i=[];return a(t,!1,i.push,i,e),i}},function(t,e,i){i(111)("Map")},function(t,e,i){i(112)("Map")},function(t,e,i){t.exports={default:i(224),__esModule:!0}},function(t,e,i){i(225),t.exports=i(0).Object.keys},function(t,e,i){var a=i(22),r=i(27);i(226)("keys",function(){return function(t){return r(a(t))}})},function(t,e,i){var a=i(2),r=i(0),n=i(19);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],o={};o[t]=e(i),a(a.S+a.F*n(function(){i(1)}),"Object",o)}},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,'@font-face{font-family:hq_iconfont;src:url("//at.alicdn.com/t/font_1534014_tge8dm05l7c.eot?t=1575443353245");src:url("//at.alicdn.com/t/font_1534014_tge8dm05l7c.eot?t=1575443353245#iefix") format("embedded-opentype"),url("data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAg8AAsAAAAAD9QAAAftAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCETAqQKI0tATYCJAMwCxoABCAFhREHgSobdQ1RlFBSBtmXBbYzbQRTlnUX9CS++khQ7+ZoDYpQCMwHpjGD0LgQM4sH+v2+nSvv+ZokEambFoskElm8SfXqIRISiVKpDNkktD882/IfcskDvNsJXmStXTaxShdRuDUs0rwqz2Xp6Y/UrV1FuDSXjyRkhBnKVyNSaHuUlpMeDqDk9sdgjKgIMWmwlOvlASemg2Vc99mIINH1g/k5/P9/P1dFvJk2UqOlb5NnnH9RsbSIWtREEvW4NjIRSqTkhoHs6hLH5D2AmwlozUmHnOv89jlYyAgOqHFnYiEHi0akPGEf1OHlwIk5+Hir45sT8DL7+fBLbn4SFUnkVpev3ZvB1VfwOEThBUOTgLC+eNibkbADyDb7OJj4AVqgnYy0Q/W9vADMCjD+wvqrR/JHV2R5qWJa0dasC/kBWudk5GCW/osHVBpZEgWdVqFUE0qB9Ibxu6KOr4CHUPFVDpqQBgFk0EiABJoHEEFVAAGUgbg+ugKgBd0KUIBaEa90R0nQVO9T5Kx7qWp8D0jnAbG6CiWQfO+zUPHXtHzvsQ+qJGYBuMB5NFjtKpAIguzTaZzIZvflyAgYDhdfvMhcusRevsy73UPFRo1FMgsN/A69aKQ53UnpODUfF08FexmsCUR9U5j3QOyILdLUlKRFyi8UHXZFwMPnIkrOogg7HtFoxR0AcPJyNQLFYuIOYSfF10Je0mm0GMZryaKCmRFZykzFQ5bR3SUlD4p1CFLG5ohFsobmlttMnIwdOhUODNYCuPlnIWW2gTsUmBZBNBBKFEtIFk0jhosNgnmUTmAHjVR3DAal9lGIkV8Jj8VKuJMao9KXQfoot5s7CfypSLx4kfMId2Y+jNeY6qVaA9A3iI28qKU5415pdzCzY8dsOGEINoQYI2qVPKc1CeB1e5PH7jQoGJSpoTlmx+CMqwp5HcVy40L7AAWzuCZeh1S5O4v/JO+R/OrxP14UK9+c3KVMbODGoo9eSjFfYruUx7Y57eai/7zU2nppBBDMkuXU6FsIPGoOkXIsRvBEGprFGdFlC6b4027YyEnUALY45y+SYYO4XKY0HYGvBBlD6OE8iiG4DwFwXzkrGwzgyBIBDuPxK6YFAyQMroKjZ6KgVI9ojDRWdho75GR3lir0hxLrysI0FiiNFUWIiTX6nRCWuqCaHpFu0tK4aVxT/4Sx3HJ0+CFn8F2QAQQDFRpK5ZUaI4YbT9vuwbta1NWVolGyAb1zBxXqBotHmypzSpAhkT4ENRMHFQcJ6ispo2Uk2PR6anhHOAV23Gfdl108/PjEf5CTCAyp8/bFnedGls+VCYyfb6dJ5JITgfnzrd4T7MErDh6cT8np+QcPVcBm5X3XwRvXF9C/XfmBQ+NpD7X2wMEKFN5CnOYbPpSBJcxpj9IYBCzR65KMyDKgf+aNaGB859AIHCzA8ZNyBzihwP23OCowB4QODKsJoYjY8FiCIiXEbrDiw2LJNqdXOqd1AIt8ObOfKHJSgWMLLFnh2OJ/PHFeJO5alJCrqQM8sN7r1i0voa63eLSpymRvQe12FOotBg+VoSPDKokjU0On/kUEmZPN6b0xp1+Qx29O+qpgyuN/HUR9ObzPd/PUyoq9zUEQ4rfLN/XHkQPzx1X+jJvxsJuy28yHP+L2j5t/9EDfhULDa+7OuzcvZ+ofVWXqkIQ7/05aOZtz2QYh6uqyu9Fbi8Y6qdxFU3wnUFA5GyAhMKJLv1GRvUN+Dj3pO1wmbEQnj+o8FnSo77BJXZB5vWUT5oGBDZo4D5vUiYzjO3YaFJ/DjOwSfuNkeOeptBptnz/vl/l5Kpl6pjq9YW26Gqx88ZwAoYAw26zrlEC5zmozN1Oexz7rtbAtsLZZs2WZ1bgThtW2bmj22bhV2S6w1QBNywWVwDb0LFc57E1AUNmFtlklwf5QrX4w9QWACvha25982ewe2X/TpBnRpm2ifxbhf88urpQSFkwXaFeHU1tSFco7BYFuOnBRJIJ69cWi/J+S3MrFidGWFRtq8a/Ols58woPWgtLZwSUUx/xa8Wc0XRTdfVNf8hWB3T1rW8TtOgz3v0eW9u4OOnyAUJXjZ18zTnSW/4fBO3STpJAWZW8zx/uy95s93gcGH9AN4prnG9nLBXj+QrftR6HTqwPa3rd/Y2ChHRVUNZMfyL7+ZO3k0t6ndZlWH/3gv9ikz8QSQxY9sC+fWItjSYEfqFZ5G4B85ihJVJ+DLvIB3jTFpZN7jz6e+REt1eBnKXXcrW2wKWVBJnemKt+osuCbdNb1s/GRfmF8ql8aX/JtbRtwemfCMmMhu9iyVfMNpp30jYZ98k2m3dbPxh/1Cuugfmkc49u6Eoou2Flr43WYhTKggdF/MFEz5awkrCbMzLD0Oxaxla7T1vf4RueryZCTmT1Q8oiEbn2HzE7F5ZyQg9pxB53d22HbMsxwXKMOpxNC6I9ZWeqhQ0/HcDdYOeMgKcjABhjtL/REGiP5+oOVG6wMv+cdKkQtyU13ISz/DTleF7A2IEembDX9R0KqHe5j+dmSwqVhH+S7qTmsAzovF49aWsjAjOHtakgLTk1YIr93lKUPpFYlp9tn3WMwC1pEu31IZIxCpdFxBpNgqXo4ylFFxXb+ODKSir9IvaT57Ln8W0neTZmIKlNbE8rYhyYppfmyWnA3SaaCyYIWGqvDYeYY6s38/1gZqXb0Zux0HTukcDLKmPmiCdUqIgYDAAA=") format("woff2"),url("//at.alicdn.com/t/font_1534014_tge8dm05l7c.woff?t=1575443353245") format("woff"),url("//at.alicdn.com/t/font_1534014_tge8dm05l7c.ttf?t=1575443353245") format("truetype"),url("//at.alicdn.com/t/font_1534014_tge8dm05l7c.svg?t=1575443353245#hq_iconfont") format("svg")}.hq_iconfont{font-family:hq_iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-warning:before{content:"\\E640"}.icon-wendangyunpan:before{content:"\\E633"}.icon-suoxiao:before{content:"\\E61E"}.icon-liebiaoqiehuan:before{content:"\\E613"}.icon-jingshi:before{content:"\\E691"}.icon-shandian:before{content:"\\E6BD"}.icon-xing:before{content:"\\E600"}.icon-yun:before{content:"\\E719"}.icon-quanpingzuidahua:before{content:"\\E60F"}.icon-document-add:before{content:"\\E682"}.icon-zhibiao:before{content:"\\E654"}',""])},function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(){}function o(){this.DataMap=new Mn.default,this.Get=function(t){return this.DataMap.has(t)?this.DataMap.get(t):null},this.Add=function(t){this.DataMap.set(t.ID,t)}}function s(){this.DataMap=new Mn.default([["MA",this.MA],["均线",this.MA],["MA4",this.MA4],["MA5",this.MA5],["MA6",this.MA6],["MA7",this.MA7],["MA8",this.MA8],["BOLL",this.BOLL],["BOLL副图",this.BOLL2],["BBI",this.BBI],["DKX",this.DKX],["MIKE",this.MIKE],["PBX",this.PBX],["ENE",this.ENE],["MACD",this.MACD],["KDJ",this.KDJ],["MACD2",this.MACD2],["VOL",this.VOL],["VOL_OVERLAY",this.VOL_OVERLAY],["RSI",this.RSI],["BRAR",this.BRAR],["WR",this.WR],["BIAS",this.BIAS],["OBV",this.OBV],["DMI",this.DMI],["CR",this.CR],["PSY",this.PSY],["CCI",this.CCI],["DMA",this.DMA],["TRIX",this.TRIX],["VR",this.VR],["EMV",this.EMV],["ROC",this.ROC],["MTM",this.MTM],["FSL",this.FSL],["CYR",this.CYR],["MASS",this.MASS],["WAD",this.WAD],["CHO",this.CHO],["ADTM",this.ADTM],["HSL",this.HSL],["BIAS36",this.BIAS36],["BIAS_QL",this.BIAS_QL],["DPO",this.DPO],["OSC",this.OSC],["ATR",this.ATR],["NVI",this.NVI],["PVI",this.PVI],["UOS",this.UOS],["CYW",this.CYW],["LON",this.LON],["NDB",this.NDB],["SKDJ",this.SKDJ],["KD",this.KD],["FKX",this.FKX],["DKCOL",this.DKCOL],["UDL",this.UDL],["MFI",this.MFI],["LWR",this.LWR],["MARSI",this.MARSI],["CYD",this.CYD],["CYF",this.CYF],["TAPI",this.TAPI],["VMACD",this.VMACD],["QACD",this.QACD],["VPT",this.VPT],["WVAD",this.WVAD],["DBQR",this.DBQR],["JS",this.JS],["CYE",this.CYE],["QR",this.QR],["GDX",this.GDX],["JLHB",this.JLHB],["PCNT",this.PCNT],["BTX",this.BTX],["AMO",this.AMO],["VRSI",this.VRSI],["HSCOL",this.HSCOL],["DBQRV",this.DBQRV],["DBLB",this.DBLB],["ACD",this.ACD],["EXPMA",this.EXPMA],["EXPMA_S",this.EXPMA_S],["HMA",this.HMA],["LMA",this.LMA],["VMA",this.VMA],["AMV",this.AMV],["BBIBOLL",this.BBIBOLL],["ALLIGAT",this.ALLIGAT],["ZX",this.ZX],["XS",this.XS],["XS2",this.XS2],["SG-XDT",this.SG_XDT],["SG-SMX",this.SG_SMX],["SG-LB",this.SG_LB],["SG-PF",this.SG_PF],["RAD",this.RAD],["SHT",this.SHT],["ZLJC",this.ZLJC],["ZLMM",this.ZLMM],["SLZT",this.SLZT],["ADVOL",this.ADVOL],["CYC",this.CYC],["CYS",this.CYS],["CYQKL",this.CYQKL],["SCR",this.SCR],["ASR",this.ASR],["SAR",this.SAR],["TJCJL",this.TJCJL],["量比",this.VOLRate],["平均K线",this.HeikinAshi],["ADL",this.ADL],["SQJZ",this.SQJZ],["XT",this.XT],["CFJT",this.CFJT],["CYX",this.CYX],["WAVE",this.WAVE],["VOL-TDX",this.VOL_TDX],["EMPTY",this.EMPTY],["神奇九转",this.NineTurns],["EMA",this.EMA3],["EMA4",this.EMA4],["EMA5",this.EMA5],["EMA6",this.EMA6],["散户线",this.ShareholderCount],["NXTS",this.NXTS],["FKX",this.FKX],["两融资金",this.Margin4],["ZSDB",this.ZSDB],["CJL2",this.CJL],["ASI",this.ASI],["DC",this.DC],["DEMA",this.DEMA],["VWAP",this.VWAP],["飞龙四式",this.Dragon4_Main],["飞龙四式-附图",this.Dragon4_Fig],["资金分析",this.FundsAnalysis],["融资占比",this.MarginProportion],["负面新闻",this.NewsNegative],["涨跌趋势",this.UpDownAnalyze],["北上资金",this.HK2SHSZ],["股东人数",this.ShareHolder],["两融余额",this.Margin2],["两融余额2",this.Margin3],["Zealink-资金吸筹",this.Zealink_Index1],["Zealink-牛熊区间",this.Zealink_Index2],["Zealink-持仓信号",this.Zealink_Index3],["Zealink-增减持",this.Zealink_Index4],["Zealink-大宗交易",this.Zealink_Index5],["Zealink-信托持股",this.Zealink_Index6],["Zealink-官网新闻",this.Zealink_Index7],["Zealink-高管要闻",this.Zealink_Index8],["Zealink-股权质押",this.Zealink_Index9],["Zealink-操盘BS点",this.Zealink_Index10],["Zealink-操盘BS点2",this.Zealink_Index11],["放心股-操盘BS点",this.FXG_BSPoint],["放心股-涨停多空线",this.FXG_INDEX],["放心股-涨停吸筹区",this.FXG_INDEX2],["放心股-量能黄金点",this.FXG_INDEX3],["五彩K线-十字星",this.COLOR_KSTAR1],["五彩K线-早晨之星",this.COLOR_KSTAR2],["五彩K线-黄昏之星",this.COLOR_KSTAR3],["五彩K线-长十字",this.COLOR_SHI1],["五彩K线-身怀六甲",this.COLOR_K220],["五彩K线-三个白武士",this.COLOR_K300],["五彩K线-三只乌鸦",this.COLOR_K310],["五彩K线-光头阳线",this.COLOR_K380],["五彩K线-光脚阴线",this.COLOR_K390],["五彩K线-垂死十字",this.COLOR_K134],["五彩K线-早晨十字星",this.COLOR_K140],["五彩K线-黄昏十字星",this.COLOR_K150],["五彩K线-射击之星",this.COLOR_K160],["五彩K线-倒转锤头",this.COLOR_K165],["五彩K线-锤头",this.COLOR_K170],["五彩K线-吊颈",this.COLOR_K180],["五彩K线-穿头破脚",this.COLOR_K190],["五彩K线-出水芙蓉",this.COLOR_CSFR],["五彩K线-乌云盖顶",this.COLOR_WYGD],["五彩K线-曙光初现",this.COLOR_SGCJ],["五彩K线-十字胎",this.COLOR_SZTAI],["五彩K线-剑",this.COLOR_SWORD],["五彩K线-平顶",this.COLOR_PINGDING],["五彩K线-平底",this.COLOR_PINGDI],["五彩K线-大阳烛",this.COLOR_DAYANZHU],["五彩K线-大阴烛",this.COLOR_DAYINGZHU],["五彩K线-好友反攻",this.COLOR_HYFG],["五彩K线-跳空缺口",this.COLOR_TKQK],["五彩K线-双飞乌鸦",this.COLOR_SFWY],["五彩K线-上升三部曲",this.COLOR_SSSBQ],["五彩K线-下跌三部曲",this.COLOR_XDSBQ],["五彩K线-长下影",this.COLOR_CHXY],["五彩K线-长上影",this.COLOR_CHSY],["五彩K线-分离",this.COLOR_FENLI],["交易系统-BIAS",this.TRADE_BIAS],["交易系统-CCI",this.TRADE_CCI],["交易系统-DMI",this.TRADE_DMI],["交易系统-KD",this.TRADE_KD],["交易系统-BOLL",this.TRADE_BOLL],["交易系统-KDJ",this.TRADE_KDJ],["交易系统-MA",this.TRADE_MA],["交易系统-MACD",this.TRADE_MACD],["交易系统-MTM",this.TRADE_MTM],["交易系统-PSY",this.TRADE_PSY],["交易系统-ROC",this.TRADE_ROC],["交易系统-RSI",this.TRADE_RSI],["交易系统-VR",this.TRADE_VR],["交易系统-DPSJ",this.TRADE_DPSJ],["TEST",this.TEST]])}function l(t,e,i){this.DivElement=t,this.DivToolElement=null,this.JSChartContainer,this.CanvasElement=document.createElement("canvas"),this.CanvasElement.className="jschart-drawing",this.CanvasElement.id=m(),this.CanvasElement.setAttribute("tabindex",0),this.CanvasElement.style&&(this.CanvasElement.style.outline="none",this.CanvasElement.style.position="absolute"),t.hasChildNodes()&&Nn.Chart.Log("[JSChart::JSChart] divElement hasChildNodes",t.childNodes),t.appendChild(this.CanvasElement),this.OffscreenCanvasElement,1==e&&(this.OffscreenCanvasElement=document.createElement("canvas")),this.CacheCanvasElement=null,i&&(this.CacheCanvasElement=document.createElement("canvas")),this.ModifyIndexDialog=new Ua(t),this.ChangeIndexDialog=new za(t),this.MinuteDialog=new Ka(t),this.MapExtraCanvasElement=new Mn.default,this.CreateExtraCanvasElement=function(e,i){if(this.MapExtraCanvasElement.has(e))return this.MapExtraCanvasElement.get(e);var a=document.createElement("canvas");a.className="jschart-drawing-extra",a.id=m(),e==l.CorssCursorCanvasKey?a.setAttribute("tabindex",5):a.setAttribute("tabindex",1),a.style&&(a.style.outline="none",a.style.position="absolute",a.style.left="0px",a.style.top="0px",a.style["pointer-events"]="none"),i&&(Ee.IsNumber(i.TabIndex)&&a.setAttribute("tabindex",i.TabIndex),Ee.IsNumber(i.ZIndex)&&(a.style["z-index"]=i.ZIndex)),t.appendChild(a);var r={Element:a,Canvas:null};this.MapExtraCanvasElement.set(e,r)},this.GetExtraCanvas=function(t){if(!this.MapExtraCanvasElement.has(t))return null;var e=this.MapExtraCanvasElement.get(t);return e.Element?(e.Canvas||(e.Canvas=e.Element.getContext("2d")),e):null},this.OnSize=function(t){var e=parseInt(this.DivElement.style.height.replace("px",""));this.ToolElement&&(e-=this.ToolElement.style.height.replace("px","")),this.CanvasElement.height=e,this.CanvasElement.width=parseInt(this.DivElement.style.width.replace("px","")),this.CanvasElement.style.width=this.CanvasElement.width+"px",this.CanvasElement.style.height=this.CanvasElement.height+"px";var i=c();this.CanvasElement.height*=i,this.CanvasElement.width*=i,this.OffscreenCanvasElement&&(this.OffscreenCanvasElement.height=this.CanvasElement.height,this.OffscreenCanvasElement.width=this.CanvasElement.width),this.CacheCanvasElement&&(this.CacheCanvasElement.height=this.CanvasElement.height,this.CacheCanvasElement.width=this.CanvasElement.width);var a=!0,r=!1,n=void 0;try{for(var o,s=(0,Fn.default)(this.MapExtraCanvasElement);!(a=(o=s.next()).done);a=!0){var l=o.value,h=l[1],u=h.Element;u&&(u.height=this.CanvasElement.height,u.width=this.CanvasElement.width,u.style.width=this.CanvasElement.style.width,u.style.height=this.CanvasElement.style.height)}}catch(t){r=!0,n=t}finally{try{!a&&s.return&&s.return()}finally{if(r)throw n}}Nn.Chart.Log("[JSChart::OnSize] devicePixelRatio="+window.devicePixelRatio+", height="+this.CanvasElement.height+", width="+this.CanvasElement.width),t&&0==t.Redraw||this.JSChartContainer&&(t&&!0===t.XYSplit&&this.JSChartContainer.ResetFrameXYSplit(),this.JSChartContainer.OnSize&&t&&1==t.Type?this.JSChartContainer.OnSize():(this.JSChartContainer.Frame&&this.JSChartContainer.Frame.SetSizeChage(!0),this.JSChartContainer.Draw()))},this.AdjustChartBorder=function(t){var e=c();if(t.Frame.ChartBorder.Left*=e,t.Frame.ChartBorder.Right*=e,t.Frame.ChartBorder.Top*=e,t.Frame.ChartBorder.Bottom*=e,t.Frame.AutoLeftBorder){var i=t.Frame.AutoLeftBorder;Ee.IsNumber(i.MinWidth)&&(i.MinWidth*=e),Ee.IsNumber(i.Blank)&&(i.Blank*=e)}if(t.Frame.AutoRightBorder){var i=t.Frame.AutoRightBorder;Ee.IsNumber(i.MinWidth)&&(i.MinWidth*=e),Ee.IsNumber(i.Blank)&&(i.Blank*=e)}},this.AdjustTitleHeight=function(t){for(var e=c(),i=0;i<t.Frame.SubFrame.length;++i)t.Frame.SubFrame[i].Frame.ChartBorder.TitleHeight*=e;t.ChartCorssCursor.TextHeight*=e},this.SetChartBorder=function(t,e){if(e.Border){var i=e.Border;Ee.IsNumber(e.Border.Left)?t.Frame.ChartBorder.Left=e.Border.Left:e.Border.Left=t.Frame.ChartBorder.Left,Ee.IsNumber(e.Border.Right)?t.Frame.ChartBorder.Right=e.Border.Right:e.Border.Right=t.Frame.ChartBorder.Right,Ee.IsNumber(e.Border.Top)?t.Frame.ChartBorder.Top=e.Border.Top:e.Border.Top=t.Frame.ChartBorder.Top,Ee.IsNumber(e.Border.Bottom)?t.Frame.ChartBorder.Bottom=e.Border.Bottom:e.Border.Bottom=t.Frame.ChartBorder.Bottom,i.AutoLeft&&(t.Frame.AutoLeftBorder={},Ee.IsNumber(i.AutoLeft.Blank)&&(t.Frame.AutoLeftBorder.Blank=i.AutoLeft.Blank),Ee.IsNumber(i.AutoLeft.MinWidth)&&(t.Frame.AutoLeftBorder.MinWidth=i.AutoLeft.MinWidth)),i.AutoRight&&(t.Frame.AutoRightBorder={},Ee.IsNumber(i.AutoRight.Blank)&&(t.Frame.AutoRightBorder.Blank=i.AutoRight.Blank),Ee.IsNumber(i.AutoRight.MinWidth)&&(t.Frame.AutoRightBorder.MinWidth=i.AutoRight.MinWidth))}},this.SetEventCallback=function(t,e){if(t&&Ee.IsNonEmptyArray(e))for(var i=0;i<e.length;++i){var a=e[i];t.AddEventCallback(a)}},this.CreateKLineChartContainer=function(t){var e=null;e="历史K线图横屏"===t.Type?new fa(this.CanvasElement):new sa(this.CanvasElement,this.OffscreenCanvasElement,this.CacheCanvasElement);var i=this.GetExtraCanvas(l.CorssCursorCanvasKey);if(i&&e.SetCorssCursorElement(i),t.EventCallback&&this.SetEventCallback(e,t.EventCallback),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),e.ModifyIndexDialog=this.ModifyIndexDialog,e.ChangeIndexDialog=this.ChangeIndexDialog,e.MinuteDialog=this.MinuteDialog,1==t.IsShowRightMenu&&(e.RightMenu=new Za(this.DivElement)),t.ScriptError&&(e.ScriptErrorCallback=t.ScriptError),e.SelectRectRightMenu=new Qa(this.DivElement),1==t.EnableScrollUpDown&&(e.EnableScrollUpDown=t.EnableScrollUpDown),1==t.DisableMouse&&(e.DisableMouse=t.DisableMouse),t.TouchMoveMinAngle&&(e.TouchMoveMinAngle=t.TouchMoveMinAngle),t.EnableZoomUpDown&&(e.EnableZoomUpDown=t.EnableZoomUpDown),Ee.IsString(t.SplashTitle)&&(e.LoadDataSplashTitle=t.SplashTitle),Ee.IsBool(t.EnableZoomIndexWindow)&&(e.EnableZoomIndexWindow=t.EnableZoomIndexWindow),Ee.IsBool(t.IsDrawPictureXY)&&(e.IsDrawPictureXY=t.IsDrawPictureXY),Ee.IsNumber(t.CtrlMoveStep)&&(e.CtrlMoveStep=t.CtrlMoveStep),Ee.IsBool(t.EnableIndexChartDrag)&&(e.EnableIndexChartDrag=t.EnableIndexChartDrag),Ee.IsBool(t.EnableVerifyRecvData)&&(e.EnableVerifyRecvData=t.EnableVerifyRecvData),t.EnableYDrag){var a=t.EnableYDrag;Ee.IsBool(a.Left)&&(e.EnableYDrag.Left=a.Left),Ee.IsBool(a.Right)&&(e.EnableYDrag.Right=a.Right)}if(t.KLine&&(t.KLine.DragMode>=0&&(e.DragMode=t.KLine.DragMode),t.KLine.Right>=0&&(e.Right=t.KLine.Right),t.KLine.Period>=0&&(e.Period=t.KLine.Period),t.KLine.MaxReqeustDataCount>0&&(e.MaxRequestDataCount=t.KLine.MaxReqeustDataCount),t.KLine.MaxRequestDataCount>0&&(e.MaxRequestDataCount=t.KLine.MaxRequestDataCount),t.KLine.Info&&t.KLine.Info.length>0&&e.SetKLineInfo(t.KLine.Info,!1),0==t.KLine.KLineDoubleClick&&(e.MinuteDialog=this.MinuteDialog=null),0==t.KLine.IsShowTooltip&&(e.IsShowTooltip=!1),t.KLine.MaxRequestMinuteDayCount>0&&(e.MaxRequestMinuteDayCount=t.KLine.MaxRequestMinuteDayCount),t.KLine.DrawType&&(e.KLineDrawType=t.KLine.DrawType),t.KLine.FirstShowDate>19910101&&(e.CustomShow={Date:t.KLine.FirstShowDate,PageSize:t.KLine.PageSize}),t.KLine.RightSpaceCount>0&&(e.RightSpaceCount=t.KLine.RightSpaceCount),t.KLine.ZoomType>0&&(e.ZoomType=t.KLine.ZoomType),t.KLine.DataWidth>=1&&(e.KLineSize={DataWidth:t.KLine.DataWidth}),Ee.IsNumber(t.KLine.RightFormula)&&(e.RightFormula=t.KLine.RightFormula)),t.EnableFlowCapital){var a=t.EnableFlowCapital;1==a.BIT&&(e.EnableFlowCapital.BIT=a.BIT)}if(Ee.IsBool(t.EnableBorderDrag)&&(e.EnableBorderDrag=t.EnableBorderDrag),t.Page&&(t.Page.Day&&1==t.Page.Day.Enable&&(e.Page.Day.Enable=!0),t.Page.Minute&&1==t.Page.Minute.Enable&&(e.Page.Minute.Enable=!0)),t.DragDownload&&(t.DragDownload.Day&&1==t.DragDownload.Day.Enable&&(e.DragDownload.Day.Enable=!0),t.DragDownload.Minute&&1==t.DragDownload.Minute.Enable&&(e.DragDownload.Minute.Enable=!0)),t.ZoomDownload&&(t.ZoomDownload.Day&&Ee.IsBool(t.ZoomDownload.Day.Enable)&&(e.ZoomDownload.Day.Enable=t.ZoomDownload.Day.Enable),t.ZoomDownload.Minute&&Ee.IsBool(t.ZoomDownload.Minute.Enable)&&(e.ZoomDownload.Minute.Enable=t.ZoomDownload.Minute.Enable)),t.Language){var r=uo.GetLanguageID(t.Language);Ee.IsNumber(r)&&(e.LanguageID=r)}if(t.SourceDatatLimit&&e.SetSourceDatatLimit(t.SourceDatatLimit),t.DrawPicture&&t.DrawPicture.StorageKey&&e.ChartDrawStorage&&e.ChartDrawStorage.Load(t.DrawPicture.StorageKey),t.DrawTool&&t.DrawTool.StorageKey&&e.ChartDrawStorage&&e.ChartDrawStorage.Load(t.DrawTool.StorageKey),Ee.IsNumber(t.StepPixel)&&(e.StepPixel=t.StepPixel),t.ZoomStepPixel>0&&(e.ZoomStepPixel=t.ZoomStepPixel),1==t.IsApiPeriod&&(e.IsApiPeriod=t.IsApiPeriod),t.SelectedChart){var a=t.SelectedChart;Ee.IsBool(a.EnableSelected)&&(e.SelectedChart.EnableSelected=a.EnableSelected),Ee.IsBool(a.EnableMoveOn)&&(e.SelectedChart.EnableMoveOn=a.EnableMoveOn)}if(!t.Windows||t.Windows.length<=0)return null;if(Ee.IsNonEmptyArray(t.KLineCalcOption))for(var n=0;n<t.KLineCalcOption.length;++n){var a=t.KLineCalcOption[n];a.ClassName&&a.Option&&e.SetKLineCalcOption(a.ClassName,a.Option)}if(e.Create(t.Windows.length,t),this.SetChartBorder(e,t),this.AdjustChartBorder(e),t.KLine&&t.KLine.PageSize>0){var o=e.GetMaxMinPageSize();o.Max>10&&o.Max<t.KLine.PageSize?e.PageSize=o.Max:o.Min>10&&o.Min>t.KLine.PageSize?e.PageSize=o.Min:e.PageSize=t.KLine.PageSize}if(!0===t.IsCorssOnlyDrawKLine&&(e.ChartCorssCursor.IsOnlyDrawKLine=t.IsCorssOnlyDrawKLine),!0===t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),1==t.IsClickShowCorssCursor&&(e.IsClickShowCorssCursor=t.IsClickShowCorssCursor),t.CorssCursorInfo){var a=t.CorssCursorInfo;isNaN(t.CorssCursorInfo.Left)||(e.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(e.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(e.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(e.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),1==t.CorssCursorInfo.IsShowClose&&(e.ChartCorssCursor.IsShowClose=t.CorssCursorInfo.IsShowClose),t.CorssCursorInfo.PressTime&&(e.PressTime=t.CorssCursorInfo.PressTime),Ee.IsNumber(t.CorssCursorInfo.HPenType)&&(e.ChartCorssCursor.HPenType=t.CorssCursorInfo.HPenType),t.CorssCursorInfo.VPenType>0&&(e.ChartCorssCursor.VPenType=t.CorssCursorInfo.VPenType),Ee.IsNumber(a.VLineType)&&(e.ChartCorssCursor.VLineType=a.VLineType),t.CorssCursorInfo.DateFormatType>0&&(e.ChartCorssCursor.StringFormatX.DateFormatType=t.CorssCursorInfo.DateFormatType),Ee.IsBool(a.IsDrawXRangeBG)&&(e.ChartCorssCursor.IsDrawXRangeBG=a.IsDrawXRangeBG),Ee.IsBool(t.CorssCursorInfo.IsFixXLastTime)&&(e.ChartCorssCursor.IsFixXLastTime=t.CorssCursorInfo.IsFixXLastTime),Ee.IsNumber(a.TextHeight)&&(e.ChartCorssCursor.TextHeight=a.TextHeight),a.RightButton&&Ee.IsBool(a.RightButton.Enable)&&(e.ChartCorssCursor.RightButton.Enable=a.RightButton.Enable),Ee.IsNumber(a.PriceFormatType)&&(e.ChartCorssCursor.StringFormatY.PriceFormatType=a.PriceFormatType),Ee.IsNumber(a.DataFormatType)&&(e.ChartCorssCursor.StringFormatY.DataFormatType=a.DataFormatType)}if(t.CorssCursor={},t.CorssCursor.TitleHeight=e.ChartCorssCursor.TextHeight,Ee.IsNumber(t.SplashTitlePosition)&&e.ChartSplashPaint&&(e.ChartSplashPaint.Position=t.SplashTitlePosition),t.Frame)for(var n=0;n<t.Frame.length;++n){var a=t.Frame[n];if(e.Frame.SubFrame[n]){var h=e.Frame.SubFrame[n].Frame;Ee.IsNumber(a.SplitCount)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.SplitCount=a.SplitCount),a.StringFormat&&(e.Frame.SubFrame[n].Frame.YSplitOperator.StringFormat=a.StringFormat),Ee.IsNumber(a.FloatPrecision)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.FloatPrecision=a.FloatPrecision),a.Custom&&(e.Frame.SubFrame[n].Frame.YSplitOperator.Custom=a.Custom),Ee.IsNumber(a.SplitType)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.SplitType=a.SplitType,e.Frame.SubFrame[n].Frame.YSplitOperator.DefaultSplitType=a.SplitType),isNaN(a.Height)||(e.Frame.SubFrame[n].Height=a.Height),!1!==a.IsShowLeftText&&!0!==a.IsShowLeftText||(e.Frame.SubFrame[n].Frame.IsShowYText[0]=a.IsShowLeftText,e.Frame.SubFrame[n].Frame.YSplitOperator.IsShowLeftText=a.IsShowLeftText),!1!==a.IsShowRightText&&!0!==a.IsShowRightText||(e.Frame.SubFrame[n].Frame.IsShowYText[1]=a.IsShowRightText,e.Frame.SubFrame[n].Frame.YSplitOperator.IsShowRightText=a.IsShowRightText),a.TopSpace>=0&&(e.Frame.SubFrame[n].Frame.ChartBorder.TopSpace=a.TopSpace),a.BottomSpace>=0&&(e.Frame.SubFrame[n].Frame.ChartBorder.BottomSpace=a.BottomSpace),a.RightTextPosition>0&&(e.Frame.SubFrame[n].Frame.YTextPosition[1]=a.RightTextPosition),a.LeftTextPosition>0&&(e.Frame.SubFrame[n].Frame.YTextPosition[0]=a.LeftTextPosition),0==a.IsShowXLine&&(e.Frame.SubFrame[n].Frame.IsShowXLine=a.IsShowXLine),0==a.IsShowYLine&&(e.Frame.SubFrame[n].Frame.IsShowYLine=a.IsShowYLine),Ee.IsNumber(a.YTextBaseline)&&(e.Frame.SubFrame[n].Frame.YTextBaseline=a.YTextBaseline),a.YCoordinateType>0&&(e.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=a.YCoordinateType),1==a.IsYReverse&&(e.Frame.SubFrame[0].Frame.CoordinateType=1),Ee.IsNumber(a.PercentageTextFormat)&&(h.YSplitOperator.PercentageTextFormat=a.PercentageTextFormat),a.DefaultYMaxMin&&(e.Frame.SubFrame[n].Frame.YSplitOperator.DefaultYMaxMin=a.DefaultYMaxMin),Ee.IsBool(a.EnableRemoveZero)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.EnableRemoveZero=a.EnableRemoveZero),Ee.IsPlusNumber(a.MinYDistance)&&(e.Frame.SubFrame[n].Frame.MinYDistance=a.MinYDistance),Ee.IsNumber(a.BorderLine)&&(e.Frame.SubFrame[n].Frame.BorderLine=a.BorderLine),Ee.IsBool(a.IsShowIndexTitle)&&(e.Frame.SubFrame[n].Frame.IsShowIndexTitle=a.IsShowIndexTitle),Ee.IsBool(a.IsDrawTitleBottomLine)&&(h.IsDrawTitleBottomLine=a.IsDrawTitleBottomLine),Ee.IsBool(a.IsShowNameArrow)&&(e.Frame.SubFrame[n].Frame.IsShowNameArrow=a.IsShowNameArrow)}}if(t.KLine&&(0==t.KLine.ShowKLine&&(e.ChartPaint[0].IsShow=!1),t.KLine.InfoPosition>0&&(e.ChartPaint[0].InfoPosition=t.KLine.InfoPosition),0==t.KLine.IsShowMaxMinPrice&&(e.ChartPaint[0].IsShowMaxMinPrice=t.KLine.IsShowMaxMinPrice)),t.KLineTitle){var a=t.KLineTitle;0==t.KLineTitle.IsShowName&&(e.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(e.TitlePaint[0].IsShowSettingInfo=!1),0==t.KLineTitle.IsShow&&(e.TitlePaint[0].IsShow=!1),Ee.IsBool(a.IsTitleShowLatestData)&&(e.IsTitleShowLatestData=a.IsTitleShowLatestData)}if(t.Overlay)for(var n=0;n<t.Overlay.length;++n){var a=t.Overlay[n];e.OverlaySymbol(a.Symbol,a)}if(t.ExtendChart)for(var n=0;n<t.ExtendChart.length;++n){var a=t.ExtendChart[n];e.CreateExtendChart(a.Name,a)}var u=new s;if(t.ColorIndex){var a=t.ColorIndex,c=u.Get(a.Index);c&&(c.ID=a.Index,e.ColorIndex=new Lr(c.Name,c.Script,c.Args,c))}if(t.TradeIndex){var a=t.TradeIndex,d=u.Get(a.Index);d&&(d.ID=a.Index,e.TradeIndex=new Lr(d.Name,d.Script,d.Args,d))}for(var n=0;n<t.Windows.length;++n){var a=t.Windows[n];if(a.Script)e.WindowIndex[n]=new Lr(a.Name,a.Script,a.Args,a);else if(a.JsonData)e.WindowIndex[n]=new Aa(a.Name,a.Script,a.Args,a);else if(a.Local&&a.Local.Data)e.WindowIndex[n]=new Or(a.Local.Name,a.Local.Args,{JsonData:a.Local.Data});else if(a.API){var f=a.API;e.WindowIndex[n]=new Ar(f.Name,f.Script,f.Args,a)}else{var p=ea.Get(a.Index);if(p)e.WindowIndex[n]=p.Create(a.Option),e.WindowIndex[n].SetArgs&&e.WindowIndex[n].SetArgs(a.Args),e.CreateWindowIndex(n);else{var m=u.Get(a.Index);if(!m)continue;a.Lock&&(m.Lock=a.Lock),m.ID=a.Index;var C=m.Args;a.Args&&(C=a.Args),a.IsShortTitle&&(m.IsShortTitle=a.IsShortTitle),a.TitleFont&&(m.TitleFont=a.TitleFont),Ee.IsBool(a.IsSync)&&(m.IsSync=a.IsSync),e.WindowIndex[n]=new Lr(m.Name,m.Script,C,m),a.StringFormat>0&&(e.WindowIndex[n].StringFormat=a.StringFormat),a.FloatPrecision>=0&&(e.WindowIndex[n].FloatPrecision=a.FloatPrecision)}}var v=e.Frame.SubFrame[n].Frame;Ee.IsBool(a.Modify)&&(v.ModifyIndex=a.Modify),Ee.IsBool(a.Change)&&(v.ChangeIndex=a.Change),Ee.IsBool(a.Close)&&(v.CloseIndex=a.Close),Ee.IsBool(a.Overlay)&&(v.OverlayIndex=a.Overlay),Ee.IsBool(a.Export)&&(v.ExportData=a.Export),Ee.IsBool(a.MaxMin)&&(e.Frame.SubFrame[n].Frame.MaxMinWindow=a.MaxMin),Ee.IsBool(a.TitleWindow)&&(e.Frame.SubFrame[n].Frame.TitleWindow=a.TitleWindow),1==a.IsDrawTitleBG&&(e.Frame.SubFrame[n].Frame.IsDrawTitleBG=a.IsDrawTitleBG),Ee.IsBool(a.IsShowNameArrow)&&(e.Frame.SubFrame[n].Frame.IsShowNameArrow=a.IsShowNameArrow),Ee.IsNumber(a.TitleHeight)?e.Frame.SubFrame[n].Frame.ChartBorder.TitleHeight=a.TitleHeight:a.TitleHeight=e.Frame.SubFrame[n].Frame.ChartBorder.TitleHeight,0==a.IsShowTitleArraw&&(e.Frame.SubFrame[n].Frame.IsShowTitleArraw=!1),0==a.IsShowIndexName&&(e.Frame.SubFrame[n].Frame.IsShowIndexName=!1),0==a.IsShowOverlayIndexName&&(e.Frame.SubFrame[n].Frame.IsShowOverlayIndexName=!1),Ee.IsNumber(a.IndexParamSpace)&&(e.Frame.SubFrame[n].Frame.IndexParamSpace=a.IndexParamSpace),Ee.IsNumber(a.IndexTitleSpace)&&(e.Frame.SubFrame[n].Frame.IndexTitleSpace=a.IndexTitleSpace),a.OverlayIndexType&&(Ee.IsNumber(a.OverlayIndexType.Position)&&(e.Frame.SubFrame[n].Frame.OverlayIndexType.Position=a.OverlayIndexType.Position),Ee.IsNumber(a.OverlayIndexType.LineSpace)&&(e.Frame.SubFrame[n].Frame.OverlayIndexType.LineSpace=a.OverlayIndexType.LineSpace))}if(t.OverlayIndexFrameWidth>40&&(e.OverlayIndexFrameWidth=t.OverlayIndexFrameWidth),Ee.IsNonEmptyArray(t.OverlayIndex))for(var n=0;n<t.OverlayIndex.length;++n){var a=t.OverlayIndex[n];if(!(a.Windows>=e.Frame.SubFrame.length)){var D=(0,wn.default)(a),g=JSON.parse(D);a.Index&&(g.IndexName=a.Index),a.Windows>=0&&(g.WindowIndex=a.Windows),e.CreateOverlayWindowsIndex(g)}}return this.AdjustTitleHeight(e),e},this.CreateCustomKLineChartContainer=function(t){var e=new ua(this.CanvasElement);if(e.ModifyIndexDialog=this.ModifyIndexDialog,e.ChangeIndexDialog=this.ChangeIndexDialog,e.MinuteDialog=this.MinuteDialog,1==t.IsShowRightMenu&&(e.RightMenu=new Za(this.DivElement)),t.KLine&&(t.KLine.DragMode>=0&&(e.DragMode=t.KLine.DragMode),t.KLine.Right>=0&&(e.Right=t.KLine.Right),t.KLine.Period>=0&&(e.Period=t.KLine.Period),t.KLine.MaxRequestDataCount>0&&(e.MaxRequestDataCount=t.KLine.MaxRequestDataCount),t.KLine.Info&&t.KLine.Info.length>0&&e.SetKLineInfo(t.KLine.Info,!1),0==t.KLine.KLineDoubleClick&&(e.MinuteDialog=this.MinuteDialog=null),t.KLine.PageSize>0&&(e.PageSize=t.KLine.PageSize),0==t.KLine.IsShowTooltip&&(e.IsShowTooltip=!1)),t.CustomStock&&(e.CustomStock=t.CustomStock),t.QueryDate&&(e.QueryDate=t.QueryDate),!t.Windows||t.Windows.length<=0)return null;if(e.Create(t.Windows.length),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),0==t.IsShowCorssCursorInfo&&(e.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),t.Frame)for(var i=0;i<t.Frame.length;++i){var a=t.Frame[i];a.SplitCount&&(e.Frame.SubFrame[i].Frame.YSplitOperator.SplitCount=a.SplitCount),a.StringFormat&&(e.Frame.SubFrame[i].Frame.YSplitOperator.StringFormat=a.StringFormat)}t.KLineTitle&&(0==t.KLineTitle.IsShowName&&(e.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(e.TitlePaint[0].IsShowSettingInfo=!1));for(var r=new s,i=0;i<t.Windows.length;++i){var a=t.Windows[i];if(a.Script)e.WindowIndex[i]=new Lr(a.Name,a.Script,a.Args,a);else{var n=ea.Get(a.Index);if(n)e.WindowIndex[i]=n.Create(),e.CreateWindowIndex(i);else{var o=r.Get(a.Index);if(!o)continue;a.Lock&&(o.Lock=a.Lock),e.WindowIndex[i]=new Lr(o.Name,o.Script,o.Args,o)}}null!=a.Modify&&(e.Frame.SubFrame[i].Frame.ModifyIndex=a.Modify),null!=a.Change&&(e.Frame.SubFrame[i].Frame.ChangeIndex=a.Change),isNaN(a.TitleHeight)||(e.Frame.SubFrame[i].Frame.ChartBorder.TitleHeight=a.TitleHeight)}return e},this.CreateMinuteChartContainer=function(t){var e=null;e="分钟走势图横屏"===t.Type?new pa(this.CanvasElement):new la(this.CanvasElement,this.OffscreenCanvasElement,this.CacheCanvasElement),t.EventCallback&&this.SetEventCallback(e,t.EventCallback),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),e.ModifyIndexDialog=this.ModifyIndexDialog,e.ChangeIndexDialog=this.ChangeIndexDialog;var i=2;if(t.Windows&&t.Windows.length>0&&(i+=t.Windows.length),1==t.EnableScrollUpDown&&(e.EnableScrollUpDown=t.EnableScrollUpDown),1==t.DisableMouse&&(e.DisableMouse=t.DisableMouse),t.ScriptError&&(e.ScriptErrorCallback=t.ScriptError),Ee.IsString(t.SplashTitle)&&(e.LoadDataSplashTitle=t.SplashTitle),Ee.IsBool(t.EnableSelectRect)&&(e.EnableSelectRect=t.EnableSelectRect),Ee.IsBool(t.EnableZoomIndexWindow)&&(e.EnableZoomIndexWindow=t.EnableZoomIndexWindow),Ee.IsBool(t.IsDrawPictureXY)&&(e.IsDrawPictureXY=t.IsDrawPictureXY),Ee.IsBool(t.EnableNewIndex)&&(e.EnableNewIndex=t.EnableNewIndex),Ee.IsBool(t.EnableIndexChartDrag)&&(e.EnableIndexChartDrag=t.EnableIndexChartDrag),Ee.IsBool(t.EnableVerifyRecvData)&&(e.EnableVerifyRecvData=t.EnableVerifyRecvData),t.GlobalOption){var a=t.GlobalOption;Ee.IsBool(a.IsValueFullRange)&&(e.GlobalOption.IsValueFullRange=a.IsValueFullRange),Ee.IsNumber(a.XDateFormat)&&(e.GlobalOption.XDateFormat=a.XDateFormat)}if(t.DisplayLatest){var a=t.DisplayLatest;Ee.IsBool(a.Enable)&&(e.DisplayLatestOption.Enable=a.Enable),Ee.IsNumber(a.DelayTime)&&(e.DisplayLatestOption.DelayTime=a.DelayTime)}if(t.DrawDynamicInfo){var a=t.DrawDynamicInfo;Ee.IsBool(a.Enable)&&(e.DrawDynamicInfoOption.Enable=a.Enable),Ee.IsNumber(a.DelayTime)&&(e.DrawDynamicInfoOption.DelayTime=a.DelayTime)}if(e.SelectRectDialog=new $a(this.DivElement),t.Minute&&(0==t.Minute.IsShowTooltip&&(e.IsShowTooltip=!1),t.Minute.DragMode>=0&&(e.DragMode=t.Minute.DragMode)),t.Language){var r=uo.GetLanguageID(t.Language);Ee.IsNumber(r)&&(e.LanguageID=r)}if(t.Info&&t.Info.length>0&&e.SetMinuteInfo(t.Info,!1),t.DrawTool&&t.DrawTool.StorageKey&&e.ChartDrawStorage&&e.ChartDrawStorage.Load(t.DrawTool.StorageKey),t.BeforeOpen){var a=t.BeforeOpen;Ee.IsBool(a.IsShow)&&(e.IsShowBeforeData=a.IsShow),Ee.IsNumber(a.Width)&&(e.ExtendWidth.Left=a.Width),Ee.IsBool(a.IsShowMultiDay)&&(e.IsShowMultiDayBeforeData=a.IsShowMultiDay),Ee.IsNumber(a.MulitiDayWidth)&&(e.MultiDayExtendWidth.Left=a.MulitiDayWidth)}if(t.AfterClose){var a=t.AfterClose;Ee.IsBool(a.IsShow)&&(e.IsShowAfterData=a.IsShow),Ee.IsNumber(a.ShareVol)&&(e.ShareAfterVol=a.ShareVol),Ee.IsNumber(a.Width)&&(e.ExtendWidth.Right=a.Width),Ee.IsBool(a.IsShowMultiDay)&&(e.IsShowMultiDayAfterData=a.IsShowMultiDay),Ee.IsNumber(a.MulitiDayWidth)&&(e.MultiDayExtendWidth.Right=a.MulitiDayWidth)}if(t.SelectedChart){var a=t.SelectedChart;Ee.IsBool(a.EnableSelected)&&(e.SelectedChart.EnableSelected=a.EnableSelected),Ee.IsBool(a.EnableMoveOn)&&(e.SelectedChart.EnableMoveOn=a.EnableMoveOn)}if(t.PageInfo&&e.SetPageInfo(t.PageInfo),e.Create(i,t),t.CorssCursorInfo){var a=t.CorssCursorInfo;isNaN(t.CorssCursorInfo.Left)||(e.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(e.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(e.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(e.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),t.CorssCursorInfo.RightTextFormat>0&&(e.ChartCorssCursor.TextFormat.Right=t.CorssCursorInfo.RightTextFormat),1==t.CorssCursorInfo.IsOnlyDrawMinute&&(e.ChartCorssCursor.IsOnlyDrawMinute=t.CorssCursorInfo.IsOnlyDrawMinute),Ee.IsBool(t.CorssCursorInfo.IsFixXLastTime)&&(e.ChartCorssCursor.IsFixXLastTime=t.CorssCursorInfo.IsFixXLastTime),a.RightButton&&Ee.IsBool(a.RightButton.Enable)&&(e.ChartCorssCursor.RightButton.Enable=a.RightButton.Enable),Ee.IsNumber(a.PriceFormatType)&&(e.ChartCorssCursor.StringFormatY.PriceFormatType=a.PriceFormatType),Ee.IsNumber(a.DataFormatType)&&(e.ChartCorssCursor.StringFormatY.DataFormatType=a.DataFormatType),Ee.IsNumber(a.HPenType)&&(e.ChartCorssCursor.HPenType=a.HPenType),Ee.IsNumber(a.VPenType)&&(e.ChartCorssCursor.VPenType=a.VPenType)}if(t.MinuteInfo&&e.CreateMinuteInfo(t.MinuteInfo),1==t.IsShowRightMenu&&(e.RightMenu=new tr(this.DivElement)),Ee.IsNumber(t.DayCount)&&(e.DayCount=t.DayCount),this.SetChartBorder(e,t),t.SplashTitle&&(e.ChartSplashPaint.SplashTitle=t.SplashTitle),Ee.IsBool(t.EnableBorderDrag)&&(e.EnableBorderDrag=t.EnableBorderDrag),this.AdjustChartBorder(e),t.Frame){for(var n=0;n<t.Frame.length;++n){var a=t.Frame[n];e.Frame.SubFrame[n]&&(Ee.IsNumber(a.SplitCount)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.SplitCount=a.SplitCount),a.StringFormat&&(e.Frame.SubFrame[n].Frame.YSplitOperator.StringFormat=a.StringFormat),Ee.IsNumber(a.SplitType)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.SplitType=a.SplitType,e.Frame.SubFrame[n].Frame.YSplitOperator.DefaultSplitType=a.SplitType),0==a.IsShowLeftText&&(e.Frame.SubFrame[n].Frame.IsShowYText[0]=a.IsShowLeftText,e.Frame.SubFrame[n].Frame.YSplitOperator.IsShowLeftText=a.IsShowLeftText),0==a.IsShowRightText&&(e.Frame.SubFrame[n].Frame.IsShowYText[1]=a.IsShowRightText,e.Frame.SubFrame[n].Frame.YSplitOperator.IsShowRightText=a.IsShowRightText),a.Height>=0&&(e.Frame.SubFrame[n].Height=a.Height),a.Custom&&(e.Frame.SubFrame[n].Frame.YSplitOperator.Custom=a.Custom),a.RightTextFormat>0&&(e.Frame.SubFrame[n].Frame.YSplitOperator.RightTextFormat=a.RightTextFormat),Ee.IsNumber(a.TitleHeight)&&(e.Frame.SubFrame[n].Frame.ChartBorder.TitleHeight=a.TitleHeight),Ee.IsNumber(a.BorderLine)&&(e.Frame.SubFrame[n].Frame.BorderLine=a.BorderLine),Ee.IsBool(a.EnableRemoveZero)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.EnableRemoveZero=a.EnableRemoveZero),Ee.IsNumber(a.FloatPrecision)&&(e.Frame.SubFrame[n].Frame.YSplitOperator.FloatPrecision=a.FloatPrecision),Ee.IsBool(a.IsShowXLine)&&(e.Frame.SubFrame[n].Frame.IsShowXLine=a.IsShowXLine),Ee.IsBool(a.IsShowYLine)&&(e.Frame.SubFrame[n].Frame.IsShowYLine=a.IsShowYLine),Ee.IsNumber(a.YTextBaseline)&&(e.Frame.SubFrame[n].Frame.YTextBaseline=a.YTextBaseline),a.TopSpace>=0&&(e.Frame.SubFrame[n].Frame.ChartBorder.TopSpace=a.TopSpace),a.BottomSpace>=0&&(e.Frame.SubFrame[n].Frame.ChartBorder.BottomSpace=a.BottomSpace))}e.UpdateXShowText()}if(t.ExtendChart)for(var n=0;n<t.ExtendChart.length;++n){var a=t.ExtendChart[n];e.CreateExtendChart(a.Name,a)}if(t.Overlay)for(var n=0;n<t.Overlay.length;++n){var a=t.Overlay[n];e.OverlaySymbol(a.Symbol,a)}if(t.MinuteLine){if(0==t.MinuteLine.IsDrawAreaPrice&&(e.ChartPaint[0].IsDrawArea=!1),0==t.MinuteLine.IsShowLead&&(e.IsShowLead=!1),0==t.MinuteLine.IsShowAveragePrice){e.ChartPaint[1].IsShow=!1,e.TitlePaint[0].IsShowAveragePrice=!1;for(var n=0;n<e.ExtendChartPaint.length;++n){var a=e.ExtendChartPaint[n];"MinuteTooltipPaint"==a.ClassName&&(a.IsShowAveragePrice=!1)}}t.MinuteLine.SplitType>0&&(e.Frame.SubFrame[0].Frame.YSplitOperator.SplitType=t.MinuteLine.SplitType)}if(t.MinuteVol){var a=t.MinuteVol;Ee.IsNumber(a.BarColorType)&&(e.ChartPaint[2].BarColorType=a.BarColorType)}if(t.MinuteTitle){var a=t.MinuteTitle;Ee.IsBool(a.IsShowName)&&(e.TitlePaint[0].IsShowName=a.IsShowName),Ee.IsBool(a.IsShowDate)&&(e.TitlePaint[0].IsShowDate=a.IsShowDate),Ee.IsBool(a.IsShowTime)&&(e.TitlePaint[0].IsShowTime=a.IsShowTime),Ee.IsBool(a.IsTitleShowLatestData)&&(e.IsTitleShowLatestData=a.IsTitleShowLatestData),Ee.IsBool(a.IsAlwaysShowLastData)&&(e.TitlePaint[0].IsAlwaysShowLastData=a.IsAlwaysShowLastData),Ee.IsNumber(a.ShowLastDataFormat)&&(e.TitlePaint[0].ShowLastDataFormat=a.ShowLastDataFormat),a.TimeFormat&&(e.TitlePaint[0].TimeFormat=a.TimeFormat)}if(!0===t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),!0===t.IsShowBeforeData&&(e.IsShowBeforeData=t.IsShowBeforeData),Ee.IsNonEmptyArray(t.Windows))for(var o=new s,n=0;n<t.Windows.length;++n){var l=2+n,a=t.Windows[n];if(a.Script)e.WindowIndex[l]=new Lr(a.Name,a.Script,a.Args,a);else if(a.API){var h=a.API;e.WindowIndex[l]=new Ar(h.Name,h.Script,h.Args,a)}else{var u=ea.Get(a.Index);if(u)e.WindowIndex[l]=u.Create(),e.CreateWindowIndex(l);else{var c=o.Get(a.Index);if(!c)continue;c.ID=a.Index;var d=c.Args;a.Args&&(d=a.Args),a.IsShortTitle&&(c.IsShortTitle=a.IsShortTitle),a.TitleFont&&(c.TitleFont=a.TitleFont),Ee.IsBool(a.IsSync)&&(c.IsSync=a.IsSync),e.WindowIndex[l]=new Lr(c.Name,c.Script,d,c),a.StringFormat>0&&(e.WindowIndex[l].StringFormat=a.StringFormat),a.FloatPrecision>=0&&(e.WindowIndex[l].FloatPrecision=a.FloatPrecision)}}var f=e.Frame.SubFrame[l].Frame;Ee.IsBool(a.Modify)&&(f.ModifyIndex=a.Modify),Ee.IsBool(a.Change)&&(f.ChangeIndex=a.Change),Ee.IsBool(a.Close)&&(f.CloseIndex=a.Close),Ee.IsBool(a.Overlay)&&(f.OverlayIndex=a.Overlay),Ee.IsBool(a.Export)&&(f.ExportData=a.Export),Ee.IsBool(a.MaxMin)&&(f.MaxMinWindow=a.MaxMin),Ee.IsBool(a.TitleWindow)&&(f.TitleWindow=a.TitleWindow),Ee.IsNumber(a.YSplitType)&&(e.Frame.SubFrame[l].Frame.YSplitOperator.SplitType=a.YSplitType),isNaN(a.TitleHeight)||(e.Frame.SubFrame[l].Frame.ChartBorder.TitleHeight=a.TitleHeight),Ee.IsBool(a.IsDrawTitleBG)&&(e.Frame.SubFrame[l].Frame.IsDrawTitleBG=a.IsDrawTitleBG),Ee.IsBool(a.IsShowNameArrow)&&(e.Frame.SubFrame[n].Frame.IsShowNameArrow=a.IsShowNameArrow),0==a.IsShowTitleArraw&&(e.Frame.SubFrame[l].Frame.IsShowTitleArraw=!1),0==a.IsShowIndexName&&(e.Frame.SubFrame[l].Frame.IsShowIndexName=!1),0==a.IsShowOverlayIndexName&&(e.Frame.SubFrame[l].Frame.IsShowOverlayIndexName=!1)}if(this.AdjustTitleHeight(e),Ee.IsNonEmptyArray(t.OverlayIndex))for(var n=0;n<t.OverlayIndex.length;++n){var a=t.OverlayIndex[n];if(!(a.Windows>=e.Frame.SubFrame.length)){var p=(0,wn.default)(a),m=JSON.parse(p);a.Index&&(m.IndexName=a.Index),a.Windows>=0&&(m.WindowIndex=a.Windows),e.CreateOverlayWindowsIndex(m)}}return e},this.CreateMinMinuteChartContainer=function(t){var e=null;e="迷你分钟走势图横屏"===t.Type?new pa(this.CanvasElement):new la(this.CanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter);if(t.BeforeOpen){var i=t.BeforeOpen;Ee.IsBool(i.IsShow)&&(e.IsShowBeforeData=i.IsShow),Ee.IsNumber(i.Width)&&(e.ExtendWidth.Left=i.Width),Ee.IsBool(i.IsShowMultiDay)&&(e.IsShowMultiDayBeforeData=i.IsShowMultiDay),Ee.IsNumber(i.MulitiDayWidth)&&(e.MultiDayExtendWidth.Left=i.MulitiDayWidth)}if(t.AfterClose){var i=t.AfterClose;Ee.IsBool(i.IsShow)&&(e.IsShowAfterData=i.IsShow),Ee.IsNumber(i.ShareVol)&&(e.ShareAfterVol=i.ShareVol),Ee.IsNumber(i.Width)&&(e.ExtendWidth.Right=i.Width),Ee.IsBool(i.IsShowMultiDay)&&(e.IsShowMultiDayAfterData=i.IsShowMultiDay),Ee.IsNumber(i.MulitiDayWidth)&&(e.MultiDayExtendWidth.Right=i.MulitiDayWidth)}if(t.Listener||(t.Listener={KeyDown:!1,Wheel:!1}),e.Create(2,t.Listener),t.CorssCursorInfo){var i=t.CorssCursorInfo;Ee.IsNumber(t.CorssCursorInfo.Left)&&(e.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),Ee.IsNumber(t.CorssCursorInfo.Right)&&(e.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),Ee.IsNumber(t.CorssCursorInfo.Bottom)&&(e.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(e.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),t.CorssCursorInfo.RightTextFormat>0&&(e.ChartCorssCursor.TextFormat.Right=t.CorssCursorInfo.RightTextFormat),1==t.CorssCursorInfo.IsOnlyDrawMinute&&(e.ChartCorssCursor.IsOnlyDrawMinute=t.CorssCursorInfo.IsOnlyDrawMinute),Ee.IsBool(t.CorssCursorInfo.IsFixXLastTime)&&(e.ChartCorssCursor.IsFixXLastTime=t.CorssCursorInfo.IsFixXLastTime),i.RightButton&&Ee.IsBool(i.RightButton.Enable)&&(e.ChartCorssCursor.RightButton.Enable=i.RightButton.Enable),Ee.IsNumber(i.PriceFormatType)&&(e.ChartCorssCursor.StringFormatY.PriceFormatType=i.PriceFormatType),Ee.IsNumber(i.DataFormatType)&&(e.ChartCorssCursor.StringFormatY.DataFormatType=i.DataFormatType),Ee.IsNumber(t.CorssCursorInfo.HPenType)&&(e.ChartCorssCursor.HPenType=t.CorssCursorInfo.HPenType),Ee.IsNumber(t.CorssCursorInfo.VPenType)&&(e.ChartCorssCursor.VPenType=t.CorssCursorInfo.VPenType)}Ee.IsNumber(t.DayCount)&&(e.DayCount=t.DayCount),this.SetChartBorder(e,t),t.SplashTitle&&(e.ChartSplashPaint.SplashTitle=t.SplashTitle),Ee.IsBool(t.EnableVerifyRecvData)&&(e.EnableVerifyRecvData=t.EnableVerifyRecvData),e.TitlePaint[0].IsShow=!1;var a=e.Frame.SubFrame[0];if(a.Frame.IsShowYText[0]=!1,a.Frame.IsShowYText[1]=!1,a.Frame.IsShowXLine=!1,a.Frame.IsShowYLine=!1,a.Frame.BorderLine=0,e.Frame.SubFrame[1].Height=0,e.EnableBorderDrag=!1,t.Frame)for(var r=0;r<t.Frame.length;++r){var i=t.Frame[r];e.Frame.SubFrame[r]&&(i.SplitCount&&(e.Frame.SubFrame[r].Frame.YSplitOperator.SplitCount=i.SplitCount),i.StringFormat&&(e.Frame.SubFrame[r].Frame.YSplitOperator.StringFormat=i.StringFormat),Ee.IsNumber(i.SplitType)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.SplitType=i.SplitType,e.Frame.SubFrame[r].Frame.YSplitOperator.DefaultSplitType=i.SplitType),Ee.IsBool(i.IsShowLeftText)&&(e.Frame.SubFrame[r].Frame.IsShowYText[0]=i.IsShowLeftText,e.Frame.SubFrame[r].Frame.YSplitOperator.IsShowLeftText=i.IsShowLeftText),Ee.IsBool(i.IsShowRightText)&&(e.Frame.SubFrame[r].Frame.IsShowYText[1]=i.IsShowRightText,e.Frame.SubFrame[r].Frame.YSplitOperator.IsShowRightText=i.IsShowRightText),i.Height>=0&&(e.Frame.SubFrame[r].Height=i.Height),i.Custom&&(e.Frame.SubFrame[r].Frame.YSplitOperator.Custom=i.Custom),i.RightTextFormat>0&&(e.Frame.SubFrame[r].Frame.YSplitOperator.RightTextFormat=i.RightTextFormat),Ee.IsNumber(i.TitleHeight)&&(e.Frame.SubFrame[r].Frame.ChartBorder.TitleHeight=i.TitleHeight),Ee.IsNumber(i.BorderLine)&&(e.Frame.SubFrame[r].Frame.BorderLine=i.BorderLine),Ee.IsBool(i.EnableRemoveZero)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.EnableRemoveZero=i.EnableRemoveZero),Ee.IsNumber(i.FloatPrecision)&&(e.Frame.SubFrame[r].Frame.YSplitOperator.FloatPrecision=i.FloatPrecision),Ee.IsBool(i.IsShowXLine)&&(e.Frame.SubFrame[r].Frame.IsShowXLine=i.IsShowXLine),Ee.IsBool(i.IsShowYLine)&&(e.Frame.SubFrame[r].Frame.IsShowYLine=i.IsShowYLine),Ee.IsNumber(i.YTextBaseline)&&(e.Frame.SubFrame[r].Frame.YTextBaseline=i.YTextBaseline))}if(e.UpdateXShowText(),t.MinuteLine){if(0==t.MinuteLine.IsDrawAreaPrice&&(e.ChartPaint[0].IsDrawArea=!1),0==t.MinuteLine.IsShowLead&&(e.IsShowLead=!1),0==t.MinuteLine.IsShowAveragePrice){e.ChartPaint[1].IsShow=!1,e.TitlePaint[0].IsShowAveragePrice=!1;for(var r=0;r<e.ExtendChartPaint.length;++r){var i=e.ExtendChartPaint[r];"MinuteTooltipPaint"==i.ClassName&&(i.IsShowAveragePrice=!1)}}t.MinuteLine.SplitType>0&&(e.Frame.SubFrame[0].Frame.YSplitOperator.SplitType=t.MinuteLine.SplitType)}return this.AdjustTitleHeight(e),!0===t.DisableMouseEvent&&(this.CanvasElement.onmousemove=function(t){},this.CanvasElement.oncontextmenu=function(t){},this.CanvasElement.ondblclick=function(t){},this.CanvasElement.onmousedown=function(t){},this.CanvasElement.onmouseout=function(t){},this.CanvasElement.onmouseleave=function(t){}),e},this.CreateHistoryMinuteChartContainer=function(t){var e=new ha(this.CanvasElement),i=2;t.Windows&&t.Windows.length>0&&(i+=t.Windows.length),e.Create(i),0==t.IsShowCorssCursorInfo&&(e.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top),isNaN(t.Border.Bottom)||(e.Frame.ChartBorder.Bottom=t.Border.Bottom));var a=new s;if(t.Windows)for(var r=0;r<t.Windows.length;++r){var n=t.Windows[r];if(n.Script)e.WindowIndex[2+parseInt(r)]=new Lr(n.Name,n.Script,n.Args);else{var o=ea.Get(n.Index);if(o)e.WindowIndex[2+parseInt(r)]=o.Create(),e.CreateWindowIndex(2+parseInt(r));else{var l=a.Get(n.Index);if(!l)continue;e.WindowIndex[2+parseInt(r)]=new Lr(l.Name,l.Script,l.Args)}}isNaN(n.TitleHeight)||(e.Frame.SubFrame[2+parseInt(r)].Frame.ChartBorder.TitleHeight=n.TitleHeight)}return e.TradeDate=20181009,t.HistoryMinute.TradeDate&&(e.TradeDate=t.HistoryMinute.TradeDate),null!=t.HistoryMinute.IsShowName&&(e.TitlePaint[0].IsShowName=t.HistoryMinute.IsShowName),null!=t.HistoryMinute.IsShowDate&&(e.TitlePaint[0].IsShowDate=t.HistoryMinute.IsShowDate),e},this.CreateKLineTrainChartContainer=function(t){var e=!1;if("简单K线训练"==t.Type||"简单K线训练横屏"==t.Type){var i="简单K线训练横屏"==t.Type,a=new da(this.CanvasElement,i);e=!0}else var i="K线训练横屏"==t.Type,a=new ca(this.CanvasElement,i);if(t.NetworkFilter&&(a.NetworkFilter=t.NetworkFilter),1==t.IsApiPeriod&&(a.IsApiPeriod=t.IsApiPeriod),a.ModifyIndexDialog=this.ModifyIndexDialog,a.ChangeIndexDialog=this.ChangeIndexDialog,t.ScriptError&&(a.ScriptErrorCallback=t.ScriptError),t.KLine&&(t.KLine.Right>=0&&(a.Right=t.KLine.Right),t.KLine.Period>=0&&(a.Period=t.KLine.Period),t.KLine.MaxRequestDataCount>0&&(a.MaxRequestDataCount=t.KLine.MaxRequestDataCount),t.KLine.Info&&t.KLine.Info.length>0&&a.SetKLineInfo(t.KLine.Info,!1),t.KLine.PageSize>0&&(a.PageSize=t.KLine.PageSize),0==t.KLine.IsShowTooltip&&(a.IsShowTooltip=!1),t.KLine.MaxRequestMinuteDayCount>0&&(a.MaxRequestMinuteDayCount=t.KLine.MaxRequestMinuteDayCount),t.KLine.DrawType&&(a.KLineDrawType=t.KLine.DrawType),Ee.IsNumber(t.KLine.RightSpaceCount)&&!e&&(a.RightSpaceCount=t.KLine.RightSpaceCount)),t.Train&&(t.Train.DataCount&&(a.TrainDataCount=t.Train.DataCount),t.Train.Callback&&(a.TrainCallback=t.Train.Callback),t.Train.StartDate&&(a.TrainStartDate=t.Train.StartDate)),!t.Windows||t.Windows.length<=0)return null;if(a.Create(t.Windows.length),this.SetChartBorder(a,t),this.AdjustChartBorder(a),0==t.IsShowCorssCursorInfo&&(a.ChartCorssCursor.IsShowText=t.IsShowCorssCursorInfo),!0===t.IsCorssOnlyDrawKLine&&(a.ChartCorssCursor.IsOnlyDrawKLine=t.IsCorssOnlyDrawKLine),!0===t.CorssCursorTouchEnd&&(a.CorssCursorTouchEnd=t.CorssCursorTouchEnd),1==t.IsClickShowCorssCursor&&(a.IsClickShowCorssCursor=t.IsClickShowCorssCursor),t.CorssCursorInfo&&(isNaN(t.CorssCursorInfo.Left)||(a.ChartCorssCursor.ShowTextMode.Left=t.CorssCursorInfo.Left),isNaN(t.CorssCursorInfo.Right)||(a.ChartCorssCursor.ShowTextMode.Right=t.CorssCursorInfo.Right),isNaN(t.CorssCursorInfo.Bottom)||(a.ChartCorssCursor.ShowTextMode.Bottom=t.CorssCursorInfo.Bottom),!1===t.CorssCursorInfo.IsShowCorss&&(a.ChartCorssCursor.IsShowCorss=t.CorssCursorInfo.IsShowCorss),1==t.CorssCursorInfo.IsShowClose&&(a.ChartCorssCursor.IsShowClose=t.CorssCursorInfo.IsShowClose),t.CorssCursorInfo.PressTime&&(a.PressTime=t.CorssCursorInfo.PressTime),t.CorssCursorInfo.HPenType>0&&(a.ChartCorssCursor.HPenType=t.CorssCursorInfo.HPenType),t.CorssCursorInfo.VPenType>0&&(a.ChartCorssCursor.VPenType=t.CorssCursorInfo.VPenType)),t.CorssCursor={},t.CorssCursor.TitleHeight=a.ChartCorssCursor.TextHeight,t.Frame)for(var r=0;r<t.Frame.length;++r){var n=t.Frame[r];a.Frame.SubFrame[r]&&(n.SplitCount&&(a.Frame.SubFrame[r].Frame.YSplitOperator.SplitCount=n.SplitCount),n.StringFormat&&(a.Frame.SubFrame[r].Frame.YSplitOperator.StringFormat=n.StringFormat),Ee.IsNumber(n.FloatPrecision)&&(a.Frame.SubFrame[r].Frame.YSplitOperator.FloatPrecision=n.FloatPrecision),n.Custom&&(a.Frame.SubFrame[r].Frame.YSplitOperator.Custom=n.Custom),Ee.IsNumber(n.SplitType)&&(a.Frame.SubFrame[r].Frame.YSplitOperator.SplitType=n.SplitType),n.Height>0&&(a.Frame.SubFrame[r].Height=n.Height),0==n.IsShowLeftText&&(a.Frame.SubFrame[r].Frame.YSplitOperator.IsShowLeftText=n.IsShowLeftText),0==n.IsShowRightText&&(a.Frame.SubFrame[r].Frame.YSplitOperator.IsShowRightText=n.IsShowRightText))}if(t.KLine&&(0==t.KLine.ShowKLine&&(a.ChartPaint[0].IsShow=!1),t.KLine.InfoPosition>0&&(a.ChartPaint[0].InfoPosition=t.KLine.InfoPosition),0==t.KLine.IsShowMaxMinPrice&&(a.ChartPaint[0].IsShowMaxMinPrice=t.KLine.IsShowMaxMinPrice)),t.KLineTitle&&(0==t.KLineTitle.IsShowName&&(a.TitlePaint[0].IsShowName=!1),0==t.KLineTitle.IsShowSettingInfo&&(a.TitlePaint[0].IsShowSettingInfo=!1),0==t.KLineTitle.IsShow&&(a.TitlePaint[0].IsShow=!1)),Ee.IsNonEmptyArray(t.Overlay))for(var r=0;r<t.Overlay.length;++r){var n=t.Overlay[r];a.OverlaySymbol(n.Symbol,n)}if(t.ExtendChart)for(var r=0;r<t.ExtendChart.length;++r){var n=t.ExtendChart[r];a.CreateExtendChart(n.Name,n)}if(Ee.IsNonEmptyArray(t.Windows))for(var o=new s,r=0;r<t.Windows.length;++r){var n=t.Windows[r];if(n.Script)a.WindowIndex[r]=new Lr(n.Name,n.Script,n.Args,n);else{var l=ea.Get(n.Index);if(l)a.WindowIndex[r]=l.Create(),a.CreateWindowIndex(r);else{var h=o.Get(n.Index);if(!h)continue;n.Lock&&(h.Lock=n.Lock),a.WindowIndex[r]=new Lr(h.Name,h.Script,h.Args,h)}}null!=n.Modify&&(a.Frame.SubFrame[r].Frame.ModifyIndex=n.Modify),null!=n.Change&&(a.Frame.SubFrame[r].Frame.ChangeIndex=n.Change),null!=n.Close&&(a.Frame.SubFrame[r].Frame.CloseIndex=n.Close),null!=n.Overlay&&(frame.OverlayIndex=n.Overlay),Ee.IsBool(n.Export)&&(frame.ExportData=n.Export),Ee.IsBool(n.MaxMin)&&(a.Frame.SubFrame[r].Frame.MaxMinWindow=n.MaxMin),Ee.IsBool(n.TitleWindow)&&(a.Frame.SubFrame[r].Frame.TitleWindow=n.TitleWindow),Ee.IsBool(n.IsDrawTitleBG)&&(a.Frame.SubFrame[r].Frame.IsDrawTitleBG=n.IsDrawTitleBG),Ee.IsBool(n.IsShowNameArrow)&&(a.Frame.SubFrame[r].Frame.IsShowNameArrow=n.IsShowNameArrow),Ee.IsNumber(n.TitleHeight)&&(a.Frame.SubFrame[r].Frame.ChartBorder.TitleHeight=n.TitleHeight),0==n.IsShowTitleArraw&&(a.Frame.SubFrame[r].Frame.IsShowTitleArraw=!1),0==n.IsShowIndexName&&(a.Frame.SubFrame[r].Frame.IsShowIndexName=!1),0==n.IsShowOverlayIndexName&&(a.Frame.SubFrame[r].Frame.IsShowOverlayIndexName=!1),Ee.IsNumber(n.IndexParamSpace)&&(a.Frame.SubFrame[r].Frame.IndexParamSpace=n.IndexParamSpace),Ee.IsNumber(n.IndexTitleSpace)&&(a.Frame.SubFrame[r].Frame.IndexTitleSpace=n.IndexTitleSpace)}return this.AdjustTitleHeight(a),a},this.CreateDepthChartContainer=function(t){var e=null;if(e=new ma(this.CanvasElement),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),1==t.EnableScrollUpDown&&(e.EnableScrollUpDown=t.EnableScrollUpDown),Ee.IsPlusNumber(t.MaxVolRate)&&(e.MaxVolRate=t.MaxVolRate),t.ZoomStepPixel>0&&(e.ZoomStepPixel=t.ZoomStepPixel),Ee.IsString(t.SplashTitle)&&(e.LoadDataSplashTitle=t.SplashTitle),Ee.IsBool(t.EnableVerifyRecvData)&&(e.EnableVerifyRecvData=t.EnableVerifyRecvData),t.Language){var i=uo.GetLanguageID(t.Language);Ee.IsNumber(i)&&(e.LanguageID=i)}if(e.Create(t.Listener),t.Border&&(Ee.IsNumber(t.Border.Left)?e.Frame.ChartBorder.Left=t.Border.Left:t.Border.Left=e.Frame.ChartBorder.Left,Ee.IsNumber(t.Border.Right)?e.Frame.ChartBorder.Right=t.Border.Right:t.Border.Right=e.Frame.ChartBorder.Right,Ee.IsNumber(t.Border.Top)?e.Frame.ChartBorder.Top=t.Border.Top:t.Border.Top=e.Frame.ChartBorder.Top,Ee.IsNumber(t.Border.Bottom)?e.Frame.ChartBorder.Bottom=t.Border.Bottom:t.Border.Bottom=e.Frame.ChartBorder.Bottom),this.AdjustChartBorder(e),!0===t.CorssCursorTouchEnd&&(e.CorssCursorTouchEnd=t.CorssCursorTouchEnd),t.CorssCursorInfo){var a=t.CorssCursorInfo;Ee.IsNumber(a.HPenType)&&(e.ChartCorssCursor.HPenType=a.HPenType),Ee.IsNumber(a.VPenType)&&(e.ChartCorssCursor.VPenType=a.VPenType),Ee.IsBool(a.IsShowTooltip)&&(e.ChartCorssCursor.IsShowTooltip=a.IsShowTooltip)}if(t.Frame){var a=t.Frame;a.SplitCount&&(e.Frame.YSplitOperator.SplitCount=a.SplitCount),Ee.IsNumber(a.SplitType)&&(e.Frame.YSplitOperator.SplitType=a.SplitType),Ee.IsNumber(a.Height)&&(e.Frame.Height=a.Height),Ee.IsNumber(a.YLineType)&&(e.Frame.YSplitOperator.LineType=a.YLineType),Ee.IsNumber(a.XLineType)&&(e.Frame.XSplitOperator.LineType=a.XLineType),Array.isArray(a.IgnoreYValue)&&(e.Frame.YSplitOperator.IgnoreYValue=a.IgnoreYValue),!1!==a.IsShowLeftText&&!0!==a.IsShowLeftText||(e.Frame.IsShowYText[0]=a.IsShowLeftText,e.Frame.YSplitOperator.IsShowLeftText=a.IsShowLeftText),!1!==a.IsShowRightText&&!0!==a.IsShowRightText||(e.Frame.IsShowYText[1]=a.IsShowRightText,e.Frame.YSplitOperator.IsShowRightText=a.IsShowRightText),0==a.IsShowXLine&&(e.Frame.IsShowXLine=a.IsShowXLine),0==a.IsShowYLine&&(e.Frame.IsShowYLine=a.IsShowYLine),Ee.IsNumber(a.XSplitCount)&&(e.Frame.XSplitOperator.SplitCount=a.XSplitCount)}return e},this.SetOption=function(t){Ee.IsNumber(t.ToolbarButtonStyle)&&(lo.ToolbarButtonStyle=t.ToolbarButtonStyle);var e=null;switch(t.Type){case"历史K线图":case"历史K线图横屏":e=this.CreateKLineChartContainer(t);break;case"自定义指数历史K线图":e=this.CreateCustomKLineChartContainer(t);break;case"分钟走势图":case"分钟走势图横屏":e=this.CreateMinuteChartContainer(t);break;case"迷你分钟走势图":e=this.CreateMinMinuteChartContainer(t);break;case"历史分钟走势图":e=this.CreateHistoryMinuteChartContainer(t);break;case"K线训练":case"K线训练横屏":case"简单K线训练":case"简单K线训练横屏":e=this.CreateKLineTrainChartContainer(t);break;case"深度图":e=this.CreateDepthChartContainer(t);break;case"简单图形":return this.CreateSimpleChart(t);case"饼图":case"雷达图":return this.CreatePieChart(t);case"地图":return this.CreateMapChart(t);default:return!1}if(!e)return!1;if(t.OnCreatedCallback&&t.OnCreatedCallback(e),null!=t.IsAutoUpdate&&(e.IsAutoUpdate=t.IsAutoUpdate),t.AutoUpdateFrequency>0&&(e.AutoUpdateFrequency=t.AutoUpdateFrequency),t.EventCallback)for(var i=0;i<t.EventCallback.length;++i){var a=t.EventCallback[i];e.AddEventCallback(a)}t.Symbol?(e.Draw(),e.ChangeSymbol(t.Symbol),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()):(e.DrawEmpty(),this.JSChartContainer=e,this.DivElement.JSChart=this),Ee.IsBool(t.CheckLatestVerion)&&0==t.CheckLatestVerion||null==l.LastVersion&&e&&e.GetLatestVersion},this.CreateSimpleChart=function(t){var e=new Ca(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()},this.CreatePieChart=function(t){var e=new va(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),t.Radius&&(e.Radius=t.Radius),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),this.AdjustChartBorder(e),t.Frame&&0==t.Frame[0].IsShowBorder&&(e.Frame.IsShowBorder=t.Frame[0].IsShowBorder),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()},this.CreateMapChart=function(t){var e=new Da(this.CanvasElement);t.MainDataControl&&(e.MainDataControl=t.MainDataControl),e.Create(),t.Border&&(isNaN(t.Border.Left)||(e.Frame.ChartBorder.Left=t.Border.Left),isNaN(t.Border.Right)||(e.Frame.ChartBorder.Right=t.Border.Right),isNaN(t.Border.Top)||(e.Frame.ChartBorder.Top=t.Border.Top)),e.Draw(),e.RequestData(),this.JSChartContainer=e,this.DivElement.JSChart=this,this.JSChartContainer.Draw()},this.CreateToolbar=function(t){},this.CreateSettingDiv=function(t){},this.Focus=function(){this.CanvasElement&&this.CanvasElement.focus()},this.ChangeSymbol=function(t,e){this.JSChartContainer&&this.JSChartContainer.ChangeSymbol(t,e)},this.ChangeIndex=function(t,e,i){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndex&&this.JSChartContainer.ChangeIndex(t,e,i)},this.AddIndexWindow=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddIndexWindow&&this.JSChartContainer.AddIndexWindow(t,e)},this.AddScriptIndexWindow=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddScriptIndexWindow&&this.JSChartContainer.AddScriptIndexWindow(t,e)},this.AddAPIIndexWindow=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddAPIIndexWindow&&this.JSChartContainer.AddAPIIndexWindow(t,e)},this.RemoveIndexWindow=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.RemoveIndexWindow&&this.JSChartContainer.RemoveIndexWindow(t)},this.ChangeScriptIndex=function(t,e,i){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeScriptIndex&&this.JSChartContainer.ChangeScriptIndex(t,e,i)},this.ChangePyScriptIndex=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangePyScriptIndex&&this.JSChartContainer.ChangePyScriptIndex(t,e)},this.GetIndexInfo=function(){return this.JSChartContainer&&"function"==typeof this.JSChartContainer.GetIndexInfo?this.JSChartContainer.GetIndexInfo():[]},this.ChangeInstructionIndex=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeInstructionIndex&&this.JSChartContainer.ChangeInstructionIndex(t,e)},this.ChangeInstructionScriptIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeInstructionIndex&&this.JSChartContainer.ChangeInstructionScriptIndex(t)},this.CancelInstructionIndex=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.CancelInstructionIndex&&this.JSChartContainer.CancelInstructionIndex()},this.ChangePeriod=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangePeriod&&this.JSChartContainer.ChangePeriod(t,e)},this.ChangeRight=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeRight&&this.JSChartContainer.ChangeRight(t)},this.OverlaySymbol=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.OverlaySymbol&&this.JSChartContainer.OverlaySymbol(t,e)},this.DeleteOverlaySymbol=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.DeleteOverlaySymbol&&this.JSChartContainer.DeleteOverlaySymbol(t)},this.SetFirstShowDate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetFirstShowDate&&this.JSChartContainer.SetFirstShowDate(t)},this.ChangeKLineDrawType=function(t,e,i){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeKLineDrawType&&this.JSChartContainer.ChangeKLineDrawType(t,e,i)},this.ChangeIndexWindowCount=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndexWindowCount&&this.JSChartContainer.ChangeIndexWindowCount(t,e)},this.ClearOverlaySymbol=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ClearOverlaySymbol&&this.JSChartContainer.ClearOverlaySymbol()},this.DeleteKLineInfo=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.DeleteKLineInfo&&this.JSChartContainer.DeleteKLineInfo(t)},this.ClearKLineInfo=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ClearKLineInfo&&this.JSChartContainer.ClearKLineInfo()},this.AddKLineInfo=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddKLineInfo&&this.JSChartContainer.AddKLineInfo(t,e)},this.ChangMainDataControl=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetMainDataConotrl&&this.JSChartContainer.SetMainDataConotrl(t)},this.AddOverlayIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddOverlayIndex&&this.JSChartContainer.AddOverlayIndex(t)},this.MoveOverlayIndex=function(t,e,i){this.JSChartContainer&&"function"==typeof this.JSChartContainer.MoveOverlayIndex&&this.JSChartContainer.MoveOverlayIndex(t,e,i)},this.MoveOverlayIndexToNewWindow=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.MoveOverlayIndexToNewWindow&&this.JSChartContainer.MoveOverlayIndexToNewWindow(t,e)},this.DeleteOverlayWindowsIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.DeleteOverlayWindowsIndex&&this.JSChartContainer.DeleteOverlayWindowsIndex(t)},this.StopAutoUpdate=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.StopAutoUpdate&&this.JSChartContainer.StopAutoUpdate()},this.ChartDestroy=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChartDestroy&&this.JSChartContainer.ChartDestroy()},this.ChartDestory=this.ChartDestroy,this.SetDepthMapData=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetDepthMapData&&this.JSChartContainer.SetDepthMapData(t,e)},this.ForceLandscape=function(t){this.JSChartContainer&&(Nn.Chart.Log("[JSChart::ForceLandscape] bForceLandscape="+t),this.JSChartContainer.IsForceLandscape=t)},this.LockIndex=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.LockIndex&&(Nn.Chart.Log("[JSChart:LockIndex] lockData",t),this.JSChartContainer.LockIndex(t))},this.ChangeTradeDate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeTradeDate&&(Nn.Chart.Log("[JSChart:ChangeTradeDate] date",t),this.JSChartContainer.ChangeTradeDate(t))},this.ChangeDayCount=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeDayCount&&(Nn.Chart.Log("[JSChart:ChangeDayCount] count",t),this.JSChartContainer.ChangeDayCount(t,e))},this.ShowCallAuctionData=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ShowCallAuctionData&&(Nn.Chart.Log("[JSChart:ShowCallAuctionData] obj, option ",t,e),this.JSChartContainer.ShowCallAuctionData(t,e))},this.StartAnimation=function(t){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.StartAnimation)return Nn.Chart.Log("[JSChart:StartAnimation] start."),this.JSChartContainer.StartAnimation(t)},this.StopAnimation=function(){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.StopAnimation)return Nn.Chart.Log("[JSChart:StopAnimation] start."),this.JSChartContainer.StopAnimation()},this.SaveToImage=function(t,e){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.SaveToImage)return this.JSChartContainer.SaveToImage(t,e)},this.SaveToImageUrl=function(t,e){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.SaveToImageUrl)return this.JSChartContainer.SaveToImageUrl(t,e)},this.AddEventCallback=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddEventCallback&&(Nn.Chart.Log("[JSChart:AddEventCallback] ",t),this.JSChartContainer.AddEventCallback(t))},this.SetLanguage=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetLanguage&&(Nn.Chart.Log("[JSChart:SetLanguage] ",t),this.JSChartContainer.SetLanguage(t))},this.ChangeIndexTemplate=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChangeIndexTemplate&&(Nn.Chart.Log("[JSChart:ChangeIndexTemplate] ",t),this.JSChartContainer.ChangeIndexTemplate(t))},this.SetChartDrawOption=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetChartDrawOption&&(Nn.Chart.Log("[JSChart:SetChartDrawOption] ",t),this.JSChartContainer.SetChartDrawOption(t))},this.CreateChartDrawPicture=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.CreateChartDrawPicture&&(Nn.Chart.Log("[JSChart:CreateChartDrawPicture] ",t),this.JSChartContainer.CreateChartDrawPicture(t,e))},this.AddChartDrawPicture=function(t){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddChartDrawPicture)return Nn.Chart.Log("[JSChart:AddChartDrawPicture] ",t),this.JSChartContainer.AddChartDrawPicture(t)},this.ClearChartDrawPicture=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ClearChartDrawPicture&&this.JSChartContainer.ClearChartDrawPicture(t,e)},this.PasteChartDrawPicture=function(t,e,i){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.PasteChartDrawPicture)return Nn.Chart.Log("[JSChart:PasteChartDrawPicture] ",t,e,i),this.JSChartContainer.PasteChartDrawPicture(t,e,i)},this.ReloadResource=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ReloadResource&&(Nn.Chart.Log("[JSChart:ReloadResource] "),this.JSChartContainer.ReloadResource(t))},this.EnableSplashScreen=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.EnableSplashScreen&&(Nn.Chart.Log("[JSChart:EnableSplashScreen] "),this.JSChartContainer.EnableSplashScreen(t))},this.Draw=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.Draw&&(Nn.Chart.Log("[JSChart:Draw] "),this.JSChartContainer.Draw())},this.SetFocus=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.SetFocus&&(Nn.Chart.Log("[JSChart:SetFocus] "),this.JSChartContainer.SetFocus())},this.ExportData=function(t){if(this.JSChartContainer&&"function"==typeof this.JSChartContainer.ExportData)return Nn.Chart.Log("[JSChart:ExportData] "),this.JSChartContainer.ExportData(t)}}function h(){this.Start=[],this.Clear=function(){this.Start=[]},this.AddTouchStart=function(t,e,i){if(this.Start.length>0){var a=this.Start[this.Start.length-1],r=i-a.Time;r>0&&r<300?this.Start.push({X:t,Y:e,Time:i}):this.Start=[]}else this.Start.push({X:t,Y:e,Time:i})},this.IsVaildDBClick=function(){return 2==this.Start.length},this.AddTouchEnd=function(t){if(!(this.Start.length<=0)){var e=this.Start[this.Start.length-1],i=t-e.Time;i>=0&&i<150||(this.Start=[])}}}function u(t,e,i){var a=this;this.ClassName="JSChartContainer";if(this.Frame,this.ChartPaint=new Array,this.ChartPaintEx=[],this.ChartInfo=new Array,this.ChartInfoPaint,this.ExtendChartPaint=new Array,this.TitlePaint=new Array,this.OverlayChartPaint=new Array,this.ChartDrawPicture=new Array,this.ChartDrawStorage,this.ChartDrawOption={IsLockScreen:!1,Zoom:1,Magnet:null},this.CurrentChartDrawPicture=null,this.SelectChartDrawPicture=null,this.MoveOnChartDrawPicture=null,this.IsDrawPictureXY=!1,this.EnableShowCorssCursor={DrawPicture:!0},this.ChartPictureMenu,this.ChartCorssCursor,this.IsClickShowCorssCursor=!1,this.ChartSplashPaint=null,this.LoadDataSplashTitle="数据加载中",this.CacheCanvas=null,this.CacheElement=null,i&&(this.CacheElement=i,this.CacheCanvas=i.getContext("2d")),e)this.Canvas=e.getContext("2d"),this.OffscreenCanvasElement=e,this.ShowCanvas=t.getContext("2d");else{if(!0===l.EnableCanvasWillReadFrequently){var r={willReadFrequently:!0};this.Canvas=t.getContext("2d",r)}else this.Canvas=t.getContext("2d");this.ShowCanvas=null}this.CorssCursorElement,this.CorssCursorCanvas,this.UIElement=t,this.MouseDrag,this.PhoneTouchInfo,this.DragMode=1,this.EnableBorderDrag=!0,this.BorderDrag,this.YDrag,this.TouchStatus={CorssCursorShow:!1},this.DragTimer,this.EnableScrollUpDown=!1,this.ClickChartTimer=null,this.CursorIndex=0,this.LastPoint=new b,this.IsForceLandscape=!1,this.CorssCursorTouchEnd=!1,this.IsTitleShowLatestData=!1,this.StepPixel=4,this.ZoomStepPixel=5,this.TouchMoveMinAngle=70,this.EnableAnimation=!1,this.Tooltip=document.createElement("div"),this.Tooltip.className="jschart-tooltip",this.Tooltip.style.background=lo.TooltipBGColor,this.Tooltip.style.opacity=lo.TooltipAlpha,this.Tooltip.style["pointer-events"]="none",this.Tooltip.id=m(),t.parentNode.appendChild(this.Tooltip),this.IsShowTooltip=!0,this.SelectRect=document.createElement("div"),this.SelectRect.className="jschart-selectrect",this.SelectRect.style.background=lo.SelectRectBGColor,this.SelectRect.style["pointer-events"]="none",this.SelectRect.id=m(),this.SelectRect.oncontextmenu=function(){return!1},t.parentNode.appendChild(this.SelectRect),this.SelectRectRightMenu,this.FrameSplitData=new Mn.default,this.FrameSplitData.set("double",new qi),this.FrameSplitData.set("price",new Zi),this.mapEvent=new Mn.default,this.IsOnTouch=!1,this.TouchDrawCount=0,this.DisableMouse=!1,this.LanguageID=ho.LANGUAGE_CHINESE_ID,this.PressTime=500,this.NetworkFilter,this.LastMouseStatus={MouseOnToolbar:null},this.ClickDownPoint,this.IsDestroy=!1,this.EnableYDrag={Left:!1,Right:!1},this.EnableZoomIndexWindow=!1,this.EnableVerifyRecvData=!1,this.PhoneDBClick=new h,this.SelectedChart={EnableSelected:!1,EnableMoveOn:!1,Selected:{Identify:null},MoveOn:{Identify:null}},this.IndexChartDrag,this.EnableIndexChartDrag=!1,this.GlobalOption={IsValueFullRange:!1,IsDisplayLatest:!1},this.VerticalDrag,this.EnableVerticalDrag=!1,this.ClickModel={IsShowCorssCursor:!1},this.EnableClickModel=!1,this.DisplayLatestOption={Timer:null,Enable:!1,DelayTime:18e4,LastPoint:null},this.DrawDynamicInfoOption={Timer:null,Enable:!1,DelayTime:10},this.SetCorssCursorElement=function(t){t&&t.Element&&t.Canvas&&(this.CorssCursorElement=t.Element,this.CorssCursorCanvas=t.Canvas)},this.StopDisplayLatest=function(){this.GlobalOption.IsDisplayLatest=!1,this.DisplayLatestOption.Timer&&(clearTimeout(this.DisplayLatestOption.Timer),this.DisplayLatestOption.Timer=null)},this.StartStopDisplayLatest=function(){var t=this;this.StopDisplayLatest(),this.DisplayLatestOption.Enable&&(this.DisplayLatestOption.Timer=setTimeout(function(){t.DisplayLatest&&(Nn.Chart.Log("[JSChartContainer:StartStopDisplayLatest] call this.DisplayLatest()"),t.DisplayLatest())},this.DisplayLatestOption.DelayTime))},this.StopDrawDynamicInfo=function(){this.DrawDynamicInfoOption.Timer&&(clearTimeout(this.DrawDynamicInfoOption.Timer),this.DrawDynamicInfoOption.Timer=null)},this.ChartDestroy=function(){this.IsDestroy=!0,this.StopAutoUpdate(),null!=this.GetLatestVersionTimer&&(clearTimeout(this.GetLatestVersionTimer),this.GetLatestVersionTimer=null)},this.ChartDestory=this.ChartDestroy,this.GetLatestVersionTimer=null,this.GetLatestVersion=function(){var t=this;null!=this.GetLatestVersionTimer&&(clearTimeout(this.GetLatestVersionTimer),this.GetLatestVersionTimer=null);var e=Math.floor(50*Math.random()),i=18e4+1e3*e;Nn.Chart.Log("[JSChartContainer::GetLatestVersion] wait for get hqchart latest version. ",i),this.GetLatestVersionTimer=setTimeout(function(){var e=0,i=0;t.Frame&&t.Frame.ChartBorder&&(e=t.Frame.ChartBorder.GetChartWidth(),i=t.Frame.ChartBorder.GetChartHeight());var a=atob("aHR0cHM6Ly9ocWNoYXJ0LnplYWxpbmsuY29tL2FwaS9HZXRWZXJzaW9u")+"?width="+e+"&height="+i+"&type=h5";null==l.LastVersion&&n.HttpRequest({url:a,type:"get",dataType:"json",async:!0,success:function(t){Nn.Chart.Log("[JSChartContainer::GetLatestVersion] hqchart latest version. ",t),l.LastVersion=t},error:function(t,e,i){Nn.Chart.Log("[JSChartContainer::GetLatestVersion] Get HQChart latest version failed.",t)}})},i)},this.SetFocus=function(){this.UIElement&&this.UIElement.focus()},this.AddEventCallback=function(t){if(t&&t.event&&t.callback){var e={Callback:t.callback,Source:t};this.mapEvent.set(t.event,e)}},this.RemoveEventCallback=function(t){this.mapEvent.has(t)&&this.mapEvent.delete(t)},this.GetEventCallback=function(t){return this.mapEvent.has(t)?this.mapEvent.get(t):null},this.GetIndexEvent=function(){return this.GetEventCallback(Rn.RECV_INDEX_DATA)},this.GetOverlayIndexEvent=function(){return this.GetEventCallback(Rn.RECV_OVERLAY_INDEX_DATA)},t.onmousemove=function(t){a.UIOnMouseMove(t)},t.oncontextmenu=function(t){return a.UIOnContextMenu(t)},t.ondblclick=function(t){a.UIOnDblClick(t)},t.onmousedown=function(t){a.UIOnMouseDown(t)},t.onmouseout=function(t){a.UIOnMounseOut(t)},t.onmouseleave=function(t){a.UIOnMouseleave(t)},this.UIOnMouseMove=function(t){var e=c(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;if(this.StopDisplayLatest(),this.MoveOnChartDrawPicture=null,!(this.ChartSplashPaint&&1==this.ChartSplashPaint.IsEnableSplash||1==this.DisableMouse||this.BorderDrag||this.YDrag||this.IndexChartDrag)){t&&"mouseout"==t.type&&0==t.buttons&&(i=a=-1);var r={X:i,Y:a,IsInClient:this.IsMouseOnClient(i,a)};this.LastMouseStatus.OnMouseMove=r,this.LastMouseStatus.MoveOnPoint={X:i,Y:a};var n=this.GetEventCallback(Rn.ON_MOUSE_MOVE),o=this.TitlePaint[0];n&&o&&(o.OnMouseMoveEvent=n),this.MoveOnPoint={X:i,Y:a},this.OnMouseMove(i,a,t),o&&(o.OnMouseMoveEvent=null),this.StartStopDisplayLatest()}},this.IsMouseOnClient=function(t,e){var i={Left:this.Frame.ChartBorder.GetLeft(),Top:this.Frame.ChartBorder.GetTop(),Width:this.Frame.ChartBorder.GetWidth(),Height:this.Frame.ChartBorder.GetHeight()};return i.Right=i.Left+i.Width,i.Bottom=i.Top+i.Height,t>=i.Left&&t<=i.Right&&e>=i.Top&&e<=i.Bottom},this.UIOnContextMenu=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e=t.clientX-this.UIElement.getBoundingClientRect().left,i=t.clientY-this.UIElement.getBoundingClientRect().top;return"function"==typeof this.OnRightMenu&&this.OnRightMenu(e,i,t),!1}},this.UIOnDblClick=function(t){var e=c(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;this.OnDoubleClick(i,a,t)},this.TryYDrag=function(t,e){if(!this.EnableYDrag)return null;if(!this.EnableYDrag.Left&&!this.EnableYDrag.Right)return null;if(!this.Frame||!this.Frame.PtInFrameY)return null;var i=this.Frame.PtInFrameY(t,e);return!i||i.Index<0||1==i.IsOverlay?null:i.Left&&this.EnableYDrag.Left&&this.Frame.IsEnableDragY(i.Index)?i:i.Right&&this.EnableYDrag.Right&&this.Frame.IsEnableDragY(i.Index)?i:null},this.TryUpDownDrag=function(t,e){var i=this.Frame.PtInFrame(t,e);if(i<0)return null;var a=this.Frame.SubFrame[i];if(!a||!a.Frame)return null;var r=a.Frame;return r.YSplitOperator&&r.YSplitOperator.FixedYMaxMin?{Index:i,X:t,Y:e}:null},this.TryRectSelectDrag=function(t,e){var i=this.GetRectSelectPaint();return i?i.GetPointCount()<=0?null:{Item:i.PtInPaint(t,e),X:t,Y:e}:null},this.TryClickCrossCursor=function(t,e,i){if(this.ChartCorssCursor){var a=this.ChartCorssCursor.PtInButton(t,e);if(!a)return!1;var r=this.GetEventCallback(Rn.ON_CLICK_CROSSCURSOR_RIGHT);if(r&&r.Callback){var n={Button:a,e:i};r.Callback(r,n,this)}return!0}},this.TryClickButton=function(t,e,i){var a=this.Frame.PtInButtons(t,e);return a&&this.ClickFrameButton?(this.ClickFrameButton(a,i),!0):(a=this.PtInExtendChartButtons(t,e))&&this.ClickExtendChartButton?(this.ClickExtendChartButton(a,i),!0):(a=this.PtInDrawPictureButtons(t,e))&&this.ClickDrawPictureButton?(this.ClickDrawPictureButton(a,i),!0):!(!(a=this.PtInTitleButtons(t,e))||!this.ClickTitleButton)&&(this.ClickTitleButton(a,i),!0)},this.UIOnMouseDown=function(t){var e=this;if(this.MoveOnChartDrawPicture=null,!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){this.ClickDownPoint={X:t.clientX,Y:t.clientY},this.IsOnTouch=!0,this.BorderDrag=null,this.YDrag=null,this.UpDownDrag=null,this.RectSelectDrag=null,this.IndexChartDrag=null;var i=c(),a=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,r=(t.clientY-this.UIElement.getBoundingClientRect().top)*i;if(!this.TryClickButton(a,r,t)&&!this.TryClickCrossCursor(a,r,t)&&!(this.TryClickChartTooltipData&&this.TryClickChartTooltipData(a,r,t)||this.TryClickLock&&this.TryClickLock(a,r))){this.HideSelectRect(),this.SelectRectRightMenu&&this.SelectRectRightMenu.Hide(),this.ChartPictureMenu&&this.ChartPictureMenu.Hide();var n=this.GetRectSelectPaint();if(n&&n.GetPointCount()>0){var o=n.PtInPaint(a,r);if(o)if(4==o.Type){this.UIElement.style.cursor="pointer";var s={X:t.clientX};this.GetXDataIndex(s)&&(this.RectSelectDrag={DataIndex:s.DataIndex,Type:o.Type,X:t.clientX},Nn.Chart.Log("[JSChartContainer::UIOnMouseDown] drag sub rect select ",s))}else this.UIElement.style.cursor="ew-resize",this.RectSelectDrag={Index:o.PointIndex,Type:o.Type},Nn.Chart.Log("[JSChartContainer::UIOnMouseDown] drag rect select ",o)}if(!this.RectSelectDrag&&this.ClearRectSelect(!1)&&this.Draw(),this.EnableBorderDrag&&this.Frame){var l=this.Frame.PtInFrameBorder(a,r);l&&l.Index>=0&&(this.UIElement.style.cursor="n-resize",this.BorderDrag={Index:l.Index},Nn.Chart.Log("[JSChartContainer::UIOnMouseDown] DragBorder ",l))}if(!this.BorderDrag){var h=this.TryYDrag(a,r);if(h)this.UIElement.style.cursor=0==h.Position?"n-resize":"row-resize",this.YDrag=h,Nn.Chart.Log("[JSChartContainer::UIOnMouseDown] dragY ",h);else{var u=this.TryUpDownDrag(a,r);u&&(this.UIElement.style.cursor="pointer",this.UpDownDrag=u,Nn.Chart.Log("[JSChartContainer::UIOnMouseDown] dragUpDown ",u))}}if(0!=this.DragMode){var d={Click:{},LastMove:{},CurrentMove:{}};d.Click.X=t.clientX,d.Click.Y=t.clientY,d.Click.IsInFrameBottom=this.Frame.PtInFrameBottom(a,r),d.LastMove.X=t.clientX,d.LastMove.Y=t.clientY,this.MouseDrag=d;var f=this.GetActiveDrawPicture(),p={Chart:this.SelectedChart.Selected.Chart,Identify:this.SelectedChart.Selected.Identify};if(this.SelectChartDrawPicture=null,this.BorderDrag);else if(this.YDrag||this.RectSelectDrag);else if(this.CurrentChartDrawPicture){this.UpDownDrag=null;var m=this.CurrentChartDrawPicture;2==m.Status?this.SetChartDrawPictureThirdPoint(d.Click.X,d.Click.Y):(this.SetChartDrawPictureFirstPoint(d.Click.X,d.Click.Y),this.FinishChartDrawPicturePoint()&&(m.IsDrawMain?this.Draw():this.DrawDynamicInfo())),!f.Select.Guid||this.CurrentChartDrawPicture&&f.Select.Guid==this.CurrentChartDrawPicture.Guid||f.Select.Chart.IsDrawMain&&this.Draw()}else{var C={};if(C.X=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,C.Y=(t.clientY-this.UIElement.getBoundingClientRect().top)*i,this.GetChartDrawPictureByPoint(C)){if(1==C.ChartDrawPicture.EnableMove){this.UpDownDrag=null,this.CurrentChartDrawPicture=C.ChartDrawPicture,this.SelectChartDrawPicture=C.ChartDrawPicture;var v=!1;f.Select.Guid&&f.Select.Chart&&f.Select.Chart.IsDrawMain?v=!0:C.ChartDrawPicture.IsDrawMain&&(v=!0),v&&this.Draw(),C.ChartDrawPicture.Status=20,C.ChartDrawPicture.ValueToPoint(),C.ChartDrawPicture.MovePointIndex=C.PointIndex,this.SelectChartDrawPicture.DragInfo={Click:{X:t.clientX,Y:t.clientY}}}else this.CurrentChartDrawPicture=null,this.SelectChartDrawPicture=null;var D=this.GetEventCallback(Rn.ON_CLICK_DRAWPICTURE);if(D&&D.Callback){var g={DrawPicture:C.ChartDrawPicture};D.Callback(D,g,this)}else this.OnSelectChartPicture(C.ChartDrawPicture)}else{null!=this.ClickChartTimer&&(clearTimeout(this.ClickChartTimer),this.ClickChartTimer=null);var S=this,x={X:this.ClickDownPoint.X,Y:this.ClickDownPoint.Y};this.ClickChartTimer=setTimeout(function(){S.TryClickPaintEvent(Rn.ON_CLICK_CHART_PAINT,x,t)},250);var b=!1;if(this.SelectedChart.EnableSelected){var I=this.PtInChart(a,r);I?(this.SelectedChart.Selected.Identify!=I.Identify&&(this.SelectedChart.Selected.Identify=I.Identify,this.SelectedChart.Selected.Chart=I.Chart,b=!0),this.EnableIndexChartDrag&&(this.IndexChartDrag={SelectedChart:I,LastMove:{X:a,Y:r},Click:{X:a,Y:r}},this.IndexChartDrag.Info=this.GetSelectedChartInfo(I),this.IndexChartDrag.Info&&(this.IndexChartDrag.Info.FrameID=this.Frame.PtInFrame(a,r)))):this.SelectedChart.Selected.Identify&&(this.SelectedChart.Selected.Identify=null,this.SelectedChart.Selected.Chart=null,b=!0)}else this.SelectedChart.Selected.Identify&&(this.SelectedChart.Selected.Identify=null,b=!0);if(null!=f.Select.Guid&&null==this.SelectChartDrawPicture||b){var T=0;if(f.Select.Guid&&f.Select.Chart&&f.Select.Chart.IsDrawMain&&(T=1),b){var y=p.Chart;y&&y.SetSelectedStatus&&(y.SetSelectedStatus(0),T=1),y=this.SelectedChart.Selected.Chart,y&&y.SetSelectedStatus&&(y.SetSelectedStatus(1),T=1)}1==T?this.Draw():this.DrawDynamicInfo()}}}document.onmousemove=function(t){e.DocOnMouseMove(t)},document.onmouseup=function(t){e.DocOnMouseUp(t)}}}}},this.DocOnMouseMove=function(e){if(!this.ChartSplashPaint||1!=this.IsEnableSplash){var i=this.MouseDrag;if(i){var a=Math.abs(i.LastMove.X-e.clientX),r=Math.abs(i.LastMove.Y-e.clientY),n=this.RectSelectDrag&&this.RectSelectDrag.Index>=0,o=this.RectSelectDrag&&4==this.RectSelectDrag.Type;if(i.CurrentMove&&(i.CurrentMove.X=e.clientX,i.CurrentMove.Y=e.clientY),this.BorderDrag&&this.BorderDrag.Index>=0){if(Math.abs(i.LastMove.Y-e.clientY)<5)return;var s=e.clientY-i.LastMove.Y;this.OnMoveFromeBorder(this.BorderDrag.Index,s),i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY}else if(this.YDrag&&this.YDrag.Index>=0){if(r<5)return;var s=e.clientY-i.LastMove.Y;Nn.Chart.Log("[JSChartContainer::DocOnMouseMove] YDrag ",this.YDrag,s),this.OnZoomUpDownFrameY(this.YDrag,s),i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY}else if(this.IndexChartDrag&&this.IndexChartDrag.SelectedChart){if(Math.abs(i.LastMove.Y-e.clientY)<2&&Math.abs(i.LastMove.X-e.clientX)<2)return;var l=this.GetExtendChartByClassName("DragMovePaint");if(l&&l.Chart){var h=c(),u=(e.clientX-this.UIElement.getBoundingClientRect().left)*h,d=(e.clientY-this.UIElement.getBoundingClientRect().top)*h;l.Chart.Point={X:u,Y:d},l.Chart.IsShow=!0,l.Chart.Info=this.IndexChartDrag.Info,this.DrawDynamicInfo()}this.IndexChartDrag.LastMove.X=u,this.IndexChartDrag.LastMove.Y=d,i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY}else if(this.CurrentChartDrawPicture){var f=this.CurrentChartDrawPicture;if(1==f.Status||2==f.Status){if(Math.abs(i.LastMove.X-e.clientX)<5&&Math.abs(i.LastMove.Y-e.clientY)<5)return;this.SetChartDrawPictureSecondPoint(e.clientX,e.clientY)&&this.DrawDynamicInfo()}else if(3==f.Status)this.SetChartDrawPictureThirdPoint(e.clientX,e.clientY)&&this.DrawDynamicInfo();else if(20==f.Status){if(Math.abs(i.LastMove.X-e.clientX)<5&&Math.abs(i.LastMove.Y-e.clientY)<1)return;if(this.SelectChartDrawPicture&&this.SelectChartDrawPicture.EnableCtrlMove&&!e.ctrlKey)return;this.SelectChartDrawPicture&&this.SelectChartDrawPicture.DragInfo&&(this.SelectChartDrawPicture.DragInfo.Move={X:e.clientX,Y:e.client}),this.MoveChartDrawPicture(e.clientX-i.LastMove.X,e.clientY-i.LastMove.Y,!1,i)&&this.DrawDynamicInfo()}i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY}else if(1==this.DragMode||n||o)this.OnDragMode_One({X:a,Y:r},e);else if(2==this.DragMode){var p=Math.abs(i.LastMove.Y-e.clientY);if(a<5&&p<5)return;this.UIElement.style.cursor="default";var u=i.Click.X-t.getBoundingClientRect().left,d=i.Click.Y-t.getBoundingClientRect().top,m=e.clientX-t.getBoundingClientRect().left,C=e.clientY-t.getBoundingClientRect().top;this.ShowSelectRect(u,d,m,C),i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY}}}},this.OnDragMode_One=function(t,e){var i=t.X,a=t.Y,r=this.MouseDrag;if(!(i<5&&a<5)){var n=!1,o=!1;if(a>=5&&this.UpDownDrag&&this.UpDownDrag.Index>=0){var s=e.clientY-r.LastMove.Y;Nn.Chart.Log("[JSChartContainer::OnDragMode_One] UpDownDrag ",this.UpDownDrag,s),this.UIElement.style.cursor="pointer",this.OnUpDonwFrameY(this.UpDownDrag,s)&&(n=!0,o=!0),r.LastMove.Y=e.clientY}if(i>=5){if(this.RectSelectDrag){if(this.RectSelectDrag.Index>=0){var l={X:e.clientX,Y:e.clientY,PointIndex:this.RectSelectDrag.Index,Name:"MoveRectSelectLine"};this.MoveRectSelectPoint(l)&&(n=!0)}else if(4===this.RectSelectDrag.Type){var l={X:e.clientX};if(!this.GetXDataIndex(l))return;if(l.DataIndex==this.RectSelectDrag.DataIndex)return;var h=l.DataIndex-this.RectSelectDrag.DataIndex,u=!0;if(h>0&&(u=!1),!this.MoveSubRectSelect({Step:Math.abs(h),IsLeft:u,X:e.clientX,Y:e.clientY}))return;this.RectSelectDrag.DataIndex=l.DataIndex,this.RectSelectDrag.X=e.clientX,n=!0}}else{var u=!0;r.LastMove.X<e.clientX&&(u=!1);var c="pointer";r.Click.IsInFrameBottom&&(c="ew-resize");if(i<this.GetMoveOneStepWidth())return this.UIElement.style.cursor=c,void(n&&this.Draw());r.Click&&r.Click.IsInFrameBottom?this.XCoordinateZoom(i,u)&&(this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),n=!0):this.DataMove(i,u)?(this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),n=!0):o||this.DragDownloadData&&this.DragDownloadData(),this.UIElement.style.cursor=c}r.LastMove.X=e.clientX}n&&(this.Draw(),this.OnKLinePageChange("datamove"))}},this.GetXDataIndex=function(e){if(!this.ChartPaint[0]||!this.ChartPaint[0].Data)return!1;var i=this.ChartPaint[0].Data;if(!this.Frame.SubFrame[0])return!1;var a=this.Frame.SubFrame[0].Frame,r=c(),n=(e.X-t.getBoundingClientRect().left)*r,o=a.GetXData(n);o=parseInt(o.toFixed(0));var s=o+i.DataOffset;s>=i.Data.length&&(s=i.Data.length-1);var l=i.Data[s];return e.DataIndex=s,e.Item=l,!0},this.DocOnMouseUp=function(e){document.onmousemove=null,document.onmouseup=null;var i="MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName,a=this.RectSelectDrag&&this.RectSelectDrag.Index>=0,r=this.RectSelectDrag&&4==this.RectSelectDrag.Type,n=!0;if(this.CurrentChartDrawPicture){var o=this.CurrentChartDrawPicture;2==o.Status||1==o.Status||3==o.Status?(o.PointStatus=o.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():n=!1):20==o.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}else if(this.IndexChartDrag&&this.IndexChartDrag.SelectedChart){var s=this.GetExtendChartByClassName("DragMovePaint");s&&s.Chart&&s.Chart.Clear(),this.OnDragChart(this.IndexChartDrag)||this.DrawDynamicInfo(),this.UIElement.style.cursor="default"}else if(a)this.OnDragSelectRectMouseUp&&this.OnDragSelectRectMouseUp(e);else if(r)this.OnDragSubSelectRectMouseUp&&this.OnDragSubSelectRectMouseUp(e);else if(i)this.OnMinuteSelectRectMouseUp&&this.OnMinuteSelectRectMouseUp(e);else if(2==this.DragMode){var l=this.MouseDrag;l.LastMove.X=e.clientX,l.LastMove.Y=e.clientY;var h=new I,u=c();if(h.XStart=(l.Click.X-t.getBoundingClientRect().left)*u,h.YStart=(l.Click.Y-t.getBoundingClientRect().top)*u,h.XEnd=(l.LastMove.X-t.getBoundingClientRect().left)*u,h.YEnd=(l.LastMove.Y-t.getBoundingClientRect().top)*u,h.JSChartContainer=this,h.Stock={Symbol:this.Symbol,Name:this.Name},!this.BorderDrag&&this.GetSelectRectData(h)){var d=this.GetEventCallback(Rn.ON_SELECT_RECT),f=this.GetRectSelectPaint(),p=!0;if(d&&d.Callback){var m={X:l.LastMove.X-t.getBoundingClientRect().left,Y:l.LastMove.Y-t.getBoundingClientRect().top,SelectData:h,RectSelectPaint:f,IsShowMenu:!0};d.Callback(d,m,this),p=m.IsShowMenu}i?(this.HideSelectRect(),this.UpdateSelectRect(h.Start,h.End)):p&&this.SelectRectRightMenu&&(e.data={Chart:this,X:l.LastMove.X-t.getBoundingClientRect().left,Y:l.LastMove.Y-t.getBoundingClientRect().top,SelectData:h,RectSelectPaint:f},this.SelectRectRightMenu.DoModal(e))}else this.TryClickPaintEvent(Rn.ON_CLICKUP_CHART_PAINT,this.ClickDownPoint,e)}else this.TryClickPaintEvent(Rn.ON_CLICKUP_CHART_PAINT,this.ClickDownPoint,e),this.ClickEvent(e);Nn.Chart.Log("[KLineChartContainer::document.onmouseup]",e),this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.DragInfo=null),this.UIElement.style.cursor="default",this.MouseDrag=null,this.ClickDownPoint=null,this.IsOnTouch=!1,this.BorderDrag&&this.BorderDrag.Index>=0&&this.Frame.SaveSubFrameHeightRate(),this.BorderDrag=null,this.YDrag=null,this.UpDownDrag=null,this.RectSelectDrag=null,this.IndexChartDrag=null,!0===n&&(this.CurrentChartDrawPicture=null)},this.UIOnMounseOut=function(t){Nn.Chart.Log("[KLineChartContainer::UIOnMounseOut]",t),this.UIOnMouseMove(t)},this.UIOnMouseleave=function(t){Nn.Chart.Log("[KLineChartContainer::UIOnMouseleave]",t)},this.OnDragChart=function(t){if(!t)return!1;var e=t.Info,i=t.LastMove,a=e.FrameID,r=this.Frame.PtInFrame(i.X,i.Y);return r<0?-3==r&&this.MoveIndexToNewWindow({WindowIndex:a,IndexID:e.IndexID},{Operator:0}):a!=r&&this.MoveIndex({WindowIndex:a,IndexID:e.IndexID},{WindowIndex:r},{Operator:0})},this.GetSelectedChartInfo=function(t){if(!t)return null;var e={Type:0},i=t.Identify;if("Main-KLine"==i)e.Name=this.Name,e.Symbol=this.Symbol,e.Type=eo.MAIN_KLINE;else if(0==i.indexOf("Overlay-KLine-"))e.Name=t.Chart.Title,e.Symbol=t.Chart.Symbol,e.Type=eo.OVERLAY_KLINE;else if(0==i.indexOf("Overlay-Minute-"))e.Name=t.Chart.Title,e.Symbol=t.Chart.Symbol,e.Type=eo.OVERLAY_MINUTE;else if("Minute-Line"==i)e.Name=this.Name,e.Symbol=this.Symbol,e.Type=eo.MAIN_MINUTE;else if("Minute-Average-Line"==i)e.Name=this.Name,e.Symbol=this.Symbol,e.Type=eo.MAIN_AVERAGE_MINUTE;else if("Minute-Vol-Bar"==i)e.Name=this.Name,e.Symbol=this.Symbol,e.Type=eo.MAIN_MINUTE_VOL;else if(0==i.indexOf("guid"))for(var a=0;a<this.TitlePaint.length;++a){var r=this.TitlePaint[a];if("DynamicChartTitlePainting"==r.ClassName){if(r.Identify==i){e.IndexName=r.Title,e.IndexID=i,e.Type=eo.MAIN_INDEX;break}var n=!0,o=!1,s=void 0;try{for(var l,h=(0,Fn.default)(r.OverlayIndex);!(n=(l=h.next()).done);n=!0){var u=l.value;if(u[0]==i){e.IndexName=u[1].Title,e.IndexID=i,e.Type=eo.OVERLAY_INDEX;break}}}catch(t){o=!0,s=t}finally{try{!n&&h.return&&h.return()}finally{if(o)throw s}}if(e.Type>0)break}}return e},this.ClickEvent=function(e){var i=this.GetEventCallback(Rn.ON_CLICK);if(!i||!i.Callback)return!1;if(this.ClickDownPoint.X!=e.clientX||this.ClickDownPoint.Y!=e.clientY)return!1;var a=c(),r=(e.clientX-t.getBoundingClientRect().left)*a,n=(e.clientY-t.getBoundingClientRect().top)*a,o={X:e.clientX,Y:e.clientY,FrameID:-1};if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(r,n)){var s={},l=this.Frame.GetYData(n,s);if(Ee.IsNumber(s.FrameID)&&s.FrameID>=0){var h=this.Frame.GetXData(r);o.FrameID=s.FrameID,o.Data={X:h,Y:l}}}return i.Callback(i,o,this),!0},this.DBClickEvent=function(e,i){var a=this.GetEventCallback(Rn.ON_DBCLICK);if(!a||!a.Callback)return!1;var r=c(),n=(i.clientX-t.getBoundingClientRect().left)*r,o=(i.clientY-t.getBoundingClientRect().top)*r,s={X:i.clientX,Y:i.clientY,FrameID:-1,ClientPos:-1},l=this.PtInClient(n,o);if(s.ClientPos=l,l>0){var h={},u=this.Frame.GetYData(o,h);if(Ee.IsNumber(h.FrameID)&&h.FrameID>=0){var d=this.Frame.GetXData(n);s.FrameID=h.FrameID,s.Data={X:d,Y:u},this.GetDataItem&&(s.Data.Item=this.GetDataItem({ClientPos:l,Index:d,Point:{X:n,Y:o}}))}}return e&&e.SelectedChart&&(s.SelectedChart=this.GetSelectedChartInfo(e.SelectedChart)),a.Callback(a,s,this),!0},this.PtInChartPaintTooltip=function(t,e,i){for(var a=0;a<this.ChartPaint.length;++a){var r=this.ChartPaint[a];if(r.GetTooltipData(t,e,i))return r}return null},this.PtInOverlayChartPaintTooltip=function(t,e,i){for(var a=0;a<this.OverlayChartPaint.length;++a){var r=this.OverlayChartPaint[a];if(r.GetTooltipData(t,e,i))return r}return null},this.TryClickPaintEvent=function(e,i,a){var r=this.GetEventCallback(e);if(r&&r.Callback&&i.X==a.clientX&&i.Y==a.clientY){var n=c(),o=(a.clientX-t.getBoundingClientRect().left)*n,s=(a.clientY-t.getBoundingClientRect().top)*n,l=new tt,h=null,u=this.PtInChartPaintTooltip(o,s,l);if(u&&(h={Symbol:this.Symbol,Name:this.Name}),u||(u=this.PtInOverlayChartPaintTooltip(o,s,l))&&(h={Symbol:l.ChartPaint.Symbol,Name:l.ChartPaint.Title}),l.Data){var d={X:a.clientX,Y:a.clientY,Stock:h,Tooltip:l};return r.Callback(r,d,this),!0}}return!1},this.IsPhoneDragging=function(t){var e=t.changedTouches.length,i=t.touches.length;return 1==e&&1==i},this.IsPhonePinching=function(t){var e=t.changedTouches.length,i=t.touches.length;return(1==e||2==e)&&2==i},this.PreventTouchEvent=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()},this.GetToucheData=function(t,e){for(var i=new Array,a=c(),r=0;r<t.touches.length;++r){var n=t.touches[r];e?i.push({clientX:n.clientY*a,clientY:n.clientX*a,pageX:n.pageY*a,pageY:n.pageX*a}):i.push({clientX:n.clientX*a,clientY:n.clientY*a,pageX:n.pageX*a,pageY:n.pageY*a})}return i},this.IsSingleTouch=function(t){return 1==t.touches.length},this.StopDragTimer=function(){Ee.IsNumber(this.DragTimer)&&(clearTimeout(this.DragTimer),this.DragTimer=null)},this.GetMoveAngle=function(t,e){var i=Math.abs(t.X-e.X),a=Math.abs(t.Y-e.Y);return 180*Math.atan(i/a)/Math.PI},t.ontouchstart=function(t){a.OnTouchStart(t)},t.ontouchmove=function(t){a.OnTouchMove(t)},t.ontouchend=function(t){a.OnTouchEnd(t)},this.AddPhoneDBClickInfo=function(t,e,i){var a={X:t,Y:e,Time:i};this.PhoneDBClickInfo.Start.push(a)},this.ClearPhoneDBClickInfo=function(){this.PhoneDBClickInfo.Start=[]},this.IsShortPhoneClick=function(t,e,i){},this.OnTouchStart=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){this.IsOnTouch=!0,this.TouchDrawCount=0,this.PhonePinch=null,this.StopDragTimer();var e=this.IsSingleTouch(t);if((0==this.EnableScrollUpDown||!e||this.DragMode==kn.CLICK_TOUCH_MODE_ID&&1==this.TouchStatus.CorssCursorShow)&&t.cancelable&&t.preventDefault(),this.IsPhoneDragging(t)){var i=this.GetToucheData(t,this.IsForceLandscape),a=this.PointAbsoluteToRelative(i[0].clientX,i[0].clientY,!0);if(this.TryClickLock||this.TryClickIndexTitle){var r=a.X,n=a.Y;if(this.TryClickLock&&this.TryClickLock(r,n))return;if(this.TryClickIndexTitle&&this.TryClickIndexTitle(r,n))return}if(this.ClickFrameButton){var o=this.Frame.PtInButtons(a.X,a.Y);if(o)return void this.ClickFrameButton(o,t)}this.EnableVerticalDrag&&(this.VerticalDrag={IsDrag:!1},this.Frame.PtInFrameVertical(a.X,a.Y)&&(this.VerticalDrag.IsDrag=!0));var s=!0;this.ChartDrawOption.IsLockScreen?s=!1:this.DragMode==kn.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&(s=!1):this.DragMode==kn.DISABLE_DRAG_ID?s=!1:e||(s=!1),this.VerticalDrag&&(s=!1),this.EnableClickModel&&1==this.ClickModel.IsShowCorssCursor&&(s=!1);var l={Click:{},LastMove:{}};l.Click.X=i[0].clientX,l.Click.Y=i[0].clientY,l.LastMove.X=i[0].clientX,l.LastMove.Y=i[0].clientY,this.MouseDrag=l,this.PhoneTouchInfo={Start:{X:i[0].clientX,Y:i[0].clientY},End:{X:i[0].clientX,Y:i[0].clientY}},this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.IsSelected=!1),this.SelectChartDrawPicture=null;if(this.CurrentChartDrawPicture){return 2==this.CurrentChartDrawPicture.Status?this.SetChartDrawPictureThirdPoint(l.Click.X,l.Click.Y,!0):(this.SetChartDrawPictureFirstPoint(l.Click.X,l.Click.Y,!0),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo({Corss:!1,Tooltip:!1})),void(t.cancelable&&t.preventDefault())}var a=this.PointAbsoluteToRelative(i[0].clientX,i[0].clientY,!0),h={X:a.X,Y:a.Y};c();if(this.GetChartDrawPictureByPoint(h)){h.ChartDrawPicture.Status=20,h.ChartDrawPicture.ValueToPoint(),h.ChartDrawPicture.MovePointIndex=h.PointIndex,h.ChartDrawPicture.IsSelected=!0,this.CurrentChartDrawPicture=h.ChartDrawPicture,this.SelectChartDrawPicture=h.ChartDrawPicture;var u=this.GetEventCallback(Rn.ON_CLICK_DRAWPICTURE);if(u&&u.Callback){var d={DrawPicture:h.ChartDrawPicture};u.Callback(u,d,this)}return void(t.cancelable&&t.preventDefault())}if(s){var f=this;this.DragTimer=setTimeout(function(){if(l.Click.X==l.LastMove.X&&l.Click.Y==l.LastMove.Y){f.MouseDrag;f.MouseDrag=null,f.DragMode==kn.CLICK_TOUCH_MODE_ID&&(f.TouchStatus.CorssCursorShow=!0),!0===f.EnableClickModel&&(f.ClickModel.IsShowCorssCursor=!0),f.MoveCorssCursor(l.Click,t)}},f.PressTime)}this.EnableZoomIndexWindow&&(this.PhoneDBClick.AddTouchStart(i[0].clientX,i[0].clientY,Date.now()),Nn.Chart.Log("[JSChartContainer::OnTouchStart] PhoneDBClick ",this.PhoneDBClick)),this.ChartDrawOption.IsLockScreen?this.MouseDrag=null:this.DragMode==kn.CLICK_TOUCH_MODE_ID||(this.DragMode==kn.DISABLE_DRAG_ID?(this.MouseDrag=null,this.MoveCorssCursor(l.Click,t)):this.EnableClickModel||(this.VerticalDrag?this.VerticalDrag.IsDrag||this.MoveCorssCursor(l.Click,t):this.IsClickShowCorssCursor&&this.MoveCorssCursor(l.Click,t))),this.TouchEvent({EventID:Rn.ON_PHONE_TOUCH,FunctionName:"OnTouchStart"},t)}else if(this.IsPhonePinching(t)){var p={Start:{},Last:{}},i=this.GetToucheData(t,this.IsForceLandscape);p.Start={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY},p.Last={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY},this.PhonePinch=p,this.SelectChartDrawPicture=null}}},this.OnTouchMove=function(e){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var i=this.GetToucheData(e,this.IsForceLandscape);if(this.IsPhoneDragging(e)){var a=this.MouseDrag;if(null==a)this.IsForceLandscape&&(y=t.getBoundingClientRect().width-i[0].clientY),this.ChartDrawOption.IsLockScreen||this.MoveCorssCursor({X:i[0].clientX,Y:i[0].clientY},e);else{var r=this.GetMoveAngle(a.LastMove,{X:i[0].clientX,Y:i[0].clientY}),n=Math.abs(a.LastMove.X-i[0].clientX),o=Math.abs(a.LastMove.Y-i[0].clientY);n=parseInt(n);var s=this.DragMode==kn.CLICK_TOUCH_MODE_ID&&1==this.TouchStatus.CorssCursorShow;if(this.VerticalDrag&&(s=!0!==this.VerticalDrag.IsDrag),this.EnableClickModel&&(s=!0===this.ClickModel.IsShowCorssCursor),this.CurrentChartDrawPicture){var l=this.CurrentChartDrawPicture;if(1==l.Status||2==l.Status){if(n<5&&o<5)return;this.SetChartDrawPictureSecondPoint(i[0].clientX,i[0].clientY,!0)&&this.DrawDynamicInfo()}else if(3==l.Status)this.SetChartDrawPictureThirdPoint(i[0].clientX,i[0].clientY,!0)&&this.DrawDynamicInfo();else if(20==l.Status){if(n<5&&o<5)return;this.MoveChartDrawPicture(i[0].clientX-a.LastMove.X,i[0].clientY-a.LastMove.Y,!0)&&this.DrawDynamicInfo()}a.LastMove.X=i[0].clientX,a.LastMove.Y=i[0].clientY}else if(s){this.MouseDrag;this.MouseDrag=null,this.MoveCorssCursor(a.Click,e)}else if(1==this.DragMode||0==s){if((o>0&&n<=3||r<=this.TouchMoveMinAngle)&&1==this.EnableScrollUpDown)return void this.StopDragTimer();if(n<5||r<=this.TouchMoveMinAngle)return void this.PreventTouchEvent(e);if(this.EnableVerticalDrag){if(!this.VerticalDrag)return;if(!this.VerticalDrag.IsDrag)return}var h=!0;a.LastMove.X<i[0].clientX&&(h=!1);var u=this.GetMoveOneStepWidth();if(n<u)return;this.DataMove(n,h)?(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw(),this.OnKLinePageChange("OnTouchMove")):this.DragDownloadData&&this.DragDownloadData(),a.LastMove.X=i[0].clientX,a.LastMove.Y=i[0].clientY}}this.PhoneTouchInfo&&(this.PhoneTouchInfo.End.X=i[0].clientX,this.PhoneTouchInfo.End.Y=i[0].clientY)}else if(this.IsPhonePinching(e)){if(this.DragMode==kn.DISABLE_DRAG_ID)return;this.PreventTouchEvent(e);var c=this.PhonePinch;if(!c)return;if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Touch)return;var d=Math.abs(i[0].pageY-i[1].pageY),f=Math.abs(c.Last.Y-c.Last.Y2),p=d-f,m=Math.abs(i[0].pageX-i[1].pageX),C=Math.abs(c.Last.X-c.Last.X2),v=m-C,D=this.ZoomStepPixel;if(Math.abs(p)<D&&Math.abs(v)<D)return;var g=p;if(Math.abs(p)<D&&(g=v),g>0){var S={IsLockRight:this.IsZoomLockRight};if(S.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomUp(S))return;this.CursorIndex=S.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.StopDragTimer()}else{var S={IsLockRight:this.IsZoomLockRight};if(S.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomDown(S))return;this.CursorIndex=S.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.StopDragTimer()}c.Last={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY}}this.PreventTouchEvent(e)}},this.OnTouchEnd=function(t){if(Nn.Chart.Log("[KLineChartContainer:OnTouchEnd]",t),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e=!0;if(this.CurrentChartDrawPicture){var i=this.CurrentChartDrawPicture;2==i.Status||1==i.Status||3==i.Status?(i.PointStatus=i.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():e=!1):20==i.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}if(this.EnableZoomIndexWindow){var a=Date.now();this.PhoneDBClick.AddTouchEnd(a),this.PhoneDBClick.IsVaildDBClick()&&(this.OnTouchDBClick(this.PhoneDBClick.Start),this.PhoneDBClick.Clear())}this.IsOnTouch=!1,this.VerticalDrag=null,!0===e&&(this.CurrentChartDrawPicture=null),this.StopDragTimer(),this.TouchEvent({EventID:Rn.ON_PHONE_TOUCH,FunctionName:"OnTouchEnd"},t),this.OnTouchFinished(),this.TouchDrawCount=0}},this.OnTouchDBClick=function(t){var e=this.PointAbsoluteToRelative(t[0].X,t[0].Y,!0),i=e.X,a=e.Y;Nn.Chart.Log("[KLineChartContainer:OnTouchDBClick] Phone dbclick absolute ["+i+","+a+"], soruce ["+t[0].X+","+t[0].Y+"]");var r=this.Frame.PtInFrame(i,a);if(Nn.Chart.Log("[KLineChartContainer::OnTouchDBClick] frameId",r),r>=this.Frame.ZoomStartWindowIndex&&this.ZoomIndexWindow(r,{X:i,Y:a}))return this.Frame.SetSizeChage(!0),this.Draw(),!0},this.TouchEvent=function(t,e){var i=t.EventID,a=this.GetEventCallback(i);if(!a||!a.Callback)return!1;var r=this.PhoneTouchInfo;if(!r||!r.Start||!r.End)return!1;var n=c(),o=r.End.X/n,s=r.End.Y/n,l=r.End.X-this.UIElement.getBoundingClientRect().left*n,h=r.End.Y-this.UIElement.getBoundingClientRect().top*n,u={X:o,Y:s,FrameID:-1,FunctionName:t.FunctionName,Drag:{Start:{X:r.Start.X/n,Y:r.Start.Y/n},End:{X:r.End.X/n,Y:r.End.Y/n}}};if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(l,h))if(this.Frame&&this.Frame.IsHScreen){var d={},f=this.Frame.GetYData(l,d);if(Ee.IsNumber(d.FrameID)&&d.FrameID>=0){var p=this.Frame.GetXData(h);u.FrameID=d.FrameID,u.Data={X:p,Y:f}}}else{var d={},f=this.Frame.GetYData(h,d);if(Ee.IsNumber(d.FrameID)&&d.FrameID>=0){var p=this.Frame.GetXData(l);u.FrameID=d.FrameID,u.Data={X:p,Y:f}}}return a.Callback(a,u,this),!0},this.MoveCorssCursor=function(t,e){var i=c(),a=t.X-this.UIElement.getBoundingClientRect().left*i,r=t.Y-this.UIElement.getBoundingClientRect().top*i;this.DragMode==kn.CLICK_TOUCH_MODE_ID&&(this.TouchStatus.CorssCursorShow=!0),this.OnMouseMove(a,r,e,!0)},this.DrawEmpty=function(){this.UIElement.width<=0||this.UIElement.height<=0||(this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.Frame&&(this.Frame.ScreenImageData=null,this.Frame.Draw()))},this.PtInChart=function(t,e){for(var i=null,a=0;a<this.ChartPaint.length;++a){var r=this.ChartPaint[a];if(r.PtInChart&&(!r.IsHideScriptIndex()&&(i=r.PtInChart(t,e))))return i}for(var a=0;a<this.OverlayChartPaint.length;++a){var r=this.OverlayChartPaint[a];if(r.PtInChart&&(i=r.PtInChart(t,e)))return i}return this.Frame.PtInOveralyChart&&(i=this.Frame.PtInOveralyChart(t,e))?i:null},this.DrawSelectedStatus=function(){if(this.SelectedChart.MoveOn.Identify||this.SelectedChart.Selected.Identify){for(var t=0;t<this.ChartPaint.length;++t){var e=this.ChartPaint[t];e.Identify&&(e.Identify!=this.SelectedChart.MoveOn.Identify&&e.Identify!=this.SelectedChart.Selected.Identify||e.DrawSelectedStatus&&e.DrawSelectedStatus())}for(var t=0;t<this.OverlayChartPaint.length;++t){var e=this.OverlayChartPaint[t];e.Identify&&(e.Identify!=this.SelectedChart.MoveOn.Identify&&e.Identify!=this.SelectedChart.Selected.Identify||e.DrawSelectedStatus&&e.DrawSelectedStatus())}for(var t=0;t<this.OverlayChartPaint.length;++t){var e=this.OverlayChartPaint[t];e.Identify&&(e.Identify!=this.SelectedChart.MoveOn.Identify&&e.Identify!=this.SelectedChart.Selected.Identify||e.DrawSelectedStatus&&e.DrawSelectedStatus())}this.Frame.DrawOveralySelectedStatus&&this.Frame.DrawOveralySelectedStatus(this.SelectedChart)}},this.SetCanvas=function(t){if(this.Frame)for(var e=this.Frame.SubFrame,i=0;i<e.length;++i){var a=e[i];a.Frame.Canvas=t;for(var r=0;r<a.OverlayIndex.length;++r){var n=a.OverlayIndex[r];n.Frame.Canvas=t;for(var o=0;o<n.ChartPaint.length;++o){var s=n.ChartPaint[o];s.Canvas=t}}}for(var i=0;i<this.ChartDrawPicture.length;++i){var a=this.ChartDrawPicture[i];a.Canvas=t}for(var i=0;i<this.ChartPaint.length;++i){var a=this.ChartPaint[i];a.Canvas=t}for(var i=0;i<this.ChartPaintEx.length;++i){var a=this.ChartPaintEx[i];a.Canvas=t}for(var i=0;i<this.OverlayChartPaint.length;++i){var a=this.OverlayChartPaint[i];a.Canvas=t}for(var i=0;i<this.ExtendChartPaint.length;++i){var a=this.ExtendChartPaint[i];a.Canvas=t}},this.Draw=function(){var t=this;if(this.ChartCorssCursor&&(this.ChartCorssCursor.Status=0),!(this.UIElement.width<=0||this.UIElement.height<=0)){this.StopDrawDynamicInfo();var e=this.GetEventCallback(Rn.ON_BEFORE_DRAW);if(e&&e.Callback){var i={};e.Callback(e,i,this)}this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.CacheCanvas&&this.CacheCanvas.clearRect(0,0,this.UIElement.width,this.UIElement.height);var a=c();if(this.Canvas.lineWidth=a,this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return this.Frame.ClearCoordinateText(),this.Frame.Draw({IsEnableSplash:this.ChartSplashPaint.IsEnableSplash}),void this.ChartSplashPaint.Draw();if(this.CacheCanvas&&this.SetCanvas(this.CacheCanvas),this.Frame.SetBeforeDrawXYCallback&&this.Frame.SetBeforeDrawXYCallback(function(e){t.BeforeDrawXYCoordinate(e)}),this.Frame.Draw(),this.Frame.DrawCustomVertical){var r=this.GetEventCallback(Rn.ON_CUSTOM_VERTICAL_DRAW);this.Frame.DrawCustomVertical(r)}this.Frame.CalculateLock();for(var n=0;n<this.ChartDrawPicture.length;++n){var o=this.ChartDrawPicture[n];o.IsDrawMain&&(o.IsDrawMain()&&o.MainDraw())}for(var n=0;n<this.ChartPaint.length;++n){var o=this.ChartPaint[n];o.IsDrawFirst&&o.Draw()}this.Frame.DrawOveraly&&this.Frame.DrawOveraly(!0);for(var n=0;n<this.ChartPaint.length;++n){var o=this.ChartPaint[n];o.IsDrawFirst||o.Draw()}for(var n=0;n<this.ChartPaintEx.length;++n){var o=this.ChartPaintEx[n];o.Draw()}for(var n=0;n<this.OverlayChartPaint.length;++n){var o=this.OverlayChartPaint[n];o.Draw()}this.Frame.DrawOveraly&&this.Frame.DrawOveraly(!1);for(var n=0;n<this.ExtendChartPaint.length;++n){var o=this.ExtendChartPaint[n];o.IsCallbackDraw||(o.DrawAfterPicture||o.IsDynamic||0!=o.IsAnimation||o.Draw())}this.Frame.DrawInsideHorizontal&&this.Frame.DrawInsideHorizontal(),this.KLineIncreaseCustomHorizontal(),this.Frame.DrawCustomHorizontal&&this.Frame.DrawCustomHorizontal(),this.Frame.DrawEx&&this.Frame.DrawEx({Symbol:this.Symbol}),this.ChartInfoPaint&&this.ChartInfoPaint.Draw(),this.Frame.DrawLock(),this.Frame.DrawLogo(),this.CacheCanvas?(this.Canvas.drawImage(this.CacheElement,0,0),this.SetCanvas(this.Canvas)):this.Frame.Snapshot(),this.Frame.DrawToolbar&&this.Frame.DrawToolbar(this.LastMouseStatus),this.DrawSelectedStatus();var s=null;this.LastMouseStatus&&this.LastMouseStatus.MoveOnPoint&&(s=this.LastMouseStatus.MoveOnPoint);for(var n=0;n<this.ExtendChartPaint.length;++n){var o=this.ExtendChartPaint[n];o.IsCallbackDraw||(o.DrawAfterPicture||o.IsDynamic&&!1===o.DrawAfterTitle&&(o.Draw(),o.DrawToolbar&&o.DrawToolbar(s)))}for(var n=0;n<this.ChartDrawPicture.length;++n){var o=this.ChartDrawPicture[n];o.IsDrawFirst&&o.Draw()}this.DrawDrawPictureXYCoordinate();var l=null;if(null!=this.LastPoint.X||null!=this.LastPoint.Y){if(this.ChartCorssCursor){this.ChartCorssCursor.LastPoint=this.LastPoint,this.ChartCorssCursor.CursorIndex=this.CursorIndex;var h=!1;this.CorssCursorCanvas&&(this.ChartCorssCursor.Canvas=this.CorssCursorCanvas,this.ChartCorssCursor.Canvas.clearRect(0,0,this.CorssCursorElement.width,this.CorssCursorElement.height),h=!0);this.PtInButton(this.LastPoint.X,this.LastPoint.Y)||(this.DragMode==kn.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&this.ChartCorssCursor.Draw():this.EnableClickModel?!0===this.ClickModel.IsShowCorssCursor&&this.ChartCorssCursor.Draw():!0===this.CorssCursorTouchEnd&&this.MouseDrag||1==this.CorssCursorTouchEnd&&0==this.IsOnTouch||this.ChartCorssCursor.Draw()),h&&(this.ChartCorssCursor.Canvas=this.Canvas)}l=this.Frame.PtInFrame(this.LastPoint.X,this.LastPoint.Y)}var u=this.GetDrawStatus();u.DrawName="Draw";for(var d=this.GetEventCallback(Rn.ON_TITLE_DRAW),f=this.GetEventCallback(Rn.ON_INDEXTITLE_DRAW),n=0;n<this.TitlePaint.length;++n){var o=this.TitlePaint[n];o.IsDynamic&&(o.CursorIndex=this.CursorIndex,o.LastPoint=this.LastPoint,"DynamicChartTitlePainting"==o.ClassName?o.OnDrawEvent=f:o.OnDrawEvent=d,o.OnDrawEvent&&(o.OnDrawEvent.FunctionName="Draw",o.OnDrawEvent.PointPosition=l),o.DrawStatus=u,o.Draw(s,this.LastMouseStatus))}for(var n=0;n<this.ExtendChartPaint.length;++n){var o=this.ExtendChartPaint[n];o.IsCallbackDraw||(o.DrawAfterPicture||o.IsDynamic&&!0===o.DrawAfterTitle&&0==o.IsAnimation&&o.Draw())}if(this.EnableAnimation)for(var n=0;n<this.ExtendChartPaint.length;++n){var o=this.ExtendChartPaint[n];!0===o.IsAnimation&&o.Draw()}for(var n=0;n<this.ChartDrawPicture.length;++n){var o=this.ChartDrawPicture[n];o.IsDrawFirst||(o.IsDrawMain&&o.IsDrawMain()||o.Draw())}this.CurrentChartDrawPicture&&10!=this.CurrentChartDrawPicture.Status&&this.CurrentChartDrawPicture.Draw();for(var n=0;n<this.ExtendChartPaint.length;++n){var o=this.ExtendChartPaint[n];o.DrawAfterPicture&&o.Draw()}if(this.OffscreenToShowCanvas(),"function"==typeof this.UpdateScrollBar&&this.UpdateScrollBar(),this.mapEvent.has(Rn.CHART_STATUS)){var e=this.mapEvent.get(Rn.CHART_STATUS),p={};"function"==typeof this.GetChartStatus&&(p=this.GetChartStatus()),e.Callback(e,p,this)}++this.TouchDrawCount}},this.PtInButton=function(t,e){var i=this.Frame.PtInButtons(t,e);return i?{Name:"FrameButton",Button:i}:(i=this.PtInExtendChartButtons(t,e))?{Name:"ExtendChartButton",Button:i}:(i=this.PtInDrawPictureButtons(t,e))?{Name:"DrawPictureButton",Button:i}:(i=this.PtInTitleButtons(t,e),i?{Name:"TitleButton",Button:i}:null)},this.DrawDrawPictureXYCoordinate=function(){var t=null;this.CurrentChartDrawPicture?t=this.CurrentChartDrawPicture:this.SelectChartDrawPicture&&(t=this.SelectChartDrawPicture);for(var e={Symbol:this.Symbol,Period:this.Period},i=0;i<this.ChartDrawPicture.length;++i){var a=this.ChartDrawPicture[i];a&&(this.IsDrawPictureXY&&t&&(t==a||t.Guid==a.Guid)&&this.Frame.DrawPictureCoordinate(t,e)||a.IsShowYCoordinate&&a.Frame&&a.Frame.DrawPicturePointYCoordinate(a,e))}},this.BeforeDrawXYCoordinate=function(t){for(var e=0;e<this.ExtendChartPaint.length;++e){var i=this.ExtendChartPaint[e];i.IsCallbackDraw&&(["KLineYAxisBGPaint","DepthMapPaint","BackgroundPaint","MinuteBackgroundPaint"].includes(i.ClassName)?i.FrameID==t.Identify&&i.Draw():to.IsCallbackDraw(i.ClassName)&&i.FrameID==t.Identify&&i.Draw())}},this.KLineIncreaseCustomHorizontal=function(){if(this.Frame&&this.Frame.SubFrame){var t=this.Frame.SubFrame[0].Frame;if(t){var e=pr(this.Symbol),i=!1;t.YSplitOperator&&1==t.YSplitOperator.CoordinateType&&(i=!0);for(var a=!1,r=0;r<t.CustomHorizontalInfo.length;++r){var n=t.CustomHorizontalInfo[r];if(4==n.Type&&(a=!0),i&&3==n.Type||2==n.Type){var o=this.ChartPaint[0];if(!o)continue;var s=o.Data;if(!s||!Ee.IsNonEmptyArray(s.Data))continue;if(!Ee.IsNumber(o.DrawKRange.Start)||!Ee.IsNumber(o.DrawKRange.End))continue;var l=s.Data[o.DrawKRange.Start],h=s.Data[o.DrawKRange.End],u=(h.Close-l.Close)/l.Close*100;n.Value=h.Close,2==n.Type?(n.Message[1]=h.Close.toFixed(e),h.Close>h.Open?n.LineColor=lo.FrameLatestPrice.UpBarColor:h.Close<h.Open?n.LineColor=lo.FrameLatestPrice.DownBarColor:n.LineColor=lo.FrameLatestPrice.UnchagneBarColor):n.Message[1]=u.toFixed(2)+"%",this.Name&&(n.Title=this.Name)}}if(a){var c=t.CustomHorizontalInfo.filter(function(t,e,i){return 4!=t.Type});t.CustomHorizontalInfo=c}for(var r=0;r<this.OverlayChartPaint.length;++r){var o=this.OverlayChartPaint[r];if(o&&4==o.YInfoType){var s=o.Data;if(s&&Ee.IsNonEmptyArray(s.Data)&&Ee.IsNumber(o.DrawKRange.Start)&&Ee.IsNumber(o.DrawKRange.End)){var l=s.Data[o.DrawKRange.Start],h=s.Data[o.DrawKRange.End],u=(h.Close-l.Close)/l.Close*100,n=new T;n.Value=h.Close/o.ShowRange.FirstOverlayOpen*o.ShowRange.FirstOpen,n.Message[1]=u.toFixed(2)+"%",n.LineType=-1,n.Type=o.YInfoType,n.LineColor=o.Color,n.TextColor=lo.FrameLatestPrice.OverlayTextColor,o.Title&&(n.Title=o.Title),t.CustomHorizontalInfo.push(n)}}}}}},this.OffscreenToShowCanvas=function(){this.ShowCanvas&&(this.ShowCanvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.ShowCanvas.drawImage(this.OffscreenCanvasElement,0,0))},this.GetDrawStatus=function(){var t={Point:{X:this.LastPoint.X,Y:this.LastPoint.Y},IsOnTouch:this.IsOnTouch,CorssCursorTouchEnd:this.CorssCursorTouchEnd,IsTitleShowLatestData:this.IsTitleShowLatestData,IsMinuteChart:"MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName};return t.FrameID=this.Frame.PtInFrame(this.LastPoint.X,this.LastPoint.Y),t},this.DrawDynamicInfo=function(t){this.LastMouseStatus.MouseOnToolbar=null;var e=this.GetEventCallback(Rn.ON_BEFORE_DRAW_DYNAMIC_INFO);if(e&&e.Callback){var i={};e.Callback(e,i,this)}if(null!=this.Frame.ScreenImageData||this.CacheCanvas){var a=!1;if(this.ChartCorssCursor&&(null==this.ChartCorssCursor.PointX&&null==this.ChartCorssCursor.PointY||(a=!0)),0==(a=!0))for(var r=0;r<this.ExtendChartPaint.length;++r){var n=this.ExtendChartPaint[r];if(!n.IsCallbackDraw&&(n.IsDynamic&&n.IsEraseBG)){a=!0;break}}a&&(this.Frame.ScreenImageData?this.Canvas.putImageData(this.Frame.ScreenImageData,0,0):this.CacheCanvas&&(this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.Canvas.drawImage(this.CacheElement,0,0))),this.Frame.DrawToolbar&&this.Frame.DrawToolbar(this.LastMouseStatus),this.DrawSelectedStatus();var o=null;this.LastMouseStatus&&this.LastMouseStatus.MoveOnPoint&&(o=this.LastMouseStatus.MoveOnPoint);for(var r=0;r<this.ExtendChartPaint.length;++r){var n=this.ExtendChartPaint[r];n.IsCallbackDraw||(n.DrawAfterPicture||n.IsDynamic&&!1===n.DrawAfterTitle&&0==n.IsAnimation&&(n.Draw(),n.DrawToolbar&&n.DrawToolbar(o,this.LastMouseStatus)))}for(var r=0;r<this.ChartDrawPicture.length;++r){var n=this.ChartDrawPicture[r];n.IsDrawFirst&&n.Draw()}if(this.DrawDrawPictureXYCoordinate(),this.ChartCorssCursor){this.ChartCorssCursor.LastPoint=this.LastPoint,this.ChartCorssCursor.CursorIndex=this.CursorIndex;var s=!1;this.CorssCursorCanvas&&(this.ChartCorssCursor.Canvas=this.CorssCursorCanvas,this.ChartCorssCursor.Canvas.clearRect(0,0,this.CorssCursorElement.width,this.CorssCursorElement.height),s=!0),t&&0==t.Corss||(this.DragMode==kn.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&this.ChartCorssCursor.Draw():!1===this.IsOnTouch&&this.CurrentChartDrawPicture&&!0===this.CurrentChartDrawPicture.IsShowCorssCursor?this.ChartCorssCursor.Draw():!1===this.IsOnTouch&&!0===this.CorssCursorTouchEnd||this.CurrentChartDrawPicture?!0===this.IsOnTouch&&this.CurrentChartDrawPicture&&this.EnableShowCorssCursor&&1==this.EnableShowCorssCursor.DrawPicture&&this.ChartCorssCursor.Draw():this.ChartCorssCursor.Draw()),s&&(this.ChartCorssCursor.Canvas=this.Canvas)}var l=null;t&&t.Point&&("OnMouseMove"==t.ParentFunction||"MoveCorssCursorIndex"==t.ParentFunction)&&(l=this.Frame.PtInFrame(t.Point.X,t.Point.Y));var h=this.GetDrawStatus();h.DrawName="DrawDynamicInfo";for(var r=0;r<this.TitlePaint.length;++r){var n=this.TitlePaint[r];n.IsDynamic&&(n.CursorIndex=this.CursorIndex,n.LastPoint=this.LastPoint,n.OnDrawEvent&&(n.OnDrawEvent.FunctionName="DrawDynamicInfo",n.OnDrawEvent.PointPosition=l),n.DrawStatus=h,"DynamicMinuteTitlePainting"==n.ClassName&&(t&&Ee.IsNumber(t.ClientPos)&&t.Point?n.PointInfo={ClientPos:t.ClientPos,Point:{X:t.Point.X,Y:t.Point.Y}}:n.PointInfo=null),n.Draw(o,this.LastMouseStatus))}for(var r=0;r<this.ExtendChartPaint.length;++r){var n=this.ExtendChartPaint[r];if(!n.IsCallbackDraw&&!n.DrawAfterPicture){if("KLineTooltipPaint"==n.ClassName&&t){if(0==t.Tooltip)continue;t.Point&&(n.LatestPoint=t.Point)}else"MinuteTooltipPaint"==n.ClassName&&t&&t.Point&&(n.LatestPoint=t.Point);n.IsDynamic&&!0===n.DrawAfterTitle&&n.Draw()}}if(this.EnableAnimation)for(var r=0;r<this.ExtendChartPaint.length;++r){var n=this.ExtendChartPaint[r];!0===n.IsAnimation&&n.Draw()}for(var r=0;r<this.ChartDrawPicture.length;++r){var n=this.ChartDrawPicture[r];n.IsDrawFirst||(n.IsDrawMain&&n.IsDrawMain()||n.Draw(o,this.LastMouseStatus))}this.CurrentChartDrawPicture&&10!=this.CurrentChartDrawPicture.Status&&this.CurrentChartDrawPicture.Draw();for(var r=0;r<this.ExtendChartPaint.length;++r){var n=this.ExtendChartPaint[r];n.DrawAfterPicture&&n.Draw()}if(this.LastMouseStatus.MouseOnToolbar){var u=this.LastMouseStatus.MouseOnToolbar.Frame;u&&u.DrawToolbarTooltip&&u.DrawToolbarTooltip(this.LastMouseStatus.MouseOnToolbar)}this.OffscreenToShowCanvas(),++this.TouchDrawCount}},this.DrawAnimation=function(){if(this.EnableAnimation){if(this.Frame.ScreenImageData&&!this.IsOnTouch){for(var t=0;t<this.ExtendChartPaint.length;++t){var e=this.ExtendChartPaint[t];!0===e.IsAnimation&&(e.IsMoveStep=!0)}this.DrawDynamicInfo()}var i=this;window.requestAnimationFrame(function(){i.DrawAnimation()})}},this.StartAnimation=function(t){for(var e=!1,i=null,a=0;a<this.ExtendChartPaint.length;++a){var r=this.ExtendChartPaint[a];if("BarragePaint"===r.ClassName){e=!0,i=r.BarrageList;break}}if(!e){var n=new we;n.Canvas=this.Canvas,n.ChartBorder=this.Frame.ChartBorder,n.ChartFrame=this.Frame,n.HQChart=this,n.SetOption(t),this.ExtendChartPaint.push(n),i=n.BarrageList}this.EnableAnimation=!0;var o=this;return window.requestAnimationFrame(function(){o.DrawAnimation()}),i},this.StopAnimation=function(){this.EnableAnimation=!1,this.DrawDynamicInfo()},this.GetChartTooltipData=function(t,e,i){var a=new tt;if(this.ChartInfoPaint&&this.ChartInfoPaint.GetTooltipData(t,e,a))return a;if(this.PtInChartPaintTooltip(t,e,a))return a;if(Ee.IsNonEmptyArray(this.Frame.SubFrame))for(var r=0;r<this.Frame.SubFrame.length;++r)for(var n=this.Frame.SubFrame[r],o=0;o<n.OverlayIndex.length;++o)for(var s=n.OverlayIndex[o],l=0;l<s.ChartPaint.length;++l){var h=s.ChartPaint[l];if(h.GetTooltipData(t,e,a))return a}return this.PtInOverlayChartPaintTooltip(t,e,a)?a:null},this.PtInExtendChartButtons=function(t,e){for(var i=0;i<this.ExtendChartPaint.length;++i){var a=this.ExtendChartPaint[i];if(a.PtInButtons){var r=a.PtInButtons(t,e);if(r)return r.Chart=a,r}}return null},this.ClickExtendChartButton=function(t,e){var i=this.GetEventCallback(Rn.ON_CLICK_EXTENDCHART_BUTTON);if(i&&i.Callback){var a={Info:t,PreventDefault:!1};if(i.Callback(i,a,this),a.PreventDefault)return}},this.PtInDrawPictureButtons=function(t,e){for(var i=0;i<this.ChartDrawPicture.length;++i){var a=this.ChartDrawPicture[i];if(a.PtInButtons){var r=a.PtInButtons(t,e);if(r)return r.Chart=a,r}}return null},this.ClickDrawPictureButton=function(t,e){var i=this.GetEventCallback(Rn.ON_CLICK_DRAWPICTURE_BUTTON);if(i&&i.Callback){var a={Info:t,PreventDefault:!1};if(i.Callback(i,a,this),a.PreventDefault)return}t.ID==Vn.DRAW_PICTURE_DELETE?(Nn.Chart.Log(t,"ClickDrawPictureButton"),this.ClearChartDrawPicture(t.Chart)):(t.ID,Vn.DRAW_PICTURE_SETTING)},this.PtInTitleButtons=function(t,e){for(var i=0;i<this.TitlePaint.length;++i){var a=this.TitlePaint[i];if(a.PtInButtons){var r=a.PtInButtons(t,e);if(r)return r.Chart=a,r}}return null},this.OnMouseMove=function(t,e,i,a){var r=this;this.StopDrawDynamicInfo(),this.LastPoint.X=t,this.LastPoint.Y=e;var n=null,o=null,s=this.Frame.PtInFrame(t,e);if(Ee.IsNumber(s)&&s>=0&&(this.CursorIndex=this.Frame.GetXData(t)),this.EnableBorderDrag&&this.Frame&&!this.CurrentChartDrawPicture){var l=this.Frame.PtInFrameBorder(t,e);l&&l.Index>=0&&(n={Cursor:"n-resize",Name:"DragBorder"},Nn.Chart.Log("[JSChartContainer::OnMouseMove] drag border ",l))}if(this.EnableYDrag&&this.Frame&&!this.CurrentChartDrawPicture){var h=this.TryYDrag(t,e);h&&(n={Cursor:0==h.Position?"n-resize":"row-resize",Name:"DragY"},Nn.Chart.Log("[JSChartContainer::OnMouseMove] drag y ",h))}if(this.CurrentChartDrawPicture||(o=this.PtInButton(t,e))&&(n={Cursor:"pointer",Name:o.Name},Nn.Chart.Log("[JSChartContainer::OnMouseMove] frame button ",o)),this.ChartCorssCursor){var u=this.ChartCorssCursor.PtInButton(t,e);u&&(n={Cursor:"pointer",Name:"CorssCursorButton"},Nn.Chart.Log("[JSChartContainer::OnMouseMove] cross cursor button ",u))}if("KLineChartContainer"==this.ClassName&&this.Frame.PtInFrameBottom(t,e)&&(n={Cursor:"ew-resize",Name:"FrameButtom"},Nn.Chart.Log("[JSChartContainer::OnMouseMove] frame bottom ")),this.SelectedChart.EnableMoveOn&&this.PtInChart&&!this.CurrentChartDrawPicture){var c=this.PtInChart(t,e);c&&c.Identify?(n={Cursor:"pointer",Name:"PtInChart"},this.SelectedChart.MoveOn.Identify=c.Identify,this.SelectedChart.MoveOn.Identify=null,Nn.Chart.Log("[JSChartContainer::OnMouseMove] Point in chart ",c)):this.SelectedChart.MoveOn.Identify=null}else this.SelectedChart.MoveOn.Identify=null;var d=this.GetRectSelectPaint();if(d&&d.GetPointCount()>0){var f=d.PtInPaint(t,e);f&&(n=4==f.Type?{Cursor:"pointer",Name:"DragRectSelect"}:{Cursor:"ew-resize",Name:"DragRectSelect"},Nn.Chart.Log("[JSChartContainer::OnMouseMove] drag rect select ",f))}var p=!1;if(this.CurrentChartDrawPicture){var m=this.Frame.PtInChartFrame(t,e);if(20!=this.CurrentChartDrawPicture.Status){var C=!1;Ee.IsNumber(this.CurrentChartDrawPicture.LimitFrameID)?m>=0&&m==this.CurrentChartDrawPicture.LimitFrameID&&(C=!0):m>=0&&(C=!0),n={Cursor:C?"crosshair":"not-allowed",Name:"CurrentChartDrawPicture"}}this.CurrentChartDrawPicture.SetLastPoint&&this.CurrentChartDrawPicture.SetLastPoint({X:t,Y:e}),p=!0}else{var v={};v.X=t,v.Y=e,this.GetChartDrawPictureByPoint(v)&&v.ChartDrawPicture&&1==v.ChartDrawPicture.EnableMove?(100===v.PointIndex?v.Cursor?this.UIElement.style.cursor=v.Cursor:this.UIElement.style.cursor="move":v.Cursor?this.UIElement.style.cursor=v.Cursor:this.UIElement.style.cursor="pointer",p=!0,this.MoveOnChartDrawPicture=v.ChartDrawPicture):this.MouseDrag||(this.UIElement.style.cursor="default")}var D=this.PtInClient(t,e),g={ParentFunction:"OnMouseMove",Point:{X:t,Y:e},IsPhone:!0===a,ClientPos:D};if((i&&("mouseout"==i.type||"mouseleave"==i.type)||o)&&(g.Corss=!1),this.SetCorssCursorIndex&&this.SetCorssCursorIndex(g),this.DrawDynamicInfoOption.Enable?this.DrawDynamicInfoOption.Timer=setTimeout(function(){r.DrawDynamicInfo(g)},this.DrawDynamicInfoOption.DelayTime):this.DrawDynamicInfo(g),n&&(this.UIElement.style.cursor=n.Cursor),this.IsShowTooltip&&0==p){var S=this.GetChartTooltipData(t,e);if(S&&S.Data){if(!0===a)var x=i.touches[0],b=x.clientX-this.UIElement.getBoundingClientRect().left,I=x.clientY-this.UIElement.getBoundingClientRect().top;else var b=i.clientX-this.UIElement.getBoundingClientRect().left,I=i.clientY-this.UIElement.getBoundingClientRect().top;this.ShowTooltip(b,I,S)}else this.HideTooltip()}},this.OnKeyDown=function(t){var e=this;if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var i=t.keyCode?t.keyCode:t.which;switch(i){case 37:if(t.ctrlKey&&this.OnCustomKeyDown&&this.OnCustomKeyDown(i,t))break;if(this.CursorIndex<=.99999){if(!this.DataMoveLeft()){this.DragDownloadData&&this.DragDownloadData();break}this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("keydown")}else--this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo(),this.ShowTooltipByKeyDown();break;case 39:if(t.ctrlKey&&this.OnCustomKeyDown&&this.OnCustomKeyDown(i,t))break;var a=0;if(a=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,this.CursorIndex+1>=a){if(!this.DataMoveRight())break;this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("keydown")}else{var r=null;if(!(r=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data))break;if(this.CursorIndex+r.DataOffset+1>=r.Data.length)break;++this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo(),this.ShowTooltipByKeyDown()}break;case 38:if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Keyboard)break;var n={ZoomType:this.ZoomType,IsLockRight:this.IsZoomLockRight};if(n.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomUp(n))break;this.CursorIndex=n.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("keydown");break;case 40:if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Keyboard)break;var n={ZoomType:this.ZoomType,IsLockRight:this.IsZoomLockRight};if(n.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomDown(n,{ZoomDownloadDataCallback:function(t){e.ZoomDownloadData(t)}}))break;this.CursorIndex=n.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("keydown");break;case 46:if(this.SelectChartDrawPicture){var o=this.SelectChartDrawPicture;Nn.Chart.Log("[JSChartContainer::OnKeyDown] delete draw picture."),this.SelectChartDrawPicture=null,this.ChartPictureMenu&&this.ChartPictureMenu.Hide(),this.ClearChartDrawPicture(o)}else if(this.SelectedChart&&this.SelectedChart.Selected.Identify){var s=this.GetSelectedChartInfo(this.SelectedChart.Selected);s&&(s.Type==eo.OVERLAY_INDEX?this.DeleteOverlayWindowsIndex(s.IndexID):s.Type==eo.OVERLAY_KLINE&&this.DeleteOverlaySymbol(s.Symbol))}break;case 32:this.OnMarkRectSelect(t);break;case 27:if(this.CurrentChartDrawPicture){var o=this.CurrentChartDrawPicture;20!=o.Status&&(this.CurrentChartDrawPicture=null)}break;default:return}t.preventDefault?t.preventDefault():t.returnValue=!1}},this.OnDoubleClick=function(t,e,i){},this.ZoomIndexWindow=function(t,e){return!(t<0||t>=this.Frame.SubFrame.length)&&this.Frame.ZoomIndexWindow(t,e)},this.ShowIndexTitleOnly=function(t,e){return!(t<0||t>=this.Frame.SubFrame.length)&&this.Frame.ShowIndexTitleOnly(t,e)},this.RemoveMinSizeWindows=function(){if(this.Frame.ZoomWindowsInfo){for(var t=[],e=[],i=0;i<this.Frame.SubFrame.length;++i){var a=this.Frame.SubFrame[i];a.Frame.ClearToolbar(),a.Frame.IsMinSize?t.push(i):e.push(i)}if(this.Frame.ZoomWindowsInfo=null,!(t.length<=0)){for(var i=0;i<t.length;++i)this.DeleteIndexPaint(t[i]);for(var r=[],n=[],o=[this.TitlePaint[0]],i=0;i<e.length;++i){var s=e[i];r[i]=this.Frame.SubFrame[s],n[i]=this.WindowIndex[s],o[i+1]=this.TitlePaint[s+1]}this.Frame.SubFrame=r,this.WindowIndex=n,this.TitlePaint=o;for(var i=0;i<this.Frame.SubFrame.length;++i){var a=this.Frame.SubFrame[i].Frame;i==this.Frame.SubFrame.length-1?a.XSplitOperator.ShowText=!0:a.XSplitOperator.ShowText=!1,a.Identify=i}if(Ee.IsNonEmptyArray(this.ChartDrawPicture)){for(var l=[],i=0;i<this.ChartDrawPicture.length;++i)for(var a=this.ChartDrawPicture[i],h=0;h<this.Frame.SubFrame.length;++h)if(a.Frame==this.Frame.SubFrame[h].Frame){l.push(a);break}this.ChartDrawPicture=l}}}},this.PtInClient=function(t,e){if(this.Canvas.beginPath(),!0===this.Frame.IsHScreen){var i=this.Frame.ChartBorder.GetHScreenBorder();if(i.DayBorder){for(var a=i.Right-i.Left,r=0;r<i.DayBorder.length;++r){var n=i.DayBorder[r];if(this.Canvas.beginPath(),this.Canvas.rect(i.Left,n.TopEx,a,n.BottomEx-n.TopEx),this.Canvas.isPointInPath(t,e))return 1;if(this.Canvas.beginPath(),this.Canvas.rect(i.Left,n.Top,a,n.TopEx-n.Top),this.Canvas.isPointInPath(t,e))return 200+parseInt(r);if(this.Canvas.beginPath(),this.Canvas.rect(i.Left,n.BottomEx,a,n.Bottom-n.BottomEx),this.Canvas.isPointInPath(t,e))return 300+parseInt(r)}return-1}this.Canvas.rect(i.Left,i.TopEx,i.Right-i.Left,i.BottomEx-i.TopEx)}else{var i=this.Frame.ChartBorder.GetBorder();if(i.DayBorder){for(var r=0;r<i.DayBorder.length;++r){var n=i.DayBorder[r];if(this.Canvas.beginPath(),this.Canvas.rect(n.LeftEx,i.TopEx,n.RightEx-n.LeftEx,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 1;if(this.Canvas.beginPath(),this.Canvas.rect(n.Left,i.TopEx,n.LeftEx-n.Left,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 200+parseInt(r);if(this.Canvas.beginPath(),this.Canvas.rect(n.RightEx,i.TopEx,n.Right-n.RightEx,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 300+parseInt(r)}return-1}this.Canvas.rect(i.LeftEx,i.Top,i.RightEx-i.LeftEx,i.Bottom-i.Top)}return this.Canvas.isPointInPath(t,e)?1:this.Frame.ChartBorder.LeftExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.Top,i.Right-i.Left,i.TopEx-i.Top):this.Canvas.rect(i.Left,i.Top,i.LeftEx-i.Left,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?2:this.Frame.ChartBorder.RightExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.BottomEx,i.Right-i.Left,i.Bottom-i.BottomEx):this.Canvas.rect(i.RightEx,i.Top,i.Right-i.RightEx,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?3:-1},this.OnMoveFromeBorder=function(t,e){this.Frame&&this.Frame.OnMoveFromeBorder(t,e)&&(this.Frame.SetFrameBorderSizeChange(),this.Frame.ReDrawToolbar(),this.Draw())},this.OnZoomUpDownFrameY=function(t,e){this.Frame&&this.Frame.OnZoomUpDownFrameY(t,e)&&(this.Frame.SetSizeChage(!0),this.Draw())},this.OnUpDonwFrameY=function(t,e){return!!this.Frame&&(!!this.Frame.OnUpDonwFrameY(t,e)&&(this.Frame.SetSizeChage(!0),!0))},this.CancelZoomUpDownFrameY=function(t){this.Frame&&this.Frame.CancelZoomUpDownFrameY(t)&&(this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw())},this.IsKLineContainer=function(){return"KLineChartContainer"==this.ClassName||"KLineChartHScreenContainer"==this.ClassName||"KLineTrainChartContainer"==this.ClassName||"CustomKLineChartContainer"==this.ClassName},this.UpdatePointByCursorIndex=function(t){var e={X:null,Y:null};e.X=this.Frame.GetXFromIndex(this.CursorIndex);var i=Math.abs(this.CursorIndex-.5);this.IsKLineContainer()&&(i=this.CursorIndex);var a=this.Frame.Data;if(a.DataOffset+i<a.Data.length){var r=a.Data[a.DataOffset+i].Close;e.Y=this.Frame.GetYFromData(r)}if(1==t&&this.ChartCorssCursor)if(1==this.ChartCorssCursor.Status);else{this.LastPoint.X=this.Frame.GetXFromIndex(this.CursorIndex);var i=Math.abs(this.CursorIndex-.5);i=parseInt(i.toFixed(0)),this.IsKLineContainer()&&(i=this.CursorIndex),this.LastPoint.Y=null}else 2==t&&this.ChartCorssCursor?(this.LastPoint.Y=null,this.LastPoint.X=null):(this.LastPoint.X=e.X,this.LastPoint.Y=e.Y)},this.ShowTooltipByKeyDown=function(){var t=Math.abs(this.CursorIndex-.5);t=parseInt(t.toFixed(0)),"KLineChartContainer"!=this.ClassName&&"KLineTrainChartContainer"!=this.ClassName||(t=this.CursorIndex);var e=this.Frame.Data,i=new tt;i.Data=e.Data[e.DataOffset+t],i.ChartPaint=this.ChartPaint[0];var a=c();0===a&&(a=1),this.ShowTooltip(this.LastPoint.X/a,this.LastPoint.Y/a,i)},this.ShowTooltip=function(t,e,i){var a=this;if(this.IsShowTooltip){var r=c(),n=15/r;if(0===i.Type){var o=(C(),t),s=e,l=no.Create("HistoryDataStringFormat");if(l.Value=i,l.Symbol=this.Symbol,l.LanguageID=this.LanguageID,l.GetEventCallback=function(t){return a.GetEventCallback(t)},!l.Operator())return;var h=25*l.LineCount;l.Height>0&&(h=l.Height);var u=l.Width;this.Tooltip.style.width=u+"px",this.Tooltip.style.height=h+"px",this.Tooltip.style.position="absolute",o+u>this.UIElement.getBoundingClientRect().width?this.Tooltip.style.left=o-u+"px":this.Tooltip.style.left=o+"px",s+n+h>this.UIElement.getBoundingClientRect().height-5?this.Tooltip.style.top=s-h+"px":this.Tooltip.style.top=s+n+"px",this.Tooltip.className="jschart-tooltip",this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(1===i.Type){var o=(C(),t),s=e,l=no.Create("KLineInfoDataStringFormat");if(l.Value=i,l.Symbol=this.Symbol,l.LanguageID=this.LanguageID,!l.Operator())return;var u=l.Width;this.Tooltip.className="jchart-klineinfo-tooltip",this.Tooltip.style.position="absolute",o+u>this.UIElement.getBoundingClientRect().width?this.Tooltip.style.left=o-u+"px":this.Tooltip.style.left=o+"px",this.Tooltip.style.top=s+n+"px",this.Tooltip.style.width=u+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(2==i.Type){var o=t,s=e,l=no.Create("KLineTradeDataStringFormat");if(l.Value=i,l.Symbol=this.Symbol,l.LanguageID=this.LanguageID,!l.Operator())return;var u=l.Width;this.Tooltip.className="jchart-klinetrade-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=o+"px",this.Tooltip.style.top=s+n+"px",this.Tooltip.style.width=u+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(3==i.Type){var o=t,s=e,l=no.Create("MinuteInfoDataStringFormat");if(l.Value=i,l.Symbol=this.Symbol,l.LanguageID=this.LanguageID,!l.Operator())return;var u=l.Width;this.Tooltip.className="jchart-minuteinfo-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=o+"px",this.Tooltip.style.top=s+n+"px",this.Tooltip.style.width=u+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(4==i.Type){var o=t,s=e,l=no.Create("IconDataStringFormat");if(l.Value=i,l.Symbol=this.Symbol,l.LanguageID=this.LanguageID,!l.Operator())return;var u=l.Width;this.Tooltip.className="jchart-iconinfo-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=o+"px",this.Tooltip.style.top=s+n+"px",this.Tooltip.style.width=u+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(5==i.Type){var o=t,s=e,l=no.Create("ChartOXDataStringFormat");if(l.Value=i,l.Symbol=this.Symbol,l.Period=this.Period,l.LanguageID=this.LanguageID,!l.Operator())return;var u=l.Width;this.Tooltip.className="jchart-chartox-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=o+"px",this.Tooltip.style.top=s+n+"px",this.Tooltip.style.width=u+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(6==i.Type){var o=t,s=e,l=no.Create("ScatterPlotDataStringFormat");if(l.Value=i,l.Symbol=this.Symbol,l.Period=this.Period,l.LanguageID=this.LanguageID,!l.Operator())return;var u=l.Width;this.Tooltip.className="jchart-charscatterplot-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=o+"px",this.Tooltip.style.top=s+n+"px",this.Tooltip.style.width=u+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}else if(7==i.Type){var o=t,s=e,l=no.Create("ChartDrawSVGDataStringFormat");if(l.Value=i,l.Symbol=this.Symbol,l.Period=this.Period,l.LanguageID=this.LanguageID,!l.Operator())return;var u=l.Width;this.Tooltip.className="jchart-chartdrawsvg-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=o+"px",this.Tooltip.style.top=s+n+"px",this.Tooltip.style.width=u+"px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=l.Text,this.Tooltip.style.display="block"}}},this.HideTooltip=function(){"none"!=this.Tooltip.style.display&&(this.Tooltip.style.display="none")},this.ShowSelectRect=function(t,e,i,a){var r=t,n=e,o=this.Frame.ChartBorder.GetBorder(),s=o.Right,l=o.Left;t>s&&(t=s),i>s&&(i=s),t<l&&(t=l),i<l&&(i=l),t>i&&(r=i),e>a&&(n=a);var h=Math.abs(t-i),u=Math.abs(e-a);this.SelectRect.style.width=h+"px",this.SelectRect.style.height=u+"px",this.SelectRect.style.position="absolute",this.SelectRect.style.left=r+"px",this.SelectRect.style.top=n+"px",this.SelectRect.style.display="block"},this.UpdateSelectRect=function(t,e){if(this.ChartPaint[0].Data){var i=this.GetRectSelectPaint();if(i){var a=this.ChartPaint[0].Data,r=a.Data[t],n=a.Data[e];Nn.Chart.Log("[JSChartContainer::UpdateSelectRect]",r,n),i.SetPoint(r,{Index:0,DataIndex:t}),i.SetPoint(n,{Index:1,DataIndex:e}),this.Draw()}}},this.HideSelectRect=function(){this.SelectRect.style.display="none"},this.ResetFrameXYSplit=function(){"function"==typeof this.Frame.ResetXYSplit&&this.Frame.ResetXYSplit()},this.UpdateFrameMaxMin=function(){for(var t=new Array,e=new Array,i=0;i<this.ChartPaint.length;++i){var a=this.ChartPaint[i];0!=a.IsShow&&e.push(this.ChartPaint[i])}for(var i=0;i<this.OverlayChartPaint.length;++i)e.push(this.OverlayChartPaint[i]);for(var r=[],i=0;i<e.length;++i){var n=e[i];if(n.NotSupportMessage)r.push(n);else{var o=n.GetMaxMin();if(null!=o&&null!=o.Max&&null!=o.Min){for(var s=null,l=0;l<t.length;++l)if(t[l].Frame==n.ChartFrame){s=t[l];break}s?(s.Range.Max<o.Max&&(s.Range.Max=o.Max),s.Range.Min>o.Min&&(s.Range.Min=o.Min)):(s={OverlayFrame:[]},s.Frame=n.ChartFrame,s.Range=o,t.push(s))}}}for(var i=0;i<r.length;++i){for(var n=r[i],o={Max:10,Min:1},s=null,l=0;l<t.length;++l)if(t[l].Frame==n.ChartFrame){s=t[l];break}s||(s={OverlayFrame:[]},s.Frame=n.ChartFrame,s.Range=o,t.push(s))}for(var h=new Mn.default,i=0;i<t.length;++i){var a=t[i];h.set(a.Frame.Identify,a)}for(var i=0;i<this.Frame.SubFrame.length;++i)for(var u=this.Frame.SubFrame[i],l=0;l<u.OverlayIndex.length;++l){var c=u.OverlayIndex[l],d=c.Frame;if(1==d.IsShareY&&(d.MainFrame&&h.has(d.MainFrame.Identify))){var s=h.get(d.MainFrame.Identify);if(s&&(s.OverlayFrame.push(d),!1!==d.IsCalculateYMaxMin))for(var f=0;f<c.ChartPaint.length;++f){var n=c.ChartPaint[f],o=n.GetMaxMin();null!=o&&null!=o.Max&&null!=o.Min&&(s.Range.Max<o.Max&&(s.Range.Max=o.Max),s.Range.Min>o.Min&&(s.Range.Min=o.Min))}}}for(var i=0;i<t.length;++i){var a=t[i];if(a.Frame&&a.Range&&(null!=a.Range.Max&&null!=a.Range.Min)){a.Frame.YSpecificMaxMin?(a.Frame.HorizontalMax=a.Frame.YSpecificMaxMin.Max,a.Frame.HorizontalMin=a.Frame.YSpecificMaxMin.Min):(a.Frame.HorizontalMax=a.Range.Max,a.Frame.HorizontalMin=a.Range.Min),a.Frame.XYSplit=!0;for(var l in a.OverlayFrame)a.OverlayFrame[l].XYSplit=!0}}for(var i=0;i<this.Frame.SubFrame.length;++i)for(var u=this.Frame.SubFrame[i],l=0;l<u.OverlayIndex.length;++l){var c=u.OverlayIndex[l];!0!==c.Frame.IsShareY&&c.UpdateFrameMaxMin()}},this.DataMoveLeft=function(){var t=null;return!!(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data)&&(!(t.DataOffset<=0)&&(--t.DataOffset,!0))},this.DataMoveRight=function(){var t=null;if(!(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data))return!1;var e=0;return!!(e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount)&&(!(e+t.DataOffset>=t.Data.length)&&(++t.DataOffset,!0))},this.UpdataDataoffset=function(){var t=null;if(t=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data){for(var e in this.ChartPaint){var i=this.ChartPaint[e];i.Data&&(i.Data.DataOffset=t.DataOffset)}for(var e in this.OverlayChartPaint){var i=this.OverlayChartPaint[e];i.Data&&(i.Data.DataOffset=t.DataOffset)}for(var e in this.Frame.SubFrame){var a=this.Frame.SubFrame[e];for(var r in a.OverlayIndex){var n=a.OverlayIndex[r];for(var o in n.ChartPaint){var i=n.ChartPaint[o];i.Data&&(i.Data.DataOffset=t.DataOffset)}}}}},this.GetMoveOneStepWidth=function(){if(Ee.IsPlusNumber(this.StepPixel))return this.StepPixel;var t=c(),e=this.Frame.SubFrame[0].Frame,i=e.DataWidth,a=e.DistanceWidth,r=this.StepPixel,r=(i+a)/t;return r<1&&(r=1),r},this.DataMove=function(t,e){var i=this.GetMoveOneStepWidth(),a=t;if((t=parseInt(t/i))<=0)return!1;var r=null;if(!(r=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data))return!1;var n=0;if(!(n=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount))return!1;if(this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&this.Frame.SubFrame[0].Frame){var o=this.Frame.SubFrame[0].Frame;(o.DataWidth<=1||o.DistanceWidth<=1)&&Ee.IsPlusNumber(this.StepPixel)&&(t=parseInt(a)*this.StepPixel)}if(e){if(this.RightSpaceCount>0){if(n+r.DataOffset>=r.Data.length+this.RightSpaceCount-1)return!1;r.DataOffset+=t,r.DataOffset+n>=r.Data.length+this.RightSpaceCount&&(r.DataOffset=r.Data.length-(n-this.RightSpaceCount))}else{if(n+r.DataOffset>=r.Data.length)return!1;r.DataOffset+=t,r.DataOffset+n>=r.Data.length&&(r.DataOffset=r.Data.length-n)}return!0}return!(r.DataOffset<=0)&&(r.DataOffset-=t,r.DataOffset<0&&(r.DataOffset=0),!0)},this.XCoordinateZoom=function(t,e){var i=this.GetMoveOneStepWidth();return!((t=parseInt(t/i))<=0)&&this.Frame.XCoordinateZoom(e)},this.GetSubFrameIndex=function(t,e){if(!this.Frame.SubFrame||this.Frame.SubFrame.length<=0)return-1;for(var i in this.Frame.SubFrame){var a=this.Frame.SubFrame[i].Frame,r=a.ChartBorder.GetLeft(),n=a.ChartBorder.GetTop(),o=a.ChartBorder.GetHeight(),s=a.ChartBorder.GetWidth();if(this.Canvas.beginPath(),this.Canvas.rect(r,n,s,o),this.Canvas.isPointInPath(t,e))return parseInt(i)}return 0},this.GetDataIndexByPoint=function(t){var e=this.Frame;this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&(e=this.Frame.SubFrame[0].Frame);var i=null;if((i=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data)&&e){var a=parseInt(e.GetXData(t));return i.DataOffset+a}},this.GetSelectRectData=function(t){if(Math.abs(t.XStart-t.XEnd)<5)return!1;var e=(this.PtInClient(t.XStart,t.YStart),this.PtInClient(t.XEnd,t.YEnd),null);if(!(e=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data))return!1;var i=this.GetDataIndexByPoint(t.XStart),a=this.GetDataIndexByPoint(t.XEnd);return!(Math.abs(i-a)<2)&&(t.Data=e,i>a?(t.Start=a,t.End=i):(t.Start=i,t.End=a),!0)},this.GetChartDrawPictureByPoint=function(t){for(var e=0;e<this.ChartDrawPicture.length;++e){var i=this.ChartDrawPicture[e],a=i.IsPointIn(t.X,t.Y,this.ChartDrawOption);if(!1!==a&&a>=0)return t.ChartDrawPicture=i,t.PointIndex=a,i.GetCursorType&&(t.Cursor=i.GetCursorType(a)),!0}return!1},this.SaveToImage=function(t,e){if(this.UIElement.width<=0||this.UIElement.height<=0)return null;if(this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return null;Nn.Chart.Log("[JSChartContainer::SaveToImage]",this.UIElement);var i="rgb(255,255,255)";e&&(i=e),this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height),this.Canvas.fillStyle=i,this.Canvas.fillRect(0,0,this.UIElement.width,this.UIElement.height);var a=c();this.Canvas.lineWidth=a,this.Frame.Draw();for(var r in this.ChartPaint){var n=this.ChartPaint[r];n.IsDrawFirst&&n.Draw()}for(var r in this.ChartPaint){var n=this.ChartPaint[r];n.IsDrawFirst||n.Draw()}for(var r in this.ChartPaintEx){var n=this.ChartPaintEx[r];n.Draw()}for(var r in this.OverlayChartPaint){var n=this.OverlayChartPaint[r];n.Draw()}for(var r in this.ExtendChartPaint){var n=this.ExtendChartPaint[r];n.IsDynamic||0!=n.IsAnimation||n.Draw()}this.Frame.DrawInsideHorizontal&&this.Frame.DrawInsideHorizontal(),this.Frame.DrawLock();for(var r in this.ExtendChartPaint){var n=this.ExtendChartPaint[r];n.IsDynamic&&!1===n.DrawAfterTitle&&n.Draw()}null==this.LastPoint.X&&null==this.LastPoint.Y||this.ChartCorssCursor&&(this.ChartCorssCursor.LastPoint=this.LastPoint,this.ChartCorssCursor.CursorIndex=this.CursorIndex);for(var r in this.TitlePaint){var n=this.TitlePaint[r];n.IsDynamic&&(n.CursorIndex=this.CursorIndex,n.Draw())}for(var r in this.ExtendChartPaint){var n=this.ExtendChartPaint[r];n.IsDynamic&&!0===n.DrawAfterTitle&&0==n.IsAnimation&&n.Draw()}if(this.EnableAnimation)for(var r in this.ExtendChartPaint){var n=this.ExtendChartPaint[r];!0===n.IsAnimation&&n.Draw()}for(var r in this.ChartDrawPicture){var n=this.ChartDrawPicture[r];n.Draw()}this.CurrentChartDrawPicture&&10!=this.CurrentChartDrawPicture.Status&&this.CurrentChartDrawPicture.Draw();var o=this.UIElement.toDataURL(t||"image/png",1);return Nn.Chart.Log("[JSChartContainer::SaveToImage] data= ",o),o},this.SaveToImageUrl=function(t,e){t||(t={Format:"image/png",ColorGB:"rgb(255,255,255)"});var i=this.SaveToImage(t.Format,t.ColorGB),a={Base64:i,BucketName:"downloadcache",Path:"hqchart/hq_snapshot"},r=lo.Domain+"/API/FileUploadForBase64";n.HttpRequest({url:r,method:"POST",dataType:"json",data:a,success:function(t){Nn.Chart.Log("[JSChartContainer::SaveToImageUrl] recv data",t);var i={Path:t.relativeurl,Domain:"http://127.0.0.1:8087"};i.Url=i.Domain+"/"+i.Path,e&&e(!0,i,"")},error:function(t){Nn.Chart.Log("[JSChartContainer::SaveToImageUrl] error ",t),e&&e(!1,null,"upload failed")}})},this.ExportDataToCSV=function(t){for(var e="",i="",a=0,r=0;r<t.length;++r){var n=t[r];i+='"'+n.Name+'"',r==t.length-1?i+="\r\n":i+=",",Ee.IsNonEmptyArray(n.Data)&&(a=Math.max(a,n.Data.length))}e+=i;for(var r=0,o=0;r<a;++r){for(i="",o=0;o<t.length;++o){var n=t[o],s=null;n.Data&&r<n.Data.length&&(s=n.Data[r]),i+='"'+s+'"',o==t.length-1?i+="\r\n":i+=","}e+=i}return e="\ufeff"+e},this.SetLanguage=function(t){var e=uo.GetLanguageID(t);if(!Ee.IsNumber(e))return void console.warn("[JSChartContainer::SetLanguage] language="+t+" error");if(this.LanguageID!=e){this.LanguageID=e,this.ChartCorssCursor&&this.ChartCorssCursor.StringFormatY&&(this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID);for(var i=0;i<this.TitlePaint.length;++i){var a=this.TitlePaint[i];a&&(a.LanguageID=this.LanguageID)}for(var i=0;i<this.ExtendChartPaint.length;++i){var a=this.ExtendChartPaint[i];a&&(a.LanguageID=this.LanguageID)}this.Frame&&this.Frame.SetLanguage&&this.Frame.SetLanguage(this.LanguageID),this.Frame.SetSizeChage(!0),this.Draw()}},this.ReloadTiltePaintResource=function(t){for(var e in this.TitlePaint){var i=this.TitlePaint[e];i.ReloadResource&&i.ReloadResource(t)}},this.ReloadExtendChartPaintResource=function(t){for(var e in this.ExtendChartPaint){var i=this.ExtendChartPaint[e];i.ReloadResource&&i.ReloadResource(t)}},this.ReloadChartDrawPictureResource=function(t){if(Ee.IsNonEmptyArray(this.ChartDrawPicture))for(var e=0;e<this.ChartDrawPicture.length;++e){var i=this.ChartDrawPicture[e];i.ReloadResource&&i.ReloadResource(t)}},this.ReloadResource=function(t){this.ReloadBorder(t),this.ReloadTiltePaintResource(t.Resource),this.ReloadChartPaint(t.Resource),this.ReloadFrame(t.Resource),this.ReloadExtendChartPaintResource(t.Resource),this.ReloadChartCorssCursor(t,t.Resource),this.ReloadChartDrawPictureResource(t.Resource),t.Update&&this.Update?this.Update({UpdateCursorIndexType:2}):1==t.Draw&&this.Draw()},this.ReloadBorder=function(t){if(t){var e=c();if(t.Border){var i=t.Border;Ee.IsNumber(i.Left)&&(this.Frame.ChartBorder.Left=i.Left*e),Ee.IsNumber(i.Right)&&(this.Frame.ChartBorder.Right=i.Right*e),Ee.IsNumber(i.Top)&&(this.Frame.ChartBorder.Top=i.Top*e),Ee.IsNumber(i.Bottom)&&(this.Frame.ChartBorder.Bottom=i.Bottom*e)}for(var a in t.Windows){var i=t.Windows[a];if(!(a>=this.Frame.SubFrame.length)){var r=this.Frame.SubFrame[a],n=r.Frame.ChartBorder;Ee.IsNumber(i.TitleHeight)&&(n.TitleHeight=i.TitleHeight*e)}}for(var a in t.Frame){var i=t.Frame[a];if(!(a>=this.Frame.SubFrame.length)){var r=this.Frame.SubFrame[a],n=r.Frame.ChartBorder;i.TopSpace>=0&&(n.TopSpace=i.TopSpace*e),i.BottomSpace>=0&&(n.BottomSpace=i.BottomSpace*e)}}}},this.ReloadFrame=function(t){for(var e=0;e<this.Frame.SubFrame.length;++e){var i=this.Frame.SubFrame[e],a=i.Frame;a&&a.ReloadResource&&a.ReloadResource(t);for(var r=0;r<i.OverlayIndex.length;++r){var n=i.OverlayIndex[r];n.Frame&&n.Frame.ReloadResource&&n.Frame.ReloadResource(t)}}},this.ReloadChartPaint=function(t){for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i&&i.ReloadResource&&i.ReloadResource(t)}},this.ReloadChartCorssCursor=function(t,e){var i=c();if(t&&t.CorssCursor){var a=t.CorssCursor;Ee.IsNumber(a.TitleHeight)&&(this.ChartCorssCursor.TextHeight=a.TitleHeight*i)}this.ChartCorssCursor.ReloadResource&&this.ChartCorssCursor.ReloadResource(e)},this.SetDepthMapData=function(t,e){for(var i=0;i<t.length;++i)for(var a=t[i],r=0;r<this.ExtendChartPaint.length;++r){var n=this.ExtendChartPaint[r];if(n.ID==a.ID){n.Data=a.Data;break}}e&&1==e.Draw&&this.Draw()},this.PointAbsoluteToRelative=function(t,e,i){var a={X:t,Y:e},r=c(),n=this.UIElement.getBoundingClientRect();return i?(a.X=t-n.left*r,a.Y=e-n.top*r):(a.X=(t-n.left)*r,a.Y=(e-n.top)*r),a},this.SetChartDrawPictureFirstPoint=function(t,e,i){var a=this.CurrentChartDrawPicture;if(!a)return!1;if(!this.Frame.SubFrame||this.Frame.SubFrame.length<=0)return!1;for(var r=this.PointAbsoluteToRelative(t,e,i),n=r.X,o=r.Y,s=0;s<this.Frame.SubFrame.length;++s){var l=this.Frame.SubFrame[s].Frame,h=l.ChartBorder.GetLeft(),u=l.ChartBorder.GetTopEx(),c=l.ChartBorder.GetBottomEx(),d=c-u,f=l.ChartBorder.GetWidth();if(this.Canvas.beginPath(),this.Canvas.rect(h,u,f,d),this.Canvas.isPointInPath(n,o)){if(Ee.IsNumber(a.LimitFrameID)&&s!=a.LimitFrameID)return!1;a.Frame=l;break}}return!!a.Frame&&(a.Point[0]=new b,a.Point[0].X=n,a.Point[0].Y=o,a.Status=1,a.PointMagnetKLine(),!0)},this.SetChartDrawPictureSecondPoint=function(t,e,i){var a=this.CurrentChartDrawPicture;if(!a)return!1;var r=this.PointAbsoluteToRelative(t,e,i);return a.Point[1]=new b,a.Point[1].X=r.X,a.Point[1].Y=r.Y,a.Status=2,!0},this.SetChartDrawPictureThirdPoint=function(t,e,i){var a=this.CurrentChartDrawPicture;if(!a)return!1;var r=this.PointAbsoluteToRelative(t,e,i);return a.Point[2]=new b,a.Point[2].X=r.X,a.Point[2].Y=r.Y,a.Status=3,!0},this.MoveChartDrawPicture=function(t,e,i,a){var r=this.CurrentChartDrawPicture;if(!r)return!1;var n=c();i&&(n=1);var o=t*n,s=e*n;return r.Move(o,s,a),!0},this.FinishChartDrawPicturePoint=function(){var t=this.CurrentChartDrawPicture;if(!t)return!1;if(t.PointCount!=t.Point.length)return!1;if("ChartDrawRuler"==t.ClassName)return this.CurrentChartDrawPicture=null,!0;t.PointMagnetKLine(),t.Status=10,t.PointToValue(),this.ChartDrawPicture.push(t),this.CurrentChartDrawPicture=null;var e=this.GetEventCallback(Rn.ON_FINISH_DRAWPICTURE);if(e&&e.Callback){var i={DrawPicture:t};e.Callback(e,i,this)}else t.FinishedCallback&&t.FinishedCallback(t);return t.OnFinish&&t.OnFinish(),this.ChartDrawStorage&&this.ChartDrawStorage.SaveDrawData(t),!0},this.OnSelectChartPicture=function(t){if(Nn.Chart.Log("[JSChartContainer::OnSelectChartPicture]",t),this.ChartPictureMenu||(this.ChartPictureMenu=fo.Create("ChartPictureSettingMenu",this.UIElement.parentNode)),this.ChartPictureMenu){var e={data:{ChartPicture:t,HQChart:this}};this.ChartPictureMenu.DoModal(e)}},this.FinishMoveChartDrawPicture=function(){var t=this.CurrentChartDrawPicture;if(!t)return!1;if(t.PointCount!=t.Point.length)return!1;if(t.PointMagnetKLine(),t.Status=10,t.PointToValue(),this.ChartDrawStorage&&this.ChartDrawStorage.SaveDrawData(t),this.CurrentChartDrawPicture=null,this.SelectChartDrawPicture&&this.SelectChartDrawPicture.DragInfo){var e=this.SelectChartDrawPicture.DragInfo;if(e.Click&&e.Move&&(e.Click.X!=e.Move.X||e.Click.Y!=e.Move.Y)){var i=this.GetEventCallback(Rn.ON_FINISH_MOVE_DRAWPICTURE);if(i&&i.Callback){var a={DrawPicture:t};i.Callback(i,a,this)}t.OnMoveFinish&&t.OnMoveFinish()}}return!0},this.ClearChartDrawPicture=function(t,e){var i=!0;if(t)for(var a in this.ChartDrawPicture)this.ChartDrawPicture[a]==t&&(this.ChartDrawStorage&&this.ChartDrawStorage.DeleteDrawData(t),this.ChartDrawPicture.splice(a,1),e&&0==e.Draw&&(i=!1),i&&this.Draw());else this.ChartDrawPicture=[],this.ChartDrawStorage&&this.ChartDrawStorage.Clear(),e&&0==e.Draw&&(i=!1),i&&this.Draw()},this.GetActiveDrawPicture=function(){var t={Move:{Guid:null},Select:{Guid:null},MoveOn:{Guid:null}};return this.CurrentChartDrawPicture&&(t.Move={Guid:this.CurrentChartDrawPicture.Guid}),this.SelectChartDrawPicture&&(t.Select={Guid:this.SelectChartDrawPicture.Guid,Chart:this.SelectChartDrawPicture}),this.MoveOnChartDrawPicture&&(t.MoveOn={Guid:this.MoveOnChartDrawPicture.Guid}),t},this.SetChartDrawOption=function(t){if(Ee.IsBool(t.IsLockScreen)&&(this.ChartDrawOption.IsLockScreen=t.IsLockScreen),Ee.IsNumber(t.Zoom)&&t.Zoom>=0&&(this.ChartDrawOption.Zoom=t.Zoom),t.Magnet){var e=t.Magnet;this.ChartDrawOption.Magnet||(this.ChartDrawOption.Magnet={Type:0,Distance:20*c(),Enable:!1}),Ee.IsBool(e.Enable)&&(this.ChartDrawOption.Magnet.Enable=e.Enable),Ee.IsNumber(e.Type)&&(this.ChartDrawOption.Magnet.Type=e.Type),Ee.IsNumber(e.Distance)&&(this.ChartDrawOption.Magnet.Distance=opitemion.Distance)}},this.EnableShowCorssCursorLine=function(t){this.ChartCorssCursor&&(this.ChartCorssCursor.IsShowCorss=t)},this.GetExtendChartByClassName=function(t){for(var e=0;e<this.ExtendChartPaint.length;++e){var i=this.ExtendChartPaint[e];if(i.ClassName==t)return{Index:e,Chart:i}}return null},this.GetExtendChartByClassNameV2=function(t){for(var e=[],i=0;i<this.ExtendChartPaint.length;++i){var a=this.ExtendChartPaint[i];a.ClassName==t&&e.push({Index:i,Chart:a})}return e.length<=0?null:e},this.GetExtendChartRightWidth=function(){for(var t=0,e=0;e<this.ExtendChartPaint.length;++e){var i=this.ExtendChartPaint[e];i&&("StockChip"!=i.ClassName&&"DrawToolsButton"!=i.ClassName||Ee.IsNumber(i.Width)&&(t+=i.Width))}return t},this.DeleteExtendChart=function(t){t.Index>=this.ExtendChartPaint.length||this.ExtendChartPaint[t.Index]==t.Chart&&("function"==typeof t.Chart.Clear&&t.Chart.Clear(),this.ExtendChartPaint.splice(t.Index,1))},this.EnableSplashScreen=function(t){this.ChartSplashPaint&&t&&(Ee.IsString(t.Title)&&this.ChartSplashPaint.SetTitle(t.Title),this.ChartSplashPaint.EnableSplash(!0),!1!==t.Draw&&this.Draw())},this.SetSubFrameAttribute=function(t,e,i){if(t&&t.Frame){var a=t.Frame;e&&(Ee.IsBool(e.Modify)&&(a.ModifyIndex=e.Modify),Ee.IsBool(e.Change)&&(a.ChangeIndex=e.Change),Ee.IsBool(e.Close)&&(a.CloseIndex=e.Close),Ee.IsBool(e.Overlay)&&(a.OverlayIndex=e.Overlay),Ee.IsBool(e.IsDrawTitleBG)&&(a.IsDrawTitleBG=e.IsDrawTitleBG),Ee.IsNumber(e.TitleHeight)?a.ChartBorder.TitleHeight=e.TitleHeight:e.TitleHeight=a.ChartBorder.TitleHeight,Ee.IsBool(e.IsShowTitleArraw)&&(a.IsShowTitleArraw=e.IsShowTitleArraw),Ee.IsBool(e.IsShowIndexName)&&(a.IsShowIndexName=e.IsShowIndexName),Ee.IsNumber(e.IndexParamSpace)&&(a.IndexParamSpace=e.IndexParamSpace),Ee.IsNumber(e.IndexTitleSpace)&&(a.IndexTitleSpace=e.IndexTitleSpace)),i&&(i.SplitCount&&(a.YSplitOperator.SplitCount=i.SplitCount),Ee.IsBool(i.IsShowXLine)&&(a.IsShowXLine=i.IsShowXLine),Ee.IsBool(i.IsShowYLine)&&(a.IsShowYLine=i.IsShowYLine),Ee.IsBool(i.IsShowLeftText)&&(a.IsShowYText[0]=i.IsShowLeftText,a.YSplitOperator.IsShowLeftText=i.IsShowLeftText),Ee.IsBool(i.IsShowRightText)&&(a.IsShowYText[1]=i.IsShowRightText,a.YSplitOperator.IsShowRightText=i.IsShowRightText),Ee.IsNumber(i.Height)&&i.Height>=0&&(t.Height=i.Height))}},this.SetSubFrameOption=function(t,e){if(e){if(e.Window){var i=e.Window;null!=i.Modify&&(t.Frame.ModifyIndex=i.Modify),null!=i.Change&&(t.Frame.ChangeIndex=i.Change),null!=i.Close&&(t.Frame.CloseIndex=i.Close),null!=i.Overlay&&(t.Frame.OverlayIndex=i.Overlay),1==i.IsDrawTitleBG&&(t.Frame.IsDrawTitleBG=i.IsDrawTitleBG),Ee.IsBool(i.IsShowNameArrow)&&(t.Frame.IsShowNameArrow=i.IsShowNameArrow),i.OverlayIndexType&&(Ee.IsNumber(i.OverlayIndexType.Position)&&(t.Frame.OverlayIndexType.Position=i.OverlayIndexType.Position),Ee.IsNumber(i.OverlayIndexType.LineSpace)&&(t.Frame.OverlayIndexType.LineSpace=i.OverlayIndexType.LineSpace))}Ee.IsNumber(e.SplitCount)&&(t.Frame.YSplitOperator.SplitCount=e.SplitCount),Ee.IsNumber(e.TitleHeight)&&(t.Frame.ChartBorder.TitleHeight=e.TitleHeight),Ee.IsBool(e.IsShowTitleArraw)&&(t.Frame.IsShowTitleArraw=e.IsShowTitleArraw),Ee.IsBool(e.IsShowIndexName)&&(t.Frame.IsShowIndexName=e.IsShowIndexName),Ee.IsBool(e.IsShowOverlayIndexName)&&(t.Frame.IsShowOverlayIndexName=e.IsShowOverlayIndexName),Ee.IsNumber(e.IndexParamSpace)&&(t.Frame.IndexParamSpace=e.IndexParamSpace),Ee.IsBool(e.IsShowXLine)&&(t.Frame.IsShowXLine=e.IsShowXLine),Ee.IsBool(e.IsShowYLine)&&(t.Frame.IsShowYLine=e.IsShowYLine),Ee.IsBool(e.IsShowIndexTitle)&&(t.Frame.IsShowIndexTitle=e.IsShowIndexTitle),Ee.IsBool(e.IsShowLeftText)&&(t.Frame.IsShowYText[0]=e.IsShowLeftText,t.Frame.YSplitOperator.IsShowLeftText=e.IsShowLeftText),Ee.IsBool(e.IsShowRightText)&&(t.Frame.IsShowYText[1]=e.IsShowRightText,t.Frame.YSplitOperator.IsShowRightText=e.IsShowRightText)}},this.AddNewSubFrame=function(t){var e=this,i=this.Frame.SubFrame.length,a=this.CreateSubFrameItem(i),r=c();a.Frame.ChartBorder.TitleHeight*=r,this.Frame.SubFrame[i]=a;var n=new ii;n.Frame=this.Frame.SubFrame[i].Frame,n.Canvas=this.Canvas,n.LanguageID=this.LanguageID,n.GetEventCallback=function(t){return e.GetEventCallback(t)},this.TitlePaint[i+1]=n,this.SetSubFrameOption(a,t);for(var o=0;o<this.Frame.SubFrame.length;++o){var s=this.Frame.SubFrame[o].Frame;o==this.Frame.SubFrame.length-1?s.XSplitOperator.ShowText=!0:s.XSplitOperator.ShowText=!1}return this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.UpdateXShowText&&this.UpdateXShowText(),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw(),i},this.AddIndexWindow=function(t,e){var i=new s,a=i.Get(t);if(a){this.RemoveMinSizeWindows();var r=this.AddNewSubFrame(e),n={Name:a.Name,Script:a.Script,Args:a.Args,ID:t,KLineType:a.KLineType,YSpecificMaxMin:a.YSpecificMaxMin,YSplitScale:a.YSplitScale,FloatPrecision:a.FloatPrecision,Condition:a.Condition,StringFormat:a.StringFormat,OutName:a.OutName};if(e&&(e.FloatPrecision>=0&&(n.FloatPrecision=e.FloatPrecision),e.StringFormat>0&&(n.StringFormat=e.StringFormat),e.Args&&(n.Args=e.Args),e.Lock&&(n.Lock=e.Lock)),this.WindowIndex[r]=new Lr(n.Name,n.Script,n.Args,n),"MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName)var o=this.SourceData;else var o=this.ChartPaint[0].Data;this.BindIndexData(r,o)}},this.AddAPIIndexWindow=function(t,e){if(t.API){this.RemoveMinSizeWindows();var i=this.AddNewSubFrame(e),a=t.API;if(this.WindowIndex[i]=new Ar(a.Name,a.Script,a.Args,t),"MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName)var r=this.SourceData;else var r=this.ChartPaint[0].Data;this.BindIndexData(i,r)}},this.AddScriptIndexWindow=function(t,e){if(t&&t.Script&&t.Name){this.RemoveMinSizeWindows();var i=this.AddNewSubFrame(e),a={Name:t.Name,Script:t.Script,Args:t.Args,ID:t.Name,KLineType:t.KLineType,YSpecificMaxMin:t.YSpecificMaxMin,YSplitScale:t.YSplitScale,FloatPrecision:t.FloatPrecision,Condition:t.Condition,StringFormat:t.StringFormat,OutName:t.OutName};if(t.ID&&(a.ID=t.ID),this.WindowIndex[i]=new Lr(a.Name,a.Script,a.Args,a),"MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName)var r=this.SourceData;else var r=this.ChartPaint[0].Data;this.BindIndexData(i,r)}},this.GetRectSelectPaint=function(){for(var t=0;t<this.ExtendChartPaint.length;++t){var e=this.ExtendChartPaint[t];if("RectSelectPaint"==e.ClassName)return e}return null},this.SetRectSelectData=function(t,e){var i=this.GetRectSelectPaint();if(!i)return!1;if(2==i.GetPointCount()){if(!i.SpaceReselected)return!1;var a=i.PreventClose;i.PreventClose=!1,i.ClearPoint(),i.PreventClose=a}return i.SetPoint(t,{DataIndex:e})},this.MoveRectSelectPoint=function(e){var i=this.GetRectSelectPaint();if(!i)return!1;if(!this.ChartPaint[0]||!this.ChartPaint[0].Data)return!1;var a=this.ChartPaint[0].Data;if(!this.Frame.SubFrame[0])return!1;var r=this.Frame.SubFrame[0].Frame,n=c(),o=(e.X-t.getBoundingClientRect().left)*n,s=r.GetXData(o);s=parseInt(s.toFixed(0));var l=s+a.DataOffset;l>=a.Data.length&&(l=a.Data.length-1);var h=a.Data[l];if(Nn.Chart.Log("[KLineChartContainer::MoveRectSelectPoint] point, item",e.PointIndex,h),!i.SetPoint(h,{Index:e.PointIndex,DataIndex:l}))return!1;var u=this.GetEventCallback(Rn.ON_DRAG_SELECT_RECT);if(u){var d=i.GetSelectRectData(),f={X:e.X,Y:e.Y,SelectData:d,RectSelectPaint:i};u.Callback(u,f,this)}return!0},this.MoveSubRectSelect=function(t){var e=this.GetRectSelectPaint();if(!e)return!1;if(!e.MoveSubRect(t.Step,t.IsLeft))return!1;var i=this.GetEventCallback(Rn.ON_DRAG_SUB_SELECT_RECT);if(i){var a={Start:e.SubClient.FirstPoint,End:e.SubClient.SecondPoint},r={X:t.X,Y:t.Y,SubRectSelectData:a,RectSelectPaint:e};i.Callback(i,r,this)}return!0},this.ClearRectSelect=function(t){var e=this.GetRectSelectPaint();return!!e&&(t&&(e.PreventClose=!1),e.ClearPoint())},this.DeleteOverlayIndex=function(t,e){var i=null;if(Ee.IsNumber(e)){if(e>=0&&e<this.Frame.SubFrame.length)for(var a=this.Frame.SubFrame[e],r=0;r<a.OverlayIndex.length;++r){var n=a.OverlayIndex[r];if(n.Identify===t){for(var o=0;o<n.ChartPaint.length;++o){var s=n.ChartPaint[o];s&&s.OnDestroy&&s.OnDestroy()}a.OverlayIndex.splice(r,1),i=e;break}}}else for(var l=0;l<this.Frame.SubFrame.length;++l)for(var a=this.Frame.SubFrame[l],r=0;r<a.OverlayIndex.length;++r){var n=a.OverlayIndex[r];if(n.Identify===t){for(var o=0;o<n.ChartPaint.length;++o){var s=n.ChartPaint[o];s&&s.OnDestroy&&s.OnDestroy()}a.OverlayIndex.splice(r,1),i=l;break}}if(null==i)return console.warn("[JSChartContainer::DeleteOverlayIndex] can't find overlay index. [identify="+t+"]"),!1;var h=i+1,u=this.TitlePaint[h];return u.OverlayIndex.has(t)&&u.OverlayIndex.delete(t),u.OverlayDynamicTitle.has(t)&&u.OverlayDynamicTitle.delete(t),!0},this.FindScriptIndex=function(t,e){if(Ee.IsNumber(e)&&e>=0){if(e>=this.Frame.SubFrame.length)return null;var i=this.WindowIndex[e];if(i&&i.Guid==t)return{Type:0,Data:i,WindowIndex:e};for(var i=this.Frame.SubFrame[e],a=0;a<i.OverlayIndex.length;++a){var r=i.OverlayIndex[a];if(r.Identify===t)return{Type:1,Data:r,WindowIndex:e,OverlayIndex:a}}}else for(var a=0;a<this.Frame.SubFrame.length;++a){var i=this.WindowIndex[a];if(i&&i.Guid==t)return{Type:0,Data:i,WindowIndex:a};for(var i=this.Frame.SubFrame[a],n=0;n<i.OverlayIndex.length;++n){var r=i.OverlayIndex[n];if(r.Identify===t)return{Type:1,Data:r,WindowIndex:a,OverlayIndex:n}}}return null},this.MoveIndex=function(t,e,i){var a=this;if(!t||!e||!i)return!1;if(!Ee.IsNumber(t.WindowIndex)||t.WindowIndex<0||t.WindowIndex>=this.Frame.SubFrame.length)return!1;if(!Ee.IsNumber(e.WindowIndex)||e.WindowIndex<0||e.WindowIndex>=this.Frame.SubFrame.length)return!1;var r=this.FindScriptIndex(t.IndexID,t.WindowIndex);if(!r)return!1;var n=null,o=null;if(0==r.Type?n=r.Data:1==r.Type&&(o=r.Data),!o&&!n)return!1;var s=0;if(("MinuteChartContainer"==this.ClassName||"MinuteChartHScreenContainer"==this.ClassName)&&(s=2),e.WindowIndex>=s&&null==this.WindowIndex[e.WindowIndex]){n?this.WindowIndex[e.WindowIndex]=this.CreateMainScript(n):o&&(this.WindowIndex[e.WindowIndex]=this.CreateMainScript(o.Script)),0==i.Operator&&(o?this.DeleteOverlayIndex(o.Identify,t.WindowIndex):n&&this.DeleteMainIndex(n.Guid,t.WindowIndex));var l=this.GetMainData();this.BindIndexData(e.WindowIndex,l),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}else{var h=this.Frame.SubFrame[e.WindowIndex];h.Interval=this.OverlayIndexFrameWidth;var u=new G,c=this.CreateOverlayFrame();c.Canvas=this.Canvas,c.MainFrame=h.Frame,c.ChartBorder=h.Frame.ChartBorder,o&&(c.IsShow=o.Frame.IsShow),c.YSplitOperator=new Le,c.YSplitOperator.LanguageID=this.LanguageID,c.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),c.YSplitOperator.Frame=c,c.YSplitOperator.ChartBorder=c.ChartBorder,c.YSplitOperator.SplitCount=h.Frame.YSplitOperator.SplitCount,c.YSplitOperator.GetEventCallback=function(t){return a.GetEventCallback(t)},u.Frame=c;var d;n?(d=this.CreateOverlayScript(n),d.OverlayIndex={IsOverlay:!0,Identify:u.Identify,WindowIndex:e.WindowIndex,Frame:u}):o&&(d=this.CreateOverlayScript(o.Script),d.OverlayIndex={IsOverlay:!0,Identify:u.Identify,WindowIndex:e.WindowIndex,Frame:u}),u.Script=d,h.OverlayIndex.push(u);var f=e.WindowIndex;if(0==i.Operator)if(o)this.DeleteOverlayIndex(o.Identify,t.WindowIndex);else if(n){this.DeleteMainIndex(n.Guid,t.WindowIndex);var r=this.FindScriptIndex(u.Identify);r&&(f=r.WindowIndex)}var l=this.GetMainData();this.BindOverlayIndexData(u,f,l),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.MoveIndexToNewWindow=function(t,e){var i=this;if(!t||!e)return!1;if(!Ee.IsNumber(t.WindowIndex)||t.WindowIndex<0||t.WindowIndex>=this.Frame.SubFrame.length)return!1;var a=this.FindScriptIndex(t.IndexID,t.WindowIndex);if(!a)return!1;var r=null,n=null;if(0==a.Type?r=a.Data:1==a.Type&&(n=a.Data),!n&&!r)return!1;if(t.WindowIndex==this.Frame.SubFrame.length-1&&this.Frame.SubFrame[t.WindowIndex].OverlayIndex<=0)return!1;this.RemoveMinSizeWindows();var o=this.Frame.SubFrame.length,s=this.CreateSubFrameItem(o),l=c();s.Frame.ChartBorder.TitleHeight*=l,this.Frame.SubFrame[o]=s;var h=new ii;h.Frame=this.Frame.SubFrame[o].Frame,h.Canvas=this.Canvas,h.LanguageID=this.LanguageID,h.SelectedChart=this.SelectedChart,h.GetEventCallback=function(t){return i.GetEventCallback(t)},this.TitlePaint[o+1]=h,this.SetSubFrameOption(s,e);for(var u=0;u<this.Frame.SubFrame.length;++u){var d=this.Frame.SubFrame[u].Frame;u==this.Frame.SubFrame.length-1?d.XSplitOperator.ShowText=!0:d.XSplitOperator.ShowText=!1}0==e.Operator&&(n?this.DeleteOverlayIndex(n.Identify,t.WindowIndex):r&&this.DeleteMainIndex(r.Guid,t.WindowIndex)),this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.UpdateXShowText&&this.UpdateXShowText(),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw();var o=this.Frame.SubFrame.length-1;r?this.WindowIndex[o]=this.CreateMainScript(r):n&&(this.WindowIndex[o]=this.CreateMainScript(n.Script));var f=this.GetMainData();this.BindIndexData(o,f)},this.CreateOverlayScript=function(t){var e=null;switch(t.ClassName){case"ScriptIndex":e=new Mr;break;case"APIScriptIndex":e=new Ar(null,null,null,null,!0);break;case"OverlayScriptIndex":e=new Mr}return t.CopyTo(e),e},this.CreateMainScript=function(t){var e=null;switch(t.ClassName){case"ScriptIndex":case"OverlayScriptIndex":e=new Lr;break;case"APIScriptIndex":e=new Ar}return t.CopyTo(e),e},this.DeleteMainIndex=function(t,e){if(!this.WindowIndex[e])return!1;var i=this.Frame.SubFrame[e];if(!i)return!1;if(Ee.IsNonEmptyArray(i.OverlayIndex)){var a=i.OverlayIndex[0];this.DeleteOverlayIndex(a.Identify,e),this.WindowIndex[e]=this.CreateMainScript(a.Script);var r=this.GetMainData();this.BindIndexData(e,r)}else this.RemoveIndexWindow(e,{DeleteMainIndex:!0})},this.GetMainData=function(){switch(this.ClassName){case"MinuteChartContainer":case"MinuteChartHScreenContainer":return this.SourceData;case"KLineChartContainer":case"KLineChartHScreenContainer":return this.ChartPaint[0].Data}},this.CreateOverlayFrame=function(){switch(this.ClassName){case"KLineChartContainer":return new R;case"KLineChartHScreenContainer":return new k;case"MinuteChartContainer":return new N;case"MinuteChartHScreenContainer":return new _}},this.ExportData=function(t){if(!this.ExportMainData)return null;if(!this.ChartPaint[0])return null;var e=this.GetMainData();if(!e||!Ee.IsNonEmptyArray(e.Data))return null;var i=null,a=e.Data;t.Start&&t.End&&(i=e.GetDataRange(t.Start,t.End));var r=this.ExportMainData(e,i);if(!r)return null;for(var n=1;n<this.ChartPaint.length;++n){var o=this.ChartPaint[n];if(o&&o.ExportData){var s=o.ExportData(a,i);if(s&&Ee.IsNonEmptyArray(s))for(var l=0;l<s.length;++l){var h=s[l];o.IndexName?r.push({Name:h.Name+"("+o.IndexName+")",Data:h.Data}):r.push(h)}}}for(var n=0;n<this.OverlayChartPaint.length;++n){var o=this.OverlayChartPaint[n];if(o.Data&&Ee.IsNonEmptyArray(d.Data.Data)){var s=this.ExportMainData(o.Data,{IsOverlay:!0});if(s&&Ee.IsNonEmptyArray(s))for(var l=0;l<s.length;++l){var h=s[l];r.push({Name:h.Name+"("+o.Symbol+")",Data:h.Data})}}}for(var n=0,l=0,u=0;n<this.Frame.SubFrame.length;++n){var o=this.Frame.SubFrame[n];for(l=0;l<o.OverlayIndex.length;++l){var c=o.OverlayIndex[l];if(Ee.IsNonEmptyArray(c.ChartPaint))for(u=0;u<c.ChartPaint.length;++u){var d=c.ChartPaint[u];if(d&&d.ExportData){var s=d.ExportData(a,i);if(s&&Ee.IsNonEmptyArray(s))for(var f=0;f<s.length;++f){var h=s[f];d.IndexName?r.push({Name:h.Name+"("+d.IndexName+")",Data:h.Data}):r.push(h)}}}}}return t&&"CSV"==t.Type?this.ExportDataToCSV(r):r}}function c(){return"undefined"==typeof window?1:window.devicePixelRatio||1}function d(t,e,i){if(!t)return null;e&&(t.font=e);var a="擎";Ee.IsString(i)&&(a=i);var r=t.measureText(a),n=r.fontBoundingBoxAscent+r.fontBoundingBoxDescent;return Ee.IsNumber(n)||(n=r.width+2*c()),n}function f(t){this.JSChartContainer&&this.JSChartContainer.OnKeyDown&&this.JSChartContainer.OnKeyDown(t)}function p(t,e){var i=1;if(isNaN(t))return t;t<0&&(i=-1);var a=Math.pow(10,e),r=Math.round(Math.abs(t)*a)/a*i;if(/^(\d+(?:\.\d+)?)(e)([\-]?\d+)$/.test(r))var n=r.toFixed2(e);else var n=r.toString();var o=n.indexOf(".");for(o<0&&e>0&&(o=n.length,n+=".");n.length<=o+e;)n+="0";return n}function m(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"guid"+(t()+t())+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function C(){var t={},e=0,i=0;return document.documentElement&&document.documentElement.scrollTop?(e=document.documentElement.scrollTop,i=document.documentElement.scrollLeft):document.body&&(e=document.body.scrollTop,i=document.body.scrollLeft),t.Top=e,t.Left=i,t}function v(t){return parseInt(t)+.5}function D(t,e){return t%2==0?Math.floor(e):Math.floor(e)+.5}function g(t){return.5+t<<0}function S(t){if(!t)return null;var e=(0,wn.default)(t);return JSON.parse(e)}function b(){this.X,this.Y}function I(){this.Data,this.JSChartContainer,this.Start,this.End,this.XStart,this.YStart,this.XEnd,this.YEnd}function T(){this.Value,this.Message=[],this.TextColor=lo.FrameSplitTextColor,this.TextColor2,this.Font=lo.FrameSplitTextFont,this.LineColor=lo.FrameSplitPen,this.LineDash=null,this.LineType=1,this.LineWidth,this.ExtendData}function w(){this.UIElement,this.Left=50,this.Right=80,this.Top=50,this.Bottom=50,this.TitleHeight=24,this.TopSpace=0,this.BottomSpace=0,this.LeftExtendWidth=0,this.RightExtendWidth=0,this.MultiDayMinute={Count:1,Left:0,Right:0},this.IsShowTitleOnly=!1,this.GetBorder=function(){var t={Left:this.Left,LeftEx:this.Left+this.LeftExtendWidth,Right:this.UIElement.width-this.Right,RightEx:this.UIElement.width-this.Right-this.RightExtendWidth,Top:this.Top,TopEx:this.Top+this.TitleHeight+this.TopSpace,TopTitle:this.Top+this.TitleHeight,Bottom:this.UIElement.height-this.Bottom,BottomEx:this.UIElement.height-this.Bottom-this.BottomSpace,ChartWidth:this.UIElement.width,ChartHeight:this.UIElement.height};if(this.MultiDayMinute&&this.MultiDayMinute.Count>1&&(this.MultiDayMinute.Left>0||this.MultiDayMinute.Right>0)){for(var e=this.UIElement.width-this.Left-this.Right,i=e/this.MultiDayMinute.Count,a=[],r=0;r<this.MultiDayMinute.Count;++r){var n={Left:this.Left+i*r,Right:this.Left+i*(r+1)};n.LeftEx=n.Left+this.MultiDayMinute.Left,n.RightEx=n.Right-this.MultiDayMinute.Right,a.push(n)}t.DayBorder=a}return t},this.GetHScreenBorder=function(){var t={Left:this.Left,LeftEx:this.Left+this.BottomSpace,Right:this.UIElement.width-this.Right,RightEx:this.UIElement.width-this.Right-this.TitleHeight-this.TopSpace,RightTitle:this.UIElement.width-this.Right-this.TitleHeight,Top:this.Top,TopEx:this.Top+this.LeftExtendWidth,Bottom:this.UIElement.height-this.Bottom,BottomEx:this.UIElement.height-this.Bottom-this.RightExtendWidth,ChartWidth:this.UIElement.width,ChartHeight:this.UIElement.height};if(this.MultiDayMinute&&this.MultiDayMinute.Count>1&&(this.MultiDayMinute.Left>0||this.MultiDayMinute.Right>0)){for(var e=this.UIElement.height-this.Top-this.Bottom,i=e/this.MultiDayMinute.Count,a=[],r=0;r<this.MultiDayMinute.Count;++r){var n={Top:this.Top+i*r,Bottom:this.Top+i*(r+1)};n.TopEx=n.Top+this.MultiDayMinute.Left,n.BottomEx=n.Bottom-this.MultiDayMinute.Right,a.push(n)}t.DayBorder=a}return t},this.PtInClient=function(t,e,i,a){if(a){var r=this.GetHScreenBorder();i.rect(r.Left,r.TopEx,r.Right-r.Left,r.BottomEx-r.TopEx)}else{var r=this.GetBorder();if(r.DayBorder){for(var n=0;n<r.DayBorder.length;++n){var o=r.DayBorder[n];if(i.beginPath(),i.rect(o.LeftEx,r.TopEx,o.RightEx-o.LeftEx,r.BottomEx-r.TopEx),i.isPointInPath(t,e))return 1;if(i.beginPath(),i.rect(o.Left,r.TopEx,o.LeftEx-o.Left,r.BottomEx-r.TopEx),i.isPointInPath(t,e))return 200+parseInt(n);if(i.beginPath(),i.rect(o.RightEx,r.TopEx,o.Right-o.RightEx,r.BottomEx-r.TopEx),i.isPointInPath(t,e))return 300+parseInt(n)}return-1}i.rect(r.LeftEx,r.Top,r.RightEx-r.LeftEx,r.Bottom-r.Top)}return i.isPointInPath(t,e)?1:this.LeftExtendWidth>10&&(i.beginPath(),!0===a?i.rect(r.Left,r.Top,r.Right-r.Left,r.TopEx-r.Top):i.rect(r.Left,r.Top,r.LeftEx-r.Left,r.Bottom-r.Top),i.isPointInPath(t,e))?2:this.RightExtendWidth>10&&(i.beginPath(),!0===a?i.rect(r.Left,r.BottomEx,r.Right-r.Left,r.Bottom-r.BottomEx):i.rect(r.RightEx,r.Top,r.Right-r.RightEx,r.Bottom-r.Top),i.isPointInPath(t,e))?3:-1},this.GetChartWidth=function(){return this.UIElement.width},this.GetChartHeight=function(){return this.UIElement.height},this.GetLeft=function(){return this.Left+this.LeftExtendWidth},this.GetRight=function(){return this.UIElement.width-this.Right-this.RightExtendWidth},this.GetTop=function(){return this.Top},this.GetTopEx=function(){return this.Top+this.TitleHeight+this.TopSpace},this.GetTopTitle=function(){return this.Top+this.TitleHeight},this.GetBottom=function(){return this.UIElement.height-this.Bottom},this.GetBottomEx=function(){return this.UIElement.height-this.Bottom-this.BottomSpace},this.GetWidth=function(){return this.UIElement.width-this.Left-this.Right-this.LeftExtendWidth-this.RightExtendWidth},this.GetHeight=function(){return this.UIElement.height-this.Top-this.Bottom},this.GetHeightEx=function(){return this.UIElement.height-this.Top-this.Bottom-this.TitleHeight-this.TopSpace-this.BottomSpace},this.GetRightEx=function(){return this.UIElement.width-this.Right-this.TitleHeight-this.TopSpace},this.GetWidthEx=function(){return this.UIElement.width-this.Left-this.Right-this.TitleHeight-this.TopSpace-this.BottomSpace},this.GetLeftEx=function(){return this.Left+this.BottomSpace},this.GetRightTitle=function(){return this.UIElement.width-this.Right-this.TitleHeight},this.GetTitleHeight=function(){return this.TitleHeight}}function E(){this.DataMap=new Mn.default([["KLineFrame",{Create:function(t){return new P}}],["KLineHScreenFrame",{Create:function(t){return new B}}]]),this.Create=function(t,e){return this.DataMap.has(t)?this.DataMap.get(t).Create(e):(Nn.Warn("[ChartFrameFactory::Create] can't find class="+t+"."),null)},this.Add=function(t,e){var i=null;return this.DataMap.has(t)&&(i=this.DataMap.get(t)),this.DataMap.set(t,{Create:e.Create}),i}}function F(){this.HorizontalInfo=new Array,this.VerticalInfo=new Array,this.ClassName="IChartFramePainting",this.Canvas,this.Identify,this.Guid=m(),this.ChartBorder,this.PenBorder=lo.FrameBorderPen,this.TitleBGColor=lo.FrameTitleBGColor,this.IsShow=!0,this.SizeChange=!0,this.XYSplit=!0,this.HorizontalMax,this.HorizontalMin,this.XPointCount=10,this.YSplitOperator,this.XSplitOperator,this.Data,this.IsLocked=!1,this.LockPaint=null,this.YSpecificMaxMin=null,this.IsShowBorder=!0,this.IsShowTitleArraw=!0,this.IsShowIndexName=!0,this.IsShowOverlayIndexName=!0,this.OverlayIndexType={Position:1,LineSpace:3},this.IndexParamSpace=2,this.IndexTitleSpace=0,this.IsShowIndexTitle=!0,this.IsDrawTitleBottomLine=!1,this.BorderLine=null,this.Buttons=[],this.LeftButtonWidth=0,this.IsMinSize=!1,this.LogoTextColor=lo.FrameLogo.TextColor,this.LogoTextFont=lo.FrameLogo.Font,this.GlobalOption,this.PtInButtons=function(t,e){for(var i=0;i<this.Buttons.length;++i){var a=this.Buttons[i];if(a.Rect){var r=a.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(r.Left,r.Top,r.Width,r.Height),this.Canvas.isPointInPath(t,e))return{ID:a.ID,Rect:r}}}return null},this.GetBorder=function(){return this.IsHScreen?this.ChartBorder.GetHScreenBorder():this.ChartBorder.GetBorder()},this.Draw=function(){this.Buttons=[],this.DrawFrame(),this.DrawBorder(),this.SizeChange=!1,this.XYSplit=!1},this.DrawFrame=function(){},this.ClearCoordinateText=function(t){if(Ee.IsNonEmptyArray(this.HorizontalInfo))for(var e=0;e<this.HorizontalInfo.length;++e){var i=this.HorizontalInfo[e];i&&i.Message&&Array.isArray(i.Message)&&(i.Message[0]=i.Message[1]=null)}if(Ee.IsNonEmptyArray(this.VerticalInfo))for(var e=0;e<this.VerticalInfo.length;++e){var i=this.VerticalInfo[e];i&&i.Message&&Array.isArray(i.Message)&&(i.Message[0]=i.Message[1]=null)}},this.DrawBorder=function(){if(this.IsShowBorder&&!this.IsMinSize){var t=1==this.IsHScreen?this.ChartBorder.GetHScreenBorder():this.ChartBorder.GetBorder(),e=v(t.Left),i=v(t.Top),a=v(t.Right),r=v(t.Bottom),n=a-e,o=r-i;null==this.BorderLine?(this.Canvas.strokeStyle=this.PenBorder,this.Canvas.strokeRect(e,i,n,o)):Ee.IsPlusNumber(this.BorderLine)&&(this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),(1&this.BorderLine)>0&&(this.Canvas.moveTo(e,i),this.Canvas.lineTo(a,i)),(2&this.BorderLine)>0&&(this.Canvas.moveTo(e,r),this.Canvas.lineTo(a,r)),(4&this.BorderLine)>0&&(this.Canvas.moveTo(e,i),this.Canvas.lineTo(e,r)),(8&this.BorderLine)>0&&(this.Canvas.moveTo(a,i),this.Canvas.lineTo(a,r)),this.Canvas.stroke())}},this.DrawTitleBG=function(){if(!(this.ChartBorder.TitleHeight<=0)){var t=this.GetBorder(),e=v(t.Left),i=v(t.Top),a=v(t.Right),r=v(this.ChartBorder.GetTopTitle()),n=a-e,o=r-i;this.Canvas.fillStyle=this.TitleBGColor,this.Canvas.fillRect(e,i,n,o),this.IsDrawTitleBottomLine&&(this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),this.Canvas.moveTo(e,v(t.TopTitle)),this.Canvas.lineTo(a,v(t.TopTitle)),this.Canvas.stroke())}},this.DrawLock=function(){this.IsLocked&&(null==this.LockPaint&&(this.LockPaint=new re),this.LockPaint.Canvas=this.Canvas,this.LockPaint.ChartBorder=this.ChartBorder,this.LockPaint.ChartFrame=this,this.LockPaint.Draw(!0))},this.DrawLogo=function(){var t=this.GetBorder(),e=lo.FrameLogo.Text;if(Ee.IsString(e))if(this.Canvas.fillStyle=this.LogoTextColor,this.Canvas.font=this.LogoTextFont,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.IsHScreen){var i=t.Left+5,a=t.Top+5;this.Canvas.save(),this.Canvas.translate(i,a),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e,0,0),this.Canvas.restore()}else{var i=t.Left+5,a=t.Bottom-5;this.Canvas.fillText(e,i,a)}},this.CalculateLock=function(){this.IsLocked&&(null==this.LockPaint&&(this.LockPaint=new re),this.LockPaint.Canvas=this.Canvas,this.LockPaint.ChartBorder=this.ChartBorder,this.LockPaint.ChartFrame=this,this.LockPaint.Draw(!1))},this.SetLock=function(t){if(!t)return void(this.IsLocked=!1);this.IsLocked=!0,this.LockPaint||(this.LockPaint=new re),t.Callback&&(this.LockPaint.Callback=t.Callback),t.IndexName&&(this.LockPaint.IndexName=t.IndexName),t.ID&&(this.LockPaint.LockID=t.ID),t.BG&&(this.LockPaint.BGColor=t.BG),t.Text&&(this.LockPaint.Title=t.Text),t.TextColor&&(this.LockPaint.TextColor=t.TextColor),t.Font&&(this.LockPaint.Font=t.Font),t.Count&&(this.LockPaint.LockCount=t.Count),t.MinWidth>0&&(this.LockPaint.MinWidth=t.MinWidth)},this.GetLockRect=function(){return this.IsLocked&&this.LockPaint?this.LockPaint.LockRect:null},this.ReloadResource=function(t){t||(this.PenBorder=lo.FrameBorderPen,this.TitleBGColor=lo.FrameTitleBGColor);for(var e in this.HorizontalInfo){var i=this.HorizontalInfo[e];i.Font&&(i.Font=lo.FrameSplitTextFont),i.TextColor&&(i.TextColor=lo.FrameSplitTextColor),i.LineColor&&(i.LineColor=lo.FrameSplitPen)}for(var e in this.VerticalInfo){var i=this.VerticalInfo[e];i.Font&&(i.Font=lo.FrameSplitTextFont),i.TextColor&&(i.TextColor=lo.FrameSplitTextColor),i.LineColor&&(i.LineColor=lo.FrameSplitPen)}},this.GetFontHeight=function(t){return d(this.Canvas,t,"擎")},this.GetScaleTextWidth=function(){}}function L(){this.newMethod=F,this.newMethod(),delete this.newMethod,this.ClassName="NoneFrame",this.Snapshot=function(){},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}}}function M(){this.newMethod=F,this.newMethod(),delete this.newMethod,this.ClassName="AverageWidthFrame",this.DataWidth=50*c(),this.DistanceWidth=10*c(),this.MinXDistance=30*c(),this.MinYDistance=12*c(),this.CoordinateType=0,this.IsShowYText=[!0,!0],this.XBottomOffset=lo.Frame.XBottomOffset,this.YTextTopOffset=lo.Frame.YTopOffset,this.YTextPosition=[0,0],this.YTextPadding=[lo.Frame.YTextPadding[0],lo.Frame.YTextPadding[1]],this.IsShowXLine=!0,this.IsShowYLine=!0,this.YInsideOffset=0,this.YTextBaseline=0,this.MultiTextFormat=0,this.RightTextMaxWidth=0,this.ShortYLineLength=5,this.ShortXLineLength=5,this.BeforeDrawXYCallback,this.GetEventCallback,this.ToolbarButtonStyle=lo.ToolbarButtonStyle,this.CloseWindowButton=S(lo.Buttons.CloseWindow),this.OverlayIndexButton=S(lo.Buttons.OverlayIndex),this.ChangeIndexButton=S(lo.Buttons.ChangeIndex),this.ModifyIndexParamButton=S(lo.Buttons.ModifyIndexParam),this.MaxMinWindowButton=S(lo.Buttons.MaxMinWindow),this.TitleWindowButton=S(lo.Buttons.TitleWindow),this.ExportDataButton=S(lo.Buttons.ExportData),this.ButtonTooltip=S(lo.Buttons.Tooltip),this.DrawPicture={BGColor:lo.DrawPicture.XYCoordinate.BGColor,TextBGColor:lo.DrawPicture.XYCoordinate.TextBGColor,TextColor:lo.DrawPicture.XYCoordinate.TextColor,Font:lo.DrawPicture.XYCoordinate.Font},this.IChartFramePainting_ReloadResource=this.ReloadResource,this.ReloadResource=function(t){this.IChartFramePainting_ReloadResource(t),t||(this.ToolbarButtonStyle=lo.ToolbarButtonStyle,this.CloseWindowButton=S(lo.Buttons.CloseWindow),this.OverlayIndexButton=S(lo.Buttons.OverlayIndex),this.ChangeIndexButton=S(lo.Buttons.ChangeIndex),this.ModifyIndexParamButton=S(lo.Buttons.ModifyIndexParam),this.MaxMinWindowButton=S(lo.Buttons.MaxMinWindow),this.TitleWindowButton=S(lo.Buttons.TitleWindow),this.ButtonTooltip=S(lo.Buttons.Tooltip))},this.DrawFrame=function(){if(this.XPointCount>0){var t=this.ChartBorder.GetWidth()/(6*this.XPointCount);this.DistanceWidth=2*t,this.DataWidth=4*t}this.DrawHorizontal(),this.DrawVertical()},this.DrawTitleButton=function(t,e,i){var a=this.GetBorder();if(this.IsHScreen){var r=a.Bottom-3,n=a.RightTitle+this.ChartBorder.TitleHeight/2;this.Canvas.save(),this.Canvas.translate(n,r),this.Canvas.rotate(90*Math.PI/180);for(var o=0,s=0,l=0,h=0;h<t.length;++h){var u=t[h],c=u.Style.Size,s=l-c-u.Style.MerginLeft,d=c+"px "+u.Style.Family,f=u.Style.Color;this.Canvas.fillStyle=f,this.Canvas.font=d,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(u.Style.Text,s,0);var p={Left:n-c/2,Right:n+c/2,Bottom:r,Width:c,Height:c+u.Style.MerginLeft};p.Top=p.Bottom-c-u.Style.MerginLeft,this.Buttons.push({ID:u.ID,Rect:p}),l=s,r=p.Top}this.Canvas.restore()}else for(var m=a.Right-3,o=(a.Left,a.Top+this.ChartBorder.TitleHeight/2),h=0;h<t.length;++h){var u=t[h],c=u.Style.Size,C=m-c-u.Style.MerginLeft,d=c+"px "+u.Style.Family,p={Left:C,Top:o-c/2,Right:C+c+u.Style.MerginLeft,Bottom:o+c/2,Width:c+u.Style.MerginLeft,Height:c},f=u.Style.Color;e&&e.X>=p.Left&&e.X<p.Right&&e.Y>=p.Top&&e.Y<=p.Bottom&&(f=u.Style.MoveOnColor,i&&(i.MouseOnToolbar={Rect:p,Item:u,Frame:this,Point:{X:e.X,Y:e.Y}})),this.Canvas.fillStyle=f,this.Canvas.font=d,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(u.Style.Text,C,o),this.Buttons.push({ID:u.ID,Rect:p}),m=C}},this.DrawToolbarTooltip=function(t){if(t){var e=this.GetBorder(),i=null;if(t.Item.TooltipText)i=t.Item.TooltipText;else{var a="Toolbar-"+t.Item.ID;i=uo.GetText(a,0)}if(i){var r=(c(),t.Rect.Left+t.Rect.Width/2);this.Canvas.font=this.ButtonTooltip.Font,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var n=this.Canvas.measureText(i).width+8,o=this.GetFontHeight(),s=o+10;if("TitleButton"==t.ID)var l=t.Point.X,h=t.Point.Y+20;else if(Vn.CLOSE_BEFOREOPEN_ID==t.Item.ID)var l=t.Rect.Right+5,h=t.Rect.Top;else if(Vn.DRAW_PICTURE_DELETE==t.Item.ID||Vn.DRAW_PICTURE_SETTING==t.Item.ID||t.Item.ID>=Vn.DRAW_PICTURE_BUTTON_1&&t.Item.ID<=Vn.DRAW_PICTURE_BUTTON_18){var l=t.Point.X,h=t.Point.Y+20;l+n>=e.ChartWidth&&(l=e.ChartWidth-n-2)}else{var l=r-n/2,h=e.Top-s;h<0&&(h=e.TopEx+1),l+n>e.ChartWidth&&(l=e.ChartWidth-n-2)}this.Canvas.fillStyle=this.ButtonTooltip.ColorBG,this.Canvas.fillRect(l,h,n,s),this.Canvas.fillStyle=this.ButtonTooltip.Color,this.Canvas.fillText(i,l+4,h+s/2)}}},this.GetYFromData=function(t,e){if(this.Logarithmic&&this.GetYLogarithmicFromData)return this.GetYLogarithmicFromData(t,e);if(!1===e){if(1==this.CoordinateType){var i=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetTopEx()+i}var i=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetBottomEx()-i}if(1==this.CoordinateType){if(t<=this.HorizontalMin)return this.ChartBorder.GetTopEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetBottomEx();var i=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetTopEx()+i}if(t<=this.HorizontalMin)return this.ChartBorder.GetBottomEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetTopEx();var i=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetBottomEx()-i},this.DrawHorizontal=function(){if(this.RightTextMaxWidth=0,Ee.IsNonEmptyArray(this.HorizontalInfo)&&!this.ChartBorder.IsShowTitleOnly){for(var t,e,i,a,r=this.ChartBorder.GetBorder(),n=r.Left,o=r.Right,s=r.Bottom,l=this.ChartBorder.GetTop(),h=this.ChartBorder.Right,u=this.ChartBorder.Left,d=u>10&&!0===this.IsShowYText[0]&&2!=this.YTextPosition[0],f=h>10&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1],p=null,m=c(),C=(r.BottomEx-r.TopEx)/this.HorizontalInfo.length,D=[],g=0,S=this.HorizontalInfo.length-1;S>=0;--S){var x=this.HorizontalInfo[S],b=this.GetYFromData(x.Value);if(!(null!=b&&null!=p&&Math.abs(b-p)<this.MinYDistance)){var I=v(b);if(b!=s&&this.IsShowYLine){var T=!1;Ee.IsPlusNumber(x.LineWidth)&&(this.Canvas.lineWidth=x.LineWidth*m,T=!0),this.Canvas.strokeStyle=x.LineColor,2==x.LineType?(this.Canvas.save(),x.LineDash?this.Canvas.setLineDash(x.LineDash):this.Canvas.setLineDash([5*m,5*m]),this.Canvas.beginPath(),this.Canvas.moveTo(n,I),this.Canvas.lineTo(o,I),this.Canvas.stroke(),this.Canvas.setLineDash([]),this.Canvas.restore()):3==x.LineType||8==x.LineType||9==x.LineType||x.LineType>0&&(lo.FrameYLineDash?(this.Canvas.save(),this.Canvas.setLineDash(lo.FrameYLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(n,I),this.Canvas.lineTo(o,I),this.Canvas.stroke(),this.Canvas.setLineDash([]),this.Canvas.restore()):(this.Canvas.beginPath(),this.Canvas.moveTo(n,I),this.Canvas.lineTo(o,I),this.Canvas.stroke())),T&&(this.Canvas.lineWidth=m)}var y=b;if(b>=s-2?(this.Canvas.textBaseline="bottom",g=2):b<=l+2?(this.Canvas.textBaseline="top",y+=this.YTextTopOffset,g=0):(this.Canvas.textBaseline="middle",g=1),this.Canvas.strokeStyle=x.TextColor,this.Canvas.fillStyle=x.TextColor,null!=x.Message[0]&&d&&(null!=x.Font&&(this.Canvas.font=x.Font),i=this.GetTextTopBottom(g,y),(!a||i&&!this.IsTextTopBottomOverlap(i,a))&&(this.Canvas.textAlign="right",this.Canvas.fillText(x.Message[0],n-this.YTextPadding[0],y),a=i)),null!=x.Message[1]&&f){null!=x.Font&&(this.Canvas.font=x.Font);var w=o;if(3==x.LineType){var E=this.ShortYLineLength*c();this.Canvas.beginPath(),this.Canvas.moveTo(w,I),this.Canvas.lineTo(w+E,I),this.Canvas.stroke(),w+=E}if(this.Canvas.textAlign="left",Array.isArray(x.Message[1]))if(1==this.MultiTextFormat){x.ExtendData&&x.ExtendData.Font&&(this.Canvas.font=x.ExtendData.Font);var F={Text:[{Text:x.Message[1][0],Width:this.Canvas.measureText(x.Message[1][0]).width},{Text:x.Message[1][1],Width:this.Canvas.measureText(x.Message[1][1]).width}],X:w+2,Y:y,TextBaseline:this.Canvas.textBaseline,Item:x};D.push(F)}else if(2==this.MultiTextFormat){this.Canvas.fillText(x.Message[1][0],w+this.YTextPadding[1],y);var L=this.Canvas.measureText("M").width;C>2*L&&this.Canvas.fillText(x.Message[1][1],w+this.YTextPadding[1],y+L)}else this.Canvas.fillText(x.Message[1][0],w+this.YTextPadding[1],y);else e=this.GetTextTopBottom(g,y),(!t||e&&!this.IsTextTopBottomOverlap(e,t))&&(x.TextColor2&&(this.Canvas.fillStyle=x.TextColor2),this.Canvas.fillText(x.Message[1],w+this.YTextPadding[1],y),t=e)}p=b}}Ee.IsNonEmptyArray(D)&&1==this.MultiTextFormat&&this.DrawHorizontalMuText(D)}},this.IsTextTopBottomOverlap=function(t,e){return e.Top>=t.Top&&e.Top<=t.Bottom||e.Bottom>=t.Top&&e.Bottom<=t.Bottom},this.GetTextTopBottom=function(t,e){var i=null,a=this.Canvas.measureText("擎").width;return 0==t?i={Top:e,Bottom:e+a}:1==t?(i={Top:e-a/2},i.Bottom=i.Top+a):2==t&&(i={Bottom:e},i.Top=i.Bottom-a),i},this.DrawHorizontalMuText=function(t){for(var e=[null,null],i=0;i<t.length;++i){var a=t[i],r=a.Text[0].Width;Ee.IsNumber(e[0])?e[0]<r&&(e[0]=r):e[0]=r,r=a.Text[1].Width,Ee.IsNumber(e[1])?e[1]<r&&(e[1]=r):e[1]=r}for(var i=0;i<t.length;++i){var a=t[i],n=a.Item;this.Canvas.textBaseline=n.TextBaseline,n.ExtendData&&n.ExtendData.Font?this.Canvas.font=n.ExtendData.Font:n.Font&&(this.Canvas.font=n.Font),n.ExtendData&&n.ExtendData.PriceColor?this.Canvas.fillStyle=n.ExtendData.PriceColor:this.Canvas.fillStyle=n.TextColor,this.Canvas.textAlign="right";var o=a.X+e[1];this.Canvas.fillText(a.Text[1].Text,o,a.Y),n.ExtendData&&n.ExtendData.SplitColor?this.Canvas.fillStyle=n.ExtendData.SplitColor:this.Canvas.fillStyle=n.TextColor,this.Canvas.textAlign="left";var s=this.Canvas.measureText("/").width;this.Canvas.fillText("/",o,a.Y),n.ExtendData&&n.ExtendData.PercentageColor?this.Canvas.fillStyle=n.ExtendData.PercentageColor:this.Canvas.fillStyle=n.TextColor,this.Canvas.textAlign="right";var o=a.X+e[1]+e[0]+s;this.Canvas.fillText(a.Text[0].Text,o,a.Y);var l=e[1]+e[0]+4*s;this.RightTextMaxWidth<l&&(this.RightTextMaxWidth=l)}},this.DrawInsideClientHorizontal=function(){var t=this.GetBorder();if(t.DayBorder&&Ee.IsNonEmptyArray(t.DayBorder))var e=t.DayBorder[0],i=e.LeftEx,e=t.DayBorder[t.DayBorder.length-1],a=e.RightEx,r=t.Bottom,n=t.TopTitle;else var i=t.LeftEx,a=t.RightEx,r=t.Bottom,n=t.TopTitle;for(var o=c(),s=null,l=null,h=this.HorizontalInfo.length-1;h>=0;--h){var e=this.HorizontalInfo[h],u=this.GetYFromData(e.Value);if(!(null!=u&&null!=s&&Math.abs(u-s)<this.MinYDistance)){if(e.Message[2]){null!=e.Font&&(this.Canvas.font=e.Font),this.Canvas.fillStyle=e.TextColor,this.Canvas.textAlign="left";var d=u;u>=r-2?this.Canvas.textBaseline="bottom":u<=n+2?(this.Canvas.textBaseline="top",d+=this.YTextTopOffset):this.Canvas.textBaseline="middle";var f={X:i,Y:d,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:e.Message[0]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(f)||(this.Canvas.fillText(e.Message[2],i+1*o,d),(null==l||l>d)&&(this.YInsideOffset=this.Canvas.measureText(e.Message[2]).width+4*c(),l=d))}if(e.Message[3]){null!=e.Font&&(this.Canvas.font=e.Font),this.Canvas.fillStyle=e.TextColor,this.Canvas.textAlign="right";var d=u;u>=r-2?this.Canvas.textBaseline="bottom":u<=n+2?(this.Canvas.textBaseline="top",d+=this.YTextTopOffset):this.Canvas.textBaseline="middle";var p=this.Canvas.measureText(e.Message[3]).width,f={X:a-p,Y:d,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:e.Message[1]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(f)||this.Canvas.fillText(e.Message[3],a-1*o,d)}s=u}}},this.DrawInsideHorizontal=function(){if(!0!==this.IsHScreen&&!(this.IsMinSize||this.ChartBorder.IsShowTitleOnly||!1===this.IsShowYText[0]&&!1===this.IsShowYText[1])){this.DrawInsideClientHorizontal();var t=this.ChartBorder.GetBorder(),e=t.Left,i=t.Right,a=t.Bottom,r=t.TopTitle,n=this.ChartBorder.Right,o=this.ChartBorder.Left,s=(this.ChartBorder.TitleHeight,(o<10||2==this.YTextPosition[0])&&!0===this.IsShowYText[0]),l=(n<10||2==this.YTextPosition[1])&&!0===this.IsShowYText[1];if(s||l)for(var h=c(),u=null,d=null,f=this.HorizontalInfo.length-1;f>=0;--f){var p=this.HorizontalInfo[f],m=this.GetYFromData(p.Value);if(!(null!=m&&null!=u&&Math.abs(m-u)<this.MinYDistance)){if(null!=p.Message[0]&&s){null!=p.Font&&(this.Canvas.font=p.Font),this.Canvas.fillStyle=p.TextColor,this.Canvas.textAlign="left";var C=m;m>=a-2?this.Canvas.textBaseline="bottom":m<=r+2?(this.Canvas.textBaseline="top",C+=this.YTextTopOffset):1==this.YTextBaseline?this.Canvas.textBaseline="bottom":this.Canvas.textBaseline="middle";var v={X:e,Y:C,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:p.Message[0]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(v)||(this.Canvas.fillText(p.Message[0],e+1*h,C),(null==d||d>C)&&(this.YInsideOffset=this.Canvas.measureText(p.Message[0]).width+4*c(),d=C))}if(null!=p.Message[1]&&l){null!=p.Font&&(this.Canvas.font=p.Font),this.Canvas.fillStyle=p.TextColor,this.Canvas.textAlign="right";var C=m;if(m>=a-2?this.Canvas.textBaseline="bottom":m<=r+2?(this.Canvas.textBaseline="top",C+=this.YTextTopOffset):1==this.YTextBaseline?this.Canvas.textBaseline="bottom":this.Canvas.textBaseline="middle",Array.isArray(p.Message[1]))var D=p.Message[1][0];else var D=p.Message[1];var g=this.Canvas.measureText(D).width,v={X:i-g,Y:C,Text:{BaseLine:this.Canvas.textBaseline,TextAlign:this.Canvas.textAlign,Font:this.Canvas.font,Value:p.Message[1]}};this.IsOverlayMaxMin&&this.IsOverlayMaxMin(v)||this.Canvas.fillText(D,i-1*h,C)}u=m}}}},this.GetXFromIndex=function(t){var e=this.XPointCount;return 1==e?0==t?this.ChartBorder.GetLeft():this.ChartBorder.GetRight():e<=0?this.ChartBorder.GetLeft():t>=e?this.ChartBorder.GetRight():this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*t/e},this.DrawVertical=function(){var t=this.GetBorder(),e=t.TopTitle,i=t.Bottom,a=t.RightEx,r=c();if(!(this.ChartBorder.Bottom<=5*c()))for(var n=null,o=null,s=0;s<this.VerticalInfo.length;++s){var l=this.GetXFromIndex(this.VerticalInfo[s].Value);if(l>a)break;if(!(null!=n&&Math.abs(l-n)<this.MinXDistance)){var h=this.VerticalInfo[s],u=v(l);if(this.IsShowXLine&&(2==h.LineType?(this.Canvas.strokeStyle=this.VerticalInfo[s].LineColor,h.LineDash?this.Canvas.setLineDash(h.LineDash):this.Canvas.setLineDash([5*r,5*r]),this.Canvas.beginPath(),this.Canvas.moveTo(u,e),this.Canvas.lineTo(u,i),this.Canvas.stroke(),this.Canvas.setLineDash([])):3==h.LineType||h.LineType>0&&(lo.FrameXLineDash?(this.Canvas.strokeStyle=this.VerticalInfo[s].LineColor,this.Canvas.setLineDash(lo.FrameXLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(u,e),this.Canvas.lineTo(u,i),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.strokeStyle=this.VerticalInfo[s].LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(u,e),this.Canvas.lineTo(u,i),this.Canvas.stroke()))),h.BG&&h.BG.Color){var d=h.BG;this.Canvas.fillStyle=d.Color;var f=this.GetXFromIndex(d.Index.Start),p=this.GetXFromIndex(d.Index.End),m=this.ChartBorder.Bottom;Ee.IsNumber(d.Height)&&(m=d.Height);var C={Left:f,Width:p-f,Top:t.Bottom,Height:m};this.Canvas.fillRect(C.Left,C.Top,C.Width,C.Height)}if(null!=this.VerticalInfo[s].Message[0]){null!=this.VerticalInfo[s].Font&&(this.Canvas.font=this.VerticalInfo[s].Font);var D=0;this.Canvas.fillStyle=h.TextColor,this.Canvas.strokeStyle=h.TextColor;var g=this.Canvas.measureText(this.VerticalInfo[s].Message[0]).width;if(l<g/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",D=l):l+g/2>=this.ChartBorder.GetChartWidth()?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",D=l-g):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top",D=l-g/2),null==o||D>o){var S=i;if(3==h.LineType){var x=this.ShortXLineLength*r;this.Canvas.beginPath(),this.Canvas.moveTo(u,S),this.Canvas.lineTo(u,S+x),this.Canvas.stroke(),S+=x+2*r}this.Canvas.fillText(this.VerticalInfo[s].Message[0],l,S+this.XBottomOffset),o=D+g}}n=l}}},this.GetYData=function(t,e){return this.Logarithmic&&this.GetYLogarithmicFromData?this.GetYLogarithmicData(t):1==this.CoordinateType?0==e?(t-this.ChartBorder.GetTopEx())/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin:t<this.ChartBorder.GetTopEx()?this.HorizontalMin:t>this.ChartBorder.GetBottomEx()?this.HorizontalMax:(t-this.ChartBorder.GetTopEx())/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin:0==e?(this.ChartBorder.GetBottomEx()-t)/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin:t<this.ChartBorder.GetTopEx()?this.HorizontalMax:t>this.ChartBorder.GetBottomEx()?this.HorizontalMin:(this.ChartBorder.GetBottomEx()-t)/this.ChartBorder.GetHeightEx()*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t){return t<=this.ChartBorder.GetLeft()?0:t>=this.ChartBorder.GetRight()?this.XPointCount:(t-this.ChartBorder.GetLeft())*(1*this.XPointCount/this.ChartBorder.GetWidth())},this.DrawPictureXCoordinate=function(t,e,i){if(!this.IsHScreen&&e&&Ee.IsNonEmptyArray(e.Points)){var a=this.GetBorder(),r=a.Left,n=a.Right;this.Canvas.font=this.DrawPicture.Font;var o=this.GetFontHeight();if(e.X){var s=e.X,l=s.Min.X,h=s.Max.X;l<r&&(l=r),h>n&&(h=n),this.Canvas.fillStyle=this.DrawPicture.BGColor,this.Canvas.fillRect(l,a.Bottom,h-l,o)}for(var u=0;u<e.Points.length;++u){var c=e.Points[u];if(!(c.X<r||c.X>n)){var d=this.GetXData(c.X,!1),d=Math.round(d),f=this.GetKItem(d);if(f){var p=Ee.FormatDateString(f.Date,null);Q.IsMinutePeriod(i.Period)&&(p+=" "+Ee.FormatTimeString(f.Time,"HH:MM"));var m=this.Canvas.measureText(p).width+2,C=c.X-m/2;C<r&&(C=r),this.Canvas.fillStyle=this.DrawPicture.TextBGColor,this.Canvas.fillRect(C,a.Bottom,m,o),this.Canvas.fillStyle=this.DrawPicture.TextColor;var v=a.Bottom+o;this.Canvas.fillText(p,C+1,v)}}}}},this.GetKItem=function(t){if(!this.Data)return null;if(!Ee.IsNonEmptyArray(this.Data.Data))return null;var e=this.Data.DataOffset+t;return this.Data.Data[e]},this.DrawPictureYCoordinate=function(t,e,i){if(!this.IsHScreen&&e&&Ee.IsNonEmptyArray(e.Points)){var a=this.GetBorder(),r=a.TopEx,n=a.BottomEx,o=a.Right;this.Canvas.font=this.DrawPicture.Font;var s=this.GetFontHeight();this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var l=2;i&&i.Symbol&&(l=pr(i.Symbol));for(var h=0,u=0;u<e.Points.length;++u){var c=e.Points[u],d=this.GetYData(c.Y),f=d.toFixed(l),p=this.Canvas.measureText(f).width;h<p&&(h=p),e.Points[u].Text=f}if(h+=this.YTextPadding[1]+2,e.Y){var m=e.Y,C=m.Min.Y,v=m.Max.Y;m.Min.Y<r&&(C=r),m.Max.Y>n&&(v=n),this.Canvas.fillStyle=this.DrawPicture.BGColor,this.Canvas.fillRect(o,C,h+5,v-C)}for(var u=0;u<e.Points.length;++u){var c=e.Points[u];if(!(c.Y<r||c.Y>n)){this.Canvas.fillStyle=this.DrawPicture.TextBGColor,this.Canvas.fillRect(o,c.Y-s/2,h,s),this.Canvas.fillStyle=this.DrawPicture.TextColor;var D=c.Y+s/2;this.Canvas.fillText(c.Text,o+this.YTextPadding[1],D)}}}},this.DrawPicturePointYCoordinate=function(t,e){if(!this.IsHScreen&&t.GetYCoordinatePoint){var i=t.GetYCoordinatePoint();if(Ee.IsNonEmptyArray(i)){var a=this.GetBorder(),r=a.TopEx,n=a.BottomEx,o=a.Right;this.Canvas.font=this.DrawPicture.Font;var s=this.GetFontHeight();this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var l=2;e&&e.Symbol&&(l=pr(e.Symbol));for(var h=0;h<i.length;++h){var u=i[h];if(u&&!(u.Y<r||u.Y>n)){var c=u.YValue.toFixed(l),d=this.Canvas.measureText(c).width+2;d+=this.YTextPadding[1],this.Canvas.fillStyle=this.DrawPicture.TextBGColor,this.Canvas.fillRect(o,u.Y-s/2,d,s),this.Canvas.fillStyle=this.DrawPicture.TextColor;var f=u.Y+s/2;this.Canvas.fillText(c,o+this.YTextPadding[1],f)}}}}},this.GetCustomItemTextInfo=function(t,e,i){var a=e?t.Message[0]:t.Message[1],r=[],n=0;if(Array.isArray(a)){for(var o=0;o<a.length;++o){var t=a[o];if(1===t.Type)r.push({Type:t.Type});else{var s=this.Canvas.measureText(a[o].Text).width;s>n&&(n=s),r.push({Text:a[o].Text,Width:s+2*i})}}n>0&&(n+=2*i)}else n=this.Canvas.measureText(a).width+2*i,r.push({Text:a,Width:n});return{MaxWidth:n,Text:r}},this.DrawCustomItem=function(t,e){if(t.Message[1]||t.Message[0]){if(t.Value>this.HorizontalMax||t.Value<this.HorizontalMin)return void this.SendDrawCountDownEvent({IsShow:!1});var i=this.GetBorder(),a=i.Left,r=i.Right,n=i.Bottom,o=i.Top,s=this.ChartBorder.Right,l=this.ChartBorder.Left;this.ChartBorder.TitleHeight;this.IsHScreen&&(l=this.ChartBorder.Top,s=this.ChartBorder.Bottom,o=i.Top,n=i.Bottom);var h,u=c(),d=18*u,f=d,p=this.GetYFromData(t.Value),m=0;if(t.ExtendData&&t.ExtendData.Custom){var C=t.ExtendData.Custom;Ee.IsNumber(C.Position)&&(m=C.Position),C.EmptyBGColor&&(h=C.EmptyBGColor)}if(t.Message[0])if(l<10||1==m){null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var D=this.GetCustomItemTextInfo(t,!0,u),S=D.MaxWidth,x=this.GetFontHeight();f=x>d?x:d;var b=t.LineColor,I=this.RGBToStruct(t.LineColor);I&&(b="rgba("+I.R+", "+I.G+", "+I.B+", "+lo.FrameLatestPrice.BGAlpha+")");for(var T=p,y=0;y<D.Text.length;++y){var w=D.Text[y];if(this.IsHScreen){var E=o,F=T-f/2-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,f,w.Width),this.DrawHScreenText({X:T,Y:E},{Text:w.Text,Color:t.TextColor,XOffset:1*u,YOffset:2*u}),0==y&&this.DrawLine(E+w.Width,n,T,t.LineColor,t.LineType,t),T-=f+1*u}else if(1===w.Type);else{var E=T-f/2-1*u,F=a+1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,w.Width,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(w.Text,F+1*u,T),0==y&&this.DrawLine(F+w.Width,r,T,t.LineColor,t.LineType,t),T+=f+1*u}}}else{null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle";var D=this.GetCustomItemTextInfo(t,!0,u),S=D.MaxWidth,x=this.GetFontHeight();f=x>d?x:d;for(var T=p,y=0;y<D.Text.length;++y){var w=D.Text[y];if(this.IsHScreen){if(0==y)var E=o-w.Width;else var E=o-S;var F=T-f/2-1*u;this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(F,E,f,w.Width),this.DrawHScreenText({X:T,Y:E},{Text:w.Text,Color:t.TextColor,XOffset:1*u,YOffset:2*u}),0==y&&this.DrawLine(E+w.Width,n,T,t.LineColor,t.LineType,t),T-=f+1*u}else{var E=T-f/2-1*u;if(0==y)var L=a-w.Width,F=a;else var L=a-S,F=a-(S-w.Width);h?(this.Canvas.fillStyle=h,this.Canvas.fillRect(L-1,E,w.Width+1,f),this.Canvas.strokeStyle=t.LineColor,this.Canvas.strokeRect(v(L-1),v(E),v(w.Width+1),v(f)),this.Canvas.fillStyle=t.LineColor,this.Canvas.fillText(w.Text,F-1*u,T)):(this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(L,E,w.Width,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(w.Text,F-1*u,T)),0==y&&this.DrawLine(a,r,T,t.LineColor,t.LineType,t),T+=f+1*u}}}else if(t.Message[1])if(s<10||1==m){null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var D=this.GetCustomItemTextInfo(t,!1,u),S=D.MaxWidth,x=this.GetFontHeight();f=x>d?x:d;var b=t.LineColor,I=this.RGBToStruct(t.LineColor);I&&(b="rgba("+I.R+", "+I.G+", "+I.B+", "+lo.FrameLatestPrice.BGAlpha+")");for(var T=p,y=0;y<D.Text.length;++y){var w=D.Text[y];if(this.IsHScreen){var E=n-w.Width,F=T-f/2-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,f,w.Width),this.DrawHScreenText({X:T,Y:E},{Text:w.Text,Color:t.TextColor,XOffset:1*u,YOffset:2*u}),0==y&&this.DrawLine(o,E,T,t.LineColor,t.LineType,t),T-=f+1*u}else if(1===w.Type){if(this.GetEventCallback){var E=T-f/2-1*u,M={Top:E,Right:r,Height:null,IsShow:!0,BGColor:t.LineColor,TextColor:t.TextColor,PixelTatio:u,Position:"Right",IsInside:!0};this.SendDrawCountDownEvent(M)&&Ee.IsPlusNumber(M.Height)&&(T+=f+1*u)}}else{var E=T-f/2-1*u,F=r-w.Width;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,w.Width,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(w.Text,F+1*u,T),0==y&&this.DrawLine(a,F,T,t.LineColor,t.LineType,t),T+=f+1*u}}if((3==t.Type||4==t.Type)&&t.Title){var A=this.Canvas.measureText(t.Title).width+2*u;if(this.IsHScreen){var E=n-w.Width-A,F=p-f/2-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,f,A),this.DrawHScreenText({X:p,Y:E},{Text:t.Title,Color:t.TextColor,XOffset:1*u,YOffset:2*u})}else{var E=p-f/2-1*u,F=r-S-A-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,A,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Title,F+1*u,p)}}}else{null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var D=this.GetCustomItemTextInfo(t,!1,u),S=D.MaxWidth,x=this.GetFontHeight();f=x>d?x:d;var O=null;e&&e.has(3)&&(O=e.get(3));for(var T=p,N={},y=0;y<D.Text.length;++y){var w=D.Text[y];if(this.IsHScreen){var E=n,F=T-f/2-1*u;this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(F,E,f,w.Width),this.DrawHScreenText({X:T,Y:E},{Text:w.Text,Color:t.TextColor,XOffset:1*u,YOffset:2*u}),0==y&&this.DrawLine(o,E,T,t.LineColor,t.LineType,t),T-=f+1*u}else if(1===w.Type){if(this.GetEventCallback){var E=T-f/2-1*u,M={Top:E,Left:r,Right:this.ChartBorder.GetChartWidth(),Height:null,IsShow:!0,BGColor:t.LineColor,TextColor:t.TextColor,PixelTatio:u,Position:"Right",IsInside:!1};this.SendDrawCountDownEvent(M)&&Ee.IsPlusNumber(M.Height)&&(T+=f+1*u)}}else{var E=T-f/2-1*u;if(0==y){var F=r;N.Left=F,O&&E<O.Rect.Bottom&&(T=O.Rect.Bottom,E=T-f/2-1*u)}else var F=r+S-w.Width;h?(this.Canvas.fillStyle=h,this.Canvas.fillRect(F,E,w.Width+1,f),this.Canvas.strokeStyle=t.LineColor,this.Canvas.strokeRect(v(F),v(E),g(w.Width+1),g(f)),this.Canvas.fillStyle=t.LineColor,this.Canvas.fillText(w.Text,F+2*u,T)):(this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(F,E,w.Width,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(w.Text,F+1*u,T)),0==y&&this.DrawLine(a,r,p,t.LineColor,t.LineType,t),T+=f+1*u,N.Bottom=T}}if(e&&Ee.IsNumber(N.Left)&&Ee.IsNumber(N.Bottom)&&e.set(3,{Rect:N,Item:t}),(3==t.Type||4==t.Type)&&t.Title){var b=t.LineColor,I=this.RGBToStruct(t.LineColor);I&&(b="rgba("+I.R+", "+I.G+", "+I.B+", "+lo.FrameLatestPrice.BGAlpha+")");var A=this.Canvas.measureText(t.Title).width+2*u;if(this.IsHScreen){var E=n-A,F=p-f/2-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,f,A),this.DrawHScreenText({X:p,Y:E},{Text:t.Title,Color:t.TextColor,XOffset:1*u,YOffset:2*u})}else{var E=p-f/2-1*u,F=r-A-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,A,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Title,F+1*u,p)}}}}},this.SendDrawCountDownEvent=function(t){if(!this.GetEventCallback)return!1;var e=this.GetEventCallback(Rn.ON_DRAW_COUNTDOWN);return!(!e||!e.Callback)&&(e.Callback(e,t,this),!0)},this.DrawDotLine=function(t,e,i,a,r){var n=c();this.Canvas.save(),this.Canvas.strokeStyle=a,r&&Ee.IsPlusNumber(r.LineWidth)&&(this.Canvas.lineWidth=r.LineWidth*n),r.LineDash?this.Canvas.setLineDash(r.LineDash):this.Canvas.setLineDash([5*n,5*n]),this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(v(i),t),this.Canvas.lineTo(v(i),e)):(this.Canvas.moveTo(t,v(i)),this.Canvas.lineTo(e,v(i))),this.Canvas.stroke(),this.Canvas.restore()},this.DrawLine=function(t,e,i,a,r,n){if(-1!=r)if(0==r){var o=c();this.Canvas.strokeStyle=a;var s=!1;n&&Ee.IsPlusNumber(n.LineWidth)&&(this.Canvas.lineWidth=n.LineWidth*o,s=!0),this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(v(i),t),this.Canvas.lineTo(v(i),e)):(this.Canvas.moveTo(t,v(i)),this.Canvas.lineTo(e,v(i))),this.Canvas.stroke(),s&&(this.Canvas.lineWidth=o)}else this.DrawDotLine(t,e,i,a,n)},this.DrawHScreenText=function(t,e){this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=e.Color,this.Canvas.save(),this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e.Text,e.XOffset,e.YOffset),this.Canvas.restore()},this.RGBToStruct=function(t){if(/^(rgb|RGB)/.test(t)){var e=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),i={};return 3!=e.length?null:(i.R=Number(e[0]),i.G=Number(e[1]),i.B=Number(e[2]),i)}return null},this.GetScaleTextWidth=function(){var t=(this.ChartBorder.GetBorder(),c());if(this.IsHScreen)var e=this.ChartBorder.Top,i=this.ChartBorder.Bottom,a=e>10*t&&!0===this.IsShowYText[0]&&2!=this.YTextPosition[0],r=i>10*t&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1];else var n=this.ChartBorder.Right,o=this.ChartBorder.Left,a=o>10&&!0===this.IsShowYText[0]&&2!=this.YTextPosition[0],r=n>10&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1];if(!r&&!a)return null;var s={Left:null,Right:null},l=0,h=!1;this.YSplitOperator&&1==this.YSplitOperator.CoordinateType&&(h=!0);for(var u=0;u<this.HorizontalInfo.length;++u){var d=null,f=this.HorizontalInfo[u];if(f&&(null!=f.Font&&(this.Canvas.font=f.Font),null!=f.Message[0]&&a&&(d=this.Canvas.measureText(f.Message[0]).width,(null==s.Left||s.Left<d)&&(s.Left=d)),null!=f.Message[1]&&r)){if(null!=f.Font&&(this.Canvas.font=f.Font),Array.isArray(f.Message[1])){if(1==this.MultiTextFormat){if(f.ExtendData){f.ExtendData.Font&&(this.Canvas.font=f.ExtendData.Font);var p=this.Canvas.measureText(f.Message[1][0]).width,m=this.Canvas.measureText(f.Message[1][1]).width,C=this.Canvas.measureText("/").width;d=p+C,l<m&&(l=m)}}else if(2==this.MultiTextFormat){d=this.Canvas.measureText(f.Message[1][0]).width;var v=this.Canvas.measureText(f.Message[1][1]).width;d<v&&(d=v)}else if(d=this.Canvas.measureText(f.Message[1][0]).width,h){var D=this.Canvas.measureText("-00.00%").width;D>d&&(d=D)}}else d=this.Canvas.measureText(f.Message[1]).width;(null==s.Right||s.Right<d)&&(s.Right=d)}}return Ee.IsNumber(s.Right)&&(s.Right+=l),Ee.IsNumber(s.Left)&&(s.Left+=this.YTextPadding[0]),Ee.IsNumber(s.Right)&&(s.Right+=this.YTextPadding[1]),{TextWidth:s}},this.ClearToolbar=function(){if(this.ToolbarID){var t=document.getElementById(this.ToolbarID);t&&(this.ChartBorder.UIElement.parentNode.removeChild(t),this.ToolbarRect=null)}},this.HideToolbar=function(){if(this.ToolbarID){this.ToolbarRect=null;var t=document.getElementById(this.ToolbarID);t&&"none"!=t.style.display&&(t.style.display="none")}}}function A(){this.newMethod=M,this.newMethod(),delete this.newMethod,this.ClassName="MinuteFrame",this.DataWidth=1*c(),this.DistanceWidth=1*c(),this.MinuteCount=243,this.BeforeBGColor=lo.Minute.Before.BGColor,this.AfterBGColor=lo.Minute.After.BGColor,this.MultiDayBorderPen=lo.MultiDayBorderPen,this.CustomHorizontalInfo=[],this.RightFrame=null,this.ToolbarID=m(),this.ReDrawToolbar=!1,this.DayCount=1,this.ModifyIndex=lo.MinuteToolbar.ModifyIndex,this.ChangeIndex=lo.MinuteToolbar.ChangeIndex,this.CloseIndex=lo.MinuteToolbar.CloseIndex,this.MaxMinWindow=lo.MinuteToolbar.MaxMinWindow,this.TitleWindow=lo.MinuteToolbar.TitleWindow,this.ExportData=lo.MinuteToolbar.ExportData,this.OverlayIndex=lo.MinuteToolbar.OverlayIndex,this.ModifyIndexEvent,this.ChangeIndexEvent,this.ToolbarRect=null,this.IsShowPositionTitle=!1,this.LastCalculateStatus={Width:0,XPointCount:0},this.BeforeCloseIcon=S(lo.Minute.Before.CloseIcon),this.IsShowCloseButton=!0,this.BeforeOpenVerticalInfo=[],this.AfterCloseVerticalInfo=[],this.DrawFrame=function(){this.IsMinSize||(this.SplitXYCoordinate(),this.DrawBeforeDataBG(),this.YInsideOffset=0,this.BeforeDrawXYCallback&&this.BeforeDrawXYCallback(this),this.DrawTitleBG(),this.DrawHorizontal(),this.DrawVertical()),1!=this.SizeChange&&1!=this.ReDrawToolbar||(this.DrawToolbar(),this.ReDrawToolbar=!1)},this.SuperDrawBorder=this.DrawBorder,this.DrawBorder=function(){if(this.IsShowBorder&&!this.IsMinSize&&(this.SuperDrawBorder(),1==this.Identify)){var t=this.ChartBorder.GetBorder(),e=v(t.Left),i=v(t.Top),a=v(t.Right);this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),this.Canvas.moveTo(e,i),this.Canvas.lineTo(a,i),this.Canvas.save(),this.Canvas.lineWidth=2*c(),this.Canvas.stroke(),this.Canvas.restore()}},this.DrawVolTitle=function(t){if(po.IsShowMinuteVolTitle(t)&&1==this.Identify){var e=c(),i=this.ChartBorder.GetLeft()+2*e+this.YInsideOffset,a=this.ChartBorder.GetTopEx()+2*e;if(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",lo.Minute.VolBarColor||lo.Minute.VolTitleColor){lo.Minute.VolBarColor?this.Canvas.fillStyle=lo.Minute.VolBarColor:this.Canvas.fillStyle=lo.Minute.VolTitleColor;var r=this.YSplitOperator.LanguageID,n=uo.GetText("MVol-Vol",r);this.Canvas.fillText(n,i,a),i+=this.Canvas.measureText(n).width,i+=6*c()}this.IsShowPositionTitle&&(n=uo.GetText("MVol-Position",r),this.Canvas.fillStyle=lo.Minute.PositionColor,this.Canvas.fillText(n,i,a))}},this.DrawToolbar=function(){if(1!=this.ToolbarButtonStyle&&!0!==lo.IsDOMFrameToolbar&&void 0!==On.default&&!(this.Identify<2)&&this.ChartBorder.UIElement){var t=document.getElementById(this.ToolbarID);if(!t||0!=this.SizeChange||0!=this.ReDrawToolbar){if(t||(t=document.createElement("div"),t.className="klineframe-toolbar",t.id=this.ToolbarID,t.oncontextmenu=function(){return!1},t.setAttribute("identify",this.Identify.toString()),this.ChartBorder.UIElement.parentNode.appendChild(t)),!(this.ModifyIndex||this.ChangeIndex||this.OverlayIndex||this.CloseIndex))return void("none"!=t.style.display&&(t.style.display="none"));var e=c(),i=parseInt(this.ChartBorder.UIElement.parentElement.style.width.replace("px","")),a=(parseInt(this.ChartBorder.UIElement.parentElement.style.height.replace("px","")),this.ChartBorder.GetTitleHeight()),r=i-this.ChartBorder.Right/e-100,n=this.ChartBorder.GetTop()/e;if(!this.ToolbarRect||this.ToolbarRect.Left!=r||this.ToolbarRect.Top!=n||100!=this.ToolbarRect.Width||this.ToolbarRect.Height!=a/e){this.ToolbarRect={Left:r,Top:n,Width:100,Height:a/e};var o="<span class='index_param icon iconfont icon-index_param' id='modifyindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='调整指标参数'></span><span class='index_change icon iconfont icon-change_index' id='changeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='切换指标'></span>";this.CloseIndex&&(o+="<span class='index_close icon iconfont icon-close' id='closeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='关闭指标窗口'></span>"),t.style.left=r+"px",t.style.top=n+"px",t.style.width="100px",t.style.height=a/e+"px",t.innerHTML=o;this.ChartBorder.UIElement.JSChartContainer,this.Identify;this.ModifyIndex?"function"==typeof this.ModifyIndexEvent&&(0,On.default)("#"+t.id+" .index_param").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},this.ModifyIndexEvent):(0,On.default)("#"+t.id+" .index_param").hide(),this.ChangeIndex?"function"==typeof this.ChangeIndexEvent&&(0,On.default)("#"+t.id+" .index_change").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,IsOverlay:!1},this.ChangeIndexEvent):(0,On.default)("#"+t.id+" .index_change").hide(),(0,On.default)("#"+t.id+" .index_close").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},function(t){var e=t.data.Chart,i=t.data.Identify;e.RemoveIndexWindow(i)}),t.style.display="block"}}}},this.DrawToolbarV2=function(t,e){if(!0!==lo.IsDOMFrameToolbar&&(0==this.Identify&&this.IsShowCloseButton&&this.DrawCloseBeforeButton(t,e),!(this.ChartBorder.TitleHeight<5)&&0!=this.Identify&&1!=this.Identify)){var i=[];if(this.CloseIndex&&i.push({ID:Vn.CLOSE_INDEX_WINDOW,Style:this.CloseWindowButton}),this.MaxMinWindow&&i.push({ID:Vn.MAX_MIN_WINDOW,Style:this.MaxMinWindowButton}),this.TitleWindow&&i.push({ID:Vn.TITLE_WINDOW,Style:this.TitleWindowButton}),this.ExportData&&i.push({ID:Vn.EXPORT_DATA,Style:this.ExportDataButton}),this.OverlayIndex&&i.push({ID:Vn.OVERLAY_INDEX,Style:this.OverlayIndexButton}),this.ChangeIndex&&i.push({ID:Vn.CHANGE_INDEX,Style:this.ChangeIndexButton}),this.ModifyIndex&&i.push({ID:Vn.MODIFY_INDEX_PARAM,Style:this.ModifyIndexParamButton}),Ee.IsNonEmptyArray(this.CustomToolbar))for(var a=0;a<this.CustomToolbar.length;++a){var r=this.CustomToolbar[a];r.ID&&r.Style&&i.push({ID:r.ID,Style:r.Style,TooltipText:r.TooltipText})}this.DrawTitleButton(i,t,e)}},this.DrawCloseBeforeButton=function(t,e){if(0==this.Identify){var i=this.ChartBorder.GetBorder();if(!(i.DayBorder||this.ChartBorder.LeftExtendWidth<10)){var a={Left:i.Left,Top:i.TopEx,Width:this.BeforeCloseIcon.Size,Height:this.BeforeCloseIcon.Size};a.Right=a.Left+this.BeforeCloseIcon.Size,a.Bottom=a.Top+this.BeforeCloseIcon.Size;var r={Rect:a,Name:"集合竞价关闭按钮",ID:Vn.CLOSE_BEFOREOPEN_ID},n=this.BeforeCloseIcon.Color;t&&t.X>=a.Left&&t.X<a.Right&&t.Y>=a.Top&&t.Y<=a.Bottom&&(n=this.BeforeCloseIcon.MoveOnColor,e&&(e.MouseOnToolbar={Rect:a,Item:r,Frame:this,Point:{X:t.X,Y:t.Y}}));var o=this.BeforeCloseIcon.Size+"px "+this.BeforeCloseIcon.Family;this.Canvas.font=o,this.Canvas.fillStyle=n,this.Canvas.textAlign="left",this.Canvas.textBaseline="top",this.Canvas.fillText(this.BeforeCloseIcon.Text,i.Left,i.TopEx),this.Buttons.push(r)}}},this.DrawMultiDayBeforeDataBG=function(t){var e=t.DayBorder,i=v(t.Top),a=v(t.Bottom),r=a-i;this.Canvas.strokeStyle=this.MultiDayBorderPen;for(var n=0;n<e.length;++n){var o=0,s=e[n],l=v(s.Left),h=v(s.LeftEx),u=h-l;u>3&&(this.Canvas.fillStyle=this.BeforeBGColor,this.Canvas.fillRect(l,i,u,r),++o);var l=v(s.RightEx),h=v(s.Right),u=h-l;u>3&&(this.Canvas.fillStyle=this.AfterBGColor,this.Canvas.fillRect(l,i,u,r),++o),2==o&&n!=e.length-1&&(this.Canvas.beginPath(),this.Canvas.moveTo(h,i),this.Canvas.lineTo(h,a),this.Canvas.stroke())}},this.DrawCallAuctionVertical=function(t,e,i,a){if(e){var r=i.TopTitle,n=i.Bottom,o=(i.Left,i.LeftEx),s=c(),l=null,h=null;for(var u in t){var d=t[u],f=this.GetLeftExtendXFromIndex(d.Value,e);if(f>o)break;if(!(null!=l&&Math.abs(f-l)<this.MinXDistance)){var p=v(f);if(this.IsShowXLine&&(2==d.LineType?(this.Canvas.strokeStyle=d.LineColor,this.Canvas.setLineDash([5*s,5*s]),this.Canvas.beginPath(),this.Canvas.moveTo(p,r),this.Canvas.lineTo(p,n),this.Canvas.stroke(),this.Canvas.setLineDash([])):3==d.LineType||d.LineType>0&&(lo.FrameXLineDash?(this.Canvas.strokeStyle=d.LineColor,this.Canvas.setLineDash(lo.FrameXLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(p,r),this.Canvas.lineTo(p,n),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.strokeStyle=d.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(p,r),this.Canvas.lineTo(p,n),this.Canvas.stroke()))),null!=d.Message[0]&&this.ChartBorder.Bottom>5*s){null!=d.Font&&(this.Canvas.font=d.Font);var m=0;this.Canvas.fillStyle=d.TextColor,this.Canvas.strokeStyle=d.TextColor;var C=this.Canvas.measureText(d.Message[0]).width;if(f<C/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",m=f):f+C/2>=i.ChartWidth?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",m=f-C):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top",m=f-C/2),null==h||m>h){var D=n;if(3==d.LineType){var g=this.ShortXLineLength*s;this.Canvas.beginPath(),this.Canvas.moveTo(p,D),this.Canvas.lineTo(p,D+g),this.Canvas.stroke(),D+=g+2*s}this.Canvas.fillText(d.Message[0],f,D+this.XBottomOffset),h=m+C}}l=f}}}},this.DrawBeforeDataBG=function(){var t=this.ChartBorder.GetBorder();if(t.DayBorder)return void this.DrawMultiDayBeforeDataBG(t);if(!(this.ChartBorder.LeftExtendWidth<10&&this.ChartBorder.RightExtendWidth<10)){var e=v(t.Top),i=v(t.Bottom);if(this.Canvas.fillStyle=this.BeforeBGColor,this.ChartBorder.LeftExtendWidth>10){var a=v(t.Left),r=v(this.ChartBorder.GetLeft()),n=r-a,o=i-e;this.Canvas.fillRect(a,e,n,o),this.DrawCallAuctionVertical(this.BeforeOpenVerticalInfo,this.YSplitOperator.BeforeOpenData,t,!0)}if(this.ChartBorder.RightExtendWidth>10){this.Canvas.fillStyle=this.AfterBGColor;var a=v(this.ChartBorder.GetRight()),r=v(t.Right),n=r-a,o=i-e;this.Canvas.fillRect(a,e,n,o)}}},this.DrawPictureXCoordinate=function(t,e,i){if(!this.IsHScreen&&e&&Ee.IsNonEmptyArray(e.Points)){var a=this.GetBorder(),r=a.Left,n=a.Right;this.Canvas.font=this.DrawPicture.Font;var o=this.GetFontHeight();if(e.X){var s=e.X,l=s.Min.X,h=s.Max.X;l<r&&(l=r),h>n&&(h=n),this.Canvas.fillStyle=this.DrawPicture.BGColor,this.Canvas.fillRect(l,a.Bottom,h-l,o)}for(var u=0;u<e.Points.length;++u){var c=e.Points[u];if(!(c.X<r||c.X>n)){var d=parseInt(this.GetXData(c.X)),f=this.GetKItem(d,i);if(f){var p=Ee.FormatTimeString(f.Time,"HH:MM"),m=this.Canvas.measureText(p).width+2,C=c.X-m/2;C<r&&(C=r),this.Canvas.fillStyle=this.DrawPicture.TextBGColor,this.Canvas.fillRect(C,a.Bottom,m,o),this.Canvas.fillStyle=this.DrawPicture.TextColor;var v=a.Bottom+o;this.Canvas.fillText(p,C+1,v)}}}}},this.GetKItem=function(t,e){if(!this.Data)return null;if(!Ee.IsNonEmptyArray(this.Data.Data))return null;if(t<this.Data.Data.length)return this.Data.Data[t];var i=this.Data.Data[this.Data.Data.length-1],a=mo.GetTimeData(e.Symbol),r=t%a.length,n=a[r];return{Date:i.Date,Time:n}},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.XSplitOperator&&this.XSplitOperator.Operator(),null!=this.YSplitOperator&&this.YSplitOperator.Operator())},this.GetMultiDayXFromIndex=function(t,e){var i=e.DayBorder,a=t%this.MinuteCount,r=parseInt(t/this.MinuteCount);r>=i.length&&(r=i.length-1);var n=i[r],o=this.MinuteCount-1;if(a>=o)return n.RightEx;var s=n.RightEx-n.LeftEx;return n.LeftEx+s*a/o},this.GetXFromIndex=function(t){var e=this.XPointCount-1,i=this.ChartBorder.GetBorder();if(i.DayBorder)return this.GetMultiDayXFromIndex(t,i);if(1==e)return 0==t?i.LeftEx:i.RightEx;if(e<=0)return i.LeftEx;if(t>=e)return i.RightEx;var a=i.RightEx-i.LeftEx;return i.LeftEx+a*t/e},this.GetMultiDayXData=function(t,e){for(var i=e.DayBorder,a=0;a<i.length;++a){var r=i[a];if(t>=r.Left&&t<=r.Right){var n=this.MinuteCount-1,o=this.MinuteCount*a;if(t<=r.LeftEx)return 0+o;if(t>=r.RightEx)return n+o;var s=r.RightEx-r.LeftEx;return(t-r.LeftEx)*(1*n/s)+o}}},this.GetXData=function(t){var e=this.XPointCount-1;e<0&&(e=0);var i=this.ChartBorder.GetBorder();if(i.DayBorder)return this.GetMultiDayXData(t,i);if(t<=i.LeftEx)return 0;if(t>=i.RightEx)return e;var a=i.RightEx-i.LeftEx;return(t-i.LeftEx)*(1*e/a)},this.DrawCustomHorizontal=function(){if(!this.IsMinSize)for(var t in this.CustomHorizontalInfo){var e=this.CustomHorizontalInfo[t];switch(e.Type){case 0:case 1:this.DrawCustomItem(e)}}},this.GetLeftExtendXFromIndex=function(t,e){var i=e.TotalCount-1,a=this.ChartBorder.GetBorder();return a.DayBorder?this.GetLeftExtendMultiDayXFromIndex(t,e,a):a.Left+this.ChartBorder.LeftExtendWidth*t/i},this.GetLeftExtendMultiDayXFromIndex=function(t,e,i){var a=i.DayBorder,r=a[e.Index],n=e.TotalCount-1,o=r.Left;return o+(r.LeftEx-o)*t/n},this.GetLeftExtendMultiDayXData=function(t,e,i){for(var a=i.DayBorder,r=0;r<a.length;++r){var n=a[r];if(t>=n.Left&&t<=n.LeftEx){if(!e[r])return null;var o=e[r].TotalCount-1,s=n.Left,l=n.LeftEx,h=l-s,u=1*o/h*(t-s);return{DayIndex:parseInt(r),DataIndex:u}}}},this.GetLeftExtendXData=function(t,e){var i=this.ChartBorder.GetBorder();if(i.DayBorder)return this.GetLeftExtendMultiDayXData(t,e,i);var a=e.TotalCount-1;a<0&&(a=0);var r=i.Left,n=i.LeftEx;return t<=r?0:t>=n?a:1*a/(n-r)*(t-r)},this.MoveXIndexLeft=function(t,e){if(Nn.Chart.Log("[MinuteFrame::MoveXIndexLeft] obj ",e),2==e.DataType){var i=e.IndexData.DayIndex,a=e.IndexData.DataIndex-t,r=-1;if(20==e.IndexData.Type)r=0;else if(10==e.IndexData.Type)r=1;else{if(30!=e.IndexData.Type)return!1;r=2}for(var n=i,o=r;n>=0;--n){for(var s=e.Data[n];o>=0;--o){var l=s[o];if(l.DayItem&&l.DayItem.Data){for(null==a&&(a=l.DayItem.Data.length-1);a>=0;--a){var h=l.DayItem.Data[a];if(h){if(10==l.Type){var u=this.MinuteCount*n+a;return e.Point.X=this.GetXFromIndex(u),e.Point.Y=this.GetYFromData(h.Close),e.IndexData.CursorIndex=u,e.IndexData.DayIndex=n,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}if(20==l.Type){if(!Ee.IsNumber(h.Price))continue;return e.Point.X=this.GetLeftExtendXFromIndex(a,l.DayItem),e.Point.Y=this.GetLeftExtendYFromData(h.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=n,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}if(30==l.Type){if(!Ee.IsNumber(h.Price))continue;return e.Point.X=this.GetRightExtendXFromIndex(a,l.DayItem),e.Point.Y=this.GetRightExtendYFromData(h.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=n,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}}}a=null}}o=2}return!1}if(1==e.DataType){var i=e.IndexData.DayIndex,a=e.IndexData.DataIndex-t,r=-1;if(2==e.IndexData.Type)r=0;else if(1==e.IndexData.Type)r=1;else{if(3!=e.IndexData.Type)return!1;r=2}for(var n=r;n>=0;--n){var l=e.Data[n];if(l&&l.DayItem&&l.DayItem.Data){for(null==a&&(a=l.DayItem.Data.length-1);a>=0;--a){if(1==l.Type){var c=l.DayItem.DataOffset,h=l.DayItem.Data[a+c];if(!h)continue;var u=a;return e.Point.X=this.GetXFromIndex(u),e.Point.Y=this.GetYFromData(h.Close),e.IndexData.CursorIndex=u,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}if(2==l.Type){var h=l.DayItem.Data[a];if(!h)continue;if(!Ee.IsNumber(h.Price))continue;return e.Point.X=this.GetLeftExtendXFromIndex(a,l.DayItem),e.Point.Y=this.GetLeftExtendYFromData(h.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}if(3==l.Type){var h=l.DayItem.Data[a];if(!h)continue;if(!Ee.IsNumber(h.Price))continue;return e.Point.X=this.GetRightExtendXFromIndex(a,l.DayItem),e.Point.Y=this.GetRightExtendYFromData(h.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}}a=null}}}},this.MoveXIndexRight=function(t,e){if(Nn.Chart.Log("[MinuteFrame::MoveXIndexRight] obj ",e),2==e.DataType){var i=e.IndexData.DayIndex,a=e.IndexData.DataIndex+t,r=-1;if(20==e.IndexData.Type)r=0;else if(10==e.IndexData.Type)r=1;else{if(30!=e.IndexData.Type)return!1;r=2}for(var n=i,o=r;n<e.Data.length;++n){for(var s=e.Data[n];o<3;++o){var l=s[o];if(l.DayItem&&l.DayItem.Data){for(null==a&&(a=0);a<l.DayItem.Data.length;++a){var h=l.DayItem.Data[a];if(h){if(10==l.Type){var u=this.MinuteCount*n+a;return e.Point.X=this.GetXFromIndex(u),e.Point.Y=this.GetYFromData(h.Close),e.IndexData.CursorIndex=u,e.IndexData.DayIndex=n,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}if(20==l.Type){if(!Ee.IsNumber(h.Price))continue;return e.Point.X=this.GetLeftExtendXFromIndex(a,l.DayItem),e.Point.Y=this.GetLeftExtendYFromData(h.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=n,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}if(30==l.Type){if(!Ee.IsNumber(h.Price))continue;return e.Point.X=this.GetRightExtendXFromIndex(a,l.DayItem),e.Point.Y=this.GetRightExtendYFromData(h.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=n,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}}}a=null}}o=0}return!1}if(1==e.DataType){var i=e.IndexData.DayIndex,a=e.IndexData.DataIndex+t,r=-1;if(2==e.IndexData.Type)r=0;else if(1==e.IndexData.Type)r=1;else{if(3!=e.IndexData.Type)return!1;r=2}for(var n=r;n<e.Data.length;++n){var l=e.Data[n];if(l.DayItem&&l.DayItem.Data){for(null==a&&(a=0);a<l.DayItem.Data.length;++a){if(1==l.Type){if(a>=this.XPointCount)break;var c=l.DayItem.DataOffset,h=l.DayItem.Data[a+c];if(!h)continue;var u=a;return e.Point.X=this.GetXFromIndex(u),e.Point.Y=this.GetYFromData(h.Close),e.IndexData.CursorIndex=u,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}if(2==l.Type){var h=l.DayItem.Data[a];if(!h)continue;if(!Ee.IsNumber(h.Price))continue;return e.Point.X=this.GetLeftExtendXFromIndex(a,l.DayItem),e.Point.Y=this.GetLeftExtendYFromData(h.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}if(3==l.Type){var h=l.DayItem.Data[a];if(!h)continue;if(!Ee.IsNumber(h.Price))continue;return e.Point.X=this.GetRightExtendXFromIndex(a,l.DayItem),e.Point.Y=this.GetRightExtendYFromData(h.Price),e.IndexData.CursorIndex=-1,e.IndexData.DayIndex=0,e.IndexData.DataIndex=a,e.IndexData.Type=l.Type,!0}}a=null}}}},this.GetLeftExtendXValidData=function(t,e){if(this.ChartBorder.GetBorder().DayBorder){var i=this.GetLeftExtendXData(t,e.Data);if(!i)return!1;var a=parseInt(i.DataIndex.toFixed(0)),r=e.Data[i.DayIndex];if(a>=0&&a<r.Data.length){var n=r.Data[a];if(Ee.IsNumber(n.Price))return e.IndexData.DataIndex=a,!0}a<0?a=0:a>=r.Data.length&&(a=r.Data.length-1);for(var o=-1,s=a;s>=0;--s){var n=r.Data[s];if(n&&Ee.IsNumber(n.Price)){o=s;break}}return!(o<0||(e.IndexData.DataIndex=o,e.IndexData.Point.X=this.GetLeftExtendXFromIndex(o,r),Nn.Chart.Log("[MinuteFrame::GetLeftExtendXValidData] DayIndex:"+e.IndexData.DayIndex+", Type:"+e.IndexData.Type+", x:"+t+"=>"+e.IndexData.Point.X+", index:"+a+"=>"+o),0))}var a=this.GetLeftExtendXData(t,e.Data);if((a=parseInt(a.toFixed(0)))>=0&&a<e.Data.Data.length){var n=e.Data.Data[a];if(Ee.IsNumber(n.Price))return e.IndexData.DataIndex=a,!0}a<0?a=0:a>=e.Data.Data.length&&(a=e.Data.Data.length-1);for(var o=-1,s=a;s>=0;--s){var n=e.Data.Data[s];if(Ee.IsNumber(n.Price)){o=s;break}}if(o<0)for(var s=a+1;s<e.Data.Data.length;++s){var n=e.Data.Data[s];if(Ee.IsNumber(n.Price)){o=s;break}}return!(o<0)&&(e.IndexData.DataIndex=o,e.IndexData.Point.X=this.GetLeftExtendXFromIndex(o,e.Data),Nn.Chart.Log("[MinuteFrame::GetLeftExtendXValidData] DayIndex:"+e.IndexData.DayIndex+", Type:"+e.IndexData.Type+", x:"+t+"=>"+e.IndexData.Point.X+", index:"+a+"=>"+o),!0)},this.GetRightExtendXValidData=function(t,e){if(this.ChartBorder.GetBorder().DayBorder){var i=this.GetRightExtendXData(t,e.Data);if(!i)return!1;var a=parseInt(i.DataIndex.toFixed(0)),r=e.Data[i.DayIndex];if(a>=0&&a<r.Data.length){var n=r.Data[a];if(Ee.IsNumber(n.Price))return e.IndexData.DataIndex=a,!0}a<0?a=0:a>=r.Data.length&&(a=r.Data.length-1);for(var o=-1,s=a;s>=0;--s){var n=r.Data[s];if(n&&Ee.IsNumber(n.Price)){o=s;break}}return!(o<0||(e.IndexData.DataIndex=o,e.IndexData.Point.X=this.GetRightExtendXFromIndex(o,r),Nn.Chart.Log("[MinuteFrame::GetRightExtendXValidData] DayIndex:"+e.IndexData.DayIndex+", Type:"+e.IndexData.Type+", x:"+t+"=>"+e.IndexData.Point.X+", index:"+a+"=>"+o),0))}if(!e||!e.Data)return!1;var a=this.GetRightExtendXData(t,e.Data);if((a=parseInt(a.toFixed(0)))>=0&&a<e.Data.Data.length){var n=e.Data.Data[a];if(Ee.IsNumber(n.Price))return e.IndexData.DataIndex=a,!0}a<0?a=0:a>=e.Data.Data.length&&(a=e.Data.Data.length-1);for(var o=-1,s=a;s>=0;--s){var n=e.Data.Data[s];if(Ee.IsNumber(n.Price)){o=s;break}}if(o<0)for(var s=a+1;s<e.Data.Data.length;++s){var n=e.Data.Data[s];if(Ee.IsNumber(n.Price)){o=s;break}}return!(o<0)&&(e.IndexData.DataIndex=o,e.IndexData.Point.X=this.GetRightExtendXFromIndex(o,e.Data),Nn.Chart.Log("[MinuteFrame::GetRightExtendXValidData] DayIndex:"+e.IndexData.DayIndex+", Type:"+e.IndexData.Type+", x:"+t+"=>"+e.IndexData.Point.X+", index:"+a+"=>"+o),!0)},this.GetLeftExtendYFromData=function(t,e,i){if(!i||!i.Range)return this.GetYFromData(t,e);var a=i.Range,r=this.ChartBorder.GetBorder(),n=r.BottomEx-r.TopEx,o=n*(t-a.Min)/(a.Max-a.Min);return r.BottomEx-o},this.GetLeftExtendYData=function(t,e,i){if(!i||!i.Range)return this.GetYData(t,e);var a=i.Range,r=this.ChartBorder.GetBorder(),n=r.BottomEx-r.TopEx;return(r.BottomEx-t)/n*(a.Max-a.Min)+a.Min},this.GetRightExtendMultiDayXFromIndex=function(t,e,i){var a=i.DayBorder,r=a[e.Index],n=e.TotalCount-1,o=r.RightEx;return o+(r.Right-o)*t/n},this.GetRightExtendXFromIndex=function(t,e){var i=e.TotalCount-1,a=this.ChartBorder.GetBorder();return a.DayBorder?this.GetRightExtendMultiDayXFromIndex(t,e,a):a.RightEx+this.ChartBorder.RightExtendWidth*t/i},this.GetRightExtendYFromData=function(t,e,i){return this.GetLeftExtendYFromData(t,e,i)},this.GetRightExtendYData=function(t,e,i){return i&&i.Range?this.GetLeftExtendYData(t,e,i):this.GetYData(t,e)},this.GetRightExtendMultiDayXData=function(t,e,i){for(var a=i.DayBorder,r=0;r<a.length;++r){var n=a[r];if(t>=n.RightEx&&t<=n.Right){if(!e[r])return null;var o=e[r].TotalCount-1,s=n.RightEx,l=n.Right,h=l-s,u=1*o/h*(t-s);return{DayIndex:parseInt(r),DataIndex:u}}}return null},this.GetRightExtendXData=function(t,e){var i=this.ChartBorder.GetBorder();if(i.DayBorder)return this.GetRightExtendMultiDayXData(t,e,i);var a=e.TotalCount-1;a<0&&(a=0);var r=i.RightEx,n=i.Right;return t<=r?0:t>=n?a:1*a/(n-r)*(t-r)}}function O(){this.newMethod=A,this.newMethod(),delete this.newMethod,this.ClassName="MinuteHScreenFrame",this.IsHScreen=!0,this.DrawTitleBG=function(){if(!(this.ChartBorder.TitleHeight<=0)){var t=this.ChartBorder.GetHScreenBorder(),e=v(t.RightEx),i=v(t.Top),a=v(t.Bottom),r=this.ChartBorder.TitleHeight,n=a-i;this.Canvas.fillStyle=this.TitleBGColor,this.Canvas.fillRect(e,i,r,n)}},this.DrawToolbar=function(){},this.DrawBeforeDataBG=function(){var t=this.ChartBorder.GetHScreenBorder();if(t.DayBorder)return void this.DrawMultiDayBeforeDataBG(t);if(!(this.ChartBorder.LeftExtendWidth<10&&this.ChartBorder.RightExtendWidth<10)){var e=v(t.Left),i=v(t.Right);if(this.Canvas.fillStyle=this.BeforeBGColor,this.ChartBorder.LeftExtendWidth>10){var a=v(t.Top),r=v(t.TopEx),n=i-e,o=r-a;this.Canvas.fillRect(e,a,n,o)}if(this.ChartBorder.RightExtendWidth>10){var a=t.BottomEx,r=t.Bottom,n=i-e,o=r-a;this.Canvas.fillRect(e,a,n,o)}}},this.DrawMultiDayBeforeDataBG=function(t){var e=t.DayBorder,i=v(t.Left),a=v(t.Right),r=a-i;this.Canvas.strokeStyle=this.MultiDayBorderPen;for(var n=0;n<e.length;++n){var o=0,s=e[n],l=v(s.Top),h=v(s.TopEx),u=h-l;u>3&&(this.Canvas.fillStyle=this.BeforeBGColor,this.Canvas.fillRect(i,l,r,u),++o);var l=v(s.BottomEx),h=v(s.Bottom),u=h-l;u>3&&(this.Canvas.fillStyle=this.AfterBGColor,this.Canvas.fillRect(i,l,r,u),++o),2==o&&n!=e.length-1&&(this.Canvas.beginPath(),this.Canvas.moveTo(i,h),this.Canvas.lineTo(a,h),this.Canvas.stroke())}},this.GetYData=function(t){var e=this.ChartBorder.GetHScreenBorder();if(t<e.LeftEx)return this.HorizontalMin;if(t>e.RightEx)return this.HorizontalMax;var i=e.RightEx-e.LeftEx;return(t-e.LeftEx)/i*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetMultiDayXData=function(t,e){for(var i=e.DayBorder,a=0;a<i.length;++a){var r=i[a];if(t>=r.Top&&t<=r.Bottom){var n=this.MinuteCount-1,o=this.MinuteCount*a;if(t<=r.TopEx)return 0+o;if(t>=r.BottomEx)return n+o;var s=r.BottomEx-r.TopEx;return(t-r.TopEx)*(1*n/s)+o}}},this.GetXData=function(t){var e=this.XPointCount-1;e<0&&(e=0);var i=this.ChartBorder.GetHScreenBorder();if(i.DayBorder)return this.GetMultiDayXData(t,i);if(t<=i.TopEx)return 0;if(t>=i.BottomEx)return e;var a=i.BottomEx-i.TopEx;return(t-i.TopEx)*(1*e/a)},this.GetMultiDayXFromIndex=function(t,e){var i=e.DayBorder,a=t%this.MinuteCount,r=parseInt(t/this.MinuteCount);r>=i.length&&(r=i.length-1);var n=i[r],o=this.MinuteCount-1;if(a>=o)return n.BottomEx;var s=n.BottomEx-n.TopEx;return n.TopEx+s*a/o},this.GetXFromIndex=function(t){var e=this.XPointCount-1,i=this.ChartBorder.GetHScreenBorder();if(i.DayBorder)return this.GetMultiDayXFromIndex(t,i);if(1==e)return 0==t?i.TopEx:i.BottomEx;if(e<=0)return i.TopEx;if(t>=e)return i.BottomEx;var a=i.BottomEx-i.TopEx;return i.TopEx+a*t/e},this.GetYFromData=function(t){var e=this.ChartBorder.GetHScreenBorder();if(t<=this.HorizontalMin)return e.LeftEx;if(t>=this.HorizontalMax)return e.RightEx;var i=(e.RightEx-e.LeftEx)*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return e.LeftEx+i},this.DrawVolTitle=function(t){if(po.IsShowMinuteVolTitle(t)&&1==this.Identify){var e=c(),i=this.ChartBorder.GetRight()-2*e,a=this.ChartBorder.GetTopEx()+2*e,r=i,n=a;this.Canvas.save(),this.Canvas.translate(r,n),this.Canvas.rotate(90*Math.PI/180);var o=this.YInsideOffset;if(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",lo.Minute.VolBarColor||lo.Minute.VolTitleColor){lo.Minute.VolBarColor?this.Canvas.fillStyle=lo.Minute.VolBarColor:this.Canvas.fillStyle=lo.Minute.VolTitleColor;var s=this.YSplitOperator.LanguageID,l=uo.GetText("MVol-Vol",s);this.Canvas.fillText(l,o,0),o+=this.Canvas.measureText(l).width,o+=6*c()}this.IsShowPositionTitle&&(l=uo.GetText("MVol-Position",s),this.Canvas.fillStyle=lo.Minute.PositionColor,this.Canvas.fillText(l,o,0)),this.Canvas.restore()}},this.DrawHorizontal=function(){for(var t=this.ChartBorder.GetHScreenBorder(),e=t.Top,i=t.Bottom,a=t.Left,r=t.Right,n=this.ChartBorder.Top,o=this.ChartBorder.Bottom,s=null,l=this.HorizontalInfo.length-1;l>=0;--l){var h=this.HorizontalInfo[l],u=this.GetYFromData(h.Value);if(!(null!=u&&Math.abs(u-s)<this.MinYDistance)){if(this.Canvas.strokeStyle=h.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(v(u),e),this.Canvas.lineTo(v(u),i),this.Canvas.stroke(),u>=r-2)this.Canvas.textBaseline="top",u=r;else if(u<=a+2){if(this.Canvas.textBaseline="bottom",null!=(u=a)&&Math.abs(u-s)<2*this.MinYDistance)continue}else this.Canvas.textBaseline="middle";if(null!=h.Message[0]&&n>10){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="right";var c=u,d=e;this.Canvas.save(),this.Canvas.translate(c,d),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(h.Message[0],-2,0),this.Canvas.restore()}if(null!=h.Message[1]&&o>10){null!=h.Font&&(this.Canvas.font=h.Font),this.Canvas.fillStyle=h.TextColor,this.Canvas.textAlign="left";var c=u,d=i;this.Canvas.save(),this.Canvas.translate(c,d),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(h.Message[1],2,0),this.Canvas.restore()}s=u}}},this.DrawInsideClientHorizontal=function(){for(var t=this.GetBorder(),e=t.Left,i=t.Right,a=t.BottomEx,r=t.TopEx,n=(c(),null),o=this.HorizontalInfo.length-1;o>=0;--o){var s=this.HorizontalInfo[o];if(s&&s.Message[2]&&s.Message[3]){var l=this.GetYFromData(s.Value);if(!(null!=l&&null!=n&&Math.abs(l-n)<this.MinYDistance)){if(l>=i-2)this.Canvas.textBaseline="top",l=i;else if(l<=e+2){if(this.Canvas.textBaseline="bottom",null!=(l=e)&&Math.abs(l-n)<2*this.MinYDistance)continue}else this.Canvas.textBaseline="middle";if(s.Message[2]){null!=s.Font&&(this.Canvas.font=s.Font),this.Canvas.fillStyle=s.TextColor,this.Canvas.textAlign="left";var h=l,u=r;this.Canvas.save(),this.Canvas.translate(h,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s.Message[2],2,0),this.Canvas.restore()}if(s.Message[3]){null!=s.Font&&(this.Canvas.font=s.Font),this.Canvas.fillStyle=s.TextColor,this.Canvas.textAlign="right";var h=l,u=a;this.Canvas.save(),this.Canvas.translate(h,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s.Message[3],-2,0),this.Canvas.restore()}n=l}}}},this.DrawVertical=function(){var t=this.ChartBorder.GetHScreenBorder(),e=t.Left,i=t.Right,a=t.Bottom,r=null;for(var n in this.VerticalInfo){var o=this.GetXFromIndex(this.VerticalInfo[n].Value);if(o>a)break;if(!(null!=r&&Math.abs(o-r)<this.MinXDistance)){if(this.Canvas.strokeStyle=this.VerticalInfo[n].LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e,v(o)),this.Canvas.lineTo(i,v(o)),this.Canvas.stroke(),null!=this.VerticalInfo[n].Message[0]){null!=this.VerticalInfo[n].Font&&(this.Canvas.font=this.VerticalInfo[n].Font),this.Canvas.fillStyle=this.VerticalInfo[n].TextColor;var s=this.Canvas.measureText(this.VerticalInfo[n].Message[0]).width;o<s/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top"):o+s/2>=this.ChartBorder.GetChartHeight()?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top"):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top");var l=e,h=o;this.Canvas.save(),this.Canvas.translate(l,h),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.VerticalInfo[n].Message[0],0,0),this.Canvas.restore()}r=o}}},this.DrawInsideHorizontal=function(){if(!this.IsMinSize&&(!1!==this.IsShowYText[0]||!1!==this.IsShowYText[1])){this.DrawInsideClientHorizontal();var t=this.ChartBorder.GetHScreenBorder(),e=t.Left,i=t.RightEx,a=t.Top,r=t.Bottom,n=this.ChartBorder.Top,o=this.ChartBorder.Bottom,s=(this.ChartBorder.TitleHeight,c());if(n<10*s&&!0===this.IsShowYText[0]||o<10*s&&!0===this.IsShowYText[1])for(var s=c(),l=null,h=null,u=this.HorizontalInfo.length-1;u>=0;--u){var d=this.HorizontalInfo[u],f=this.GetYFromData(d.Value);if(!(null!=f&&null!=l&&Math.abs(f-l)<this.MinYDistance)){if(null!=d.Message[0]&&n<10*s&&!0===this.IsShowYText[0]){null!=d.Font&&(this.Canvas.font=d.Font),this.Canvas.fillStyle=d.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline=f>=i-2?"top":f<=e+2?"bottom":"middle";var p=(this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,d.Message[0],f),m=a;this.Canvas.save(),this.Canvas.translate(p,m),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(d.Message[0],2*s,0),this.Canvas.restore(),(null==h||h<p)&&(this.YInsideOffset=this.Canvas.measureText(d.Message[0]).width+4*c(),h=p)}if(null!=d.Message[1]&&o<10*s&&!0===this.IsShowYText[1]){null!=d.Font&&(this.Canvas.font=d.Font),this.Canvas.fillStyle=d.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline=f>=i-2?"top":f<=e+2?"bottom":"middle";var C=this.Canvas.measureText(d.Message[1]).width,p=(this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,d.Message[1],f),m=r;this.Canvas.save(),this.Canvas.translate(p,m),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(d.Message[1],-2*s,0),this.Canvas.restore()}l=f}}}},this.GetLeftExtendXFromIndex=function(t,e){var i=e.TotalCount-1,a=this.ChartBorder.GetHScreenBorder();return a.DayBorder?this.GetLeftExtendMultiDayXFromIndex(t,e,a):a.Top+this.ChartBorder.LeftExtendWidth*t/i},this.GetLeftExtendMultiDayXFromIndex=function(t,e,i){var a=i.DayBorder,r=a[e.Index],n=e.TotalCount-1,o=r.Top;return o+(r.TopEx-o)*t/n},this.GetLeftExtendMultiDayXData=function(t,e,i){for(var a=i.DayBorder,r=0;r<a.length;++r){var n=a[r];if(t>=n.Top&&t<=n.TopEx){if(!e[r])return null;var o=e[r].TotalCount-1,s=n.Top,l=n.TopEx,h=l-s,u=1*o/h*(t-s);return{DayIndex:parseInt(r),DataIndex:u}}}return null},this.GetLeftExtendXData=function(t,e){var i=this.ChartBorder.GetHScreenBorder();if(i.DayBorder)return this.GetLeftExtendMultiDayXData(t,e,i);var a=e.TotalCount-1;a<0&&(a=0);var r=i.Top,n=i.TopEx;return t<=r?0:t>=n?a:1*a/(n-r)*(t-r)},this.GetLeftExtendYFromData=function(t,e,i){if(!i||!i.Range)return this.GetYFromData(t,e);var a=i.Range,r=this.ChartBorder.GetHScreenBorder(),n=r.RightEx-r.LeftEx,o=n*(t-a.Min)/(a.Max-a.Min);return r.LeftEx+o},this.GetLeftExtendYData=function(t,e,i){if(!i||!i.Range)return this.GetYData(y,e);var a=i.Range,r=this.ChartBorder.GetHScreenBorder(),n=r.RightEx-r.LeftEx;return(t-r.LeftEx)/n*(a.Max-a.Min)+a.Min},this.GetRightExtendMultiDayXFromIndex=function(t,e,i){var a=i.DayBorder,r=a[e.Index],n=e.TotalCount-1,o=r.BottomEx;return o+(r.Bottom-o)*t/n},this.GetRightExtendXFromIndex=function(t,e){var i=e.TotalCount-1,a=this.ChartBorder.GetHScreenBorder();return a.DayBorder?this.GetRightExtendMultiDayXFromIndex(t,e,a):a.BottomEx+this.ChartBorder.RightExtendWidth*t/i},this.GetRightExtendMultiDayXData=function(t,e,i){for(var a=i.DayBorder,r=0;r<a.length;++r){var n=a[r];if(t>=n.BottomEx&&t<=n.Bottom){if(!e[r])return null;var o=e[r].TotalCount-1,s=n.BottomEx,l=n.Bottom,h=l-s,u=1*o/h*(t-s);return{DayIndex:parseInt(r),DataIndex:u}}}return null},this.GetRightExtendXData=function(t,e){var i=this.ChartBorder.GetHScreenBorder();if(i.DayBorder)return this.GetRightExtendMultiDayXData(t,e,i);var a=e.TotalCount-1;a<0&&(a=0);var r=i.BottomEx,n=i.Bottom;return t<=r?0:t>=n?a:1*a/(n-r)*(t-r)},this.GetRightExtendYFromData=function(t,e,i){return i&&i.Range?this.GetLeftExtendYFromData(t,e,i):this.GetYFromData(t,e)}}function N(){this.newMethod=A,this.newMethod(),delete this.newMethod,this.ClassName="OverlayMinuteFrame",this.IsShow=!0,this.IsShareY=!1,this.IsCalculateYMaxMin=!0,this.Draw=function(){this.SplitXYCoordinate(),this.IsShow,this.SizeChange=!1,this.XYSplit=!1},this.DrawToolbar=function(){},this.GetScaleTextWidth=function(){return{TextWidth:0}},this.SplitXYCoordinate=function(){if(0!=this.XYSplit)if(this.IsShareY){this.HorizontalMax=this.MainFrame.HorizontalMax,this.HorizontalMin=this.MainFrame.HorizontalMin,this.HorizontalInfo=[];for(var t in this.MainFrame.HorizontalInfo){var e=this.MainFrame.HorizontalInfo[t];this.HorizontalInfo.push(e)}}else null!=this.YSplitOperator&&this.YSplitOperator.Operator()}}function _(){this.newMethod=O,this.newMethod(),delete this.newMethod,this.ClassName="OverlayMinuteHScreenFrame",this.IsShow=!0,this.Draw=function(){this.SplitXYCoordinate(),this.IsShow,this.SizeChange=!1,this.XYSplit=!1},this.SplitXYCoordinate=function(){if(0!=this.XYSplit)if(this.IsShareY){this.HorizontalMax=this.MainFrame.HorizontalMax,this.HorizontalMin=this.MainFrame.HorizontalMin,this.HorizontalInfo=[];for(var t in this.MainFrame.HorizontalInfo){var e=this.MainFrame.HorizontalInfo[t];this.HorizontalInfo.push(e)}}else null!=this.YSplitOperator&&this.YSplitOperator.Operator()}}function P(){this.newMethod=M,this.newMethod(),delete this.newMethod,this.ClassName="KLineFrame",this.ToolbarID=m(),this.ModifyIndex=lo.KLineToolbar.ModifyIndex,this.ChangeIndex=lo.KLineToolbar.ChangeIndex,this.CloseIndex=lo.KLineToolbar.CloseIndex,this.OverlayIndex=lo.KLineToolbar.OverlayIndex,this.MaxMinWindow=lo.KLineToolbar.MaxMinWindow,this.TitleWindow=lo.KLineToolbar.TitleWindow,this.ExportData=lo.KLineToolbar.ExportData,this.ModifyIndexEvent,this.ChangeIndexEvent,this.ToolbarRect=null,this.ReDrawToolbar=!1,this.LastCalculateStatus={Width:0,XPointCount:0},this.CustomHorizontalInfo=[],this.IsDrawTitleBG=!1,this.IsShowNameArrow=!1,this.CustomVerticalInfo=[],this.DrawCustomVerticalEvent,this.RightSpaceCount=0,this.Logarithmic=null,this.CustomToolbar=[],this.ToolbarType=0,this.DrawToolbar=function(){if(1!=this.ToolbarButtonStyle&&!0!==lo.IsDOMFrameToolbar&&void 0!==On.default&&this.ChartBorder.UIElement&&this.ChartBorder.UIElement.parentNode){var t=document.getElementById(this.ToolbarID);if(!t||0!=this.SizeChange||0!=this.ReDrawToolbar){if(t||(t=document.createElement("div"),t.className="klineframe-toolbar",t.id=this.ToolbarID,t.oncontextmenu=function(){return!1},t.setAttribute("identify",this.Identify.toString()),this.ChartBorder.UIElement.parentNode.appendChild(t)),!(this.ModifyIndex||this.ChangeIndex||this.OverlayIndex||this.CloseIndex||Ee.IsNonEmptyArray(this.CustomToolbar)))return void("none"!=t.style.display&&(t.style.display="none"));var e=c(),i=parseInt(this.ChartBorder.UIElement.parentElement.style.width.replace("px","")),a=(parseInt(this.ChartBorder.UIElement.parentElement.style.height.replace("px","")),this.ChartBorder.GetTitleHeight()),r=i-this.ChartBorder.Right/e-100,n=this.ChartBorder.GetTop()/e;if(!this.ToolbarRect||this.ToolbarRect.Left!=r||this.ToolbarRect.Top!=n||100!=this.ToolbarRect.Width||this.ToolbarRect.Height!=a/e){this.ToolbarRect={Left:r,Top:n,Width:100,Height:a/e};var o="<span class='index_param icon iconfont icon-index_param' id='modifyindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='调整指标参数'></span><span class='index_change icon iconfont icon-change_index' id='changeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='切换指标'></span><span class='index_overlay icon iconfont icon-overlay_index' id='overlayindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='叠加指标'></span>";if(0!==this.Identify&&this.CloseIndex&&(o+="<span class='index_close icon iconfont icon-close' id='closeindex' style='cursor:pointer;margin-left:2px;margin-right:2px;' title='关闭指标窗口'></span>"),Ee.IsNonEmptyArray(this.CustomToolbar))for(var s=0;s<this.CustomToolbar.length;++s){var l=this.CustomToolbar[s];o+=l.Html}t.style.left=r+"px",t.style.top=n+"px",t.style.width="100px",t.style.height=a/e+"px",t.innerHTML=o;this.ChartBorder.UIElement.JSChartContainer,this.Identify;if(this.ModifyIndex?"function"==typeof this.ModifyIndexEvent&&(0,On.default)("#"+t.id+" .index_param").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},this.ModifyIndexEvent):(0,On.default)("#"+t.id+" .index_param").hide(),this.ChangeIndex?"function"==typeof this.ChangeIndexEvent&&(0,On.default)("#"+t.id+" .index_change").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,IsOverlay:!1},this.ChangeIndexEvent):(0,On.default)("#"+t.id+" .index_change").hide(),this.OverlayIndex?(0,On.default)("#"+t.id+" .index_overlay").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,IsOverlay:!0},this.ChangeIndexEvent):(0,On.default)("#"+t.id+" .index_overlay").hide(),(0,On.default)("#"+t.id+" .index_close").click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify},function(t){var e=t.data.Chart,i=t.data.Identify;e.RemoveIndexWindow(i)}),Ee.IsNonEmptyArray(this.CustomToolbar))for(var s=0;s<this.CustomToolbar.length;++s){var l=this.CustomToolbar[s];(0,On.default)("#"+l.ID).click({Chart:this.ChartBorder.UIElement.JSChartContainer,Identify:this.Identify,ID:l.ID},l.Click)}t.style.display="block"}}}},this.DrawToolbarV2=function(t,e){if(!0!==lo.IsDOMFrameToolbar&&(this.Buttons=[],this.LeftButtonWidth=0,1!=this.IsMinSize&&!(this.ChartBorder.TitleHeight<5))){var i=[];if(this.CloseIndex&&0!==this.Identify&&i.push({ID:Vn.CLOSE_INDEX_WINDOW,Style:this.CloseWindowButton}),this.MaxMinWindow&&0!=this.Identify&&i.push({ID:Vn.MAX_MIN_WINDOW,Style:this.MaxMinWindowButton}),this.TitleWindow&&0!=this.Identify&&i.push({ID:Vn.TITLE_WINDOW,Style:this.TitleWindowButton}),this.ExportData&&i.push({ID:Vn.EXPORT_DATA,Style:this.ExportDataButton}),this.OverlayIndex&&i.push({ID:Vn.OVERLAY_INDEX,Style:this.OverlayIndexButton}),this.ChangeIndex&&i.push({ID:Vn.CHANGE_INDEX,Style:this.ChangeIndexButton}),this.ModifyIndex&&i.push({ID:Vn.MODIFY_INDEX_PARAM,Style:this.ModifyIndexParamButton}),Ee.IsNonEmptyArray(this.CustomToolbar))for(var a=0;a<this.CustomToolbar.length;++a){var r=this.CustomToolbar[a];if(r.ID&&r.Style){var n={ID:r.ID,Style:r.Style,TooltipText:r.TooltipText};!0===r.IsLeft||i.push(n)}}if(this.GetEventCallback){var o=this.GetEventCallback(Rn.ON_CUSTOM_RIGHT_TOOLBAR);if(o&&o.Callback){var s={PreventDefault:!1,DefaultButton:i,AryButton:null,FrameID:this.Identify};if(o.Callback(o,s,this),s.PreventDefault)return void this.DrawTitleButton(s.AryButton,t,e)}}this.DrawTitleButton(i,t,e)}},this.GetLeftToolbar=function(t){if(this.GetEventCallback){var e=this.GetEventCallback(Rn.ON_CUSTOM_LEFT_TOOLBAR);if(e&&e.Callback){var i={PreventDefault:!1,AryButton:null,FrameID:this.Identify};if(t&&(t.Overlay&&(i.Title=t.Overlay.Title),t.OverlayID&&(i.OverlayID=t.OverlayID)),e.Callback(e,i,this),i.PreventDefault)return i.AryButton}}if(!Ee.IsNonEmptyArray(this.CustomToolbar))return null;for(var a=[],r=0;r<this.CustomToolbar.length;++r){var n=this.CustomToolbar[r];if(n.ID&&n.Style){var o={ID:n.ID,Style:n.Style,TooltipText:n.TooltipText};!0===n.IsLeft&&a.push(o)}}return a},this.DrawFrame=function(){this.IsMinSize||(this.SplitXYCoordinate(),1==this.SizeChange&&(this.CalculateDataWidth(),this.Logarithmic&&this.SplitLogarithmicXYCoordinate()),this.BeforeDrawXYCallback&&this.BeforeDrawXYCallback(this),this.DrawTitleBG(),this.DrawHorizontal(),this.DrawVertical()),1!=this.SizeChange&&1!=this.ReDrawToolbar||(this.DrawToolbar(),this.ReDrawToolbar=!1)},this.GetXFromIndex=function(t,e){if(!1===e)if(t>=0)for(var i=this.ChartBorder.GetLeft()+lo.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,a=1;a<=t;++a)i+=this.DistanceWidth+this.DataWidth;else for(var i=this.ChartBorder.GetLeft()+lo.FrameLeftMargin-(this.DistanceWidth/2+this.DataWidth+this.DistanceWidth),r=Math.abs(t),a=1;a<r;++a)i-=this.DistanceWidth+this.DataWidth;else{t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var i=this.ChartBorder.GetLeft()+lo.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,a=1;a<=t;++a)i+=this.DistanceWidth+this.DataWidth}return i},this.GetXData=function(t,e){var i=this.DistanceWidth,a=this.DataWidth,r=this.ChartBorder.GetLeft()+lo.FrameLeftMargin;if(0==e){if(t<this.ChartBorder.GetLeft()){for(var n=-1,o=this.ChartBorder.GetLeft()-(i/2+a+i);n>-1e4&&!(o<=t);)o-=a+i,--n;return n}for(var n=0,o=r+i/2+a+i;n<1e4&&!(o>=t);)o+=a+i,++n;return n}if(t<=this.ChartBorder.GetLeft())return 0;if(t>=this.ChartBorder.GetRight())return this.XPointCount-1;for(var s=this.ChartBorder.GetRight()-lo.FrameRightMargin,n=0,o=r+i/2+a+i;o<s&&n<1e4&&n+1<this.XPointCount&&!(o>=t);)o+=a+i,++n;return n},this.CalculateDataWidth=function(){if(!(this.XPointCount<2)){var t=this.GetFrameWidth()-lo.FrameMargin;if(this.ZoomIndex>=0&&this.LastCalculateStatus.Width==t&&this.LastCalculateStatus.XPointCount==this.XPointCount){var e=this.DistanceWidth/2+lo.FrameLeftMargin+(this.DataWidth+this.DistanceWidth)*(this.XPointCount-1);this.DataWidth,this.DistanceWidth,this.XPointCount;if(e<=t)return}this.LastCalculateStatus.Width=t,this.LastCalculateStatus.XPointCount=this.XPointCount;for(var i=0;i<Zn.length;++i)if((Zn[i][0]+Zn[i][1])*this.XPointCount<t)return this.ZoomIndex=i,this.DataWidth=Zn[i][0],this.DistanceWidth=Zn[i][1],this.TrimKLineDataWidth(t),void Nn.Chart.Log("[KLineFrame::CalculateDataWidth] ZOOM_SEED, DataWidth, DistanceWidth, XPointCount",Zn[this.ZoomIndex],this.DataWidth,this.DistanceWidth,this.XPointCount);this.ZoomIndex=Zn.length-1,this.DataWidth=t/this.XPointCount,this.DistanceWidth=0}},this.OnSize=function(t){for(var e=this.GetFrameWidth()-lo.FrameMargin,i=0,a=this.DistanceWidth/2+lo.FrameLeftMargin+(this.DataWidth+this.DistanceWidth);a<e;a+=this.DataWidth+this.DistanceWidth,++i);return t.CurCount=this.XPointCount,t.CalcCount=i,t.DataWidth=this.DataWidth,t.DistanceWidth=this.DistanceWidth,t.Changed=!1,this.LastCalculateStatus.Width=e,t.CurCount==t.CalcCount?t:(this.XPointCount=i,this.LastCalculateStatus.XPointCount=this.XPointCount,this.Data&&(this.Data.DataOffset+=t.CurCount-t.CalcCount,this.Data.DataOffset<0&&(this.Data.DataOffset=0),t.Changed=!0),t)},this.SetDataWidth=function(t){var e=Zn.length-1;for(var i in Zn){if(Zn[i][0]<=t){e=parseInt(i)-1;break}}this.ZoomIndex=e,this.DataWidth=Zn[this.ZoomIndex][0],this.DistanceWidth=Zn[this.ZoomIndex][1];for(var a=this.GetFrameWidth()-lo.FrameMargin,r=0,n=this.DistanceWidth/2+lo.FrameLeftMargin+(this.DataWidth+this.DistanceWidth);n<=a;n+=this.DataWidth+this.DistanceWidth,++r);return this.XPointCount=r,this.LastCalculateStatus.XPointCount=this.XPointCount,this.LastCalculateStatus.Width=a,{XPointCount:this.XPointCount,DataWidth:this.DataWidth,DistanceWidth:this.DistanceWidth}},this.TrimKLineDataWidth=function(t){var e=Zn[this.ZoomIndex][0],i=Zn[this.ZoomIndex][1];if(1==e&&0==i)return void(this.DataWidth=t/this.XPointCount);for(;;){if((this.DistanceWidth+this.DataWidth)*this.XPointCount+this.DistanceWidth>t){this.DistanceWidth-=.01;break}this.DistanceWidth+=.01}},this.IsOverlayMaxMin=function(t){if(!this.ChartKLine)return!1;if(!this.ChartKLine.Max||!this.ChartKLine.Min)return!1;var e=this.Canvas.measureText(t.Text.Value).width+4;"right"===t.Text.TextAlign&&(t.X-=e);var i=this.ChartKLine.Max,a=this.ChartKLine.Min,r=!1,n=!1;if(i.X>=t.X&&i.X<=t.X+e){var o=i.Y+20,s=i.Y-20;(o>=t.Y-20&&o<=t.Y+20||s>=t.Y-20&&s<=t.Y+20)&&(r=!0)}if(1==r)return!0;if(a.X>=t.X&&a.X<=t.X+e){var o=a.Y+20,s=a.Y-20;(o>=t.Y-20&&o<=t.Y+20||s>=t.Y-20&&s<=t.Y+20)&&(n=!0)}return r||n},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator(),this.Logarithmic&&this.SplitLogarithmicXYCoordinate())},this.SplitLogarithmicXYCoordinate=function(){for(var t=this.Logarithmic.Up,e=this.Logarithmic.Down,i=0,a=0,r=Math.max(t.length,e.length),n=[],o=0;o<r;++o)n[o]=2*o;for(var o=0,s=n.length-1;o<t.length;++o,--s){var l=t[o];l.LogHeight=n[s],i+=l.LogHeight,++a}for(var o=0,s=n.length-1;o<e.length;++o,--s){var l=e[o];l.LogHeight=n[s],i+=l.LogHeight,++a}var h=2*c(),u=this.ChartBorder.GetTopEx(),d=this.ChartBorder.GetBottomEx(),f=d-u,p=(f-i*h)/a;if(p<0&&(p=0,h=f/i),1==this.CoordinateType){for(var m=u,o=e.length-1;o>=0;--o){var l=e[o];l.Height=p+h*l.LogHeight,l.Top=m,l.Bottom=l.Top+l.Height,m=l.Bottom}for(var C=d,o=t.length-1;o>=0;--o){var l=t[o];l.Height=p+h*l.LogHeight,l.Bottom=C,l.Top=C-l.Height,C=l.Top}}else{for(var m=u,o=t.length-1;o>=0;--o){var l=t[o];l.Height=p+h*l.LogHeight,l.Top=m,l.Bottom=l.Top+l.Height,m=l.Bottom}for(var C=d,o=e.length-1;o>=0;--o){var l=e[o];l.Height=p+h*l.LogHeight,l.Bottom=C,l.Top=C-l.Height,C=l.Top}}Nn.Chart.Log("[KLineFrame::SplitLogarithmicXYCoordinate]",this.Logarithmic)},this.GetYLogarithmicFromData=function(t,e){if(1==this.CoordinateType){if(t<=this.HorizontalMin)return this.ChartBorder.GetTopEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetBottomEx();if(t>this.Logarithmic.OpenPrice){var i=this.Logarithmic.Up;for(var a in i){var r=i[a];if(t>=r.Start&&t<=r.End){var n=r.Bottom-r.Top,o=n*(t-r.Start)/(r.End-r.Start);return r.Top+o}}}else{var s=this.Logarithmic.Down;for(var a in s){var r=s[a];if(t>=r.Start&&t<=r.End){var n=r.Bottom-r.Top,o=n*(t-r.Start)/(r.End-r.Start);return r.Top+o}}}}else{if(t<=this.HorizontalMin)return this.ChartBorder.GetBottomEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetTopEx();if(t>this.Logarithmic.OpenPrice){var i=this.Logarithmic.Up;for(var a in i){var r=i[a];if(t>=r.Start&&t<=r.End){var n=r.Bottom-r.Top,o=n*(t-r.Start)/(r.End-r.Start);return r.Bottom-o}}}else{var s=this.Logarithmic.Down;for(var a in s){var r=s[a];if(t>=r.Start&&t<=r.End){var n=r.Bottom-r.Top,o=n*(t-r.Start)/(r.End-r.Start);return r.Bottom-o}}}}},this.GetYLogarithmicData=function(t){if(1==this.CoordinateType){if(t<this.ChartBorder.GetTopEx())return this.HorizontalMin;if(t>this.ChartBorder.GetBottomEx())return this.HorizontalMax;var e=this.Logarithmic.Up;for(var i in e){var a=e[i];if(t>=a.Top&&t<=a.Bottom)return(t-a.Top)/a.Height*(a.End-a.Start)+a.Start}var r=this.Logarithmic.Down;for(var i in r){var a=r[i];if(t>=a.Top&&t<=a.Bottom)return(t-a.Top)/a.Height*(a.End-a.Start)+a.Start}}else{if(t<this.ChartBorder.GetTopEx())return this.HorizontalMax;if(t>this.ChartBorder.GetBottomEx())return this.HorizontalMin;var e=this.Logarithmic.Up;for(var i in e){var a=e[i];if(t>=a.Top&&t<=a.Bottom)return(a.Bottom-t)/a.Height*(a.End-a.Start)+a.Start}var r=this.Logarithmic.Down;for(var i in r){var a=r[i];if(t>=a.Top&&t<=a.Bottom)return(a.Bottom-t)/a.Height*(a.End-a.Start)+a.Start}}},this.CalculateCount=function(t){var e=Zn[t][0],i=Zn[t][1],a=this.GetFrameWidth()-lo.FrameMargin-i/2;return parseInt(a/(e+i))},this.ZoomUp=function(t){if(this.ZoomIndex<=0)return!1;if(this.Data.DataOffset<0)return!1;var e=this.Data.Data.length,i=e+this.RightSpaceCount,a=0,r=this.Data.DataOffset+this.XPointCount-1,n=this.Data.DataOffset+t.Index;r>=e&&(a=r-(this.Data.Data.length-1),r=this.Data.Data.length-1,a>this.RightSpaceCount&&(a=this.RightSpaceCount));var o=this.CalculateCount(this.ZoomIndex-1);Nn.Chart.Log("[KLineFrame::ZoomUp] old status. XPointCount="+o+" ZoomIndex="+this.ZoomIndex+" DataCount= "+this.Data.Data.length+" rightSpaceCount="+a);var s=!1;if(--this.ZoomIndex,1==t.IsLockRight){var l=this.Data.DataOffset+this.XPointCount;if(o>l)o=l,this.XPointCount=o,this.Data.DataOffset=0;else{var h=r-(o-a)+1;this.XPointCount=o,this.Data.DataOffset=h,this.Data.DataOffset<0&&(this.Data.DataOffset=0)}}else if(o>=i)this.Data.DataOffset=0,this.XPointCount=o,s=!0,Nn.Chart.Log("[KLineFrame::ZoomUp] Show all data. XPointCount="+o+" ZoomIndex="+this.ZoomIndex+" DataCount= "+e);else{var h=r-(o-a)+1;if(1==t.ZoomType){var u=this.XPointCount-o+1,c=parseInt(t.Index/this.XPointCount*u),d=this.Data.DataOffset+c;d<e&&(h=this.Data.DataOffset+c)}this.XPointCount=o,this.Data.DataOffset=h,this.Data.DataOffset<0&&(this.Data.DataOffset=0),Nn.Chart.Log("[KLineFrame::ZoomUp] calculate. XPointCount="+o+" ZoomIndex="+this.ZoomIndex+" DataCount= "+e+" DataOffset="+this.Data.DataOffset)}if(this.DataWidth=Zn[this.ZoomIndex][0],this.DistanceWidth=Zn[this.ZoomIndex][1],!s){var f=this.GetFrameWidth()-lo.FrameMargin;this.TrimKLineDataWidth(f)}return this.LastCalculateStatus.XPointCount=this.XPointCount,t.Index=n-this.Data.DataOffset,!0},this.SetXShowCount=function(t){for(var e=-1,i=this.GetFrameWidth()-lo.FrameMargin,a=0;a<Zn.length;++a){var r=Zn[a],n=r[0],o=r[1],i=this.GetFrameWidth()-lo.FrameMargin-o/2;if(parseInt((i-o/2)/(n+o))>=t)return e=a,this.XPointCount=t,this.ZoomIndex=e,this.DataWidth=n,this.DistanceWidth=o,1==n&&0==o&&(this.DataWidth=i/this.XPointCount),this.LastCalculateStatus.XPointCount=this.XPointCount,void(this.LastCalculateStatus.Width=i)}this.XPointCount=t,this.ZoomIndex=Zn.length-1,this.DataWidth=i/this.XPointCount,this.DistanceWidth=0,this.LastCalculateStatus.XPointCount=this.XPointCount,this.LastCalculateStatus.Width=i},this.XCoordinateZoom=function(t){var e=this.XPointCount;if(t){if(this.ZoomIndex<=0)return!1;if(this.Data.DataOffset<0)return!1;var i=this.ZoomIndex-1,a=this.CalculateCount(i),r=this.Data.Data.length,n=e-a;if(n<=0)return!1;this.Data.DataOffset+=n,this.Data.DataOffset>r&&(this.Data.DataOffset=0)}else{if(this.ZoomIndex+1>=Zn.length)return!1;if(this.Data.DataOffset<0)return!1;var i=this.ZoomIndex+1,a=this.CalculateCount(i),n=a-e;this.Data.DataOffset-=n,this.Data.DataOffset<0&&(this.Data.DataOffset=0)}this.XPointCount=a,this.ZoomIndex=i,this.DataWidth=Zn[this.ZoomIndex][0],this.DistanceWidth=Zn[this.ZoomIndex][1];var o=this.GetFrameWidth()-lo.FrameMargin;return this.TrimKLineDataWidth(o),this.LastCalculateStatus.XPointCount=this.XPointCount,!0},this.ZoomDown=function(t,e){if(this.ZoomIndex+1>=Zn.length)return!1;if(this.Data.DataOffset<0)return!1;if(this.Data.DataOffset<=0&&1==t.IsLockRight)return!1;var i=this.Data.Data.length,a=i+this.RightSpaceCount,r=0,n=this.Data.DataOffset+this.XPointCount-1;n>=this.Data.Data.length&&(r=n-(this.Data.Data.length-1),n=this.Data.Data.length-1,r>this.RightSpaceCount&&(r=this.RightSpaceCount));var o=this.CalculateCount(this.ZoomIndex+1),s=this.Data.DataOffset+t.Index;Nn.Chart.Log("[KLineFrame::ZoomDown] old status. XPointCount="+o+" ZoomIndex="+this.ZoomIndex+" DataCount= "+this.Data.Data.length+" lastCursorIndex="+s+" rightSpaceCount="+r);if(++this.ZoomIndex,1==t.IsLockRight){var l=this.Data.DataOffset+this.XPointCount;if(o>l)o=l,this.XPointCount=o,this.Data.DataOffset=0;else{var h=n-(o-r)+1;this.XPointCount=o,this.Data.DataOffset=h,this.Data.DataOffset<0&&(this.Data.DataOffset=0)}}else if(o>=a)this.XPointCount=o,this.Data.DataOffset=0,Nn.Chart.Log("[KLineFrame::ZoomDown] Show all data. XPointCount="+o+" ZoomIndex="+this.ZoomIndex+" DataCount= "+i),o-this.RightSpaceCount>i&&e&&e.ZoomDownloadDataCallback&&e.ZoomDownloadDataCallback({PageSize:o,DataCount:i,RightSpaceCount:this.RightSpaceCount,Count:o-i});else{var h=n-(o-r)+1;if(1==t.ZoomType){var u=o-this.XPointCount+1,c=parseInt(t.Index/this.XPointCount*u),h=this.Data.DataOffset-c;h+(o-this.RightSpaceCount)>=i&&(h=this.Data.DataOffset-u)}this.XPointCount=o,this.Data.DataOffset=h,this.Data.DataOffset<0&&(this.Data.DataOffset=0),Nn.Chart.Log("[KLineFrame::ZoomDown] calculate. XPointCount="+o+" ZoomIndex="+this.ZoomIndex+" DataCount= "+i+" DataOffset="+this.Data.DataOffset)}this.DataWidth=Zn[this.ZoomIndex][0],this.DistanceWidth=Zn[this.ZoomIndex][1];var d=this.GetFrameWidth()-lo.FrameMargin;return this.TrimKLineDataWidth(d),this.LastCalculateStatus.XPointCount=this.XPointCount,t.Index=s-this.Data.DataOffset,!0},this.GetFrameWidth=function(){if(this.IsHScreen){var t=this.ChartBorder.GetHScreenBorder();return t.BottomEx-t.TopEx}var t=this.ChartBorder.GetBorder();return t.RightEx-t.LeftEx},this.DrawCustomHorizontal=function(){if(!this.IsMinSize&&!this.ChartBorder.IsShowTitleOnly&&Ee.IsNonEmptyArray(this.CustomHorizontalInfo)){var t=this.CustomHorizontalInfo.slice();t.sort(function(t,e){return e.Value-t.Value});for(var e=new Mn.default,i=0;i<t.length;++i){var a=t[i];switch(a.Type){case 0:case 1:this.DrawCustomItem(a,e);break;case 2:case 3:case 4:this.DrawCustomItem(a,e)}}}},this.DrawCustomVerticalItem=function(t){this.Canvas.save(),1==t.Data.Line.Type&&this.Canvas.setLineDash([5,5]),this.Canvas.strokeStyle=t.Data.Line.Color,this.Canvas.beginPath(),t.IsHScreen?(this.Canvas.moveTo(t.Top,v(t.X)),this.Canvas.lineTo(t.Bottom,v(t.X))):(this.Canvas.moveTo(v(t.X),t.Top),this.Canvas.lineTo(v(t.X),t.Bottom)),this.Canvas.stroke(),this.Canvas.restore()},this.DrawCustomVertical=function(){if(this.CustomVerticalInfo&&!(this.CustomVerticalInfo.length<=0)&&this.Data){var t=this.IsHScreen,e=this.ChartBorder.GetTopEx(),i=this.ChartBorder.GetBottomEx(),a=this.DataWidth,r=this.DistanceWidth,n=this.ChartBorder.GetLeft()+r/2+2;t&&(n=this.ChartBorder.GetTop()+r/2+2,e=this.ChartBorder.GetLeftEx(),i=this.ChartBorder.GetRightEx());for(var o=0,s=this.Data.DataOffset;s<this.Data.Data.length&&o<this.XPointCount;++s,++o,n+=a+r){var l=this.Data.Data[s];for(var h in this.CustomVerticalInfo){var u=this.CustomVerticalInfo[h];if(0==u.Type){if(Ee.IsNumber(u.Time)){if(l.Date!=u.Date||l.Time!=u.Time)continue}else if(l.Date!=u.Date)continue;var c=n,d=n+a,f=c+(d-c)/2,p={X:f,Top:e,Bottom:i,Data:u,IsHScreen:t};this.DrawCustomVerticalItem(p),this.DrawCustomVerticalEvent&&this.DrawCustomVerticalEvent.Callback(this.DrawCustomVerticalEvent,p,this);break}}}for(var s=1;o<this.XPointCount;++s,++o,n+=a+r)for(var h in this.CustomVerticalInfo){var u=this.CustomVerticalInfo[h];if(1==u.Type&&u.Space==s){var c=n,d=n+a,f=c+(d-c)/2,p={X:f,Top:e,Bottom:i,Data:u,IsHScreen:t};this.DrawCustomVerticalItem(p),this.DrawCustomVerticalEvent&&this.DrawCustomVerticalEvent.Callback(this.DrawCustomVerticalEvent,p,this);break}}}}}function R(){this.newMethod=P,this.newMethod(),delete this.newMethod,this.ClassName="OverlayKLineFrame",this.MainFrame=null,this.IsShareY=!1,this.IsCalculateYMaxMin=!0,this.RightOffset=50,this.PenBorder=lo.OverlayFrame.BolderPen,this.IsShow=lo.KLineToolbar.IsShowOverlayFrame,this.IsShowToolbar=lo.KLineToolbar.IsShowOverlayToolbar,this.Title=null,this.TitleColor=lo.OverlayFrame.TitleColor,this.TitleFont=lo.OverlayFrame.TitleFont,this.IsYDrawMainFrame=!1,this.Buttons=[],this.CloseButton=S(lo.Buttons.CloseOverlayIndex),this.ModifyIndexParamButton=S(lo.Buttons.ModifyIndexParam),this.KLineFrame_ReloadResource=this.ReloadResource,this.ReloadResource=function(t){this.KLineFrame_ReloadResource(t),t||(this.CloseButton=S(lo.Buttons.CloseOverlayIndex),this.ModifyIndexParamButton=S(lo.Buttons.ModifyIndexParam),this.PenBorder=lo.OverlayFrame.BolderPen,this.TitleColor=lo.OverlayFrame.TitleColor,this.TitleFont=lo.OverlayFrame.TitleFont)},this.Draw=function(){this.Buttons=[],this.ChartBorder.IsShowTitleOnly||(this.SplitXYCoordinate(),this.IsShow&&(this.DrawVertical(),this.DrawHorizontal(),this.DrawTitle()),this.SizeChange=!1,this.XYSplit=!1)},this.DrawTitle=function(){if(this.Title){var t=this.ChartBorder.GetBorder(),e=this.ChartBorder.GetTopTitle(),i=t.Bottom,a=t.Right;a+=this.RightOffset,this.Canvas.fillStyle=this.TitleColor,this.Canvas.font=this.TitleFont,this.Canvas.textAlign="center",this.Canvas.textBaseline="top";var r=a-2,n=e+(i-e)/2;this.Canvas.save(),this.Canvas.translate(r,n),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.Title,0,0),this.Canvas.restore()}},this.GetScaleTextWidth=function(){if(!this.IsShow)return null;var t=(this.ChartBorder.GetBorder(),c());if(this.IsHScreen)var e=this.ChartBorder.Bottom,i=e>10*t&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1];else var a=this.ChartBorder.Right,i=a>10&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1];if(!i)return null;for(var r={Left:null,Right:0},n=0;n<this.HorizontalInfo.length;++n){var o=null,s=this.HorizontalInfo[n];s&&(null!=s.Message[1]&&i&&(null!=s.Font&&(this.Canvas.font=s.Font),o=this.Canvas.measureText(s.Message[1]).width,r.Right<o&&(r.Right=o)))}return{TextWidth:r}},this.SplitXYCoordinate=function(){if(0!=this.XYSplit)if(this.IsShareY){this.HorizontalMax=this.MainFrame.HorizontalMax,this.HorizontalMin=this.MainFrame.HorizontalMin,this.HorizontalInfo=[];for(var t in this.MainFrame.HorizontalInfo){var e=this.MainFrame.HorizontalInfo[t];this.HorizontalInfo.push(e)}this.CoordinateType=this.MainFrame.CoordinateType}else null!=this.YSplitOperator&&this.YSplitOperator.Operator()},this.DrawHorizontal=function(){var t=this.ChartBorder.GetBorder(),e=(t.Left,t.Right),i=t.Bottom,a=this.ChartBorder.GetTopTitle(),r=this.ChartBorder.Right;e+=this.RightOffset;for(var n=null,o=this.HorizontalInfo.length-1;o>=0;--o){var s=this.HorizontalInfo[o],l=this.GetYFromData(s.Value);if(!(null!=l&&Math.abs(l-n)<this.MinYDistance)){if(this.Canvas.textBaseline=l>=i-2?"bottom":l<=a+2?"top":"middle",this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),this.Canvas.moveTo(e-2,v(l)),this.Canvas.lineTo(e,v(l)),this.Canvas.stroke(),null!=s.Message[1]&&r>10){null!=s.Font&&(this.Canvas.font=s.Font);var h=s.Message[1];Array.isArray(s.Message[1])&&(h=s.Message[1][0]),this.Canvas.fillStyle=s.TextColor,this.Canvas.textAlign="left",this.Canvas.fillText(h,e+2,l)}n=l}}},this.DrawVertical=function(){var t=this.ChartBorder.GetBorder(),e=t.TopEx,i=t.Right,a=t.BottomEx;i+=this.RightOffset,this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),this.Canvas.moveTo(v(i),v(e)),this.Canvas.lineTo(v(i),v(a)),this.Canvas.stroke()},this.DrawToolbar=function(t,e,i){if(this.Buttons=[],1!=e&&!this.ChartBorder.IsShowTitleOnly&&!(this.ChartBorder.TitleHeight<5)&&this.IsShowToolbar){var a=[];if(a.push({ID:Vn.MODIFY_OVERLAY_INDEX_PARAM,Style:this.ModifyIndexParamButton}),a.push({ID:Vn.CLOSE_OVERLAY_INDEX,Style:this.CloseWindowButton}),this.GetEventCallback){var r=this.GetEventCallback(Rn.ON_CUSTOM_OVERLAY_TOOLBAR);if(r&&r.Callback){var n={PreventDefault:!1,DefaultButton:a,AryButton:null,Guid:this.Guid};if(r.Callback(r,n,this),n.PreventDefault)return void this.DrawToolbarButton(n.AryButton,t,i)}}this.DrawToolbarButton(a,t,i)}},this.DrawToolbarButton=function(t,e,i){if(Ee.IsNonEmptyArray(t))for(var a=this.ChartBorder.GetBorder(),r=a.Top+this.ChartBorder.TitleHeight/2,n=a.Right+this.RightOffset+this.CloseButton.MerginLeft,o=0;o<t.length;++o){var s=t[o],l=s.Style.Size,h=l+"px "+s.Style.Family,u={Left:n,Top:r-l/2,Right:n+l+s.Style.MerginLeft,Bottom:r+l/2,Width:l+s.Style.MerginLeft,Height:l},c=this.CloseButton.Color;e&&e.X>=u.Left&&e.X<u.Right&&e.Y>=u.Top&&e.Y<=u.Bottom&&(c=s.Style.MoveOnColor,i&&(i.MouseOnToolbar={Rect:u,Item:s,Frame:this,Point:{X:e.X,Y:e.Y}})),this.Canvas.fillStyle=c,this.Canvas.font=h,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(s.Style.Text,n,r),this.Buttons.push({ID:s.ID,Rect:u}),n=u.Right}},this.DrawCustomItem=function(t,e){if((this.IsShow||this.IsYDrawMainFrame)&&(t.Message[1]||t.Message[0])){if(t.Value>this.HorizontalMax||t.Value<this.HorizontalMin)return void this.SendDrawCountDownEvent({IsShow:!1});var i=this.GetBorder(),a=i.Left,r=i.Right+this.RightOffset;this.IsYDrawMainFrame&&(r=i.Right);var n=i.Bottom,o=i.Top,s=this.ChartBorder.Right,l=this.ChartBorder.Left;this.ChartBorder.TitleHeight;this.IsHScreen&&(l=this.ChartBorder.Top,s=this.ChartBorder.Bottom,o=i.Top,n=i.Bottom);var h,u=c(),d=18*u,f=d,p=this.GetYFromData(t.Value),m=0;if(t.ExtendData&&t.ExtendData.Custom){var C=t.ExtendData.Custom;Ee.IsNumber(C.Position)&&(m=C.Position),C.EmptyBGColor&&(h=C.EmptyBGColor)}if(t.Message[0])if(l<10||1==m){null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var D=this.GetCustomItemTextInfo(t,!0,u),S=D.MaxWidth,x=this.GetFontHeight();f=x>d?x:d;var b=t.LineColor,I=this.RGBToStruct(t.LineColor);I&&(b="rgba("+I.R+", "+I.G+", "+I.B+", "+lo.FrameLatestPrice.BGAlpha+")");for(var T=p,y=0;y<D.Text.length;++y){var w=D.Text[y];if(this.IsHScreen){var E=o,F=T-f/2-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,f,w.Width),this.DrawHScreenText({X:T,Y:E},{Text:w.Text,Color:t.TextColor,XOffset:1*u,YOffset:2*u}),0==y&&this.DrawLine(E+w.Width,n,T,t.LineColor,t.LineType,t),T-=f+1*u}else if(1===w.Type);else{var E=T-f/2-1*u,F=a+1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,w.Width,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(w.Text,F+1*u,T),0==y&&this.DrawLine(F+w.Width,r,T,t.LineColor,t.LineType,t),T+=f+1*u}}}else{null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle";var D=this.GetCustomItemTextInfo(t,!0,u),S=D.MaxWidth,x=this.GetFontHeight();f=x>d?x:d;for(var T=p,y=0;y<D.Text.length;++y){var w=D.Text[y];if(this.IsHScreen){if(0==y)var E=o-w.Width;else var E=o-S;var F=T-f/2-1*u;this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(F,E,f,w.Width),this.DrawHScreenText({X:T,Y:E},{Text:w.Text,Color:t.TextColor,XOffset:1*u,YOffset:2*u}),0==y&&this.DrawLine(E+w.Width,n,T,t.LineColor,t.LineType,t),T-=f+1*u}else{var E=T-f/2-1*u;if(0==y)var L=a-w.Width,F=a;else var L=a-S,F=a-(S-w.Width);h?(this.Canvas.fillStyle=h,this.Canvas.fillRect(L-1,E,w.Width+1,f),this.Canvas.strokeStyle=t.LineColor,this.Canvas.strokeRect(v(L-1),v(E),v(w.Width+1),v(f)),this.Canvas.fillStyle=t.LineColor,this.Canvas.fillText(w.Text,F-1*u,T)):(this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(L,E,w.Width,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(w.Text,F-1*u,T)),0==y&&this.DrawLine(a,r,T,t.LineColor,t.LineType,t),T+=f+1*u}}}else if(t.Message[1])if(s<10||1==m){null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var D=this.GetCustomItemTextInfo(t,!1,u),S=D.MaxWidth,x=this.GetFontHeight();f=x>d?x:d;var b=t.LineColor,I=this.RGBToStruct(t.LineColor);I&&(b="rgba("+I.R+", "+I.G+", "+I.B+", "+lo.FrameLatestPrice.BGAlpha+")");for(var T=p,y=0;y<D.Text.length;++y){var w=D.Text[y];if(this.IsHScreen){var E=n-w.Width,F=T-f/2-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,f,S),this.DrawHScreenText({X:T,Y:E},{Text:w.Text,Color:t.TextColor,XOffset:1*u,YOffset:2*u}),0==y&&this.DrawLine(o,E,T,t.LineColor,t.LineType,t),T-=f+1*u}else if(1===w.Type){if(this.GetEventCallback){var E=T-f/2-1*u,M={Top:E,Right:r,Height:null,IsShow:!0,BGColor:t.LineColor,TextColor:t.TextColor,PixelTatio:u,Position:"Right",IsInside:!0};this.SendDrawCountDownEvent(M)&&Ee.IsPlusNumber(M.Height)&&(T+=f+1*u)}}else{var E=T-f/2-1*u,F=r-w.Width;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,S,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(w.Text,F+1*u,T),0==y&&this.DrawLine(a,F,T,t.LineColor,t.LineType,t),T+=f+1*u}}if((3==t.Type||4==t.Type)&&t.Title){var A=this.Canvas.measureText(t.Title).width+2*u;if(this.IsHScreen){var E=n-w.Width-A,F=p-f/2-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,f,A),this.DrawHScreenText({X:p,Y:E},{Text:t.Title,Color:t.TextColor,XOffset:1*u,YOffset:2*u})}else{var E=p-f/2-1*u,F=r-S-A-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,A,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Title,F+1*u,p)}}}else{null!=t.Font&&(this.Canvas.font=t.Font),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var D=this.GetCustomItemTextInfo(t,!1,u),S=D.MaxWidth,x=this.GetFontHeight();f=x>d?x:d;var O=null;e&&e.has(3)&&(O=e.get(3));for(var T=p,N={},y=0;y<D.Text.length;++y){var w=D.Text[y];if(this.IsHScreen){var E=n,F=T-f/2-1*u;this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(F,E,f,w.Width),this.DrawHScreenText({X:T,Y:E},{Text:w.Text,Color:t.TextColor,XOffset:1*u,YOffset:2*u}),0==y&&this.DrawLine(o,E,T,t.LineColor,t.LineType,t),T-=f+1*u}else if(1===w.Type){if(this.GetEventCallback){var E=T-f/2-1*u,M={Top:E,Left:r,Right:this.ChartBorder.GetChartWidth(),Height:null,IsShow:!0,BGColor:t.LineColor,TextColor:t.TextColor,PixelTatio:u,Position:"Right",IsInside:!1};this.SendDrawCountDownEvent(M)&&Ee.IsPlusNumber(M.Height)&&(T+=f+1*u)}}else{var E=T-f/2-1*u;if(0==y){var F=r;N.Left=F,O&&E<O.Rect.Bottom&&(T=O.Rect.Bottom,E=T-f/2-1*u)}else var F=r+S-w.Width;h?(this.Canvas.fillStyle=h,this.Canvas.fillRect(F,E,w.Width+1,f),this.Canvas.strokeStyle=t.LineColor,this.Canvas.strokeRect(v(F),v(E),g(w.Width+1),g(f)),this.Canvas.fillStyle=t.LineColor,this.Canvas.fillText(w.Text,F+2*u,T)):(this.Canvas.fillStyle=t.LineColor,this.Canvas.fillRect(F,E,w.Width,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(w.Text,F+1*u,T)),0==y&&this.DrawLine(a,r,p,t.LineColor,t.LineType,t),T+=f+1*u,N.Bottom=T}}if(e&&Ee.IsNumber(N.Left)&&Ee.IsNumber(N.Bottom)&&e.set(3,{Rect:N,Item:t}),(3==t.Type||4==t.Type)&&t.Title){var b=t.LineColor,I=this.RGBToStruct(t.LineColor);I&&(b="rgba("+I.R+", "+I.G+", "+I.B+", "+lo.FrameLatestPrice.BGAlpha+")");var A=this.Canvas.measureText(t.Title).width+2*u;if(this.IsHScreen){var E=n-A,F=p-f/2-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,f,A),this.DrawHScreenText({X:p,Y:E},{Text:t.Title,Color:t.TextColor,XOffset:1*u,YOffset:2*u})}else{var E=p-f/2-1*u,F=r-A-1*u;this.Canvas.fillStyle=b,this.Canvas.fillRect(F,E,A,f),this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Title,F+1*u,p)}}}}}}function B(){this.newMethod=P,this.newMethod(),delete this.newMethod,this.ClassName="KLineHScreenFrame",this.IsHScreen=!0,this.DrawTitleBG=function(){if(!(this.ChartBorder.TitleHeight<=0)){var t=this.ChartBorder.GetHScreenBorder(),e=v(t.RightTitle),i=v(t.Top),a=v(t.Bottom),r=this.ChartBorder.TitleHeight,n=a-i;this.Canvas.fillStyle=this.TitleBGColor,this.Canvas.fillRect(e,i,r,n)}},this.DrawToolbar=function(){},this.GetYFromData=function(t,e){var i=this.ChartBorder.GetHScreenBorder();if(!1===e){var a=(i.RightEx-i.LeftEx)*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return i.LeftEx+a}if(t<=this.HorizontalMin)return i.LeftEx;if(t>=this.HorizontalMax)return i.RightEx;var a=(i.RightEx-i.LeftEx)*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return i.LeftEx+a},this.DrawHorizontal=function(){for(var t=this.ChartBorder.GetHScreenBorder(),e=t.Top,i=t.Bottom,a=this.ChartBorder.Top,r=this.ChartBorder.Bottom,n=t.Left,o=(t.Right,null),s=c(),l=a>10*s&&!0===this.IsShowYText[0]&&2!=this.YTextPosition[0],h=r>10*s&&!0===this.IsShowYText[1]&&2!=this.YTextPosition[1],u=this.HorizontalInfo.length-1;u>=0;--u){var d=this.HorizontalInfo[u],f=this.GetYFromData(d.Value);if(!(null!=f&&Math.abs(f-o)<this.MinYDistance)){if(f!=n&&(2==d.LineType?(this.Canvas.strokeStyle=d.LineColor,this.Canvas.setLineDash([5*s,5*s]),this.Canvas.beginPath(),this.Canvas.moveTo(v(f),e),this.Canvas.lineTo(v(f),i),this.Canvas.stroke(),this.Canvas.setLineDash([])):d.LineType>0&&(this.Canvas.strokeStyle=d.LineColor,lo.FrameYLineDash?(this.Canvas.setLineDash(lo.FrameYLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(v(f),e),this.Canvas.lineTo(v(f),i),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.beginPath(),this.Canvas.moveTo(v(f),e),this.Canvas.lineTo(v(f),i),this.Canvas.stroke()))),null!=d.Message[0]&&l){null!=d.Font&&(this.Canvas.font=d.Font),this.Canvas.fillStyle=d.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline="middle";var p=f,m=e;this.Canvas.save(),this.Canvas.translate(p,m),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(d.Message[0],-2,0),this.Canvas.restore()}if(null!=d.Message[1]&&h){null!=d.Font&&(this.Canvas.font=d.Font),this.Canvas.fillStyle=d.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var C;C=Array.isArray(d.Message[1])?d.Message[1][0]:d.Message[1];var p=f,m=i;this.Canvas.save(),this.Canvas.translate(p,m),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(C,2,0),this.Canvas.restore()}o=f}}},this.DrawInsideHorizontal=function(){if(!this.IsMinSize&&(!1!==this.IsShowYText[0]||!1!==this.IsShowYText[1])){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRightEx(),i=this.ChartBorder.GetTop(),a=this.ChartBorder.GetBottom(),r=this.ChartBorder.Top,n=this.ChartBorder.Bottom,o=(this.ChartBorder.TitleHeight,c()),s=(r<10*o||2==this.YTextPosition[0])&&!0===this.IsShowYText[0],l=(n<10*o||2==this.YTextPosition[1])&&!0===this.IsShowYText[1];if(s||l)for(var o=c(),h=null,u=this.HorizontalInfo.length-1;u>=0;--u){var d=this.HorizontalInfo[u],f=this.GetYFromData(d.Value);if(!(null!=f&&null!=h&&Math.abs(f-h)<this.MinYDistance)){if(null!=d.Message[0]&&s){null!=d.Font&&(this.Canvas.font=d.Font),this.Canvas.fillStyle=d.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline=f>=e-2?"top":f<=t+2?"bottom":"middle";var p=(this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,d.Message[0],f),m=i;this.Canvas.save(),this.Canvas.translate(p,m),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(d.Message[0],-2,0),this.Canvas.restore()}if(null!=d.Message[1]&&l){if(null!=d.Font&&(this.Canvas.font=d.Font),this.Canvas.fillStyle=d.TextColor,this.Canvas.textAlign="right",this.Canvas.textBaseline=f>=e-2?"top":f<=t+2?"bottom":"middle",Array.isArray(d.Message[1]))var C=d.Message[1][0];else var C=d.Message[1];var v=this.Canvas.measureText(C).width,p=(this.Canvas.textBaseline,this.Canvas.textAlign,this.Canvas.font,f),m=a;this.Canvas.save(),this.Canvas.translate(p,m),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(C,-2,0),this.Canvas.restore()}h=f}}}},this.GetXFromIndex=function(t,e){if(!1===e){var i=this.ChartBorder.GetHScreenBorder();if(t>=0)for(var a=i.TopEx+lo.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,r=1;r<=t;++r)a+=this.DistanceWidth+this.DataWidth;else for(var a=i.TopEx-(this.DistanceWidth/2+this.DataWidth+this.DistanceWidth),n=Math.abs(t),r=1;r<n;++r)a-=this.DistanceWidth+this.DataWidth}else{t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var i=this.ChartBorder.GetHScreenBorder(),a=i.TopEx+lo.FrameLeftMargin+this.DistanceWidth/2+this.DataWidth/2,r=1;r<=t;++r)a+=this.DistanceWidth+this.DataWidth}return a},this.DrawVertical=function(){var t=this.ChartBorder.GetHScreenBorder(),e=t.Left,i=t.RightTitle,a=t.Bottom,r=c(),n=null;for(var o in this.VerticalInfo){var s=this.GetXFromIndex(this.VerticalInfo[o].Value);if(s>=a)break;if(!(null!=n&&Math.abs(s-n)<80)){var l=this.VerticalInfo[o];if(2==l.LineType?(this.Canvas.strokeStyle=this.VerticalInfo[o].LineColor,this.Canvas.setLineDash([5*r,5*r]),this.Canvas.beginPath(),this.Canvas.moveTo(e,v(s)),this.Canvas.lineTo(i,v(s)),this.Canvas.stroke(),this.Canvas.setLineDash([])):l.LineType>0&&(this.Canvas.strokeStyle=this.VerticalInfo[o].LineColor,lo.FrameXLineDash?(this.Canvas.setLineDash(lo.FrameXLineDash),this.Canvas.beginPath(),this.Canvas.moveTo(e,v(s)),this.Canvas.lineTo(i,v(s)),this.Canvas.stroke(),this.Canvas.setLineDash([])):(this.Canvas.beginPath(),this.Canvas.moveTo(e,v(s)),this.Canvas.lineTo(i,v(s)),this.Canvas.stroke())),null!=this.VerticalInfo[o].Message[0]){null!=this.VerticalInfo[o].Font&&(this.Canvas.font=this.VerticalInfo[o].Font),this.Canvas.fillStyle=this.VerticalInfo[o].TextColor;s<this.Canvas.measureText(this.VerticalInfo[o].Message[0]).width/2?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top"):(this.Canvas.textAlign="center",this.Canvas.textBaseline="top");var h=e,u=s;this.Canvas.save(),this.Canvas.translate(h,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.VerticalInfo[o].Message[0],0,this.XBottomOffset),this.Canvas.restore()}n=s}}},this.GetYData=function(t,e){var i=this.ChartBorder.GetHScreenBorder();if(!1===e){var a=i.RightEx-i.LeftEx;return(t-i.LeftEx)/a*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin}if(t<i.LeftEx)return this.HorizontalMin;if(t>i.RightEx)return this.HorizontalMax;var a=i.RightEx-i.LeftEx;return(t-i.LeftEx)/a*(this.HorizontalMax-this.HorizontalMin)+this.HorizontalMin},this.GetXData=function(t,e){var i=this.ChartBorder.GetHScreenBorder(),a=i.TopEx+lo.FrameLeftMargin,r=i.BottomEx,n=this.DistanceWidth,o=this.DataWidth;if(0==e){if(t<a){for(var s=-1,l=a-(n/2+o+n);s>-1e4&&!(l<=t);)l-=o+n,--s;return s}for(var s=0,l=a+n/2+o+n;s<1e4&&!(l>=t);)l+=o+n,++s;return s}if(t<=i.TopEx)return 0;if(t>=i.BottomEx)return this.XPointCount-1;for(var s=0,l=a+n/2+o+n;l<r&&s<1e4&&s+1<this.XPointCount&&!(l>t);)l+=o+n,++s;return s},this.DrawBottons=function(){}}function k(){this.newMethod=B,this.newMethod(),delete this.newMethod,this.ClassName="OverlayKLineHScreenFrame",this.MainFrame=null,this.IsShareY=!1,this.IsCalculateYMaxMin=!0,this.RightOffset=50,this.PenBorder=lo.OverlayFrame.BolderPen,this.IsShow=!0,this.Title=null,this.TitleColor=lo.OverlayFrame.TitleColor,this.TitleFont=lo.OverlayFrame.TitleFont,this.Draw=function(){this.SplitXYCoordinate(),this.IsShow&&(this.DrawVertical(),this.DrawHorizontal(),this.DrawTitle()),this.SizeChange=!1,this.XYSplit=!1},this.DrawTitle=function(){},this.SplitXYCoordinate=function(){if(0!=this.XYSplit)if(this.IsShareY){this.HorizontalMax=this.MainFrame.HorizontalMax,this.HorizontalMin=this.MainFrame.HorizontalMin,this.HorizontalInfo=[];for(var t in this.MainFrame.HorizontalInfo){var e=this.MainFrame.HorizontalInfo[t];this.HorizontalInfo.push(e)}}else null!=this.YSplitOperator&&this.YSplitOperator.Operator()},this.DrawHorizontal=function(){},this.DrawVertical=function(){},this.GetScaleTextWidth=function(){return{TextWidth:0}}}function V(){this.Frame,this.Height,this.OverlayIndex=[],this.Interval=60}function G(){this.Frame,this.ChartPaint=[],this.Identify=m(),this.Scprit,this.UpdateFrameMaxMin=function(){var t={Max:null,Min:null};if(this.Frame.IsShareY)return void(this.Frame.XYSplit=!0);if(this.Frame.YSpecificMaxMin)t.Max=this.Frame.YSpecificMaxMin.Max,t.Min=this.Frame.YSpecificMaxMin.Min;else for(var e in this.ChartPaint){var i=this.ChartPaint[e],a=i.GetMaxMin();Ee.IsNumber(a.Max)&&(null==t.Max||t.Max<a.Max)&&(t.Max=a.Max),Ee.IsNumber(a.Min)&&(null==t.Min||t.Min>a.Min)&&(t.Min=a.Min)}null!=t.Max&&null!=t.Min&&(this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min,this.Frame.XYSplit=!0)}}function H(){this.SubFrame=new Array,this.SizeChange=!0,this.ChartBorder,this.Canvas,this.ScreenImageData,this.Data,this.Position,this.SizeChange=!0,this.MinSubFrameHeight=lo.DragSubFrameBorder.MinFrameHeight,this.DragBorderHeight=lo.DragSubFrameBorder.TopBorderHeight,this.AutoLeftBorder=null,this.AutoRightBorder=null,this.OverlayBlankWidth=40,this.AuotRightWidth,this.ZoomWindowsInfo=null,this.ZoomStartWindowIndex=1,this.GetExtendChartByClassName,this.GetEventCallback,this.OnMoveFromeBorder=function(t,e){if(this.SubFrame.length<=0)return!1;for(var i=this.SubFrame[t],a=null,r=t+1;r<this.SubFrame.length;++r){var n=this.SubFrame[r];if(n.Height>0){a=n;break}}if(!i||!a)return!1;var o=i.Frame.ChartBorder.Bottom,s=a.Frame.ChartBorder.Top;i.Frame.ChartBorder.Bottom-=e,a.Frame.ChartBorder.Top+=e;var l=i.Frame.ChartBorder.GetHeightEx(),h=a.Frame.ChartBorder.GetHeightEx();return!(l<this.MinSubFrameHeight&&e<0||h<this.MinSubFrameHeight&&e>0)||(i.Frame.ChartBorder.Bottom=o,a.Frame.ChartBorder.Top=s,!1)},this.ReDrawToolbar=function(){for(var t in this.SubFrame)this.SubFrame[t].Frame.ReDrawToolbar=!0},this.SetFrameBorderSizeChange=function(){var t=this.SubFrame[0];if(t&&t.Frame){var e=t.Frame.YSplitOperator;e&&2==e.CoordinateType&&(t.Frame.XYSplit=!0)}},this.CancelZoomUpDownFrameY=function(t){var e=t.Index;if(this.SubFrame.length<=0)return!1;if(!this.SubFrame[e])return!1;var i=this.SubFrame[e],a=i.Frame,r=a.YSplitOperator;if(r.FixedYMaxMin){r.FixedYMaxMin=null,r.EnableZoomUpDown=!1,a.XYSplit=!0;for(var n in i.OverlayIndex){var o=i.OverlayIndex[n];o.Frame.IsShareY&&(o.Frame.XYSplit=!0)}return Nn.Chart.Log("[HQTradeFrame::CancelZoomUpDownFrameY]"),!0}return!1},this.OnZoomUpDownFrameY=function(t,e){var i=t.Index;if(this.SubFrame.length<=0)return!1;if(!this.SubFrame[i])return!1;var a=this.SubFrame[i],r=a.Frame,n=r.ChartBorder.GetTopEx(),o=r.ChartBorder.GetBottomEx(),s=r.HorizontalMax,l=r.HorizontalMin,h=(s-l)*Math.abs(e)/(o-n),u=r.YSplitOperator,c={Max:s,Min:l};if(1==t.Position){var d=e>0?-h:h;c.Max+=d}else if(2==t.Position){var d=e>0?-h:h;c.Min+=d}else{if(0!=t.Position)return!1;var d=e>0?h:-h;c.Max+=d,c.Min-=d}if(c.Max>c.Min){u.FixedYMaxMin=c,u.EnableZoomUpDown=!0,r.XYSplit=!0;for(var f in a.OverlayIndex){var p=a.OverlayIndex[f];p.Frame.IsShareY&&(p.Frame.XYSplit=!0)}return Nn.Chart.Log("[HQTradeFrame::OnZoomUpDownFrameY] Max="+c.Max+", Min="+c.Min),!0}return!1},this.OnUpDonwFrameY=function(t,e){var i=t.Index;if(this.SubFrame.length<=0)return!1;if(!this.SubFrame[i])return!1;var a=this.SubFrame[i],r=a.Frame,n=r.ChartBorder.GetTopEx(),o=r.ChartBorder.GetBottomEx(),s=r.YSplitOperator;if(!s)return!1;var l=r.HorizontalMax,h=r.HorizontalMin,u=(l-h)*Math.abs(e)/(o-n),c=e>0?-u:u,d={Max:l,Min:h};d.Max-=c,d.Min-=c,s.FixedYMaxMin=d,s.EnableZoomUpDown=!0,r.XYSplit=!0;for(var f in a.OverlayIndex){var p=a.OverlayIndex[f];p.Frame.IsShareY&&(p.Frame.XYSplit=!0)}return Nn.Chart.Log("[HQTradeFrame::OnUpDonwFrameY] Max="+d.Max+", Min="+d.Min+", yMove="+e+", moveStep="+u),!0},this.ClearUpDonwFrameYData=function(t){if(!(this.SubFrame.length<=0))if(t){var e=t.Index;if(e<0||e>=this.SubFrame.length)return;var i=this.SubFrame[e];if(!i||!i.Frame||!i.Frame.YSplitOperator)return;var a=i.Frame.YSplitOperator;1==a.EnableZoomUpDown&&(a.FixedYMaxMin=null)}else for(var r=0;r<this.SubFrame.length;++r){var i=this.SubFrame[r];if(i&&i.Frame&&i.Frame.YSplitOperator){var a=i.Frame.YSplitOperator;1==a.EnableZoomUpDown&&(a.FixedYMaxMin=null)}}},this.ClearCoordinateText=function(t){for(var e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];i.Frame&&i.Frame.ClearCoordinateText(t)}},this.RestoreIndexWindows=function(){if(!this.ZoomWindowsInfo)return!1;for(var t=(this.SubFrame[this.ZoomWindowsInfo.FrameID],this.ZoomStartWindowIndex);t<this.ZoomWindowsInfo.Data.length;++t){var e=this.ZoomWindowsInfo.Data[t],i=this.SubFrame[t];i.Height=e.Height,i.Frame.IsMinSize=!1,i.Frame.ReDrawToolbar=!0,i.Frame.XSplitOperator.ShowText=e.ShowXText,i.Frame.XYSplit=!0;for(var a=0;a<i.OverlayIndex.length;++a){i.OverlayIndex[a].Frame.IsMinSize=!1}}return this.ZoomWindowsInfo=null,!0},this.ZoomIndexWindow=function(t,e){var i=this.SubFrame[t];if(!i)return!1;if(i.Frame.ChartBorder.IsShowTitleOnly=!1,this.ZoomWindowsInfo)return this.RestoreIndexWindows();for(var a={FrameID:t,Data:[]},r=0;r<this.SubFrame.length;++r){var n=this.SubFrame[r];a.Data[r]={Height:n.Height,ShowXText:n.Frame.XSplitOperator.ShowText}}this.ZoomWindowsInfo=a;for(var o=0,r=this.ZoomStartWindowIndex;r<this.SubFrame.length;++r){var n=this.SubFrame[r],s=n.Frame;if(s.XYSplit=!0,o+=n.Height,r!=t){n.Height=0,s.IsMinSize=!0,s.HideToolbar(),s.XSplitOperator.ShowText=!1;for(var l=0;l<n.OverlayIndex.length;++l){n.OverlayIndex[l].Frame.IsMinSize=!0}}}return i.Height=o,i.Frame.XSplitOperator.ShowText=!0,!0},this.SaveSubFrameHeightRate=function(){for(var t=this.ChartBorder.GetHeight(),e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e],a=i.Frame.ChartBorder.GetHeight(),r=a/t*100;i.Height=r}},this.ShowIndexTitleOnly=function(t,e){var i=this.SubFrame[t];if(!i&&!i.Frame)return!1;var a=i.Frame;if(!a.ChartBorder)return!1;var r=a.ChartBorder;return!(r.TitleHeight<10)&&(this.RestoreIndexWindows(),r.IsShowTitleOnly?r.IsShowTitleOnly=!1:r.IsShowTitleOnly=!0,!0)},this.CalculateChartBorder=function(){if(!(this.SubFrame.length<=0)){for(var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetHeight(),i=0,a=0,r=0;r<this.SubFrame.length;++r){var n=this.SubFrame[r],o=n.Frame;o&&o.ChartBorder&&o.ChartBorder.IsShowTitleOnly&&n.Height>0?a+=o.ChartBorder.TitleHeight:i+=n.Height}e-=a;for(var r=0;r<this.SubFrame.length;++r){var n=this.SubFrame[r],o=n.Frame;if(n.Frame.ChartBorder.Top=t,n.Frame.ChartBorder.Left=this.ChartBorder.Left,n.Frame.ChartBorder.Right=this.ChartBorder.Right,n.Frame.ChartBorder.LeftExtendWidth=this.ChartBorder.LeftExtendWidth,n.Frame.ChartBorder.RightExtendWidth=this.ChartBorder.RightExtendWidth,o&&o.ChartBorder&&o.ChartBorder.IsShowTitleOnly&&n.Height>0){var s=n.Frame.ChartBorder.Top+o.ChartBorder.TitleHeight;n.Frame.ChartBorder.Bottom=this.ChartBorder.GetChartHeight()-s,t=s}else{var s=e*(n.Height/i)+t;n.Frame.ChartBorder.Bottom=this.ChartBorder.GetChartHeight()-s,t=s}}if(this.GetEventCallback){var l=this.GetEventCallback(Rn.ON_SIZE_FRAME);if(l&&l.Callback){var h={SubFrame:this.SubFrame};l.Callback(l,h,this)}}}},this.SetExtendWidth=function(t){if(t){var e=null,i=null;Ee.IsNumber(t.Left)&&(e=t.Left,this.ChartBorder.LeftExtendWidth=e),Ee.IsNumber(t.Right)&&(i=t.Right,this.ChartBorder.RightExtendWidth=i);for(var a in this.SubFrame){var r=this.SubFrame[a];null!=e&&(r.Frame.ChartBorder.LeftExtendWidth=e),null!=i&&(r.Frame.ChartBorder.RightExtendWidth=i)}}},this.CalculateChartBorder2=function(){if(!(this.SubFrame.length<=0)){var t=this.ChartBorder.Top,e=this.ChartBorder.Bottom,i=this.ChartBorder.GetHeight(),a=0;for(var r in this.SubFrame){var n=this.SubFrame[r];a+=n.Height}var o=0;for(var r in this.SubFrame){var n=this.SubFrame[r];n.Frame.ChartBorder.Top=t,n.Frame.ChartBorder.Left=this.ChartBorder.Left,n.Frame.ChartBorder.Right=this.ChartBorder.Right,n.Frame.ChartBorder.X=this.ChartBorder.X,n.Frame.ChartBorder.Y=this.ChartBorder.Y,n.Frame.ChartBorder.Width=this.ChartBorder.Width,n.Frame.ChartBorder.Height=this.ChartBorder.Height;var s=i*(n.Height/a);o+=s,e=this.ChartBorder.Bottom+(i-o),n.Frame.ChartBorder.Bottom=e,t+=s}}},this.GetScaleTextWidth=function(){for(var t={Left:null,Right:null,OverlayRight:0},e=[],i=0;i<this.SubFrame.length;++i){var a=this.SubFrame[i];if(!(a.Height<=0)){var r=a.Frame;if(r&&r.XSplitOperator){var n=r.HorizontalMax,o=r.HorizontalMin;r.YSplitOperator.Operator();var s=r.GetScaleTextWidth();if(r.HorizontalMax=n,r.HorizontalMin=o,s&&s.TextWidth){var l=s.TextWidth;Ee.IsNumber(l.Left)&&(null==t.Left||t.Left<l.Left)&&(t.Left=l.Left),Ee.IsNumber(l.Right)&&(null==t.Right||t.Right<l.Right)&&(t.Right=l.Right)}if(Ee.IsNonEmptyArray(a.OverlayIndex))for(var h=0,u=0;h<a.OverlayIndex.length;++h){var c=a.OverlayIndex[h];if(c.Frame){var n=c.Frame.HorizontalMax,o=c.Frame.HorizontalMin;c.Frame.YSplitOperator.Operator();var s=c.Frame.GetScaleTextWidth();if(c.Frame.HorizontalMax=n,c.Frame.HorizontalMin=o,c.RightWidth={Index:-1,Width:0},s&&s.TextWidth){var l=s.TextWidth;Ee.IsNumber(l.Right)&&(c.RightWidth.Index=u,c.RightWidth.Width=l.Right,e[u]?e[u][i]=c.RightWidth:(e[u]=[],e[u][i]=c.RightWidth),++u)}}}}}}for(var d=[],i=0;i<e.length;++i){for(var f=e[i],p=0,h=0;h<f.length;++h)if(f[h]){var a=f[h].Width;p<a&&(p=a)}p>0&&(p+=this.OverlayBlankWidth);for(var h=0;h<f.length;++h)f[h]&&(f[h].Width=p);d[i]=p}for(var i=0;i<d.length;++i){var s=d[i];Ee.IsNumber(s)&&(t.OverlayRight+=s)}return t},this.IsFrameXYSplit=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];if(e.Frame.XYSplit)return!0;for(var i=0;i<e.OverlayIndex.length;++i){if(e.OverlayIndex[i].Frame.XYSplit)return!0}}return!1},this.Draw=function(t){!0===this.SizeChange&&this.CalculateChartBorder();var e=!1;if(t&&!0===t.IsEnableSplash&&(e=!0),0==e&&(this.AutoLeftBorder||this.AutoRightBorder)&&this.IsFrameXYSplit()){this.AutoRightOverlayWidth=[];var i=this.GetScaleTextWidth();if(Ee.IsNumber(i.Left)&&this.AutoLeftBorder){var a=0;Ee.IsNumber(this.AutoLeftBorder.Blank)&&(a=this.AutoLeftBorder.Blank);var r=i.Left+a;Ee.IsNumber(this.AutoLeftBorder.MinWidth)&&this.AutoLeftBorder.MinWidth>r&&(r=this.AutoLeftBorder.MinWidth),this.IsHScreen?this.ChartBorder.Top=r:this.ChartBorder.Left=r;for(var n=0;n<this.SubFrame.length;++n){var o=this.SubFrame[n];this.IsHScreen?o.Frame.ChartBorder.Top=r:o.Frame.ChartBorder.Left=r}}if(Ee.IsNumber(i.Right)&&this.AutoRightBorder){var a=0;Ee.IsNumber(this.AutoRightBorder.Blank)&&(a=this.AutoRightBorder.Blank);var r=i.Right+a;if(Ee.IsNumber(this.AutoRightBorder.MinWidth)&&this.AutoRightBorder.MinWidth>r&&(r=this.AutoRightBorder.MinWidth),this.AuotRightWidth=r,Ee.IsPlusNumber(i.OverlayRight)&&(r+=this.OverlayBlankWidth,this.AuotRightWidth=r,r+=i.OverlayRight),this.GetExtendChartRightWidth){var s=this.GetExtendChartRightWidth();if(this.GetExtendChartByClassName){var l=this.GetExtendChartByClassName("StockChip");l&&l.Chart&&(l.Chart.Left=r)}r+=s}this.IsHScreen?(this.ChartBorder.Bottom!=r&&!0,this.ChartBorder.Bottom=r):(this.ChartBorder.Right!=r&&!0,this.ChartBorder.Right=r);for(var n=0;n<this.SubFrame.length;++n){var o=this.SubFrame[n];this.IsHScreen?o.Frame.ChartBorder.Bottom=r:o.Frame.ChartBorder.Right=r,o.Frame.ReDrawToolbar=!0,o.Interval=this.AuotRightWidth}}this.SetSizeChage(!0)}for(var n=0;n<this.SubFrame.length;++n){var o=this.SubFrame[n];if(!(o.Height<=0))if(o.Frame.Draw(),this.AutoRightBorder)for(var h=this.AuotRightWidth,u=0;u<o.OverlayIndex.length;++u){var c=o.OverlayIndex[u];c.Frame.DataWidth=o.Frame.DataWidth,c.Frame.DistanceWidth=o.Frame.DistanceWidth,c.Frame.XPointCount=o.Frame.XPointCount,c.ChartPaint.length>0&&c.Frame&&(c.Frame.RightOffset=h,c.Frame.Draw(),h+=c.RightWidth.Width)}else{var h=o.Interval;o.Frame.RightTextMaxWidth>h&&(h=o.Frame.RightTextMaxWidth);for(var u in o.OverlayIndex){var c=o.OverlayIndex[u];c.Frame.DataWidth=o.Frame.DataWidth,c.Frame.DistanceWidth=o.Frame.DistanceWidth,c.Frame.XPointCount=o.Frame.XPointCount,c.ChartPaint.length>0&&c.Frame&&(c.Frame.RightOffset=h,c.Frame.Draw(),c.Frame.IsShow&&(h+=o.Interval))}}}this.SizeChange=!1},this.DrawOveraly=function(t){for(var e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];if(!(i.Height<=0))for(var a=0;a<i.OverlayIndex.length;++a)for(var r=i.OverlayIndex[a],n=0;n<r.ChartPaint.length;++n){var o=r.ChartPaint[n];o.IsShow&&(t?o.IsDrawFirst&&o.Draw():o.IsDrawFirst||o.Draw())}}},this.DrawOveralySelectedStatus=function(t){if(t.MoveOn.Identify||t.Selected.Identify)for(var e in this.SubFrame){var i=this.SubFrame[e];for(var a in i.OverlayIndex){var r=i.OverlayIndex[a];for(var n in r.ChartPaint){var o=r.ChartPaint[n];o.IsShow&&(o.Identify&&(o.Identify!=t.MoveOn.Identify&&o.Identify!=t.Selected.Identify||o.DrawSelectedStatus&&o.DrawSelectedStatus()))}}}},this.PtInOveralyChart=function(t,e){var i=null;for(var a in this.SubFrame){var r=this.SubFrame[a];for(var n in r.OverlayIndex){var o=r.OverlayIndex[n];for(var s in o.ChartPaint){var l=o.ChartPaint[s];if(l.IsShow&&(!l.IsHideScriptIndex()&&l.PtInChart&&(i=l.PtInChart(t,e))))return i}}}return null},this.DrawPictureCoordinate=function(t,e){if(!t||!t.Frame)return!1;if(!Ee.IsNonEmptyArray(t.Point))return!1;if(!t.GetXYCoordinate)return!1;var i=t.GetXYCoordinate();t.Frame.DrawPictureYCoordinate(t,i,e);for(var a=0;a<this.SubFrame.length;++a){var r=this.SubFrame[a];if(r&&r.Frame&&r.Frame.XSplitOperator.ShowText){r.Frame.DrawPictureXCoordinate(t,i,e);break}}return!0},this.DrawLock=function(){for(var t in this.SubFrame){this.SubFrame[t].Frame.DrawLock()}},this.DrawLogo=function(){for(var t=0;t<this.SubFrame.length;++t){var e=this.SubFrame[t];if(e.Frame.DrawLogo){e.Frame.DrawLogo();break}}},this.CalculateLock=function(){for(var t in this.SubFrame){this.SubFrame[t].Frame.CalculateLock()}},this.DrawInsideHorizontal=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];e.Frame.DrawInsideHorizontal&&e.Frame.DrawInsideHorizontal()}},this.DrawCustomHorizontal=function(){for(var t in this.SubFrame){var e=this.SubFrame[t];e.Frame.DrawCustomHorizontal&&e.Frame.DrawCustomHorizontal();for(var i=0;i<e.OverlayIndex.length;++i){var a=e.OverlayIndex[i];a.Frame&&a.Frame.DrawCustomHorizontal&&a.Frame.DrawCustomHorizontal()}}},this.DrawEx=function(t){for(var e in this.SubFrame){var i=this.SubFrame[e];"MinuteFrame"!=i.Frame.ClassName&&"MinuteHScreenFrame"!=i.Frame.ClassName||1!=e||i.Frame.DrawVolTitle(t.Symbol)}},this.DrawCustomVertical=function(t){for(var e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];i.Frame.DrawCustomVerticalEvent=t,i.Frame.DrawCustomVertical&&i.Frame.DrawCustomVertical()}},this.DrawToolbar=function(t){var e=null;t&&t.MoveOnPoint&&(e=t.MoveOnPoint);for(var i=0;i<this.SubFrame.length;++i){var a=this.SubFrame[i];if(!(a.Height<=0)){var r=a.Frame;if(r){1==r.ToolbarButtonStyle&&r.DrawToolbarV2&&r.DrawToolbarV2(e,t);for(var n=0;n<a.OverlayIndex.length;++n){var o=a.OverlayIndex[n],s=o.Frame;s.DrawToolbar&&s.DrawToolbar(e,r.IsMinSize,t)}}}}},this.SetSizeChage=function(t){this.SizeChange=t;for(var e in this.SubFrame){var i=this.SubFrame[e];i.Frame.SizeChange=t;for(var a in i.OverlayIndex){var r=i.OverlayIndex[a];r.Frame&&(r.Frame.SizeChange=t)}}this.ChartBorder.UIElement&&(this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight})},this.SetBeforeDrawXYCallback=function(t){for(var e=0;e<this.SubFrame.length;++e){this.SubFrame[e].Frame.BeforeDrawXYCallback=t}},this.Snapshot=function(){this.ScreenImageData=this.Canvas.getImageData(0,0,this.ChartBorder.GetChartWidth(),this.ChartBorder.GetChartHeight())},this.GetXData=function(t){return this.SubFrame[0].Frame.GetXData(t)},this.GetYData=function(t,e){for(var i,a=0;a<this.SubFrame.length;++a){var r=this.SubFrame[a],n=r.Frame.ChartBorder.GetLeft(),o=r.Frame.ChartBorder.GetTopEx(),s=r.Frame.ChartBorder.GetWidth(),l=r.Frame.ChartBorder.GetHeightEx();if(r.Frame.Canvas.beginPath(),r.Frame.Canvas.rect(n,o,s,l),r.Frame.Canvas.isPointInPath(n,t)){i=r.Frame,e&&(e.FrameID=a);break}}if(null!=i){i.RightFrame&&(e.RightYValue=i.RightFrame.GetYData(t));var h=i.GetYData(t);if(1==i.YSplitOperator.CoordinateType){var u=i.YSplitOperator.GetFirstOpenPrice();e.RightYValue=((h-u)/u*100).toFixed(2)+"%"}return h}},this.PtInFrame=function(t,e){for(var i=0;i<this.SubFrame.length;++i){var a=this.SubFrame[i],r=a.Frame.ChartBorder.GetLeft(),n=a.Frame.ChartBorder.GetTop(),o=a.Frame.ChartBorder.GetWidth(),s=a.Frame.ChartBorder.GetHeight();if(a.Frame.Canvas.beginPath(),a.Frame.Canvas.rect(r,n,o,s),a.Frame.Canvas.isPointInPath(t,e))return i}var l=this.ChartBorder.GetBottom(),h=this.ChartBorder.GetChartHeight(),r=this.ChartBorder.GetLeft(),u=this.ChartBorder.GetRight();return t>=r&&t<=u&&e>l&&e<h?-3:-1},this.PtInChartFrame=function(t,e){for(var i=0;i<this.SubFrame.length;++i){var a=this.SubFrame[i],r=a.Frame.ChartBorder.GetLeft(),n=a.Frame.ChartBorder.GetTopEx(),o=a.Frame.ChartBorder.GetWidth(),s=a.Frame.ChartBorder.GetHeightEx();if(a.Frame.Canvas.beginPath(),a.Frame.Canvas.rect(r,n,o,s),a.Frame.Canvas.isPointInPath(t,e))return i}return-1},this.PtInButtons=function(t,e){for(var i=0;i<this.SubFrame.length;++i){var a=this.SubFrame[i];if(!(a.Height<=0)){var r=a.Frame.PtInButtons(t,e);if(r)return r.Frame=a.Frame,r.FrameID=i,r;for(var n=0;n<a.OverlayIndex.length;++n){var o=a.OverlayIndex[n],s=o.Frame;if(s&&s.PtInButtons){var r=s.PtInButtons(t,e);if(r)return r.IndexID=o.Identify,r.FrameID=i,r.OverlayFrame=s,r.Frame=a.Frame,r}}}}return null},this.PtInFrameBottom=function(t,e){var i=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetBottom(),r=this.ChartBorder.GetWidth(),n=this.ChartBorder.Bottom;return this.Canvas.beginPath(),this.Canvas.rect(i,a,r,n),!!this.Canvas.isPointInPath(t,e)},this.PtInFrameVertical=function(t,e){for(var i=0;i<this.SubFrame.length;++i){var a=this.SubFrame[i];if(!(a.Height<=0)&&(a.Frame.PtInVertical&&a.Frame.PtInVertical(t,e)))return{Frame:a.Frame}}return null},this.GetXFromIndex=function(t){return this.SubFrame[0].Frame.GetXFromIndex(t)},this.GetYFromData=function(t){return this.SubFrame[0].Frame.GetYFromData(t)},this.ZoomUp=function(t){var e=this.SubFrame[0].Frame.ZoomUp(t);return this.UpdateAllFrame(),e},this.ZoomDown=function(t,e){var i=this.SubFrame[0].Frame.ZoomDown(t,e);return this.UpdateAllFrame(),i},this.SetXShowCount=function(t){var e=this.SubFrame[0].Frame.SetXShowCount(t);return this.UpdateAllFrame(),e},this.XCoordinateZoom=function(t,e){var i=this.SubFrame[0].Frame.XCoordinateZoom(t,e);return this.UpdateAllFrame(),i},this.ResetXYSplit=function(){for(var t in this.SubFrame)this.SubFrame[t].Frame.XYSplit=!0},this.SetLanguage=function(t){for(var e in this.SubFrame){var i=this.SubFrame[e];i&&i.Frame&&(i.Frame.YSplitOperator&&(i.Frame.YSplitOperator.LanguageID=t),i.Frame.XSplitOperator&&(i.Frame.XSplitOperator.LanguageID=t))}},this.GetCurrentPageSize=function(){if(this.SubFrame.length<=0)return null;var t=this.SubFrame[0];return t&&t.Frame?t.Frame.XPointCount:null},this.OnSize=function(){var t={};return this.SubFrame[0].Frame.OnSize(t),this.UpdateAllFrame(),t},this.SetDataWidth=function(t){var e=this.SubFrame[0].Frame.SetDataWidth(t);return this.UpdateAllFrame(),e},this.UpdateAllFrame=function(){for(var t=this.SubFrame[0].Frame,e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];e>0&&(i.Frame.XPointCount=t.XPointCount,i.Frame.ZoomIndex=t.ZoomIndex,i.Frame.DataWidth=t.DataWidth,i.Frame.DistanceWidth=t.DistanceWidth,i.Frame.LastCalculateStatus.Width=t.LastCalculateStatus.Width,i.Frame.LastCalculateStatus.XPointCount=t.LastCalculateStatus.XPointCount);for(var a in i.OverlayIndex){var r=this.SubFrame[e].OverlayIndex[a];r.Frame.XPointCount=t.XPointCount,r.Frame.ZoomIndex=t.ZoomIndex,r.Frame.DataWidth=t.DataWidth,r.Frame.DistanceWidth=t.DistanceWidth,r.Frame.LastCalculateStatus.Width=t.LastCalculateStatus.Width,r.Frame.LastCalculateStatus.XPointCount=t.LastCalculateStatus.XPointCount}}},this.PtInFrameBorder=function(t,e){for(var i=this.DragBorderHeight,a=0;a<this.SubFrame.length-1;++a){var r=this.SubFrame[a];if(!(r.Frame.Heigh<=0)){var n=r.Frame.ChartBorder.GetBottom(),o=r.Frame.ChartBorder.GetLeft(),s=r.Frame.ChartBorder.GetRight();if(r.Frame.Canvas.beginPath(),r.Frame.Canvas.rect(o,n-i/2,s-o,i),r.Frame.Canvas.isPointInPath(t,e))return{Index:a,Bottom:!0}}}return null},this.IsEnableDragY=function(t){if(!this.SubFrame)return!1;var e=this.SubFrame[t];if(!e||!e.Frame||!e.Frame.YSplitOperator)return!1;var i=e.Frame.YSplitOperator;return"function"==typeof i.IsEnableDragY&&i.IsEnableDragY()},this.PtInFrameY=function(t,e){var i=0;if(this.GetExtendChartByClassName){var a=this.GetExtendChartByClassName("StockChip");a&&a.Chart&&(i=a.Chart.Width)}for(var r=0;r<this.SubFrame.length;++r){var n=this.SubFrame[r];if(!(n.Frame.Heigh<=0)){var o=n.Frame.ChartBorder.Right;o-=i;var s=n.Frame.ChartBorder.GetBorder(),l=s.Bottom,h=s.TopTitle,u=(s.Left,s.Right),c=l-h;if(c/3>30)var d=h+30,f=l-30;else var p=c/3,d=h+p,f=l-p;var m=0;if(e<d?m=1:e>f&&(m=2),o>=10)if(Ee.IsNonEmptyArray(n.OverlayIndex)){var C=n.OverlayIndex[0],v=C.Frame.RightOffset;if(n.Frame.Canvas.beginPath(),n.Frame.Canvas.rect(u,h,v,l-h),n.Frame.Canvas.isPointInPath(t,e))return{Index:r,Right:!0,Left:!1,Position:m,IsOverlay:!1};for(var D=u+v,g=0;g<n.OverlayIndex.length;++g){var C=n.OverlayIndex[g];if(C.RightWidth&&Ee.IsNumber(C.RightWidth.Width)){var S=C.RightWidth.Width;if(n.Frame.Canvas.beginPath(),n.Frame.Canvas.rect(D,h,S,l-h),n.Frame.Canvas.isPointInPath(t,e))return{Index:r,Right:!0,Left:!1,Position:m,IsOverlay:!0,OverlayIndex:g};D+=S}}}else if(n.Frame.Canvas.beginPath(),n.Frame.Canvas.rect(u,h,o,l-h),n.Frame.Canvas.isPointInPath(t,e))return{Index:r,Right:!0,Left:!1,Position:m,IsOverlay:!1};var x=n.Frame.ChartBorder.Left;if(x>=10&&(n.Frame.Canvas.beginPath(),n.Frame.Canvas.rect(0,h,x,l-h),n.Frame.Canvas.isPointInPath(t,e)))return{Index:r,Right:!1,Left:!0,Position:m,IsOverlay:!1}}}return null},this.SetDayCount=function(t){this.ChartBorder.MultiDayMinute.Count=t;for(var e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];i.Frame&&(i.Frame.DayCount=t,i.Frame.ChartBorder.MultiDayMinute.Count=t)}},this.SetMultiDayMinuteWidth=function(t){if(t){Ee.IsNumber(t.Left)&&(this.ChartBorder.MultiDayMinute.Left=t.Left),Ee.IsNumber(t.Right)&&(this.ChartBorder.MultiDayMinute.Right=t.Right);for(var e=0;e<this.SubFrame.length;++e){var i=this.SubFrame[e];i.Frame&&(Ee.IsNumber(t.Left)&&(i.Frame.ChartBorder.MultiDayMinute.Left=t.Left),Ee.IsNumber(t.Right)&&(i.Frame.ChartBorder.MultiDayMinute.Right=t.Right))}}}}function Y(){this.newMethod=H,this.newMethod(),delete this.newMethod,this.IsHScreen=!0,this.CalculateChartBorder=function(){if(!(this.SubFrame.length<=0)){for(var t=this.ChartBorder.GetHScreenBorder(),e=this.ChartBorder.Right,i=t.Right,a=t.Right-t.Left,r=0,n=0,o=0;o<this.SubFrame.length;++o){var s=this.SubFrame[o],l=s.Frame;l&&l.ChartBorder&&l.ChartBorder.IsShowTitleOnly&&s.Height>0?n+=l.ChartBorder.TitleHeight:r+=s.Height}a-=n;for(var o=0;o<this.SubFrame.length;++o){var s=this.SubFrame[o],l=s.Frame;if(s.Frame.ChartBorder.Top=this.ChartBorder.Top,s.Frame.ChartBorder.Bottom=this.ChartBorder.Bottom,s.Frame.ChartBorder.LeftExtendWidth=this.ChartBorder.LeftExtendWidth,s.Frame.ChartBorder.RightExtendWidth=this.ChartBorder.RightExtendWidth,l&&l.ChartBorder&&l.ChartBorder.IsShowTitleOnly&&s.Height>0){var h=l.ChartBorder.TitleHeight;s.Frame.ChartBorder.Right=e,s.Frame.ChartBorder.Left=i-h,e+=h,i-=h}else{var h=a*(s.Height/r);s.Frame.ChartBorder.Right=e,s.Frame.ChartBorder.Left=i-h,e+=h,i-=h}}}},this.GetYData=function(t,e){for(var i,a=0;a<this.SubFrame.length;++a){var r=this.SubFrame[a],n=r.Frame.ChartBorder.GetLeftEx(),o=r.Frame.ChartBorder.GetTop(),s=r.Frame.ChartBorder.GetWidthEx(),l=r.Frame.ChartBorder.GetHeight();if(r.Frame.Canvas.beginPath(),r.Frame.Canvas.rect(n,o,s,l),r.Frame.Canvas.isPointInPath(t,o)){i=r.Frame,e&&(e.FrameID=a);break}}if(null!=i)return i.GetYData(t)}}function X(){this.newMethod=M,this.newMethod(),delete this.newMethod,this.ScreenImageData,this.Position,this.ClassName="DepthChartFrame",this.VerticalRange={Max:88,Min:8,Center:null,MaxDiffer:null,Differ:null,Step:.05},this.AskPrice,this.BidPrice,this.MinZoom=.05,this.SetPriceList=function(t,e){this.AskPrice=t,this.BidPrice=e},this.DrawFrame=function(){this.SplitXYCoordinate(),this.DrawHorizontal(),this.DrawVertical()},this.GetXFromIndex=function(t){var e=this.ChartBorder.GetLeft();this.ChartBorder.GetRight();return e+this.ChartBorder.GetWidth()*(t-this.VerticalRange.Min)/(this.VerticalRange.Max-this.VerticalRange.Min)},this.GetXData=function(t){var e=this.ChartBorder.GetLeft();this.ChartBorder.GetRight();return(t-e)/this.ChartBorder.GetWidth()*(this.VerticalRange.Max-this.VerticalRange.Min)+this.VerticalRange.Min},this.GetXFromPrice=function(t){var e=!1,i=this.GetPrice(this.BidPrice,t);if(null==i&&(i=this.GetPrice(this.AskPrice,t),e=!0),null==i&&this.BidPrice&&Array.isArray(this.BidPrice)&&this.BidPrice.length>0){var a=this.BidPrice[0];t<a&&(e=!1,i=a)}if(null==i&&this.AskPrice&&Array.isArray(this.AskPrice)&&this.AskPrice.length>0){var r=this.AskPrice[this.AskPrice.length-1];t>r&&(e=!0,i=r)}return null==i?null:{X:this.GetXFromIndex(i),Price:i,IsAsk:e}},this.GetPrice=function(t,e){if(!t||!Array.isArray(t)||t.length<=0)return null;if(e<t[0]||e>t[t.length-1])return null;var i=null;for(var a in t){var r=t[a];if(e==r)return r;if(e<r)return i;i=r}},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator())},this.Snapshot=function(){this.ScreenImageData=this.Canvas.getImageData(0,0,this.ChartBorder.GetChartWidth(),this.ChartBorder.GetChartHeight())},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}},this.PtInFrame=function(t,e){var i=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetTop(),r=this.ChartBorder.GetWidth(),n=this.ChartBorder.GetHeight();return this.Canvas.beginPath(),this.Canvas.rect(i,a,r,n),this.Canvas.isPointInPath(t,e)?0:-1},this.PtInFrameBorder=function(t,e){return null},this.ZoomUp=function(){var t=this.VerticalRange,e=t.Differ;return!(e<t.MaxDiffer*this.MinZoom)&&(e-=t.Differ*t.Step,t.Differ=e,t.Min=t.Center-t.Differ,t.Max=t.Center+t.Differ,!0)},this.ZoomDown=function(){var t=this.VerticalRange,e=t.Differ;return e!=t.MaxDiffer&&(e+=t.Differ*t.Step,e>t.MaxDiffer&&(e=t.MaxDiffer),t.Differ=e,t.Min=t.Center-t.Differ,t.Max=t.Center+t.Differ,!0)}}function W(){this.newMethod=M,this.newMethod(),delete this.newMethod,this.ScreenImageData,this.Position,this.DrawFrame=function(){if(this.XPointCount>0){var t=this.ChartBorder.GetWidth()/(6*this.XPointCount);this.DistanceWidth=2*t,this.DataWidth=4*t}this.SplitXYCoordinate(),this.DrawHorizontal(),this.DrawVertical()},this.GetXFromIndex=function(t){t<0&&(t=0),t>this.xPointCount-1&&(t=this.xPointCount-1);for(var e=this.ChartBorder.GetLeft()+2+this.DistanceWidth/2+this.DataWidth/2,i=1;i<=t;++i)e+=this.DistanceWidth+this.DataWidth;return e},this.SplitXYCoordinate=function(){0!=this.XYSplit&&(null!=this.YSplitOperator&&this.YSplitOperator.Operator(),null!=this.XSplitOperator&&this.XSplitOperator.Operator())},this.Snapshot=function(){this.ScreenImageData=this.Canvas.getImageData(0,0,this.ChartBorder.GetChartWidth(),this.ChartBorder.GetChartHeight())},this.SetSizeChage=function(t){this.SizeChange=t,this.Position={X:this.ChartBorder.UIElement.offsetLeft,Y:this.ChartBorder.UIElement.offsetTop,W:this.ChartBorder.UIElement.clientWidth,H:this.ChartBorder.UIElement.clientHeight}},this.PtInFrame=function(t,e){var i=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetTop(),r=this.ChartBorder.GetWidth(),n=this.ChartBorder.GetHeight();return this.Canvas.beginPath(),this.Canvas.rect(i,a,r,n),this.Canvas.isPointInPath(t,e)?0:-1},this.PtInFrameBorder=function(t,e){return null}}function U(){this.Date,this.YClose,this.Open,this.Close,this.High,this.Low,this.Vol,this.Amount,this.Time,this.FlowCapital=null,this.Position=null,this.IsVirtual=!1,this.IsNonTrade=!1,this.YFClose=null,this.FClose=null,this.Stop,this.Up,this.Down,this.Unchanged,this.ExtendData,this.BFactor,this.AFactor,this.OrderFlow,this.ColorData,this.HeatMap}function z(){this.Close,this.Open,this.High,this.Low,this.Vol,this.Amount,this.DateTime,this.Increase,this.Risefall,this.AvPrice,this.Lead=null,this.Time,this.Date,this.Position=null,this.YClearing,this.ExtendData}function K(){this.Time,this.Date,this.Price,this.AvPrice,this.Vol=[],this.ColorID}function $(){this.Time,this.Date,this.Price,this.AvPrice,this.Vol=[],this.ColorID}function J(){this.Date,this.Time,this.Value}function q(){this.ID,this.Date,this.Time,this.Title,this.InfoType,this.ExtendData}function Z(){this.PeriodCallback=new Mn.default,this.GetPeriodCallback=function(t){return this.PeriodCallback.has(t)?this.PeriodCallback.get(t):null},this.AddPeriodCallback=function(t){if(Ee.IsNumber(t.Period)&&t.Callback){var e={Period:t.Period,Callback:t.Callback};this.PeriodCallback.set(t.Period,e)}},this.RemovePeriodCallback=function(t){this.PeriodCallback.has(t.ID)&&this.PeriodCallback.delete(t.ID)}}function Q(){this.Data=new Array,this.DataOffset=0,this.Period=0,this.Right=0,this.Symbol,this.Data2=new Array,this.GetCloseMA=function(t){for(var e=new Array,i=0,a=this.Data.length;i<a;i++)if(i<t)e[i]=null;else{for(var r=0,n=0;n<t;n++)r+=this.Data[i-n].Close;e[i]=r/t}return e},this.GetVolMA=function(t){for(var e=new Array,i=0,a=this.Data.length;i<a;i++)if(i<t)e[i]=null;else{for(var r=0,n=0;n<t;n++)r+=this.Data[i-n].Vol;e[i]=r/t}return e},this.GetAmountMA=function(t){for(var e=new Array,i=0,a=this.Data.length;i<a;i++)if(i<t)e[i]=null;else{for(var r=0,n=0;n<t;n++)r+=this.Data[i-n].Amount;e[i]=r/t}return e},this.GetClose=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Close;return t},this.GetYClose=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].YClose;return t},this.GetHigh=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].High;return t},this.GetLow=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Low;return t},this.GetOpen=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Open;return t},this.GetVol=function(t){var e=1;Ee.IsNumber(t)&&(e=t);var i=new Array;for(var a in this.Data)i[a]=this.Data[a].Vol/e;return i},this.GetAmount=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Amount;return t},this.GetPosition=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Position;return t},this.GetSettlementPrice=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].FClose;return t},this.GetIsEqual=function(){var t=[];for(var e in this.Data){var i=this.Data[e];t[e]=i.Close==i.Open?1:0}return t},this.GetIsUp=function(){var t=[];for(var e in this.Data){var i=this.Data[e];t[e]=i.Close>i.Open?1:0}return t},this.GetIsDown=function(){var t=[];for(var e in this.Data){var i=this.Data[e];t[e]=i.Close<i.Open?1:0}return t},this.GetLead=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Lead;return t},this.GetDate=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Date;return t},this.GetTime=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].Time;return t},this.GetUp=function(){var t=[];for(var e in this.Data)t[e]=this.Data[e].Up;return t},this.GetDown=function(){var t=[];for(var e in this.Data)t[e]=this.Data[e].Down;return t},this.GetYear=function(){var t=new Array;for(var e in this.Data)t[e]=parseInt(this.Data[e].Date/1e4);return t},this.GetMonth=function(){var t=new Array;for(var e in this.Data)t[e]=parseInt(this.Data[e].Date%1e4/100);return t},this.GetAvPrice=function(){var t=new Array;for(var e in this.Data){var i=this.Data[e].AvPrice;Ee.IsNumber(i)?t[e]=i:t[e]=0}return t},this.GetDateRange=function(){if(!this.Data||this.Data.length<=0)return null;var t=this.Data[0],e=this.Data[this.Data.length-1],i={Start:{Date:t.Date},End:{Date:e.Date}};return Ee.IsNumber(t.Time)&&(i.Start.Time=t.Time),Ee.IsNumber(e.Time)&&(i.End.Time=e.Time),i},this.GetDateList=function(){if(!this.Data||this.Data.length<=0)return null;for(var t=[],e=new Tn.default,i=0;i<this.Data.length;++i){var a=this.Data[i];Ee.IsNumber(a.Date)&&(e.has(a.Date)||(e.add(a.Date),t.push(a.Date)))}return t},this.GetMinutePeriodData=function(t){var e=new Array,i=5;if(5==t)i=5;else if(6==t)i=15;else if(7==t)i=30;else if(8==t)i=60;else if(11==t)i=120;else{if(12!=t)return t>Kn&&t<=$n?(i=t-Kn,this.GetMinuteCustomPeriodData(i)):this.Data;i=240}for(var a=!1,r=null,n=null,o=0;o<this.Data.length;){a=!0;for(var s=0;s<i&&o<this.Data.length;++o){a&&(r=new U,e.push(r),a=!1);var l=this.Data[o];if(null!=l){if((925!=l.Time||null!=n&&924==n)&&(930!=l.Time||null!=n&&929==n)&&(1300!=l.Time||null!=n&&1259==n)&&++s,r.Date=l.Date,r.Time=l.Time,n=r.Time,null!=l.Open&&null!=l.Close&&(null==r.Open||null==r.Close?(r.Open=l.Open,r.High=l.High,r.Low=l.Low,r.YClose=l.YClose,r.Close=l.Close,r.Vol=l.Vol,r.Amount=l.Amount,r.FlowCapital=l.FlowCapital,r.Position=l.Position,r.YFClose=l.YFClose,r.FClose=l.FClose):(r.High<l.High&&(r.High=l.High),r.Low>l.Low&&(r.Low=l.Low),r.Close=l.Close,r.Vol+=l.Vol,null!=l.Amount&&(r.Amount+=l.Amount),r.Position=l.Position,r.FlowCapital=l.FlowCapital,r.FClose=l.FClose),o+1<this.Data.length)){var h=this.Data[o+1];if(h&&h.Date!=l.Date){++o;break}}}else++s}}return e},this.GetMinuteCustomPeriodData=function(t){for(var e=new Array,i=t,a=!1,r=null,n=0;n<this.Data.length;){a=!0;for(var o=0;o<i&&n<this.Data.length;++n,++o){a&&(r=new U,e.push(r),a=!1);var s=this.Data[n];null!=s&&(r.Date=s.Date,r.Time=s.Time,null!=s.Open&&null!=s.Close&&(null==r.Open||null==r.Close?(r.Open=s.Open,r.High=s.High,r.Low=s.Low,r.YClose=s.YClose,r.Close=s.Close,r.Vol=s.Vol,r.Amount=s.Amount,r.FlowCapital=s.FlowCapital,r.Position=s.Position,r.YFClose=s.YFClose,r.FClose=s.FClose):(r.High<s.High&&(r.High=s.High),r.Low>s.Low&&(r.Low=s.Low),r.Close=s.Close,r.Vol+=s.Vol,null!=s.Amount&&(r.Amount+=s.Amount),r.Position=s.Position,r.FlowCapital=s.FlowCapital,r.FClose=s.FClose)))}}return e},this.GetDayPeriodData=function(t){if(t>Un&&t<=zn)return this.GetDayCustomPeriodData(t-Un);var e=po.IsBIT(this.Symbol),i=new Array,a=0,r=2,n=null;for(var o in this.Data){var s=!1,l=this.Data[o];switch(t){case 1:if(e)var h=Q.GetSunday(l.Date);else var h=Q.GetFirday(l.Date);h!=a&&(s=!0,a=h);break;case 21:if(e)var h=Q.GetSunday(l.Date);else var h=Q.GetFirday(l.Date);h!=a&&(++r,r>=2&&(s=!0,r=0),a=h);break;case 2:parseInt(l.Date/100)!=parseInt(a/100)&&(s=!0,a=l.Date);break;case 3:parseInt(l.Date/1e4)!=parseInt(a/1e4)&&(s=!0,a=l.Date);break;case 22:var u=Q.GetHalfYear(l.Date);u!=a&&(s=!0,a=u);break;case 9:var c=Q.GetQuarter(l.Date);c=10*parseInt(l.Date/1e4)+c;var d=Q.GetQuarter(a);d=10*parseInt(a/1e4)+d,c!=d&&(s=!0,a=l.Date)}if(s){if(n=new U,n.Date=l.Date,i.push(n),null==l.Open||null==l.Close)continue;n.Open=l.Open,n.High=l.High,n.Low=l.Low,n.YClose=l.YClose,n.Close=l.Close,n.Vol=l.Vol,n.Amount=l.Amount,n.FlowCapital=l.FlowCapital,n.Position=l.Position,n.YFClose=l.YFClose,n.FClose=l.FClose}else{if(null==n)continue;if(null==l.Open||null==l.Close)continue;null==n.Open||null==n.Close?(n.Open=l.Open,n.High=l.High,n.Low=l.Low,n.YClose=l.YClose,n.Close=l.Close,n.Vol=l.Vol,n.Amount=l.Amount,n.FlowCapital=l.FlowCapital,n.Position=l.Position,n.YFClose=l.YFClose,n.FClose=l.FClose):(n.High<l.High&&(n.High=l.High),n.Low>l.Low&&(n.Low=l.Low),n.Close=l.Close,n.Vol+=l.Vol,null!=l.Amount&&(n.Amount+=l.Amount),n.Position=l.Position,n.FlowCapital=l.FlowCapital,n.Date=l.Date,n.FClose=l.FClose)}}return i},this.GetDayCustomPeriodData=function(t){for(var e=[],i=t,a=!1,r=null,n=0;n<this.Data.length;){a=!0;for(var o=0;o<i&&n<this.Data.length;++n,++o){a&&(r=new U,e.push(r),a=!1);var s=this.Data[n];null!=s&&(r.Date=s.Date,null!=s.Open&&null!=s.Close&&(null==r.Open||null==r.Close?(r.Open=s.Open,r.High=s.High,r.Low=s.Low,r.YClose=s.YClose,r.Close=s.Close,r.Vol=s.Vol,r.Amount=s.Amount,r.FlowCapital=s.FlowCapital,r.Position=s.Position,r.YFClose=s.YFClose,r.FClose=s.FClose):(r.High<s.High&&(r.High=s.High),r.Low>s.Low&&(r.Low=s.Low),r.Close=s.Close,r.Vol+=s.Vol,null!=s.Amount&&(r.Amount+=s.Amount),r.Position=s.Position,r.FlowCapital=s.FlowCapital,r.FClose=s.FClose)))}}return e},this.GetPeriodData=function(t){var e=Wn.GetPeriodCallback(t);if(e)return e.Callback(t,this.Data,this);if(po.IsBIT(this.Symbol)&&(5==t||6==t||7==t||8==t||t>Kn&&t<=$n)){var i=5;return 5==t?i=5:6==t?i=15:7==t?i=30:8==t?i=60:11==t?i=120:12==t?i=240:t>Kn&&t<=$n&&(i=t-Kn),this.GetMinuteCustomPeriodData(i)}return Q.IsDayPeriod(t,!1)?this.GetDayPeriodData(t):Q.IsMinutePeriod(t,!1)?this.GetMinutePeriodData(t):void 0},this.GetRightData=function(t,e){var i=[];if(this.Data.length<=0)return i;if(e&&1==e.AlgorithmType){for(var a=0;a<this.Data.length;++a){var r=this.Data[a],n=1==t?r.BFactor:r.AFactor;i[a]=U.CopyRight(r,n)}return i}if(1==t){var o=this.Data.length-1,n=1,s=this.Data[o].YClose;for(i[o]=U.Copy(this.Data[o]),--o;o>=0&&s==this.Data[o].Close;--o)i[o]=U.Copy(this.Data[o]),s=this.Data[o].YClose;for(;o>=0;--o){var l=this.Data[o].Close;s!=l&&0!=l&&(n*=s/l),i[o]=U.CopyRight(this.Data[o],n),s=this.Data[o].YClose}}else if(2==t){var o=0,n=1,h=this.Data[o].Close;for(i[o]=U.Copy(this.Data[o]),++o;o<this.Data.length&&h==this.Data[o].YClose;++o)i[o]=U.Copy(this.Data[o]),h=this.Data[o].Close;for(;o<this.Data.length;++o)h!=this.Data[o].YClose&&(n*=h/this.Data[o].YClose),i[o]=U.CopyRight(this.Data[o],n),h=this.Data[o].Close}return i},this.GetRightDate=this.GetRightData,this.GetOverlayData=function(t,e){for(var i=[],a=0,r=0;a<this.Data.length;){var n=this.Data[a].Date;if(r>=t.length)i[a]=new U,i[a].Date=n,++a;else{var o=t[r].Date;o==n?(i[a]=new U,i[a].Date=t[r].Date,i[a].YClose=t[r].YClose,i[a].Open=t[r].Open,i[a].High=t[r].High,i[a].Low=t[r].Low,i[a].Close=t[r].Close,i[a].Vol=t[r].Vol,i[a].Amount=t[r].Amount,i[a].Stop=t[r].Stop,i[a].Up=t[r].Up,i[a].Down=t[r].Down,i[a].Unchanged=t[r].Unchanged,++r,++a):o<n?++r:(i[a]=new U,i[a].Date=n,++a)}}return i},this.GetOverlayMinuteData=function(t,e){for(var i=[],a=0,r=0;a<this.Data.length;){var n=this.Data[a].Date,o=this.Data[a].Time;if(r>=t.length)i[a]=new U,i[a].Date=n,i[a].Time=o,++a;else{var s=t[r].Date,l=t[r].Time;s==n&&l==o?(i[a]=new U,i[a].Date=t[r].Date,i[a].Time=t[r].Time,i[a].YClose=t[r].YClose,i[a].Open=t[r].Open,i[a].High=t[r].High,i[a].Low=t[r].Low,i[a].Close=t[r].Close,i[a].Vol=t[r].Vol,i[a].Amount=t[r].Amount,i[a].Stop=t[r].Stop,i[a].Up=t[r].Up,i[a].Down=t[r].Down,i[a].Unchanged=t[r].Unchanged,++r,++a):s<n||s==n&&l<o?++r:(i[a]=new U,i[a].Date=n,i[a].Time=o,++a)}}return i},this.GetFittingData=function(t){for(var e=new Array,i=0,a=0;i<this.Data.length;){var r=this.Data[i].Date;if(a>=t.length)e[i]=null,++i;else{var n=t[a].Date;if(n==r){var o=new J;o.Date=t[a].Date,o.Value=t[a].Value,e[i]=o,++a,++i}else n<r?++a:(e[i]=new J,e[i].Date=r,++i)}}return e},this.GetFittingData2=function(t,e){for(var i=new Array,a=0,r=0;a<this.Data.length;){var n=this.Data[a].Date;if(r>=t.length)i[a]=new J,i[a].Date=n,i[a].Value=e,++a;else{var o=t[r].Date;if(o==n){var s=new J;s.Date=t[r].Date,s.Value=t[r].Value,i[a]=s,++r,++a}else o<n?++r:(i[a]=new J,i[a].Date=n,i[a].Value=e,++a)}}return i},this.GetDateIndex=function(t){for(var e=0,i=0;e<this.Data.length;){var a=this.Data[e].Date;if(i>=t.length)break;var r=t[i];r.Date==a?(r.Index=e,++i):r.Date<a?++i:++e}},this.GetDateTimeIndex=function(t){for(var e=0,i=0;e<this.Data.length;){var a=this.Data[e].Date,r=this.Data[e].Time;if(i>=t.length)break;var n=t[i];n.Date==a&&n.Time==r?(n.Index=e,++i):n.Date<a||n.Date==a&&n.Time<r?++i:++e}},this.GetMinuteFittingData=function(t){for(var e=[],i=0,a=0;i<this.Data.length;){var r=this.Data[i].Date,n=this.Data[i].Time;if(a>=t.length)e[i]=null,++i;else{var o=t[a].Date,s=t[a].Time,l=t[a];if(o==r&&s==n){var h=new J;h.Date=l.Date,h.Time=l.Time,h.Value=l.Value,e[i]=h,++a,++i}else if(o<r||o==r&&s<n)++a;else{var h=new J;h.Date=r,h.Time=n,e[i]=h,++i}}}return e},this.GetMinuteFittingDataV2=function(t){for(var e=[],i=null,a=0,r=0;a<this.Data.length;){var n=this.Data[a].Date,o=this.Data[a].Time;if(r>=t.length)e[a]=null,++a;else{var s=t[r].Date,l=t[r].Time,h=t[r];if(s==n&&l==o){var u=new J;u.Date=h.Date,u.Time=h.Time,u.Value=h.Value,e[a]=u,i=h,++r,++a}else if(s<n||s==n&&l<o){var c=e.length-1;if(c>=0){var u=e[c];u&&(s<u.Date||s==u.Date&&l<u.Time)&&(u.Value=h.Value)}i=h,++r}else{var u=new J;u.Date=n,u.Time=o,i&&(u.Value=i.Value),e[a]=u,++a}}}return e},this.GetFittingFinanceData=function(t){for(var e=[],i=0,a=0;i<this.Data.length;){var r=this.Data[i].Date;if(a<t.length){if(r<t[a].Date){++i;continue}}if(a+1<t.length&&t[a].Date<r&&t[a+1].Date<=r)++a;else{var n=new J;n.Date=r,a<t.length?(n.Value=t[a].Value,n.FinanceDate=t[a].Date):(n.Value=null,n.FinanceDate=null),e[i]=n,++i}}return e},this.GetMinuteFittingFinanceData=function(t){var e=[];if(!Array.isArray(t)||t.length<=0)return e;var i=0,a=t[0];for(i=0;i<this.Data.length;++i){var r=this.Data[i].Date,n=this.Data[i].Time;if(r>a.Date||r==a.Date&&n>=a.Time)break}for(var o=0;i<this.Data.length;){var r=this.Data[i].Date,n=this.Data[i].Time;if(o+1<t.length&&(t[o].Date<r&&t[o+1].Date<=r||t[o].Date==r&&t[o].Time<n&&t[o+1].Time<=n))++o;else{var s=new J;s.Date=r,s.Time=n,o<t.length?(s.Value=t[o].Value,s.FinanceDate=t[o].Date,s.FinanceTime=t[o].Time):(s.Value=null,s.FinanceDate=null,s.FinanceTime=null),e[i]=s,++i}}return e},this.GetFittingTradeData=function(t,e,i){for(var a=[],r=!1,n=0,o=0;n<this.Data.length;){var s=this.Data[n].Date;if(o<t.length&&t[o].Date>s){var l=new J;l.Date=s,l.Value=e,a[n]=l,++n}else if(o+1<t.length&&t[o].Date<s&&t[o+1].Date<=s)++o,r=!1;else{var l=new J;if(l.Date=s,l.Value=e,l.FinanceDate=null,o<t.length){var h=t[o];0==this.Period&&!0===i?h.Date==l.Date&&(l.Value=h.Value,l.FinanceDate=h.Date,r=!0):0==r&&(l.Value=h.Value,l.FinanceDate=h.Date,r=!0)}a[n]=l,++n}}return a},this.GetMinuteFittingTradeData=function(t,e,i){for(var a=[],r=!1,n=0,o=0;n<this.Data.length;){var s=this.Data[n].Date,l=this.Data[n].Time;if(o<t.length&&(t[o].Date>s||t[o].Date==s&&t[o].Time>l)){var h=new J;h.Date=s,h.Time=l,h.Value=e,a[n]=h,++n}else if(o+1<t.length&&(t[o].Date<s&&t[o+1].Date<=s||t[o].Date==s&&t[o].Time<l&&t[o+1].Time<=l))++o,r=!1;else{var h=new J;if(h.Date=s,h.FinanceDate=null,h.Time=l,h.Value=e,o<t.length){var u=t[o];4==this.Period&&!0===i?u.Date==h.Date&&u.Time==h.Time&&(h.Value=u.Value,h.FinanceDate=u.Date,h.FinanceTime=u.Time,r=!0):0==r&&(h.Value=u.Value,h.FinanceDate=u.Date,h.FinanceTime=u.Time,r=!0)}a[n]=h,++n}}return a},this.GetFittingMarketValueData=function(t){for(var e=[],i=0,a=0;i<this.Data.length;){var r=this.Data[i].Date,n=this.Data[i].Close;if(a+1<t.length&&t[a].Date<r&&t[a+1].Date<=r)++a;else{var o=new J;o.Date=r,o.Value=t[a].Value*n,o.FinanceDate=t[a].Date,e[i]=o,++i}}return e},this.GetFittingMonthData=function(t){for(var e=new Array,i=null,a=0,r=0;a<this.Data.length;){var n=this.Data[a].Date;if(r>=t.length)e[a]=null,++a;else{var o=t[r].Date;if(o==n){var s=new J;s.Date=t[r].Date,s.Value=t[r].Value,s.Text=t[r].Text,e[a]=s,++r,++a}else if(null!=i&&i<o&&n>o){var s=new J;s.Date=n,s.OverlayDate=t[r].Date,s.Value=t[r].Value,s.Text=t[r].Text,e[a]=s,++r,++a}else o<n?++r:(e[a]=new J,e[a].Date=n,++a);i=n}}return e},this.GetValue=function(){var t=[];for(var e in this.Data)if(this.Data[e]&&null!=this.Data[e].Value){var i=this.Data[e].Value;isNaN(i)?i instanceof Array?t[e]=i:t[e]=null:t[e]=i}else t[e]=null;return t},this.GetObject=function(){var t=[];for(var e in this.Data)if(this.Data[e]&&this.Data[e].Value){var i=this.Data[e].Value;t[e]=i}else t[e]=null;return t},this.GetPeriodSingleData=function(t){var e=new Array,i=0,a=2,r=null;for(var n in this.Data){var o=!1,s=this.Data[n];if(null!=s&&null!=s.Date){switch(t){case 1:var l=Q.GetFirday(s.Date);l!=i&&(o=!0,i=l);break;case 21:var l=Q.GetFirday(s.Date);l!=i&&(++a,a>=2&&(o=!0,a=0),i=l);break;case 2:parseInt(s.Date/100)!=parseInt(i/100)&&(o=!0,i=s.Date);break;case 3:parseInt(s.Date/1e4)!=parseInt(i/1e4)&&(o=!0,i=s.Date);break;case 9:var h=Q.GetQuarter(s.Date);h=10*parseInt(s.Date/1e4)+h;var u=Q.GetQuarter(i);u=10*parseInt(i/1e4)+u,h!=u&&(o=!0,i=s.Date)}if(o)r=new J,r.Date=s.Date,r.Value=s.Value,e.push(r);else{if(null==r)continue;if(null==s.Value||isNaN(s.Value))continue;(null==r.Value||isNaN(r.Value))&&(r.Value=s.Value)}}}return e},this.GetMinuteAvPrice=function(){var t=new Array;for(var e in this.Data)t[e]=this.Data[e].AvPrice;return t},this.MergeMinuteData=function(t){if(!this.Data||this.Data.length<=0)return this.Data=t,!0;for(var e=this.Data[0],i=0,a=null,r=0;r<t.length;++r){var n=t[r];if(n.Date>e.Date){i=r,a=n;break}if(n.Date==e.Date&&n.Time>=e.Time){i=r,a=n;break}}if(null==a)return!1;for(var o=null,s=!1,r=this.Data.length-1;r>=0;--r){var l=this.Data[r].Date,h=this.Data[r].Time;if(a.Date>l||a.Date==l&&a.Time>=h){o=r,a.Date==l&&a.Time==h&&(s=!0);break}}if(null==o)return!1;var u=o,r=i;if(1==s){var n=t[r];if(u-1>0){var c=this.Data[u-1];n.YClose||(n.YClose=c.Close),!Ee.IsNumber(n.FlowCapital)&&Ee.IsNumber(c.FlowCapital)&&(n.FlowCapital=c.FlowCapital)}var d=U.Copy(n);this.Data[u]=d,++u,++r}else++u;for(;r<t.length;){var n=t[r];if(u>=this.Data.length-1){if(u-1>0){var c=this.Data[u-1];n.YClose||(n.YClose=c.Close),!Ee.IsNumber(n.FlowCapital)&&Ee.IsNumber(c.FlowCapital)&&(n.FlowCapital=c.FlowCapital)}var d=U.Copy(n);this.Data[u]=d,++u,++r}else{var f=this.Data[u];f.Date==n.Date&&f.Time==n.Time?(U.CopyTo(f,n),++u,++r):++u}}return!0},this.ConverPeriod=function(t,e,i){for(var a=[],r=null,n=Q.IsMinutePeriod(e,!0),o=Q.IsMinutePeriod(i,!0),s=n&&o,l=n&&!o,h=!n&&!o,u=0,c=0;u<this.Data.length;++u){for(var d=this.Data[u];c<t.length;++c){var f=t[c];if(s){if(f.Date>d.Date||f.Date==d.Date&&f.Time>=d.Time){r=f;break}}else if((l||h)&&f.Date>=d.Date){r=f;break}}var p=null;r?(p=U.Copy(r),p.PDate=r.Date,p.PTime=r.Time):p=new U,p.Date=d.Date,(s||l)&&(p.Time=d.Time),a.push(p)}return Nn.Chart.Log("[ChartData::ConverPeriod] result",a),a},this.GetRef=function(t){for(var e=[],i=0;i<this.Data.length;++i){e[i]=null;var a=this.Data[i];if(i-t<0){var r=new U;r.Date=a.Date,r.Time=a.Time,e[i]=r}else{var n=this.Data[i-t],r=U.Copy(n);r.Date=a.Date,r.Time=a.Time,e[i]=r}}return e},this.FitKLineIndex=function(t,e,i,a){for(var r=this.Data.length,n=t.length,o=[Q.IsMinutePeriod(i,!0),Q.IsMinutePeriod(a,!0)],s=[Q.IsDayPeriod(i,!0),Q.IsDayPeriod(a,!0)],l=Q.GetKLineDataTime(this.Data[0]),h=[],u=n,c=0;c<n;++c){var d=Q.GetKLineDataTime(t[c]);if(s[0]&&s[1]||o[0]&&s[1]){if(d.Date>=l.Date){u=c;break}}else if(o[0]&&o[1]){if(d.Date>l.Date){u=c;break}if(d.Date==l.Date&&d.Time>=l.Time){u=c;break}}}for(var c=0,f=u;c<r;){var d=Q.GetKLineDataTime(this.Data[c]);if(f>=n){var p={Date:d.Date,Time:d.Time,Index:-1};h[c]=p,++c}else{var m=Q.GetKLineDataTime(t[f]);if(s[0]&&s[1]||o[0]&&s[1])if(m.Date==d.Date){var p={Date:d.Date,Time:d.Time,Index:f,Data2:m.Date,Time2:m.Time};h[c]=p,++c}else if(f+1<n){var C=Q.GetKLineDataTime(t[f+1]);if(m.Date<=d.Date&&C.Date>d.Date){var p={Date:d.Date,Time:d.Time,Index:f+1,Data2:C.Date,Time2:C.Time};h[c]=p,++c}else if(C.Date<=d.Date)++f;else{var p={Date:d.Date,Time:d.Time,Index:-1};h[c]=p,++c}}else++f;else if(o[0]&&o[1])if(m.Date==d.Date&&m.Time==d.Time){var p={Date:d.Date,Time:d.Time,Index:f,Data2:m.Date,Time2:m.Time};h[c]=p,++c}else if(f+1<n){var C=Q.GetKLineDataTime(t[f+1]);if(m.Date<d.Date&&C.Date>d.Date||m.Date==d.Date&&m.Time<d.Time&&C.Date==d.Date&&C.Time>d.Time||m.Date==d.Date&&m.Time<d.Time&&C.Date>d.Date||m.Date<d.Date&&C.Date==d.Date&&C.Time>d.Time){var p={Date:d.Date,Time:d.Time,Index:f+1,Data2:C.Date,Time2:C.Time};h[c]=p,++c}else if(C.Date<d.Date||C.Date==d.Date&&C.Time<=d.Time)++f;else{var p={Date:d.Date,Time:d.Time,Index:-1};h[c]=p,++c}}else++f}}var v=[];for(var c in e){var d=e[c];if(Array.isArray(d.Data)){var D=[];v[c]={Data:D,Name:d.Name};for(var f=0;f<h.length;++f){var g=h[f];D[f]=null,g&&g.Index>=0&&g.Index<d.Data.length&&(D[f]=d.Data[g.Index])}}else v[c]={Data:d.Data,Name:d.Name}}return v},this.FindDataIndexByDateTime=function(t){var e=0;for(var i in t)t[i].Index=-1;for(var i in this.Data){var a=this.Data[i];for(var r in t){var n=t[r];if(!(n.Index>=0)){if(Ee.IsNumber(n.Time)){if(n.Date==a.Date&&n.Time==a.Time){n.Index=parseInt(i),++e;break}}else if(n.Date==a.Date){n.Index=parseInt(i),++e;break}if(e>=t.length)break}}}},this.CloneData=function(t){var e=[];if("HistoryData"==t)for(var i in this.Data){var a=this.Data[i],r=U.Copy(a);e.push(r)}return e},this.GetAPIDataIndex=function(t,e){var i=[];if(t&&e){for(var a=this.Data.length,r=t.length,n=Q.GetKLineDataTime(this.Data[0]),o=r,o=r,s=0;s<r;++s){var l=t[s],h=e[s];if(l>n.Date||l==n.Date&&h>=n.Time){o=s;break}}for(var s=0,u=o;s<a;){var c=this.Data[s];if(u>=r){var d={KDate:c.Date,KTime:c.Time,KIndex:s,Index:-1};i[s]=d,++s}else{var l=t[u],h=e[u];if(l==c.Date&&h==c.Time){var d={KDate:c.Date,KTime:c.Time,KIndex:s,Index:u,Data:l,Time:h};i[s]=d,++s}else if(u+1<r){var f=t[u+1],p=e[u+1];if(l<c.Date&&f>c.Date||l==c.Date&&h<c.Time&&f==c.Date&&p>c.Time||l==c.Date&&h<c.Time&&f>c.Date||l<c.Date&&f==c.Date&&p>c.Time){var d={KDate:c.Date,KTime:c.Time,KIndex:s,Index:u,Data:l,Time:h};i[s]=d,++s}else if(f<c.Date||f==c.Date&&p<=c.Time)++u;else{var d={KDate:c.Date,KTime:c.Time,KIndex:s,Index:-1};i[s]=d,++s}}else++u}}}else if(t){for(var a=this.Data.length,r=t.length,n=Q.GetKLineDataTime(this.Data[0]),o=r,s=0;s<r;++s){var c=t[s];if(c>=n.Date){o=s;break}}for(var s=0,u=o;s<a;){var c=this.Data[s];if(u>=r){var d={KDate:c.Date,KIndex:s,Index:-1};i[s]=d,++s}else{var m=t[u];if(m==c.Date){var d={KDate:c.Date,KIndex:s,Index:u,Data:m};i[s]=d,++s}else if(u+1<r){var C=t[u+1];if(m<=c.Date&&C>c.Date){var d={KDate:c.Date,KIndex:s,Index:u,Data:m};i[s]=d,++s}else if(C<=c.Date)++u;else{var d={KDate:c.Date,KIndex:s,Index:-1};i[s]=d,++s}}else++u}}}return i},this.FixKData=function(t,e){return Q.IsDayPeriod(e,!0)?this.FixKData_Day(t):Q.IsMinutePeriod(e,!0)?this.FixKData_Minute(t):null},this.FixKData_Day=function(t){for(var e=[],i=t.length,a=0,r=0;a<this.Data.length;){var n=this.Data[a];if(r<i){var o=t[r];if(o.Date>n.Date){++a;continue}}if(r+1<i){var o=t[r],s=t[r+1];if(o.Date<n.Date&&s.Date<=n.Date){++r;continue}}var l=new U;l.Date=n.Date;var h=r<i?r:i-1,o=t[h];l.Close=o.Close,l.High=o.High,l.Low=o.Low,l.Open=o.Open,l.YClose=o.YClose,l.Amount=o.Amount,l.Vol=o.Vol,l.ExDate=o.Date,e[a]=l,++a}return e},this.FixKData_Minute=function(t){for(var e=[],i=t.length,a=0,r=0;a<this.Data.length;){var n=this.Data[a],o=Q.DateTimeToNumber(n);if(r<i){var s=t[r],l=Q.DateTimeToNumber(s);if(l>o){++a;continue}}if(r+1<i){var s=t[r],h=t[r+1],l=Q.DateTimeToNumber(s),u=Q.DateTimeToNumber(h);if(l<o&&u<=o){++r;continue}}var c=new U;c.Date=n.Date,c.Time=n.Time;var d=r<i?r:i-1,s=t[d];c.Close=s.Close,c.High=s.High,c.Low=s.Low,c.Open=s.Open,c.YClose=s.YClose,c.Amount=s.Amount,c.Vol=s.Vol,c.ExDate=s.Date,c.ExTime=s.Time,e[a]=c,++a}return e},this.GetDataRange=function(t,e){if(!Ee.IsNonEmptyArray(this.Data))return null;for(var i={},a=0;a<this.Data.length;++a){var r=this.Data[a];if(r.Date==t.Date&&(Ee.IsNumber(t.Time)?r.Time==t.Time&&(i.Start={Index:a,Date:r.Date,Time:r.Time}):i.Start={Index:a,Date:r.Date}),(r.Date=e.Date)&&(Ee.IsNumber(e.Time)?r.Time==e.Time&&(i.End={Index:a,Date:r.Date,Time:r.Time}):i.End={Index:a,Date:r.Date}),i.Start&&i.End)return i}return null},this.ExportArrayData=function(t,e){if(!Ee.IsNonEmptyArray(this.Data))return null;var i=0,a=this.Data.length-1;e&&e.Start&&e.End&&Ee.IsNumber(e.Start.Index)&&Ee.IsNumber(e.End.Index)&&(i=e.Start.Index,a=e.End.Index);for(var r=[],n=i;n<=a&&n<this.Data.length;++n)r[n]=this.Data[n];return r},this.ExportBoolData=function(t,e){if(!Ee.IsNonEmptyArray(this.Data))return null;var i=0,a=this.Data.length-1;e&&e.Start&&e.End&&Ee.IsNumber(e.Start.Index)&&Ee.IsNumber(e.End.Index)&&(i=e.Start.Index,a=e.End.Index);for(var r=[],n=i;n<=a&&n<this.Data.length;++n){var o=this.Data[n];r[n]=!1,Ee.IsPlusNumber(o)&&(r[n]=!0)}return r},this.ExportKLineData=function(t){if(!Ee.IsNonEmptyArray(this.Data))return null;var e=0,i=this.Data.length-1;t&&t.Start&&t.End&&Ee.IsNumber(t.Start.Index)&&Ee.IsNumber(t.End.Index)&&(e=t.Start.Index,i=t.End.Index);for(var a=[],r=[],n=[],o=[],s=[],l=[],h=[],u=[],c=e;c<=i&&c<this.Data.length;++c){var d=this.Data[c];a[c]=d.Date,r[c]=d.Open,n[c]=d.High,o[c]=d.Low,h[c]=d.Close,s[c]=d.Vol,l[c]=d.Amount,u[c]=d.Time}if(t&&t.IsOverlay){var f=[{Name:"Open",Data:r},{Name:"High",Data:n},{Name:"Low",Data:o},{Name:"Close",Data:h},{Name:"Vol",Data:s},{Name:"Amount",Data:l}];return f}var f=[{Name:"Date",Data:a}];return(Q.IsMinutePeriod(this.Period,!0)||Q.IsSecondPeriod(this.Period))&&f.push({Name:"Time",Data:u}),f.push({Name:"Open",Data:r},{Name:"High",Data:n},{Name:"Low",Data:o},{Name:"Close",Data:h},{Name:"Vol",Data:s},{Name:"Amount",Data:l}),f},this.ExportMinuteData=function(t){if(!Ee.IsNonEmptyArray(this.Data))return null;var e=[],i=[],a=[],r=[],n=[],o=[],s=[],l=[],h=[],u=[],c=0,d=this.Data.length-1;t&&t.Start&&t.End&&Ee.IsNumber(t.Start.Index)&&Ee.IsNumber(t.End.Index)&&(c=t.Start.Index,d=t.End.Index);for(var f=c;f<=d&&f<this.Data.length;++f){var p=this.Data[f];e[f]=p.Date,i[f]=p.Open,a[f]=p.High,r[f]=p.Low,s[f]=p.Close,n[f]=p.Vol,o[f]=p.Amount,l[f]=p.Time,u[f]=p.AvPrice,h[f]=p.Position}var m=[{Name:"Open",Data:i},{Name:"High",Data:a},{Name:"Low",Data:r},{Name:"Close",Data:s},{Name:"Vol",Data:n},{Name:"Amount",Data:o},{Name:"AvPrice",Data:u},{Name:"Position",Data:h}];return t&&t.IsOverlay?m:(m.splice(0,0,{Name:"Date",Data:e},{Name:"Time",Data:l}),m)}}function tt(){this.ChartPaint,this.Data,this.Type=0}function et(t,e,i,a){this.X=t,this.Y=e,this.Width=i,this.Height=a}function it(){this.DataMap=new Mn.default([["ChartKLine",{Create:function(t){return new rt}}],["ChartMinuteVolumBar",{Create:function(t){return new ht}}],["ChartMinutePriceLine",{Create:function(t){return new Ot}}]]),this.Create=function(t,e){return this.DataMap.has(t)?this.DataMap.get(t).Create(e):(Nn.Warn("[ChartPaintFactory::Create] can't find class="+t+"."),null)},this.Add=function(t,e){this.DataMap.set(t,{Create:e.Create})}}function at(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="IChartPainting",this.Data=new Q,this.Script,this.NotSupportMessage=null,this.MessageFont=lo.Index.NotSupport.Font,this.MessageColor=lo.Index.NotSupport.TextColor,this.IsDrawFirst=!1,this.IsShow=!0,this.IsVisible=!0,this.GetEventCallback,this.SelectedLineWidth=lo.SelectedChart.LineWidth,this.SelectedLineColor=lo.SelectedChart.LineColor,this.SelectedRadius=lo.SelectedChart.Radius,this.SelectedPointMinSpace=lo.SelectedChart.MinSpace,this.SelectedBGColor=lo.SelectedChart.BGColor,this.DrawSelectedStatus,this.PtInChart,this.IsFullRangeMaxMin=!1,this.Draw=function(){},this.GetBorder=function(){return this.ChartFrame.IsHScreen?this.ChartBorder.GetHScreenBorder():this.ChartBorder.GetBorder()},this.ClipClient=function(t){if(1==t)var e=this.ChartBorder.GetLeftEx(),i=this.ChartBorder.GetRightEx(),a=this.ChartBorder.GetTop(),r=this.ChartBorder.GetBottom();else var e=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight(),a=this.ChartBorder.GetTopEx(),r=this.ChartBorder.GetBottomEx();this.Canvas.beginPath(),this.Canvas.rect(e,a,i-e,r-a),this.Canvas.clip()},this.GetYFromData=function(t,e){return this.ChartFrame.GetYFromData(t,e)},this.IsMinuteFrame=function(){return"MinuteFrame"==this.ChartFrame.ClassName||"MinuteHScreenFrame"==this.ChartFrame.ClassName||"OverlayMinuteFrame"==this.ChartFrame.ClassName||"OverlayMinuteHScreenFrame"==this.ChartFrame.ClassName},this.DrawNotSupportmessage=function(){this.Canvas.font=this.MessageFont,this.Canvas.fillStyle=this.MessageColor;var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetWidth(),i=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetHeightEx(),r=t+e/2,n=i+a/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.NotSupportMessage,r,n)},this.GetTooltipData=function(t,e,i){return!1},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset;this.ChartFrame.GlobalOption&&this.ChartFrame.GlobalOption.IsValueFullRange&&(e=0,t=this.Data.Data.length);var i={};if(i.Min=null,i.Max=null,!this.Data||!this.Data.Data)return i;for(var a=e,r=0;a<this.Data.Data.length&&r<t;++a,++r){var n=this.Data.Data[a];null==n||isNaN(n)||(null==i.Max&&(i.Max=n),null==i.Min&&(i.Min=n),i.Max<n&&(i.Max=n),i.Min>n&&(i.Min=n))}return i},this.GetDynamicFont=function(t,e,i,a,r,n){var o=c();if(i*=o,a*=o,i==a){var s=i.toFixed(0)+"px "+n;return s}var l=t+e;r&&(0==r.Type?r.Value>0&&(l=t*r.Value):1==r.Type?r.Value>0&&(l=(t+e)*r.Value):2==r.Type&&Ee.IsNumber(r.Value)&&(l=t+e+2*r.Value*o)),l<a?l=a:l>i&&(l=i);var s=l.toFixed(0)+"px "+n;return s},this.GetLockRect=function(){return this.ChartFrame.GetLockRect()},this.SetFillStyle=function(t,e,i,a,r){if(Array.isArray(t)){var n=this.Canvas.createLinearGradient(e,i,a,r),o=1/t.length;for(var s in t)n.addColorStop(s*o,t[s]);this.Canvas.fillStyle=n}else this.Canvas.fillStyle=t},this.GetDynamicIconSize=function(t,e,i,a,r){var n=c();if(i*=n,a*=n,i==a)return i;var o=t+e-2*n;return r&&(0==r.Type?r.Value>0&&(o=t*r.Value):1==r.Type?r.Value>0&&(o=(t+e)*r.Value):2==r.Type&&Ee.IsNumber(r.Value)&&(o=t+e+2*r.Value*n)),o<a?o=a:o>i&&(o=i),o},this.GetFontHeight=function(t){return d(this.Canvas,t,"擎")},this.DrawLinePoint=function(t){var e=!0===this.ChartFrame.IsHScreen;if(!e&&this.IsShow){var i=this.IsMinuteFrame(),a=this.ChartFrame.DataWidth,r=this.ChartFrame.DistanceWidth,n=this.ChartFrame.XPointCount;if(e)var o=this.ChartBorder.GetHScreenBorder(),s=o.BottomEx,l=o.TopEx+r/2+lo.FrameLeftMargin;else var o=this.ChartBorder.GetBorder(),l=o.LeftEx+r/2+lo.FrameLeftMargin,s=o.RightEx;var h=this.GetLockRect();h&&(s=e?h.Top:h.Left);var u=c();this.Canvas.save(),this.ClipClient(e),this.Canvas.lineWidth=this.SelectedLineWidth*u,this.Canvas.strokeStyle=this.SelectedLineColor,this.SelectedBGColor&&(this.Canvas.fillStyle=this.SelectedBGColor);var d=this.SelectedRadius,f=Math.ceil(this.SelectedPointMinSpace/(a+r));if(f<=0&&(f=1),i){var p=(o.Right-o.Left)/n;f=Math.ceil(this.SelectedPointMinSpace/p)}var m=0,C=null,v=null;t&&(t.KLineClose?m=1:t.MinuteVolBar?m=2:t.MinuteOverlayPrice?m=1==t.OverlayType?1:3:t.OverlayKLine?(m=4,C=this.GetFirstOpen()):t.StackedBar&&(m=5));for(var D=this.Data.DataOffset,g=0,S=0;D<this.Data.Data.length&&g<n;++D,++g,++S,l+=a+r){var x=null;if(1==m){var b=this.Data.Data[D];Ee.IsNumber(b.Close)&&(x=b.Close)}else if(2==m){var b=this.Data.Data[D];Ee.IsNumber(b.Vol)&&(x=b.Vol)}else if(3==m){var I=this.Data.Data[D].Close;if(null==I)continue;x=I/this.YClose*this.MainYClose}else if(4==m){var T=this.Data.Data[D];null==v&&(v=T.Open),x=T.Close/v*C}else if(5==m){var y=this.Data.Data[D];if(!Ee.IsNonEmptyArray(y))continue;for(var w=0,E=0,S=0;S<y.length;++S){var F=y[S];Ee.IsNumber(F)&&(0!=F&&(F>0?w+=F:F<0&&(E+=F)))}x=(w+E)/2}else x=this.Data.Data[D];if(null!=x&&!(S<f)){if(S=0,i)var L=this.ChartFrame.GetXFromIndex(g);else{var M=l,A=l+a;if(A>s)break;var L=M+(A-M)/2}var O=this.GetYFromData(x,!1);if(L>s)break;this.Canvas.beginPath(),this.Canvas.arc(L,O,d,0,360,!1),this.Canvas.closePath(),this.SelectedBGColor&&this.Canvas.fill(),this.Canvas.stroke()}}this.Canvas.restore()}},this.PtInLine=function(t,e,i){if(this.IsShow&&!this.ChartFrame.IsMinSize){var a=!0===this.ChartFrame.IsHScreen;if(!a){var r=this.IsMinuteFrame(),n=this.ChartFrame.DataWidth,o=this.ChartFrame.DistanceWidth,s=this.ChartFrame.XPointCount;if(a)var l=this.ChartBorder.GetHScreenBorder(),h=l.BottomEx,u=l.TopEx+o/2+lo.FrameLeftMargin;else var l=this.ChartBorder.GetBorder(),u=l.LeftEx+o/2+lo.FrameLeftMargin,h=l.RightEx;var c=this.GetLockRect();if(c&&(h=a?c.Top:c.Left),t<u||t>h)return null;if(e>l.BottomEx||e<l.TopEx)return null;var d={},f={},p=0;i&&(i.KLineClose?p=1:i.MinuteOverlayPrice&&(p=1==i.OverlayType?1:3));for(var m=this.Data.DataOffset,C=0;m<this.Data.Data.length&&C<s;++m,++C,u+=n+o){var v=null;if(1==p){var D=this.Data.Data[m];Ee.IsNumber(D.Close)&&(v=D.Close)}else if(3==p){var g=this.Data.Data[m].Close;if(null==g)continue;var v=g/this.YClose*this.MainYClose}else v=this.Data.Data[m];if(null!=v){if(r)var S=this.ChartFrame.GetXFromIndex(C);else{var x=u,b=u+n;if(b>h)break;var S=x+(b-x)/2}var I=this.GetYFromData(v,!1);if(!(S<t)){if(S==t){d.X=f.X=S,d.Y=f.Y=I;break}f.X=S,f.Y=I;break}if(d.X=S,d.Y=I,t>h)break}}if(!Ee.IsNumber(d.X)||!Ee.IsNumber(d.Y))return null;if(!Ee.IsNumber(f.X)||!Ee.IsNumber(f.Y))return null;if(t==d.X||e==d.Y)return{Identify:this.Identify,Chart:this};if(t==f.X||e==f.Y)return{Identify:this.Identify,Chart:this};return this.Canvas.beginPath(),d.X==f.X?(this.Canvas.moveTo(d.X-5,d.Y),this.Canvas.lineTo(d.X+5,d.Y),this.Canvas.lineTo(f.X+5,f.Y),this.Canvas.lineTo(f.X-5,f.Y)):(this.Canvas.moveTo(d.X,d.Y+5),this.Canvas.lineTo(d.X,d.Y-5),this.Canvas.lineTo(f.X,f.Y-5),this.Canvas.lineTo(f.X,f.Y+5)),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e)?{Identify:this.Identify,Chart:this}:null}}},this.PtInBar=function(t,e,i){if(!this.IsShow||this.ChartFrame.IsMinSize)return null;if(!0===this.ChartFrame.IsHScreen)return null;var a=this.ChartFrame.DataWidth,r=this.ChartFrame.DistanceWidth,n=this.ChartBorder.GetBorder(),o=n.LeftEx+r/2+lo.FrameLeftMargin,s=n.RightEx,l=this.ChartFrame.XPointCount,h=this.GetLockRect();if(h&&(s=h.Left),t<o||t>s)return null;if(e>n.BottomEx||e<n.TopEx)return null;var u=this.IsMinuteFrame(),c=this.ChartFrame.GetYFromData(0),d=null,f=!1,p=!1;i&&(i.BarWidth>0&&(d=i.BarWidth),1==i.MinuteVolBar?(f=!0,d=4):1==i.StackedBar&&(p=!0));for(var m=this.Data.DataOffset,C=0;m<this.Data.Data.length&&C<l;++m,++C,o+=a+r){var v=this.Data.Data[m];if(null!=v){if(u)var D=this.ChartFrame.GetXFromIndex(C),g=D-d/2,S=g+d;else{var g=o,S=o+a;if(S>s)break}if(f){if(!Ee.IsNumber(v.Vol))continue;var x=this.ChartFrame.GetYFromData(v.Vol),b=x,I=c}else if(p){var T=0,y=0;if(!Ee.IsNonEmptyArray(v))continue;for(var w=0;w<v.length;++w){var E=v[w];Ee.IsNumber(E)&&(0!=E&&(E>0?T+=E:E<0&&(y+=E)))}var b=this.ChartFrame.GetYFromData(T),I=this.ChartFrame.GetYFromData(y)}else var x=this.ChartFrame.GetYFromData(v),b=x,I=c;b>I&&(b=c,I=x);var F=g,L=S;if(d>0&&(F=g+(S-g)/2-d/2,L=F+d),t>=F&&t<=L&&e>=b&&e<=I)return{Identify:this.Identify,Chart:this};if(S>t)break}}return null},this.PtInKBar=function(t,e,i){if(!this.IsShow||this.ChartFrame.IsMinSize)return null;var a=!0===this.ChartFrame.IsHScreen;if(a)return null;var r=this.ChartFrame.DataWidth,n=this.ChartFrame.DistanceWidth,o=this.ChartBorder.GetBorder(),s=o.LeftEx+n/2+lo.FrameLeftMargin,l=o.RightEx,h=this.ChartFrame.XPointCount;if(a){var o=this.ChartBorder.GetHScreenBorder();s=o.TopEx+n/2+lo.FrameLeftMargin,l=o.BottomEx}if(t<s||t>l)return null;if(e>o.BottomEx||e<o.TopEx)return null;var u=null,c=0,d=null;i&&i.OverlayKLine&&(c=1,d=this.GetFirstOpen());for(var f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<h;++f,++p,s+=r+n){var m=this.Data.Data[f];if(null!=m.Open&&null!=m.High&&null!=m.Low&&null!=m.Close){null==u&&(u=m.Open);var C=s,v=s+r;if(v>l)break;if(t>=C&&t<=v){if(1==c)var D=this.GetYFromData(m.Low/u*d,!1),g=this.GetYFromData(m.High/u*d,!1);else var D=this.GetYFromData(m.Low,!1),g=this.GetYFromData(m.High,!1);if(e<=D&&e>=g)return{Identify:this.Identify,Chart:this}}if(v>t)break}}},this.IsShowIndexTitleOnly=function(){return!!(this.ChartFrame&&this.ChartFrame.ChartBorder&&this.ChartFrame.ChartBorder.IsShowTitleOnly)},this.IsHideScriptIndex=function(){return!(!this.Script||0!=this.Script.IsShow)},this.ExportArrayData=function(t,e){var i=this.Data.ExportArrayData(t,e);return[{Name:this.Name,Data:i}]},this.ExportBoolData=function(t,e){var i=this.Data.ExportBoolData(t,e);return[{Name:this.Name,Data:i}]},this.GetArrayItemData=function(t){if(!t)return null;if(!Ee.IsNumber(t.Index))return null;if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return null;var e=t.Index;return e<0||e>=this.Data.Data.length?null:[{Value:this.Data.Data[e],Color:this.Color,Name:this.Name}]}}function rt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartKLine",this.Symbol,this.DrawType=0,this.CloseLineColor=lo.CloseLineColor,this.CloseLineAreaColor=lo.CloseLineAreaColor,this.CloseLineWidth=lo.CloseLineWidth,this.UpColor=lo.UpBarColor,this.DownColor=lo.DownBarColor,this.UnchagneColor=lo.UnchagneBarColor,this.ColorData,this.TradeData,this.TradeIcon=lo.KLine.TradeIcon,this.TooltipRect=[],this.InfoTooltipRect=[],this.TradeIconTooltipRect=[],this.IsShowMaxMinPrice=!0,this.IsShowKTooltip=!0,this.TextFont=lo.KLine.MaxMin.Font,this.TextColor=lo.KLine.MaxMin.Color,this.InfoData,this.InfoPosition=0,this.PtMax,this.PtMin,this.TickSymbol="╳",this.TickFontName="arial",this.Period,this.ShowRange={},this.CustomKLine,this.DrawKRange={Start:null,End:null},this.IsThinAKBar=!0,this.HighLowBarColor=lo.HighLowBarColor,this.HLCAreaConfig={HighLineColor:lo.HLCArea.HighLineColor,LowLineColor:lo.HLCArea.LowLineColor,CloseLineColor:lo.HLCArea.CloseLineColor,LineWidth:lo.HLCArea.LineWidth,UpAreaColor:lo.HLCArea.UpAreaColor,DownAreaColor:lo.HLCArea.DownAreaColor},this.VirtualBarConfig={Color:lo.VirtualKLine.Color,LineDash:lo.VirtualKLine.LineDash},this.FFKChart,this.OrderFlow={UpColor:{BG:lo.OrderFlow.UpColor.BG,Border:lo.OrderFlow.UpColor.Border},DownColor:{BG:lo.OrderFlow.DownColor.BG,Border:lo.OrderFlow.DownColor.Border},UnchagneColor:{BG:lo.OrderFlow.UnchagneColor.BG,Border:lo.OrderFlow.UnchagneColor.Border},Text:{Color:lo.OrderFlow.Text.Color,Family:lo.OrderFlow.Text.Family,FontMaxSize:lo.OrderFlow.Text.FontMaxSize,MaxValue:lo.OrderFlow.Text.MaxValue},Line:{UpDownColor:lo.OrderFlow.Line.UpDownColor,MiddleColor:lo.OrderFlow.Line.MiddleColor},POCGBColor:lo.OrderFlow.POCGBColor,ShowType:0,AskBarColor:lo.OrderFlow.AskBarColor,BidBarColor:lo.OrderFlow.BidBarColor,AlwaysShowOrderText:lo.OrderFlow.AlwaysShowOrderText,IsShowAskText:!0,IsShowAskBar:!1,IsShowBidText:!0,IsShowBidBar:!1,IsShowPOCBG:!0},this.OrderFlow_Style2={BarWidth:lo.OrderFlow_Style2.BarWidth,UpColor:lo.OrderFlow_Style2.UpColor,DownColor:lo.OrderFlow_Style2.DownColor,UnchagneColor:lo.OrderFlow_Style2.UnchagneColor},this.OrderFlow_Style3={BarWidth:lo.OrderFlow_Style3.BarWidth,UpColor:lo.OrderFlow_Style3.UpColor,DownColor:lo.OrderFlow_Style3.DownColor,UnchagneColor:lo.OrderFlow_Style3.UnchagneColor},this.OrderFlow_Style4={UpColor:lo.OrderFlow_Style4.UpColor,DownColor:lo.OrderFlow_Style4.DownColor,UnchagneColor:lo.OrderFlow_Style4.UnchagneColor,KBarType:1,VolBarSpace:lo.OrderFlow_Style4.VolBarSpace,KBarWidth:lo.OrderFlow_Style4.KBarWidth,LeftMargin:lo.OrderFlow_Style4.LeftMargin,RightMargin:lo.OrderFlow_Style4.RightMargin},this.IsShowOrderText=!1,this.AryOrderFlowBorder=[],this.ChartHeatMap,this.ReloadResource=function(t){this.TextFont=lo.KLine.MaxMin.Font,this.TextColor=lo.KLine.MaxMin.Color,this.CloseLineColor=lo.CloseLineColor,this.CloseLineAreaColor=lo.CloseLineAreaColor,this.CloseLineWidth=lo.CloseLineWidth,this.UpColor=lo.UpBarColor,this.DownColor=lo.DownBarColor,this.UnchagneColor=lo.UnchagneBarColor,this.HighLowBarColor=lo.HighLowBarColor,this.OrderFlow.UpColor={BG:lo.OrderFlow.UpColor.BG,Border:lo.OrderFlow.UpColor.Border},this.OrderFlow.DownColor={BG:lo.OrderFlow.DownColor.BG,Border:lo.OrderFlow.DownColor.Border},this.OrderFlow.UnchagneColor={BG:lo.OrderFlow.UnchagneColor.BG,Border:lo.OrderFlow.UnchagneColor.Border},this.OrderFlow.Text={Color:lo.OrderFlow.Text.Color,Family:lo.OrderFlow.Text.Family,FontMaxSize:lo.OrderFlow.Text.FontMaxSize,MaxValue:lo.OrderFlow.Text.MaxValue},this.OrderFlow.Line={UpDownColor:lo.OrderFlow.Line.UpDownColor,MiddleColor:lo.OrderFlow.Line.MiddleColor}},this.ClearCustomKLine=function(){this.CustomKLine=null},this.GetCustomKLine=function(t){if(!this.CustomKLine)return null;if(!t)return null;var e=1e6*t.Date;return Ee.IsNumber(t.Time)&&(e+=t.Time),this.CustomKLine.has(e)?this.CustomKLine.get(e):null},this.DrawHeatMap=function(){this.ChartHeatMap&&(this.ChartHeatMap.Canvas=this.Canvas,this.ChartHeatMap.ChartBorder=this.ChartBorder,this.ChartHeatMap.ChartFrame=this.ChartFrame,this.ChartHeatMap.Data=this.Data,this.ChartHeatMap.Draw())},this.ClearHeatMap=function(){this.ChartHeatMap=null},this.CreateHeatMap=function(){this.ChartHeatMap=new ot},this.DrawAKLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount;if(t)var r=this.ChartBorder.GetHScreenBorder(),n=r.TopEx+i/2+lo.FrameLeftMargin,o=r.BottomEx;else var r=this.ChartBorder.GetBorder(),n=r.LeftEx+i/2+lo.FrameLeftMargin,o=r.RightEx;var s=this.UpColor,l=this.DownColor,h=this.UnchagneColor,u={X:null,Y:null,Value:null,Align:"left"},c={X:null,Y:null,Value:null,Align:"left"};this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;var d=null;this.GetEventCallback&&(d=this.GetEventCallback(Rn.ON_CUSTOM_UNCHANGE_KLINE_COLOR));for(var f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<a;++f,++p,n+=e+i,++this.ShowRange.DataCount){var m=this.Data.Data[f];if(this.ShowRange.End=f,null!=m.Open&&null!=m.High&&null!=m.Low&&null!=m.Close){var C=n,D=n+e;if(D>o)break;var g=C+(D-C)/2,S=this.GetYFromData(m.Low,!1),x=this.GetYFromData(m.High,!1),b=this.GetYFromData(m.Open,!1),I=this.GetYFromData(m.Close,!1);if(this.DrawKRange.End=f,(null==u.Value||u.Value<m.High)&&(u.X=g,u.Y=x,u.Value=m.High,u.Align=p<a/2?"left":"right"),(null==c.Value||c.Value>m.Low)&&(c.X=g,c.Y=S,c.Value=m.Low,c.Align=p<a/2?"left":"right"),h=this.UnchagneColor,m.Open<m.Close)this.Canvas.strokeStyle=this.UpColor;else if(m.Open>m.Close)this.Canvas.strokeStyle=this.DownColor;else{if(d&&d.Callback){var T={KItem:m,DataIndex:f,DefaultColor:h,BarColor:null};d.Callback(d,T,this),T.BarColor&&(h=T.BarColor)}this.Canvas.strokeStyle=h}if(this.ColorData&&(s=l=h=f<this.ColorData.length&&this.ColorData[f]>0?this.UpColor:this.DownColor),0==this.IsThinAKBar&&e>=9){var y={YLow:S,YHigh:x,YOpen:b,YClose:I,X:g,Left:C,Right:D},w={UpColor:s,DownColor:l,UnchangeColor:h};this.DrawAKBar(m,e,t,y,w)}else this.Canvas.beginPath(),t?m.High==m.Low&&e<4?(this.Canvas.moveTo(x,v(g)),this.Canvas.lineTo(S-1,v(g))):(this.Canvas.moveTo(x,v(g)),this.Canvas.lineTo(S,v(g))):m.High==m.Low&&e<4?(this.Canvas.moveTo(v(g),x),this.Canvas.lineTo(v(g),S+1)):(this.Canvas.moveTo(v(g),x),this.Canvas.lineTo(v(g),S)),this.Canvas.stroke(),e>=4&&(this.Canvas.beginPath(),t?(this.Canvas.moveTo(v(b),C),this.Canvas.lineTo(v(b),g)):(this.Canvas.moveTo(C,v(b)),this.Canvas.lineTo(g,v(b))),this.Canvas.stroke(),this.Canvas.beginPath(),t?(this.Canvas.moveTo(v(I),D),this.Canvas.lineTo(v(I),g)):(this.Canvas.moveTo(D,v(I)),this.Canvas.lineTo(g,v(I))),this.Canvas.stroke());if(0==this.Data.DataType){var E={Xleft:C,XRight:D,YMax:x,XCenter:g,YMin:S,DayData:m,Index:p};this.DrawInfo(E)}}}this.PtMax=u,this.PtMin=c},this.DrawAKBar=function(t,e,i,a,r){var n=e/3,o=g(a.Left),s=[o,g(o+n),g(o+2*n),g(o+3*n)],l=a.YHigh,h=a.YLow,u=a.YOpen,c=a.YClose;if(t.Open<t.Close?(this.Canvas.strokeStyle=r.UpColor,this.Canvas.fillStyle=r.UpColor):t.Open>t.Close?(this.Canvas.strokeStyle=r.DownColor,this.Canvas.fillStyle=r.DownColor):(this.Canvas.strokeStyle=r.UnchangeColor,this.Canvas.fillStyle=r.UnchangeColor),i)if(t.High==t.Low){var d=l-n/2;this.Canvas.fillRect(d,s[1],n,s[2]-s[1])}else this.Canvas.fillRect(l,s[1],h-l,s[2]-s[1]);else if(t.High==t.Low){var d=l-n/2;this.Canvas.fillRect(s[1],d,s[2]-s[1],n)}else this.Canvas.fillRect(s[1],l,s[2]-s[1],h-l);var d=u-n/2;i?this.Canvas.fillRect(d,s[0],n,s[1]-s[0]):this.Canvas.fillRect(s[0],d,s[1]-s[0],n);var d=c-n/2;i?this.Canvas.fillRect(d,s[2],n,s[3]-s[2]):this.Canvas.fillRect(s[2],d,s[3]-s[2],n)},this.DrawCloseArea=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount;if(t)var r=this.ChartBorder.GetHScreenBorder(),n=r.TopEx+i/2+lo.FrameLeftMargin,o=r.BottomEx,s=r.TopEx;else var r=this.ChartBorder.GetBorder(),n=r.LeftEx+i/2+lo.FrameLeftMargin,o=r.RightEx,s=r.LeftEx;var l=!0,h=null;this.Canvas.beginPath(),this.Canvas.strokeStyle=this.CloseLineColor,Ee.IsNumber(this.CloseLineWidth)&&(this.Canvas.lineWidth=this.CloseLineWidth);var u=null;if(this.Data.DataOffset>0){var c=this.Data.Data[this.Data.DataOffset-1];if(c&&Ee.IsNumber(c.Close)){var d=s,f=this.GetYFromData(c.Close,!1);t?(this.Canvas.moveTo(f,d),h={X:f,Y:d}):(this.Canvas.moveTo(d,f),h={X:d,Y:f}),l=!1}}this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;for(var p=this.Data.DataOffset,m=0;p<this.Data.Data.length&&m<a;++p,++m,n+=e+i,++this.ShowRange.DataCount){var c=this.Data.Data[p];if(this.ShowRange.End=p,null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){var C=n,v=n+e;if(v>o)break;var d=C+(v-C)/2,f=this.GetYFromData(c.Close,!1);this.DrawKRange.End=p,l?(t?(this.Canvas.moveTo(f,d),h={X:f,Y:d}):(this.Canvas.moveTo(d,f),h={X:d,Y:f}),l=!1):t?this.Canvas.lineTo(f,d):this.Canvas.lineTo(d,f),p==this.Data.Data.length-1&&(u={X:d,Y:f,XLeft:C,XRight:v,KItem:c,ChartRight:o})}}if(this.DrawLastPointEvent(u),!l){if(this.Canvas.stroke(),t?(this.Canvas.lineTo(r.Left,d),this.Canvas.lineTo(r.Left,h.Y)):(this.Canvas.lineTo(d,r.Bottom),this.Canvas.lineTo(h.X,r.Bottom)),this.Canvas.closePath(),Array.isArray(this.CloseLineAreaColor))if(t){var D=this.Canvas.createLinearGradient(this.ChartBorder.GetRightEx(),this.ChartBorder.GetTop(),this.ChartBorder.GetLeft(),this.ChartBorder.GetTop());D.addColorStop(0,this.CloseLineAreaColor[0]),D.addColorStop(1,this.CloseLineAreaColor[1]),this.Canvas.fillStyle=D}else{var g=this.Canvas.createLinearGradient(h.X,this.ChartBorder.GetTopEx(),h.X,this.ChartBorder.GetBottom());g.addColorStop(0,this.CloseLineAreaColor[0]),g.addColorStop(1,this.CloseLineAreaColor[1]),this.Canvas.fillStyle=g}else this.Canvas.fillStyle=this.CloseLineAreaColor;this.Canvas.fill()}},this.DrawCloseLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount;if(t)var r=this.ChartBorder.GetHScreenBorder(),n=r.TopEx+i/2+lo.FrameLeftMargin,o=r.BottomEx;else var r=this.ChartBorder.GetBorder(),n=r.LeftEx+i/2+lo.FrameLeftMargin,o=r.RightEx;var s=!0;this.Canvas.beginPath(),this.Canvas.strokeStyle=this.CloseLineColor,Ee.IsNumber(this.CloseLineWidth)&&(this.Canvas.lineWidth=this.CloseLineWidth),this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;for(var l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<a;++l,++h,n+=e+i,++this.ShowRange.DataCount){var u=this.Data.Data[l];if(this.ShowRange.End=l,null!=u.Open&&null!=u.High&&null!=u.Low&&null!=u.Close){var c=n,d=n+e;if(d>o)break;var f=c+(d-c)/2,p=this.GetYFromData(u.Close,!1);this.DrawKRange.End=l,s?(t?this.Canvas.moveTo(p,f):this.Canvas.moveTo(f,p),s=!1):t?this.Canvas.lineTo(p,f):this.Canvas.lineTo(f,p)}}0==s&&this.Canvas.stroke()},this.DrawKBar=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetBorder(),r=a.LeftEx+i/2+lo.FrameLeftMargin,n=a.RightEx,o=this.ChartFrame.XPointCount;if(t){var a=this.ChartBorder.GetHScreenBorder();r=a.TopEx+i/2+lo.FrameLeftMargin,n=a.BottomEx}var s={X:null,Y:null,Value:null,Align:"left"},l={X:null,Y:null,Value:null,Align:"left"},h=this.UpColor,u=this.DownColor,c=this.UnchagneColor;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o;var d=null;this.DrawKRange.Start=this.Data.DataOffset;var f=null;this.GetEventCallback&&(f=this.GetEventCallback(Rn.ON_CUSTOM_UNCHANGE_KLINE_COLOR));for(var p=this.Data.DataOffset,m=0;p<this.Data.Data.length&&m<o;++p,++m,r+=e+i,++this.ShowRange.DataCount){var C=this.Data.Data[p];if(this.ShowRange.End=p,null!=C.Open&&null!=C.High&&null!=C.Low&&null!=C.Close){var v=r,D=r+e;if(D>n)break;var g=v+(D-v)/2,S=this.GetYFromData(C.Low,!1),x=this.GetYFromData(C.High,!1),b=this.GetYFromData(C.Open,!1),I=this.GetYFromData(C.Close,!1),T=x;this.DrawKRange.End=p,(null==s.Value||s.Value<C.High)&&(s.X=g,s.Y=x,s.Value=C.High,s.Align=m<o/2?"left":"right"),(null==l.Value||l.Value>C.Low)&&(l.X=g,l.Y=S,l.Value=C.Low,l.Align=m<o/2?"left":"right"),this.ColorData&&(h=u=c=p<this.ColorData.length&&this.ColorData[p]>0?this.UpColor:this.DownColor);var y=this.GetCustomKLine(C);if(C.IsNonTrade)this.DrawVirtualBar(C,e,g,T,v,D,S,x,b,I,t);else if(y){var w=y.Color;w||(w=C.Open<C.Close?h:C.Open>C.Close?u:c);var E=this.DrawType;Ee.IsNumber(y.DrawType)&&(E=y.DrawType),this.DrawKBar_Custom(C,e,w,E,y,g,T,v,D,S,x,b,I,a,t)}else if(9==this.DrawType&&C.ColorData)this.DrawColorKBar(C,C.ColorData,e,g,T,v,D,S,x,b,I,t);else if(C.Open<C.Close)this.DrawKBar_Up(C,e,h,this.DrawType,g,T,v,D,S,x,b,I,t);else if(C.Open>C.Close)this.DrawKBar_Down(C,e,u,this.DrawType,g,T,v,D,S,x,b,I,t);else{var w=c;if(f&&f.Callback){var F={KItem:C,DataIndex:p,DefaultColor:w,BarColor:null};f.Callback(f,F,this),F.BarColor&&(w=F.BarColor)}this.DrawKBar_Unchagne(C,e,w,this.DrawType,g,T,v,D,S,x,b,I,t)}if(this.IsShowKTooltip&&!t){var L=Math.min(b,I),M=Math.max(b,I);Math.abs(b-I)<5&&(L=Math.min(x,L-5),M=Math.max(S,M+5)),C.IsNonTrade&&(L=x,M=S);var A=new et(v,L,e,M-L);this.TooltipRect.push([p,A])}if(0==this.Data.DataType||1==this.Data.DataType){var O={Xleft:v,XRight:D,XCenter:g,YMax:x,YMin:S,DayData:C,Index:m};this.DrawInfo(O)}p==this.Data.Data.length-1&&(d={X:g,Y:I,XLeft:v,XRight:D,KItem:C,ChartRight:n})}}this.DrawLastPointEvent(d),this.PtMax=s,this.PtMin=l},this.DrawKBar_Up=function(t,e,i,a,r,n,o,s,l,h,u,c,d){var f=3==a||6==a;if(e>=4){if(f&&e%2!=0&&(e-=1),this.Canvas.strokeStyle=i,t.High>t.Close){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(v(n),v(r)),this.Canvas.lineTo(v(3==a?Math.max(c,u):c),v(r));else if(f){var p=o+e/2;this.Canvas.moveTo(v(p),v(n)),this.Canvas.lineTo(v(p),v(Math.min(c,u)))}else this.Canvas.moveTo(v(r),v(n)),this.Canvas.lineTo(v(r),v(c));this.Canvas.stroke(),n=c}else n=c;if(this.Canvas.fillStyle=i,d?Math.abs(u-n)<1?this.Canvas.fillRect(g(n),g(o),1,g(e)):f?(this.Canvas.beginPath(),this.Canvas.rect(v(n),v(o),g(u-n),g(e)),this.Canvas.stroke()):this.Canvas.fillRect(g(n),g(o),g(u-n),g(e)):Math.abs(u-n)<1?this.Canvas.fillRect(g(o),g(n),g(e),1):f?(this.Canvas.beginPath(),this.Canvas.rect(v(o),v(n),g(e),g(u-n)),this.Canvas.stroke()):this.Canvas.fillRect(g(o),g(Math.min(n,u)),g(e),g(Math.abs(u-n))),t.Open>t.Low){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(v(3==a?Math.min(c,u):n),v(r)),this.Canvas.lineTo(v(l),v(r));else if(f){var p=o+e/2;this.Canvas.moveTo(v(p),v(Math.max(c,u))),this.Canvas.lineTo(v(p),v(l))}else this.Canvas.moveTo(v(r),v(n)),this.Canvas.lineTo(v(r),v(l));this.Canvas.stroke()}}else this.Canvas.beginPath(),d?(this.Canvas.moveTo(h,v(r)),this.Canvas.lineTo(l,v(r))):(this.Canvas.moveTo(v(r),h),this.Canvas.lineTo(v(r),l)),this.Canvas.strokeStyle=i,this.Canvas.stroke()},this.DrawKBar_Down=function(t,e,i,a,r,n,o,s,l,h,u,c,d){var f=6==a;if(e>=4){if(f&&e%2!=0&&(e-=1),this.Canvas.strokeStyle=i,t.High>t.Close){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(v(n),v(r)),this.Canvas.lineTo(v(u),v(r));else if(f){var p=o+e/2;this.Canvas.moveTo(v(p),v(n)),this.Canvas.lineTo(v(p),v(Math.min(c,u)))}else this.Canvas.moveTo(v(r),v(n)),this.Canvas.lineTo(v(r),v(u));this.Canvas.stroke(),n=u}else n=u;if(this.Canvas.fillStyle=i,d?Math.abs(c-n)<1?this.Canvas.fillRect(g(n),g(o),1,g(e)):this.Canvas.fillRect(g(n),g(o),g(c-n),g(e)):Math.abs(c-n)<1?this.Canvas.fillRect(g(o),g(n),g(e),1):f?(this.Canvas.beginPath(),this.Canvas.rect(v(o),v(Math.min(n,c)),g(e),g(Math.abs(c-n))),this.Canvas.stroke()):this.Canvas.fillRect(g(o),g(Math.min(n,c)),g(e),g(Math.abs(c-n))),t.Open>t.Low){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(v(n),v(r)),this.Canvas.lineTo(v(l),v(r));else if(f){var p=o+e/2;this.Canvas.moveTo(v(p),v(Math.max(c,u))),this.Canvas.lineTo(v(p),v(l))}else this.Canvas.moveTo(v(r),v(n)),this.Canvas.lineTo(v(r),v(l));this.Canvas.stroke()}}else this.Canvas.beginPath(),d?(this.Canvas.moveTo(h,v(r)),this.Canvas.lineTo(l,v(r))):(this.Canvas.moveTo(v(r),h),this.Canvas.lineTo(v(r),l)),this.Canvas.strokeStyle=i,this.Canvas.stroke()},this.DrawKBar_Unchagne=function(t,e,i,a,r,n,o,s,l,h,u,c,d){if(e>=4){if(e%2!=0&&(e-=1),this.Canvas.strokeStyle=i,this.Canvas.beginPath(),t.High>t.Close){if(d)this.Canvas.moveTo(n,v(r)),this.Canvas.lineTo(u,v(r));else{var f=v(o+e/2);this.Canvas.moveTo(f,n),this.Canvas.lineTo(f,u)}n=u}else n=u;if(d?(this.Canvas.moveTo(v(n),v(o)),this.Canvas.lineTo(v(n),v(s))):(this.Canvas.moveTo(v(o),v(n)),this.Canvas.lineTo(v(o+e),v(n))),t.Open>t.Low)if(d)this.Canvas.moveTo(v(n),v(r)),this.Canvas.lineTo(v(l),v(r));else{var f=v(o+e/2);this.Canvas.moveTo(f,v(n)),this.Canvas.lineTo(f,v(l))}this.Canvas.stroke()}else this.Canvas.beginPath(),d?t.High==t.Low?(this.Canvas.moveTo(h,v(r)),this.Canvas.lineTo(l-1,v(r))):(this.Canvas.moveTo(h,v(r)),this.Canvas.lineTo(l,v(r))):t.High==t.Low?(this.Canvas.moveTo(v(r),h),this.Canvas.lineTo(v(r),l+1)):(this.Canvas.moveTo(v(r),h),this.Canvas.lineTo(v(r),l)),this.Canvas.strokeStyle=i,this.Canvas.stroke()},this.DrawKBar_Custom=function(t,e,i,a,r,n,o,s,l,h,u,c,d,f,p){if(r.BGColor){this.Canvas.fillStyle=r.BGColor;var m=this.ChartFrame.DistanceWidth;if(p){var C=s-m/2,D=l+m/2,S=f.RightEx,x=f.LeftEx;this.Canvas.fillRect(g(x),g(C),g(S-x),g(D-C))}else{var b=s-m/2,I=l+m/2,T=f.TopEx,y=f.BottomEx;this.Canvas.fillRect(g(b),g(T),g(I-b),g(y-T))}}e>=4?(this.Canvas.strokeStyle=i,t.High>t.Close?(this.Canvas.beginPath(),p?(this.Canvas.moveTo(v(o),v(n)),this.Canvas.lineTo(v(3==a?Math.max(d,c):d),v(n))):(this.Canvas.moveTo(v(n),v(o)),this.Canvas.lineTo(v(n),v(3==a?Math.min(d,c):d))),this.Canvas.stroke(),o=d):o=d,this.Canvas.fillStyle=i,p?Math.abs(c-o)<1?this.Canvas.fillRect(g(o),g(s),1,g(e)):3==a?(this.Canvas.beginPath(),this.Canvas.rect(v(o),v(s),g(c-o),g(e)),this.Canvas.stroke()):this.Canvas.fillRect(g(o),g(s),g(c-o),g(e)):Math.abs(c-o)<1?this.Canvas.fillRect(g(s),g(o),g(e),1):3==a?(this.Canvas.beginPath(),this.Canvas.rect(v(s),v(o),g(e),g(c-o)),this.Canvas.stroke()):this.Canvas.fillRect(g(s),g(Math.min(o,c)),g(e),g(Math.abs(c-o))),t.Open>t.Low&&(this.Canvas.beginPath(),p?(this.Canvas.moveTo(v(3==a?Math.min(d,c):o),v(n)),this.Canvas.lineTo(v(h),v(n))):(this.Canvas.moveTo(v(n),v(3==a?Math.max(d,c):o)),this.Canvas.lineTo(v(n),v(h))),this.Canvas.stroke())):(this.Canvas.beginPath(),p?(this.Canvas.moveTo(u,v(n)),this.Canvas.lineTo(h,v(n))):(this.Canvas.moveTo(v(n),u),this.Canvas.lineTo(v(n),h)),this.Canvas.strokeStyle=i,this.Canvas.stroke())},this.DrawColorKBar=function(t,e,i,a,r,n,o,s,l,h,u,c){Math.abs(u-r)<1?this.DrawColorKBar_Line(t,e,i,a,r,n,o,s,l,h,u,c):e.Border||0===e.Type?this.DrawColorKBar_Border(t,e,i,a,r,n,o,s,l,h,u,c):this.DrawColorKBar_NoBorder(t,e,i,a,r,n,o,s,l,h,u,c)},this.DrawColorKBar_Border=function(t,e,i,a,r,n,o,s,l,h,u,c){if(i>=4){i%2!=0&&(i-=1);var d=Math.max(t.Close,t.Open),f=Math.min(t.Close,t.Open);if(c)var p=Math.max(u,h),m=Math.min(u,h);else var p=Math.min(u,h),m=Math.max(u,h);var C=Math.abs(u-h);if(t.High>d&&e.Line){if(this.Canvas.strokeStyle=e.Line.Color,this.Canvas.beginPath(),c)this.Canvas.moveTo(v(l),v(a)),this.Canvas.lineTo(v(p),v(a));else{var D=n+i/2;this.Canvas.moveTo(v(D),v(l)),this.Canvas.lineTo(v(D),v(p))}this.Canvas.stroke()}if(f>t.Low&&e.Line){if(this.Canvas.strokeStyle=e.Line.Color,this.Canvas.beginPath(),c)this.Canvas.moveTo(v(m),v(a)),this.Canvas.lineTo(v(s),v(a));else{var D=n+i/2;this.Canvas.moveTo(v(D),v(m)),this.Canvas.lineTo(v(D),v(s))}this.Canvas.stroke()}if(c){var S=new Path2D;S.rect(v(m),v(n),g(C),g(i))}else{var S=new Path2D;S.rect(v(n),v(p),g(i),g(C))}0==e.Type?(e.BarColor&&(this.Canvas.strokeStyle=e.BarColor,this.Canvas.stroke(S)),e.Border&&(this.Canvas.strokeStyle=e.Border.Color,this.Canvas.stroke(S))):1==e.Type&&(e.BarColor&&(this.Canvas.fillStyle=e.BarColor,this.Canvas.fill(S)),e.Border&&(this.Canvas.strokeStyle=e.Border.Color,this.Canvas.stroke(S)))}else this.DrawColorKBar_MinBar(t,e,i,a,r,n,o,s,l,h,u,c)},this.DrawColorKBar_NoBorder=function(t,e,i,a,r,n,o,s,l,h,u,c){if(i>=4){var d=Math.max(t.Close,t.Open),f=Math.min(t.Close,t.Open);if(c)var p=Math.max(u,h),m=Math.min(u,h);else var p=Math.min(u,h),m=Math.max(u,h);var C=Math.abs(u-h);if(t.High>d&&e.Line){if(this.Canvas.strokeStyle=e.Line.Color,this.Canvas.beginPath(),c)this.Canvas.moveTo(v(l),v(a)),this.Canvas.lineTo(v(p),v(a));else{var D=n+i/2;this.Canvas.moveTo(v(D),v(l)),this.Canvas.lineTo(v(D),v(p))}this.Canvas.stroke()}if(f>t.Low&&e.Line){if(this.Canvas.strokeStyle=e.Line.Color,this.Canvas.beginPath(),c)this.Canvas.moveTo(v(m),v(a)),this.Canvas.lineTo(v(s),v(a));else{var D=n+i/2;this.Canvas.moveTo(v(D),v(m)),this.Canvas.lineTo(v(D),v(s))}this.Canvas.stroke()}if(c){var S=new Path2D;S.rect(g(m),g(n),g(C),g(i))}else{var S=new Path2D;S.rect(g(n),g(p),g(i),g(C))}1==e.Type&&e.BarColor&&(this.Canvas.fillStyle=e.BarColor,this.Canvas.fill(S))}else this.DrawColorKBar_MinBar(t,e,i,a,r,n,o,s,l,h,u,c)},this.DrawColorKBar_MinBar=function(t,e,i,a,r,n,o,s,l,h,u,c){e.Line&&(this.Canvas.strokeStyle=e.Line.Color,this.Canvas.beginPath(),c?(this.Canvas.moveTo(v(l),v(a)),this.Canvas.lineTo(v(s),v(a))):(this.Canvas.moveTo(v(a),v(l)),this.Canvas.lineTo(v(a),v(s))),this.Canvas.stroke())},this.DrawColorKBar_Line=function(t,e,i,a,r,n,o,s,l,h,u,c){if(i>=4){e.Line&&(this.Canvas.strokeStyle=e.Line.Color,this.Canvas.beginPath(),c?(this.Canvas.moveTo(v(l),v(a)),this.Canvas.lineTo(v(s),v(a))):(this.Canvas.moveTo(v(a),v(l)),this.Canvas.lineTo(v(a),v(s))),this.Canvas.stroke());var d;0==e.Type?e.Border?d=e.Border.Color:e.BarColor&&(d=e.BarColor):1==e.Type&&(e.Border?d=e.Border.Color:e.BarColor&&(d=e.BarColor)),d&&(this.Canvas.strokeStyle=d,this.Canvas.beginPath(),c?(this.Canvas.moveTo(v(h),v(n)),this.Canvas.lineTo(v(h),v(o))):(this.Canvas.moveTo(v(n),v(h)),this.Canvas.lineTo(v(o),v(h))),this.Canvas.stroke())}else if(e.Line){this.Canvas.strokeStyle=e.Line.Color,this.Canvas.beginPath(),c?(this.Canvas.moveTo(v(l),v(a)),this.Canvas.lineTo(v(s),v(a))):(this.Canvas.moveTo(v(a),v(l)),this.Canvas.lineTo(v(a),v(s))),this.Canvas.stroke()}},this.DrawVirtualBar=function(t,e,i,a,r,n,o,s,l,h,u){var c=Math.min(s,o),d=Math.max(s,o);this.Canvas.strokeStyle=this.VirtualBarConfig.Color,this.Canvas.setLineDash(this.VirtualBarConfig.LineDash),u?e>=4?this.Canvas.strokeRect(v(c),v(r),g(d-c),g(e)):(this.Canvas.beginPath(),this.Canvas.moveTo(c,v(i)),this.Canvas.lineTo(d,v(i)),this.Canvas.stroke()):e>=4?this.Canvas.strokeRect(v(r),v(c),g(e),g(d-c)):(this.Canvas.beginPath(),this.Canvas.moveTo(v(i),c),this.Canvas.lineTo(v(i),d),this.Canvas.stroke()),this.Canvas.setLineDash([])},this.DrawRenkoCandle=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount;if(t)var r=this.ChartBorder.GetHScreenBorder(),n=r.TopEx+i/2+lo.FrameLeftMargin,o=r.BottomEx;else var r=this.ChartBorder.GetBorder(),n=r.LeftEx+i/2+lo.FrameLeftMargin,o=r.RightEx;var s={X:null,Y:null,Value:null,Align:"left"},l={X:null,Y:null,Value:null,Align:"left"};this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<a;++h,++u,n+=e+i,++this.ShowRange.DataCount){var c=this.Data.Data[h];if(this.ShowRange.End=h,null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){var d=n,f=n+e;if(f>o)break;var p=d+(f-d)/2,m=this.GetYFromData(c.Low,!1),C=this.GetYFromData(c.High,!1);this.DrawKRange.End=h,(null==s.Value||s.Value<c.High)&&(s.X=p,s.Y=C,s.Value=c.High,s.Align=u<a/2?"left":"right"),(null==l.Value||l.Value>c.Low)&&(l.X=p,l.Y=m,l.Value=c.Low,l.Align=u<a/2?"left":"right"),c.YClose<c.Close?(this.Canvas.strokeStyle=this.UpColor,this.Canvas.fillStyle=this.UpColor):c.YClose>c.Close&&(this.Canvas.strokeStyle=this.DownColor,this.Canvas.fillStyle=this.DownColor),e>=4?t?this.Canvas.fillRect(g(m),g(d),g(Math.abs(m-C)),g(e)):this.Canvas.fillRect(g(d),g(C),g(e),g(Math.abs(m-C))):(this.Canvas.beginPath(),t?(this.Canvas.moveTo(C,v(p)),this.Canvas.lineTo(m,v(p))):(this.Canvas.moveTo(v(p),C),this.Canvas.lineTo(v(p),m)),this.Canvas.stroke())}}this.PtMax=s,this.PtMin=l},this.DrawLineBreak=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount,r=i/2;if(t)var n=this.ChartBorder.GetHScreenBorder(),o=n.TopEx+i/2+lo.FrameLeftMargin-r,s=n.BottomEx;else var n=this.ChartBorder.GetBorder(),o=n.LeftEx+i/2+lo.FrameLeftMargin-r,s=n.RightEx;var l={X:null,Y:null,Value:null,Align:"left"},h={X:null,Y:null,Value:null,Align:"left"};this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;for(var u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<a;++u,++c,o+=e+i,++this.ShowRange.DataCount){var d=this.Data.Data[u];if(this.ShowRange.End=u,null!=d.Open&&null!=d.High&&null!=d.Low&&null!=d.Close){var f=o,p=o+e+i;if(p>s)break;var m=f+(p-f)/2,C=this.GetYFromData(d.Low,!1),D=this.GetYFromData(d.High,!1);this.DrawKRange.End=u,(null==l.Value||l.Value<d.High)&&(l.X=m,l.Y=D,l.Value=d.High,l.Align=c<a/2?"left":"right"),(null==h.Value||h.Value>d.Low)&&(h.X=m,h.Y=C,h.Value=d.Low,h.Align=c<a/2?"left":"right"),d.YClose<d.Close?(this.Canvas.strokeStyle=this.UpColor,this.Canvas.fillStyle=this.UpColor):d.YClose>d.Close&&(this.Canvas.strokeStyle=this.DownColor,this.Canvas.fillStyle=this.DownColor),e>=4?t?this.Canvas.fillRect(g(C),g(f),g(Math.abs(C-D)),g(e+i)):this.Canvas.fillRect(g(f),g(D),g(e+i),g(Math.abs(C-D))):(this.Canvas.beginPath(),t?(this.Canvas.moveTo(D,v(m)),this.Canvas.lineTo(C,v(m))):(this.Canvas.moveTo(v(m),D),this.Canvas.lineTo(v(m),C)),this.Canvas.stroke())}}this.PtMax=l,this.PtMin=h},this.DrawTrade=function(){if(this.TradeData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+i/2+2,r=this.ChartBorder.GetRight(),n=this.ChartFrame.XPointCount;t&&(a=this.ChartBorder.GetTop()+i/2+2,r=this.ChartBorder.GetBottom());var o=this.TradeData.Sell,s=this.TradeData.Buy,l=e;l>10&&(l=10);for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<n;++h,++u,a+=e+i){var c=this.Data.Data[h];if(null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){var d=!1,f=!1;if(o&&h<o.length&&(f=o[h]>0),s&&h<s.length&&(d=s[h]>0),f||d){var p=a,m=a+e;if(m>r)break;var C=p+(m-p)/2,v=this.GetYFromData(c.Low,!1),D=this.GetYFromData(c.High,!1);this.GetYFromData(c.Open,!1),this.GetYFromData(c.Close,!1);d&&(this.Canvas.fillStyle=this.UpColor,this.Canvas.strokeStyle=this.UnchagneColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(v-1,C),this.Canvas.lineTo(v-l-1,C-l/2),this.Canvas.lineTo(v-l-1,C+l/2)):(this.Canvas.moveTo(C,v+1),this.Canvas.lineTo(C-l/2,v+l+1),this.Canvas.lineTo(C+l/2,v+l+1)),this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke()),f&&(this.Canvas.fillStyle=this.DownColor,this.Canvas.strokeStyle=this.UnchagneColor,this.Canvas.beginPath(),t?(this.Canvas.moveTo(D+1,C),this.Canvas.lineTo(D+l+1,C-l/2),this.Canvas.lineTo(D+l+1,C+l/2)):(this.Canvas.moveTo(C,D-1),this.Canvas.lineTo(C-l/2,D-l-1),this.Canvas.lineTo(C+l/2,D-l-1)),this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke())}}}}},this.DrawTick=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+i/2+2;t&&(a=this.ChartBorder.GetTop()+i/2+2);var r=this.ChartBorder.GetRight();t&&(r=this.ChartBorder.GetBottom());var n=this.ChartFrame.XPointCount,o=parseInt(e);o<=1?o=2:o>=18&&(o=18);var s=c(),l=o*s;this.Canvas.beginPath(),this.Canvas.font=o*s+"px "+this.TickFontName,this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=n,this.DrawKRange.Start=this.Data.DataOffset;for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<n;++h,++u,a+=e+i){var d=this.Data.Data[h];if(this.ShowRange.End=h,null!=d.Open&&null!=d.High&&null!=d.Low&&null!=d.Close){var f=a,p=a+e;if(p>r)break;var m=f+(p-f)/2,C=this.ChartFrame.GetYFromData(d.Close,!1);if(this.DrawKRange.End=h,0===d.Flag?this.Canvas.fillStyle=this.UpColor:1==d.Flag?this.Canvas.fillStyle=this.DownColor:this.Canvas.fillStyle=this.UnchagneColor,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",t?this.Canvas.fillText(this.TickSymbol,C,m):this.Canvas.fillText(this.TickSymbol,m,C),this.IsShowKTooltip&&!t){var v=new et(m-l/2,C-l/2,l,l);this.TooltipRect.push([h,v])}}}},this.DrawHLCArea=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount;if(t)var r=this.ChartBorder.GetHScreenBorder(),n=r.TopEx+i/2+lo.FrameLeftMargin,o=r.BottomEx,s=r.TopEx;else var r=this.ChartBorder.GetBorder(),n=r.LeftEx+i/2+lo.FrameLeftMargin,o=r.RightEx,s=r.LeftEx;var l=new Path2D,h=new Path2D,u=new Path2D,c=new Path2D,d=new Path2D,f=[],p=[],m=[],C=!0;if(this.Data.DataOffset>0){var v=this.Data.Data[this.Data.DataOffset-1];if(v&&Ee.IsNumber(v.Close)&&Ee.IsNumber(v.High)&&Ee.IsNumber(v.Low)){var D=s,g=this.GetYFromData(v.Close,!1),S=this.GetYFromData(v.High,!1),x=this.GetYFromData(v.Low,!1);t?(u.moveTo(g,D),h.moveTo(S,D),l.moveTo(x,D),c.moveTo(S,D),d.moveTo(x,D),m.push({X:g,Y:D}),f.push({X:S,Y:D}),p.push({X:x,Y:D})):(u.moveTo(D,g),h.moveTo(D,S),l.moveTo(D,x),c.moveTo(D,S),d.moveTo(D,x),m.push({X:D,Y:g}),f.push({X:D,Y:S}),p.push({X:D,Y:x})),C=!1}}this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset;for(var b=this.Data.DataOffset,I=0;b<this.Data.Data.length&&I<a;++b,++I,n+=e+i,++this.ShowRange.DataCount){var v=this.Data.Data[b];if(this.ShowRange.End=b,v&&Ee.IsNumber(v.Close)&&Ee.IsNumber(v.High)&&Ee.IsNumber(v.Low)){var T=n,y=n+e;if(y>o)break;var D=T+(y-T)/2,g=this.GetYFromData(v.Close,!1),S=this.GetYFromData(v.High,!1),x=this.GetYFromData(v.Low,!1);this.DrawKRange.End=b,C?(t?(u.moveTo(g,D),h.moveTo(S,D),l.moveTo(x,D),c.moveTo(S,D),d.moveTo(x,D)):(u.moveTo(D,g),h.moveTo(D,S),l.moveTo(D,x),c.moveTo(D,S),d.moveTo(D,x)),C=!1):t?(u.lineTo(g,D),h.lineTo(S,D),l.lineTo(x,D),c.lineTo(S,D),d.lineTo(x,D)):(u.lineTo(D,g),h.lineTo(D,S),l.lineTo(D,x),c.lineTo(D,S),d.lineTo(D,x)),t?(m.push({X:g,Y:D}),f.push({X:S,Y:D}),p.push({X:x,Y:D})):(m.push({X:D,Y:g}),f.push({X:D,Y:S}),p.push({X:D,Y:x}))}}if(!C){for(var b=m.length-1;b>=0;--b){var w=m[b];c.lineTo(w.X,w.Y),d.lineTo(w.X,w.Y)}c.closePath(),d.closePath(),this.Canvas.fillStyle=this.HLCAreaConfig.UpAreaColor,this.Canvas.fill(c),this.Canvas.fillStyle=this.HLCAreaConfig.DownAreaColor,this.Canvas.fill(d),Ee.IsNumber(this.HLCAreaConfig.LineWidth)&&(this.Canvas.lineWidth=this.HLCAreaConfig.LineWidth),this.Canvas.strokeStyle=this.HLCAreaConfig.CloseLineColor,this.Canvas.stroke(u),this.Canvas.strokeStyle=this.HLCAreaConfig.HighLineColor,this.Canvas.stroke(h),this.Canvas.strokeStyle=this.HLCAreaConfig.LowLineColor,this.Canvas.stroke(l)}},this.ClipTickClient=function(t){var e=this.GetBorder();if(1==t)var i=this.ChartBorder.GetLeftEx(),a=this.ChartBorder.GetRightEx(),r=this.ChartBorder.GetTop(),n=this.ChartBorder.GetBottom();else var i=e.Left,a=e.Right,r=e.TopTitle,n=e.Bottom;this.Canvas.beginPath(),this.Canvas.rect(i,r,a-i,n-r),this.Canvas.clip()},this.ClipWindow=function(t){if(1==t)var e=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRightEx(),a=this.ChartBorder.GetTop(),r=this.ChartBorder.GetBottom();else var e=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight(),a=this.ChartBorder.GetTopEx(),r=this.ChartBorder.GetBottom();this.Canvas.beginPath(),this.Canvas.rect(e,a,i-e,r-a),this.Canvas.clip()},this.ClipClient=function(t){if(1==t)var e=this.ChartBorder.GetLeftEx(),i=this.ChartBorder.GetRightEx(),a=this.ChartBorder.GetTop(),r=this.ChartBorder.GetBottom();else{var e=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight(),a=this.ChartBorder.GetTopEx(),r=this.ChartBorder.GetBottomEx();this.ChartBorder.BottomSpace>0&&(r+=1)}this.Canvas.beginPath(),this.Canvas.rect(e,a,i-e,r-a),this.Canvas.clip()},this.Draw=function(){if(this.IsShowOrderText=!1,this.TooltipRect=[],this.InfoTooltipRect=[],this.TradeIconTooltipRect=[],this.PtMax={X:null,Y:null,Value:null,Align:"left"},this.PtMin={X:null,Y:null,Value:null,Align:"left"},this.DrawKRange={Start:null,End:null},this.ChartFrame.ChartKLine={Max:null,Min:null},this.DrawHeatMap(),this.IsShow&&(!this.ChartFrame.IsMinSize||"Self Kline"!=this.Name)){if(Q.IsTickPeriod(this.Period))return this.Canvas.save(),1==this.DrawType?(this.ClipClient(this.ChartFrame.IsHScreen),this.DrawCloseLine()):4==this.DrawType?(this.ClipClient(this.ChartFrame.IsHScreen),this.DrawCloseArea()):(this.ClipTickClient(this.ChartFrame.IsHScreen),this.DrawTick()),void this.Canvas.restore();if(this.Canvas.save(),this.ClipClient(this.ChartFrame.IsHScreen),1==this.DrawType)return this.DrawCloseLine(),void this.Canvas.restore();2==this.DrawType?this.DrawAKLine():4==this.DrawType?this.DrawCloseArea():5==this.DrawType?this.DrawOrderFlow():7==this.DrawType?this.DrawOrderFlow_Style2():8==this.DrawType?this.DrawOrderFlow_Style3():9==this.DrawType?this.DrawKBar():10==this.DrawType?this.DrawRenkoCandle():12==this.DrawType?this.DrawLineBreak():13==this.DrawType?this.DrawHighLow():14==this.DrawType?this.FFKChart&&this.FFKChart.Draw&&this.FFKChart.Draw(this):15==this.DrawType?this.DrawHLCArea():17==this.DrawType?this.DrawOrderFlow_Style4():this.DrawKBar(),this.TradeIcon?this.DrawTradeIcon():this.DrawTrade(),this.Canvas.restore(),this.IsShowMaxMinPrice&&(!0===this.ChartFrame.IsHScreen?this.HScreenDrawMaxMinPrice(this.PtMax,this.PtMin):this.DrawMaxMinPrice(this.PtMax,this.PtMin))}},this.DrawMaxMinPrice=function(t,e){if(null!=t.X&&null!=t.Y&&null!=t.Value&&null!=e.X&&null!=e.Y&&null!=e.Value){var i=lo.KLine.MaxMin.LeftArrow,a=lo.KLine.MaxMin.RightArrow,r=lo.KLine.MaxMin.HighYOffset,n=lo.KLine.MaxMin.LowYOffset,o=pr(this.Symbol);this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor;var s=this.ChartBorder.GetTopEx(),l=this.ChartBorder.GetBottomEx(),h=t;1==this.ChartFrame.CoordinateType?(t.Y<e.Y&&(h=e),this.Canvas.textBaseline="top"):(t.Y>e.Y&&(h=e),this.Canvas.textBaseline="bottom"),this.Canvas.textAlign=h.Align;var u=(h.Align,h.X);Ee.IsNumber(r)&&(h.Y+=r);var c=h.Value.toFixed(o);"left"==h.Align?c=i+c:c+=a,h.Y>s-2&&(this.Canvas.fillText(c,u,h.Y),this.ChartFrame.ChartKLine.Max={X:u,Y:h.Y,Text:{BaseLine:"bottom"}});var d=e;1==this.ChartFrame.CoordinateType?(e.Y>t.Y&&(d=t),this.Canvas.textBaseline="bottom"):(t.Y>e.Y&&(h=e),this.Canvas.textBaseline="top"),this.Canvas.textAlign=d.Align;var u=(d.Align,d.X);Ee.IsNumber(n)&&(d.Y+=n);var c=e.Value.toFixed(o);"left"==d.Align?c=i+c:c+=a,d.Y<l+1&&(this.Canvas.fillText(c,u,d.Y),this.ChartFrame.ChartKLine.Min={X:u,Y:d.Y,Text:{BaseLine:"top"}})}},this.HScreenDrawMaxMinPrice=function(t,e){if(null!=t.X&&null!=t.Y&&null!=t.Value&&null!=e.X&&null!=e.Y&&null!=e.Value){var i=lo.KLine.MaxMin.LeftArrow,a=lo.KLine.MaxMin.RightArrow,r=lo.KLine.MaxMin.HighYOffset,n=lo.KLine.MaxMin.LowYOffset,o=pr(this.Symbol),s=t.Y,l=t.X;Ee.IsNumber(r)&&(s+=r),this.Canvas.save(),this.Canvas.translate(s,l),this.Canvas.rotate(90*Math.PI/180),this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign=t.Align,this.Canvas.textBaseline="bottom";var h=t.Value.toFixed(o);"left"==t.Align?h=i+h:h+=a,this.Canvas.fillText(h,0,0),this.Canvas.restore();var s=e.Y,l=e.X;Ee.IsNumber(n)&&(s+=n),this.Canvas.save(),this.Canvas.translate(s,l),this.Canvas.rotate(90*Math.PI/180),this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign=e.Align,this.Canvas.textBaseline="top";var h=e.Value.toFixed(o);"left"==e.Align?h=i+h:h+=a,this.Canvas.fillText(h,0,0),this.Canvas.restore()}},this.DrawInfo=function(t){if(this.InfoData&&!(this.InfoData.size<=0)){var e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetBottom(),n=this.ChartBorder.GetTop(),o=""+t.DayData.Date;if(1==this.Data.DataType&&(o=t.DayData.Date+"-"+t.DayData.Time),this.InfoData.has(o)){var s=this.InfoData.get(o);if(s&&!(s.Data.length<=0)){this.Canvas.restore(),this.Canvas.save(),this.ClipWindow(e);var l=c(),h=i+a,u=18*l,d=!0;h<=15&&(d=!1),h<u&&(h=u);var f="",p=new Mn.default,m=t.YMax+1*l,C=t.YMin+1*l+h,v=!0,D=0;for(var g in s.Data){var S=s.Data[g],x=p.get(S.InfoType);if(x)x.Data.push(S);else{var b=Oa.GetIconFont(S.InfoType);if(this.Canvas.fillStyle=b.Color,this.Canvas.font=h+"px "+b.Family,e){this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.fillText(b.HScreenText,m,t.XCenter,h);var I=new et(t.XCenter-h/2,m-h,h,h),T={Data:new Array(S),Rect:I,Type:S.InfoType,TextRect:{X:m,Y:t.XCenter}};p.set(S.InfoType,T),m+=h}else if(this.Canvas.textBaseline="bottom",this.Canvas.textAlign="center",1===this.InfoPosition){var y=r+D;this.Canvas.fillText(b.Text,t.XCenter,y,h);var I=new et(t.XCenter-h/2,y-h,h,h),T={Data:new Array(S),Rect:I,Type:S.InfoType,TextRect:{X:t.XCenter,Y:y}};p.set(S.InfoType,T),D-=h}else if(v){this.Canvas.fillText(b.Text,t.XCenter,m,h);var I=new et(t.XCenter-h/2,m-h,h,h),T={Data:new Array(S),Rect:I,Type:S.InfoType,TextRect:{X:t.XCenter,Y:m}};p.set(S.InfoType,T),m-=h,m-h<n&&(v=!1)}else{this.Canvas.fillText(b.Text,t.XCenter,C,h);var I=new et(t.XCenter-h/2,C-h,h,h),T={Data:new Array(S),Rect:I,Type:S.InfoType,TextRect:{X:t.XCenter,Y:C}};p.set(S.InfoType,T),C+=h}}}var w;lo.KLine.NumIcon&&(w=e?lo.KLine.NumIcon.HScreenText:lo.KLine.NumIcon.Text);var E=!0,F=!1,L=void 0;try{for(var M,A=(0,Fn.default)(p);!(E=(M=A.next()).done);E=!0){var t=M.value,O=t[1];if(O.Data.length>=2&&w&&d){var N=O.Data.length;N>=w.length&&(N=0),this.Canvas.fillStyle=lo.KLine.NumIcon.Color;var f=w[N];this.Canvas.fillText(f,O.TextRect.X,O.TextRect.Y,h)}e||this.InfoTooltipRect.push(O)}}catch(t){F=!0,L=t}finally{try{!E&&A.return&&A.return()}finally{if(F)throw L}}this.Canvas.restore(),this.Canvas.save(),this.ClipClient(e)}}}},this.DrawTradeIcon=function(){if(this.TradeData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+i/2+2,r=this.ChartBorder.GetRight(),n=this.ChartFrame.XPointCount;t&&(a=this.ChartBorder.GetTop()+i/2+2,r=this.ChartBorder.GetBottom());var o=this.TradeData.Sell,s=this.TradeData.Buy,l=e+i,h=c(),u=24*h,d=12*h;l<d?l=d:l>u&&(l=u),this.Canvas.font=l+"px "+this.TradeIcon.Family;for(var f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<n;++f,++p,a+=e+i){var m=this.Data.Data[f];if(null!=m.Open&&null!=m.High&&null!=m.Low&&null!=m.Close){var C=!1,v=!1;if(o&&f<o.length&&(v=o[f]>0),s&&f<s.length&&(C=s[f]>0),v||C){var D=a,g=a+e;if(g>r)break;var S=D+(g-D)/2,x=this.GetYFromData(m.Low,!1),b=this.GetYFromData(m.High,!1);this.GetYFromData(m.Open,!1),this.GetYFromData(m.Close,!1);if(C)if(this.Canvas.fillStyle=this.TradeIcon.Buy.Color,t)this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.TradeIcon.Buy.HScreenText,x,S);else{this.Canvas.textAlign="center",this.Canvas.textBaseline="top",this.Canvas.fillText(this.TradeIcon.Buy.Text,S,x);var I=new et(S-l/2,x,l,l),T={Data:{Type:1,KData:m,Name:this.TradeData.Name,Param:this.TradeData.Param},Rect:I,TextRect:{X:S,Y:x}};this.TradeIconTooltipRect.push(T)}if(v)if(this.Canvas.fillStyle=this.TradeIcon.Sell.Color,t)this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.TradeIcon.Sell.HScreenText,b,S);else{this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.Canvas.fillText(this.TradeIcon.Sell.Text,S,b);var I=new et(S-l/2,b-l,l,l),T={Data:{Type:2,KData:m,Name:this.TradeData.Name,Param:this.TradeData.Param},Rect:I,TextRect:{X:S,Y:b}};this.TradeIconTooltipRect.push(T)}}}}}},this.GetTooltipData=function(t,e,i){if(!this.IsShow)return!1;for(var a in this.TradeIconTooltipRect){var r=this.TradeIconTooltipRect[a];if(r.Rect){var n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return Nn.Chart.Log("[ChartKLine::GetTooltipData] trade icon ",r),i.Data=r,i.ChartPaint=this,i.Type=2,!0}}for(var a in this.InfoTooltipRect){var r=this.InfoTooltipRect[a];if(r.Rect){var n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return i.Data=r,i.ChartPaint=this,i.Type=1,!0}}for(var a in this.TooltipRect){var n=this.TooltipRect[a][1];if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e)){var o=this.TooltipRect[a][0];return i.Data=this.Data.Data[o],i.ChartPaint=this,i.Type=0,!0}}return!1},this.GetMaxMin=function(){if(14==this.DrawType&&this.FFKChart&&this.FFKChart.GetMaxMin)return this.FFKChart.GetMaxMin(this);var t=this.ChartFrame.XPointCount,e={};if(e.Max=null,e.Min=null,1==this.DrawType||4==this.DrawType)for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];Ee.IsNumber(r.Close)&&(null==e.Max&&(e.Max=r.Close),null==e.Min&&(e.Min=r.Close),e.Max<r.Close&&(e.Max=r.Close),e.Min>r.Close&&(e.Min=r.Close))}else for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];if(null!=r.Open&&null!=r.High&&null!=r.Low&&null!=r.Close)if(5==this.DrawType&&r.OrderFlow&&Ee.IsNumber(r.OrderFlow.PriceOffset)){var n=r.High,o=r.Low;if(Ee.IsNonEmptyArray(r.OrderFlow.High))for(var s=0;s<r.OrderFlow.High.length;++s){var l=r.OrderFlow.High[s];n<l.Price&&(n=l.Price)}if(Ee.IsNonEmptyArray(r.OrderFlow.Low))for(var s=0;s<r.OrderFlow.Low.length;++s){var l=r.OrderFlow.Low[s];o>l.Price&&(o=l.Price)}n+=r.OrderFlow.PriceOffset,o-=r.OrderFlow.PriceOffset,null==e.Max&&(e.Max=n),null==e.Min&&(e.Min=o),e.Max<n&&(e.Max=n),e.Min>o&&(e.Min=o)}else null==e.Max&&(e.Max=r.High),null==e.Min&&(e.Min=r.Low),e.Max<r.High&&(e.Max=r.High),e.Min>r.Low&&(e.Min=r.Low)}return e},this.GetAllPrice=function(){for(var t=this.ChartFrame.XPointCount,e=new Tn.default,i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];if(null!=r.Open&&null!=r.High&&null!=r.Low&&null!=r.Close){var n=r.Close;e.add(n)}}var o=[],s=!0,l=!1,h=void 0;try{for(var u,c=(0,Fn.default)(e);!(s=(u=c.next()).done);s=!0){var d=u.value;o.push(d)}}catch(t){l=!0,h=t}finally{try{!s&&c.return&&c.return()}finally{if(l)throw h}}return o.sort(function(t,e){return t-e}),o},this.DrawLastPointEvent=function(t){if(this.GetEventCallback){var e=this.GetEventCallback(Rn.ON_DRAW_KLINE_LAST_POINT);if(e){var i={Data:this.ChartFrame.DataWidth,Distance:this.ChartFrame.DistanceWidth};if(t)var a={LastPoint:{X:t.X,Y:t.Y,XLeft:t.XLeft,XRight:t.XRight},KItem:t.KItem,DrawType:this.DrawType,KWidth:i,ChartRight:t.ChartRight};else var a={LastPoint:null,KItem:null,KWidth:i};e.Callback(e,a,this)}}},this.DrawOrderFlow=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetBorder(),r=a.LeftEx+i/2+lo.FrameLeftMargin,n=a.RightEx,o=this.ChartFrame.XPointCount;if(t){var a=this.ChartBorder.GetHScreenBorder();r=a.TopEx+i/2+lo.FrameLeftMargin,n=a.BottomEx}this.UpColor,this.DownColor,this.UnchagneColor;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.DrawKRange.Start=this.Data.DataOffset;this.DrawOrderFlowHBar();for(var s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<o;++s,++l,r+=e+i,++this.ShowRange.DataCount){var h=this.Data.Data[s];if(this.ShowRange.End=s,null!=h.Open&&null!=h.High&&null!=h.Low&&null!=h.Close){var u=r,c=r+e;if(c>n)break;var d=u+(c-u)/2,f=this.GetYFromData(h.Low,!1),p=this.GetYFromData(h.High,!1),m=this.GetYFromData(h.Open,!1),C=this.GetYFromData(h.Close,!1);this.DrawKRange.End=s;var v={Low:f,High:p,Open:m,Close:C},D={Left:u,Center:d,Right:c,DataWidth:e};if(this.DrawOrderFlowBar(h.OrderFlow,h,D,v,t),this.IsShowKTooltip&&!t){var g=Math.min(m,C),S=Math.max(m,C);Math.abs(m-C)<5&&(g=Math.min(p,g-5),S=Math.max(f,S+5));var x=new et(u,g,e,S-g);this.TooltipRect.push([s,x])}if(0==this.Data.DataType){var b={Xleft:u,XRight:c,XCenter:d,YMax:p,YMin:f,DayData:h,Index:l};this.DrawInfo(b)}s==this.Data.Data.length-1&&{X:d,Y:C,XLeft:u,XRight:c,KItem:h,ChartRight:n}}}},this.DrawOrderFlowBar=function(t,e,i,a,r){var n=Math.min(a.Open,a.Close),o=Math.max(a.Open,a.Close),s=Math.abs(a.Open-a.Close),l=0;t&&Ee.IsNumber(t.PriceOffset)&&(l=this.GetPriceYOffset(t.PriceOffset));var h=this.GetDynamicOrderFlowFont(l,i.DataWidth/2);this.IsShowOrderText=l>5&&i.DataWidth>10,this.OrderFlow.AlwaysShowOrderText&&(this.IsShowOrderText=!0);var u;u=e.Open<e.Close?this.OrderFlow.UpColor:e.Open>e.Close?this.OrderFlow.DownColor:this.OrderFlow.UnchagneColor;var c=i.DataWidth<4;c?(this.Canvas.strokeStyle=u.Border,this.Canvas.beginPath(),this.Canvas.moveTo(v(i.Center),n-l/2),this.Canvas.lineTo(v(i.Center),o+l/2),this.Canvas.stroke()):(this.Canvas.fillStyle=u.BG,this.Canvas.fillRect(g(i.Left),g(n-l/2),g(i.DataWidth),g(s+l))),this.Canvas.textBaseline="middle",this.Canvas.textAlign="center",this.Canvas.font=h;var d=i.DataWidth/2,f=d/2;if(t&&Ee.IsNonEmptyArray(t.Order)){var p=0,m=0,C=null;if(this.OrderFlow.IsShowAskBar||this.OrderFlow.IsShowBidBar||this.OrderFlow.IsShowPOCBG)for(var D=0,S=0,x=0;x<t.Order.length;++x){var b=t.Order[x];S=0,b.Ask&&Ee.IsNumber(b.Ask.Value)&&(p+=b.Ask.Value,S+=b.Ask.Value),b.Bid&&Ee.IsNumber(b.Bid.Value)&&(m+=b.Bid.Value,S+=b.Bid.Value),D<S&&(D=S,C=x)}for(var x=0;x<t.Order.length;++x){var b=t.Order[x],I=this.GetYFromData(b.Price,!1),T={Left:i.Left,Right:i.Center,Bottom:I+l/2,Top:I-l/2};if(T.Width=T.Right-T.Left,T.Height=T.Bottom-T.Top,b.Ask.BG&&(this.Canvas.fillStyle=b.Ask.BG,this.Canvas.fillRect(g(T.Left),g(T.Top),g(T.Width),g(T.Height))),this.OrderFlow.IsShowPOCBG&&C==x&&(this.Canvas.fillStyle=this.OrderFlow.POCGBColor,this.Canvas.fillRect(g(T.Left),g(T.Top),g(T.Width),g(T.Height))),this.OrderFlow.IsShowAskBar&&Ee.IsNumber(b.Ask.Value)&&p>0){var y=T.Width*(b.Ask.Value/p);y<1&&(y=1),this.Canvas.fillStyle=this.OrderFlow.AskBarColor,this.Canvas.fillRect(g(T.Right),g(T.Top),g(-y),g(T.Height))}var w=null;if(Ee.IsString(b.Ask.Text)?w=b.Ask.Text:Ee.IsNumber(b.Ask.Value)&&(w=b.Ask.Value.toString()),w&&this.IsShowOrderText&&this.OrderFlow.IsShowAskText)if(b.Ask.Color?this.Canvas.fillStyle=b.Ask.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color,b.Ask.Font){var E=this.GetDynamicOrderFlowFont(l,i.DataWidth/2,b.Ask.Font);this.Canvas.font=E,this.Canvas.fillText(w,i.Left+f,I),this.Canvas.font=h}else this.Canvas.fillText(w,i.Left+f,I);var T={Left:i.Center,Right:i.Right,Bottom:I+l/2,Top:I-l/2};if(T.Width=T.Right-T.Left,T.Height=T.Bottom-T.Top,b.Bid.BG&&(this.Canvas.fillStyle=b.Bid.BG,this.Canvas.fillRect(g(T.Left),g(T.Top),g(T.Width),g(T.Height))),this.OrderFlow.IsShowPOCBG&&C==x&&(this.Canvas.fillStyle=this.OrderFlow.POCGBColor,this.Canvas.fillRect(g(T.Left),g(T.Top),g(T.Width),g(T.Height))),this.OrderFlow.IsShowBidBar&&Ee.IsNumber(b.Bid.Value)&&m>0){var y=T.Width*(b.Bid.Value/m);y<1&&(y=1),this.Canvas.fillStyle=this.OrderFlow.BidBarColor,this.Canvas.fillRect(g(T.Left),g(T.Top),g(y),g(T.Height))}var w=null;if(Ee.IsString(b.Bid.Text)?w=b.Bid.Text:Ee.IsNumber(b.Bid.Value)&&(w=b.Bid.Value.toString()),w&&this.IsShowOrderText&&this.OrderFlow.IsShowBidText)if(b.Bid.Color?this.Canvas.fillStyle=b.Bid.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color,b.Bid.Font){var E=this.GetDynamicOrderFlowFont(l,i.DataWidth/2,b.Bid.Font);this.Canvas.font=E,this.Canvas.fillText(w,i.Center+f,I),this.Canvas.font=h}else this.Canvas.fillText(w,i.Center+f,I)}}(a.High<n||a.Low>o)&&(this.Canvas.strokeStyle=this.OrderFlow.Line.UpDownColor,a.High<n&&(this.Canvas.beginPath(),this.Canvas.moveTo(v(i.Center),a.High-l/2),this.Canvas.lineTo(v(i.Center),n-l/2),this.Canvas.stroke()),a.Low>o&&(this.Canvas.beginPath(),this.Canvas.moveTo(v(i.Center),a.Low+l/2),this.Canvas.lineTo(v(i.Center),o+l/2),this.Canvas.stroke())),!c&&Math.abs(a.Open-a.Close)>1&&(this.Canvas.strokeStyle=this.OrderFlow.Line.MiddleColor,this.Canvas.beginPath(),this.Canvas.moveTo(v(i.Center),n-l/2),this.Canvas.lineTo(v(i.Center),o+l/2),this.Canvas.stroke()),c||(this.Canvas.beginPath(),this.Canvas.strokeStyle=u.Border,this.Canvas.rect(v(i.Left),v(n-l/2),g(i.DataWidth),g(s+l)),this.Canvas.stroke());var h=this.GetDynamicOrderFlowFont(l,i.DataWidth);if(t&&Ee.IsNonEmptyArray(t.High)&&this.IsShowOrderText)for(var x=0;x<t.High.length;++x){var w,b=t.High[x];if(Ee.IsString(b.Text)?w=b.Text:Ee.IsNumber(b.Value)&&(w=b.Value.toString()),w){b.Color?this.Canvas.fillStyle=b.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color;var I=this.GetYFromData(b.Price,!1);if(b.Font){var E=this.GetDynamicOrderFlowFont(l,i.DataWidth,b.Font);this.Canvas.font=E,this.Canvas.fillText(w,i.Center,I),this.Canvas.font=h}else this.Canvas.fillText(w,i.Center,I)}}if(t&&Ee.IsNonEmptyArray(t.Low)&&this.IsShowOrderText)for(var x=0;x<t.Low.length;++x){var w,b=t.Low[x];if(Ee.IsString(b.Text)?w=b.Text:Ee.IsNumber(b.Value)&&(w=b.Value.toString()),w){b.Color?this.Canvas.fillStyle=b.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color;var I=this.GetYFromData(b.Price,!1);if(b.Font){var E=this.GetDynamicOrderFlowFont(l,i.DataWidth,b.Font);this.Canvas.font=E,this.Canvas.fillText(w,i.Center,I),this.Canvas.font=h}else this.Canvas.fillText(w,i.Center,I)}}},this.GetPriceYOffset=function(t){var e=this.ChartFrame;return e.ChartBorder.GetHeightEx()*t/(e.HorizontalMax-e.HorizontalMin)},this.GetDynamicOrderFlowFont=function(t,e,i){var a=parseInt(t)-2;t<5&&(a=parseInt(t)),a>this.OrderFlow.Text.FontMaxSize?a=this.OrderFlow.Text.FontMaxSize:a<=0&&(a=1);for(var r=this.FormatFontString(a,this.OrderFlow.Text.Family,i),n=a;n>0;n-=2){var r=this.FormatFontString(n,this.OrderFlow.Text.Family,i);this.Canvas.font=r;if(this.Canvas.measureText(this.OrderFlow.Text.MaxValue).width+2<e)break}return r},this.FormatFontString=function(t,e,i){var a;return i?i.Weight&&(a=i.Weight+" "+t+"px "+e):a=t+"px "+e,a},this.DrawOrderFlowHBar=function(){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartFrame.HorizontalMax,r=this.ChartFrame.HorizontalMin,n=this.Data.DataOffset,o=this.Data.DataOffset+i,s=0;s<this.Data.Data.length;++s){var l=this.Data.Data[s];if(l&&l.OrderFlow&&Ee.IsNonEmptyArray(l.OrderFlow.Order))for(var h=0;h<l.OrderFlow.Order.length;++h){var u=l.OrderFlow.Order[h];if(u.HBar&&(Ee.IsNumber(u.HBar.Width)&&Ee.IsNumber(u.Price)&&!(u.Price>a||u.Price<r))){var c=Math.ceil(s+u.HBar.Width),d=Math.min(s,c),f=Math.max(s,c);f<n||d>o||this.DrawOrderFlowHBarItem(s,l.OrderFlow,u,t,e)}}}},this.DrawOrderFlowHBarItem=function(t,e,i,a,r){var n=this.ShowRange.Start,o=(this.ShowRange.Start,this.ShowRange.ShowCount,this.GetYFromData(i.Price,!1)),s=parseInt(t+i.HBar.Width),l=t-n,h=s-n;if(l<0&&(l=0),h<0&&(h=0),l<=h){var u=(this.ChartBorder.GetRight(),this.ChartFrame.XPointCount,n),c=this.GetPriceYOffset(e.PriceOffset),d=this.ChartFrame.GetXFromIndex(l)-a/2;if(1==i.HBar.Type)for(var f=0,p=t+1;f<i.HBar.Width&&p<this.Data.Data.length;++f,++p){var m=this.Data.Data[p];if(m.Close<i.Price){h=p-1-u;break}}else if(2==i.HBar.Type)for(var f=0,p=t+1;f<i.HBar.Width&&p<this.Data.Data.length;++f,++p){var m=this.Data.Data[p];if(m.Close>i.Price){h=p-1-u;break}}if(h<0)return;var C=this.ChartFrame.GetXFromIndex(h)+a/2,v=o-c/2,D=c+.5;Ee.IsNumber(i.HBar.Height)&&(D=i.HBar.Height*c+.1);var S=i.HBar.Width-parseInt(i.HBar.Width);S>1e-6&&(C+=(a+r)*S),this.Canvas.fillStyle=i.HBar.Color,this.Canvas.fillRect(g(d),g(v),g(C-d),g(D))}},this.PtInChart=function(t,e){return 1==this.DrawType||4==this.DrawType?this.PtInLine(t,e,{KLineClose:!0}):this.PtInKBar(t,e)},this.DrawSelectedStatus=function(){this.DrawLinePoint({KLineClose:!0})},this.DrawOrderFlow_Style2=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetBorder(),r=a.LeftEx+i/2+lo.FrameLeftMargin,n=a.RightEx,o=this.ChartFrame.XPointCount;if(this.AryOrderFlowBorder=[],t){var a=this.ChartBorder.GetHScreenBorder();r=a.TopEx+i/2+lo.FrameLeftMargin,n=a.BottomEx}var s=this.OrderFlow_Style2.UpColor,l=this.OrderFlow_Style2.DownColor,h=this.OrderFlow_Style2.UnchagneColor,u=g(this.OrderFlow_Style2.BarWidth),c=e-u;c/7<u&&(u=c/7),u<=1&&(u=2),this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.DrawKRange.Start=this.Data.DataOffset,this.DrawOrderFlowHBar();for(var d=this.Data.DataOffset,f=0;d<this.Data.Data.length&&f<o;++d,++f,r+=e+i,++this.ShowRange.DataCount){var p=this.Data.Data[d];if(this.ShowRange.End=d,null!=p.Open&&null!=p.High&&null!=p.Low&&null!=p.Close){var m=r,C=r+e;if(C>n)break;var D=m+(C-m)/2,S=this.GetYFromData(p.Low,!1),x=this.GetYFromData(p.High,!1),b=this.GetYFromData(p.Open,!1),I=this.GetYFromData(p.Close,!1);this.DrawKRange.End=d;var T=Math.min(b,I),y=Math.max(b,I),w=g(m),E=w+u;p.Open<p.Close?this.Canvas.fillStyle=s:p.Open>p.Close?this.Canvas.fillStyle=l:this.Canvas.fillStyle=h;var F=0;p.OrderFlow&&Ee.IsNumber(p.OrderFlow.PriceOffset)&&(F=this.GetPriceYOffset(p.OrderFlow.PriceOffset)),this.Canvas.fillRect(w,g(T-F/2),u,g(y-T+F));var L={Low:S,High:x,Open:b,Close:I},M={Left:E,Center:D,Right:C,DataWidth:C-E};M.Center=M.Left+M.DataWidth/2,this.DrawOrderFlowBar_Style2(p.OrderFlow,p,M,L,t)}}if(e-u>5)for(var d=0;d<this.AryOrderFlowBorder.length;++d){var A=this.AryOrderFlowBorder[d];if(A&&A.Rect&&A.Color){var O=A.Rect;this.Canvas.strokeStyle=A.Color,this.Canvas.beginPath(),this.Canvas.rect(v(O.Left),v(O.Top),g(O.Width),g(O.Height)),this.Canvas.stroke()}}this.AryOrderFlowBorder=[]},this.DrawOrderFlow_Style3=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetBorder(),r=a.LeftEx+i/2+lo.FrameLeftMargin,n=a.RightEx,o=this.ChartFrame.XPointCount;if(this.AryOrderFlowBorder=[],t){var a=this.ChartBorder.GetHScreenBorder();r=a.TopEx+i/2+lo.FrameLeftMargin,n=a.BottomEx}var s=this.OrderFlow_Style3.UpColor,l=this.OrderFlow_Style3.DownColor,h=this.OrderFlow_Style3.UnchagneColor,u=g(this.OrderFlow_Style3.BarWidth);e/4<u&&(u=e/4),u<=1&&(u=2),this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.DrawKRange.Start=this.Data.DataOffset,this.DrawOrderFlowHBar();for(var c=this.Data.DataOffset,d=0;c<this.Data.Data.length&&d<o;++c,++d,r+=e+i,++this.ShowRange.DataCount){var f=this.Data.Data[c];if(this.ShowRange.End=c,null!=f.Open&&null!=f.High&&null!=f.Low&&null!=f.Close){var p=r,m=r+e;if(m>n)break;var C=this.GetYFromData(f.Low,!1),D=this.GetYFromData(f.High,!1),S=this.GetYFromData(f.Open,!1),x=this.GetYFromData(f.Close,!1);this.DrawKRange.End=c;var b=Math.min(S,x),I=Math.max(S,x),T=g(p),y=T+u;f.Open<f.Close?this.Canvas.fillStyle=s:f.Open>f.Close?this.Canvas.fillStyle=l:this.Canvas.fillStyle=h;var w=0;f.OrderFlow&&Ee.IsNumber(f.OrderFlow.PriceOffset)&&(w=this.GetPriceYOffset(f.OrderFlow.PriceOffset)),this.Canvas.fillRect(T,g(b-w/2),u,g(I-b+w));var E={Low:C,High:D,Open:S,Close:x},F={Left:y,Right:m,DataWidth:m-y};this.DrawOrderFlowBar_Style3(f.OrderFlow,f,F,E,t)}}if(e-u>5)for(var c=0;c<this.AryOrderFlowBorder.length;++c){var L=this.AryOrderFlowBorder[c];if(L&&L.Rect&&L.Color){var M=L.Rect;this.Canvas.strokeStyle=L.Color,this.Canvas.beginPath(),this.Canvas.rect(v(M.Left),v(M.Top),g(M.Width),g(M.Height)),this.Canvas.stroke()}}this.AryOrderFlowBorder=[]},this.DrawOrderFlowBar_Style2=function(t,e,i,a,r){var n=(Math.min(a.Open,a.Close),Math.max(a.Open,a.Close),Math.abs(a.Open-a.Close),0);t&&Ee.IsNumber(t.PriceOffset)&&(n=this.GetPriceYOffset(t.PriceOffset));var o=this.GetDynamicOrderFlowFont(n,i.DataWidth/2);this.IsShowOrderText=n>5&&i.DataWidth>10,this.OrderFlow.AlwaysShowOrderText&&(this.IsShowOrderText=!0),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.font=o;i.DataWidth;if(t&&Ee.IsNonEmptyArray(t.Order))for(var s=0;s<t.Order.length;++s){var l=t.Order[s],h=this.GetYFromData(l.Price,!1),u={Left:i.Left,Right:i.Center,Bottom:h+n/2,Top:h-n/2};if(u.Width=u.Right-u.Left,u.Height=u.Bottom-u.Top,l.Ask.BG&&(this.Canvas.fillStyle=l.Ask.BG,this.Canvas.fillRect(g(u.Left),g(u.Top),g(u.Width),g(u.Height))),l.Ask.BorderColor){var c={Rect:u,Color:l.Ask.BorderColor};this.AryOrderFlowBorder.push(c)}var d=null;if(Ee.IsString(l.Ask.Text)?d=l.Ask.Text:Ee.IsNumber(l.Ask.Value)&&(d=l.Ask.Value.toString()),d&&this.IsShowOrderText)if(l.Ask.Color?this.Canvas.fillStyle=l.Ask.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color,l.Ask.Font){var f=this.GetDynamicOrderFlowFont(n,i.DataWidth/2,l.Ask.Font);this.Canvas.font=f,this.Canvas.fillText(d,i.Left+2,h),this.Canvas.font=o}else this.Canvas.fillText(d,i.Left+2,h);var u={Left:i.Center,Right:i.Right,Bottom:h+n/2,Top:h-n/2};if(u.Width=u.Right-u.Left,u.Height=u.Bottom-u.Top,l.Bid.BG&&(this.Canvas.fillStyle=l.Bid.BG,this.Canvas.fillRect(g(u.Left),g(u.Top),g(u.Width),g(u.Height))),l.Bid.BorderColor){var c={Rect:u,Color:l.Bid.BorderColor};this.AryOrderFlowBorder.push(c)}var d=null;if(Ee.IsString(l.Bid.Text)?d=l.Bid.Text:Ee.IsNumber(l.Bid.Value)&&(d=l.Bid.Value.toString()),d&&this.IsShowOrderText)if(l.Bid.Color?this.Canvas.fillStyle=l.Bid.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color,l.Bid.Font){var f=this.GetDynamicOrderFlowFont(n,i.DataWidth/2,l.Bid.Font);this.Canvas.font=f,this.Canvas.fillText(d,i.Center+2,h),this.Canvas.font=o}else this.Canvas.fillText(d,i.Center+2,h)}},this.DrawOrderFlowBar_Style3=function(t,e,i,a,r){var n=(Math.min(a.Open,a.Close),Math.max(a.Open,a.Close),Math.abs(a.Open-a.Close),i.DataWidth-4),o=0;t&&Ee.IsNumber(t.PriceOffset)&&(o=this.GetPriceYOffset(t.PriceOffset));var s=this.GetDynamicOrderFlowFont(o,n);this.IsShowOrderText=o>5&&i.DataWidth>10,this.OrderFlow.AlwaysShowOrderText&&(this.IsShowOrderText=!0),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.font=s;if(t&&Ee.IsNonEmptyArray(t.Order))for(var l=0;l<t.Order.length;++l){var h=t.Order[l],u=this.GetYFromData(h.Price,!1),c={Left:i.Left,Right:i.Right,Bottom:u+o/2,Top:u-o/2};if(c.Width=c.Right-c.Left,c.Height=c.Bottom-c.Top,h.Item.BG&&(this.Canvas.fillStyle=h.Item.BG,this.Canvas.fillRect(g(c.Left),g(c.Top),g(c.Width),g(c.Height))),h.Item.BorderColor){var d={Rect:c,Color:h.Item.BorderColor};this.AryOrderFlowBorder.push(d)}var f=null;if(Ee.IsString(h.Item.Text)?f=h.Item.Text:Ee.IsNumber(h.Item.Value)&&(f=h.Item.Value.toString()),f&&this.IsShowOrderText)if(h.Item.Color?this.Canvas.fillStyle=h.Item.Color:this.Canvas.fillStyle=this.OrderFlow.Text.Color,h.Item.Font){var p=this.GetDynamicOrderFlowFont(o,n,h.Item.Font);this.Canvas.font=p,this.Canvas.fillText(f,i.Left+2,u),this.Canvas.font=s}else this.Canvas.fillText(f,i.Left+2,u)}},this.DrawOrderFlow_Style4=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetBorder(),r=a.LeftEx+i/2+lo.FrameLeftMargin,n=a.RightEx,o=this.ChartFrame.XPointCount;if(this.AryOrderFlowBorder=[],t){var a=this.ChartBorder.GetHScreenBorder();r=a.TopEx+i/2+lo.FrameLeftMargin,n=a.BottomEx}var s=this.OrderFlow_Style4.UpColor,l=this.OrderFlow_Style4.DownColor,h=this.OrderFlow_Style4.UnchagneColor;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.DrawKRange.Start=this.Data.DataOffset,this.DrawOrderFlowHBar();var u=this.OrderFlow_Style4.KBarWidth;e+i<3*u&&(u=1);for(var c=this.Data.DataOffset,d=0;c<this.Data.Data.length&&d<o;++c,++d,r+=e+i,++this.ShowRange.DataCount){var f=this.Data.Data[c];if(this.ShowRange.End=c,null!=f.Open&&null!=f.High&&null!=f.Low&&null!=f.Close){var p=r,m=r+e;if(m>n)break;var C=p+(m-p)/2,v=this.GetYFromData(f.Low,!1),D=this.GetYFromData(f.High,!1),S=this.GetYFromData(f.Open,!1),x=this.GetYFromData(f.Close,!1);this.DrawKRange.End=c;var b=p+this.OrderFlow_Style4.LeftMargin,I=m+i-this.OrderFlow_Style4.RightMargin;if(1==this.OrderFlow_Style4.KBarType){var T=Math.min(S,x),y=Math.max(S,x),w=g(p)+this.OrderFlow_Style4.LeftMargin,E=b+u;f.Open<f.Close?this.Canvas.fillStyle=s:f.Open>f.Close?this.Canvas.fillStyle=l:this.Canvas.fillStyle=h;var F=0;f.OrderFlow&&Ee.IsNumber(f.OrderFlow.PriceOffset)&&(F=this.GetPriceYOffset(f.OrderFlow.PriceOffset)),this.Canvas.fillRect(w,g(T-F/2),u,g(y-T+F)),b=E+1}var L={Low:v,High:D,Open:S,Close:x},M={Left:b,Center:C,Right:I,DataWidth:I-b};M.Center=M.Left+M.DataWidth/2,this.DrawOrderFlowBar_Style4(f.OrderFlow,f,M,L,t)}}},this.DrawOrderFlowBar_Style4=function(t,e,i,a,r){var n=(Math.min(a.Open,a.Close),Math.max(a.Open,a.Close),Math.abs(a.Open-a.Close),0);t&&Ee.IsNumber(t.PriceOffset)&&(n=this.GetPriceYOffset(t.PriceOffset));var o=this.GetDynamicOrderFlowFont(n,i.DataWidth/2);this.IsShowOrderText=n>5&&i.DataWidth>10,this.OrderFlow.AlwaysShowOrderText&&(this.IsShowOrderText=!0),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.font=o;var s=this.OrderFlow_Style4.VolBarSpace;if(n<=4&&(s=0),t&&Ee.IsNonEmptyArray(t.Order)){if(t.Summary||(t.Summary={}),!t.Summary.VolMaxMin){for(var l={Max:null,Min:null},h=0;h<t.Order.length;++h){var u=t.Order.length[h];(null==l.Max||l.Max<u.Vol.Value)&&(l.Max=u.Vol.Value),(null==l.Min||l.Min>u.Vol.Value)&&(l.Min=u.Vol.Value)}t.Summary.VolMaxMin=l}for(var c=null,d=t.Summary.VolMaxMin.Max,f=t.Summary.VolMaxMin.Min,h=0;h<t.Order.length;++h){var u=t.Order[h],p=this.GetYFromData(u.Price,!1);if(u.Vol&&Ee.IsNumber(u.Vol.Value)){var m=i.Right-i.Left,C=m*(u.Vol.Value-f)/(d-f),D={Left:i.Left,Right:i.Right,Bottom:p+n/2,Top:p-n/2};D.Right=D.Left+C,c&&u.Price>c.Price&&(D.Bottom=c.Rect.Top-s),D.Width=D.Right-D.Left,D.Height=D.Bottom-D.Top;var S={Left:g(D.Left),Top:g(D.Top),Width:g(D.Width),Height:g(D.Height)};if(S.Bottom=S.Top+S.Height,S.Right=S.Left+S.Width,S.Width<1&&(S.Width=1),u.Vol.BG&&(this.Canvas.fillStyle=u.Vol.BG,this.Canvas.fillRect(S.Left,S.Top,S.Width,S.Height)),u.Vol.BorderColor&&(this.Canvas.strokeStyle=u.Vol.BorderColor,this.Canvas.strokeRect(v(S.Left),v(S.Top),S.Width,S.Height)),u.Vol.Text&&this.IsShowOrderText)if(this.Canvas.fillStyle=u.Vol.Color,u.Vol.Font){var x=this.GetDynamicOrderFlowFont(n,m/2,u.Vol.Font);this.Canvas.font=x,this.Canvas.fillText(text,i.Center+textXOffset,p),this.Canvas.font=o}else this.Canvas.fillText(u.Vol.Text,S.Left+2,p);c={Price:u.Price,Rect:S}}}}},this.DrawHighLow=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount;if(t)var r=this.ChartBorder.GetHScreenBorder(),n=r.TopEx+i/2+lo.FrameLeftMargin,o=r.BottomEx;else var r=this.ChartBorder.GetBorder(),n=r.LeftEx+i/2+lo.FrameLeftMargin,o=r.RightEx;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=a,this.DrawKRange.Start=this.Data.DataOffset,this.Canvas.fillStyle=this.HighLowBarColor,this.Canvas.strokeStyle=this.HighLowBarColor;for(var s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<a;++s,++l,n+=e+i,++this.ShowRange.DataCount){var h=this.Data.Data[s];if(this.ShowRange.End=s,null!=h.Open&&null!=h.High){var u=n,c=n+e;if(c>o)break;var d=u+(c-u)/2,f=this.GetYFromData(h.Low,!1),p=this.GetYFromData(h.High,!1);this.DrawKRange.End=s;var m=f,C=p-f;if(Math.abs(C)<1&&(C=1),e>=4)t?this.Canvas.fillRect(g(m),g(u),g(C),g(e)):this.Canvas.fillRect(g(u),g(m),g(e),g(C));else{var d=u+(c-u)/2;this.Canvas.beginPath(),t?(this.Canvas.moveTo(v(f),v(d)),this.Canvas.lineTo(v(p),v(d))):(this.Canvas.moveTo(v(d),v(f)),this.Canvas.lineTo(v(d),v(p))),this.Canvas.stroke()}if(this.IsShowKTooltip&&!t){var D=Math.min(f,p),S=Math.max(f,p);Math.abs(D-S)<5&&(D=Math.min(p,D-5),S=Math.max(f,S+5));var x=new et(u,D,e,S-D);this.TooltipRect.push([s,x])}}}}}function nt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartColorKline",this.Symbol,this.Color="rgb(0,255,44)",this.IsEmptyBar=!1,this.DrawType=0,this.KLineColor,this.DrawName,this.Draw=function(){if(this.IsShow)if("DRAWCOLORKLINE"==this.DrawName)this.DrawColorBar();else{if(!this.KLineColor)return;this.DrawBar()}},this.DrawUpBarItem=function(t,e,i,a){var r=!0===this.ChartFrame.IsHScreen,n=e,o=e+i,s=n+(o-n)/2,l=this.ChartFrame.GetYFromData(t.Low),h=this.ChartFrame.GetYFromData(t.High),u=this.ChartFrame.GetYFromData(t.Open),c=this.ChartFrame.GetYFromData(t.Close),d=h;i>=4?(t.High>t.Close?(this.Canvas.beginPath(),r?(this.Canvas.moveTo(v(d),v(s)),this.Canvas.lineTo(v(3==this.DrawType?Math.max(c,u):c),v(s))):(this.Canvas.moveTo(v(s),v(d)),this.Canvas.lineTo(v(s),v(3==this.DrawType?Math.min(c,u):c))),this.Canvas.stroke(),d=c):d=c,r?Math.abs(u-d)<1?this.Canvas.fillRect(g(d),g(n),1,g(i)):3==this.DrawType?(this.Canvas.beginPath(),this.Canvas.rect(v(d),v(n),g(u-d),g(i)),this.Canvas.stroke()):this.Canvas.fillRect(g(d),g(n),g(u-d),g(i)):Math.abs(u-d)<1?this.Canvas.fillRect(g(n),g(d),g(i),1):3==this.DrawType?(this.Canvas.beginPath(),this.Canvas.rect(v(n),v(d),g(i),g(u-d)),this.Canvas.stroke()):this.Canvas.fillRect(g(n),g(Math.min(d,u)),g(i),g(Math.abs(u-d))),t.Open>t.Low&&(this.Canvas.beginPath(),r?(this.Canvas.moveTo(v(3==this.DrawType?Math.min(c,u):d),v(s)),this.Canvas.lineTo(v(l),v(s))):(this.Canvas.moveTo(v(s),v(3==this.DrawType?Math.max(c,u):d)),this.Canvas.lineTo(v(s),v(l))),this.Canvas.stroke())):(this.Canvas.beginPath(),r?(this.Canvas.moveTo(h,v(s)),this.Canvas.lineTo(l,v(s))):(this.Canvas.moveTo(v(s),h),this.Canvas.lineTo(v(s),l)),this.Canvas.stroke())},this.DrawDownBarItem=function(t,e,i,a){var r=!0===this.ChartFrame.IsHScreen,n=e,o=e+i,s=n+(o-n)/2,l=this.ChartFrame.GetYFromData(t.Low),h=this.ChartFrame.GetYFromData(t.High),u=this.ChartFrame.GetYFromData(t.Open),c=this.ChartFrame.GetYFromData(t.Close),d=h;i>=4?(t.High>t.Close?(this.Canvas.beginPath(),r?(this.Canvas.moveTo(v(d),v(s)),this.Canvas.lineTo(v(u),v(s))):(this.Canvas.moveTo(v(s),v(d)),this.Canvas.lineTo(v(s),v(u))),this.Canvas.stroke(),d=u):d=u,r?Math.abs(c-d)<1?this.Canvas.fillRect(g(d),g(n),1,g(i)):this.Canvas.fillRect(g(d),g(n),g(c-d),g(i)):Math.abs(c-d)<1?this.Canvas.fillRect(g(n),g(d),g(i),1):this.Canvas.fillRect(g(n),g(Math.min(d,c)),g(i),g(Math.abs(c-d))),t.Open>t.Low&&(this.Canvas.beginPath(),r?(this.Canvas.moveTo(v(d),v(s)),this.Canvas.lineTo(v(l),v(s))):(this.Canvas.moveTo(v(s),v(d)),this.Canvas.lineTo(v(s),v(l))),this.Canvas.stroke())):(this.Canvas.beginPath(),r?(this.Canvas.moveTo(h,v(s)),this.Canvas.lineTo(l,v(s))):(this.Canvas.moveTo(v(s),h),this.Canvas.lineTo(v(s),l)),this.Canvas.stroke())},this.DrawUnChangeBarItem=function(t,e,i,a){var r=!0===this.ChartFrame.IsHScreen,n=e,o=e+i,s=n+(o-n)/2,l=this.ChartFrame.GetYFromData(t.Low),h=this.ChartFrame.GetYFromData(t.High),u=this.ChartFrame.GetYFromData(t.Open),c=(this.ChartFrame.GetYFromData(t.Close),h);i>=4?(this.Canvas.beginPath(),t.High>t.Close?(r?(this.Canvas.moveTo(c,v(s)),this.Canvas.lineTo(u,v(s))):(this.Canvas.moveTo(v(s),c),this.Canvas.lineTo(v(s),u)),c=u):c=u,r?(this.Canvas.moveTo(v(c),v(n)),this.Canvas.lineTo(v(c),v(o))):(this.Canvas.moveTo(v(n),v(c)),this.Canvas.lineTo(v(o),v(c))),t.Open>t.Low&&(r?(this.Canvas.moveTo(v(c),v(s)),this.Canvas.lineTo(v(l),v(s))):(this.Canvas.moveTo(v(s),v(c)),this.Canvas.lineTo(v(s),v(l)))),this.Canvas.stroke()):(this.Canvas.beginPath(),r?(this.Canvas.moveTo(h,v(s)),this.Canvas.lineTo(l,v(s))):(this.Canvas.moveTo(v(s),h),this.Canvas.lineTo(v(s),l)),this.Canvas.stroke())},this.DrawBar=function(){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetLeft()+e/2+2,a=this.ChartBorder.GetRight(),r=this.ChartFrame.XPointCount;this.IsHScreen&&(i=this.ChartBorder.GetTop()+e/2+2,a=this.ChartBorder.GetBottom());for(var n=this.Data.DataOffset,o=0;n<this.Data.Data.length&&o<r;++n,++o,i+=t+e){var s=this.Data.Data[n];if(null!=s.Open&&null!=s.High&&null!=s.Low&&null!=s.Close&&this.KLineColor.has(n)){var l=this.KLineColor.get(n);if(i+t>a)break;l.Color?(this.Canvas.strokeStyle=l.Color,this.Canvas.fillStyle=l.Color):(this.Canvas.strokeStyle=this.Color,this.Canvas.fillStyle=this.Color),s.Open<s.Close?this.DrawUpBarItem(s,i,t,l):s.Open>s.Close?this.DrawDownBarItem(s,i,t,l):this.DrawUnChangeBarItem(s,i,t,l)}}},this.DrawColorBar=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetBorder(),r=a.LeftEx+i/2+lo.FrameLeftMargin,n=a.RightEx,o=this.ChartFrame.XPointCount;if(t){var a=this.ChartBorder.GetHScreenBorder();r=a.TopEx+i/2+lo.FrameLeftMargin,n=a.BottomEx}for(var s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<o;++s,++l,r+=e+i){var h=this.Data.Data[s];if(h&&(Ee.IsNumber(h.Open)&&Ee.IsNumber(h.High)&&Ee.IsNumber(h.Low)&&Ee.IsNumber(h.Close))){var u=r,c=r+e;if(c>n)break;var d=u+(c-u)/2,f=this.GetYFromData(h.Low,!1),p=this.GetYFromData(h.High,!1),m=this.GetYFromData(h.Open,!1),C=this.GetYFromData(h.Close,!1),v=p;h.Open==h.Close?this.DrawKBar_Unchagne(h,e,this.Color,this.IsEmptyBar,d,v,u,c,f,p,m,C,t):this.DrawKBar_Custom(h,e,this.Color,this.IsEmptyBar,d,v,u,c,f,p,m,C,t)}}},this.DrawKBar_Unchagne=function(t,e,i,a,r,n,o,s,l,h,u,c,d){if(e>=4){if(e%2!=0&&(e-=1),this.Canvas.strokeStyle=i,this.Canvas.beginPath(),t.High>t.Close){if(d)this.Canvas.moveTo(n,v(r)),this.Canvas.lineTo(u,v(r));else{var f=v(o+e/2);this.Canvas.moveTo(f,n),this.Canvas.lineTo(f,u)}n=u}else n=u;if(d?(this.Canvas.moveTo(v(n),v(o)),this.Canvas.lineTo(v(n),v(s))):(this.Canvas.moveTo(v(o),v(n)),this.Canvas.lineTo(v(o+e),v(n))),t.Open>t.Low)if(d)this.Canvas.moveTo(v(n),v(r)),this.Canvas.lineTo(v(l),v(r));else{var f=v(o+e/2);this.Canvas.moveTo(f,v(n)),this.Canvas.lineTo(f,v(l))}this.Canvas.stroke()}else this.Canvas.beginPath(),d?(this.Canvas.moveTo(h,v(r)),this.Canvas.lineTo(l,v(r))):(this.Canvas.moveTo(v(r),h),this.Canvas.lineTo(v(r),l)),this.Canvas.strokeStyle=i,this.Canvas.stroke()},this.DrawKBar_Custom=function(t,e,i,a,r,n,o,s,l,h,u,c,d){if(a&&e%2!=0&&(e-=1),e>=4){if(this.Canvas.strokeStyle=i,t.High>t.Close){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(v(n),v(r)),this.Canvas.lineTo(v(a?Math.max(c,u):c),v(r));else if(a){var f=o+e/2;this.Canvas.moveTo(v(f),v(n)),this.Canvas.lineTo(v(f),v(Math.min(c,u)))}else this.Canvas.moveTo(v(r),v(n)),this.Canvas.lineTo(v(r),v(c));this.Canvas.stroke(),n=c}else n=c;if(this.Canvas.fillStyle=i,d?Math.abs(u-n)<1?this.Canvas.fillRect(g(n),g(o),1,g(e)):a?(this.Canvas.beginPath(),this.Canvas.rect(v(n),v(o),g(u-n),g(e)),this.Canvas.stroke()):this.Canvas.fillRect(g(n),g(o),g(u-n),g(e)):Math.abs(u-n)<1?this.Canvas.fillRect(g(o),g(n),g(e),1):a?(this.Canvas.beginPath(),this.Canvas.rect(v(o),v(n),g(e),g(u-n)),this.Canvas.stroke()):this.Canvas.fillRect(g(o),g(Math.min(n,u)),g(e),g(Math.abs(u-n))),t.Open>t.Low){if(this.Canvas.beginPath(),d)this.Canvas.moveTo(v(a?Math.min(c,u):n),v(r)),this.Canvas.lineTo(v(l),v(r));else if(a){var f=o+e/2;this.Canvas.moveTo(v(f),v(Math.max(c,u))),this.Canvas.lineTo(v(f),v(l))}else this.Canvas.moveTo(v(r),v(n)),this.Canvas.lineTo(v(r),v(l));this.Canvas.stroke()}}else this.Canvas.beginPath(),d?(this.Canvas.moveTo(h,v(r)),this.Canvas.lineTo(l,v(r))):(this.Canvas.moveTo(v(r),h),this.Canvas.lineTo(v(r),l)),this.Canvas.strokeStyle=i,this.Canvas.stroke()},this.GetMaxMin=function(){var t={Max:null,Min:null};if("DRAWCOLORKLINE"==this.DrawName)for(var e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<e;++i,++a){var r=this.Data.Data[i];r&&(null!=r.Open&&null!=r.High&&null!=r.Low&&null!=r.Close&&(null==t.Max&&(t.Max=r.High),null==t.Min&&(t.Min=r.Low),t.Max<r.High&&(t.Max=r.High),t.Min>r.Low&&(t.Min=r.Low)))}return t}}function ot(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartHeatMap",this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize)for(var t=(this.ChartFrame.IsHScreen,this.ChartFrame.DataWidth),e=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetBorder(),a=i.LeftEx+lo.FrameLeftMargin,r=i.RightEx,n=this.ChartFrame.XPointCount,o=this.Data.DataOffset,s=0;o<this.Data.Data.length&&s<n;++o,++s,a+=t+e){var l=this.Data.Data[o];if(l.HeatMap){var h=a,u=a+t;if(u>r)break;this.DrawHeatMap(h,u+e,l.HeatMap)}}},this.DrawHeatMap=function(t,e,i){if(Ee.IsNonEmptyArray(i.Order)){var a=this.ChartFrame.HorizontalMax,r=this.ChartFrame.HorizontalMin,n=0;Ee.IsNumber(i.PriceOffset)&&(n=this.GetPriceYOffset(i.PriceOffset));for(var o=0;o<i.Order.length;++o){var s=i.Order[o];if(Ee.IsNumber(s.Price)&&(s.Color&&!(s.Price>a||s.Price<r))){var l=this.GetYFromData(s.Price,!1),h={Left:t,Right:e,Bottom:l+n/2,Top:l-n/2};h.Width=h.Right-h.Left,h.Height=h.Bottom-h.Top,this.Canvas.fillStyle=s.Color,this.Canvas.fillRect(h.Left,h.Top,h.Width,h.Height)}}}},this.GetPriceYOffset=function(t){var e=this.ChartFrame;return e.ChartBorder.GetHeightEx()*t/(e.HorizontalMax-e.HorizontalMin)}}function st(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartOverlayKLine",this.Color="rgb(65,105,225)",this.MainData,this.SourceData,this.Title,this.DrawType=0,this.CustomDrawType=null,this.Status=Qn.STATUS_NONE_ID,this.IsDelete=!1,this.CloseLineWidth=lo.CloseLineWidth,this.ShowRange={},this.DrawKRange={Start:null,End:null},this.YInfoType=4,this.SetOption=function(t){t&&(Ee.IsNumber(t.DrawType)&&(this.CustomDrawType=t.DrawType),Ee.IsNumber(t.YInfoType)&&(this.YInfoType=t.YInfoType))},this.DrawKBar=function(t){var e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+a/2+2;e&&(r=this.ChartBorder.GetTop()+a/2+2);var n=this.ChartBorder.GetRight();e&&(n=this.ChartBorder.GetBottom());var o=this.ChartFrame.XPointCount,s=this.DrawType;null!=this.CustomDrawType&&(s=this.CustomDrawType);var l=!0,h=null;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.ShowRange.FirstOpen=t,this.DrawKRange.Start=this.Data.DataOffset;for(var u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<o;++u,++c,r+=i+a,++this.ShowRange.DataCount){var d=this.Data.Data[u];if(d&&null!=d.Open&&null!=d.High&&null!=d.Low&&null!=d.Close){null==h&&(h=d.Open,this.ShowRange.FirstOverlayOpen=d.Open),l&&(this.Canvas.strokeStyle=this.Color,this.Canvas.fillStyle=this.Color,this.Canvas.beginPath(),l=!1);var f=r,p=r+i;if(p>n)break;var m=f+(p-f)/2,C=this.GetYFromData(d.Low/h*t,!1),D=this.GetYFromData(d.High/h*t,!1),S=this.GetYFromData(d.Open/h*t,!1),x=this.GetYFromData(d.Close/h*t,!1),b=D;this.DrawKRange.End=u,d.Open<d.Close?i>=4?(d.High>d.Close?(e?(this.Canvas.moveTo(v(b),v(m)),this.Canvas.lineTo(v(3==this.DrawType?Math.max(x,S):x),v(m))):(this.Canvas.moveTo(v(m),v(b)),this.Canvas.lineTo(v(m),v(3==this.DrawType?Math.min(x,S):x))),b=x):b=x,e?Math.abs(S-b)<1?this.Canvas.fillRect(g(b),g(f),1,g(i)):3==s?this.Canvas.rect(v(b),v(f),g(S-b),g(i)):this.Canvas.fillRect(g(b),g(f),g(S-b),g(i)):Math.abs(S-b)<1?this.Canvas.fillRect(g(f),g(b),g(i),1):3==s?this.Canvas.rect(v(f),v(b),g(i),g(S-b)):this.Canvas.fillRect(g(f),g(b),g(i),g(S-b)),d.Open>d.Low&&(e?(this.Canvas.moveTo(v(3==this.DrawType?Math.min(x,S):b),v(m)),this.Canvas.lineTo(v(C),v(m))):(this.Canvas.moveTo(v(m),v(3==this.DrawType?Math.max(x,S):b)),this.Canvas.lineTo(v(m),v(C))))):e?(this.Canvas.moveTo(D,v(m)),this.Canvas.lineTo(C,v(m))):(this.Canvas.moveTo(v(m),D),this.Canvas.lineTo(v(m),C)):d.Open>d.Close?i>=4?(d.High>d.Close?(e?(this.Canvas.moveTo(v(b),v(m)),this.Canvas.lineTo(v(S),v(m))):(this.Canvas.moveTo(v(m),v(b)),this.Canvas.lineTo(v(m),v(S))),b=S):b=S,e?Math.abs(x-b)<1?this.Canvas.fillRect(g(b),g(f),1,g(i)):this.Canvas.fillRect(g(b),g(f),g(x-b),g(i)):Math.abs(x-b)<1?this.Canvas.fillRect(g(f),g(b),g(i),1):this.Canvas.fillRect(g(f),g(b),g(i),g(x-b)),d.Open>d.Low&&(e?(this.Canvas.moveTo(v(b),v(m)),this.Canvas.lineTo(v(C),v(m))):(this.Canvas.moveTo(v(m),v(b)),this.Canvas.lineTo(v(m),v(C))))):e?(this.Canvas.moveTo(D,v(m)),this.Canvas.lineTo(C,v(m))):(this.Canvas.moveTo(v(m),D),this.Canvas.lineTo(v(m),C)):i>=4?(d.High>d.Close?(e?(this.Canvas.moveTo(b,v(m)),this.Canvas.lineTo(S,v(m))):(this.Canvas.moveTo(v(m),b),this.Canvas.lineTo(v(m),S)),b=S):b=S,e?(this.Canvas.moveTo(v(b),v(f)),this.Canvas.lineTo(v(b),v(p))):(this.Canvas.moveTo(v(f),v(b)),this.Canvas.lineTo(v(p),v(b))),d.Open>d.Low&&(e?(this.Canvas.moveTo(v(b),v(m)),this.Canvas.lineTo(v(C),v(m))):(this.Canvas.moveTo(v(m),v(b)),this.Canvas.lineTo(v(m),v(C))))):e?(this.Canvas.moveTo(D,v(m)),this.Canvas.lineTo(C,v(m))):(this.Canvas.moveTo(v(m),D),this.Canvas.lineTo(v(m),C));var I=Math.min(C,D,S,x),T=Math.max(C,D,S,x),y=new et(f,I,i,T-I);this.TooltipRect.push([u,y])}}0==l&&this.Canvas.stroke()},this.DrawAKLine=function(t){var e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+a/2+2;e&&(r=this.ChartBorder.GetTop()+a/2+2);var n=this.ChartBorder.GetRight();e&&(n=this.ChartBorder.GetBottom());var o=this.ChartFrame.XPointCount,s=null;this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.ShowRange.FirstOpen=t,this.DrawKRange.Start=this.Data.DataOffset,this.Canvas.strokeStyle=this.Color;for(var l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<o;++l,++h,r+=i+a,++this.ShowRange.DataCount){var u=this.Data.Data[l];if(null!=u.Open&&null!=u.High&&null!=u.Low&&null!=u.Close){null==s&&(s=u.Open,this.ShowRange.FirstOverlayOpen=u.Open);var c=r,d=r+i;if(d>n)break;var f=c+(d-c)/2,p=this.GetYFromData(u.Low/s*t,!1),m=this.GetYFromData(u.High/s*t,!1),C=this.GetYFromData(u.Open/s*t,!1),D=this.GetYFromData(u.Close/s*t,!1);this.DrawKRange.End=l,this.Canvas.beginPath(),e?(this.Canvas.moveTo(m,v(f)),this.Canvas.lineTo(p,v(f))):(this.Canvas.moveTo(v(f),m),this.Canvas.lineTo(v(f),p)),this.Canvas.stroke(),i>=4&&(this.Canvas.beginPath(),e?(this.Canvas.moveTo(v(C),c),this.Canvas.lineTo(v(C),f)):(this.Canvas.moveTo(c,v(C)),this.Canvas.lineTo(f,v(C))),this.Canvas.stroke(),this.Canvas.beginPath(),e?(this.Canvas.moveTo(v(D),d),this.Canvas.lineTo(v(D),f)):(this.Canvas.moveTo(d,v(D)),this.Canvas.lineTo(f,v(D))),this.Canvas.stroke())}}},this.DrawCloseLine=function(t){var e=!0===this.ChartFrame.IsHScreen,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+a/2+2;e&&(r=this.ChartBorder.GetTop()+a/2+2);var n=this.ChartBorder.GetRight();e&&(n=this.ChartBorder.GetBottom());var o=this.ChartFrame.XPointCount,s=null,l=!0;this.Canvas.strokeStyle=this.Color,Ee.IsNumber(this.CloseLineWidth)&&(this.Canvas.lineWidth=this.CloseLineWidth),this.ShowRange.Start=this.Data.DataOffset,this.ShowRange.End=this.ShowRange.Start,this.ShowRange.DataCount=0,this.ShowRange.ShowCount=o,this.ShowRange.FirstOpen=t,this.DrawKRange.Start=this.Data.DataOffset,this.Canvas.beginPath();for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<o;++h,++u,r+=i+a,++this.ShowRange.DataCount){var c=this.Data.Data[h];if(null!=c.Open&&null!=c.High&&null!=c.Low&&null!=c.Close){null==s&&(s=c.Open,this.ShowRange.FirstOverlayOpen=c.Open);var d=r,f=r+i;if(f>n)break;var p=d+(f-d)/2,m=this.GetYFromData(c.Close/s*t,!1);this.DrawKRange.End=h,l?(e?this.Canvas.moveTo(m,p):this.Canvas.moveTo(p,m),l=!1):e?this.Canvas.lineTo(m,p):this.Canvas.lineTo(p,m)}}0==l&&this.Canvas.stroke()},this.GetFirstOpen=function(){if(!this.MainData||!this.Data)return null;for(var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=0;e<this.MainData.Data.length&&i<t;++e,++i){var a=this.MainData.Data[e];if(null!=a.Open&&null!=a.High&&null!=a.Low&&null!=a.Close)return a.Open}return null},this.Draw=function(){if(this.TooltipRect=[],this.InfoTooltipRect=[],this.DrawKRange={Start:null,End:null},this.MainData&&this.Data){var t=(this.ChartFrame.XPointCount,this.GetFirstOpen());if(null!=t){var e=this.DrawType;null!=this.CustomDrawType&&(e=this.CustomDrawType),this.Canvas.save(),this.ClipClient(this.ChartFrame.IsHScreen),1==e?this.DrawCloseLine(t):2==e?this.DrawAKLine(t):this.DrawKBar(t),this.Canvas.restore()}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(e.Max=null,e.Min=null,!this.MainData||!this.Data)return e;for(var i=null,a=this.Data.DataOffset,r=0;a<this.MainData.Data.length&&r<t;++a,++r){var n=this.MainData.Data[a];if(null!=n.Open&&null!=n.High&&null!=n.Low&&null!=n.Close){i=n.Close;break}}if(null==i)return e;for(var o,s,l=null,a=this.Data.DataOffset,r=0;a<this.Data.Data.length&&r<t;++a,++r){var n=this.Data.Data[a];n&&null!=n.Open&&null!=n.High&&null!=n.Low&&null!=n.Close&&(null==l&&(l=n.Open),o=n.High/l*i,s=n.Low/l*i,null==e.Max&&(e.Max=o),null==e.Min&&(e.Min=s),e.Max<o&&(e.Max=o),e.Min>s&&(e.Min=s))}return e},this.GetTooltipData=function(t,e,i){for(var a in this.TooltipRect){var r=this.TooltipRect[a][1];if(this.Canvas.beginPath(),this.Canvas.rect(r.X,r.Y,r.Width,r.Height),this.Canvas.isPointInPath(t,e)){var n=this.TooltipRect[a][0];return i.Data=this.Data.Data[n],i.ChartPaint=this,!0}}return!1},this.PtInChart=function(t,e){var i=this.DrawType;return Ee.IsNumber(this.CustomDrawType)&&(i=this.CustomDrawType),1==i||4==i?null:this.PtInKBar(t,e,{OverlayKLine:!0})},this.DrawSelectedStatus=function(){this.DrawLinePoint({OverlayKLine:!0})}}function lt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartKlineTable",this.Data,this.RowName,this.IsShowRowName=!1,this.BGColor,this.RowCount=5,this.RowHeight=10,this.TextFontConfig=S(lo.ChartKLineTable.TextFont),this.ItemMergin=S(lo.ChartKLineTable.ItemMergin),this.TextFont,this.TextColor="rgb(0,0,0)",this.NameColor="rgb(0,0,0)",this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){if(!(!0===this.ChartFrame.IsHScreen||this.RowCount<=0)){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartFrame.GetBorder(),r=a.Bottom-a.TopTitle;this.RowHeight=r/this.RowCount;var n=a.LeftEx+lo.FrameLeftMargin,o=a.RightEx,s=a.TopTitle,l=a.Bottom;if(this.BGColor){this.Canvas.fillStyle=this.BGColor;var h=a.LeftEx,u=a.RightEx-a.LeftEx,r=l-s;this.Canvas.fillRect(h,s,u,r)}var c=this.RowHeight,d=t+e;c-this.ItemMergin.Top-this.ItemMergin.Bottom>0&&(c=c-this.ItemMergin.Left-this.ItemMergin.Right),d-this.ItemMergin.Left-this.ItemMergin.Right>0&&(d=d-this.ItemMergin.Left-this.ItemMergin.Right);var f=this.GetDynamicTextFont(c,d);this.TextFont=f,this.Canvas.font=this.TextFont;for(var p=this.Data.DataOffset,m=0;p<this.Data.Data.length&&m<i;++p,++m,n+=t+e){var C=this.Data.Data[p];if(C){var h=n,v=n+t+e;if(v>o)break;if(h+(v-h)/2>o)break;0==m&&this.IsShowRowName?this.DrawRowName(s,l,h,v):this.DrawRow(C,s,l,h,v)}}}}}},this.DrawRowName=function(t,e,i,a){if(Ee.IsNonEmptyArray(this.RowName))for(var r=i,n=t,o=a-i,s=0;s<this.RowName.length;++s){var l=this.RowName[s],h={Left:r,Top:n,Right:a,Height:this.RowHeight,Width:o};h.Bottom=h.Top+this.RowHeight,l.Name&&h.Width>10&&(this.Canvas.fillStyle=l.Color?l.Color:this.TextColor,this.Canvas.textBaseline="middle","right"==l.TextAlign?(this.Canvas.textAlign="right",this.Canvas.fillText(l.Name,h.Right-2,h.Top+this.RowHeight/2,o-4)):"center"==l.TextAlign?(this.Canvas.textAlign="center",this.Canvas.fillText(l.Name,h.Left+h.Width/2,h.Top+this.RowHeight/2,o-4)):(this.Canvas.textAlign="left",this.Canvas.fillText(l.Name,h.Left+2,h.Top+this.RowHeight/2,o-4))),n+=this.RowHeight}},this.DrawRow=function(t,e,i,a,r){for(var n=a,o=e,s=r-a,l=0;l<t.length;++l){var h=t[l],u={Left:n,Top:o,Right:r,Height:this.RowHeight,Width:s};u.Bottom=u.Top+this.RowHeight,h.BGColor&&(this.Canvas.fillStyle=h.BGColor,this.Canvas.fillRect(u.Left,u.Top,u.Width,u.Height)),h.Color&&u.Width>10&&(this.Canvas.fillStyle=h.Color,this.Canvas.textBaseline="middle","right"==h.TextAlign?(this.Canvas.textAlign="right",this.Canvas.fillText(h.Text,u.Right-2,u.Top+this.RowHeight/2,s-4)):"center"==h.TextAlign?(this.Canvas.textAlign="center",this.Canvas.fillText(h.Text,u.Left+u.Width/2,u.Top+this.RowHeight/2,s-4)):(this.Canvas.textAlign="left",this.Canvas.fillText(h.Text,u.Left+2,u.Top+this.RowHeight/2,s-4))),o+=this.RowHeight}},this.GetDynamicTextFont=function(t,e,i){var a=parseInt(t)-2;return t<5&&(a=parseInt(t)),a>this.TextFontConfig.FontMaxSize?a=this.TextFontConfig.FontMaxSize:a<=0&&(a=1),this.FormatFontString(a,this.TextFontConfig.Family,i)},this.FormatFontString=function(t,e,i){var a;return i?i.Weight&&(a=i.Weight+" "+t+"px "+e):a=t+"px "+e,a},this.GetMaxMin=function(){return{Min:0,Max:this.RowCount}}}function ht(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinuteVolumBar",this.UpColor=lo.UpBarColor,this.DownColor=lo.DownBarColor,this.UnchangeColor=lo.UnchagneBarColor,this.BarColorType=1,this.CustomColor=lo.Minute.VolBarColor,this.YClose,this.Symbol,this.BeforeOpenData,this.AfterCloseData,this.BeforeVolColor=lo.Minute.Before.VolColor,this.ShareAfterVol=0,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.PtInChart=function(t,e){var i={MinuteVolBar:!0};return this.PtInBar(t,e,i)},this.DrawSelectedStatus=function(){return this.DrawLinePoint({MinuteVolBar:!0})},this.Draw=function(){var t=!0===this.ChartFrame.IsHScreen;if(t)var e=this.ChartBorder.GetHScreenBorder(),i=e.BottomEx;else var e=this.ChartBorder.GetBorder(),i=e.RightEx;this.DrawBeforeOpen(),this.DrawMultiDayBeforeOpen();var a=this.ChartFrame.XPointCount,r=this.ChartFrame.GetYFromData(0),n=this.YClose,o=this.Data,s=po.IsShowMinuteColorVolBar(this.Symbol);s&&(this.Canvas.strokeStyle=this.CustomColor);for(var l=o.DataOffset,h=0;l<o.Data.length&&h<a;++l,++h){var u=o.Data[l],c=null;if(u){var d=null;if(c=u.Vol,d=u.Close,c){var f=this.ChartFrame.GetYFromData(c),p=this.ChartFrame.GetXFromIndex(h);if(p>i)break;s||(this.Canvas.strokeStyle=this.GetMinuteBarColor(d,n)),this.Canvas.beginPath(),t?(this.Canvas.moveTo(f,v(p)),this.Canvas.lineTo(r,v(p))):(this.Canvas.moveTo(v(p),f),this.Canvas.lineTo(v(p),r)),this.Canvas.stroke(),d&&(n=d)}}}this.DrawAfterClose(),this.DrawMultiDayAfterClose()},this.GetMinuteBarColor=function(t,e){return 1==this.BarColorType?t>e?this.UpColor:t<e?this.DownColor:this.UnchangeColor:t>=e?this.UpColor:this.DownColor},this.DrawBeforeOpen=function(){this.ChartBorder.LeftExtendWidth<10||this.BeforeOpenData&&this.DrawCallAuction(-1,this.BeforeOpenData,!0)},this.DrawAfterClose=function(){this.ChartBorder.RightExtendWidth<10||this.AfterCloseData&&this.DrawCallAuction(-1,this.AfterCloseData,!1)},this.DrawMultiDayBeforeOpen=function(){if(!(this.ChartBorder.MultiDayMinute.Count<=1||this.ChartBorder.MultiDayMinute.Left<=0)&&this.MultiDayBeforeOpenData){var t=0,e=this.MultiDayBeforeOpenData.length;this.DayOffset&&(Ee.IsNumber(this.DayOffset.Offset)&&(t=this.DayOffset.Offset),Ee.IsNumber(this.DayOffset.ShowDayCount)&&(e=this.DayOffset.ShowDayCount));for(var i=t,a=0;i<this.MultiDayBeforeOpenData.length&&a<e;++i,++a){var r=this.MultiDayBeforeOpenData[i];this.DrawCallAuction(a,r,!0)}}},this.DrawMultiDayAfterClose=function(){if(!(this.ChartBorder.MultiDayMinute.Count<=1||this.ChartBorder.MultiDayMinute.Right<=0)&&this.MultiDayAfterCloseData){var t=0,e=this.MultiDayAfterCloseData.length;this.DayOffset&&(Ee.IsNumber(this.DayOffset.Offset)&&(t=this.DayOffset.Offset),Ee.IsNumber(this.DayOffset.ShowDayCount)&&(e=this.DayOffset.ShowDayCount));for(var i=t,a=0;i<this.MultiDayAfterCloseData.length&&a<e;++i,++a){var r=this.MultiDayAfterCloseData[i];this.DrawCallAuction(a,r,!1)}}},this.DrawCallAuction=function(t,e,i){if(e){e.Index=t;var a=this.GetBorder(),r=!0===this.ChartFrame.IsHScreen,n=this.YClose,o=this.ChartFrame.GetYFromData(0);if(1==e.Ver)for(var s in e.Data){var l=e.Data[s];if(l&&Ee.IsNumber(l.Vol[0])){if(i)var h=this.ChartFrame.GetLeftExtendXFromIndex(s,e),u=this.ChartFrame.GetLeftExtendYFromData(l.Vol[0]);else var h=this.ChartFrame.GetRightExtendXFromIndex(s,e),u=this.ChartFrame.GetRightExtendYFromData(l.Vol[0]);this.Canvas.strokeStyle=l.Price>=n?this.UpColor:this.DownColor,this.Canvas.beginPath(),r?(this.Canvas.moveTo(u,v(h)),this.Canvas.lineTo(o,v(h))):(this.Canvas.moveTo(v(h),u),this.Canvas.lineTo(v(h),o)),this.Canvas.stroke(),l.Price&&(n=l.Price)}}else if(2==e.Ver||3==e.Ver){var c={Max:e.VolMax,Min:e.VolMin};for(var s in e.Data){var l=e.Data[s];if(l){if(Ee.IsPlusNumber(l.Vol[0])){if(i)var h=this.ChartFrame.GetLeftExtendXFromIndex(s,e),u=this.ChartFrame.GetLeftExtendYFromData(l.Vol[0],!1,{Range:c});else{var h=this.ChartFrame.GetRightExtendXFromIndex(s,e);if(1==this.ShareAfterVol)var u=this.ChartFrame.GetYFromData(l.Vol[0]);else var u=this.ChartFrame.GetRightExtendYFromData(l.Vol[0],!1,{Range:c})}this.Canvas.strokeStyle=this.GetBarColor(l.ColorID),this.Canvas.beginPath(),r?(this.Canvas.moveTo(u,v(h)),this.Canvas.lineTo(o,v(h))):(this.Canvas.moveTo(v(h),u),this.Canvas.lineTo(v(h),o)),this.Canvas.stroke()}if(Ee.IsPlusNumber(l.Vol[1])){if(i)var h=this.ChartFrame.GetLeftExtendXFromIndex(s,e),u=this.ChartFrame.GetLeftExtendYFromData(l.Vol[1],!1,{Range:c});else{var h=this.ChartFrame.GetRightExtendXFromIndex(s,e);if(1==this.ShareAfterVol)var u=this.ChartFrame.GetYFromData(l.Vol[1]);else var u=this.ChartFrame.GetRightExtendYFromData(l.Vol[1],!1,{Range:c})}this.Canvas.strokeStyle=this.GetBarColor(l.ColorID),this.Canvas.beginPath(),r?(u-=o,u=a.RightEx-u,this.Canvas.moveTo(u,v(h)),this.Canvas.lineTo(a.RightEx,v(h))):(u-=o,u=a.TopEx-u,this.Canvas.moveTo(v(h),u),this.Canvas.lineTo(v(h),a.TopEx)),this.Canvas.stroke()}}}}}},this.GetBarColor=function(t){switch(t){case 0:return this.UnchangeColor;case 1:return this.UpColor;case 2:return this.DownColor}if(this.BeforeVolColor&&Array.isArray(this.BeforeVolColor)){var e=t-3;if(e>=0&&e<this.BeforeVolColor.length)return this.BeforeVolColor[e]}return this.UnchangeColor},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset;this.ChartFrame.GlobalOption&&!0===this.ChartFrame.GlobalOption.IsValueFullRange&&(t=this.Data.Data.length,e=0);var i={};i.Min=0,i.Max=null;for(var a=e,r=0;a<this.Data.Data.length&&r<t;++a,++r){var n=this.Data.Data[a];n&&n.Vol&&(null==i.Max&&(i.Max=n.Vol),i.Max<n.Vol&&(i.Max=n.Vol))}return 1==this.ShareAfterVol&&(this.GetAfterCloseMaxMin(i),this.GetMultiDayAfterCloseMaxMin(i)),i},this.GetAfterCloseMaxMin=function(t){if(!(this.ChartBorder.RightExtendWidth<10)&&this.AfterCloseData){var e=this.AfterCloseData;(null==t.Max||t.Max<e.VolMax)&&(t.Max=e.VolMax)}},this.GetMultiDayAfterCloseMaxMin=function(t){if(!(this.ChartBorder.MultiDayMinute.Count<=1||this.ChartBorder.MultiDayMinute.Right<=0)&&this.MultiDayAfterCloseData)for(var e=0;e<this.MultiDayAfterCloseData.length;++e){var i=this.MultiDayAfterCloseData[e];2!=i.Ver&&3!=i.Ver||(null==t.Max||t.Max<i.VolMax)&&(t.Max=i.VolMax)}}}function ut(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartErrorMessage",this.Draw=function(){this.IsShow&&this.NotSupportMessage&&this.DrawNotSupportmessage()}}function ct(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartLine",this.Color="rgb(255,193,37)",this.LineWidth,this.DrawType=0,this.IsDotLine=!1,this.BreakPoint,this.DrawSelectedStatus=this.DrawLinePoint,this.PtInChart=this.PtInLine,this.ExportData=this.ExportArrayData,this.GetItemData=this.GetArrayItemData,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.IsVisible&&!this.IsShowIndexTitleOnly()&&!this.IsHideScriptIndex()){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data)switch(this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine();case 2:return this.DrawSectionLine()}}},this.DrawLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*c()),this.IsDotLine&&this.Canvas.setLineDash(lo.DOTLINE.LineDash);for(var a=!0,r=0,n=this.Data.DataOffset,o=0;n<this.Data.Data.length&&o<i;++n,++o){var s=this.Data.Data[n];if(null!=s){var l=this.ChartFrame.GetXFromIndex(o),h=this.GetYFromData(s);if(l>e)break;a?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(h,l):this.Canvas.moveTo(l,h),a=!1):t?this.Canvas.lineTo(h,l):this.Canvas.lineTo(l,h),++r}}r>0&&this.Canvas.stroke(),this.Canvas.restore()},this.DrawStraightLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.IsMinuteFrame(),i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartFrame.XPointCount;if(t)var n=this.ChartBorder.GetHScreenBorder(),o=n.BottomEx,s=n.TopEx+a/2+lo.FrameLeftMargin;else var n=this.ChartBorder.GetBorder(),s=n.LeftEx+a/2+lo.FrameLeftMargin,o=n.RightEx;var l=this.GetLockRect();l&&(o=t?l.Top:l.Left),this.Canvas.save(),this.ClipClient(t),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*c()),this.Canvas.strokeStyle=this.Color,this.IsDotLine&&this.Canvas.setLineDash(lo.DOTLINE.LineDash);for(var h=!0,u=null,d=0,f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<r;++f,++p,s+=i+a){var m=this.Data.Data[f];if(null!=m){if(e)var C=this.ChartFrame.GetXFromIndex(p);else{var v=s,D=s+i;if(D>o)break;var C=v+(D-v)/2}var g=this.GetYFromData(m,!1);if(C>o)break;h?(this.Canvas.beginPath(),t?this.Canvas.moveTo(g,C):this.Canvas.moveTo(C,g),h=!1,u={X:C,Y:g}):t?this.Canvas.lineTo(g,C):this.Canvas.lineTo(C,g),++d}else d>0&&this.Canvas.stroke(),h=!0,d=0,u=null}d>0&&(1==d&&u&&(t?this.Canvas.lineTo(u.Y,u.X+1*c()):this.Canvas.lineTo(u.X+1*c(),u.Y)),this.Canvas.stroke()),this.Canvas.restore()},this.DrawSectionLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.IsMinuteFrame(),i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartFrame.XPointCount;if(t)var n=this.ChartBorder.GetHScreenBorder(),o=n.BottomEx,s=n.TopEx+a/2+lo.FrameLeftMargin;else var n=this.ChartBorder.GetBorder(),s=n.LeftEx+a/2+lo.FrameLeftMargin,o=n.RightEx;var l=this.GetLockRect();l&&(o=t?l.Top:l.Left),this.Canvas.save(),this.ClipClient(t),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*c()),this.Canvas.strokeStyle=this.Color,this.IsDotLine&&this.Canvas.setLineDash(lo.DOTLINE.LineDash);for(var h=!0,u=null,d=0,f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<r;++f,++p,s+=i+a){var m=this.Data.Data[f];if(null!=m){if(e)var C=this.ChartFrame.GetXFromIndex(p);else{var v=s,D=s+i;if(D>o)break;var C=v+(D-v)/2}var g=this.GetYFromData(m,!1);if(C>o)break;this.BreakPoint&&this.BreakPoint.has(f)&&(d>0&&this.Canvas.stroke(),h=!0,d=0,u=null),h?(this.Canvas.beginPath(),t?this.Canvas.moveTo(g,C):this.Canvas.moveTo(C,g),h=!1,u={X:C,Y:g}):t?this.Canvas.lineTo(g,C):this.Canvas.lineTo(C,g),++d}else d>0&&this.Canvas.stroke(),h=!0,d=0,u=null}d>0&&(1==d&&u&&(t?this.Canvas.lineTo(u.Y,u.X+1*c()):this.Canvas.lineTo(u.X+1*c(),u.Y)),this.Canvas.stroke()),this.Canvas.restore()}}function dt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartArea",this.Color="rgb(255,193,37)",this.AreaColor,this.LineWidth,this.LineDash,this.AreaDirection=0,this.DrawSelectedStatus=this.DrawLinePoint,this.PtInChart=this.PtInLine,this.ExportData=this.ExportArrayData,this.GetItemData=this.GetArrayItemData,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&!this.IsShowIndexTitleOnly()&&!this.IsHideScriptIndex())return this.NotSupportMessage?void this.DrawNotSupportmessage():void(this.Data&&this.Data.Data&&this.DrawArea())},this.DrawArea=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.IsMinuteFrame(),i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartFrame.XPointCount;if(t)var n=this.ChartBorder.GetHScreenBorder(),o=n.BottomEx,s=n.TopEx+a/2+lo.FrameLeftMargin;else var n=this.ChartBorder.GetBorder(),s=n.LeftEx+a/2+lo.FrameLeftMargin,o=n.RightEx;var l=this.GetLockRect();l&&(o=t?l.Top:l.Left),this.Canvas.save(),this.ClipClient(t),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*c()),this.Canvas.strokeStyle=this.Color,this.AreaColor?this.Canvas.fillStyle=this.AreaColor:this.Canvas.fillStyle=ai.ColorToRGBA(this.Color,.6),Ee.IsNonEmptyArray(this.LineDash)&&this.Canvas.setLineDash(this.LineDas);for(var h=!0,u=null,d=null,f=0,p=this.Data.DataOffset,m=0;p<this.Data.Data.length&&m<r;++p,++m,s+=i+a){var C=this.Data.Data[p];if(Ee.IsNumber(C)){if(e)var v=this.ChartFrame.GetXFromIndex(m);else{var D=s,g=s+i;if(g>o)break;var v=D+(g-D)/2}var S=this.GetYFromData(C,!1);if(v>o)break;h?(this.Canvas.beginPath(),t?this.Canvas.moveTo(S,v):this.Canvas.moveTo(v,S),h=!1,u={X:v,Y:S}):(t?this.Canvas.lineTo(S,v):this.Canvas.lineTo(v,S),d={X:v,Y:S}),++f}else f>0&&this.Canvas.stroke(),u&&d&&(t?(1==this.AreaDirection?(this.Canvas.lineTo(n.RightEx,d.X),this.Canvas.lineTo(n.RightEx,u.X)):(this.Canvas.lineTo(n.LeftEx,d.X),this.Canvas.lineTo(n.LeftEx,u.X)),this.Canvas.closePath(),this.Canvas.fill()):(1==this.AreaDirection?(this.Canvas.lineTo(d.X,n.TopEx),this.Canvas.lineTo(u.X,n.TopEx)):(this.Canvas.lineTo(d.X,n.BottomEx),this.Canvas.lineTo(u.X,n.BottomEx)),this.Canvas.closePath(),this.Canvas.fill())),h=!0,f=0,u=null,d=null}f>0&&(1==f&&u&&(t?this.Canvas.lineTo(u.Y,u.X+1*c()):this.Canvas.lineTo(u.X+1*c(),u.Y)),this.Canvas.stroke(),u&&d&&(t?(1==this.AreaDirection?(this.Canvas.lineTo(n.RightEx,d.X),this.Canvas.lineTo(n.RightEx,u.X)):(this.Canvas.lineTo(n.LeftEx,d.X),this.Canvas.lineTo(n.LeftEx,u.X)),this.Canvas.closePath(),this.Canvas.fill()):(1==this.AreaDirection?(this.Canvas.lineTo(d.X,n.TopEx),this.Canvas.lineTo(u.X,n.TopEx)):(this.Canvas.lineTo(d.X,n.BottomEx),this.Canvas.lineTo(u.X,n.BottomEx)),this.Canvas.closePath(),this.Canvas.fill()))),this.Canvas.restore()}}function ft(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartScatterPlot",this.Color="rgb(255,193,37)",this.Radius=3,this.TooltipData=[],this.Draw=function(){if(this.TooltipData=[],this.IsShow&&!this.ChartFrame.IsMinSize&&!this.IsShowIndexTitleOnly()&&!this.IsHideScriptIndex())return this.NotSupportMessage?void this.DrawNotSupportmessage():void(this.Data&&this.Data.Data&&this.DrawScatterPlot())},this.DrawScatterPlot=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.IsMinuteFrame(),i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartFrame.XPointCount;if(t)var n=this.ChartBorder.GetHScreenBorder(),o=n.BottomEx,s=n.TopEx+a/2+lo.FrameLeftMargin;else var n=this.ChartBorder.GetBorder(),s=n.LeftEx+a/2+lo.FrameLeftMargin,o=n.RightEx;var l=this.GetLockRect();l&&(o=t?l.Top:l.Left),this.Canvas.save(),this.ClipClient(t);for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<r;++h,++u,s+=i+a){var c=this.Data.Data[h];if(c){if(e)var d=this.ChartFrame.GetXFromIndex(u);else{var f=s,p=s+i;if(p>o)break;var d=f+(p-f)/2}if(d>o)break;if(Array.isArray(c))for(var u=0;u<c.length;++u)this.DrawItem(c[u],d);else this.DrawItem(c,d)}}this.Canvas.restore()},this.DrawItem=function(t,e){if(t&&Ee.IsNumber(t.Value)){var i=this.GetYFromData(t.Value,!1),a=this.Radius;if(t.Radius&&(a=t.Radius),Ee.IsNumber(a)){this.Canvas.beginPath(),this.Canvas.arc(e,i,a,0,2*Math.PI);var r=this.Color;t.Color&&(r=t.Color),r&&(this.Canvas.fillStyle=r,this.Canvas.fill()),t.ColorBorder&&(this.Canvas.strokeStyle=t.ColorBorder,this.Canvas.stroke());var n={X:e,Y:i,Radius:a,Data:t};this.TooltipData.push(n)}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset;this.ChartFrame.GlobalOption&&this.ChartFrame.GlobalOption.IsValueFullRange&&(e=0,t=this.Data.Data.length);var i={};if(i.Min=null,i.Max=null,!this.Data||!this.Data.Data)return i;for(var a=e,r=0;a<this.Data.Data.length&&r<t;++a,++r){var n=this.Data.Data[a];if(n)if(Array.isArray(n))for(var o=0;o<n.length;++o){var s=n[o];Ee.IsNumber(s.Value)&&(null==i.Max&&(i.Max=s.Value),null==i.Min&&(i.Min=s.Value),i.Max<s.Value&&(i.Max=s.Value),i.Min>s.Value&&(i.Min=s.Value))}else{if(!Ee.IsNumber(n.Value))continue;null==i.Max&&(i.Max=n.Value),null==i.Min&&(i.Min=n.Value),i.Max<n.Value&&(i.Max=n.Value),i.Min>n.Value&&(i.Min=n.Value)}}return i},this.GetTooltipData=function(t,e,i){if(!this.IsShow)return!1;if(!Ee.IsNonEmptyArray(this.TooltipData))return!1;for(var a=this.TooltipData.length-1;a>=0;--a){var r=this.TooltipData[a];if(this.Canvas.beginPath(),this.Canvas.arc(r.X,r.Y,r.Radius,0,2*Math.PI),this.Canvas.isPointInPath(t,e))return Nn.Chart.Log("[ChartScatterPlot::GetTooltipData] point",r),i.Data=r,i.ChartPaint=this,i.Type=6,!0}}}function pt(){this.newMethod=ct,this.newMethod(),delete this.newMethod,this.ClassName="ChartSubLine",this.Color="rgb(255,193,37)",this.LineWidth,this.DrawType=0,this.IsDotLine=!1,this.SubFrame={Max:null,Min:null},this.Draw=function(){if(this.IsShow&&this.Data&&this.Data.Data)switch(this.CalculateDataMaxMin(),this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine()}},this.GetYFromData=function(t){if(!0===this.ChartFrame.IsHScreen){if(t<=this.SubFrame.Min)return this.ChartBorder.GetLeftEx();if(t>=this.SubFrame.Max)return this.ChartBorder.GetRightEx();var e=this.ChartBorder.GetWidthEx()*(t-this.SubFrame.Min)/(this.SubFrame.Max-this.SubFrame.Min);return this.ChartBorder.GetLeftEx()+e}if(t<=this.SubFrame.Min)return this.ChartBorder.GetBottomEx();if(t>=this.SubFrame.Max)return this.ChartBorder.GetTopEx();var i=this.ChartBorder.GetHeightEx()*(t-this.SubFrame.Min)/(this.SubFrame.Max-this.SubFrame.Min);return this.ChartBorder.GetBottomEx()-i},this.CalculateDataMaxMin=function(){this.SubFrame={Max:null,Min:null};var t=!0===this.ChartFrame.IsHScreen,e=this.ChartBorder.GetRight();t&&(e=this.ChartBorder.GetBottom());for(var i=this.ChartFrame.XPointCount,a=this.Data.DataOffset,r=0;a<this.Data.Data.length&&r<i;++a,++r){var n=this.Data.Data[a];if(null!=n){if(this.ChartFrame.GetXFromIndex(r)>e)break;(null==this.SubFrame.Min||this.SubFrame.Min>n)&&(this.SubFrame.Min=n),(null==this.SubFrame.Max||this.SubFrame.Max<n)&&(this.SubFrame.Max=n)}}},this.GetMaxMin=function(){return{Min:null,Max:null}}}function mt(){this.newMethod=ct,this.newMethod(),delete this.newMethod,this.MainData=new Q,this.Draw=function(){if(this.Data&&this.Data.Data&&this.MainData&&this.MainData.Data)switch(this.DrawType){case 0:return this.DrawLine();case 1:return this.DrawStraightLine()}},this.GetFirstVaildIndex=function(){for(var t=this.Data.DataOffset,e=t,i=0;e<this.MainData.Data.length&&e<this.Data.Data.length;++e,++i){var a=this.MainData.Data[e],r=this.Data.Data[e];if(Ee.IsNumber(a)&&Ee.IsNumber(r))return{Index:i,DataOffset:e,OverlayValue:r,MainValue:a}}return null},this.DrawStraightLine=function(){var t=this.GetFirstVaildIndex();if(t){var e=!0===this.ChartFrame.IsHScreen,i=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());e&&(i=this.ChartBorder.GetBottom());var a=this.ChartFrame.XPointCount,r=this.GetLockRect();r&&(i=e?r.Top:r.Left),this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*c()),this.Canvas.strokeStyle=this.Color,this.IsDotLine&&this.Canvas.setLineDash([3,5]);for(var n=!0,o=0,s=0,l=t.DataOffset,h=t.Index;l<this.Data.Data.length&&h<a;++l,++h){var u=this.Data.Data[l];if(null!=u){var d=this.ChartFrame.GetXFromIndex(h),f=u-t.OverlayValue;s=0!=t.OverlayValue?1+f/Math.abs(t.OverlayValue):1+f;var p=t.MainValue*s,m=this.GetYFromData(p);if(d>i)break;n?(this.Canvas.beginPath(),e?this.Canvas.moveTo(m,d):this.Canvas.moveTo(d,m),n=!1):e?this.Canvas.lineTo(m,d):this.Canvas.lineTo(d,m),++o}else o>0&&this.Canvas.stroke(),n=!0,o=0}o>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;var i=this.GetFirstVaildIndex();if(!i)return e;for(var a=i.DataOffset,r=i.Index;a<this.Data.Data.length&&r<t;++a,++r){var n=this.Data.Data[a];if(Ee.IsNumber(n)){var o=n-i.OverlayValue;0!=i.OverlayValue?rate=1+o/Math.abs(i.OverlayValue):rate=1+o;var s=i.MainValue*rate;null==e.Max&&(e.Max=s),null==e.Min&&(e.Min=s),e.Max<s&&(e.Max=s),e.Min>s&&(e.Min=s)}}return e}}function Ct(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartPartLine",this.LineWidth,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&!this.IsShowIndexTitleOnly()&&!this.IsHideScriptIndex())return this.NotSupportMessage?void this.DrawNotSupportmessage():void(this.Data&&this.Data.Data&&this.DrawLine())},this.DrawLine=function(){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*c());for(var a,r=0,n={X:null,Y:null},o=!1,s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<i;++s,++l){var h=this.Data.Data[s];if(null!=h&&null!=h.Value){var u=h.Value,d=h.RGB,f=this.ChartFrame.GetXFromIndex(l),p=this.ChartFrame.GetYFromData(u);if(f>e)break;d!=a||1==o?(a&&r>0&&this.Canvas.stroke(),r=0,a=d,this.Canvas.strokeStyle=d,this.Canvas.beginPath(),null!=n.X&&null!=n.Y?(t?this.Canvas.moveTo(n.Y,n.X):this.Canvas.moveTo(n.X,n.Y),t?this.Canvas.lineTo(p,f):this.Canvas.lineTo(f,p),++r):t?this.Canvas.moveTo(p,f):this.Canvas.moveTo(f,p)):(t?this.Canvas.lineTo(p,f):this.Canvas.lineTo(f,p),++r),n.X=f,n.Y=p,o=!1}else n.X=null,n.Y=null,o=!0}r>0&&this.Canvas.stroke(),this.Canvas.restore()},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];r&&r.Value&&((null==e.Max||e.Max<r.Value)&&(e.Max=r.Value),(null==e.Min||e.Min>r.Value)&&(e.Min=r.Value))}return e},this.ExportData=function(t,e){var i=[],a=[];if(Ee.IsNonEmptyArray(this.Data.Data)){var r=0,n=this.Data.length-1;e&&e.Start&&e.End&&Ee.IsNumber(e.Start.Index)&&Ee.IsNumber(e.End.Index)&&(r=e.Start.Index,n=e.End.Index);for(var o=r;o<=n&&o<this.Data.Data.length;++o){var s=this.Data.Data[o];i[o]=null,a[o]=null,s&&Ee.IsNumber(s.Value)&&(i[o]=s.Value,a[o]=s.RGB)}}return[{Name:this.Name+"-Value",Data:i},{Name:this.Name+"-Color",Data:a}]}}function vt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartStepLine",this.LineWidth=1,this.DotLine,this.IsHScreen,this.IsDotLine=!1,this.PtInChart=function(t,e){if(this.IsShow&&!this.ChartFrame.IsMinSize){var i=!0===this.ChartFrame.IsHScreen;if(!i){var a=this.IsMinuteFrame(),r=this.ChartFrame.DataWidth,n=this.ChartFrame.DistanceWidth,o=this.ChartFrame.XPointCount,s=this.GetLockRect();if(i){var l=this.ChartBorder.GetHScreenBorder(),h=l.BottomEx,u=l.TopEx+n/2+lo.FrameLeftMargin;s&&(h=s.Top)}else{var l=this.ChartBorder.GetBorder(),u=l.LeftEx+n/2+lo.FrameLeftMargin,h=l.RightEx;s&&(h=s.Left)}if(t<u||t>h)return null;if(e>l.BottomEx||e<l.TopEx)return null;for(var c={},d={},f=this.Data.DataOffset;f>=0;--f){var p=this.Data.Data[f];if(Ee.IsNumber(p)){var m=this.GetYFromData(p,!1),C=null;C=a?this.ChartFrame.GetXFromIndex(0):u,c.Y=m,c.X=C}}for(var f=this.Data.DataOffset,v=0;f<this.Data.Data.length&&v<o;++f,++v,u+=r+n){var p=this.Data.Data[f];if(Ee.IsNumber(p)){if(a)var D=this.ChartFrame.GetXFromIndex(v);else{var g=u,S=u+r;if(S>h)break;var D=g+(S-g)/2}var x=this.GetYFromData(p,!1);if(!(D<t)){if(D==t){c.X=d.X=D,c.Y=d.Y=x;break}d.X=D,d.Y=x;break}if(c.X=D,c.Y=x,t>h)break}}return Ee.IsNumber(c.X)&&Ee.IsNumber(c.Y)&&Ee.IsNumber(d.X)&&Ee.IsNumber(d.Y)?t==c.X||e==c.Y?{Identify:this.Identify,Chart:this}:t==d.X||e==d.Y?{Identify:this.Identify,Chart:this}:t>=c.X&&t<=d.X&&e>=c.Y-3&&e<=c.Y+3?{Identify:this.Identify,Chart:this}:t>=d.X-3&&t<=d.X+3&&e>=Math.min(c.Y,d.Y)&&e<Math.max(c.Y,d.Y)?{Identify:this.Identify,Chart:this}:null:null}}},this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize)return this.NotSupportMessage?void this.DrawNotSupportmessage():void(this.Data&&this.Data.Data&&(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.Canvas.save(),this.ClipClient(this.IsHScreen),this.DrawLine(),this.Canvas.restore()))},this.DrawLine=function(){var t=this.IsMinuteFrame(),e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount,r=this.GetLockRect();if(this.IsHScreen){var n=this.ChartBorder.GetHScreenBorder(),o=n.BottomEx,s=n.TopEx+i/2+lo.FrameLeftMargin;r&&(o=r.Top)}else{var n=this.ChartBorder.GetBorder(),s=n.LeftEx+i/2+lo.FrameLeftMargin,o=n.RightEx;r&&(o=r.Left)}this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*c()),this.IsDotLine&&this.Canvas.setLineDash(lo.DOTLINE.LineDash),this.DotLine&&this.Canvas.setLineDash(this.DotLine),this.Canvas.strokeStyle=this.Color;for(var l=!0,h=0,u={X:null,Y:null},d=this.Data.DataOffset;d>=0;--d){var f=this.Data.Data[d];if(Ee.IsNumber(f)){var p=this.GetYFromData(f,!1),m=null;m=t?this.ChartFrame.GetXFromIndex(0):s,this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(p,m):this.Canvas.moveTo(m,p),l=!1,u.Y=p,u.X=m}}for(var d=this.Data.DataOffset,C=0;d<this.Data.Data.length&&C<a;++d,++C,s+=e+i){if(t)var m=this.ChartFrame.GetXFromIndex(C);else{var v=s,D=s+e;if(D>o)break;var m=v+(D-v)/2}if(m>o)break;var f=this.Data.Data[d];if(Ee.IsNumber(f)){var p=this.GetYFromData(f,!1);l?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(p,m):this.Canvas.moveTo(m,p),l=!1,u.X=m,u.Y=p):(this.IsHScreen?(this.Canvas.lineTo(u.Y,m),this.Canvas.lineTo(p,m)):(this.Canvas.lineTo(m,u.Y),this.Canvas.lineTo(m,p)),u.X=m,u.Y=p),++h}}h>0&&this.Canvas.stroke()},this.DrawSelectedStatus=function(){this.DrawLinePoint()}}function Dt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartSlopeLine",this.Color="rgb(255,193,37)",this.IsDotLine=!1,this.LineWidth,this.Option,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){this.Canvas.save(),this.Canvas.strokeStyle=this.Color,this.IsDotLine&&this.Canvas.setLineDash(lo.DOTLINE.LineDash);var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetTopEx(),i=this.ChartBorder.GetRight(),a=this.ChartBorder.GetBottom(),r=this.ChartBorder.GetRight(),n=this.ChartFrame.XPointCount;this.Canvas.beginPath(),this.Canvas.rect(t,e,i-t,a-e),this.Canvas.clip();for(var o=this.Data.DataOffset,s=0;o<this.Data.Data.length&&s<n;++o,++s){var l=this.Data.Data[o];if(Ee.IsNumber(l)){var h=this.Option[o];if(h){var u=this.ChartFrame.GetXFromIndex(s),c=this.ChartFrame.GetYFromData(l),d=h.Length*lo.DRAWSL.PixelWidth;if(u>r)break;var f=Math.sqrt(d*d/(1+h.Slope*h.Slope)),p=f*h.Slope;this.Canvas.beginPath(),2==h.Direct?(this.Canvas.moveTo(u-f,c+p),this.Canvas.lineTo(u+f,c-p)):1==h.Direct?(this.Canvas.moveTo(u,c),this.Canvas.lineTo(u-f,c+p)):(this.Canvas.moveTo(u,c),this.Canvas.lineTo(u+f,c-p)),this.Canvas.stroke()}}}this.Canvas.restore()}}}}function gt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartPointDot",this.Color="rgb(255,193,37)",this.Radius=1,this.EnableUpDownColor=!1,this.HistoryData,this.ExportData=this.ExportArrayData,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());!0===t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount;this.Canvas.save(),this.Canvas.fillStyle=this.Color;for(var a,r=this.Data.DataOffset,n=0;r<this.Data.Data.length&&n<i;++r,++n){var o=this.Data.Data[r];if(null!=o){var s=this.ChartFrame.GetXFromIndex(n),l=this.ChartFrame.GetYFromData(o);if(s>e)break;if(this.EnableUpDownColor){a=this.HistoryData.Data[r].Close>o?"rgb(255,61,61)":"rgb(0,199,65)",this.Canvas.fillStyle=a}this.Canvas.beginPath(),t?this.Canvas.arc(l,s,this.Radius,0,2*Math.PI,!0):this.Canvas.arc(s,l,this.Radius,0,2*Math.PI,!0),this.Canvas.closePath(),this.Canvas.fill()}}this.Canvas.restore()}}}}function St(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.Color="rgb(255,193,37)",this.LineWidth,this.ClassName="ChartStick",this.ExportData=this.ExportArrayData,this.DrawLine=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());!0===t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount;this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*c());for(var a=!0,r=0,n=this.Data.DataOffset,o=0;n<this.Data.Data.length&&o<i;++n,++o){var s=this.Data.Data[n];if(null!=s){var l=this.ChartFrame.GetXFromIndex(o),h=this.ChartFrame.GetYFromData(s);if(l>e)break;a?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(h,l):this.Canvas.moveTo(l,h),a=!1):t?this.Canvas.lineTo(h,l):this.Canvas.lineTo(l,h),++r}}r>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.DrawStick=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartBorder.GetRight();t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetBottom(),r=this.ChartBorder.GetLeft();this.Canvas.save(),this.Canvas.strokeStyle=this.Color,this.LineWidth&&(this.Canvas.lineWidth=this.LineWidth*c());for(var n=this.Canvas.lineWidth,o=this.Data.DataOffset,s=0;o<this.Data.Data.length&&s<i;++o,++s){var l=this.Data.Data[o];if(null!=l){var h=this.ChartFrame.GetXFromIndex(s),u=this.ChartFrame.GetYFromData(l);if(h>e)break;if(this.Canvas.beginPath(),t)this.Canvas.moveTo(r,h),this.Canvas.lineTo(u,h),this.Canvas.stroke();else{var d=D(n,h);this.Canvas.moveTo(d,u),this.Canvas.lineTo(d,a)}this.Canvas.stroke()}}this.Canvas.restore()}},this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize)return this.NotSupportMessage?void this.DrawNotSupportmessage():void(this.Data&&this.Data.Data&&this.DrawStick())}}function xt(){this.newMethod=St,this.newMethod(),delete this.newMethod,this.ClassName="ChartLineStick",this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();this.DrawStick(),this.DrawLine()}}}function bt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.UpColor=lo.UpBarColor,this.DownColor=lo.DownBarColor,this.HistoryData,this.KLineDrawType=0,this.ClassName="ChartVolStick",this.PtInChart=this.PtInBar,this.DrawSelectedStatus=this.DrawLinePoint,this.ExportData=this.ExportArrayData,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.IsVisible&&!this.IsShowIndexTitleOnly()&&!this.IsHideScriptIndex()){if(!0===this.ChartFrame.IsHScreen)return void this.HScreenDraw();var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetBorder(),a=i.LeftEx+e/2+lo.FrameLeftMargin,r=i.RightEx,n=this.ChartFrame.XPointCount,o=this.GetLockRect();o&&(r=o.Left);var s=this.IsMinuteFrame(),l=this.ChartFrame.GetYFromData(0);if(t>=4){l=g(l);for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<n;++h,++u,a+=t+e){var c=this.Data.Data[h],d=this.HistoryData.Data[h];if(null!=c&&null!=d&&0!=c){var f=a,p=a+t;if(p>r)break;var m=this.ChartFrame.GetYFromData(c),C=this.GetBarColor(d),D=C.IsUp;this.Canvas.fillStyle=C.Color;var S=g(Math.abs(l-m)>=1?l-m:1);m=l-S,6==this.KLineDrawType?(this.Canvas.strokeStyle=C.Color,this.Canvas.beginPath(),this.Canvas.rect(v(f),v(m),g(t),S),this.Canvas.stroke()):!D||1!=this.KLineDrawType&&2!=this.KLineDrawType&&3!=this.KLineDrawType?this.Canvas.fillRect(g(f),m,g(t),S):(this.Canvas.strokeStyle=this.UpColor,this.Canvas.beginPath(),this.Canvas.rect(v(f),v(m),g(t),S),this.Canvas.stroke())}}}else for(var h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<n;++h,++u,a+=t+e){var c=this.Data.Data[h],d=this.HistoryData.Data[h];if(null!=c&&null!=d){var m=this.ChartFrame.GetYFromData(c);if(s)var x=this.ChartFrame.GetXFromIndex(u);else var f=a,p=a+t,x=f+(p-f)/2;if(x>r)break;var C=this.GetBarColor(d);this.Canvas.strokeStyle=C.Color,this.Canvas.beginPath(),this.Canvas.moveTo(v(x),m),this.Canvas.lineTo(v(x),l),this.Canvas.stroke()}}}},this.HScreenDraw=function(){var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetHScreenBorder(),a=i.TopEx+e/2+lo.FrameLeftMargin,r=i.BottomEx,n=this.ChartFrame.XPointCount,o=this.GetLockRect();o&&(r=o.Top);var s=this.ChartFrame.GetYFromData(0);if(t>=4){s=g(s);for(var l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<n;++l,++h,a+=t+e){var u=this.Data.Data[l],c=this.HistoryData.Data[l];if(null!=u&&null!=c){var d=a;if(a+t>r)break;var f=this.ChartFrame.GetYFromData(u),p=this.GetBarColor(c),m=p.IsUp;this.Canvas.fillStyle=p.Color;var C=g(f-s);!m||1!=this.KLineDrawType&&2!=this.KLineDrawType&&3!=this.KLineDrawType?this.Canvas.fillRect(s,g(d),C,g(t)):(this.Canvas.strokeStyle=this.UpColor,this.Canvas.beginPath(),this.Canvas.rect(v(s),v(d),C,g(t)),this.Canvas.stroke())}}}else for(var l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<n;++l,++h,a+=t+e){var u=this.Data.Data[l],c=this.HistoryData.Data[l];if(null!=u&&null!=c){var f=this.ChartFrame.GetYFromData(u),D=this.ChartFrame.GetXFromIndex(h);if(D>r)break;var p=this.GetBarColor(c),m=p.IsUp;this.Canvas.strokeStyle=p.Color,this.Canvas.beginPath(),this.Canvas.moveTo(f,v(D)),this.Canvas.lineTo(s,v(D)),this.Canvas.stroke()}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];(!Ee.IsNumber(e.Max)||e.Max<r)&&(e.Max=r),(!Ee.IsNumber(e.Min)||e.Min>r)&&(e.Min=r)}return e.Max>0&&e.Min>0?e.Min=0:e.Max<0&&e.Min<0&&(e.Max=0),e},this.GetBarColor=function(t){return t.Close>=t.Open?{Color:this.UpColor,IsUp:!0}:{Color:this.DownColor,IsUp:!1}},this.GetItemData=function(t){if(!t)return null;if(!Ee.IsNumber(t.Index))return null;if(!this.HistoryData||!Ee.IsNonEmptyArray(this.HistoryData.Data))return null;if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return null;var e=t.Index;if(e<0||e>=this.Data.Data.length||e>=this.HistoryData.Data.length)return null;var i=this.Data.Data[e],a=this.HistoryData.Data[e];return[{Value:i,Color:this.GetBarColor(a).Color,Name:this.Name}]}}function It(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartVericaltLine",this.LineWidth=2,this.LineCap,this.Draw=function(){if(!this.ChartFrame.IsMinSize){var t=1==this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.GetBorder(),r=this.ChartFrame.XPointCount;if(t)var n=a.RightEx,o=a.LeftEx,s=a.TopEx+i/2+lo.FrameLeftMargin;else var n=a.TopEx,o=a.BottomEx,s=a.LeftEx+i/2+lo.FrameLeftMargin;this.Canvas.save(),this.Canvas.strokeStyle=this.Color,this.LineType&&this.Canvas.setLineDash(this.LineType),this.LineCap&&(this.Canvas.lineCap=this.LineCap),this.Canvas.beginPath();var l=this.Canvas.lineWidth;this.LineWidth>0&&(l=this.LineWidth*c(),this.Canvas.lineWidth=l);for(var h=0,u=this.Data.DataOffset,d=0;u<this.Data.Data.length&&d<r;++u,++d,s+=e+i){if(this.Data.Data[u]){var f=s+e/2;f=D(l,f),t?(this.Canvas.moveTo(n,f),this.Canvas.lineTo(o,f)):(this.Canvas.moveTo(f,n),this.Canvas.lineTo(f,o)),++h}}h>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.GetMaxMin=function(){return{Min:null,Max:null}}}function Tt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartHorizontalLine",this.LineWidth=2,this.LineCap,this.ExtendType=0,this.Draw=function(){if(!this.ChartFrame.IsMinSize){var t=1==this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.GetBorder(),r=this.ChartFrame.XPointCount;if(t)var n=a.TopEx,o=a.BottomEx,s=a.TopEx+i/2+lo.FrameLeftMargin;else var n=a.LeftEx,o=a.RightEx,s=a.LeftEx+i/2+lo.FrameLeftMargin;this.Canvas.save(),this.Canvas.strokeStyle=this.Color,this.LineType&&this.Canvas.setLineDash(this.LineType),this.LineCap&&(this.Canvas.lineCap=this.LineCap),this.Canvas.beginPath();var l=this.Canvas.lineWidth;this.LineWidth>0&&(l=this.LineWidth*c(),this.Canvas.lineWidth=l);for(var h=0,u=this.Data.DataOffset,d=0;u<this.Data.Data.length&&d<r;++u,++d,s+=e+i){var f=this.Data.Data[u];if(f&&Ee.IsNumber(f)){var p=this.ChartFrame.GetYFromData(f);p=D(l,p);var m=s+e/2;m=D(l,m),3==this.ExtendType?t?(this.Canvas.moveTo(p,n),this.Canvas.lineTo(p,o)):(this.Canvas.moveTo(n,p),this.Canvas.lineTo(o,p)):1==this.ExtendType?t?(this.Canvas.moveTo(p,n),this.Canvas.lineTo(p,m)):(this.Canvas.moveTo(n,p),this.Canvas.lineTo(m,p)):t?(this.Canvas.moveTo(p,m),this.Canvas.lineTo(p,o)):(this.Canvas.moveTo(m,p),this.Canvas.lineTo(o,p)),++h}}h>0&&this.Canvas.stroke(),this.Canvas.restore()}}}function yt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartLineMultiData",this.Color="rgb(255,193,37)",this.PointColor,this.PointRadius,this.LineWidth,this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight());t&&(e=this.ChartBorder.GetBottom());var i=this.ChartFrame.XPointCount;this.Canvas.save(),Ee.IsPlusNumber(this.LineWidth)&&(this.Canvas.lineWidth=this.LineWidth*c());for(var a,r=!0,n=0,o=[],s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<i;++s,++l){var h=this.Data.Data[s];if(h){var u=this.ChartFrame.GetXFromIndex(l);if(u>e)break;a=Array.isArray(h)?h:[h];for(var d=0;d<a.length;++d){var f=a[d];if(f){var p=f.Value,m=this.ChartFrame.GetYFromData(p);r?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(m,u):this.Canvas.moveTo(u,m),r=!1,1===f.Type&&o.push({X:u,Y:m})):(t?this.Canvas.lineTo(m,u):this.Canvas.lineTo(u,m),1===f.Type&&o.push({X:u,Y:m})),++n}}}}n>0&&this.Canvas.stroke(),this.DrawPoint(o),this.Canvas.restore()}},this.DrawPoint=function(t){if(this.PointColor&&Ee.IsPlusNumber(this.PointRadius))for(var e=this.PointRadius*c(),i=0;i<t.length;++i){var a=t[i];this.Canvas.beginPath(),this.Canvas.arc(a.X,a.Y,e,0,360,!1),this.Canvas.fillStyle=this.PointColor,this.Canvas.fill(),this.Canvas.closePath()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(e.Min=null,e.Max=null,!this.Data||!this.Data.Data)return e;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];if(r){var n;n=Array.isArray(r)?r:[r];for(var a=0;a<n.length;++a){var o=n[a].Value;Ee.IsNumber(o)&&(null==e.Max&&(e.Max=o),null==e.Min&&(e.Min=o),e.Max<o&&(e.Max=o),e.Min>o&&(e.Min=o))}}}return e}}function wt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartStickLine",this.Color="rgb(255,193,37)",this.BarType=0,this.LineDotted=[3,3],this.Width=0,this.SetEmptyBar=function(){if(1!=this.BarType&&-1!=this.BarType)return!1;this.Canvas.lineWidth=c(),this.Canvas.strokeStyle=this.Color;var t=lo.EmptyBarBGColor;return t&&(this.Canvas.fillStyle=t),-1==this.BarType&&this.Canvas.setLineDash(this.LineDotted),!0},this.IsEmptyBar=function(){return 1==this.BarType||-1==this.BarType},this.Draw=function(){if(!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetRight();this.ChartFrame.ZoomIndex;t&&(a=this.ChartBorder.GetBottom());var r=this.ChartFrame.XPointCount,n=this.ChartBorder.GetLeft()+i/2+lo.FrameLeftMargin;t&&(n=this.ChartBorder.GetTop()+i/2+lo.FrameLeftMargin);var o=this.IsMinuteFrame();this.Canvas.save();var s=!1,l=!1,h=lo.EmptyBarBGColor;if(o)this.Width>1?this.Canvas.lineWidth=2*c():this.Canvas.lineWidth=c(),this.Canvas.strokeStyle=this.Color;else if(0==this.Width)this.SetEmptyBar();else if(3==this.Width||50==this.Width)e>=4?(l=!0,this.SetEmptyBar(),this.IsEmptyBar()||(this.Canvas.fillStyle=this.Color),this.Canvas.strokeStyle=this.Color):(this.Canvas.lineWidth=c(),this.Canvas.strokeStyle=this.Color);else if(101==this.Width){var u=e+i+1*c();this.Canvas.lineWidth=u,this.Canvas.strokeStyle=this.Color}else if(this.Width<=3){var d=2*c(),f=e*(this.Width/3);f<d&&(f=d),this.SetEmptyBar(),this.IsEmptyBar()||(this.Canvas.fillStyle=this.Color),s=!0}else{var f=this.Width*c()+e;this.SetEmptyBar(),this.IsEmptyBar()||(this.Canvas.fillStyle=this.Color),s=!0}for(var p=this.Data.DataOffset,m=0;p<this.Data.Data.length&&m<r;++p,++m,n+=e+i){var C=this.Data.Data[p];if(null!=C){var D=C.Value,S=C.Value2;if(null==S&&(S=0),o)var x=this.ChartFrame.GetXFromIndex(m);else var b=n,I=n+e,x=b+(I-b)/2;var T=this.ChartFrame.GetYFromData(D),y=this.ChartFrame.GetYFromData(S);if(x>a)break;if(s)if(t){var b=x-f/2,w=f;this.IsEmptyBar()?(this.Canvas.beginPath(),this.Canvas.rect(v(Math.min(T,y)),v(b),g(Math.abs(T-y)),g(w)),this.Canvas.stroke()):this.Canvas.fillRect(g(Math.min(T,y)),g(b),g(Math.abs(T-y)),g(w))}else{var b=x-f/2,w=f;b+w>a&&(w=a-b),this.IsEmptyBar()?(h&&this.Canvas.fillRect(g(b),g(Math.min(T,y)),g(w),g(Math.abs(T-y))),this.Canvas.beginPath(),this.Canvas.rect(v(b),v(Math.min(T,y)),g(w),g(Math.abs(T-y))),this.Canvas.stroke()):this.Canvas.fillRect(g(b),g(Math.min(T,y)),g(w),g(Math.abs(T-y)))}else if(l)this.IsEmptyBar()?t?(this.Canvas.beginPath(),this.Canvas.rect(v(Math.min(T,y)),v(n),g(Math.abs(T-y)),g(e)),this.Canvas.stroke()):(h&&this.Canvas.fillRect(g(n),g(Math.min(T,y)),g(e),g(Math.abs(T-y))),this.Canvas.beginPath(),this.Canvas.rect(v(n),v(Math.min(T,y)),g(e),g(Math.abs(T-y))),this.Canvas.stroke()):t?this.Canvas.fillRect(g(Math.min(T,y)),g(n),g(Math.abs(T-y)),g(e)):this.Canvas.fillRect(g(n),g(Math.min(T,y)),g(e),g(Math.abs(T-y)));else if(t)this.Canvas.beginPath(),this.Canvas.moveTo(T,v(x)),this.Canvas.lineTo(y,v(x)),this.Canvas.stroke();else{var E=parseInt(x.toString())+.5;this.Canvas.beginPath(),this.Canvas.moveTo(E,T),this.Canvas.lineTo(E,y),this.Canvas.stroke()}}}this.Canvas.restore()}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(e.Min=null,e.Max=null,!this.Data||!this.Data.Data)return e;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];if(null!=r){var n=r.Value2;if(null==n&&(n=0),null!=r&&!isNaN(r.Value)&&!isNaN(n)){var o=Math.max(r.Value,n),s=Math.min(r.Value,n);null==e.Max&&(e.Max=o),null==e.Min&&(e.Min=s),e.Max<o&&(e.Max=o),e.Min>s&&(e.Min=s)}}}return e}}function Et(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartSingleText",this.Color="rgb(255,193,37)",this.TextFont="14px 微软雅黑",this.Text,this.TextAlign="left",this.TextBG,this.Direction=0,this.FixedFontSize=-1,this.YOffset=0,this.Position,this.ShowOffset={X:0,Y:0},this.IconFont,this.IconSize={Max:lo.DRAWICON.Icon.MaxSize,Min:lo.DRAWICON.Icon.MinSize,Zoom:{Type:lo.DRAWICON.Icon.Zoom.Type,Value:lo.DRAWICON.Icon.Zoom.Value},YOffset:lo.DRAWICON.Icon.YOffset},this.TextSize={Max:lo.DRAWICON.Text.MaxSize,Min:lo.DRAWICON.Text.MinSize,Zoom:{Type:lo.DRAWICON.Text.Zoom.Type,Value:lo.DRAWICON.Text.Zoom.Value},FontName:lo.DRAWICON.Text.FontName,YOffset:lo.DRAWICON.Text.YOffset},this.Font={DRAWTEXT_FIX:lo.DRAWTEXT_FIX.Font,DRAWNUMBER_FIX:lo.DRAWNUMBER_FIX.Font},this.ExportData=this.ExportBoolData,this.ReloadResource=function(t){"DRAWTEXT"==this.Name?this.TextSize={Max:lo.DRAWTEXT.MaxSize,Min:lo.DRAWTEXT.MinSize,Zoom:{Type:lo.DRAWTEXT.Zoom.Type,Value:lo.DRAWTEXT.Zoom.Value},FontName:lo.DRAWTEXT.FontName,YOffset:lo.DRAWTEXT.YOffset}:"DRAWNUMBER"==this.Name?this.TextSize={Max:lo.DRAWNUMBER.MaxSize,Min:lo.DRAWNUMBER.MinSize,Zoom:{Type:lo.DRAWNUMBER.Zoom.Type,Value:lo.DRAWNUMBER.Zoom.Value},FontName:lo.DRAWNUMBER.FontName,YOffset:lo.DRAWNUMBER.YOffset}:"DRAWTEXT_FIX"==this.Name?this.Font.DRAWTEXT_FIX=lo.DRAWTEXT_FIX.Font:"DRAWNUMBER_FIX"==this.Name&&(this.Font.DRAWNUMBER_FIX=lo.DRAWNUMBER_FIX.Font)},this.SuperGetMaxMin=this.GetMaxMin,this.GetMaxMin=function(){return"DRAWTEXT_FIX"==this.Name||"DRAWNUMBER_FIX"==this.Name?{Min:null,Max:null}:"DRAWTEXTREL"==this.Name||"DRAWTEXTABS"==this.Name?{Min:null,Max:null}:this.SuperGetMaxMin()},this.DrawRectText=function(){if(this.DrawData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.GetBorder();if("DRAWTEXTREL"==this.Name)if(t)var i=e.RightTitle-e.LeftEx,a=e.BottomEx-e.TopEx,r=this.DrawData.Point.X/1e3*a+e.TopEx,n=e.RightTitle-this.DrawData.Point.Y/1e3*a;else var a=e.RightEx-e.LeftEx,i=e.BottomEx-e.TopTitle,r=this.DrawData.Point.X/1e3*a+e.LeftEx,n=this.DrawData.Point.Y/1e3*i+e.TopTitle;else{if("DRAWTEXTABS"!=this.Name)return;if(t)var r=this.DrawData.Point.X+e.TopEx,n=e.RightTitle-this.DrawData.Point.Y;else var r=this.DrawData.Point.X+e.LeftEx,n=this.DrawData.Point.Y+e.TopTitle}1==this.Direction?this.Canvas.textBaseline="bottom":2==this.Direction?this.Canvas.textBaseline="top":this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.font=this.TextFont,this.Canvas.fillStyle=this.Color,this.DrawText(this.DrawData.Text,r,n,t)}},this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if("DRAWTEXTREL"==this.Name||"DRAWTEXTABS"==this.Name)return void this.DrawRectText();if(this.Position)return void this.DrawPosition();if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.IsMinuteFrame(),i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+a/2+lo.FrameLeftMargin,n=this.ChartBorder.GetRight(),o=this.ChartBorder.GetTopEx(),s=this.ChartBorder.GetBottomEx();t&&(n=this.ChartBorder.GetBottom(),o=this.ChartBorder.GetRightEx(),s=this.ChartBorder.GetLeftEx(),r=this.ChartBorder.GetTop()+a/2+lo.FrameLeftMargin);var l=this.ChartFrame.XPointCount,h=Array.isArray(this.Text),u=c(),d={Text:{},Font:{}};if(1==this.Direction?(this.Canvas.textBaseline="bottom",d.Text={Baseline:"bottom"}):2==this.Direction?(this.Canvas.textBaseline="top",d.Text={Baseline:"top"}):(this.Canvas.textBaseline="middle",d.Text={Baseline:"middle"}),this.IconFont){if(this.Color=this.IconFont.Color,this.Text=this.IconFont.Text,this.FixedFontSize>0)var f=this.FixedFontSize;else var f=this.GetDynamicIconSize(i,a,this.IconSize.Max,this.IconSize.Min,this.IconSize.Zoom);this.Canvas.font=f+"px "+this.IconFont.Family}else this.FixedFontSize>0?this.TextFont=this.FixedFontSize+"px "+this.TextSize.FontName:this.TextFont=this.GetDynamicFont(i,a,this.TextSize.Max,this.TextSize.Min,this.TextSize.Zoom,this.TextSize.FontName),this.Canvas.font=this.TextFont;d.Font={Height:this.GetFontHeight()};for(var p=this.Data.DataOffset,m=0;p<this.Data.Data.length&&m<l;++p,++m,r+=i+a){var C=this.Data.Data[p];if(null!=C){if(e)var D=this.ChartFrame.GetXFromIndex(m);else{var g=r,S=r+i;if(S>n)break;var D=g+(S-g)/2}var x=this.ChartFrame.GetYFromData(C);if(D>n)break;if(x+=this.ShowOffset.Y,D+=this.ShowOffset.X,this.Canvas.textAlign=this.TextAlign,this.Canvas.fillStyle=this.Color,d.Text.Color=this.Color,d.Text.Align=this.TextAlign,d.X=D,d.Y=x,this.YOffset>0&&this.Direction>0){var b=x;this.Canvas.setLineDash([5,10]),this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?(1==this.Direction?(x=o-this.YOffset*u,b+=5*u):(x=s+this.YOffset*u,b-=5*u),this.Canvas.moveTo(v(b),v(D)),this.Canvas.lineTo(v(x),v(D))):(1==this.Direction?(x=o+this.YOffset*u,b+=5*u):(x=s-this.YOffset*u,b-=5*u),this.Canvas.moveTo(v(D),v(b)),this.Canvas.lineTo(v(D),v(x))),this.Canvas.stroke(),this.Canvas.setLineDash([])}if(h){var I=this.Text[p];if(!I)continue;"DRAWNUMBER"==this.Name&&(1==this.Direction?x-=lo.DRAWABOVE.YOffset*u:2==this.Direction&&(x+=this.TextSize.YOffset*u)),"DRAWTEXT"==this.Name?this.DrawTextV2(I,d,t):this.DrawText(I,D,x,t)}else"DRAWICON"==this.Name?1==this.Direction?x-=lo.DRAWABOVE.YOffset*u:2==this.Direction&&(this.IconFont?x+=this.IconSize.YOffset*u:x+=this.TextSize.YOffset*u):"DRAWTEXT"==this.Name&&(1==this.Direction?x-=lo.DRAWABOVE.YOffset*u:2==this.Direction&&(x+=this.TextSize.YOffset*u)),"DRAWTEXT"==this.Name?this.DrawTextV2(this.Text,d,t):this.DrawText(this.Text,D,x,t)}}}}},this.DrawPosition=function(){if(this.Text){var t=!0===this.ChartFrame.IsHScreen;if(t)var e=this.ChartBorder.GetRightEx()-this.ChartBorder.GetWidthEx()*this.Position.Y,i=this.ChartBorder.GetTop()+this.ChartBorder.GetHeight()*this.Position.X;else var i=this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*this.Position.X,e=this.ChartBorder.GetTopEx()+this.ChartBorder.GetHeightEx()*this.Position.Y;if(this.Canvas.fillStyle=this.Color,"DRAWTEXT_FIX"==this.Name?this.Canvas.font=this.Font.DRAWTEXT_FIX:"DRAWNUMBER_FIX"==this.Name&&(this.Canvas.font=this.Font.DRAWNUMBER_FIX),0==this.Position.Type?this.Canvas.textAlign="left":1==this.Position.Type?this.Canvas.textAlign="right":this.Canvas.textAlign="center",1==this.Direction?this.Canvas.textBaseline="bottom":2==this.Direction?this.Canvas.textBaseline="top":this.Canvas.textBaseline="middle",Array.isArray(this.Text)){if(!this.Data||!this.Data.Data)return;for(var a=this.ChartFrame.XPointCount,r=this.Data.DataOffset,n=0;r<this.Data.Data.length&&n<a;++r,++n){var o=this.Text[r];if(o){this.DrawText(o,i,e,t);break}}}else this.DrawText(this.Text,i,e,t)}},this.DrawText=function(t,e,i,a){a?(this.Canvas.save(),this.Canvas.translate(i,e),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(t,0,0),this.Canvas.restore()):this.Canvas.fillText(t,e,i)},this.DrawTextV2=function(t,e,i){var a=this.Canvas.measureText(t).width;if(i){var r=e.Y,n=e.X;if("right"==e.Text.Align?n-=a:"center"==e.Text.Align&&(n-=a/2),"top"==e.Text.Baseline?r-=e.Font.Height:"middle"==e.Text.Baseline&&(r-=e.Font.Height/2),this.TextBG&&(this.TextBG.Color||this.TextBG.Border)){var o=this.TextBG.Margin,s=r-o[0],l=n-o[2],h=a+o[2]+o[3],u=e.Font.Height+o[0]+o[1];this.TextBG.Color&&(this.Canvas.fillStyle=this.TextBG.Color,this.Canvas.fillRect(s,l,u,h)),this.TextBG.Border&&(this.Canvas.strokeStyle=this.TextBG.Border,this.Canvas.strokeRect(v(s),v(l),g(u),g(h)))}this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.fillStyle=e.Text.Color,this.Canvas.save(),this.Canvas.translate(r,n),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(t,0,0),this.Canvas.restore()}else{var r=e.X,n=e.Y;if("right"==e.Text.Align?r-=a:"center"==e.Text.Align&&(r-=a/2),"top"==e.Text.Baseline?n+=e.Font.Height:"middle"==e.Text.Baseline&&(n+=e.Font.Height/2),this.TextBG&&(this.TextBG.Color||this.TextBG.Border)){var o=this.TextBG.Margin,s=r-o[2],l=n-e.Font.Height-o[1],h=a+o[2]+o[3],u=e.Font.Height+o[0]+o[1];this.TextBG.Color&&(this.Canvas.fillStyle=this.TextBG.Color,this.Canvas.fillRect(s,l,h,u)),this.TextBG.Border&&(this.Canvas.strokeStyle=this.TextBG.Border,this.Canvas.strokeRect(v(s),v(l),g(h),g(u)))}this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.fillStyle=e.Text.Color,this.Canvas.fillText(t,r,n)}}}function Ft(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawText",this.Color="rgb(255,193,37)",this.TextFont="14px 微软雅黑",this.TextBaseline="middle",this.TextAlign="left",this.Text,this.TextBG,this.FixedFontSize=-1,this.YOffset=0,this.FixedPosition=-1,this.VerticalLine,this.ShowOffset={X:0,Y:0},this.ExportData=this.ExportBoolData,this.TextSize={Max:lo.DRAWICON.Text.MaxSize,Min:lo.DRAWICON.Text.MinSize,Zoom:{Type:lo.DRAWICON.Text.Zoom.Type,Value:lo.DRAWICON.Text.Zoom.Value},FontName:lo.DRAWICON.Text.FontName,YOffset:lo.DRAWICON.Text.YOffset},this.ReloadResource=function(t){this.TextSize={Max:lo.DRAWTEXT.MaxSize,Min:lo.DRAWTEXT.MinSize,Zoom:{Type:lo.DRAWTEXT.Zoom.Type,Value:lo.DRAWTEXT.Zoom.Value},FontName:lo.DRAWTEXT.FontName,YOffset:lo.DRAWTEXT.YOffset}},this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.IsMinuteFrame(),i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetLeft()+a/2+lo.FrameLeftMargin,n=this.ChartBorder.GetRight(),o=this.ChartBorder.GetTopEx(),s=this.ChartBorder.GetBottomEx();t&&(n=this.ChartBorder.GetBottom(),o=this.ChartBorder.GetRightEx(),s=this.ChartBorder.GetLeftEx(),r=this.ChartBorder.GetTop()+a/2+lo.FrameLeftMargin);var l=this.ChartFrame.XPointCount,h=Array.isArray(this.Text),u={Text:{Color:this.Color,Align:this.TextAlign,Baseline:this.TextBaseline},Font:{}};this.FixedFontSize>0?this.TextFont=this.FixedFontSize+"px "+this.TextSize.FontName:this.TextFont=this.GetDynamicFont(i,a,this.TextSize.Max,this.TextSize.Min,this.TextSize.Zoom,this.TextSize.FontName),this.Canvas.font=this.TextFont,u.Font={Height:this.GetFontHeight()};for(var c=this.Data.DataOffset,d=0;c<this.Data.Data.length&&d<l;++c,++d,r+=i+a){var f=this.Data.Data[c];if(null!=f){if(e)var p=this.ChartFrame.GetXFromIndex(d);else{var m=r,C=r+i;if(C>n)break;var p=m+(C-m)/2}var v;if(v=1===this.FixedPosition?o:2===this.FixedPosition?s:this.ChartFrame.GetYFromData(f),p>n)break;if(v+=this.ShowOffset.Y,p+=this.ShowOffset.X,u.X=p,u.Y=v,h){var D=this.Text[c];if(!D)continue;this.DrawText(D,u,t)}else this.DrawText(this.Text,u,t);this.DrawVerticalLine(c,u,t)}}}}},this.DrawText=function(t,e,i){var a=this.Canvas.measureText(t).width;if(i){var r=e.Y,n=e.X;if("right"==e.Text.Align?n-=a:"center"==e.Text.Align&&(n-=a/2),"top"==e.Text.Baseline?r-=e.Font.Height:"middle"==e.Text.Baseline&&(r-=e.Font.Height/2),this.TextBG&&(this.TextBG.Color||this.TextBG.Border)){var o=this.TextBG.Margin,s=r-o[0],l=n-o[2],h=a+o[2]+o[3],u=e.Font.Height+o[0]+o[1];this.TextBG.Color&&(this.Canvas.fillStyle=this.TextBG.Color,this.Canvas.fillRect(s,l,u,h)),this.TextBG.Border&&(this.Canvas.strokeStyle=this.TextBG.Border,this.Canvas.strokeRect(v(s),v(l),g(u),g(h))),e.Rect={Bottom:s,Top:s+u}}else{var s=r,u=e.Font.Height;e.Rect={Bottom:s,Top:s+u}}this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.fillStyle=e.Text.Color,this.Canvas.save(),this.Canvas.translate(r,n),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(t,0,0),this.Canvas.restore()}else{var r=e.X,n=e.Y;if("right"==e.Text.Align?r-=a:"center"==e.Text.Align&&(r-=a/2),"top"==e.Text.Baseline?n+=e.Font.Height:"middle"==e.Text.Baseline&&(n+=e.Font.Height/2),this.TextBG&&(this.TextBG.Color||this.TextBG.Border)){var o=this.TextBG.Margin,s=r-o[2],l=n-e.Font.Height-o[1],h=a+o[2]+o[3],u=e.Font.Height+o[0]+o[1];this.TextBG.Color&&(this.Canvas.fillStyle=this.TextBG.Color,this.Canvas.fillRect(s,l,h,u)),this.TextBG.Border&&(this.Canvas.strokeStyle=this.TextBG.Border,this.Canvas.strokeRect(v(s),v(l),g(h),g(u))),e.Rect={Top:l,Bottom:l+u}}else{var l=n-e.Font.Height,u=e.Font.Height;e.Rect={Top:l,Bottom:l+u}}this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.fillStyle=e.Text.Color,this.Canvas.fillText(t,r,n)}},this.DrawVerticalLine=function(t,e,i){if(this.VerticalLine){var a=this.VerticalLine.Data[t];if(a&&Ee.IsNumber(a.High)&&Ee.IsNumber(a.Low)){var r,n,o=this.ChartFrame.GetYFromData(a.High),s=this.ChartFrame.GetYFromData(a.Low);if(i)if(e.Rect.Bottom>o)r=e.Rect.Bottom-1,n=o+1;else{if(!(e.Rect.Top<s))return;r=e.Rect.Top-1,n=s-1}else if(e.Rect.Bottom<o)r=e.Rect.Bottom+1,n=o-1;else{if(!(e.Rect.Top>s))return;r=e.Rect.Top-1,n=s+1}this.Canvas.save();var l=c(),h=e.X;1==this.VerticalLine.LineType&&(this.VerticalLine.LineDotted?this.Canvas.setLineDash(this.VerticalLine.LineDotted):this.Canvas.setLineDash([5,10])),Ee.IsPlusNumber(this.VerticalLine.LineWidth)&&(this.Canvas.lineWidth=this.VerticalLine.LineWidth*l),this.Canvas.strokeStyle=this.VerticalLine.Color,this.Canvas.beginPath(),i?(this.Canvas.moveTo(v(r),v(h)),this.Canvas.lineTo(v(n),v(h))):(this.Canvas.moveTo(v(h),v(r)),this.Canvas.lineTo(v(h),v(n))),this.Canvas.stroke(),this.Canvas.restore()}}}}function Lt(){this.newMethod=Ft,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawNumber",this.ReloadResource=function(t){this.TextSize={Max:lo.DRAWNUMBER.MaxSize,Min:lo.DRAWNUMBER.MinSize,Zoom:{Type:lo.DRAWNUMBER.Zoom.Type,Value:lo.DRAWNUMBER.Zoom.Value},FontName:lo.DRAWNUMBER.FontName,YOffset:lo.DRAWNUMBER.YOffset}}}function Mt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartStraightLine",this.Color="rgb(255,193,37)",this.Draw=function(){if(this.Data&&this.Data.Data&&1==this.Data.Data.length){var t=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight(),this.ChartFrame.XPointCount),e=this.Data.Data[0],i=this.ChartFrame.GetYFromData(e),a=this.ChartFrame.GetXFromIndex(0),r=this.ChartFrame.GetXFromIndex(t-1),n=parseInt(i.toString())+.5;this.Canvas.beginPath(),this.Canvas.moveTo(a,n),this.Canvas.lineTo(r,n),this.Canvas.strokeStyle=this.Color,this.Canvas.stroke()}},this.GetMaxMin=function(){var t=(this.ChartFrame.XPointCount,{});return t.Min=null,t.Max=null,this.Data&&this.Data.Data?1!=this.Data.Data.length?t:(t.Min=this.Data.Data[0],t.Max=this.Data.Data[0],t):t}}function At(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartStraightArea",this.Color="rgb(255,193,37)",this.Font="11px 微软雅黑",this.Draw=function(){if(!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){if(!0===this.ChartFrame.IsHScreen)return void this.HScreenDraw();var t=(this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight(),this.ChartBorder.GetBottom(),this.ChartBorder.GetLeft()),e=this.ChartFrame.XPointCount,i=this.ChartFrame.GetXFromIndex(e-1);for(var a in this.Data.Data){var r=this.Data.Data[a];if(null!=r&&!isNaN(r.Value)&&!isNaN(r.Value2)&&null!=r.Color){var n=Math.max(r.Value,r.Value2),o=Math.min(r.Value,r.Value2),s=this.ChartFrame.GetYFromData(n),l=this.ChartFrame.GetYFromData(o);if(this.Canvas.fillStyle=r.Color,this.Canvas.fillRect(g(t),g(s),g(i-t),g(l-s)),r.Title&&r.TitleColor){this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=r.TitleColor,this.Canvas.font=this.Font;var h=s+(l-s)/2;this.Canvas.fillText(r.Title,i,h)}}}}}},this.HScreenDraw=function(){var t=this.ChartBorder.GetBottom(),e=this.ChartBorder.GetTop(),i=this.ChartBorder.GetHeight();for(var a in this.Data.Data){var r=this.Data.Data[a];if(null!=r&&!isNaN(r.Value)&&!isNaN(r.Value2)&&null!=r.Color){var n=Math.max(r.Value,r.Value2),o=Math.min(r.Value,r.Value2),s=this.ChartFrame.GetYFromData(n),l=this.ChartFrame.GetYFromData(o);if(this.Canvas.fillStyle=r.Color,this.Canvas.fillRect(g(l),g(e),g(s-l),g(i)),r.Title&&r.TitleColor){var h=s+(l-s)/2,u=t;this.Canvas.save(),this.Canvas.translate(h,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=r.TitleColor,this.Canvas.font=this.Font,this.Canvas.fillText(r.Title,0,-2),this.Canvas.restore()}}}},this.GetMaxMin=function(){var t=(this.ChartFrame.XPointCount,{});if(t.Min=null,t.Max=null,!this.Data||!this.Data.Data)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];if(null!=i&&!isNaN(i.Value)&&!isNaN(i.Value2)){var a=Math.max(i.Value,i.Value2),r=Math.min(i.Value,i.Value2);null==t.Max&&(t.Max=a),null==t.Min&&(t.Min=r),t.Max<a&&(t.Max=a),t.Min>r&&(t.Min=r)}}return t}}function Ot(){this.newMethod=ct,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinutePriceLine",this.YClose,this.IsDrawArea=!0,this.AreaColor="rgba(0,191,255,0.1)",this.IsShowLead=!1,this.LeadData,this.UpColor=lo.UpBarColor,this.DownColor=lo.DownBarColor,this.BeforeOpenData,this.BeforeLineColor=lo.Minute.Before.LineColor,this.BeforeAvPriceColor=lo.Minute.Before.AvPriceColor,this.BeforePoint=S(lo.Minute.Before.Point),this.AfterCloseData,this.AfterLineColor=lo.Minute.After.LineColor,this.AfterAvPriceColor=lo.Minute.After.AvPriceColor,this.AfterPoint=S(lo.Minute.After.Point),this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.ColorLineData,this.Source,this.PtInChart=this.PtInLine,this.DrawSelectedStatus=this.DrawLinePoint,this.PtInChart=this.PtInLine,this.DrawSelectedStatus=this.DrawLinePoint,this.DayOffset,this.LastPoint={},this.FFMChart,this.DrawType=0,this.UpdateLastPoint=function(t,e,i,a){Ee.IsNumber(this.LastPoint.DateTime)&&this.LastPoint.DateTime>t||(this.LastPoint.DateTime=t,this.LastPoint.X=e,this.LastPoint.Y=i,this.LastPoint.Data=a,this.LastPoint.Value=a.Value)},this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.LastPoint={},this.IsShow){if(14==this.DrawType)return void(this.FFMChart&&this.FFMChart.Draw&&this.FFMChart.Draw(this));var t=!0===this.ChartFrame.IsHScreen;this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight();!0===t&&this.ChartBorder.GetBottom();var e=this.ChartFrame.XPointCount,i=this.ChartFrame.MinuteCount,a=this.ChartBorder.GetBottomEx(),r=this.ChartBorder.GetLeftEx(),n=this.Data;if(this.DrawBeforeOpen(),this.DrawMultiDayBeforeOpen(),this.IsShowLead&&this.DrawLead(),n){var o=!0,s={},l=0,h=0;this.Canvas.save(),Ee.IsPlusNumber(this.LineWidth>0)&&(this.Canvas.lineWidth=this.LineWidth);for(var u=n.DataOffset,c=0;u<n.Data.length&&c<e;++u,++c){var d=null;if(d=n.Data[u],++h,null!=d){var f=this.ChartFrame.GetXFromIndex(c),p=this.ChartFrame.GetYFromData(d);if(o?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(p,f):this.Canvas.moveTo(f,p),o=!1,s={X:f,Y:p}):t?this.Canvas.lineTo(p,f):this.Canvas.lineTo(f,p),this.Source){var m=this.Source.Data[u],C=1e6*m.Date+100*m.Time;this.UpdateLastPoint(C,f,p,{Value:d,Index:u,Date:m.Date,Time:m.Time,Type:0,Explain:"盘中"})}++l,h>=i&&(o=!0,this.Canvas.stroke(),this.IsDrawArea&&(t?(this.Canvas.lineTo(r,f),this.Canvas.lineTo(r,s.X),this.SetFillStyle(this.AreaColor,this.ChartBorder.GetRightEx(),a,this.ChartBorder.GetLeftEx(),a)):(this.Canvas.lineTo(f,a),this.Canvas.lineTo(s.X,a),this.SetFillStyle(this.AreaColor,r,this.ChartBorder.GetTopEx(),r,a)),this.Canvas.fill()),h=0,l=0)}}if(l>0&&(1==l?(this.Canvas.beginPath(),t?this.Canvas.arc(s.Y,s.X,1,0,360,!1):this.Canvas.arc(s.X,s.Y,1,0,360,!1),this.Canvas.closePath(),this.Canvas.fillStyle=this.Color,this.Canvas.fill()):(this.Canvas.stroke(),this.IsDrawArea&&(t?(this.Canvas.lineTo(r,f),this.Canvas.lineTo(r,s.X),this.SetFillStyle(this.AreaColor,this.ChartBorder.GetRightEx(),a,this.ChartBorder.GetLeftEx(),a)):(this.Canvas.lineTo(f,a),this.Canvas.lineTo(s.X,a),this.SetFillStyle(this.AreaColor,r,this.ChartBorder.GetTopEx(),r,a)),this.Canvas.fill()))),this.Canvas.restore(),this.DrawColorLine(),this.DrawAfterClose(),this.DrawMultiDayAfterClose(),this.GetEventCallback){var v=this.GetEventCallback(Rn.ON_DRAW_MINUTE_LAST_POINT);if(v){var n={LastPoint:{X:this.LastPoint.X,Y:this.LastPoint.Y},Price:this.LastPoint.Price,Data:this.LastPoint.Data};v.Callback(v,n,this)}}}}},this.DrawLead=function(){if(this.LeadData){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.XPointCount,i=this.ChartFrame.MinuteCount,a=(this.ChartBorder.GetBottomEx(),this.ChartBorder.GetTopEx());if(!0===t&&(a=this.ChartBorder.GetRightEx()),!(e>i)){for(var r=[],n=null,o=null,s=this.ChartFrame.GetYFromData(this.YClose),l=(s-a)/3,h=this.LeadData,u=h.DataOffset,c=0;u<h.Data.length&&c<e;++u,++c){var d=h.Data[u];if(Ee.IsNumber(d)&&0!=d){var f=this.ChartFrame.GetXFromIndex(c);(null==n||n<d)&&(n=d),(null==o||o>d)&&(o=d),r.push({X:f,Value:d})}}if(!(r.length<=0)){var p=Math.max(Math.abs(n),Math.abs(o));for(var u in r){var m=r[u];m.Value>0?this.Canvas.strokeStyle=this.UpColor:this.Canvas.strokeStyle=this.DownColor;var C=s-m.Value*l/p,f=v(m.X);this.Canvas.beginPath(),!0===t?(this.Canvas.moveTo(s,f),this.Canvas.lineTo(C,f)):(this.Canvas.moveTo(f,s),this.Canvas.lineTo(f,C)),this.Canvas.stroke()}}}}},this.DrawBeforeOpen=function(){this.ChartBorder.LeftExtendWidth<10||this.BeforeOpenData&&this.DrawCallAuction(-1,this.BeforeOpenData,!0)},this.DrawAfterClose=function(){this.ChartBorder.RightExtendWidth<10||this.AfterCloseData&&this.DrawCallAuction(-1,this.AfterCloseData,!1)},this.DrawMultiDayBeforeOpen=function(){if(!(this.ChartBorder.MultiDayMinute.Count<=1||this.ChartBorder.MultiDayMinute.Left<=0)&&this.MultiDayBeforeOpenData){var t=0,e=this.MultiDayBeforeOpenData.length;this.DayOffset&&(Ee.IsNumber(this.DayOffset.Offset)&&(t=this.DayOffset.Offset),Ee.IsNumber(this.DayOffset.ShowDayCount)&&(e=this.DayOffset.ShowDayCount));for(var i=t,a=0;i<this.MultiDayBeforeOpenData.length&&a<e;++i,++a){var r=this.MultiDayBeforeOpenData[i];this.DrawCallAuction(a,r,!0)}}},this.DrawMultiDayAfterClose=function(){if(!(this.ChartBorder.MultiDayMinute.Count<=1||this.ChartBorder.MultiDayMinute.Right<=0)&&this.MultiDayAfterCloseData){var t=0,e=this.MultiDayAfterCloseData.length;this.DayOffset&&(Ee.IsNumber(this.DayOffset.Offset)&&(t=this.DayOffset.Offset),Ee.IsNumber(this.DayOffset.ShowDayCount)&&(e=this.DayOffset.ShowDayCount));for(var i=t,a=0;i<this.MultiDayAfterCloseData.length&&a<e;++i,++a){var r=this.MultiDayAfterCloseData[i];this.DrawCallAuction(a,r,!1)}}},this.DrawCallAuction=function(t,e,i){if(e){e.Index=t;var a=!0===this.ChartFrame.IsHScreen,r=!0,n=0;e.TotalCount;if(3==e.Ver){for(var o=0;o<e.Data.length;++o){var s=e.Data[o];if(s&&Ee.IsNumber(s.AvPrice)){if(i)var l=this.ChartFrame.GetLeftExtendXFromIndex(o,e),h=this.ChartFrame.GetLeftExtendYFromData(s.AvPrice);else var l=this.ChartFrame.GetRightExtendXFromIndex(o,e),h=this.ChartFrame.GetRightExtendYFromData(s.AvPrice);r?(this.Canvas.strokeStyle=this.BeforeAvPriceColor,this.Canvas.beginPath(),a?this.Canvas.moveTo(h,l):this.Canvas.moveTo(l,h),r=!1):a?this.Canvas.lineTo(h,l):this.Canvas.lineTo(l,h),++n}}n>0&&this.Canvas.stroke()}for(var r=!0,n=0,u=[],o=0;o<e.Data.length;++o){var s=e.Data[o];if(s&&Ee.IsNumber(s.Price)){if(i)var l=this.ChartFrame.GetLeftExtendXFromIndex(o,e),h=this.ChartFrame.GetLeftExtendYFromData(s.Price);else var l=this.ChartFrame.GetRightExtendXFromIndex(o,e),h=this.ChartFrame.GetRightExtendYFromData(s.Price);r?(this.Canvas.strokeStyle=i?this.BeforeLineColor:this.AfterLineColor,this.Canvas.beginPath(),a?this.Canvas.moveTo(h,l):this.Canvas.moveTo(l,h),r=!1,u.push({X:l,Y:h})):(a?this.Canvas.lineTo(h,l):this.Canvas.lineTo(l,h),u.push({X:l,Y:h}));var c=1e6*s.Date+s.Time;this.UpdateLastPoint(c,l,h,{Value:s.Price,Index:o,Date:s.Date,Time:s.Time,Type:i?1:2,Explain:i?"盘前":"盘后"}),++n}else if(0==o&&i&&Ee.IsNumber(this.YClose)){var l=this.ChartFrame.GetLeftExtendXFromIndex(o,e),h=this.ChartFrame.GetLeftExtendYFromData(this.YClose);this.Canvas.strokeStyle=this.BeforeLineColor,this.Canvas.beginPath(),a?this.Canvas.moveTo(h,l):this.Canvas.moveTo(l,h),r=!1}}if(n>0&&this.Canvas.stroke(),2==e.Ver&&this.BeforePoint.Radius>0){this.Canvas.fillStyle=i?this.BeforePoint.Color:this.AfterPoint.Color;for(var o in u){var s=u[o];this.Canvas.beginPath(),a?this.Canvas.arc(s.Y,s.X,this.BeforePoint.Radius,0,2*Math.PI):this.Canvas.arc(s.X,s.Y,this.BeforePoint.Radius,0,2*Math.PI),this.Canvas.fill()}}}},this.FindColorLineItem=function(t){if(!t||!this.ColorLineData)return null;for(var e in this.ColorLineData){var i=this.ColorLineData[e];if(i.Date==t.Date&&t.Time>=i.Start&&t.Time<=i.End)return i}return null},this.DrawColorLine=function(){if(this.ColorLineData&&this.Source&&this.Data){var t=!0===this.ChartFrame.IsHScreen,e=(this.ChartBorder.GetBorder(),this.ChartFrame.XPointCount),i=(this.ChartFrame.MinuteCount,this.Data),a=!0,r={},n=0,o=null;this.Canvas.save();for(var s=i.DataOffset,l=0;s<i.Data.length&&l<e;++s,++l){var h=null;h=i.Data[s];var u=this.Source.Data[s];if(h&&u){var c=this.FindColorLineItem(u);if(c){o&&o!=c.Color&&(this.Canvas.stroke(),a=!0);var d=this.ChartFrame.GetXFromIndex(l),f=this.ChartFrame.GetYFromData(h);a?(this.Canvas.strokeStyle=c.Color,Ee.IsNumber(c.LineWidth)&&(this.Canvas.lineWidth=c.LineWidth),this.Canvas.beginPath(),t?this.Canvas.moveTo(f,d):this.Canvas.moveTo(d,f),a=!1,{X:d,Y:f},o=c.Color):t?this.Canvas.lineTo(f,d):this.Canvas.lineTo(d,f),r.X=d,r.Y=f,r.Price=h,++n}else n>0&&(this.Canvas.stroke(),a=!0)}}n>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.GetMaxMin=function(){if(14==this.DrawType&&this.FFMChart&&this.FFMChart.GetMaxMin)return this.FFMChart.GetMaxMin(this);var t=this.ChartFrame.XPointCount,e={};if(null==this.YClose)return e;if(!this.IsShow)return e;if(e.Min=this.YClose,e.Max=this.YClose,this.ChartBorder.LeftExtendWidth>10&&this.BeforeOpenData)for(var i in this.BeforeOpenData.Data){var a=this.BeforeOpenData.Data[i];a&&(Ee.IsNumber(a.Price)&&(null==e.Max&&(e.Max=a.Price),null==e.Min&&(e.Min=a.Price),e.Max<a.Price&&(e.Max=a.Price),e.Min>a.Price&&(e.Min=a.Price)),3==this.BeforeOpenData.Ver&&Ee.IsNumber(a.AvPrice)&&(null==e.Max&&(e.Max=a.AvPrice),null==e.Min&&(e.Min=a.AvPrice),e.Max<a.AvPrice&&(e.Max=a.AvPrice),e.Min>a.AvPrice&&(e.Min=a.AvPrice)))}for(var r=this.Data,i=r.DataOffset,n=0;i<r.Data.length&&n<t;++i,++n){var o=null;o=r.Data[i],null!=o&&(null==e.Max&&(e.Max=o),null==e.Min&&(e.Min=o),e.Max<o&&(e.Max=o),e.Min>o&&(e.Min=o))}if(e.Max==this.YClose&&e.Min==this.YClose)return e.Max=this.YClose+.1*this.YClose,e.Min=this.YClose-.1*this.YClose,e;var s=Math.max(Math.abs(this.YClose-e.Max),Math.abs(this.YClose-e.Min));return e.Max=this.YClose+s,e.Min=this.YClose-s,e},this.GetTooltipData=function(t,e,i){var a=!0===this.ChartFrame.IsHScreen;if(a)return!1;if(!this.IsShow)return!1;if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;if(1!=this.ChartBorder.PtInClient(t,e,this.Canvas,a))return!1;var r=this.Data,n=this.ChartFrame.GetXData(t),o=Math.ceil(n),s=Math.floor(n);if(o>=r.Data.length||s>=r.Data.length)return!1;if(o==s){r.Data[s]}else{var l=r.Data[s],h=r.Data[o],u={X:this.ChartFrame.GetXFromIndex(s),Y:this.ChartFrame.GetYFromData(l)},c={X:this.ChartFrame.GetXFromIndex(o),Y:this.ChartFrame.GetYFromData(h)};if(this.Canvas.beginPath(),this.Canvas.moveTo(u.X,u.Y+5),this.Canvas.lineTo(u.X,u.Y-5),this.Canvas.lineTo(c.X,c.Y-5),this.Canvas.lineTo(c.X,c.Y+5),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e))return i.Data={Index:n,Start:{Index:s,Item:r.Data[s]},End:{Index:o,Value:r.Data[o]}},i.ChartPaint=this,i.Type=5,!0}return!1}}function Nt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.Color="rgb(65,105,225)",this.MainData,this.MainYClose,this.SourceData,this.ClassName="ChartOverlayMinutePriceLine",this.Title,this.Symbol,this.YClose,this.Status=Qn.STATUS_NONE_ID,this.OverlayType=0,this.IsCalcuateMaxMin=!0,this.SetOption=function(t){t&&(Ee.IsNumber(t.OverlayType)&&(this.OverlayType=t.OverlayType),Ee.IsBool(t.IsCalcuateMaxMin)&&(this.IsCalcuateMaxMin=t.IsCalcuateMaxMin))},this.PtInChart=function(t,e){var i={MinuteOverlayPrice:!0,YClose:this.YClose,MainYClose:this.MainYClose,OverlayType:this.OverlayType};return this.PtInLine(t,e,i)},this.DrawSelectedStatus=function(){var t={MinuteOverlayPrice:!0,YClose:this.YClose,MainYClose:this.MainYClose,OverlayType:this.OverlayType};this.DrawLinePoint(t)},this.Draw=function(){if(this.Data){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();var t=!0===this.ChartFrame.IsHScreen;this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight();!0===t&&this.ChartBorder.GetBottom();var e=this.ChartFrame.XPointCount,i=this.ChartFrame.MinuteCount;this.Canvas.save(),this.ClipClient(t);for(var a=!0,r=0,n=0,o=this.Data.DataOffset+0,s=0;o<this.Data.Data.length&&s<e;++o,++s){var l=this.Data.Data[o].Close;if(null!=l){n=l,0==this.OverlayType&&(n=l/this.YClose*this.MainYClose);var h=this.ChartFrame.GetXFromIndex(s),u=this.ChartFrame.GetYFromData(n,!1);a?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(u,h):this.Canvas.moveTo(h,u),a=!1):t?this.Canvas.lineTo(u,h):this.Canvas.lineTo(h,u),++r,r>=i&&(a=!0,this.Canvas.stroke(),r=0)}}r>0&&this.Canvas.stroke(),this.Canvas.restore()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(!this.IsCalcuateMaxMin)return e;if(null==this.YClose)return e;e.Min=this.MainYClose,e.Max=this.MainYClose;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i].Close;null!=r&&(0==this.OverlayType&&(r=r/this.YClose*this.MainYClose),null==e.Max&&(e.Max=r),null==e.Min&&(e.Min=r),e.Max<r&&(e.Max=r),e.Min>r&&(e.Min=r))}return e},this.GetTooltipData=function(t,e,i){var a=!0===this.ChartFrame.IsHScreen;if(a)return!1;if(!this.IsShow)return!1;if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;if(!Ee.IsNumber(this.YClose)||!Ee.IsNumber(this.MainYClose))return!1;if(1!=this.ChartBorder.PtInClient(t,e,this.Canvas,a))return!1;var r=this.Data,n=this.ChartFrame.GetXData(t),o=Math.ceil(n),s=Math.floor(n);if(o>=r.Data.length||s>=r.Data.length)return!1;if(o==s){r.Data[s]}else{var l=r.Data[s].Close;l=l/this.YClose*this.MainYClose;var h=r.Data[o].Close;h=h/this.YClose*this.MainYClose;var u={X:this.ChartFrame.GetXFromIndex(s),Y:this.ChartFrame.GetYFromData(l)},c={X:this.ChartFrame.GetXFromIndex(o),Y:this.ChartFrame.GetYFromData(h)};if(this.Canvas.beginPath(),this.Canvas.moveTo(u.X,u.Y+5),this.Canvas.lineTo(u.X,u.Y-5),this.Canvas.lineTo(c.X,c.Y-5),this.Canvas.lineTo(c.X,c.Y+5),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e))return i.Data={Index:n,Start:{Index:s,Item:r.Data[s]},End:{Index:o,Value:r.Data[o]}},i.ChartPaint=this,i.Type=6,!0}return!1}}function _t(){this.newMethod=ct,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinutePositionLine",this.Draw=function(){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.IsShow){var t=!0===this.ChartFrame.IsHScreen;this.ChartFrame.DataWidth,this.ChartFrame.DistanceWidth,this.ChartBorder.GetRight();!0===t&&this.ChartBorder.GetBottom();var e=this.ChartFrame.XPointCount,i=this.ChartFrame.MinuteCount,a=(this.ChartBorder.GetBottomEx(),this.ChartBorder.GetLeftEx(),this.Data);if(a){var r=!0,n={},o={},s=0,l=0;this.Canvas.save(),Ee.IsPlusNumber(this.LineWidth>0)&&(this.Canvas.lineWidth=this.LineWidth),this.IsDotLine&&this.Canvas.setLineDash(lo.DOTLINE.LineDash);for(var h=a.DataOffset,u=0;h<a.Data.length&&u<e;++h,++u){var c=null;if(c=a.Data[h],++l,null!=c){var d=this.ChartFrame.GetXFromIndex(u),f=this.ChartFrame.GetYFromData(c);r?(this.Canvas.strokeStyle=this.Color,this.Canvas.beginPath(),t?this.Canvas.moveTo(f,d):this.Canvas.moveTo(d,f),r=!1,n={X:d,Y:f}):t?this.Canvas.lineTo(f,d):this.Canvas.lineTo(d,f),o.X=d,o.Y=f,o.Price=c,++s,l>=i&&(r=!0,this.Canvas.stroke(),l=0,s=0)}}s>0&&(1==s?(this.Canvas.beginPath(),t?this.Canvas.arc(n.Y,n.X,1,0,360,!1):this.Canvas.arc(n.X,n.Y,1,0,360,!1),this.Canvas.closePath(),this.Canvas.fillStyle=this.Color,this.Canvas.fill()):this.Canvas.stroke()),this.Canvas.restore()}}}}function Pt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartMinuteInfo",this.Data=new Mn.default,this.SourceData,this.ChartMinutePrice,this.YClose,this.HQChartBorder,this.TextColor=lo.MinuteInfo.TextColor,this.Font=lo.MinuteInfo.Font,this.PointColor=lo.MinuteInfo.PointColor,this.LineColor=lo.MinuteInfo.LineColor,this.TextBGColor=lo.MinuteInfo.TextBGColor,this.PixelTatio=c(),this.TextHeight=20,this.TextRectCache=[],this.InfoDrawCache=[],this.FrameBottom,this.FrameTop,this.FrameLeft,this.FrameRight,this.YOffset=5,this.IsHScreen=!1,this.IsDrawFull=!1,this.TooltipRect=[],this.SetOption=function(t){t.TextColor&&(this.TextColor=t.TextColor),t.TextBGColor&&(this.TextBGColor=t.TextBGColor),t.Font&&(this.Font=t.Font),t.PointColor&&(this.PointColor=t.PointColor),t.LineColor&&(this.LineColor=t.LineColor),t.TextHeight>0&&(this.TextHeight=t.TextHeight),1==t.IsDrawFull&&(this.IsDrawFull=!0)},this.Draw=function(){if(this.TooltipRect=[],this.ChartMinutePrice&&this.Data&&!(this.Data.size<=0)){this.TextRectCache=[],this.InfoDrawCache=[],this.PixelTatio=c(),this.YOffset=5*this.PixelTatio,this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount;this.ChartFrame.MinuteCount;this.FrameBottom=this.ChartBorder.GetBottom(),this.IsDrawFull&&this.HQChartBorder&&(this.FrameBottom=this.HQChartBorder.GetBottom()),this.FrameTop=this.ChartBorder.GetTop(),this.FrameLeft=this.ChartBorder.GetLeft(),this.FrameRight=this.ChartBorder.GetRight(),this.IsHScreen&&(this.FrameRight=this.ChartBorder.GetBottom(),this.FrameLeft=this.ChartBorder.GetTop(),this.FrameBottom=this.ChartBorder.GetLeft(),this.FrameTop=this.ChartBorder.GetRight()),this.YClose=this.ChartMinutePrice.YClose;for(var e=this.ChartMinutePrice.Source,i=e.DataOffset,a=0;i<e.Data.length&&a<t;++i,++a){var r=e.Data[i];if(r){var n=r.DateTime;this.Data.has(n)&&(this.IsHScreen?this.CalcuateInfoHScreenPosition(this.Data.get(n),a,r):this.CalcuateInfoPosition(this.Data.get(n),a,r))}}for(var i in this.InfoDrawCache){var r=this.InfoDrawCache[i];this.DrawInfoLines(r)}for(var i in this.InfoDrawCache){var r=this.InfoDrawCache[i];if(this.DrawInfoText(r),!this.IsHScreen){var o=r.Border,s=new et(o.X,o.Y,o.Width,o.Height),l={Data:{Item:r},Rect:s};this.TooltipRect.push(l)}}this.TextRectCache=[],this.InfoDrawCache=[]}},this.CalcuateInfoPosition=function(t,e,i){if(t&&t.Data&&!(t.Data.length<=0)){var a=t.Data[0];this.Canvas.font=this.Font;var r,n=this.Canvas.measureText(a.Title).width+4*this.PixelTatio,o=this.TextHeight*this.PixelTatio,s=this.ChartFrame.GetXFromIndex(e);r=Ee.IsNumber(a.Price)?this.ChartFrame.GetYFromData(a.Price):this.ChartFrame.GetYFromData(i.Close),s=v(s);var l=s<this.FrameLeft+Math.abs(this.FrameLeft-this.FrameRight)/2,h=[2,4,6,8,3,5,7],u=o+h[e%h.length]*this.PixelTatio,c={Y:[{Value:r+(o+this.YOffset),Offset:u},{Value:r-(2*o+this.YOffset),Offset:-u}]};i.Close<this.YClose&&(c.Y=c.Y.reverse());var d={X:s,Y:null,Width:n,Height:o};l||(d.X-=d.Width),this.FixTextRect(d,c);var f={Border:d,Start:{X:s,Y:r},IsLeft:l,Title:a.Title,Date:a.Date,Time:a.Time};a.Content&&(f.Content=a.Content),a.Link&&(f.Link=a.Link),a.Color&&(f.Color=a.Color),a.BGColor&&(f.BGColor=a.BGColor),this.InfoDrawCache.push(f),this.TextRectCache.push(d)}},this.CalcuateInfoHScreenPosition=function(t,e,i){if(t&&t.Data&&!(t.Data.length<=0)){var a=t.Data[0];this.Canvas.font=this.Font;var r,n=this.Canvas.measureText(a.Title).width+4*this.PixelTatio,o=this.TextHeight*this.PixelTatio,s=this.ChartFrame.GetXFromIndex(e);r=Ee.IsNumber(a.Price)?this.ChartFrame.GetYFromData(a.Price):this.ChartFrame.GetYFromData(i.Close),s=v(s);var l=s<this.FrameLeft+Math.abs(this.FrameLeft-this.FrameRight)/2,h=[2,4,6,8,3,5,7],u=o+h[e%h.length]*this.PixelTatio,c={X:[{Value:r+(o+this.YOffset),Offset:u},{Value:r-(2*o+this.YOffset),Offset:-u}]};i.Close>this.YClose&&(c.X=c.X.reverse());var d={X:null,Y:s,Width:o,Height:n};l||(d.Y-=d.Height),this.FixHScreenTextRect(d,c);var f={Border:d,Start:{X:r,Y:s},IsLeft:l,Title:a.Title};a.Content&&(f.Content=a.Content),a.Link&&(f.Link=a.Link),a.Color&&(f.Color=a.Color),a.BGColor&&(f.BGColor=a.BGColor),this.InfoDrawCache.push(f),this.TextRectCache.push(d)}},this.DrawInfoLines=function(t){var e=t.Border,i=t.IsLeft;this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(v(t.Start.X),t.Start.Y),i?this.Canvas.lineTo(v(t.Start.X),e.Y):this.IsHScreen?this.Canvas.lineTo(e.X,e.Y+e.Height):this.Canvas.lineTo(v(t.Start.X),e.Y),this.Canvas.stroke(),this.Canvas.fillStyle=this.PointColor,this.Canvas.beginPath(),this.Canvas.arc(t.Start.X,t.Start.Y,5,0,2*Math.PI),this.Canvas.closePath(),this.Canvas.fill()},this.DrawInfoText=function(t){var e=t.Border,i=e.X,a=e.Y;t.BGColor?this.Canvas.fillStyle=t.BGColor:this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(i,a,e.Width,e.Height),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.rect(i,a,e.Width,e.Height),this.Canvas.stroke(),this.IsHScreen&&(this.Canvas.save(),this.Canvas.translate(e.X,e.Y),this.Canvas.rotate(90*Math.PI/180),i=0,a=0),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",t.Color?this.Canvas.fillStyle=t.Color:this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.IsHScreen?this.Canvas.fillText(t.Title,i+2*this.PixelTatio,a-e.Width/2):this.Canvas.fillText(t.Title,i+2*this.PixelTatio,a+e.Height/2),this.IsHScreen&&this.Canvas.restore()},this.FixTextRect=function(t,e){for(var i in e.Y){var a=e.Y[i];t.Y=a.Value;for(var r,n=0;n<10;++n){var o=!1;for(var s in this.TextRectCache){var l=this.TextRectCache[s];if(this.IsOverlap(l,t)){o=!0;break}}if(0==o)return;if(r=t.Y,(r+=a.Offset)+t.Height>this.FrameBottom||r<this.FrameTop)break;t.Y=r}}},this.FixHScreenTextRect=function(t,e){for(var i in e.X){var a=e.X[i];t.X=a.Value;for(var r,n=0;n<10;++n){var o=!1;for(var s in this.TextRectCache){var l=this.TextRectCache[s];if(this.IsOverlap(l,t)){o=!0;break}}if(0==o)return;if(r=t.X,(r+=a.Offset)+t.Width<this.FrameBottom||r>this.FrameTop)break;t.X=r}}},this.IsOverlap=function(t,e){return t.X+t.Width>e.X&&e.X+e.Width>t.X&&t.Y+t.Height>e.Y&&e.Y+e.Height>t.Y},this.GetMaxMin=function(){return{Min:null,Max:null}},this.GetTooltipData=function(t,e,i){for(var a in this.TooltipRect){var r=this.TooltipRect[a];if(r.Rect){var n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return i.Data=r,i.ChartPaint=this,i.Type=3,!0}}return!1}}function Rt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartMACD",this.UpColor=lo.UpBarColor,this.DownColor=lo.DownBarColor,this.LineWidth=1,this.DrawSelectedStatus=this.DrawLinePoint,this.ExportData=this.ExportArrayData,this.PtInChart=function(t,e){var i=this.ChartFrame.DataWidth,a=this.LineWidth*c();return 50==this.barWidth?a=null:a>i&&(a=i),a<4&&(a=4),this.PtInBar(t,e,{BarWidth:a})},this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.IsVisible&&!this.IsShowIndexTitleOnly()&&!this.IsHideScriptIndex()){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();if(!0===this.ChartFrame.IsHScreen)return void this.HScreenDraw();var t=this.IsMinuteFrame(),e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetBorder(),r=a.LeftEx+i/2+lo.FrameLeftMargin,n=a.RightEx,o=this.ChartFrame.XPointCount,s=this.GetLockRect();s&&(n=s.Left);var l=this.ChartFrame.GetYFromData(0),h=this.LineWidth*c();50==this.LineWidth?h=e:h>e&&(h=e);var u=this.Canvas.lineWidth;this.Canvas.lineWidth=h;for(var d=this.Data.DataOffset,f=0;d<this.Data.Data.length&&f<o;++d,++f,r+=e+i){var p=this.Data.Data[d];if(null!=p){if(t)var m=this.ChartFrame.GetXFromIndex(f);else{var C=r,v=r+e;if(v>n)break;var m=C+(v-C)/2}var g=this.ChartFrame.GetYFromData(p);if(m>n)break;var S=D(h,m);this.Canvas.beginPath(),this.Canvas.moveTo(S,l),this.Canvas.lineTo(S,g),this.Canvas.strokeStyle=p>=0?this.UpColor:this.DownColor,this.Canvas.stroke(),this.Canvas.closePath()}}this.Canvas.lineWidth=u}},this.HScreenDraw=function(){var t=this.ChartFrame.DataWidth,e=(this.ChartFrame.DistanceWidth,this.ChartBorder.GetHScreenBorder()),i=e.BottomEx,a=this.ChartFrame.XPointCount,r=this.GetLockRect();r&&(i=r.Top);var n=this.ChartFrame.GetYFromData(0),o=this.LineWidth*c();50==this.LineWidth?o=t:o>t&&(o=t);var s=this.Canvas.lineWidth;this.Canvas.lineWidth=o;for(var l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<a;++l,++h){var u=this.Data.Data[l];if(null!=u){var d=this.ChartFrame.GetXFromIndex(h),f=this.ChartFrame.GetYFromData(u);if(d>i)break;this.Canvas.beginPath(),this.Canvas.moveTo(n,v(d)),this.Canvas.lineTo(f,v(d)),this.Canvas.strokeStyle=u>=0?this.UpColor:this.DownColor,this.Canvas.stroke(),this.Canvas.closePath()}}this.Canvas.lineWidth=s},this.GetItemData=function(t){if(!t)return null;if(!Ee.IsNumber(t.Index))return null;if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return null;var e=t.Index;if(e<0||e>=this.Data.Data.length)return null;var i=this.Data.Data[e];return[{Value:i,Color:i>0?this.UpColor:this.DownColor,Name:this.Name}]}}function Bt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartBar",this.UpBarColor=lo.UpBarColor,this.DownBarColor=lo.DownBarColor,this.Draw=function(){if(!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartBorder.GetRight(),a=this.ChartFrame.XPointCount,r=this.ChartBorder.GetLeft()+e/2+2,n=this.ChartFrame.GetYFromData(0);if(t>=4){n=g(n);for(var o=this.Data.DataOffset,s=0;o<this.Data.Data.length&&s<a;++o,++s,r+=t+e){var l=this.Data.Data[o];if(null!=l&&0!=l){var h=r,u=r+t;if(u>i)break;var c=this.ChartFrame.GetXFromIndex(s),d=this.ChartFrame.GetYFromData(l);this.Canvas.fillStyle=l>0?this.UpBarColor:this.DownBarColor;var f=g(Math.abs(n-d));d=n-d>0?n-f:n+f,this.Canvas.fillRect(g(h),d,g(t),f)}}}else for(var o=this.Data.DataOffset,s=0;o<this.Data.Data.length&&s<a;++o,++s,r+=t+e){var l=this.Data.Data[o];if(null!=l&&0!=l){var h=r,u=r+t;if(u>i)break;var c=this.ChartFrame.GetXFromIndex(s),d=this.ChartFrame.GetYFromData(l);this.Canvas.strokeStyle=l>0?this.UpBarColor:this.DownBarColor,this.Canvas.beginPath(),this.Canvas.moveTo(v(c),d),this.Canvas.lineTo(v(c),n),this.Canvas.stroke()}}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=0,e.Max=null;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];null==e.Max&&(e.Max=r),e.Max<r&&(e.Max=r)}return e}}function kt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.ClassName="ChartBand",this.FirstColor=lo.Index.LineColor[0],this.SecondColor=lo.Index.LineColor[1],this.Draw=function(){if(!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();for(var t=this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartFrame.XPointCount,r=this.ChartBorder.GetLeft()+i/2+2,n=0,o=0,s=0,l=[],h=[],u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<a;++u,++c,r+=e+i){for(l=[],h=[];u<this.Data.Data.length&&c<a;++u,++c,r+=e+i){var d=this.Data.Data[u];if(null==d||null==d.Value||null==d.Value2)break;n=this.ChartFrame.GetXFromIndex(c),o=this.ChartFrame.GetYFromData(d.Value),s=this.ChartFrame.GetYFromData(d.Value2),t?(l.push({x:o,y:n}),h.push({x:s,y:n})):(l.push({x:n,y:o}),h.push({x:n,y:s}))}l.length>1&&h.length>1&&this.DrawBand(l,h)}}},this.ClipTop=function(t){var e=this.ChartFrame.IsHScreen;this.Canvas.beginPath();for(var i=0;i<t.length;++i)0==i?this.Canvas.moveTo(t[i].x,t[i].y):this.Canvas.lineTo(t[i].x,t[i].y);var a=t[0],r=t[t.length-1];if(e){var n=this.ChartBorder.GetRightEx();this.Canvas.lineTo(n,r.y),this.Canvas.lineTo(n,a.y)}else{var o=this.ChartBorder.GetTopEx();this.Canvas.lineTo(r.x,o),this.Canvas.lineTo(a.x,o)}this.Canvas.closePath(),this.Canvas.clip()},this.ClipBottom=function(t){var e=this.ChartFrame.IsHScreen;this.Canvas.beginPath();for(var i=0;i<t.length;++i)0==i?this.Canvas.moveTo(t[i].x,t[i].y):this.Canvas.lineTo(t[i].x,t[i].y);var a=t[0],r=t[t.length-1];if(e){var n=this.ChartBorder.GetLeftEx();this.Canvas.lineTo(n,r.y),this.Canvas.lineTo(n,a.y)}else{var o=this.ChartBorder.GetBottomEx();this.Canvas.lineTo(r.x,o),this.Canvas.lineTo(a.x,o)}this.Canvas.closePath(),this.Canvas.clip()},this.DrawArea=function(t,e,i){this.Canvas.beginPath();for(var a=0;a<t.length;++a)0==a?this.Canvas.moveTo(t[a].x,t[a].y):this.Canvas.lineTo(t[a].x,t[a].y);for(var a=e.length-1;a>=0;--a)this.Canvas.lineTo(e[a].x,e[a].y);this.Canvas.closePath(),this.Canvas.fillStyle=i,this.Canvas.fill()},this.DrawBand=function(t,e){this.FirstColor&&(this.Canvas.save(),this.ClipTop(t),this.DrawArea(t,e,this.FirstColor),this.Canvas.restore()),this.SecondColor&&(this.Canvas.save(),this.ClipBottom(t),this.DrawArea(t,e,this.SecondColor),this.Canvas.restore())},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];if(null!=r&&null!=r.Value&&null!=r.Value2){var n=r.Value>r.Value2?r.Value:r.Value2,o=r.Value<r.Value2?r.Value:r.Value2;null==e.Max?e.Max=n:e.Max<n&&(e.Max=n),null==e.Min?e.Min=o:e.Min>o&&(e.Min=o)}}return e}}function Vt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.ClassName="ChartLineArea",this.Color="rgb(56,67,99)",this.IsHScreen=!1,this.Draw=function(){if(!this.ChartFrame.IsMinSize){if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetLeft()+e/2+lo.FrameLeftMargin,r=0,n=0,o=0,s=[],l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<i;++l,++h,a+=t+e){var u=this.Data.Data[l];s[l]=null,null!=u&&null!=u.Value&&null!=u.Value2&&(r=this.ChartFrame.GetXFromIndex(h),n=this.ChartFrame.GetYFromData(u.Value),o=this.ChartFrame.GetYFromData(u.Value2),this.IsHScreen?s[l]={Line:{X:n,Y:r},Line2:{X:o,Y:r}}:s[l]={Line:{X:r,Y:n},Line2:{X:r,Y:o}})}this.Canvas.fillStyle=this.Color;var c=!0,d=0,f=[];for(var l in s){var p=s[l];if(p)c?(this.Canvas.beginPath(),this.Canvas.moveTo(p.Line.X,p.Line.Y),c=!1):this.Canvas.lineTo(p.Line.X,p.Line.Y),f.push(p),++d;else{if(d>0){for(var h=f.length-1;h>=0;--h){var m=f[h];this.Canvas.lineTo(m.Line2.X,m.Line2.Y)}this.Canvas.closePath(),this.Canvas.fill()}c=!0,d=0,f=[]}}if(d>0){for(var h=f.length-1;h>=0;--h){var m=f[h];this.Canvas.lineTo(m.Line2.X,m.Line2.Y)}this.Canvas.closePath(),this.Canvas.fill()}}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];if(r&&null!=r.Value&&null!=r.Value2){var n=r.Value>r.Value2?r.Value:r.Value2,o=r.Value<r.Value2?r.Value:r.Value2;null==e.Max?e.Max=n:e.Max<n&&(e.Max=n),null==e.Min?e.Min=o:e.Min>o&&(e.Min=o)}}return e}}function Gt(){this.newMethod=Vt,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.IsHScreen=!1,this.ClassName="ChartFillRGN",this.DrawRGB=function(t){var e=!0,i=0,a=[],r=null;for(var n in t){var o=t[n];if(!o||r&&o.Color!=r){if(i>0){for(var s=a.length-1;s>=0;--s){var l=a[s];this.Canvas.lineTo(l.Line2.X,l.Line2.Y)}this.Canvas.closePath(),this.Canvas.fillStyle=r,this.Canvas.fill()}e=!0,i=0,a=[],r=null}o&&(e?(this.Canvas.beginPath(),this.Canvas.moveTo(o.Line.X,o.Line.Y),e=!1,r=o.Color):this.Canvas.lineTo(o.Line.X,o.Line.Y),a.push(o),++i)}if(i>0){for(var s=a.length-1;s>=0;--s){var l=a[s];this.Canvas.lineTo(l.Line2.X,l.Line2.Y)}this.Canvas.closePath(),this.Canvas.fillStyle=r,this.Canvas.fill()}},this.Draw=function(){if(!this.ChartFrame.IsMinSize){if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetLeft()+e/2+lo.FrameLeftMargin,r=0,n=0,o=0,s=[],l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<i;++l,++h,a+=t+e){var u=this.Data.Data[l];s[l]=null,null!=u&&null!=u.Value&&null!=u.Value2&&u.Color&&(r=this.ChartFrame.GetXFromIndex(h),n=this.ChartFrame.GetYFromData(u.Value),o=this.ChartFrame.GetYFromData(u.Value2),this.IsHScreen?s[l]={Line:{X:n,Y:r},Line2:{X:o,Y:r},Color:u.Color}:s[l]={Line:{X:r,Y:n},Line2:{X:r,Y:o},Color:u.Color})}this.DrawRGB(s)}}}}function Ht(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!1,this.ClassName="ChartFLOATRGN",this.Color="rgb(56,67,99)",this.IsHScreen=!1,this.Draw=function(){if(!this.ChartFrame.IsMinSize){if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetLeft()+e/2+lo.FrameLeftMargin,r=0,n=0,o=0,s=[],l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<i;++l,++h,a+=t+e){var u=this.Data.Data[l];s[l]=null,u&&Ee.IsNumber(u.Value)&&Ee.IsNumber(u.Value2)&&u.Color&&(r=this.ChartFrame.GetXFromIndex(h),n=this.ChartFrame.GetYFromData(u.Value),this.IsHScreen?s[l]={Line:{X:n,Y:r},Line2:{X:n+u.Value2*c(),Y:r},Color:u.Color}:s[l]={Line:{X:r,Y:n},Line2:{X:r,Y:n-u.Value2*c()},Color:u.Color})}var d=null;for(var l in s){var u=s[l];if(d&&u)if(this.IsHScreen){var f=u.Line.Y-d.Line.Y;r=d.Line.Y+f/2,n=d.Line.X+(u.Line.X-d.Line.X)/2,o=d.Line2.X+(u.Line2.X-d.Line2.X)/2,d.RightLine={X:n,Y:r},d.RightLine2={X:o,Y:r},u.LeftLine={X:n,Y:r},u.LeftLine2={X:o,Y:r}}else{var f=u.Line.X-d.Line.X;r=d.Line.X+f/2,n=d.Line.Y+(u.Line.Y-d.Line.Y)/2,o=d.Line2.Y+(u.Line2.Y-d.Line2.Y)/2,d.RightLine={X:r,Y:n},d.RightLine2={X:r,Y:o},u.LeftLine={X:r,Y:n},u.LeftLine2={X:r,Y:o}}d=u}this.DrawRGB(s)}}},this.DrawRGB=function(t){var e=!0,i=0,a=[],r=null;if(this.IsHScreen)var n=this.ChartBorder.GetLeftEx(),o=this.ChartBorder.GetRightEx(),s=this.ChartBorder.GetTop(),l=this.ChartBorder.GetBottom();else var n=this.ChartBorder.GetLeft(),o=this.ChartBorder.GetRight(),s=this.ChartBorder.GetTopEx(),l=this.ChartBorder.GetBottomEx();this.Canvas.save(),this.Canvas.beginPath(),this.Canvas.rect(n,s,o-n,l-s),this.Canvas.clip();for(var h in t){var u=t[h];if(!u||r&&u.Color!=r){if(i>0){var c=a[a.length-1],d=a[0];c.RightLine&&(this.Canvas.lineTo(c.RightLine.X,c.RightLine.Y),this.Canvas.lineTo(c.RightLine2.X,c.RightLine2.Y));for(var f=a.length-1;f>=0;--f){var p=a[f];this.Canvas.lineTo(p.Line2.X,p.Line2.Y)}d.LeftLine2&&this.Canvas.lineTo(d.LeftLine2.X,d.LeftLine2.Y),this.Canvas.closePath(),this.Canvas.fillStyle=r,this.Canvas.fill()}e=!0,i=0,a=[],r=null}u&&(e?(this.Canvas.beginPath(),u.LeftLine?(this.Canvas.moveTo(u.LeftLine.X,u.LeftLine.Y),this.Canvas.lineTo(u.Line.X,u.Line.Y)):this.Canvas.moveTo(u.Line.X,u.Line.Y),e=!1,r=u.Color):this.Canvas.lineTo(u.Line.X,u.Line.Y),a.push(u),++i)}if(i>0){var c=a[a.length-1],d=a[0];c.RightLine&&(this.Canvas.lineTo(c.RightLine.X,c.RightLine.Y),this.Canvas.lineTo(c.RightLine2.X,c.RightLine2.Y));for(var f=a.length-1;f>=0;--f){var p=a[f];this.Canvas.lineTo(p.Line2.X,p.Line2.Y)}d.LeftLine2&&this.Canvas.lineTo(d.LeftLine2.X,d.LeftLine2.Y),this.Canvas.closePath(),this.Canvas.fillStyle=r,this.Canvas.fill()}this.Canvas.restore()},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];if(r&&Ee.IsNumber(r.Value)){var n=r.Value;null==e.Max?e.Max=n:e.Max<n&&(e.Max=n),null==e.Min?e.Min=n:e.Min>n&&(e.Min=n)}}return e}}function Yt(){this.newMethod=Gt,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.IsHScreen=!1,this.ClassName="ChartFillBGRGN",this.DrawVerticalRGN=function(){for(var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetLeft()+e/2+lo.FrameLeftMargin,r=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetBottomEx(),o=r,s=n,l=[],h=this.Data.DataOffset,u=0;h<this.Data.Data.length&&u<i;++h,++u,a+=t+e){var c=this.Data.Data[h];l[h]=null,c&&c.Color&&(x=this.ChartFrame.GetXFromIndex(u),this.IsHScreen?l[h]={Line:{X:o,Y:x},Line2:{X:s,Y:x},Color:c.Color}:l[h]={Line:{X:x,Y:o},Line2:{X:x,Y:s},Color:c.Color})}this.DrawRGB(l)},this.Draw=function(){if(!this.ChartFrame.IsMinSize){if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.Data&&this.Data.Data){if("FILLVERTICALRGN"==this.Name)return void this.DrawVerticalRGN();var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount,a=this.ChartBorder.GetLeft()+e/2+lo.FrameLeftMargin,r=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetBottomEx(),o=0,s=0,l=r;"FILLBOTTOMRGN"==this.Name&&(l=n);for(var h=[],u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<i;++u,++c,a+=t+e){var d=this.Data.Data[u];h[u]=null,null!=d&&null!=d.Value&&d.Color&&(o=this.ChartFrame.GetXFromIndex(c),s=this.ChartFrame.GetYFromData(d.Value),this.IsHScreen?h[u]={Line:{X:s,Y:o},Line2:{X:l,Y:o},Color:d.Color}:h[u]={Line:{X:o,Y:s},Line2:{X:o,Y:l},Color:d.Color})}this.DrawRGB(h)}}},this.DrawRGB=function(t){var e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=(i+e)/2,r=!0,n=0,o=[],s=null;for(var l in t){var h=t[l];if(!h||s&&h.Color!=s){if(n>0){for(var u=o.length-1;u>=0;--u){var c=o[u];this.Canvas.lineTo(c.Line2.X+a,c.Line2.Y),this.Canvas.lineTo(c.Line2.X-a,c.Line2.Y)}this.Canvas.closePath(),this.Canvas.fillStyle=s,this.Canvas.fill()}r=!0,n=0,o=[],s=null}h&&(r?(this.Canvas.beginPath(),this.Canvas.moveTo(h.Line.X-a,h.Line.Y),this.Canvas.lineTo(h.Line.X+a,h.Line.Y),r=!1,s=h.Color):(this.Canvas.lineTo(h.Line.X-a,h.Line.Y),this.Canvas.lineTo(h.Line.X+a,h.Line.Y)),o.push(h),++n)}if(n>0){for(var u=o.length-1;u>=0;--u){var c=o[u];this.Canvas.lineTo(c.Line2.X+a,c.Line2.Y),this.Canvas.lineTo(c.Line2.X-a,c.Line2.Y)}this.Canvas.closePath(),this.Canvas.fillStyle=s,this.Canvas.fill()}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};e.Min=null,e.Max=null;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];if(r&&null!=r.Value){var r=r.Value;null==e.Max?e.Max=r:e.Max<r&&(e.Max=r),null==e.Min?e.Min=r:e.Min>r&&(e.Min=r)}}return e}}function Xt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.IsDrawFirst=!0,this.ClassName="ChartChannel",this.IsHScreen=!1,this.PointCount=0,this.DataWidth=0,this.DistanceWidth=0,this.ChartRight=0,this.LineColor="RGB(255,0,0)",this.LineDotted=[3,3],this.AreaColor="RGB(255,222,173)",this.LineWidth=1,this.CalculateData=function(){for(var t=[],e=[],i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<this.PointCount;++i,++a){var r=this.Data.Data[i];if(r&&Ee.IsNumber(r.Value)&&Ee.IsNumber(r.Value2)){var n=this.ChartFrame.GetXFromIndex(a);if(n>this.ChartRight)break;var o=this.ChartFrame.GetYFromData(r.Value),s=this.ChartFrame.GetYFromData(r.Value2);e.push({X:n,Y:o,Y2:s})}else e.length>0&&(t.push(e),e=[])}return e.length>0&&t.push(e),t},this.DrawArea=function(t){if(!(t.length<=0)){this.Canvas.beginPath();var e=0,i=t[0];this.IsHScreen?this.Canvas.moveTo(i.Y,i.X):this.Canvas.moveTo(i.X,i.Y);for(var a=1;a<t.length;++a){var r=t[a];this.IsHScreen?this.Canvas.lineTo(r.Y,r.X):this.Canvas.lineTo(r.X,r.Y),++e}for(var a=t.length-1;a>=0;--a){var r=t[a];this.IsHScreen?this.Canvas.lineTo(r.Y2,r.X):this.Canvas.lineTo(r.X,r.Y2),++e}this.Canvas.closePath(),this.Canvas.fillStyle=this.AreaColor,this.Canvas.fill()}},this.DrawLine=function(t){this.Canvas.strokeStyle=this.LineColor;for(var e=0;e<2;++e){for(var i=!0,a=0,r=0;r<t.length;++r){var n=t[r];i?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(0===e?n.Y:n.Y2,n.X):this.Canvas.moveTo(n.X,0===e?n.Y:n.Y2),i=!1):this.IsHScreen?this.Canvas.lineTo(0===e?n.Y:n.Y2,n.X):this.Canvas.lineTo(n.X,0===e?n.Y:n.Y2),++a}a>0&&this.Canvas.stroke()}},this.Draw=function(){if(!this.ChartFrame.IsMinSize){if(this.NotSupportMessage)return void this.DrawNotSupportmessage();this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.PointCount=this.ChartFrame.XPointCount,this.DataWidth=this.ChartFrame.DataWidth,this.DistanceWidth=this.ChartFrame.DistanceWidth,this.IsHScreen?this.ChartRight=this.ChartBorder.GetBottom():this.ChartRight=this.ChartBorder.GetRight();var t=this.CalculateData();if(t&&!(t.length<=0)){this.Canvas.save(),this.Canvas.lineWidth=this.LineWidth*c(),this.Canvas.setLineDash(this.LineDotted);for(var e=0;e<t.length;++e){var i=t[e];this.DrawArea(i),this.DrawLine(i)}this.Canvas.restore()}}},this.GetMaxMin=function(){for(var t=this.ChartFrame.XPointCount,e={Min:null,Max:null},i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];if(null!=r&&null!=r.Value&&null!=r.Value2){var n=r.Value>r.Value2?r.Value:r.Value2,o=r.Value<r.Value2?r.Value:r.Value2;null==e.Max?e.Max=n:e.Max<n&&(e.Max=n),null==e.Min?e.Min=o:e.Min>o&&(e.Min=o)}}return e}}function Wt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartBackground",this.Color=null,this.ColorAngle=0,this.IsDrawFirst=!0,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Color&&!(this.Color.length<=0)){if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,2==this.Color.length){if(this.IsHScreen)if(0==this.ColorAngle)var t={X:this.ChartBorder.GetRight(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()};else var t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetBottomEx()};else if(0==this.ColorAngle)var t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetBottomEx()};else var t={X:this.ChartBorder.GetLeft(),Y:this.ChartBorder.GetTopEx()},e={X:this.ChartBorder.GetRight(),Y:this.ChartBorder.GetTopEx()};var i=this.Canvas.createLinearGradient(t.X,t.Y,e.X,e.Y);i.addColorStop(0,this.Color[0]),i.addColorStop(1,this.Color[1]),this.Canvas.fillStyle=i}else{if(1!=this.Color.length)return;this.Canvas.fillStyle=this.Color[0]}if("DRAWGBK2"==this.Name||"KLINE_BG"==this.Name)return void this.DrawRegion();if(this.IsHScreen)var a=this.ChartBorder.GetLeftEx(),r=this.ChartBorder.GetTop(),n=this.ChartBorder.GetWidthEx(),o=this.ChartBorder.GetHeight();else var a=this.ChartBorder.GetLeft(),r=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetWidth(),o=this.ChartBorder.GetHeightEx();this.Canvas.fillRect(a,r,n,o)}},this.DrawRegion=function(){var t=this.ChartFrame.XPointCount,e=this.ChartBorder.GetLeft()+a/2+lo.FrameLeftMargin,i=this.ChartFrame.DataWidth,a=this.ChartFrame.DistanceWidth,r=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetBottomEx();this.IsHScreen&&(r=this.ChartBorder.GetRightEx(),n=this.ChartBorder.GetLeftEx());for(var o=[],s=this.Data.DataOffset,l=0;s<this.Data.Data.length&&l<t;++s,++l,e+=i+a){var h=this.Data.Data[s];if(o[s]=null,Ee.IsNumber(h)&&!(h<=0)){var u=this.ChartFrame.GetXFromIndex(l);this.ChartFrame.GetYFromData(h.Value);this.IsHScreen?o[s]={Line:{X:n,Y:u},Line2:{X:r,Y:u}}:o[s]={Line:{X:u,Y:r},Line2:{X:u,Y:n}}}}this.DrawBG(o)},this.DrawBG=function(t){var e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=(i+e)/2,r=!0,n=0,o=[],s=null;for(var l in t){var h=t[l];if(!h||s&&h.Color!=s){if(n>0){for(var u=o.length-1;u>=0;--u){var c=o[u];this.IsHScreen?(this.Canvas.lineTo(c.Line2.X,c.Line2.Y+a),this.Canvas.lineTo(c.Line2.X,c.Line2.Y-a)):(this.Canvas.lineTo(c.Line2.X+a,c.Line2.Y),this.Canvas.lineTo(c.Line2.X-a,c.Line2.Y))}this.Canvas.closePath(),this.Canvas.fill()}r=!0,n=0,o=[],s=null}h&&(r?(this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(h.Line.X,h.Line.Y-a),this.Canvas.lineTo(h.Line.X,h.Line.Y+a)):(this.Canvas.moveTo(h.Line.X-a,h.Line.Y),this.Canvas.lineTo(h.Line.X+a,h.Line.Y)),r=!1,s=h.Color):this.IsHScreen?(this.Canvas.lineTo(h.Line.X,h.Line.Y-a),this.Canvas.lineTo(h.Line.X,h.Line.Y+a)):(this.Canvas.lineTo(h.Line.X-a,h.Line.Y),this.Canvas.lineTo(h.Line.X+a,h.Line.Y)),o.push(h),++n)}if(n>0){for(var u=o.length-1;u>=0;--u){var c=o[u];this.IsHScreen?(this.Canvas.lineTo(c.Line2.X,c.Line2.Y+a),this.Canvas.lineTo(c.Line2.X,c.Line2.Y-a)):(this.Canvas.lineTo(c.Line2.X+a,c.Line2.Y),this.Canvas.lineTo(c.Line2.X-a,c.Line2.Y))}this.Canvas.closePath(),this.Canvas.fill()}},this.GetMaxMin=function(){return{Min:null,Max:null}}}function Ut(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartBackgroundDiv",this.AryColor,this.ColorType=0,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&Ee.IsNonEmptyArray(this.AryColor)&&this.Data&&this.Data.Data){var t,e,i,a,r,n=!0===this.ChartFrame.IsHScreen,o=this.ChartFrame.DataWidth,s=this.ChartFrame.DistanceWidth,l=this.ChartFrame.XPointCount;n?(t=this.ChartBorder.GetHScreenBorder(),e=t.TopEx+s/2+lo.FrameLeftMargin,i=t.BottomEx,a=t.LeftEx,r=t.RightEx):(t=this.ChartBorder.GetBorder(),e=t.LeftEx+s/2+lo.FrameLeftMargin,i=t.RightEx,a=t.TopEx,r=t.BottomEx);for(var h=null,u=this.Data.DataOffset,c=0;u<this.Data.Data.length&&c<l;++u,++c,e+=o+s){var d=this.Data.Data[u],f=e,p=e+o;if(p>i)break;if(d){var m=a,C=r;if(Ee.IsNonEmptyArray(d.AryValue)){var v=this.ChartFrame.GetYFromData(d.AryValue[0]),D=this.ChartFrame.GetYFromData(d.AryValue[1]);m=Math.min(v,D),C=Math.max(v,D)}n?h?(h.Bottom=p,h.Left>m&&(h.Left=m),h.Right<C&&(h.Right=C)):h={Left:m,Right:C,Top:f,Bottom:p}:h?(h.Right=p,h.Top>m&&(h.Top=m),h.Bottom<C&&(h.Bottom=C)):h={Left:f,Right:p,Top:m,Bottom:C}}else h&&this.DrawDiv(h,n),h=null}}},this.DrawDiv=function(t,e){if(2==this.ColorType)this.Canvas.strokeStyle=this.AryColor[0],this.Canvas.strokeRect(v(t.Left),v(t.Top),g(t.Right-t.Left),g(t.Bottom-t.Top));else if(3==this.ColorType)this.Canvas.fillStyle=this.AryColor[1],this.Canvas.fillRect(g(t.Left),g(t.Top),g(t.Right-t.Left),g(t.Bottom-t.Top)),this.Canvas.strokeStyle=this.AryColor[0],this.Canvas.strokeRect(v(t.Left),v(t.Top),g(t.Right-t.Left),g(t.Bottom-t.Top));else{if(0!=this.ColorType&&1!=this.ColorType)return;var i=null;i=e?0==this.ColorType?this.Canvas.createLinearGradient(t.Left,t.Top,t.Right,t.Top):this.Canvas.createLinearGradient(t.Left,t.Top,t.Left,t.Bottom):0==this.ColorType?this.Canvas.createLinearGradient(t.Left,t.Top,t.Left,t.Bottom):this.Canvas.createLinearGradient(t.Left,t.Top,t.Right,t.Top),i.addColorStop(.5,this.AryColor[0]),i.addColorStop(1,this.AryColor[1]),this.Canvas.fillStyle=i,this.Canvas.fillRect(g(t.Left),g(t.Top),g(t.Right-t.Left),g(t.Bottom-t.Top))}}}function zt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartRectangle",this.Color=[],this.Rect,this.BorderColor=lo.FrameBorderPen,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Color&&this.Rect&&!(this.Color.length<=0)){this.Canvas.strokeStyle=this.BorderColor;var t=!1;if(2==this.Color.length)this.Canvas.fillStyle=this.Color[0],t=!0;else{if(1!=this.Color.length)return;this.Color[0]&&(this.Canvas.fillStyle=this.Color[0],t=!0)}var e=this.ChartBorder.GetWidth(),i=this.ChartBorder.GetHeightEx(),a=this.Rect.Left/1e3*e,r=this.Rect.Top/1e3*i,n=this.Rect.Right/1e3*e,o=this.Rect.Bottom/1e3*i;a=this.ChartBorder.GetLeft()+a,r=this.ChartBorder.GetTopEx()+r,n=this.ChartBorder.GetLeft()+n,o=this.ChartBorder.GetTopEx()+o;var s=Math.abs(a-n),l=Math.abs(r-o);t&&this.Canvas.fillRect(a,r,s,l),this.Canvas.beginPath(),this.Canvas.rect(v(a),v(r),g(s),g(l)),this.Canvas.stroke()}}}function Kt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartTextLine",this.Text,this.Line,this.Price,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Text&&this.Line&&Ee.IsNumber(this.Price)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),i=this.ChartBorder.GetBottomEx(),a=this.ChartBorder.GetTopEx(),r=this.ChartFrame.GetYFromData(this.Price),n=0;if(this.Text.Title){var o=t+2*c(),s=r;this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var l=8*c();r-l<a?(this.Canvas.textBaseline="top",s=a):r+l>i&&(this.Canvas.textBaseline="bottom",s=i),this.Canvas.fillStyle=this.Text.Color,this.Canvas.font=this.Text.Font,this.Canvas.fillText(this.Text.Title,o,s),n=this.Canvas.measureText(this.Text.Title).width+4*c()}if(this.Line.Type>0){2==this.Line.Type&&(this.Canvas.save(),this.Canvas.setLineDash([3,5]));var o=t+n;this.Canvas.strokeStyle=this.Line.Color,this.Canvas.beginPath(),this.Canvas.moveTo(o,v(r)),this.Canvas.lineTo(e,v(r)),this.Canvas.stroke(),2==this.Line.Type&&this.Canvas.restore()}}},this.GetMaxMin=function(){var t={Min:null,Max:null};return Ee.IsNumber(this.Price)&&(t.Min=this.Price,t.Max=this.Price),t}}function $t(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiBar",this.Bars=[],this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=this.ChartFrame.DataWidth,a=c(),r=[];for(var n in this.Bars){var o=this.Bars[n],s={Point:[],Color:o.Color,Width:i,Type:0};o.Type>0&&(s.Type=o.Type),o.Width>0?(s.Width=o.Width*a,s.Width>i&&(s.Width=i)):s.Width<4&&(s.Width=1*a);for(var l in o.Point){var h=o.Point[l];if(Ee.IsNumber(h.Index)){var u=h.Index-e;if(u>=0&&u<t){var d=this.ChartFrame.GetXFromIndex(u),f=this.ChartFrame.GetYFromData(h.Value),p=this.ChartFrame.GetYFromData(h.Value2);s.Point.push({X:d,Y:f,Y2:p})}}}s.Point.length>0&&r.push(s)}for(var n in r){var o=r[n];o.Width>=4?1==o.Type?this.DrawHollowBar(o):this.DrawFillBar(o):this.DrawLineBar(o)}}},this.DrawLineBar=function(t){this.Canvas.strokeStyle=t.Color;var e=this.Canvas.lineWidth;this.Canvas.lineWidth=t.Width;for(var i in t.Point){var a=t.Point[i];this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(v(a.Y),v(a.X)),this.Canvas.lineTo(v(a.Y2),v(a.X))):(this.Canvas.moveTo(v(a.X),v(a.Y)),this.Canvas.lineTo(v(a.X),v(a.Y2))),this.Canvas.stroke()}this.Canvas.lineWidth=e},this.DrawFillBar=function(t){this.Canvas.fillStyle=t.Color;for(var e in t.Point){var i=t.Point[e],a=i.X-t.Width/2,r=Math.min(i.Y,i.Y2),n=t.Width,o=Math.abs(i.Y-i.Y2);this.IsHScreen?this.Canvas.fillRect(g(r),g(a),g(o),g(n)):this.Canvas.fillRect(g(a),g(r),g(n),g(o))}},this.DrawHollowBar=function(t){this.Canvas.strokeStyle=t.Color;for(var e in t.Point){var i=t.Point[e],a=i.X-t.Width/2,r=Math.min(i.Y,i.Y2),n=t.Width,o=Math.abs(i.Y-i.Y2);this.Canvas.beginPath(),this.IsHScreen?this.Canvas.rect(v(r),v(a),g(o),g(n)):this.Canvas.rect(v(a),v(r),g(n),g(o)),this.Canvas.stroke()}this.Canvas.lineWidth=1},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;for(var r in this.Bars){var n=this.Bars[r];for(var o in n.Point){var s=n.Point[o];if(s.Index>=i&&s.Index<a){var l=Math.min(s.Value,s.Value2),h=Math.max(s.Value,s.Value2);null==t.Max?t.Max=h:t.Max<h&&(t.Max=h),null==t.Min?t.Min=l:t.Min>l&&(t.Min=l)}}}return t}}function jt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiLine",this.Lines=[],this.LineDash,this.LineWidth=1,this.IsHScreen=!1,this.ArrawAngle=35,this.ArrawLength=10,this.ArrawLineWidth=5,this.Arrow={Start:!1,End:!1},this.IsFullRangeMaxMin=!1,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)&&Ee.IsNonEmptyArray(this.Lines)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;for(var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=[],a=[],r=0;r<this.Lines.length;++r){var n=this.Lines[r],o={Point:[],Color:n.Color,AryCircle:null},s={Start:[],End:[]};n.BGColor&&(o.BGColor=n.BGColor),Ee.IsNonEmptyArray(n.Circle)&&(o.AryCircle=n.Circle);var l=!1;if(Ee.IsBool(n.IsExtendLine)&&(l=n.IsExtendLine),l){for(var h=null,u=!0,d=0;d<n.Point.length;++d){var f=n.Point[d];if(Ee.IsNumber(f.Index)){var p=f.Index-e;if(p>0&&p<t){if(u){if(h){var m=h.Index-e,C=this.ChartFrame.GetXFromIndex(m,!1),v=this.ChartFrame.GetYFromData(h.Value,!1),D={X:C,Y:v,End:!1};o.Point.push(D)}u=!1}var C=this.ChartFrame.GetXFromIndex(p,!1),v=this.ChartFrame.GetYFromData(f.Value,!1),D={X:C,Y:v,End:!1};o.Point.push(D)}else if(o.Point.length>0){var C=this.ChartFrame.GetXFromIndex(p,!1),v=this.ChartFrame.GetYFromData(f.Value,!1),D={X:C,Y:v,End:!0};o.Point.push(D),u=!0,h=null}h=f}}o.Point.length>=2&&(i.push(o),a.push(s))}else{for(var d=0;d<n.Point.length;++d){var f=n.Point[d];if(Ee.IsNumber(f.Index)){var p=f.Index-e;if(p>=0&&p<t){var C=this.ChartFrame.GetXFromIndex(p),v=this.ChartFrame.GetYFromData(f.Value,!1),D={X:C,Y:v,End:!1};o.Point.push(D),0!=d&&1!=d||s.Start.push(D),d!=n.Point.length-1&&d!=n.Point.length-2||s.End.push(D)}else o.Point.length>0&&(o.Point[o.Point.length-1].End=!0)}}o.Point.length>=2&&(i.push(o),a.push(s))}}var g=c();this.Canvas.save(),this.ClipClient(this.IsHScreen);for(var r=0;r<i.length;++r){this.LineDash&&this.Canvas.setLineDash(this.LineDash),Ee.IsPlusNumber(this.LineWidth)?this.Canvas.lineWidth=this.LineWidth*g:this.Canvas.lineWidth=1*g;var S=i[r];this.DrawLine(S,a[r]),S.AryCircle&&this.DrawCircle(S)}this.Canvas.restore()}},this.DrawCircle=function(t){for(var e=c(),i=0;i<t.Point.length;++i)for(var a=t.Point[i],r=0;r<t.AryCircle.length;++r){var n=t.AryCircle[r],o=0;Ee.IsNumber(n.Type)&&(o=n.Type),this.Canvas.beginPath(),this.Canvas.arc(a.X,a.Y,n.Radius,0,2*Math.PI),1==o?(Ee.IsPlusNumber(n.LineWidth)&&(this.Canvas.lineWidth=n.LineWidth*e),this.Canvas.strokeStyle=n.Color,this.Canvas.stroke()):(this.Canvas.fillStyle=n.Color,this.Canvas.fill())}},this.DrawLine=function(t,e){if(t.BGColor){this.Canvas.fillStyle=t.BGColor;for(var i=0;i<t.Point.length;++i){var a=t.Point[i];0==i?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(a.Y,a.X):this.Canvas.moveTo(a.X,a.Y)):this.IsHScreen?this.Canvas.lineTo(a.Y,a.X):this.Canvas.lineTo(a.X,a.Y)}this.Canvas.closePath(),this.Canvas.fill()}this.Canvas.strokeStyle=t.Color;for(var r=0,i=0;i<t.Point.length;++i){var a=t.Point[i];0==r?(this.Canvas.beginPath(),this.IsHScreen?this.Canvas.moveTo(a.Y,a.X):this.Canvas.moveTo(a.X,a.Y),++r):(this.IsHScreen?this.Canvas.lineTo(a.Y,a.X):this.Canvas.lineTo(a.X,a.Y),++r),1==a.End&&(r>0&&this.Canvas.stroke(),r=0)}r>0&&this.Canvas.stroke(),2==e.End.length&&1==this.Arrow.End&&this.DrawArrow(e.End[0],e.End[1]),2==e.Start.length&&1==this.Arrow.Start&&this.DrawArrow(e.Start[1],e.Start[0])},this.DrawArrow=function(t,e){var i=this.ArrawAngle,a=this.ArrawLength,r=180*Math.atan2(t.Y-e.Y,t.X-e.X)/Math.PI,n=(r+i)*Math.PI/180,o=(r-i)*Math.PI/180,s=a*Math.cos(n),l=a*Math.sin(n),h=a*Math.cos(o),u=a*Math.sin(o);this.Canvas.beginPath();var d=e.X+s,f=e.Y+l;this.Canvas.moveTo(d,f),this.Canvas.lineTo(e.X,e.Y),d=e.X+h,f=e.Y+u,this.Canvas.lineTo(d,f),this.Canvas.setLineDash([]),this.Canvas.lineWidth=this.ArrawLineWidth*c(),this.Canvas.stroke()},this.GetMaxMin=function(){if(this.IsFullRangeMaxMin)return this.GetFullRangeMaxMin();var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;for(var r in this.Lines){var n=this.Lines[r];for(var o in n.Point){var s=n.Point[o];s.Index>=i&&s.Index<a&&(null==t.Max?t.Max=s.Value:t.Max<s.Value&&(t.Max=s.Value),null==t.Min?t.Min=s.Value:t.Min>s.Value&&(t.Min=s.Value))}}return t},this.GetFullRangeMaxMin=function(){var t={Min:null,Max:null};if(!Ee.IsNonEmptyArray(this.Lines))return t;for(var e=0;e<this.Lines.length;++e){var i=this.Lines[e];if(Ee.IsNonEmptyArray(i.Point))for(var a=0;a<i.Point.length;++a){var r=i.Point[a];null==t.Max?t.Max=r.Value:t.Max<r.Value&&(t.Max=r.Value),null==t.Min?t.Min=r.Value:t.Min>r.Value&&(t.Min=r.Value)}}return t}}function Jt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiPoint",this.PointGroup=[],this.IsHScreen=!1,this.LineWidth=1,this.PointRadius=5,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)&&Ee.IsNonEmptyArray(this.PointGroup)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=c();this.Canvas.save(),this.ClipClient(this.IsHScreen);for(var a=0;a<this.PointGroup.length;++a){var r=this.PointGroup[a],n=r.Color,o=r.BGColor,s=this.LineWidth,l=this.PointRadius;Ee.IsNumber(r.LineWidth)&&(s=r.LineWidth),Ee.IsNumber(r.PointRadius)&&(l=r.PointRadius);for(var h=new Path2D,u=0,d=0;d<r.Point.length;++d){var f=r.Point[d];if(Ee.IsNumber(f.Index)){var p=f.Index-e;if(p>=0&&p<t){var m=this.ChartFrame.GetXFromIndex(p),C=this.ChartFrame.GetYFromData(f.Value,!1),v=new Path2D;this.IsHScreen?v.arc(C,m,l*i,0,360,!1):v.arc(m,C,l*i,0,360,!1),h.addPath(v),++u}}}u>0&&(o||n)&&(this.Canvas.lineWidth=s*i,this.Canvas.fillStyle=o,this.Canvas.strokeStyle=n,o&&this.Canvas.fill(h),n&&this.Canvas.stroke(h))}this.Canvas.restore()}},this.GetMaxMin=function(){for(var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e,r=0;r<this.PointGroup.length;++r){var n=this.PointGroup[r];if(Ee.IsNonEmptyArray(n.Point))for(var o=0;o<n.Point.length;++o){var s=n.Point[o];s.Index>=i&&s.Index<a&&(null==t.Max?t.Max=s.Value:t.Max<s.Value&&(t.Max=s.Value),null==t.Min?t.Min=s.Value:t.Min>s.Value&&(t.Min=s.Value))}}return t}}function qt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiText",this.Texts=[],this.Font=lo.DefaultTextFont,this.Color=lo.DefaultTextColor,this.IsHScreen=!1,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)&&this.Texts){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetRight(),r=this.ChartBorder.GetTopEx(),n=this.ChartBorder.GetBottomEx();this.IsHScreen&&(i=this.ChartBorder.GetTop(),a=this.ChartBorder.GetBottom());for(var o=0,s=0;s<this.Texts.length;++s){var l=this.Texts[s];if(l.Text&&Ee.IsNumber(l.Index)){var h=l.Index-e;if(h>=0&&h<t){var u=this.ChartFrame.GetXFromIndex(h);o="TOP"==l.Value?r:"BOTTOM"==l.Value?n:this.ChartFrame.GetYFromData(l.Value),l.Color?this.Canvas.fillStyle=l.Color:this.Canvas.fillStyle=this.Color,l.Font?this.Canvas.font=l.Font:this.Canvas.font=this.Font;var c=this.Canvas.measureText(l.Text).width;if(this.Canvas.textAlign="center",u+c/2>=a?(this.Canvas.textAlign="right",u=a):u-c/2<i&&(this.Canvas.textAlign="left",u=i),1==l.Baseline?this.Canvas.textBaseline="top":2==l.Baseline?this.Canvas.textBaseline="bottom":this.Canvas.textBaseline="middle",this.IsHScreen?(this.Canvas.save(),this.Canvas.translate(o,u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(l.Text,0,0),this.Canvas.restore()):(Ee.IsNumber(l.YMove)&&(o+=l.YMove),this.Canvas.fillText(l.Text,u,o)),l.Line){var d=this.Data.Data[l.Index],f="H"==l.Line.KData?d.High:d.Low,p=this.ChartFrame.GetYFromData(f),m=o;Array.isArray(l.Line.Offset)&&2==l.Line.Offset.length&&(m>p?(m-=l.Line.Offset[1],p+=l.Line.Offset[0]):m<p&&(m+=l.Line.Offset[1],p-=l.Line.Offset[0])),this.Canvas.save(),l.Line.Dash&&this.Canvas.setLineDash(l.Line.Dash),l.Line.Width>0&&(this.Canvas.lineWidth=l.Line.Width),this.Canvas.strokeStyle=l.Line.Color,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(m,v(u)),this.Canvas.lineTo(p,v(u))):(this.Canvas.moveTo(v(u),m),this.Canvas.lineTo(v(u),p)),this.Canvas.stroke(),this.Canvas.restore()}}}}}},this.GetMaxMin=function(){var t={Min:null,Max:null};if(!this.Texts)return t;var e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;for(var r in this.Texts){var n=this.Texts[r];n.Index>=i&&n.Index<a&&(null==t.Max?t.Max=n.Value:t.Max<n.Value&&(t.Max=n.Value),null==t.Min?t.Min=n.Value:t.Min>n.Value&&(t.Min=n.Value))}return t}}function Zt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiSVGIcon",this.Icon,this.IconSize={Max:lo.DRAWICON.Icon.MaxSize,Min:lo.DRAWICON.Icon.MinSize,Zoom:{Type:lo.DRAWICON.Icon.Zoom.Type,Value:lo.DRAWICON.Icon.Zoom.Value}},this.Family,this.Color=lo.DefaultTextColor,this.IsHScreen=!1,this.IconRect=[],this.Draw=function(){if(this.IconRect=[],this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)&&this.Family&&this.Icon&&Ee.IsNonEmptyArray(this.Icon)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset;this.DataWidth=this.ChartFrame.DataWidth,this.DistanceWidth=this.ChartFrame.DistanceWidth;var i=this.GetBorder();if(this.IsHScreen)var a=i.TopEx,r=i.BottomEx;else var a=i.LeftEx,r=i.RightEx;var n=this.GetDynamicIconSize(this.DataWidth,this.DistanceWidth,this.IconSize.Max,this.IconSize.Min,this.IconSize.Zoom);this.Canvas.font=n+"px "+this.Family;for(var o=0;o<this.Icon.length;++o){var s=this.Icon[o];if(Ee.IsNumber(s.Index)){var l=s.Index-e;if(l>=0&&l<t){var h=this.ChartFrame.GetXFromIndex(l),u=this.ChartFrame.GetYFromData(s.Value);s.Color?this.Canvas.fillStyle=s.Color:this.Canvas.fillStyle=this.Color;var c=this.Canvas.measureText(s.Text).width;this.Canvas.textAlign="center";var d=new et(h-n/2,u-n/2,n,n);if(h+c/2>=r?(this.Canvas.textAlign="right",h+=this.DataWidth/2,d.X=h-n):h-c/2<a&&(this.Canvas.textAlign="left",h-=this.DataWidth/2,d.X=h),1==s.Baseline?(this.Canvas.textBaseline="top",d.Y=u):2==s.Baseline?(this.Canvas.textBaseline="bottom",d.Y=u-n):(this.Canvas.textBaseline="middle",d.Y=u-n/2),this.IsHScreen?(this.Canvas.save(),this.Canvas.translate(u,h),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s.Symbol,0,0),this.Canvas.restore()):(Ee.IsNumber(s.YMove)&&(u+=s.YMove),this.Canvas.fillText(s.Symbol,h,u),s.Text&&this.IconRect.push({Index:o,Rect:d,Item:s})),s.Line){var f=this.Data.Data[s.Index],p="H"==s.Line.KData?f.High:f.Low,m=this.ChartFrame.GetYFromData(p),C=u;Array.isArray(s.Line.Offset)&&2==s.Line.Offset.length&&(C>m?(C-=s.Line.Offset[1],m+=s.Line.Offset[0]):C<m&&(C+=s.Line.Offset[1],m-=s.Line.Offset[0])),this.Canvas.save(),s.Line.Dash&&this.Canvas.setLineDash(s.Line.Dash),s.Line.Width>0&&(this.Canvas.lineWidth=s.Line.Width),this.Canvas.strokeStyle=s.Line.Color,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(C,v(h)),this.Canvas.lineTo(m,v(h))):(this.Canvas.moveTo(v(h),C),this.Canvas.lineTo(v(h),m)),this.Canvas.stroke(),this.Canvas.restore()}}}}}},this.GetTooltipData=function(t,e,i){if(!Ee.IsNonEmptyArray(this.IconRect))return!1;for(var a=0;a<this.IconRect.length;++a){var r=this.IconRect[a];if(r.Rect){var n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return Nn.Chart.Log("[ChartMultiSVGIcon::GetTooltipData] icon ",r),i.Data=r,i.ChartPaint=this,i.Type=4,!0}}return!1},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;for(var r in this.Icon){var n=this.Icon[r];n.Index>=i&&n.Index<a&&(null==t.Max?t.Max=n.Value:t.Max<n.Value&&(t.Max=n.Value),null==t.Min?t.Min=n.Value:t.Min>n.Value&&(t.Min=n.Value))}return t}}function Qt(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartMultiHtmlDom",this.Texts=[],this.IsHScreen=!1,this.DrawCallback,this.DrawItem=[],this.EnableDraw=!0,this.HQChart,this.IsDestroy=!1,this.Draw=function(){this.EnableDraw&&(this.IsDestroy||(this.DrawItem=[],this.DrawCallback&&this.DrawCallback(1,{Self:this}),this.DrawDom(),this.DrawCallback&&this.DrawCallback(2,{Self:this,DrawItem:this.DrawItem})))},this.OnDestroy=function(){this.IsDestroy=!0,this.DrawCallback&&this.DrawCallback(4,{Self:this})},this.DrawDom=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&!(this.Data.length<=0)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetBottomEx(),r=c();if(this.HQChart)var n=this.HQChart.UIElement.getBoundingClientRect().left,o=this.HQChart.UIElement.getBoundingClientRect().top;else var n=null,o=null;for(var s in this.Texts){var l=this.Texts[s];if(l.Text&&Ee.IsNumber(l.Index)){var h=this.IsMinuteFrame(),u=l.Index-e,d=this.Data.Data[l.Index],f={KData:d,Item:l,IsShow:!1,Self:this};if(u>=0&&u<t){var p=this.ChartFrame.GetXFromIndex(u);if("Top"==l.Value)var m=i;else if("Bottom"==l.Value)var m=a;else var m=this.ChartFrame.GetYFromData(l.Value);f.X=p/r,f.Y=m/r,f.UIElement={Left:n,Top:o},f.IsShow=!0}if(this.DrawItem.push(f),this.DrawCallback&&this.DrawCallback(3,f),l.Line){if(h)var C=this.Data.Data[l.Index];else var d=this.Data.Data[l.Index],C="H"==l.Line.KData?d.High:d.Low;var g=this.ChartFrame.GetYFromData(C),S=m;Array.isArray(l.Line.Offset)&&2==l.Line.Offset.length&&(S>g?(S-=l.Line.Offset[1],g+=l.Line.Offset[0]):S<g&&(S+=l.Line.Offset[1],g-=l.Line.Offset[0])),this.Canvas.save(),l.Line.Dash&&this.Canvas.setLineDash(l.Line.Dash);var x=c(),b=1*x;l.Line.Width>0&&(b=l.Line.Width*x),this.Canvas.lineWidth=b,this.Canvas.strokeStyle=l.Line.Color,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(S,v(p)),this.Canvas.lineTo(g,v(p))):(this.Canvas.moveTo(D(b,p),S),this.Canvas.lineTo(D(b,p),g)),this.Canvas.stroke(),this.Canvas.restore()}}}}},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;for(var r in this.Texts){var n=this.Texts[r];Ee.IsNumber(n.Index)&&(n.Index>=i&&n.Index<a&&(null==t.Max?t.Max=n.Value:t.Max<n.Value&&(t.Max=n.Value),null==t.Min?t.Min=n.Value:t.Min>n.Value&&(t.Min=n.Value)))}return t}}function te(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawSVG",this.Family,this.TextFont,this.Texts=[],this.IsHScreen=!1,this.IsDestroy=!1,this.EnableTooltip=!0,this.TooltipRect=[],this.Draw=function(){this.TooltipRect=[],this.IsShow&&!this.ChartFrame.IsMinSize&&this.IsVisible&&(this.IsShowIndexTitleOnly()||this.IsHideScriptIndex()||this.DrawSVG())},this.DrawDetail=function(t,e){if(Ee.IsNonEmptyArray(e.Content)){var i=2,a=2,r=2,n={Left:t.Right,Right:t.Right,Bottom:t.Bottom},o=0;Ee.IsNumber(e.ItemSpace)&&(r=e.ItemSpace),Ee.IsNumber(e.YOffset)&&(n.Bottom+=e.YOffset),Ee.IsNumber(e.XOffset)&&(n.Left+=e.XOffset),Ee.IsNumber(e.LeftMargin)&&(i=e.LeftMargin),Ee.IsNumber(e.RightMargin)&&(a=e.RightMargin),Ee.IsNumber(e.RightBorder)&&(o=e.RightBorder),e.Font?this.Canvas.font=e.Font:this.Canvas.font=this.TextFont,this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left";var s=this.Canvas.measureText("擎").width+2;n.Height=s+5;for(var l=n.Bottom-(n.Height-s)/2,h=n.Left+i,u=[],c=0;c<e.Content.length;++c){u.length>0&&(h+=r);var d=e.Content[c];if(d.Text){var f=this.Canvas.measureText(d.Text).width+2;u.push({X:h,Y:l,Width:f,Data:d}),h+=f,n.Right=h}}n.Right+=a,n.Width=n.Right-n.Left,n.Top=n.Bottom-n.Height;var p=this.ChartBorder.GetChartWidth()-1;if(1==o&&(p=this.ChartBorder.GetRight()),n.Right>p){n.Right=t.Left,Ee.IsNumber(e.XOffset)&&(n.Right-=e.XOffset),n.Left=n.Right-n.Width;for(var h=n.Left+i,c=0;c<u.length;++c){c>0&&(h+=r);var d=u[c];d.X=h,h+=d.Width}}e.BGColor&&(this.Canvas.fillStyle=e.BGColor,this.Canvas.fillRect(n.Left,n.Top,n.Width,n.Height)),e.BorderColor&&(this.Canvas.strokeStyle=e.BorderColor,this.Canvas.strokeRect(v(n.Left),v(n.Top),g(n.Width),g(n.Height)));for(var c=0;c<u.length;++c){var d=u[c];this.Canvas.fillStyle=d.Data.Color,this.Canvas.fillText(d.Data.Text,d.X,d.Y)}}},this.DrawSVG=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&Ee.IsNonEmptyArray(this.Data.Data)&&Ee.IsNonEmptyArray(this.Texts)&&this.Family){this.IsHScreen=!0===this.ChartFrame.IsHScreen;for(var t=this.ChartFrame.XPointCount,e=this.Data.DataOffset,i=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetBottomEx(),r=c(),n=0,o=0,s=0;s<this.Texts.length;++s){var l=this.Texts[s];if(l.SVG&&l.SVG.Symbol&&Ee.IsNumber(l.Index)){var h=(this.IsMinuteFrame(),l.Index-e),u=this.Data.Data[l.Index];if(!(h<0||h>=t)){n=this.ChartFrame.GetXFromIndex(h),o="Top"==l.Value?i:"Bottom"==l.Value?a:this.ChartFrame.GetYFromData(l.Value),Ee.IsNumber(l.YOffset)&&(o+=l.YOffset);var d=l.SVG;Ee.IsNumber(d.YOffset)&&(o+=d.YOffset);var f=d.Size+"px "+this.Family;this.Canvas.font=f;var p=d.Size/2,m="bottom",C={Left:n-p,Right:n+p,Top:o-d.Size,Bottom:o,Height:d.Size,Width:d.Size};if(0===d.VAlign?(m="top",C.Top=o,C.Bottom=C.Top+d.Size):1===d.VAlign&&(m="middle",C.Top=o-d.Size/2,C.Bottom=C.Top+d.Size),C.Top<0&&(C.Top=0,C.Bottom=d.Size,o=C.Bottom),this.Canvas.textBaseline=m,this.Canvas.textAlign="center",this.Canvas.fillStyle=d.Color,this.Canvas.fillText(d.Symbol,n,o),this.EnableTooltip&&this.TooltipRect.push({Rect:C,Index:s}),l.Text&&l.Text.Content&&this.TextFont){var g=l.Text;this.Canvas.font=this.TextFont,this.Canvas.fillStyle=g.Color;var S=o;Ee.IsNumber(g.YOffset)&&(S+=g.YOffset),this.Canvas.fillText(g.Content,n,S)}if(l.Detail&&this.DrawDetail(C,l.Detail),l.Line){var x,b=l.Line,u=this.Data.Data[l.Index];switch(b.Value){case"C":x=u.Close;break;case"H":x=u.High;break;case"L":x=u.Low}if(!Ee.IsNumber(x))continue;var I=this.ChartFrame.GetYFromData(x);if(I>=C.Top&&I<=C.Bottom)continue;var S;I<C.Top?(S=C.Top,Ee.IsNumber(b.SVGBlank)&&(S-=b.SVGBlank)):(S=C.Bottom,Ee.IsNumber(b.SVGBlank)&&(S+=b.SVGBlank)),b.Dash&&this.Canvas.setLineDash(b.Dash);var T=1*r;b.Width>0&&(T=b.Width*r),this.Canvas.lineWidth=T,this.Canvas.strokeStyle=b.Color,this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(S,v(n)),this.Canvas.lineTo(I,v(n))):(this.Canvas.moveTo(D(T,n),S),this.Canvas.lineTo(D(T,n),I)),this.Canvas.stroke(),this.Canvas.setLineDash([])}}}}}},this.GetMaxMin=function(){var t={Min:null,Max:null},e=this.ChartFrame.XPointCount,i=this.Data.DataOffset,a=i+e;if(!Ee.IsNonEmptyArray(this.Texts))return t;for(var r=0;r<this.Texts.length;++r){var n=this.Texts[r];if(Ee.IsNumber(n.Index)&&(n.Index>=i&&n.Index<a)){if(!Ee.IsNumber(n.Value))continue;null==t.Max?t.Max=n.Value:t.Max<n.Value&&(t.Max=n.Value),null==t.Min?t.Min=n.Value:t.Min>n.Value&&(t.Min=n.Value)}}return t},this.GetTooltipData=function(t,e,i){if(!this.IsShow)return!1;for(var a=0;a<this.TooltipRect.length;++a){var r=this.TooltipRect[a];if(r.Rect){var n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.Left,n.Top,n.Width,n.Height),this.Canvas.isPointInPath(t,e)){var o=this.Texts[r.Index];return Nn.Chart.Log("[ChartDrawSVG::GetTooltipData] svg icon.",r),i.Data={Rect:r.Rect,Item:o,Index:r.Index},i.ChartPaint=this,i.Type=7,!0}}}return!1}}function ee(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartOX",this.Font,this.Family=lo.ChartOX.Family,this.Color=[lo.ChartOX.Up.Color,lo.ChartOX.Down.Color],this.Text=[lo.ChartOX.Up.Text,lo.ChartOX.Down.Text],this.IsHScreen=!1,this.SquareSize=10,this.OXData=null,this.SquareLineColor=lo.ChartOX.SquareLineColor,this.TooltipData=[],this.CalcualteSquare=function(){if(this.IsHScreen)var t=this.ChartBorder.GetHScreenBorder(),e=t.LeftEx,i=t.RightEx;else var t=this.ChartBorder.GetBorder(),e=t.TopEx,i=t.BottomEx;this.SquareSize=(i-e)/(this.OXData.Max-this.OXData.Min)*this.OXData.BlockSize;var a=parseInt(this.SquareSize);this.Font=a+"px "+this.Family},this.DrawSquares=function(){if(this.Canvas.beginPath(),this.Canvas.strokeStyle=this.SquareLineColor,this.IsHScreen)var t=this.ChartBorder.GetHScreenBorder(),e=t.Top,i=t.Bottom;else var t=this.ChartBorder.GetBorder(),e=t.Left,i=t.Right,a=t.TopEx,r=t.BottomEx;for(var n=this.OXData.StartPrice;n<this.OXData.Max;n+=this.OXData.BlockSize){var o=this.ChartFrame.GetYFromData(n);this.IsHScreen?(this.Canvas.moveTo(v(o),t.Top),this.Canvas.lineTo(v(o),t.Bottom)):(this.Canvas.moveTo(e,v(o)),this.Canvas.lineTo(i,v(o)))}for(var n=this.OXData.StartPrice;n>this.OXData.Min;n-=this.OXData.BlockSize){var o=this.ChartFrame.GetYFromData(n);this.IsHScreen?(this.Canvas.moveTo(v(o),t.Top),this.Canvas.lineTo(v(o),t.Bottom)):(this.Canvas.moveTo(e,v(o)),this.Canvas.lineTo(i,v(o)))}for(var s=e+lo.FrameLeftMargin,l=s;l<i;l+=this.SquareSize)this.IsHScreen?(this.Canvas.moveTo(t.LeftEx,v(l)),this.Canvas.lineTo(t.RightEx,v(l))):(this.Canvas.moveTo(v(l),a),this.Canvas.lineTo(v(l),r));this.Canvas.stroke()},this.Draw=function(){if(this.TooltipData=[],!this.ChartFrame.IsMinSize){if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.NotSupportMessage)return void this.DrawNotSupportmessage();if(this.OXData&&this.OXData.Data)if(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.CalcualteSquare(),this.DrawSquares(),this.IsHScreen){var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetBottom(),i=t+lo.FrameLeftMargin;this.Canvas.textBaseline="middle",this.Canvas.textAlign="center",this.Canvas.font=this.Font;for(var a=0;a<this.OXData.Data.length&&!(i>e);++a,i+=this.SquareSize){var r=this.OXData.Data[a];this.Canvas.fillStyle=this.Color[r.Type];var n=this.Text[r.Type];if(Ee.IsNonEmptyArray(r.Data))for(var o=0;o<r.Data.length;++o){var s=r.Data[o],l=this.ChartFrame.GetYFromData(s+this.OXData.BlockSize/2);this.Canvas.fillText(n,l,i+this.SquareSize/2)}}}else{var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),i=t+lo.FrameLeftMargin;this.Canvas.textBaseline="middle",this.Canvas.textAlign="center",this.Canvas.font=this.Font;for(var a=0;a<this.OXData.Data.length&&!(i>e);++a,i+=this.SquareSize){var r=this.OXData.Data[a];this.Canvas.fillStyle=this.Color[r.Type];var n=this.Text[r.Type],h={X:i,Width:this.SquareSize},u=null,c=null;if(Ee.IsNonEmptyArray(r.Data)){for(var o=0;o<r.Data.length;++o){var s=r.Data[o],l=this.ChartFrame.GetYFromData(s+this.OXData.BlockSize/2);this.Canvas.fillText(n,i+this.SquareSize/2,l),null==u?u=s:u<s&&(u=s),null==c?c=s:c>s&&(c=s)}h.Y=this.ChartFrame.GetYFromData(u+this.OXData.BlockSize),h.Height=this.ChartFrame.GetYFromData(c)-h.Y;var d={Data:r,Rect:h};this.TooltipData.push(d)}}}}},this.GetTooltipData=function(t,e,i){for(var a in this.TooltipData){var r=this.TooltipData[a];if(r.Rect){var n=r.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(n.X,n.Y,n.Width,n.Height),this.Canvas.isPointInPath(t,e))return Nn.Chart.Log("[ChartOX::GetTooltipData] item ",r),i.Data=r,i.ChartPaint=this,i.Type=5,!0}}return!1},this.GetMaxMin=function(){var t={Min:null,Max:null};return this.OXData&&(Ee.IsNumber(this.OXData.Max)&&(t.Max=this.OXData.Max),Ee.IsNumber(this.OXData.Min)&&(t.Min=this.OXData.Min)),t}}function ie(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartVolProfileVisibleRange",this.IsDrawFirst=!0,this.IsShowText=!0,this.VolType=0,this.BarPosition=1,this.BarWidthRate=.3,this.VolFont,this.HQChart,this.IsDestroy=!1,this.Data=null,this.MaxVol,this.MaxVolPrice,this.VolLineColor=lo.ChartVolProfileVisibleRange.VolLineColor,this.VolLineFont=lo.ChartVolProfileVisibleRange.VolLineFont,this.VolLineTextColor=lo.ChartVolProfileVisibleRange.VolLineTextColor,this.VAHLineColor=lo.ChartVolProfileVisibleRange.VAHLineColor,this.VAHTextColor=lo.ChartVolProfileVisibleRange.VAHTextColor,this.VALLineColor=lo.ChartVolProfileVisibleRange.VALLineColor,this.VALTextColor=lo.ChartVolProfileVisibleRange.VALTextColor,this.VAFont=lo.ChartVolProfileVisibleRange.VAFont,this.TextConfig=(0,bn.default)({Color:lo.ChartVolProfileVisibleRange.Text.Color,Family:lo.ChartVolProfileVisibleRange.Text.Family,FontMaxSize:lo.ChartVolProfileVisibleRange.Text.FontMaxSize,FontMinSize:lo.ChartVolProfileVisibleRange.Text.FontMinSize},"Color",lo.ChartVolProfileVisibleRange.Text.Color),this.BarColor=[lo.ChartVolProfileVisibleRange.UpVolColor,lo.ChartVolProfileVisibleRange.DownVolColor,lo.ChartVolProfileVisibleRange.AreaUpColor,lo.ChartVolProfileVisibleRange.AreaDonwColor],this.MaxVolLine,this.OnDestroy=function(){this.IsDestroy=!0},this.SetOption=function(t){t&&(Ee.IsBool(t.IsShowText)&&(this.IsShowText=t.IsShowText),Ee.IsNumber(t.VolType)&&(this.IsShowText=t.VolType),Ee.IsNumber(t.BarPosition)&&(this.BarPosition=t.BarPosition),Ee.IsNumber(t.BarWidthRate)&&(this.IsShowText=t.BarWidthRate))},this.PtInChart=function(t,e){return this.MaxVolLine&&t>=this.MaxVolLine.Start.X&&t<=this.MaxVolLine.End.X&&e>=this.MaxVolLine.Start.Y-5&&e<this.MaxVolLine.Start.Y+5?{Identify:this.Identify,Chart:this}:null},this.SetSelectedStatus=function(t){this.IsDrawFirst=0==t},this.DrawSelectedStatus=function(){var t=this.SelectedRadius,e=c();if(this.Canvas.save(),this.MaxVolLine){this.Canvas.lineWidth=this.SelectedLineWidth*e,this.Canvas.strokeStyle=this.SelectedLineColor,this.SelectedBGColor&&(this.Canvas.fillStyle=this.SelectedBGColor);for(var i=(this.MaxVolLine.End.X-this.MaxVolLine.Start.X)/6,a=[],r=this.MaxVolLine.Start.X+i;r<this.MaxVolLine.End.X;r+=i)a.push({X:r,Y:this.MaxVolLine.Start.Y});for(var n=0;n<a.length;++n){var o=a[n];this.Canvas.beginPath(),this.Canvas.arc(o.X,o.Y,t,0,360,!1),this.Canvas.closePath(),this.SelectedBGColor&&this.Canvas.fill(),this.Canvas.stroke()}}this.Canvas.restore()},this.Draw=function(){if(this.VolFont=null,this.MaxVolLine=null,this.IsHScreen=!0===this.ChartFrame.IsHScreen,!this.ChartFrame.IsMinSize)return this.NotSupportMessage?void this.DrawNotSupportmessage():void(this.Data&&this.Data.Data&&(this.Canvas.save(),this.DrawVolBar(),this.Canvas.restore()))},this.DrawPriceLine=function(){var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),i=c(),a=[],r=this.MaxVolPrice;Ee.IsNumber(this.Data.MaxVolPrice)&&(r=this.Data.MaxVolPrice),r>=this.ChartFrame.HorizontalMin&&r<=this.ChartFrame.HorizontalMax&&a.push({Price:r,Font:this.VolLineFont,LineColor:this.VolLineColor,LineWidth:2,TextColor:this.VolLineTextColor,Type:1}),Ee.IsNumber(this.Data.VAHPrice)&&this.Data.VAHPrice>=this.ChartFrame.HorizontalMin&&this.Data.VAHPrice<=this.ChartFrame.HorizontalMax&&a.push({Price:this.Data.VAHPrice,Font:this.VAFont,LineColor:this.VAHLineColor,LineWidth:2,TextColor:this.VAHTextColor,Type:2}),Ee.IsNumber(this.Data.VALPrice)&&this.Data.VALPrice>=this.ChartFrame.HorizontalMin&&this.Data.VALPrice<=this.ChartFrame.HorizontalMax&&a.push({Price:this.Data.VALPrice,Font:this.VAFont,LineColor:this.VALLineColor,LineWidth:2,TextColor:this.VALTextColor,Type:3});for(var n=0;n<a.length;++n){var o=a[n],s=D(o.LineWidth,this.ChartFrame.GetYFromData(o.Price,!1));if(this.Canvas.lineWidth=o.LineWidth,this.Canvas.strokeStyle=o.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t,s),this.Canvas.lineTo(e,s),this.Canvas.stroke(),1==o.Type&&(this.MaxVolLine={Start:{X:t,Y:s},End:{X:e,Y:s}}),this.ChartBorder.Right>10){var l=pr(this.HQChart.Symbol),h=o.Price.toFixed(l);this.Canvas.font=o.Font,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var u=this.GetFontHeight(),d=this.Canvas.measureText(h).width+2*i;this.Canvas.fillStyle=o.LineColor,this.Canvas.fillRect(e,s-u/2,d,u),this.Canvas.fillStyle=o.TextColor,this.Canvas.fillText(h,e+1*i,s)}}},this.DrawVolBar=function(){var t=this.GetPriceYOffset(this.Data.PriceOffset),e=this.ChartBorder.GetLeft(),i=this.ChartBorder.GetRight(),a=(this.ChartFrame.GetYFromData(this.Data.MaxPrice),this.ChartFrame.GetYFromData(this.Data.MinPrice),i-e),r=a*this.BarWidthRate;this.IsShowText&&(this.VolFont=this.GetDynamicVolTextFont(t,r),this.VolFont&&(this.Canvas.font=this.VolFont));for(var n=0;n<this.Data.Data.length;++n){var o=this.Data.Data[n];o.Price<this.ChartFrame.HorizontalMin||o.Price>this.ChartFrame.HorizontalMax||this.DrawVolBarItem(o,e,i,r,t)}this.DrawPriceLine()},this.DrawVolBarItem=function(t,e,i,a,r){var n=e,o=i,s=this.ChartFrame.GetYFromData(t.Price)-r/2,l=r-1;if(l<1&&(l=1),1==this.VolType){if(!t.TotalVol)return;if(!Ee.IsNumber(t.TotalVol.Value))return;var h,u=t.TotalVol.Value*a/this.MaxVol;if(Ee.IsNumber(t.TotalVol.ColorID)?h=this.BarColor[t.TotalVol.ColorID]:t.TotalVol.Color&&(h=t.TotalVol.Color),this.Canvas.fillStyle=h,1==this.BarPosition?this.Canvas.fillRect(o,g(s),-u,g(l)):this.Canvas.fillRect(n,g(s),u,g(l)),this.IsShowText&&this.VolFont){var c=Ee.FormatVolString(t.TotalVol.Value,this.HQChart.LanguageID);this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextConfig.Color,1==this.BarPosition?(this.Canvas.textAlign="right",this.Canvas.fillText(c,i-5,s+r/2)):(this.Canvas.textAlign="left",this.Canvas.fillText(c,e+5,s+r/2))}}else{for(var c="",d=0;d<t.Vol.length;++d){var f=t.Vol[d];if(Ee.IsNumber(f.Value)){var h;if(Ee.IsNumber(f.ColorID)?h=this.BarColor[f.ColorID]:f.Color&&(h=f.Color),h){var u=f.Value*a/this.MaxVol;this.Canvas.fillStyle=h,1==this.BarPosition?(this.Canvas.fillRect(o,g(s),-u,g(l)),o-=u):(this.Canvas.fillRect(n,g(s),u,g(l)),n+=u);var p=Ee.FormatVolString(f.Value,this.HQChart.LanguageID);c.length>0&&(c+="x"),c+=p}}}this.IsShowText&&this.VolFont&&(this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextConfig.Color,1==this.BarPosition?(this.Canvas.textAlign="right",this.Canvas.fillText(c,i-5,s+r/2)):(this.Canvas.textAlign="left",this.Canvas.fillText(c,e+5,s+r/2)))}},this.GetPriceYOffset=function(t){var e=this.ChartFrame;return e.ChartBorder.GetHeightEx()*t/(e.HorizontalMax-e.HorizontalMin)},this.GetDynamicVolTextFont=function(t,e,i){var a=parseInt(t)-2;return t<5&&(a=parseInt(t)),a>this.TextConfig.FontMaxSize?a=this.TextConfig.FontMaxSize:a<=0&&(a=1),a<this.TextConfig.FontMinSize?null:this.FormatFontString(a,this.TextConfig.Family,i)},this.FormatFontString=function(t,e,i){var a;return i?i.Weight&&(a=i.Weight+" "+t+"px "+e):a=t+"px "+e,a},this.GetMaxMin=function(){return{Min:null,Max:null}}}function ae(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartStackedBar",this.Data,this.BarName=[],this.BarColor=["rgb(255,165,0)","rgb(95,158,160)"],this.LineWidth=1,this.BarType=0,this.IsHScreen,this.Draw=function(){if(this.IsShow&&!this.ChartFrame.IsMinSize&&this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){this.IsHScreen=!0===this.ChartFrame.IsHScreen;var t=this.ChartFrame.DataWidth,e=this.ChartFrame.DistanceWidth,i=this.ChartFrame.XPointCount;if(this.IsHScreen)var a=this.ChartBorder.GetHScreenBorder(),r=a.TopEx+e/2+lo.FrameLeftMargin,n=a.BottomEx,o=a.RightEx,s=a.LeftEx;else{var a=this.ChartFrame.GetBorder(),r=a.LeftEx+e/2+lo.FrameLeftMargin,n=a.RightEx,o=a.TopEx,s=a.BottomEx,l=this.GetLockRect();l&&(n=l.Left)}var h=this.IsMinuteFrame();if(this.Canvas.save(),1==this.BarType);else{this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*c());var u=this.Canvas.lineWidth}for(var d=this.ChartFrame.GetYFromData(0),f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<i;++f,++p,r+=t+e){var m=this.Data.Data[f];if(Ee.IsNonEmptyArray(m)){if(h)var C=this.ChartFrame.GetXFromIndex(p);else{var v=r,D=r+t;if(D>n)break;var C=v+(D-v)/2}if(C>n)break;1==this.BarType&&t>=4?this.DrawKBarItem(m,C,v,D,o,s,d,t):this.DrawBarItem(m,C,o,s,d,u)}}this.Canvas.restore()}},this.DrawKBarItem=function(t,e,i,a,r,n,o,s){for(var l=0,h=o,u=0,c=o,d=0;d<t.length;++d){var f=t[d];if(Ee.IsNumber(f)&&0!=f){if(this.Canvas.fillStyle=this.BarColor[d],f>0){l+=f;var p=this.ChartFrame.GetYFromData(l),m={Left:i,Top:p,Width:s,Height:h-p};h=p}else{u+=f;var p=this.ChartFrame.GetYFromData(u),m={Left:i,Top:p,Width:s,Height:c-p};c=p}this.IsHScreen?this.Canvas.fillRect(m.Top,m.Left,m.Height,m.Width):this.Canvas.fillRect(m.Left,m.Top,m.Width,m.Height)}}},this.DrawBarItem=function(t,e,i,a,r,n){for(var e=D(n,e),o=0,s=r,l=0,h=r,u=0;u<t.length;++u){var c=t[u];if(Ee.IsNumber(c)&&0!=c){var d={};if(c>0){o+=c;var f=this.ChartFrame.GetYFromData(o),d={X:e,Y:s,X2:e,Y2:f};s=f}else{l+=c;var f=this.ChartFrame.GetYFromData(l),d={X:e,Y:h,X2:e,Y2:f};h=f}this.Canvas.beginPath(),this.IsHScreen?(this.Canvas.moveTo(d.Y,d.X),this.Canvas.lineTo(d.Y2,d.X2)):(this.Canvas.moveTo(d.X,d.Y),this.Canvas.lineTo(d.X2,d.Y2)),this.Canvas.strokeStyle=this.BarColor[u],this.Canvas.stroke()}}},this.GetMaxMin=function(){var t=this.ChartFrame.XPointCount,e={};if(e.Min=null,e.Max=null,!this.Data||!this.Data.Data)return e;for(var i=this.Data.DataOffset,a=0;i<this.Data.Data.length&&a<t;++i,++a){var r=this.Data.Data[i];if(r&&Ee.IsNonEmptyArray(r)){for(var n=0,o=0,s=0;s<r.length;++s){var l=r[s];Ee.IsNumber(l)&&(0!=l&&(l>0?n+=l:l<0&&(o+=l)))}null==e.Max&&(e.Max=n,e.Min=o),e.Max<n&&(e.Max=n),e.Min>o&&(e.Min=o)}}return e},this.PtInChart=function(t,e){var i={StackedBar:!0};return 0==this.BarType&&(i.BarWidth=4),this.PtInBar(t,e,i)},this.DrawSelectedStatus=function(){this.DrawLinePoint({StackedBar:!0})}}function re(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartLock",this.WidthDiv=.2,this.LockCount=20,this.BGColor=lo.LockBGColor,this.TextColor=lo.LockTextColor,this.Font=lo.DefaultTextFont,this.Title="🔒开通权限",this.LockRect=null,this.LockID,this.Callback,this.IndexName,this.MinWidth=null,this.Draw=function(t){if(this.LockRect=null,this.NotSupportMessage)return void this.DrawNotSupportmessage();if(!0===this.ChartFrame.IsHScreen)return void this.HScreenDraw(t);var e=this.ChartBorder.GetRight(),i=0;if(null!=this.ChartFrame.Data){var a=this.ChartFrame.DataWidth,r=this.ChartFrame.DistanceWidth;e=this.ChartBorder.GetLeft()+r/2+2;for(var n=this.ChartBorder.GetRight(),o=this.ChartFrame.XPointCount,s=this.ChartFrame.Data.DataOffset,l=0;s<this.ChartFrame.Data.Data.length&&l<o;++s,++l,e+=a+r){var h=this.ChartFrame.Data.Data[s];if(null!=h.Open&&null!=h.High&&null!=h.Low&&null!=h.Close){if(e+a>n)break}}i=(a+r)*this.LockCount}0==i&&(i=(e-this.ChartBorder.GetLeft())*this.WidthDiv);var u=e-i;u<this.ChartBorder.GetLeft()&&(u=this.ChartBorder.GetLeft());var c=this.ChartBorder.GetBottom()-this.ChartBorder.GetTop(),d=this.ChartBorder.GetRight()-u;if(this.MinWidth>10&&d<this.MinWidth&&(d=this.MinWidth,(u=this.ChartBorder.GetRight()-d)<this.ChartBorder.GetLeft()&&(u=this.ChartBorder.GetLeft())),t){this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(u,this.ChartBorder.GetTop(),d,c);var f=u+d/2,p=this.ChartBorder.GetTop()+c/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.Title,f,p)}this.LockRect={Left:u,Top:this.ChartBorder.GetTop(),Width:d,Heigh:c}},this.HScreenDraw=function(t){var e=this.ChartBorder.GetBottom(),i=0;if(null!=this.ChartFrame.Data){var a=this.ChartFrame.DataWidth,r=this.ChartFrame.DistanceWidth;e=this.ChartBorder.GetTop()+r/2+2;for(var n=this.ChartBorder.GetBottom(),o=this.ChartFrame.XPointCount,s=this.ChartFrame.Data.DataOffset,l=0;s<this.ChartFrame.Data.Data.length&&l<o;++s,++l,e+=a+r){var h=this.ChartFrame.Data.Data[s];if(null!=h.Open&&null!=h.High&&null!=h.Low&&null!=h.Close){if(e+a>n)break}}i=(a+r)*this.LockCount}0==i&&(i=(e-this.ChartBorder.GetTop())*this.WidthDiv);var u=e-i;u<this.ChartBorder.GetTop()&&(u=this.ChartBorder.GetTop());var c=this.ChartBorder.GetRight()-this.ChartBorder.GetLeft(),d=this.ChartBorder.GetBottom()-u;this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(this.ChartBorder.GetLeft(),u,c,d);var f=this.ChartBorder.GetLeft()+c/2,p=u+d/2;this.Canvas.save(),this.Canvas.translate(f,p),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.Title,0,0),this.Canvas.restore(),this.LockRect={Left:this.ChartBorder.GetLeft(),Top:u,Width:c,Heigh:d}},this.GetTooltipData=function(t,e,i){return null!=this.LockRect&&(this.Canvas.beginPath(),this.Canvas.rect(this.LockRect.Left,this.LockRect.Top,this.LockRect.Width,this.LockRect.Heigh),!!this.Canvas.isPointInPath(t,e)&&(i.Data={ID:this.LockID,Callback:this.Callback,IndexName:this.IndexName},i.ChartPaint=this,!0))}}function ne(){this.newMethod=Et,this.newMethod(),delete this.newMethod,this.ClassName="ChartBuySell",this.TextFont=lo.KLineTrain.Font,this.LastDataIcon=lo.KLineTrain.LastDataIcon,this.BuyIcon=lo.KLineTrain.BuyIcon,this.SellIcon=lo.KLineTrain.SellIcon,this.BuySellData=new Mn.default,this.IconFont=lo.KLineTrain.IconFont,this.LastDataDrawType=0,this.LastDataIndex=-1,this.AddTradeItem=function(t){if(this.BuySellData.has(t.Key)){this.BuySellData.get(t.Key).Data.push(t)}else this.BuySellData.set(t.Key,{Data:[t]})},this.ClearTradeData=function(){this.BuySellData=new Mn.default},this.Draw=function(){if(this.Data&&this.Data.Data){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.DataWidth,i=this.ChartFrame.DistanceWidth,a=this.ChartBorder.GetRight();!0===t&&(a=this.ChartBorder.GetBottom());var r=this.ChartFrame.XPointCount;if(this.IconFont){var n=c(),o=e+i,s=18*n;o<s&&(o=s),this.Canvas.font=o+"px "+this.IconFont.Family}else this.Canvas.font=this.TextFont;for(var l=this.Data.DataOffset,h=0;l<this.Data.Data.length&&h<r;++l,++h){var u=this.Data.Data[l];if(null!=u){var d=this.ChartFrame.GetXFromIndex(h);if(d>a)break;var f=!1;if(1==this.LastDataDrawType?l==this.LastDataIndex&&(f=!0):l==this.Data.Data.length-1&&(f=!0),f){var d=this.ChartFrame.GetXFromIndex(h),p=this.ChartFrame.GetYFromData(u.High);this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.IconFont?(this.Canvas.fillStyle=this.IconFont.Last.Color,this.DrawText(this.IconFont.Last.Text,d,p,t)):(this.Canvas.fillStyle=this.LastDataIcon.Color,this.Canvas.font=this.TextFont,this.DrawText(this.LastDataIcon.Text,d,p,t))}var m=l;if(this.BuySellData.has(m)){var C=this.BuySellData.get(m),p=this.ChartFrame.GetYFromData(u.High),v=this.ChartFrame.GetYFromData(u.Low),D=[!1,!1];for(var g in C.Data){if(1==D[0]&&1==D[1])break;var S=C.Data[g];0==S.Op&&0==D[0]?(this.Canvas.textAlign="center",this.Canvas.textBaseline="top",this.IconFont?(this.Canvas.fillStyle=this.IconFont.Buy.Color,this.DrawText(this.IconFont.Buy.Text,d,v,t)):(this.Canvas.fillStyle=this.BuyIcon.Color,this.DrawText(this.BuyIcon.Text,d,v,t)),D[0]=!0):1==S.Op&&0==D[1]&&(this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.IconFont?(this.Canvas.fillStyle=this.IconFont.Sell.Color,this.DrawText(this.IconFont.Sell.Text,d,p,t)):(this.Canvas.fillStyle=this.SellIcon.Color,this.DrawText(this.SellIcon.Text,d,p,t)),D[1]=!0)}}}}}}}function oe(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ClassName="ChartOrderbookDepth",this.Data=null,this.AskColor={Line:lo.DepthChart.AskColor.Line,Area:lo.DepthChart.AskColor.Area},this.BidColor={Line:lo.DepthChart.BidColor.Line,Area:lo.DepthChart.BidColor.Area},this.LineWidth=lo.DepthChart.LineWidth,this.Draw=function(){if(this.Data){var t=this.Canvas.lineWidth;this.Canvas.lineWidth=this.LineWidth*c(),this.DrawArea(this.Data.Bids,this.BidColor.Line,this.BidColor.Area,!0),this.DrawArea(this.Data.Asks,this.AskColor.Line,this.AskColor.Area,!1),this.Canvas.lineWidth=t}},this.DrawArea=function(t,e,i,a){var r=this.ChartFrame.VerticalRange,n=[];for(var o in t){var s=t[o];if(a){if(s.Price<r.Min)break}else if(s.Price>r.Max)break;var l=this.ChartFrame.GetXFromIndex(s.Price),h=this.ChartFrame.GetYFromData(s.Vol);n.push({X:l,Y:h})}if(!(n.length<=1)){var u=this.ChartBorder.GetLeft(),c=this.ChartBorder.GetBottom(),d=this.ChartBorder.GetRight();this.Canvas.beginPath(),this.Canvas.moveTo(n[0].X,c);for(var o in n){var s=n[o];this.Canvas.lineTo(s.X,s.Y)}this.Canvas.lineTo(a?u:d,n[n.length-1].Y),this.Canvas.lineTo(a?u:d,c),this.Canvas.lineTo(n[0].X,c),this.Canvas.closePath(),this.Canvas.fillStyle=i,this.Canvas.fill(),this.Canvas.beginPath(),this.Canvas.moveTo(n[0].X,c);for(var o in n){var s=n[o];this.Canvas.lineTo(s.X,s.Y)}this.Canvas.lineTo(a?u:d,n[n.length-1].Y),this.Canvas.strokeStyle=e,this.Canvas.stroke()}},this.GetMaxMin=function(){var t={Min:null,Max:null,XMin:null,XMax:null},e=this.ChartFrame.VerticalRange;for(var i in this.Data.Asks){var a=this.Data.Asks[i];if(a.Price>e.Max)break;(null==t.XMin||t.XMin>a.Price)&&(t.XMin=a.Price),(null==t.XMax||t.XMax<a.Price)&&(t.XMax=a.Price),(null==t.Min||t.Min>a.Vol)&&(t.Min=a.Vol),(null==t.Max||t.Max<a.Vol)&&(t.Max=a.Vol)}for(var i in this.Data.Bids){var a=this.Data.Bids[i];if(a.Price<e.Min)break;(null==t.XMin||t.XMin>a.Price)&&(t.XMin=a.Price),(null==t.XMax||t.XMax<a.Price)&&(t.XMax=a.Price),(null==t.Min||t.Min>a.Vol)&&(t.Min=a.Vol),(null==t.Max||t.Max<a.Vol)&&(t.Max=a.Vol)}return t}}function se(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.Radius=100,this.Distance=30,this.txtLine=20,this.paddingX=20/3,this.Draw=function(){if(!(this.Data&&this.Data.Data&&this.Data.Data.length>0))return this.DrawEmptyData();var t=(this.ChartBorder.GetLeft(),this.ChartBorder.GetRight(),this.ChartBorder.GetTop(),this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()),e=this.ChartBorder.GetHeight();if(isNaN(this.Radius)){var i=this.Radius.replace("%","");i/=100,t>=e&&(this.Radius=i*e),t<e&&(this.Radius=i*t)}this.Canvas.save(),this.Canvas.translate(t/2,e/2);var a=0;for(var r in this.Data.Data)a+=this.Data.Data[r].Value;var n=0,o=0;for(var s in this.Data.Data){var l=this.Data.Data[s],h=(l.Value/a).toFixed(2);this.Canvas.beginPath(),this.Canvas.moveTo(0,0),o+=2*h*Math.PI,this.Canvas.strokeStyle="white",this.Canvas.fillStyle=l.Color,this.Canvas.arc(0,0,this.Radius,n,o),this.Canvas.fill(),this.Canvas.closePath(),this.Canvas.stroke(),this.Canvas.beginPath(),this.Canvas.strokeStyle=l.Color,this.Canvas.moveTo(0,0);var u=(this.Radius+this.Distance)*Math.cos(o-(o-n)/2),c=(this.Radius+this.Distance)*Math.sin(o-(o-n)/2);this.Canvas.lineTo(u,c);var d=this.txtLine,f=this.paddingX;if(this.Canvas.textAlign="left",o-(o-n)/2<1.5*Math.PI&&o-(o-n)/2>.5*Math.PI&&(d=-this.txtLine,f=-this.paddingX,this.Canvas.textAlign="right"),this.Canvas.lineTo(u+d,c),this.Canvas.stroke(),l.Text)this.Canvas.fillText(l.Text,u+d+f,c);else{var p=l.Name+":"+l.Value;this.Canvas.fillText(p,u+d+f,c)}n+=2*h*Math.PI}this.Canvas.restore()},this.DrawEmptyData=function(){Nn.Chart.Log("[ChartPie::DrawEmptyData]")}}function le(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.BorderPoint=[],this.DataPoint=[],this.CenterPoint={},this.StartAngle=0,this.Color="rgb(198,198,198)",this.AreaColor="rgba(242,154,118,0.4)",this.AreaLineColor="rgb(242,154,118)",this.TitleFont=24*c()+"px 微软雅黑",this.TitleColor="rgb(102,102,102)",this.BGColor=["rgb(255,255,255)","rgb(224,224,224)"],this.DrawBorder=function(){if(!(this.BorderPoint.length<=0)){this.Canvas.font=this.TitleFont,this.Canvas.strokeStyle=this.Color;var t=[1,.8,.6,.4,.2];for(var e in t){var i=t[e],a=!0;for(var r in this.BorderPoint){var n=this.BorderPoint[r];n.X=this.CenterPoint.X+n.Radius*Math.cos(n.Angle*Math.PI/180)*i,n.Y=this.CenterPoint.Y+n.Radius*Math.sin(n.Angle*Math.PI/180)*i,a?(this.Canvas.beginPath(),this.Canvas.moveTo(n.X,n.Y),a=!1):this.Canvas.lineTo(n.X,n.Y)}this.Canvas.closePath(),this.Canvas.stroke(),this.Canvas.fillStyle=this.BGColor[e%2==0?0:1],this.Canvas.fill()}this.Canvas.beginPath();for(var o in this.BorderPoint){var n=this.BorderPoint[o];n.X=this.CenterPoint.X+n.Radius*Math.cos(n.Angle*Math.PI/180),n.Y=this.CenterPoint.Y+n.Radius*Math.sin(n.Angle*Math.PI/180),this.Canvas.moveTo(this.CenterPoint.X,this.CenterPoint.Y),this.Canvas.lineTo(n.X,n.Y),this.DrawText(n)}this.Canvas.stroke()}},this.DrawArea=function(){if(this.DataPoint&&!(this.DataPoint.length<=0)){this.Canvas.fillStyle=this.AreaColor,this.Canvas.strokeStyle=this.AreaLineColor,this.Canvas.beginPath();var t=!0;for(var e in this.DataPoint){var i=this.DataPoint[e];t?(this.Canvas.beginPath(),this.Canvas.moveTo(i.X,i.Y),t=!1):this.Canvas.lineTo(i.X,i.Y)}this.Canvas.closePath(),this.Canvas.fill(),this.Canvas.stroke()}},this.DrawText=function(t){if(t.Text){this.Canvas.fillStyle=this.TitleColor;var e=t.X,i=t.Y;t.Angle>0&&t.Angle<45?(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e+=2):t.Angle>=0&&t.Angle<90?(this.Canvas.textAlign="left",this.Canvas.textBaseline="top",e+=2):t.Angle>=90&&t.Angle<135?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",e-=2):t.Angle>=135&&t.Angle<180?(this.Canvas.textAlign="right",this.Canvas.textBaseline="top",e-=2):t.Angle>=180&&t.Angle<225?(this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",e-=2):t.Angle>=225&&t.Angle<=270?(this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom"):t.Angle>270&&t.Angle<315?(this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",e+=2):(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e+=2),this.Canvas.fillText(t.Text,e,i)}},this.Draw=function(){this.BorderPoint=[],this.DataPoint=[],this.CenterPoint={},this.Data&&this.Data.Data&&this.Data.Data.length>0?this.CalculatePoints(this.Data.Data):this.CalculatePoints(null),this.DrawBorder(),this.DrawArea()},this.CalculatePoints=function(t){for(var e=this.ChartBorder.GetLeft(),i=(this.ChartBorder.GetRight(),this.ChartBorder.GetTop()),a=(this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()),r=this.ChartBorder.GetHeight(),n={X:e+a/2,Y:i+r/2},o=Math.min(a/2,r/2)-2,s=Math.max(5,t?t.length:0),l=360/s,h=0;h<s;++h){var u={Index:h,Radius:o,Angle:h*l+this.StartAngle},c=u.Angle;if(t&&h<t.length){var d=t[h],f={Index:h,Text:d.Text};if(u.Text=d.Name,d.Value){var p=d.Value;p>=1&&(p=1);var m=o*p;f.X=n.X+m*Math.cos(c*Math.PI/180),f.Y=n.Y+m*Math.sin(c*Math.PI/180)}else f.X=n.X,f.Y=n.Y;this.DataPoint.push(f)}this.BorderPoint.push(u)}this.CenterPoint=n},this.DrawEmptyData=function(){Nn.Chart.Log("[ChartPie::DrawEmptyData]")}}function he(){this.newMethod=at,this.newMethod(),delete this.newMethod,this.ImageData=null,this.Left,this.Top,this.Width,this.Height,this.ImageWidth,this.ImageHeight,this.DefaultColor=[217,222,239],this.Color=[{Name:"海南",Color:"rgb(217,222,223)"},{Name:"内蒙古",Color:"rgb(217,222,225)"},{Name:"新疆",Color:"rgb(217,222,226)"},{Name:"青海",Color:"rgb(217,222,227)"},{Name:"西藏",Color:"rgb(217,222,228)"},{Name:"云南",Color:"rgb(217,222,229)"},{Name:"黑龙江",Color:"rgb(217,222,230)"},{Name:"吉林",Color:"rgb(217,222,231)"},{Name:"辽宁",Color:"rgb(217,222,232)"},{Name:"河北",Color:"rgb(217,222,233)"},{Name:"山东",Color:"rgb(217,222,234)"},{Name:"江苏",Color:"rgb(217,222,235)"},{Name:"浙江",Color:"rgb(217,222,236)"},{Name:"福建",Color:"rgb(217,222,237)"},{Name:"广东",Color:"rgb(217,222,238)"},{Name:"广西",Color:"rgb(217,222,239)"},{Name:"贵州",Color:"rgb(217,222,240)"},{Name:"湖南",Color:"rgb(217,222,241)"},{Name:"江西",Color:"rgb(217,222,242)"},{Name:"安徽",Color:"rgb(217,222,243)"},{Name:"湖北",Color:"rgb(217,222,244)"},{Name:"重庆",Color:"rgb(217,222,245)"},{Name:"四川",Color:"rgb(217,222,246)"},{Name:"甘肃",Color:"rgb(217,222,247)"},{Name:"陕西",Color:"rgb(217,222,248)"},{Name:"山西",Color:"rgb(217,222,249)"},{Name:"河南",Color:"rgb(217,222,250)"}],this.Draw=function(){var t=this.ChartBorder.GetLeft()+1,e=(this.ChartBorder.GetRight(),this.ChartBorder.GetTop()+1),i=(this.ChartBorder.GetBottom(),this.ChartBorder.GetWidth()-2),a=this.ChartBorder.GetHeight()-2,r=CHINA_MAP_IMAGE.width,n=CHINA_MAP_IMAGE.height,o=r,s=n;if(a<s||i<o)return void(this.ImageData=null);if(this.Left==t&&this.Top==e&&this.Width==i&&this.Height==a&&this.ImageWidth==r&&this.ImageHeight==n||(this.ImageData=null,this.ImageWidth=r,this.ImageHeight=n,this.Left=t,this.Top=e,this.Width=i,this.Height=a,Nn.Chart.Log(r,n)),null==this.ImageData){this.Canvas.drawImage(CHINA_MAP_IMAGE,0,0,r,n,t,e,o,s),this.ImageData=this.Canvas.getImageData(t,e,o,s);var l=new Tn.default,h=new Mn.default,u=new Mn.default;if(this.Data.length>0)for(var c in this.Data){var d=this.Data[c];u.set(d.Name,d.Color)}Nn.Chart.Log(this.Data);for(var f in this.Color){var p=this.Color[f];u.has(p.Name)?h.set(p.Color,u.get(p.Name)):l.add(p.Color)}for(var m,C=0;C<this.ImageData.data.length;C+=4)if(m="rgb("+this.ImageData.data[C]+","+this.ImageData.data[C+1]+","+this.ImageData.data[C+2]+")",l.has(m))this.ImageData.data[C]=this.DefaultColor[0],this.ImageData.data[C+1]=this.DefaultColor[1],this.ImageData.data[C+2]=this.DefaultColor[2];else if(h.has(m)){var v=h.get(m);this.ImageData.data[C]=v[0],this.ImageData.data[C+1]=v[1],this.ImageData.data[C+2]=v[2]}this.Canvas.clearRect(t,e,o,s),this.Canvas.putImageData(this.ImageData,t,e,0,0,o,s)}else this.Canvas.putImageData(this.ImageData,t,e,0,0,o,s)}}function ue(){this.DataMap=new Mn.default([["FrameSplitPaint",{Create:function(){return new De}}],["RectSelectPaint",{Create:function(){return new ge}}],["DragMovePaint",{Create:function(){return new Te}}]]),this.SetCallbackDraw=new Tn.default,this.Create=function(t){return this.DataMap.has(t)?this.DataMap.get(t).Create():null},this.Add=function(t,e){this.DataMap.set(t,{Create:e.Create})},this.AddCallbackDrawClassName=function(t){t&&this.SetCallbackDraw.add(t)},this.IsCallbackDraw=function(t){return this.SetCallbackDraw.has(t)}}function ce(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.Data,this.IsDynamic=!1,this.IsAnimation=!1,this.ClassName="IExtendChartPainting",this.SizeChange=!0,this.IsEraseBG=!1,this.DrawAfterTitle=!1,this.DrawAfterPicture=!1,this.IsCallbackDraw=!1,this.Left=5,this.Right=5,this.Top=5,this.Bottom=5,this.Draw=function(){},this.SetOption=function(t){},this.GetFontHeight=function(t){return d(this.Canvas,t,"擎")}}function de(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.IsDynamic=!0,this.IsEraseBG=!0,this.DrawAfterTitle=!0,this.ClassName="KLineTooltipPaint",this.BorderColor=lo.TooltipPaint.BorderColor,this.BGColor=lo.TooltipPaint.BGColor,this.TitleColor=lo.TooltipPaint.TitleColor,this.DateTimeColor=lo.TooltipPaint.DateTimeColor,this.VolColor=lo.TooltipPaint.VolColor,this.AmountColor=lo.TooltipPaint.AmountColor,this.LatestPoint,this.ShowPosition=0,this.Left=1*c(),this.Top=5*c(),this.Width=50,this.Height=100,this.LineHeight=15*c(),this.LineSpace=2,this.Mergin={Left:2,Top:3,Bottom:5,Right:5},this.ExtendLineWidth=2,this.Font=[lo.TooltipPaint.TitleFont],this.HQChart,this.KLineTitlePaint,this.IsHScreen=!1,this.LanguageID=ho.LANGUAGE_CHINESE_ID,this.ReloadResource=function(t){this.BorderColor=lo.TooltipPaint.BorderColor,this.BGColor=lo.TooltipPaint.BGColor,this.TitleColor=lo.TooltipPaint.TitleColor,this.DateTimeColor=lo.TooltipPaint.DateTimeColor,this.VolColor=lo.TooltipPaint.VolColor,this.AmountColor=lo.TooltipPaint.AmountColor},this.GetLeft=function(){return this.IsHScreen?this.ChartBorder.GetRightEx()-this.Height-this.Top:0==this.ShowPosition?this.ChartBorder.GetLeft()+this.Left:this.ChartBorder.GetRight()-this.Width-this.Left},this.GetTop=function(){return this.IsHScreen?0==this.ShowPosition?this.ChartBorder.GetTop()+this.Left:this.ChartBorder.GetBottom()-this.Width-this.Left:this.ChartBorder.GetTopEx()+this.Top},this.IsEnableDraw=function(){if(!this.HQChart||!this.HQChart.TitlePaint||!this.HQChart.TitlePaint[0])return!1;if(this.HQChart.DragMode==kn.CLICK_TOUCH_MODE_ID){if(0==this.HQChart.TouchStatus.CorssCursorShow)return!1}else if(this.HQChart.EnableClickModel){if(!1===this.HQChart.ClickModel.IsShowCorssCursor)return!1}else if(this.HQChart.VerticalDrag){if(this.HQChart.VerticalDrag.IsDrag)return!1}else if(!this.HQChart.IsOnTouch)return!1;return!this.HQChart.CurrentChartDrawPicture},this.Draw=function(){if(this.IsEnableDraw()){this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.KLineTitlePaint=this.HQChart.TitlePaint[0];var t=this.KLineTitlePaint.GetCurrentKLineData();if(t){var e=this.GetFormatTitle({Data:t});e&&Ee.IsNonEmptyArray(e.AryText)&&(this.CalculateTooltipSize(e),this.CalculateShowPosition(),this.DrawBG(),this.DrawTooltipData(e),this.DrawBorder())}}},this.CalculateTooltipSize=function(t){this.Canvas.font=this.Font[0],this.LineHeight=this.Canvas.measureText("擎").width;for(var e=c(),i=0,a=0,r=0,n=0,o=0;o<t.AryText.length;++o){var s=t.AryText[o];i>0&&(i+=this.LineSpace);var l=0;if(s.Title){var h=this.Canvas.measureText(s.Title).width+2;a<h&&(a=h),l+=h}if(s.Text){var h=this.Canvas.measureText(s.Text).width+2;r<h&&(r=h),l+=h}n<l&&(n=l),i+=this.LineHeight}return this.Height=i+(this.Mergin.Top+this.Mergin.Bottom)*e,this.Width=n+(this.Mergin.Left+this.Mergin.Right+this.ExtendLineWidth)*e,{Height:this.Height,Width:this.Width,MaxTitleWidth:a,MaxTextWidth:r}},this.CalculateShowPosition=function(){if(this.ShowPosition=0,this.LatestPoint)if(this.IsHScreen){var t=this.ChartBorder.GetTop(),e=this.ChartBorder.GetHeight(),i=t+e/2;this.LatestPoint.Y<i&&(this.ShowPosition=1)}else{var a=this.ChartBorder.GetLeft(),r=this.ChartBorder.GetWidth(),n=a+r/2;this.LatestPoint.X<n&&(this.ShowPosition=1)}},this.GetFormatTitle=function(t){if(t&&t.Data){var e,i=t.Data;this.HQChart.Symbol&&(e=this.HQChart.Symbol.toUpperCase());var a,r,n,o=pr(this.HQChart.Symbol),s=[],l={AryText:s};a=Ee.FormatDateString(i.Date),s.push({Text:a,Color:this.DateTimeColor});var h=this.HQChart.Period;if(Q.IsMinutePeriod(h,!0)&&Ee.IsNumber(i.Time)?(a=Ee.FormatTimeString(i.Time),s.push({Text:a,Color:this.DateTimeColor})):Q.IsSecondPeriod(h)&&Ee.IsNumber(i.Time)&&(a=Ee.FormatTimeString(i.Time,"HH:MM:SS"),s.push({Text:a,Color:this.DateTimeColor})),Ee.IsNumber(i.Open)&&(r=uo.GetText("Tooltip-Open",this.LanguageID),n=this.KLineTitlePaint.GetColor(i.Open,i.YClose),a=i.Open.toFixed(o),s.push({Title:r,TitleColor:this.TitleColor,Text:a,Color:n})),Ee.IsNumber(i.High)&&(r=uo.GetText("Tooltip-High",this.LanguageID),n=this.KLineTitlePaint.GetColor(i.High,i.YClose),a=i.High.toFixed(o),s.push({Title:r,TitleColor:this.TitleColor,Text:a,Color:n})),Ee.IsNumber(i.Low)&&(r=uo.GetText("Tooltip-Low",this.LanguageID),n=this.KLineTitlePaint.GetColor(i.Low,i.YClose),a=i.Low.toFixed(o),s.push({Title:r,TitleColor:this.TitleColor,Text:a,Color:n})),Ee.IsNumber(i.Close)&&(r=uo.GetText("Tooltip-Close",this.LanguageID),n=this.KLineTitlePaint.GetColor(i.Close,i.YClose),a=i.Close.toFixed(o),s.push({Title:r,TitleColor:this.TitleColor,Text:a,Color:n})),r=uo.GetText("Tooltip-Increase",this.LanguageID),0!=i.YFClose&&po.IsChinaFutures(e)){var u=(i.Close-i.YFClose)/i.YFClose*100;n=this.KLineTitlePaint.GetColor(u,0),a=u.toFixed(2)+"%"}else if(0!=i.YClose){var u=(i.Close-i.YClose)/i.YClose*100;n=this.KLineTitlePaint.GetColor(u,0),a=u.toFixed(2)+"%"}else a="--.--",n=this.KLineTitlePaint.GetColor(0,0);if(s.push({Title:r,TitleColor:this.TitleColor,Text:a,Color:n}),Ee.IsNumber(i.Vol)){r=uo.GetText("Tooltip-Vol",this.LanguageID);var c=i.Vol;e&&po.IsSHSZ(e)&&(c/=100),a=Ee.FromatIntegerString(c,2,this.LanguageID),s.push({Title:r,TitleColor:this.TitleColor,Text:a,Color:this.VolColor})}if(Ee.IsNumber(i.Amount)){r=uo.GetText("Tooltip-Amount",this.LanguageID);var a=Ee.FormatValueString(i.Amount,2,this.LanguageID);s.push({Title:r,TitleColor:this.TitleColor,Text:a,Color:this.AmountColor})}if(po.IsSHSZStockA(this.HQChart.Symbol)&&i.FlowCapital>0){r=uo.GetText("Tooltip-Exchange",this.LanguageID);var u=i.Vol/i.FlowCapital*100,a=u.toFixed(2)+"%";s.push({Title:r,TitleColor:this.TitleColor,Text:a,Color:this.TitleColor})}if(po.IsFutures(e)&&Ee.IsNumber(i.Position)){r=uo.GetText("Tooltip-Position",this.LanguageID);var a=Ee.FromatIntegerString(i.Position,2,this.LanguageID);s.push({Title:r,TitleColor:this.TitleColor,Text:a,Color:this.TitleColor})}return l}},this.DrawTooltipData=function(t){if(t&&Ee.IsNonEmptyArray(t.AryText)){var e=c(),i=this.GetLeft()+2*e,a=this.GetTop()+3*e;if(this.IsHScreen){this.Canvas.save();var r=this.GetLeft()+this.Height,n=this.GetTop();this.Canvas.translate(r,n),this.Canvas.rotate(90*Math.PI/180),i=2*e,a=3*e}this.Canvas.textBaseline="top";var o=i+this.Width-this.Mergin.Right*e;i+=this.Mergin.Left*e,a+=this.Mergin.Top*e;for(var s=0;s<t.AryText.length;++s){var l=t.AryText[s];l.Title&&(this.Canvas.textAlign="left",this.Canvas.fillStyle=l.TitleColor,this.Canvas.fillText(l.Title,i,a)),l.Text&&(this.Canvas.textAlign="right",this.Canvas.fillStyle=l.Color,this.Canvas.fillText(l.Text,o,a)),a+=this.LineHeight+this.LineSpace}this.IsHScreen&&this.Canvas.restore()}},this.DrawBorder=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.GetLeft(),i=this.GetTop();this.Canvas.strokeStyle=this.BorderColor,t?this.Canvas.strokeRect(v(e),v(i),this.Height,this.Width):this.Canvas.strokeRect(v(e),v(i),g(this.Width),g(this.Height))},this.DrawBG=function(){var t=!0===this.ChartFrame.IsHScreen,e=this.GetLeft(),i=this.GetTop();this.Canvas.fillStyle=this.BGColor,t?this.Canvas.fillRect(e,i,this.Height,this.Width):this.Canvas.fillRect(e,i,this.Width,this.Height)},this.SetOption=function(t){t.LineHeight>0&&(this.LineHeight=t.LineHeight*c()),t.BGColor&&(this.BGColor=t.BGColor),t.LanguageID>0&&(this.LanguageID=t.LanguageID)}}function fe(){this.newMethod=de,this.newMethod(),delete this.newMethod,this.ClassName="MinuteTooltipPaint",this.Left=1*c(),this.Top=1*c(),this.YClose,this.IsShowAveragePrice=!0,this.TitlePaint,this.GetTop=function(){if(this.IsHScreen){var t=this.ChartBorder.GetHScreenBorder();return 0==this.ShowPosition?t.TopEx+this.Left:t.BottomEx-this.Width-this.Left}var t=this.ChartBorder.GetBorder();return t.Top+this.Top},this.GetLeft=function(){if(this.IsHScreen){var t=this.ChartBorder.GetHScreenBorder();return t.Right-this.Height-this.Top}var t=this.ChartBorder.GetBorder();return 0==this.ShowPosition?t.LeftEx+this.Left:t.RightEx-this.Width-this.Left},this.Draw=function(){if(this.IsEnableDraw()&&(this.IsHScreen=!0===this.ChartFrame.IsHScreen,this.TitlePaint=this.HQChart.TitlePaint[0],this.TitlePaint)){var t,e=this.TitlePaint.PointInfo;if(e&&(2==e.ClientPos||3==e.ClientPos||e.ClientPos>=200&&e.ClientPos<=299||e.ClientPos>=300&&e.ClientPos<=399)){var i=this.TitlePaint.GetCurrentAuctionData();if(!i)return;t={Type:1,Data:i}}else{var a=this.TitlePaint.GetCurrentKLineData();if(!a)return;t={Type:0,Data:a}}var r=this.GetFormatTitle(t);r&&Ee.IsNonEmptyArray(r.AryText)&&(this.CalculateTooltipSize(r),this.CalculateShowPosition(),this.DrawBG(),this.DrawTooltipData(r),this.DrawBorder())}},this.GetFormatTitle=function(t){if(t&&t.Data){var e,i,a,r;if(0==t.Type)e=t.Data,i=e.Close,a=e.Vol,r=e.Amount;else if(1==t.Type){if(!(e=t.Data.Data))return;i=e.Price}var n;this.YClose=this.TitlePaint.YClose,this.HQChart.Symbol&&(n=this.HQChart.Symbol.toUpperCase());var o,s,l,h=pr(this.HQChart.Symbol),u=[],c={AryText:u};Ee.IsNumber(e.Date)&&(o=Ee.FormatDateString(e.Date),u.push({Text:o,Color:this.DateTimeColor})),Ee.IsNumber(e.Time)&&(o=Ee.FormatTimeString(e.Time),u.push({Text:o,Color:this.DateTimeColor})),Ee.IsNumber(i)&&(s=uo.GetText("Tooltip-Price",this.LanguageID),l=this.TitlePaint.GetColor(i,this.YClose),o=i.toFixed(h),u.push({Title:s,TitleColor:this.TitleColor,Text:o,Color:l}));var d=!0;if(po.IsForeignExchange(n)?d=!1:po.IsET(n)&&!po.IsETShowAvPrice(n)?d=!1:po.IsShowAvPrice&&!po.IsShowAvPrice(n)&&(d=!1),d&&Ee.IsNumber(e.AvPrice)&&this.IsShowAveragePrice){s=uo.GetText("Tooltip-AvPrice",this.LanguageID);var l=this.TitlePaint.GetColor(e.AvPrice,this.YClose);o=e.AvPrice.toFixed(h),u.push({Title:s,TitleColor:this.TitleColor,Text:o,Color:l})}if(Ee.IsNumber(i)&&Ee.IsNumber(this.YClose)){s=uo.GetText("Tooltip-Increase",this.LanguageID);var f=(i-this.YClose)/this.YClose*100;l=this.TitlePaint.GetColor(f,0),o=f.toFixed(2)+"%",u.push({Title:s,TitleColor:this.TitleColor,Text:o,Color:l})}if(Ee.IsNumber(a)){s=uo.GetText("Tooltip-Vol",this.LanguageID);var o=Ee.FromatIntegerString(a,2,this.LanguageID);u.push({Title:s,TitleColor:this.TitleColor,Text:o,Color:this.VolColor})}if(Ee.IsNumber(r)){s=uo.GetText("Tooltip-Amount",this.LanguageID);var o=Ee.FormatValueString(r,2,this.LanguageID);u.push({Title:s,TitleColor:this.TitleColor,Text:o,Color:this.AmountColor})}if(Ee.IsNumber(e.Position)){s=uo.GetText("Tooltip-Position",this.LanguageID);var o=Ee.FormatValueString(e.Position,2,this.LanguageID);u.push({Title:s,TitleColor:this.TitleColor,Text:o,Color:this.TitleColor})}return c}}}function pe(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.IsDynamic=!0,this.IsEraseBG=!0,this.DrawAfterTitle=!0,this.ClassName="MinuteLeftTooltipPaint",this.BorderColor=lo.PCTooltipPaint.BorderColor,this.BGColor=lo.PCTooltipPaint.BGColor,this.TitleColor=lo.PCTooltipPaint.TitleColor,this.DateTimeColor=lo.PCTooltipPaint.DateTimeColor,this.VolColor=lo.PCTooltipPaint.VolColor,this.AmountColor=lo.PCTooltipPaint.AmountColor,this.LanguageID=ho.LANGUAGE_CHINESE_ID,this.TitlePaint,this.UpColor=lo.UpTextColor,this.DownColor=lo.DownTextColor,this.UnchagneColor=lo.UnchagneTextColor,this.YClose,this.Mergin={Left:2,Top:3,Bottom:2,Right:2},this.LineHeight=15,this.FixedWidth,this.Font=lo.PCTooltipPaint.TitleFont,this.HQChart,this.SetOption=function(t){t.BGColor&&(this.BGColor=t.BGColor),t.LanguageID>0&&(this.LanguageID=t.LanguageID),Ee.IsNumber(t.FixedWidth)&&(this.FixedWidth=t.FixedWidth)},this.IsEnableDraw=function(){if(!this.HQChart||!this.HQChart.TitlePaint||!this.HQChart.TitlePaint[0])return!1;var t=this.HQChart.LastPoint;return!!t&&this.HQChart.IsMouseOnClient(t.X,t.Y)},this.Draw=function(){if(this.IsEnableDraw()&&(this.TitlePaint=this.HQChart.TitlePaint[0],this.TitlePaint)){var t,e=this.TitlePaint.PointInfo;if(e&&(2==e.ClientPos||3==e.ClientPos||e.ClientPos>=200&&e.ClientPos<=299||e.ClientPos>=300&&e.ClientPos<=399)){var i=this.TitlePaint.GetCurrentAuctionData();if(!i)return;t={Type:1,Data:i}}else{var a=this.TitlePaint.GetCurrentKLineData();if(!a)return;t={Type:0,Data:a}}this.YClose=this.TitlePaint.YClose;var r=this.GetForamtTitle(t);if(Ee.IsNonEmptyArray(r)){this.Canvas.font=this.Font,this.Canvas.textBaseline="top",this.LineHeight=d(this.Canvas,null,"擎");var n=this.ChartBorder.GetBorder(),o=this.LineHeight*r.length*2,s={Left:1,Top:1,Right:n.Left};s.Bottom=s.Top+o,s.Width=s.Right-s.Left,s.Height=s.Bottom-s.Top,s.Height+=this.Mergin.Top+this.Mergin.Bottom,s.Bottom=s.Top+s.Height,Ee.IsNumber(this.FixedWidth)&&(s.Width=this.FixedWidth),this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(s.Left,s.Top,s.Width,s.Height),this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(v(s.Left),v(s.Top),g(s.Width),g(s.Height));var l=s.Left+s.Width-this.Mergin.Right,h=this.Mergin.Left+s.Left,u=this.Mergin.Top+s.Top,c={Left:h,Top:u,Right:l};c.Width=c.Right-c.Left;for(var f=0;f<r.length;++f){var p=r[f];this.DrawText(p,c)}}}},this.DrawText=function(t,e){this.Canvas.fillStyle=t.TitleColor,this.Canvas.textAlign="left",this.Canvas.fillText(t.Title,e.Left,e.Top),e.Top+=this.LineHeight,e.Bottom=e.Top+this.LineHeight,this.Canvas.textAlign="right",this.Canvas.fillStyle=t.TextColor,this.Canvas.fillText(t.Text,e.Right,e.Top),e.Top+=this.LineHeight,e.Bottom=e.Top+this.LineHeight},this.GetForamtTitle=function(t){if(!t||!t.Data)return null;var e,i=[];this.HQChart.Symbol&&(e=this.HQChart.Symbol.toUpperCase());var a=pr(e);if(0==t.Type){var r=t.Data,n=this.FormatDate(r.Date);n&&i.push(n);var n=this.ForamtTime(r.Time,"HH:MM","PCTooltip-Time");n&&i.push(n);var n=this.ForamtPrice(r.Close,a,"PCTooltip-Price");n&&i.push(n);var n=this.ForamtPrice(r.AvPrice,a,"PCTooltip-AvPrice");n&&i.push(n);var n=this.ForamtIncrease(r.Close,"PCTooltip-Increase");n&&i.push(n);var n=this.FormatVol(r.Vol,"PCTooltip-Vol");if(n&&i.push(n),Ee.IsNumber(r.Amount)){var n={Title:uo.GetText("PCTooltip-Amount",this.LanguageID),TitleColor:this.TitleColor,Text:Ee.FromatIntegerString(r.Amount,2,this.LanguageID),TextColor:this.AmountColor};i.push(n)}}else if(1==t.Type){var r=t.Data.Data;if(!r)return;var n=this.FormatDate(r.Date);n&&i.push(n);var o="HH:MM:SS";1===r.Ver&&(o="HH:MM");var n=this.ForamtTime(r.Time,o,"PCTooltip-Time");n&&i.push(n);var n=this.ForamtPrice(r.Price,a,"PCTooltip-AC-Price");n&&i.push(n);var n=this.ForamtIncrease(r.Price,"PCTooltip-AC-Increase");if(n&&i.push(n),Ee.IsNonEmptyArray(r.Vol)){var n=this.FormatVol(r.Vol[0],"PCTooltip-AC-Vol");n&&i.push(n);var n=this.FormatVol(r.Vol[1],"PCTooltip-AC-NotMatchVol");n&&i.push(n)}}return i},this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor},this.FormatDate=function(t){return Ee.IsNumber(t)?{Title:uo.GetText("PCTooltip-Date",this.LanguageID),TitleColor:this.TitleColor,Text:Ee.FormatDateString(t,"MM-DD",this.LanguageID),TextColor:this.DateTimeColor}:null},this.ForamtTime=function(t,e,i){return Ee.IsNumber(t)?{Title:uo.GetText(i,this.LanguageID),TitleColor:this.TitleColor,Text:Ee.FormatTimeString(t,e,this.LanguageID),TextColor:this.DateTimeColor}:null},this.ForamtPrice=function(t,e,i){return Ee.IsNumber(t)?{Title:uo.GetText(i,this.LanguageID),TitleColor:this.TitleColor,Text:t.toFixed(e),TextColor:this.GetColor(t,this.YClose)}:null},this.ForamtIncrease=function(t,e){if(!Ee.IsNumber(t)||0==t)return null;var i=(t-this.YClose)/this.YClose*100;return{Title:uo.GetText(e,this.LanguageID),TitleColor:this.TitleColor,Text:i.toFixed(2)+"%",TextColor:this.GetColor(i,0)}},this.FormatVol=function(t,e){return Ee.IsNumber(t)?{Title:uo.GetText(e,this.LanguageID),TitleColor:this.TitleColor,Text:Ee.FromatIntegerString(t,2,this.LanguageID),TextColor:this.VolColor}:null}}function me(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.Left=80,this.Right=1,this.Top=1,this.Bottom=1,this.BorderColor=lo.FrameBorderPen,this.Symbol,this.Name,this.TitleFont=["14px 微软雅黑"],this.Draw=function(){var t=this.ChartBorder.GetRight()+this.Left,e=this.ChartBorder.GetChartWidth()-this.Right,i=this.Top+18,a=t+(e-t)/2;this.Symbol&&this.Name&&(this.Canvas.font=this.TitleFont[0],this.Canvas.textAlign="right",this.Canvas.textBaseline="bottom",this.Canvas.fillText(this.Symbol,a-2,i),this.Canvas.textAlign="left",this.Canvas.fillText(this.Name,a+2,i)),this.Canvas.strokeStyle=this.BorderColor,this.Canvas.moveTo(t,i),this.Canvas.lineTo(e,i),this.Canvas.stroke(),i+=30,this.DrawBorder()},this.DrawBorder=function(){var t=this.ChartBorder.GetRight()+this.Left,e=this.ChartBorder.GetChartWidth()-this.Right,i=this.Top,a=this.ChartBorder.GetChartHeight()-this.Bottom;this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(t,i,e-t,a-i)}}function Ce(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.Name="筹码分布",this.ClassName="StockChip",this.HQChart,this.PenBorder=lo.FrameBorderPen,this.ColorProfit="rgb(255,0,0)",this.ColorNoProfit="rgb(90,141,248)",this.ColorAveragePrice="rgb(0,139,0)",this.ColorBG="rgb(190,190,190)",this.PixelRatio=c(),this.ShowType=0,this.IsDynamic=!0,this.ClientRect={},this.Font=lo.TitleFont,this.InfoColor=lo.StockChip.InfoColor,this.DayInfoColor=lo.StockChip.DayInfoColor,this.LineHeight=16,this.Left=50*this.PixelRatio,this.IsShowX=!1,this.ShowXCount=3,this.Width=150*this.PixelRatio,this.CalculateType=0,this.PriceZoom=100,this.NotSupportMessage="不支持筹码图",this.Buttons=[],this.DefaultButton=S(lo.StockChip.DefaultButton),this.LongButton=S(lo.StockChip.LongButton),this.RecentButton=S(lo.StockChip.RecentButton),this.ButtonTooltip=S(lo.Buttons.Tooltip),this.DAY_COLOR=[["rgb(255,0,0)","rgb(255,128,128)","rgb(255,0,128)","rgb(255,100,0)","rgb(192,128,0)","rgb(255,192,0)"],["rgb(120,80,225)","rgb(160,160,225)","rgb(80,80,255)","rgb(120,120,255)","rgb(32,64,192)","rgb(0,64,128)"]],this.SetOption=function(t){t&&(t.ShowType>0&&(this.ShowType=t.ShowType),t.IsShowX&&(this.IsShowX=t.IsShowX),t.ShowXCount>0&&(this.ShowXCount=t.ShowXCount),t.Width>100&&(this.Width=t.Width*c()),t.CalculateType>0&&(this.CalculateType=t.CalculateType),Ee.IsNumber(t.PriceZoom)&&(this.PriceZoom=t.PriceZoom))},this.ReloadResource=function(t){this.PenBorder=lo.FrameBorderPen,this.Font=lo.TitleFont,this.InfoColor=lo.StockChip.InfoColor,this.DayInfoColor=lo.StockChip.DayInfoColor,this.DefaultButton=S(lo.StockChip.DefaultButton),this.LongButton=S(lo.StockChip.LongButton),this.RecentButton=S(lo.StockChip.RecentButton),this.ButtonTooltip=S(lo.Buttons.Tooltip)},this.Draw=function(){this.PixelRatio=c();var t=v(this.ChartBorder.GetRight()+this.Left),e=v(this.ChartBorder.GetTop()),i=v(t+this.Width-1*this.PixelRatio),a=v(this.ChartBorder.GetBottom()),r=i-t,n=a-e;if(this.ClientRect={Left:t,Top:e,Width:r,Height:n},Q.IsTickPeriod(this.HQChart.Period)){this.Canvas.font=this.Font,this.Canvas.fillStyle=this.InfoColor;var o=t+r/2,s=e+n/2;return this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillText(this.NotSupportMessage,o,s),void this.DrawBorder()}this.CalculateChip()?(this.DrawFrame(),this.DrawAllChip(),1!=this.ShowType&&2!=this.ShowType||this.DrawDayChip(),this.CalculateCast(),this.DrawChipInfo()):Nn.Chart.Log("[StockChip::Draw] no data"),this.DrawBorder(),this.SizeChange=!1},this.DrawChipInfo=function(){var t=this.ClientRect.Top+this.ClientRect.Height-1,e=this.ClientRect.Left+2,i=this.ClientRect.Left+this.ClientRect.Width;this.Canvas.font=this.Font,this.Canvas.fillStyle=this.InfoColor,this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left";var a=this.LineHeight*c(),r="70%成本价 --.--";Ee.IsNonEmptyArray(this.Data.Cast)&&(r="70%成本价"+this.Data.Cast[1].MinPrice.toFixed(2)+"-"+this.Data.Cast[1].MaxPrice.toFixed(2)+"集中"+this.Data.Cast[1].Rate.toFixed(2)+"%"),this.Canvas.fillText(r,e,t),t-=a,r="90%成本价 --.--",Ee.IsNonEmptyArray(this.Data.Cast)&&(r="90%成本价"+this.Data.Cast[0].MinPrice.toFixed(2)+"-"+this.Data.Cast[0].MaxPrice.toFixed(2)+"集中"+this.Data.Cast[0].Rate.toFixed(2)+"%"),this.Canvas.fillText(r,e,t),t-=a,r="平均成本："+this.Data.ChipInfo.AveragePrice.toFixed(2)+"元",this.Canvas.fillText(r,e,t),t-=a,r=+this.Data.YPrice.toFixed(2)+"处获利盘："+this.Data.ChipInfo.YProfitRate.toFixed(2)+"%",this.Canvas.fillText(r,e,t),t-=a,r="获利比例：",this.Canvas.fillText(r,e,t);var n=this.Canvas.measureText(r).width+2,o=e+n,s=i-5-o;if(this.Canvas.strokeStyle=this.ColorNoProfit,this.Canvas.strokeRect(o,t-a,s,a),this.Canvas.strokeStyle=this.ColorProfit,this.Canvas.strokeRect(o,t-a,s*(this.Data.ChipInfo.ProfitRate/100),a),r=this.Data.ChipInfo.ProfitRate.toFixed(2)+"%",this.Canvas.textAlign="center",this.Canvas.fillText(r,o+s/2,t),t-=a,this.Canvas.textAlign="left",r="成本分布,日期："+Ee.FormatDateString(this.Data.SelectData.Date),this.Data.SelectData.Time&&(r+=" "+Ee.FormatTimeString(this.Data.SelectData.Time)),this.Canvas.fillText(r,e,t),t-=a,1==this.ShowType||2==this.ShowType){var i=this.ClientRect.Left+this.ClientRect.Width-1;this.Canvas.textAlign="right";var n=50;this.Data.DayChip.sort(function(t,e){return e.Day-t.Day});for(var l in this.Data.DayChip){var h=this.Data.DayChip[l],u=0;this.Data.ChipInfo&&this.Data.ChipInfo.Vol>0&&(u=h.Vol/this.Data.ChipInfo.Vol*100),r=h.Day+"周期"+(1==this.ShowType?"前":"内")+"成本"+(Ee.IsNumber(u)?u.toFixed(2)+"%":"--.--%"),0==l&&(n=this.Canvas.measureText(r).width+8),this.Canvas.fillStyle=h.Color,this.Canvas.fillRect(i-n,t-a,n,a),this.Canvas.fillStyle=this.DayInfoColor,this.Canvas.fillText(r,i,t),t-=a}}},this.DrawDayChip=function(){var t=this.HQChart.Frame.SubFrame[0].Frame;for(var e in this.Data.DayChip){var i=[],a=this.Data.DayChip[e].Chip;if(a){for(var r=0,n=0;n<a.length;++n){var o=a[n];if(o){r+=o;var s=(n+this.Data.MinPrice)/100,l=t.GetYFromData(s),h=o/this.Data.MaxVol*this.ClientRect.Width+this.ClientRect.Left;i.push({X:h,Y:l})}}this.Data.DayChip[e].Vol=r,this.DrawArea(i,this.Data.DayChip[e].Color)}}},this.DrawToolbar=function(t,e){this.Buttons=[];for(var i=(this.ClientRect.Left,this.ClientRect.Left+this.ClientRect.Width),a=this.ClientRect.Top+this.ChartBorder.TitleHeight/2,r=[{ID:Vn.CHIP_RECENT,Style:this.RecentButton,ShowType:2},{ID:Vn.CHIP_LONG,Style:this.LongButton,ShowType:1},{ID:Vn.CHIP_DEFULT,Style:this.DefaultButton,ShowType:0}],n=0;n<r.length;++n){var o=r[n],s=o.Style.Size,l=i-s-o.Style.MerginLeft,h=s+"px "+o.Style.Family,u={Left:l,Top:a-s/2,Right:l+s+o.Style.MerginLeft,Bottom:a+s/2,Width:s+o.Style.MerginLeft,Height:s},c=o.Style.Color,d={ID:o.ID,Rect:u};this.ShowType==o.ShowType?(c=o.Style.SelectedColor,e&&t&&t.X>=u.Left&&t.X<u.Right&&t.Y>=u.Top&&t.Y<=u.Bottom&&(e.MouseOnToolbar={Rect:u,Item:d,Frame:this,Point:{X:t.X,Y:t.Y}})):t&&t.X>=u.Left&&t.X<u.Right&&t.Y>=u.Top&&t.Y<=u.Bottom&&(c=o.Style.MoveOnColor,e&&(e.MouseOnToolbar={Rect:u,Item:d,Frame:this,Point:{X:t.X,Y:t.Y}})),this.Canvas.fillStyle=c,this.Canvas.font=h,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(o.Style.Text,l,a),this.Buttons.push(d),i=l}},this.DrawToolbarTooltip=function(t){if(t){var e=(this.ClientRect.Left,this.ClientRect.Left+this.ClientRect.Width),i="Toolbar-"+t.Item.ID;if(text=uo.GetText(i,0),text){var a=t.Rect,r=a.Left+a.Width/2;this.Canvas.font=this.ButtonTooltip.Font,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";var n=this.Canvas.measureText(text).width+8,o=this.GetFontHeight(),s=o+8,l=r-n/2,h=a.Top-s;h<0&&(h=a.Bottom+1),l+n>e&&(l=e-n-2),this.Canvas.fillStyle=this.ButtonTooltip.ColorBG,this.Canvas.fillRect(l,h,n,s),this.Canvas.fillStyle=this.ButtonTooltip.Color,this.Canvas.fillText(text,l+4,h+s/2)}}},this.PtInButtons=function(t,e){for(var i=0;i<this.Buttons.length;++i){var a=this.Buttons[i];if(a.Rect){var r=a.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(r.Left,r.Top,r.Width,r.Height),this.Canvas.isPointInPath(t,e))return{ID:a.ID,Rect:r}}}return null},this.DrawAllChip=function(){for(var t=this.HQChart.Frame.SubFrame[0].Frame,e=this.Data.SelectData.Close,i=[],a=[],r=0,n=0,o=0,s=0,l=this.Data.YPrice,h=t.HorizontalMax,u=t.HorizontalMin,c=1,d=0;d<this.Data.AllChip.length;++d){var f=this.Data.AllChip[d];if(f){var p=(d+this.Data.MinPrice)/this.PriceZoom;r+=f,n+=p*f,p<l&&(s+=f),p<e&&(o+=f),p<=h&&p>=u&&c<f&&(c=f)}}this.Data.MaxVol=c;for(var d=0;d<this.Data.AllChip.length;++d){var f=this.Data.AllChip[d];if(f){var p=(d+this.Data.MinPrice)/this.PriceZoom;if(!(p>h||p<u)){var m=t.GetYFromData(p),C=f/this.Data.MaxVol*this.ClientRect.Width+this.ClientRect.Left;p<e?i.push({X:C,Y:m}):a.push({X:C,Y:m})}}}if(this.Data.ChipInfo={Vol:r,AveragePrice:n/r,ProfitVol:o,ProfitRate:r>0?o/r*100:0,YProfitRate:r>0?s/r*100:0},0==this.ShowType){this.DrawLines(i,this.ColorProfit),this.DrawLines(a,this.ColorNoProfit);var v=this.Data.ChipInfo.AveragePrice;v>0&&v<=h&&v>=u&&(v=v.toFixed(2),this.DrawAveragePriceLine(i,a,t.GetYFromData(v),this.ColorAveragePrice))}else this.DrawLines(i,this.ColorBG),this.DrawLines(a,this.ColorBG)},this.CalculateCast=function(){if(this.Data.ChipInfo&&this.Data.ChipInfo.Vol){for(var t=[{Start:.05,End:.95,MaxPrice:0,MinPrice:0,Rate:0},{Start:.15,End:.85,MaxPrice:0,MinPrice:0,Rate:0}],e=(this.Data.ChipInfo.AveragePrice,this.Data.ChipInfo.ProfitVol),i=0,a=0,r=0;a<this.Data.AllChip.length&&4!=r;++a){var n=this.Data.AllChip[a];if(!(n<=0)){var o=(a+this.Data.MinPrice)/this.PriceZoom;i+=n;var s=i/e;for(var l in t){var h=t[l];h.MinPrice<=0&&s>h.Start&&(h.MinPrice=o,++r),h.MaxPrice<=0&&s>h.End&&(h.MaxPrice=o,++r)}}}for(var a in t){var u=t[a],c=u.MaxPrice+u.MinPrice;c&&(u.Rate=Math.abs(u.MaxPrice-u.MinPrice)/c*100)}this.Data.Cast=t}},this.DrawArea=function(t,e){if(!(t.length<=0)){this.Canvas.fillStyle=e,this.Canvas.beginPath(),this.Canvas.moveTo(this.ClientRect.Left,t[0].Y);for(var i in t){var a=t[i];this.Canvas.lineTo(a.X,a.Y)}this.Canvas.lineTo(this.ClientRect.Left,t[t.length-1].Y),this.Canvas.fill()}},this.DrawLines=function(t,e){if(!(t.length<=0)){this.Canvas.strokeStyle=e,this.Canvas.beginPath();for(var i in t){var a=t[i];this.Canvas.moveTo(this.ClientRect.Left,a.Y),this.Canvas.lineTo(a.X,a.Y)}this.Canvas.stroke()}},this.DrawAveragePriceLine=function(t,e,i,a){for(var r in t){var n=t[r];if(n.Y==i)return this.Canvas.strokeStyle=a,this.Canvas.beginPath(),this.Canvas.moveTo(this.ClientRect.Left,n.Y),this.Canvas.lineTo(n.X,n.Y),void this.Canvas.stroke()}for(var r in e){var n=e[r];if(n.Y==i)return this.Canvas.strokeStyle=a,this.Canvas.beginPath(),this.Canvas.moveTo(this.ClientRect.Left,n.Y),this.Canvas.lineTo(n.X,n.Y),void this.Canvas.stroke()}},this.DrawBorder=function(){this.Canvas.strokeStyle=this.PenBorder,this.Canvas.strokeRect(this.ClientRect.Left,this.ClientRect.Top,this.ClientRect.Width,this.ClientRect.Height)},this.EvenlyDistribute=function(t,e){var i=e.Low,a=e.High,r=e.MaxPrice,n=e.MinPrice,o=1;if(a-i!=0){for(var s=e.Vol/(a-i),l=i;l<=a&&l<=r;++l){var h=l-n;t[h]+=s,o<t[h]&&(o=t[h])}e.MaxVol=o}},this.TriangleDistribute=function(t,e){for(var i=e.Low,a=e.High,r=(e.MaxPrice,e.MinPrice),n=1,o=3.1415926535,s=(a-i)/2+i,l=0,h=[],u=i+1,c=1;u<=s;++u,++c){var d=Math.tan(45*o/180)*c;l+=d,h.push({Index:u-r,Value:d})}for(var u=a-1,c=1;u>s;--u,++c){var d=Math.tan(45*o/180)*c;l+=d,h.push({Index:u-r,Value:d})}if(l>0){for(var u=0;u<h.length;++u){var f=h[u];t[f.Index]+=f.Value*e.Vol/l,n<t[f.Index]&&(n=t[f.Index])}e.MaxVol=n}},this.CalculateDistribute=function(t,e){1==this.CalculateType?this.TriangleDistribute(t,e):this.EvenlyDistribute(t,e)},this.CalculateChip=function(){if(!this.HQChart)return!1;if(!this.HQChart.FlowCapitalReady)return!1;var t=this.HQChart.Symbol;if(!t)return!1;if(po.IsSHSZIndex(t))return!1;var e=this.HQChart.ChartPaint[0].Data,i=e.DataOffset+parseInt(this.HQChart.CursorIndex);i>=e.Data.length&&(i=e.Data.length-1);var a=e.Data[i],r=a.Close,n=this.HQChart.LastPoint.Y;n&&(r=this.HQChart.Frame.SubFrame[0].Frame.GetYData(n));for(var o,s,l,h=[],u=1,c=i;c>=0;--c){var d=e.Data[c],f=1;d.FlowCapital>0&&(f=d.Vol/d.FlowCapital),o=c==i?d.Vol*f:d.Vol*u;var p={Vol:o,High:d.High,Low:d.Low};h.push(p),u*=1-1*f,(!s||s<d.High)&&(s=d.High),(!l||l>d.Low)&&(l=d.Low)}if(!s||!l)return!0;var m=this.PriceZoom;s=parseInt(s*m),l=parseInt(l*m);for(var C=s-l,v=new Array,D=0;D<=C;++D)v.push(0);var g,S=[];if(2==this.ShowType){var S=[{Day:100,Color:this.DAY_COLOR[1][5]},{Day:60,Color:this.DAY_COLOR[1][4]},{Day:30,Color:this.DAY_COLOR[1][3]},{Day:20,Color:this.DAY_COLOR[1][2]},{Day:10,Color:this.DAY_COLOR[1][1]},{Day:5,Color:this.DAY_COLOR[1][0]}];for(var x in h){var d=h[x],b=parseInt(d.High*m),I=parseInt(d.Low*m),T=d.Vol;if(b-I>0&&(T=d.Vol/(b-I)),!(T<=1e-9)){for(var y=0;y<S.length;++y)if(x==S[y].Day){S[y].Chip=v.slice(0);break}g={Low:I,High:b,Vol:d.Vol,MaxPrice:s,MinPrice:l},this.CalculateDistribute(v,g)}}}else if(1==this.ShowType)for(var S=[{Day:5,Color:this.DAY_COLOR[0][0]},{Day:10,Color:this.DAY_COLOR[0][1]},{Day:20,Color:this.DAY_COLOR[0][2]},{Day:30,Color:this.DAY_COLOR[0][3]},{Day:60,Color:this.DAY_COLOR[0][4]},{Day:100,Color:this.DAY_COLOR[0][5]}],w=h.length-1;w>=0;--w){var d=h[w],b=parseInt(d.High*m),I=parseInt(d.Low*m),T=d.Vol;if(b-I>0&&(T=d.Vol/(b-I)),!(T<=1e-9)){for(var y=0;y<S.length;++y)if(w==S[y].Day){S[y].Chip=v.slice(0);break}g={Low:I,High:b,Vol:d.Vol,MaxPrice:s,MinPrice:l},this.CalculateDistribute(v,g)}}else for(var E in h){var d=h[E],b=parseInt(d.High*m),I=parseInt(d.Low*m),T=d.Vol;b-I>0&&(T=d.Vol/(b-I)),T<=1e-9||(g={Low:I,High:b,Vol:d.Vol,MaxPrice:s,MinPrice:l},this.CalculateDistribute(v,g))}return!!g&&(this.Data={AllChip:v,MaxVol:g.MaxVol,MaxPrice:s,MinPrice:l,SelectData:a,DayChip:S,YPrice:r},!0)},this.DrawFrame=function(){if(0!=this.IsShowX&&!(this.Data.MaxVol<=0)){var t=1!==this.HQChart.Frame.SubFrame.length,e=this.HQChart.Frame.SubFrame[0].Frame,i=e.ChartBorder,a=v(i.GetBottomEx()+1);t||(a=this.ClientRect.Top+this.ClientRect.Height);var r=this.ClientRect.Left,n=r+this.ClientRect.Width;this.Canvas.strokeStyle=this.PenBorder,this.Canvas.beginPath(),t&&(this.Canvas.moveTo(r,a),this.Canvas.lineTo(n,a));var o=this.ShowXCount,s=this.Data.MaxVol,l=Math.floor(s/o);this.Canvas.font=this.Font,this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.InfoColor;for(var h=(c(),1);h<=o;++h){var u=l*h,d=u/this.Data.MaxVol*this.ClientRect.Width+this.ClientRect.Left;if(d=v(d),h==o){this.Canvas.textAlign="right";var f=Ee.FormatValueString(s,1);this.Canvas.fillText(f,d,a+2)}else{this.Canvas.moveTo(d,this.ClientRect.Top),this.Canvas.lineTo(d,a),this.Canvas.textAlign="center";var f=Ee.FormatValueString(u,1),p=this.Canvas.measureText(f).width;this.Canvas.fillText(f,Math.floor(d-.25*p),a+2)}}this.Canvas.stroke()}}}function ve(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="DrawToolsButton",this.HQChart,this.ID=m(),this.ToolsDiv,this.Color="#696969",this.Top=5*c(),this.Width=45*c(),this.SetOption=function(t){var e=c();t&&t.Width>10&&(this.Width=t.Width*e)},this.Clear=function(){this.ToolsDiv&&this.ChartBorder.UIElement.parentNode.removeChild(this.ToolsDiv)},this.Draw=function(){var t=this;if(0!=this.SizeChange){var e=[[{HTML:{Title:"线段",IClass:"iconfont icon-draw_line",ID:"icon-segment"},Name:"线段"},{HTML:{Title:"尺子",IClass:"iconfont icon-ruler",ID:"icon_ruler"},Name:"尺子"},{HTML:{Title:"射线",IClass:"iconfont icon-draw_rays",ID:"icon-beam"},Name:"射线"},{HTML:{Title:"标价线",IClass:"iconfont icon-price_line",ID:"icon-price-line"},Name:"标价线"},{HTML:{Title:"垂直线",IClass:"iconfont icon-vertical_line",ID:"icon-vertical-line"},Name:"垂直线"},{HTML:{Title:"箭头",IClass:"iconfont icon-draw_rays",ID:"icon-beam2"},Name:"箭头"},{HTML:{Title:"趋势线",IClass:"iconfont icon-draw_trendline",ID:"icon-trendline"},Name:"趋势线"},{HTML:{Title:"水平线",IClass:"iconfont icon-draw_hline",ID:"icon-hline"},Name:"水平线"},{HTML:{Title:"水平线段",IClass:"iconfont icon-draw_hlinesegment",ID:"icon-hlineseg"},Name:"水平线段"},{HTML:{Title:"平行射线",IClass:"iconfont icon-draw_p_rays_lines",ID:"icon-rayslineseg"},Name:"平行射线"},{HTML:{Title:"平行线",IClass:"iconfont icon-draw_parallel_lines",ID:"icon-parallellines"},Name:"平行线"},{HTML:{Title:"平行通道",IClass:"iconfont icon-draw_parallelchannel",ID:"icon-parallelchannel"},Name:"平行通道"},{HTML:{Title:"价格通道线",IClass:"iconfont icon-draw_pricechannel",ID:"icon-pricechannel"},Name:"价格通道线"},{HTML:{Title:"M头W底",IClass:"iconfont icon-draw_wavemw",ID:"icon-wavemw"},Name:"M头W底"},{HTML:{Title:"头肩型",IClass:"iconfont icon-draw_head_shoulders_bt",ID:"icon-Head-Shoulders"},Name:"头肩型"},{HTML:{Title:"波浪尺",IClass:"iconfont icon-waveruler",ID:"icon-wave-ruler"},Name:"波浪尺"},{HTML:{Title:"AB波浪尺",IClass:"iconfont icon-waveruler",ID:"icon-wave-ruler"},Name:"AB波浪尺"},{HTML:{Title:"箱型线",IClass:"iconfont icon-draw_box",ID:"icon-drawbox"},Name:"箱型线"},{HTML:{Title:"涂鸦线段",IClass:"iconfont icon-draw_line",ID:"icon-segment2"},Name:"涂鸦线段"}],[{HTML:{Title:"圆弧",IClass:"iconfont icon-draw_arc",ID:"icon-arc"},Name:"圆弧线"},{HTML:{Title:"矩形",IClass:"iconfont icon-rectangle",ID:"icon-rect"},Name:"矩形"},{HTML:{Title:"平行四边形",IClass:"iconfont icon-draw_quadrangle",ID:"icon-quad"},Name:"平行四边形"},{HTML:{Title:"三角形",IClass:"iconfont icon-draw_triangle",ID:"icon-triangle"},Name:"三角形"},{HTML:{Title:"圆",IClass:"iconfont icon-draw_circle",ID:"icon-circle"},Name:"圆"},{HTML:{Title:"对称角度",IClass:"iconfont icon-draw_symangle",ID:"icon-symangle"},Name:"对称角度"}],[{HTML:{Title:"文本",IClass:"iconfont icon-draw_text",ID:"icon-text"},Name:"文本"},{HTML:{Title:"向上箭头",IClass:"iconfont icon-arrow_up",ID:"icon-arrowup"},Name:"icon-arrow_up"},{HTML:{Title:"向下箭头",IClass:"iconfont icon-arrow_down",ID:"icon-arrowdown"},Name:"icon-arrow_down"},{HTML:{Title:"向左箭头",IClass:"iconfont icon-arrow_left",ID:"icon-arrowleft"},Name:"icon-arrow_left"},{HTML:{Title:"向右箭头",IClass:"iconfont icon-arrow_right",ID:"icon-arrowright"},Name:"icon-arrow_right"}],[{HTML:{Title:"江恩角度线",IClass:"iconfont icon-draw_gannfan",ID:"icon-gannfan"},Name:"江恩角度线"},{HTML:{Title:"斐波那契周期线",IClass:"iconfont icon-draw_fibonacci",ID:"icon-fibonacci"},Name:"斐波那契周期线"},{HTML:{Title:"阻速线",IClass:"iconfont icon-draw_resline",ID:"icon-resline"},Name:"阻速线"},{HTML:{Title:"黄金分割",IClass:"iconfont icon-draw_goldensection",ID:"icon-goldensection"},Name:"黄金分割"},{HTML:{Title:"百分比线",IClass:"iconfont icon-draw_percentage",ID:"icon-percentage"},Name:"百分比线"},{HTML:{Title:"波段线",IClass:"iconfont icon-draw_waveband",ID:"icon-waveband"},Name:"波段线"},{HTML:{Title:"线形回归线",IClass:"iconfont icon-linear_3",ID:"icon-waveband2"},Name:"线形回归线"},{HTML:{Title:"线形回归带",IClass:"iconfont icon-linear_1",ID:"icon-waveband3"},Name:"线形回归带"},{HTML:{Title:"延长线形回归带",IClass:"iconfont icon-linear_2",ID:"icon-waveband5"},Name:"延长线形回归带"}],[{HTML:{Title:"全部删除",IClass:"iconfont icon-recycle_bin",ID:"icon-delete"},Name:"全部删除"}]],i=this.HQChart;if(!this.ToolsDiv){var a=document.createElement("div");a.className="drawtools",a.id=this.ID;var r="",n="",o=new Array;e.forEach(function(t,e){o.push(t[0])});for(var s=0;s<e.length;s++){for(var l=o[s],h=e[s],u="",d="",f=0;f<h.length;f++){var p=h[f],m=p.Name;m.indexOf("up")>-1?m="向上箭头":m.indexOf("down")>-1?m="向下箭头":m.indexOf("left")>-1?m="向左箭头":m.indexOf("right")>-1&&(m="向右箭头"),u+='<p class="menuTwoItem '+p.HTML.ID+'">'+m+'<i class="'+p.HTML.IClass+'" title="'+p.HTML.Title+'"></i></p>'}s!==e.length-1?(n='<div class="menuTwo">'+u+"</div>",d='<i class="contentArrow iconfont icon-menu_arraw_left"></i>'):(n="",d="");r+='<div class="icon-image first-'+l.HTML.ID+'"><i class="'+l.HTML.IClass+'" title="'+l.HTML.Title+'"></i>'+n+d+"</div>"}this.ChartBorder.UIElement.parentNode.appendChild(a),a.innerHTML=r,this.ToolsDiv=a;for(var s in e){var D=e[s][0];if((0,On.default)("#"+this.ID+" .first-"+D.HTML.ID).hover(function(){(0,On.default)(".drawtools").find(".contentArrow").hide(),(0,On.default)(this).find(".contentArrow").removeClass("trans").show()}),(0,On.default)("#"+this.ID+" .first-"+D.HTML.ID+" .contentArrow").click(function(t){t.stopPropagation(),(0,On.default)(".drawtools").find(".menuTwo").hide(),(0,On.default)(this).siblings(".menuTwo").show()}),(0,On.default)("#"+this.ID+" .first-"+D.HTML.ID+" .trans").click(function(){event.stopPropagation(),(0,On.default)(this).siblings(".menuTwo").hide()}),"全部删除"==D.Name)(0,On.default)("#"+this.ID+" .first-icon-delete").click(function(){(0,On.default)(".drawtools").find(".menuTwo").hide(),(0,On.default)(this).siblings().removeClass("active"),(0,On.default)(this).addClass("active"),i.ClearChartDrawPicture(),(0,On.default)(".subTolls").css("display","none")});else{(0,On.default)("#"+this.ID+" .first-"+o[s].HTML.ID).click({CurrentIndex:s},function(t){(0,On.default)(".drawtools").find(".menuTwo").hide(),(0,On.default)(this).siblings().removeClass("active"),(0,On.default)(this).addClass("active"),i.CreateChartDrawPicture(o[t.data.CurrentIndex].Name)});for(var f in e[s]){var g;!function(){g=e[s][f];var a=g.HTML.IClass;(0,On.default)("#"+t.ID+" ."+g.HTML.ID).hover(function(t){t.stopPropagation(),(0,On.default)(this).closest(".icon-image").find(".contentArrow").addClass("trans")}),(0,On.default)("#"+t.ID+" ."+g.HTML.ID).click({DrawName:g.Name,CurrentIndex:s,CurrentData:g},function(t){t.stopPropagation(),(0,On.default)(this).closest(".icon-image").find(".contentArrow").hide(),(0,On.default)(this).siblings().removeClass("current"),(0,On.default)(this).addClass("current"),(0,On.default)(this).closest(".icon-image").children("i").eq(0).removeClass().addClass(a,"active").attr("title",t.data.CurrentData.HTML.Title),o.splice(t.data.CurrentIndex,1,t.data.CurrentData),(0,On.default)(this).parent().hide(),i.CreateChartDrawPicture(t.data.DrawName)})}()}}}}var S=this.ID;(0,On.default)(document).click(function(t){(0,On.default)("#"+S).is(t.target)||0!==(0,On.default)("#"+S).has(t.target).length||((0,On.default)("#"+S+" .menuTwo").hide(),(0,On.default)("#"+S+" .contentArrow").hide())});var x=(C(),c()),b=v(this.ChartBorder.GetRight()+this.Left),I=this.ChartBorder.GetTop();this.ToolsDiv.style.left=b/x+"px",this.ToolsDiv.style.top=I/x+"px",this.ToolsDiv.style.width=(this.Width-5)/x+"px",this.ToolsDiv.style.height="auto",this.ToolsDiv.style.position="absolute",this.ToolsDiv.style.display="block",this.SizeChange}}}function De(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="FrameSplitPaint",this.LineColor="rgb(255,0,0)",this.TextColor="rgb(255,0,0)",this.LineWidth=2,this.Font="bold "+18*c()+"px 微软雅黑",this.TextTopOffset=10*c(),this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.TextColor&&(this.TextColor=t.TextColor),t.Font&&(this.Font=t.Font),Ee.IsNumber(t.LineWidth)&&(this.LineWidth=t.LineWidth),Ee.IsNumber(t.TextTopOffset)&&(this.TextTopOffset=t.TextTopOffset))},this.Draw=function(){if(this.HQChart&&(0==this.HQChart.Period||1==this.HQChart.Period)&&this.HQChart.ChartPaint[0]){var t=this.HQChart.ChartPaint[0].Data;if(t&&(this.Data=t,this.ChartFrame&&this.ChartFrame.SubFrame)){var e=this.ChartFrame.SubFrame[0].Frame;if(e){var i=!0===e.IsHScreen,a=e.DataWidth,r=e.DistanceWidth,n=e.XPointCount,o=this.LineWidth*c();if(i)var s=this.ChartBorder.GetHScreenBorder(),l=s.TopEx+r/2+lo.FrameLeftMargin,h=s.BottomEx;else var s=this.ChartBorder.GetBorder(),l=s.LeftEx+r/2+lo.FrameLeftMargin,h=s.RightEx,u=s.ChartHeight-s.TopTitle-5*c();this.Canvas.save(),this.Canvas.lineWidth=o,this.Canvas.font=this.Font,this.Canvas.textAlign="center",this.Canvas.textBaseline="top";for(var d={Left:s.LeftEx,Top:D(o,s.TopTitle),Height:u,LineWidth:o},f=this.Data.DataOffset,p=0;f<this.Data.Data.length&&p<n;++f,++p,l+=a+r){var m=this.Data.Data[f];if(m){var C=this.GetQuarter(m.Date);if(C){var v=l,g=l+a;if(g>h)break;var S=v+(g-v)/2;if(d.DateInfo){var x=d.DateInfo;x.Year!=C.Year||x.Quarter!=C.Quarter?(d.Right=S,this.DrawQuarter(d),d.Left=S,d.Right=null,d.DateInfo=C):d.Right=S}else d.DateInfo=C,d.Right=S}}}this.DrawQuarter(d),this.Canvas.restore()}}}},this.DrawQuarter=function(t){if(Ee.IsNumber(t.Left)&&Ee.IsNumber(t.Right)){var e=D(t.LineWidth,t.Left),i=D(t.LineWidth,t.Right),a=i-e;this.Canvas.strokeStyle=this.LineColor,this.Canvas.strokeRect(e,t.Top,a,t.Height);var r=t.DateInfo,n=r.Year%100;if(n<10)var o="0"+n;else var o=n.toString();var s=o+"年"+r.Quarter+"季度";if(this.Canvas.measureText(s).width<a+5){var l=e+a/2,h=t.Top+this.TextTopOffset;this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(s,l,h)}}},this.GetQuarter=function(t){if(!Ee.IsNumber(t))return null;var e=parseInt(t/1e4),i=parseInt(t%1e4/100);switch(i){case 1:case 2:case 3:var a=1;break;case 4:case 5:case 6:var a=2;break;case 7:case 8:case 9:var a=3;break;case 10:case 11:case 12:var a=4;break;default:return null}return{Year:e,Month:i,Quarter:a}}}function ge(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="RectSelectPaint",this.LineColor=lo.RectSelect.LineColor,this.LineWidth=lo.RectSelect.LineWidth,this.LineDotted=lo.RectSelect.LineDotted,this.AreaColor=lo.RectSelect.AreaColor,this.SubAreaColor=lo.RectSelect.SubAreaColor,this.FirstPoint,this.SecondPoint,this.CenterPoint,this.PreventClose=!1,this.SpaceReselected=!1,this.SubClient={FirstPoint:null,SecondPoint:null,Start:null,End:null},this.StartDate,this.EndDate,this.CenterDate,this.HQChart,this.DragRect,this.ShowRangeText={Enable:!1,Position:0,Font:lo.RectSelect.RangeTextFont,Color:lo.RectSelect.RangeTextColor,BGColor:lo.RectSelect.RangeTextBGColor,SubPosition:0,SubFont:lo.RectSelect.RangeTextSubFont,SubColor:lo.RectSelect.RangeTextSubColor,SubBGColor:lo.RectSelect.RangeTextSubBGColor},this.BorderCache,this.SetOption=function(t){if(t&&(t.LineColor&&(this.LineColor=t.LineColor),t.AreaColor&&(this.AreaColor=t.AreaColor),Ee.IsBool(t.SpaceReselected)&&(this.SpaceReselected=t.SpaceReselected),t.ShowRangeText)){var e=t.ShowRangeText;Ee.IsBool(e.Enable)&&(this.ShowRangeText.Enable=e.Enable),Ee.IsNumber(e.Position)&&(this.ShowRangeText.Position=e.Position),Ee.IsNumber(e.SubPosition)&&(this.ShowRangeText.SubPosition=e.SubPosition)}},this.ReloadResource=function(t){this.LineColor=lo.RectSelect.LineColor,this.LineWidth=lo.RectSelect.LineWidth,this.LineDotted=lo.RectSelect.LineDotted,this.AreaColor=lo.RectSelect.AreaColor,this.ShowRangeText.Font=lo.RectSelect.RangeTextFont,this.ShowRangeText.Color=lo.RectSelect.RangeTextColor,this.ShowRangeText.BGColor=lo.RectSelect.RangeTextBGColor},this.IsMinuteChart=function(){var t=this.HQChart.ClassName;return"MinuteChartContainer"==t||"MinuteChartHScreenContainer"==t},this.GetKData=function(){if(!this.HQChart)return null;var t=this.IsMinuteChart(),e=null;if(t){if(!this.HQChart.SourceData)return null;e=this.HQChart.SourceData}else{if(!this.HQChart.ChartPaint[0])return null;if(!(e=this.HQChart.ChartPaint[0].Data))return null}return e},this.GetPointCount=function(){var t=0;return this.FirstPoint&&++t,this.SecondPoint&&++t,t},this.DateToNumber=function(t,e){if(e)return Ee.IsNumber(t.Date)?1e4*t.Date+t.Time:t.Time;var i=this.HQChart.Period;return Q.IsDayPeriod(i,!0)?t.Date:Q.IsMinutePeriod(i,!0)?1e4*t.Date+t.Time:Q.IsSecondPeriod(i)||Q.IsTickPeriod(i)?1e6*t.Date+t.Time:null},this.GetSelectRectData=function(){if(!this.FirstPoint||!this.SecondPoint)return null;var t=this.GetKData();if(!t)return null;for(var e=this.IsMinuteChart(),i=this.DateToNumber(this.FirstPoint,e),a=this.DateToNumber(this.SecondPoint,e),r={Start:null,End:null,Data:t},n=0;n<t.Data.length;++n){var o=t.Data[n];if(o){var s=this.DateToNumber(o,e);if(i==s&&(r.Start=n),a==s&&(r.End=n),Ee.IsNumber(r.Start)&&Ee.IsNumber(r.End)){if(r.Start>r.End){var l=r.Start;r.Start=r.End,r.End=l}return r}}}return null},this.SortPoint=function(){var t=this.IsMinuteChart();if(this.CenterData=null,this.FirstPoint&&!this.SecondPoint)this.StartDate={Date:this.DateToNumber(this.FirstPoint,t),Index:0};else if(this.FirstPoint&&this.SecondPoint){var e=this.DateToNumber(this.FirstPoint,t),i=this.DateToNumber(this.SecondPoint,t);if(e<i?(this.StartDate={Date:e,Index:0},this.EndDate={Date:i,Index:1}):(this.StartDate={Date:i,Index:1},this.EndDate={Date:e,Index:0}),this.CenterPoint){var a=this.DateToNumber(this.CenterPoint,t);this.CenterDate={Date:a,Index:2}}if(this.SubClient.FirstPoint&&this.SubClient.SecondPoint){var e=this.DateToNumber(this.SubClient.FirstPoint,t),i=this.DateToNumber(this.SubClient.SecondPoint,t);e<i?(this.SubClient.Start={Date:e,Index:3},this.SubClient.End={Date:i,Index:4}):(this.SubClient.Start={Date:i,Index:4},this.SubClient.End={Date:e,Index:3}),this.SubClient.End.Date<=this.StartDate.Date||this.SubClient.Start.Date>=this.EndDate.Date?(this.SubClient.Start=null,this.SubClient.End=null):(this.SubClient.Start.Date<this.StartDate.Date&&(this.SubClient.Start.Date=this.StartDate.Date),this.SubClient.End.Date>this.EndDate.Date&&(this.SubClient.End.Date=this.EndDate.Date))}}},this.GetCenterPoint=function(){if(!this.FirstPoint||!this.SecondPoint)return null;if(!Ee.IsNumber(this.FirstPoint.DataIndex))return null;if(!Ee.IsNumber(this.SecondPoint.DataIndex))return null;var t=this.FirstPoint.DataIndex-this.SecondPoint.DataIndex;if(Math.abs(t)<3)return null;var e=parseInt(this.FirstPoint.DataIndex+(this.SecondPoint.DataIndex-this.FirstPoint.DataIndex)/2);if(e<0)return null;var i=this.GetKData();if(!i||!i.Data)return null;var a=i.Data[e];return a?{Date:a.Date,Time:a.Time,DataIndex:e}:null},this.MovePoint=function(t){if(!this.FirstPoint||!this.SecondPoint)return!1;var e=this.GetKData();if(!e||!e.Data)return!1;var i=this.FirstPoint.DataIndex+t,a=e.Data[i];if(!a)return!1;var r={Date:a.Date,Time:a.Time,DataIndex:i},i=this.SecondPoint.DataIndex+t,a=e.Data[i];if(!a)return!1;var n={Date:a.Date,Time:a.Time,DataIndex:i},i=this.CenterPoint.DataIndex+t,a=e.Data[i];if(!a)return!1;var o={Date:a.Date,Time:a.Time,DataIndex:i};return this.FirstPoint=r,this.SecondPoint=n,this.CenterPoint=o,!0},this.MoveSubRect=function(t,e){if(!this.FirstPoint||!this.SecondPoint)return!1;if(!this.SubClient||!this.SubClient.FirstPoint||!this.SubClient.SecondPoint)return!1;var i=this.GetKData();if(!i||!i.Data)return!1;var a=Math.min(this.FirstPoint.DataIndex,this.SecondPoint.DataIndex),r=Math.max(this.FirstPoint.DataIndex,this.SecondPoint.DataIndex),n=this.SubClient.FirstPoint,o=this.SubClient.SecondPoint;if(this.SubClient.FirstPoint.DataIndex>this.SubClient.SecondPoint.DataIndex)var n=this.SubClient.SecondPoint,o=this.SubClient.FirstPoint;var s=n.DataIndex,l=o.DataIndex;if(e){if(s<=a)return!1;s-=t,l-=t}else{if(o.DataIndex>=r)return!1;s+=t,l+=t}var h=!1;if(s!=n.DataIndex){n.DataIndex=s;var u=i.Data[s];n.Date=u.Date,n.Time=u.Time,h=!0}if(l!=n.DataIndex){o.DataIndex=l;var u=i.Data[l];o.Date=u.Date,o.Time=u.Time,h=!0}return h},this.SetPoint=function(t,e){var i=null;if(e&&Ee.IsNumber(e.DataIndex)&&(i=e.DataIndex),!e||!Ee.IsNumber(e.Index))return this.FirstPoint?!this.SecondPoint&&(this.SecondPoint={Date:t.Date,Time:t.Time,DataIndex:i},this.CenterPoint=this.GetCenterPoint(),!0):(this.FirstPoint={Date:t.Date,Time:t.Time,DataIndex:i},!0);switch(e.Index){case 0:return this.FirstPoint={Date:t.Date,Time:t.Time,DataIndex:i},this.CenterPoint=this.GetCenterPoint(),!0;case 1:return this.SecondPoint={Date:t.Date,Time:t.Time,DataIndex:i},this.CenterPoint=this.GetCenterPoint(),!0;case 2:var a=i-this.CenterPoint.DataIndex;return Math.abs(a)>0&&this.MovePoint(a);case 3:return this.SubClient.FirstPoint={Date:t.Date,Time:t.Time,DataIndex:i},!0;case 4:return this.SubClient.SecondPoint={Date:t.Date,Time:t.Time,DataIndex:i},!0;default:return!1}},this.ClearPoint=function(){if(this.PreventClose)return!1;var t=!1;return this.FirstPoint&&(this.FirstPoint=null,t=!0),this.SecondPoint&&(this.SecondPoint=null,t=!0),this.SubClient.FirstPoint=null,this.SubClient.SecondPoint=null,t},this.Draw=function(){if(this.BorderCache=null,this.StartDate=null,this.EndDate=null,this.CenterDate=null,this.DragRect=[],this.SubClient.Start=null,this.SubClient.End=null,this.FirstPoint||this.SecondPoint){this.SortPoint();var t=this.GetKData();if(t&&(this.Data=t,this.ChartFrame&&this.ChartFrame.SubFrame)){var e=this.ChartFrame.SubFrame[0].Frame;if(e){var i=!0===e.IsHScreen,a=e.DataWidth,r=e.DistanceWidth,n=e.XPointCount;if(i){var o=e.GetBorder(),s=o.TopEx+r/2+lo.FrameLeftMargin;o.BottomEx;this.BorderCache=o}else{var o=e.GetBorder(),s=o.LeftEx+r/2+lo.FrameLeftMargin,l=(o.RightEx,o.ChartHeight,o.TopTitle,c(),o.TopEx),h=o.BottomEx;this.BorderCache=o}this.Canvas.save();for(var u=(Q.IsDayPeriod(this.HQChart.Period,!0),this.IsMinuteChart()),d=null,f=null,p=null,m=null,C=[],v=this.Data.DataOffset,D=0;v<this.Data.Data.length&&D<n;++v,++D,s+=a+r){var g=this.Data.Data[v];if(g){var S=s,x=s+a;if(u)var b=e.GetXFromIndex(D);else var b=S+(x-S)/2;var I=this.DateToNumber(g,u);if(this.StartDate&&I==this.StartDate.Date&&(d={XIndex:v,X:b,Top:l,Bottom:h,PointIndex:this.StartDate.Index,Type:0,Item:g},C.push(d)),this.EndDate&&I==this.EndDate.Date&&(f={XIndex:v,X:b,Top:l,Bottom:h,PointIndex:this.EndDate.Index,Type:1,Item:g},C.push(f)),this.CenterDate&&I==this.CenterDate.Date){var T={XIndex:v,X:b,Top:l,Bottom:h,PointIndex:this.CenterDate.Index,Type:2,Item:g};C.push(T)}if(this.SubClient&&this.SubClient.Start&&this.SubClient.End&&(I==this.SubClient.Start.Date&&(this.SubClient.Start.Point={Date:I,X:b,Top:l,Bottom:h,KItem:g}),I==this.SubClient.End.Date&&(this.SubClient.End.Point={Date:I,X:b,Top:l,Bottom:h,kItem:g})),p?(m.Date=I,m.X=b):(p={Date:I,X:b,Top:l,Bottom:h},m={Date:I,X:b,Top:l,Bottom:h}),d&&f)break}}if(this.DrawLines(C),this.DrawArea(d,f,p,m,this.AreaColor),this.SubClient&&this.SubClient.Start&&this.SubClient.End&&(this.DrawArea(this.SubClient.Start.Point,this.SubClient.End.Point,p,m,this.SubAreaColor,4),this.SubClient.Start.Point)){var g=this.SubClient.Start.Point,y={X:g.X,Top:g.Top,Bottom:g.Bottom,PointIndex:g.DataIndex,Type:3,Item:g.KItem};C.push(y)}this.DrawRangeText(C),this.Canvas.restore()}}}},this.DrawRangeText=function(t){if(this.ShowRangeText&&0!=this.ShowRangeText.Enable)for(var e,i,a,r=this.BorderCache,n=this.IsMinuteChart(),o=this.HQChart.Period,s=0;s<t.length;++s){var l=t[s];if(0===l.Type||1==l.Type||3==l.Type){if(n){var h=Ee.FormatDateString(l.Item.Date,"YYYY-MM-DD"),u=Ee.FormatTimeString(l.Item.Time,"HH:MM");a=h+" "+u}else{var h=Ee.FormatDateString(l.Item.Date,"YYYY-MM-DD"),u=null;Q.IsMinutePeriod(o,!0)?u=Ee.FormatTimeString(l.Item.Time,"HH:MM"):(Q.IsSecondPeriod(o)||Q.IsTickPeriod(o))&&(u=Ee.FormatTimeString(l.Item.Time,"HH:MM:SS")),a=u?h+" "+u:h}if(3==l.Type){var c=this.ShowRangeText.SubPosition,d=this.ShowRangeText.SubBGColor,f=this.ShowRangeText.SubColor;this.Canvas.font=this.ShowRangeText.SubFont;var p=this.GetFontHeight()}else{var c=this.ShowRangeText.Position,d=this.ShowRangeText.BGColor,f=this.ShowRangeText.Color;this.Canvas.font=this.ShowRangeText.Font;var p=this.GetFontHeight()}var m=this.Canvas.measureText(a).width+4,C={Height:p,Width:m};0==l.Type||3==l.Type?m>l.X?(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e=l.X+2,C.X=l.X):(this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",e=l.X-2,C.X=l.X-m):1==l.Type&&(m>r.Right-l.X?(this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",e=l.X-2,C.X=l.X-m):(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",e=l.X+2,C.X=l.X)),1==c?(i=l.Top+(l.Bottom-l.Top)/2,3==l.Type&&(i+=p),C.Y=i-p/2):2==c?(i=l.Bottom,C.Y=i-p/2):(i=l.Top,C.Y=i-p/2),d&&(this.Canvas.fillStyle=d,this.Canvas.fillRect(v(C.X),v(C.Y),g(C.Width),g(C.Height))),f&&(this.Canvas.fillStyle=f,this.Canvas.fillText(a,e,i,m))}}},this.DrawLines=function(t){if(Ee.IsNonEmptyArray(t)){var e=this.LineWidth*c();this.Canvas.strokeStyle=this.LineColor,this.Canvas.lineWidth=e;for(var i=0;i<t.length;++i){var a=t[i],r=D(e,a.X);0==a.Type||1==a.Type?(this.LineDotted&&this.Canvas.setLineDash(this.LineDotted),this.Canvas.beginPath(),this.Canvas.moveTo(r,a.Top),this.Canvas.lineTo(r,a.Bottom),this.Canvas.stroke(),this.LineDotted&&this.Canvas.setLineDash([])):(this.Canvas.beginPath(),this.Canvas.moveTo(r,a.Top),this.Canvas.lineTo(r,a.Bottom),this.Canvas.stroke());var n=new et(r-3,a.Top,10,a.Bottom-a.Top);this.DragRect[i]={Rect:n,PointIndex:a.PointIndex,Type:a.Type}}}},this.PtInPaint=function(t,e){if(!Ee.IsNonEmptyArray(this.DragRect))return null;for(var i=0;i<this.DragRect.length;++i){var a=this.DragRect[i],r=a.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(r.X,r.Y,r.Width,r.Height),this.Canvas.isPointInPath(t,e))return(0,bn.default)({Index:i,PointIndex:a.PointIndex,Type:a.Type,Self:this},"Type",a.Type)}return null},this.DrawArea=function(t,e,i,a,r,n){if(i&&a&&this.StartDate&&this.EndDate){var o;if(t&&e?o=[t,e]:!t&&e?o=[i,e]:t&&!e?o=[t,a]:i.Date>this.StartDate.Date&&a.Date<this.EndDate.Date&&(o=[i,a]),o&&2==o.length){var s=o[0],l=o[1],h=v(s.X),u=v(l.X),c=u-h,d=s.Bottom-s.Top;this.Canvas.fillStyle=r,this.Canvas.fillRect(h,s.Top,c,d);var f={X:h,Y:s.Top,Right:u,Bottom:s.Top+d,Width:c,Height:d};Ee.IsNumber(n)&&this.DragRect.push({Rect:f,Type:n})}}}}function Se(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="DepthMapPaint",this.LineColor=lo.DepthMapPaint.LineColor,this.AreaColor=S(lo.DepthMapPaint.AreaColor),this.TextColor=lo.DepthMapPaint.TextColor,this.TextBGColor=lo.DepthMapPaint.TextBGColor,this.FrameID=0,this.ID=m(),this.IsDynamic=!1,this.IsCallbackDraw=!0,this.YRange,this.WidthRate=.8,this.IsShow=!0,this.SetOption=function(t){t.FrameID>0&&(this.FrameID=t.FrameID),Ee.IsObjectExist(t.ID)&&(this.ID=t.ID),t.IsShowCorssCursor&&(this.IsShowCorssCursor=t.IsShowCorssCursor),Ee.IsNumber(t.WidthRate)&&(this.WidthRate=t.WidthRate)},this.Draw=function(){if(this.Data&&Ee.IsNonEmptyArray(this.Data)&&this.ChartFrame&&this.ChartFrame.SubFrame&&!(this.ChartFrame.SubFrame.length<=this.FrameID)){var t=!0===this.ChartFrame.IsHScreen,e=this.ChartFrame.SubFrame[this.FrameID].Frame,i=e.ChartBorder,a=i.GetHeightEx(),r=i.GetRight(),n=i.GetTopEx(),o=i.GetBottomEx(),s=this.ChartBorder.Right*this.WidthRate;if(t){r=i.GetBottom(),n=i.GetRight(),o=i.GetLeft();var s=this.Width;s>this.ChartBorder.Bottom&&(s=this.ChartBorder.Bottom)}var l={Left:r,Top:n,Right:r+s,Bottom:o,Height:a,Width:s};this.YRange={Max:null,Min:0};for(var h=0;h<this.Data.length;++h){var u=this.Data[h];this.CalculateYRange(u,this.YRange)}for(var h=0;h<this.Data.length;++h){var u=this.Data[h];u.Height>0&&u.Height<=1?l.Height=a*u.Height:l.Height=a,1==u.Type?(l.Top=n,l.Bottom=n+l.Height,this.DrawUpArea(u,l)):2==u.Type?(l.Bottom=o,l.Top=l.Bottom-l.Height,this.DrawDownArea(u,l)):(l.Top=n,l.Bottom=o,this.DrawDefaultArea(u,l))}}},this.CalculateYRange=function(t,e){for(var i in t.Data){var a=t.Data[i];(null==e.Max||e.Max<a.Y)&&(e.Max=a.Y),(null==e.Min||e.Min>a.Y)&&(e.Min=a.Y)}},this.GetXFromData=function(t,e,i){var a=e.Width*(t-i.Min)/(i.Max-i.Min);return e.Left+a},this.GetYFromData=function(t,e,i,a){if(a){var r=e.Height*(t-i.Min)/(i.Max-i.Min);return e.Bottom-r}var r=e.Height*(t-i.Min)/(i.Max-i.Min);return e.Top+r},this.DrawDefaultArea=function(t,e){for(var i=this.ChartFrame.SubFrame[this.FrameID].Frame,a=t.Range&&t.Range.Y?t.Range.Y:this.YRange,r=[],n=0;n<t.Data.length;++n){var o=t.Data[n],s=this.GetXFromData(o.Y,e,a);if(!(o.X>i.HorizontalMax||o.X<i.HorizontalMin)){var l=i.GetYFromData(o.X);r.push({X:s,Y:l})}}var h=t.LineColor?t.LineColor:this.LineColor,u=t.AreaColor?t.AreaColor:this.AreaColor;r.length>0&&(1==t.DrawType?this.DrawHLine(r,h,e):this.DrawLine(r,h,u,e))},this.DrawUpArea=function(t,e){var i=[];for(var a in t.Data){var r=t.Data[a],n=this.GetXFromData(r.Y,e,t.Range.Y),o=this.GetYFromData(r.X,e,t.Range.X,t.IsASC);i.push({X:n,Y:o})}var s=t.LineColor?t.LineColor:this.LineColor,l=t.AreaColor?t.AreaColor:this.AreaColor;i.length>0&&this.DrawLine(i,s,l,e)},this.DrawDownArea=function(t,e){var i=[];for(var a in t.Data){var r=t.Data[a],n=this.GetXFromData(r.Y,e,t.Range.Y),o=this.GetYFromData(r.X,e,t.Range.X,t.IsASC);i.push({X:n,Y:o})}var s=t.LineColor?t.LineColor:this.LineColor,l=t.AreaColor?t.AreaColor:this.AreaColor;i.length>0&&this.DrawLine(i,s,l,e)},this.DrawHLine=function(t,e,i){var a=!0===this.ChartFrame.IsHScreen;this.Canvas.strokeStyle=e,this.Canvas.beginPath();for(var r=0,n=0;n<t.length;++n){var o=t[n];a||(this.Canvas.moveTo(i.Left,o.Y),this.Canvas.lineTo(o.X,o.Y)),++r}r>0&&this.Canvas.stroke()},this.DrawLine=function(t,e,i,a){var r=!0===this.ChartFrame.IsHScreen,n=!0,o=0;this.Canvas.strokeStyle=e;for(var s in t){var l=t[s];n?(this.Canvas.beginPath(),r?this.Canvas.moveTo(l.Y,l.X):this.Canvas.moveTo(l.X,l.Y),n=!1):r?this.Canvas.lineTo(l.Y,l.X):this.Canvas.lineTo(l.X,l.Y),++o}o>0&&this.Canvas.stroke();var h=t[0],u=t[t.length-1];if(r?(this.Canvas.lineTo(u.Y,a.Left),this.Canvas.lineTo(h.Y,a.Left)):(this.Canvas.lineTo(a.Left,u.Y),this.Canvas.lineTo(a.Left,h.Y)),this.Canvas.closePath(),Array.isArray(i))if(r){var c=this.Canvas.createLinearGradient(this.ChartBorder.GetRightEx(),this.ChartBorder.GetTop(),this.ChartBorder.GetLeft(),this.ChartBorder.GetTop());c.addColorStop(0,i[0]),c.addColorStop(1,i[1]),this.Canvas.fillStyle=c}else{for(var d=this.Canvas.createLinearGradient(a.Right,a.Top,a.Left,a.Top),f=1/i.length,s=0;s<i.length;++s)d.addColorStop(s*f,i[s]);this.Canvas.fillStyle=d}else this.Canvas.fillStyle=i;this.Canvas.fill()},this.GetYValueByXValue=function(t,e){for(var i=[],a=ao[e],r=0;r<this.Data.length;++r){var n=this.Data[r];if(0==n.Type&&n.Data&&!(n.Data.length<0)&&0!=n.IsShowCorssCursor){for(var o=!1,s=0;s<n.Data.length;++s){var l=n.Data[s];if(parseInt(l.X*a)==t){o=!0;var h={X:l.X,Y:l.Y,TextColor:n.TextColor?n.TextColor:this.TextColor,TextBGColor:n.TextBGColor?n.TextBGColor:this.TextBGColor};l.YText&&(h.YText=l.YText),i.push(h);break}}if(!o){var u=n.Data[0],c=n.Data[n.Data.length-1];t>u.X*a&&t<c.X*a&&i.push({X:null,Y:null,TextColor:n.TextColor?n.TextColor:this.TextColor,TextBGColor:n.TextBGColor?n.TextBGColor:this.TextBGColor})}}}return i}}function xe(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="KLineYAxisBGPaint",this.SplitData=[],this.Font=lo.KLineYAxisBGPaint.Font,this.FrameID=0,this.ID=m(),this.IsDynamic=!1,this.IsCallbackDraw=!0,this.IsShow=!0,this.BGWidth=50,this.LineColor=lo.KLineYAxisBGPaint.LineColor,this.DiffValutTextColor=lo.KLineYAxisBGPaint.DiffValutTextColor,this.DiffValueBGColor=lo.KLineYAxisBGPaint.DiffValueBGColor,this.KLineFrame,this.KLineData,this.Range={Max:null,Min:null},this.SetOption=function(t){t&&Ee.IsNonEmptyArray(t.SplitData)&&(this.SplitData=t.SplitData)},this.Draw=function(){if(this.IsShow&&this.ChartFrame&&this.ChartFrame.SubFrame&&!(this.ChartFrame.SubFrame.length<=this.FrameID)){var t=this.HQChart.ChartPaint[0];if(t){if(!(!0===this.ChartFrame.IsHScreen)){this.KLineFrame=this.ChartFrame.SubFrame[this.FrameID].Frame;var e=this.KLineFrame.ChartBorder,i=this.KLineFrame.DataWidth,a=this.KLineFrame.DistanceWidth,r=this.KLineFrame.XPointCount,n=e.GetBorder(),o=n.LeftEx+a/2+lo.FrameLeftMargin,s=n.RightEx;this.KLineData=t.Data;for(var l=null,h=null,u=this.KLineData.DataOffset,c=0;u<this.KLineData.Data.length&&c<r;++u,++c,o+=i+a){var d=this.KLineData.Data[u];if(null!=d.Open&&null!=d.High&&null!=d.Low&&null!=d.Close){if(o+i>s)break;(null==l||l<d.High)&&(l=d.High),(null==h||h>d.Low)&&(h=d.Low)}}Ee.IsNumber(l)&&Ee.IsNumber(h)&&(this.Range.Max=l,this.Range.Min=h,this.DrawBackground())}}}},this.DrawBackground=function(){var t=this.Range.Min,e=this.KLineFrame.ChartBorder.GetBorder(),i=this.KLineFrame.GetYFromData(t,!1),a=e.Right,r=a+this.BGWidth;this.Canvas.font=this.Font,this.Canvas.textBaseline="top",this.Canvas.textAlign="left";for(var n=0;n<this.SplitData.length;++n){var o=this.SplitData[n];if(o.Value+t>this.KLineFrame.HorizontalMax)break;var s=this.KLineFrame.GetYFromData(t+o.Value,!1);this.Canvas.fillStyle=o.Color,this.Canvas.fillRect(g(a),g(s),g(r-a),g(i-s)),o.Text&&o.TextColor&&(this.Canvas.fillStyle=o.TextColor,this.Canvas.fillText(o.Text,r+1,s)),i=s}var l=this.Range.Max-this.Range.Min,h=pr(this.HQChart.Symbol),u=l.toFixed(h),c=this.KLineFrame.GetYFromData(this.Range.Max,!1);this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(v(a),v(c)),this.Canvas.lineTo(v(r),v(c)),this.Canvas.stroke();var d=this.Canvas.measureText(u).width+4,f=this.Canvas.measureText("擎").width+2,p={Left:r+1,Top:c-f,Width:d,Height:f};this.DiffValueBGColor&&(this.Canvas.fillStyle=this.DiffValueBGColor,this.Canvas.fillRect(p.Left,p.Top,p.Width,p.Height)),this.Canvas.textBaseline="bottom",this.Canvas.fillStyle=this.DiffValutTextColor,this.Canvas.fillText(u,p.Left+1,c)}}function be(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="BackgroundPaint",this.IsDynamic=!1,this.IsCallbackDraw=!0,this.FrameID=0,this.Data,this.ID=m(),this.ChartSubFrame,this.ChartBorder,this.KData,this.Period,this.XPointCount=0,this.SetOption=function(t){t.FrameID>0&&(this.FrameID=t.FrameID),Ee.IsObjectExist(t.ID)&&(this.ID=t.ID)},this.Draw=function(){if(this.Data&&this.HQChart&&this.ChartFrame&&this.ChartFrame.SubFrame&&!(this.ChartFrame.SubFrame.length<=this.FrameID)){var t=this.HQChart.ChartPaint[0];if(t&&t.Data&&(this.ChartSubFrame=this.ChartFrame.SubFrame[this.FrameID].Frame,this.ChartBorder=this.ChartSubFrame.ChartBorder,this.KData=t.Data,this.Period=this.HQChart.Period,this.KData&&!(this.KData.Data.length<=0))){var e=!0===this.ChartSubFrame.IsHScreen;this.XPointCount=this.ChartSubFrame.XPointCount;var i=this.ChartSubFrame.XPointCount,a=this.KData.Data[this.KData.DataOffset],r=this.KData.DataOffset+i-1;r>=this.KData.Data.length&&(r=this.KData.Data.length-1);var n=this.KData.Data[r],o=this.GetShowData(a,n);if(o&&!(o.length<=0)){var s=this.BuildKLineMap(),l=this.ChartBorder.GetBottomEx(),h=this.ChartBorder.GetTopEx(),u=this.ChartBorder.GetHeightEx();e&&(h=this.ChartBorder.GetRightEx(),l=this.ChartBorder.GetLeftEx(),u=this.ChartBorder.GetWidthEx());for(var c in o){var d=o[c],f=this.GetBGCoordinate(d,s);if(f){if(Array.isArray(d.Color)){var p;p=e?this.Canvas.createLinearGradient(l,f.Left,h,f.Left):this.Canvas.createLinearGradient(f.Left,h,f.Left,l);var m=1/d.Color.length;for(var c in d.Color)p.addColorStop(c*m,d.Color[c]);this.Canvas.fillStyle=p}else this.Canvas.fillStyle=d.Color;e?this.Canvas.fillRect(g(l),g(f.Left),g(u),g(f.Width)):this.Canvas.fillRect(g(f.Left),g(h),g(f.Width),g(u))}}}}}},this.GetShowData=function(t,e){if(!Ee.IsNonEmptyArray(this.Data))return null;for(var i=[],a=0;a<this.Data.length;++a){var r=this.Data[a],n={};r.Start.Date>=t.Date&&r.Start.Date<=e.Date&&(n.Start=r.Start),r.End.Date>=t.Date&&r.End.Date<=e.Date&&(n.End=r.End),r.Start.Date<t.Date&&r.End.Date>e.Date&&(n.Start=t,n.End=e),(n.Start||n.End)&&(n.Color=r.Color,i.push(n))}return i},this.BuildKLineMap=function(){var t=!0===this.ChartSubFrame.IsHScreen,e=this.ChartSubFrame.DataWidth,i=this.ChartSubFrame.DistanceWidth,a=this.ChartBorder.GetLeft()+i/2+lo.FrameLeftMargin;t&&(a=this.ChartBorder.GetTop()+i/2+lo.FrameLeftMargin);var r=this.ChartBorder.GetRight();t&&(r=this.ChartBorder.GetBottom());for(var n={Data:new Mn.default,Start:null,End:null},o=this.KData.DataOffset,s=0;o<this.KData.Data.length&&s<this.XPointCount;++o,++s,a+=e+i){var l=this.KData.Data[o],h=a,u=a+e;if(u>r)break;var c=h+(u-h)/2;0==s&&(n.XLeft=h),n.XRight=u;var d={Index:o,ShowIndex:s,X:c,Right:u,Left:h,Date:l.Date};if(Q.IsMinutePeriod(this.Period,!0)){var f="Date:"+l.Date+" Time:"+l.Time;d.Time=l.Time}else var f="Date:"+l.Date;n.Data.set(f,d),0==s&&(n.Start=d),n.End=d}return n},this.GetBGCoordinate=function(t,e){var i=null,a=null,r=Q.IsMinutePeriod(this.Period,!0),n=!1;if(r?t.Start&&t.End&&t.Start.Date==t.End.Date&&t.Start.Time==t.End.Time&&(n=!0):t.Start&&t.End&&t.Start.Date==t.End.Date&&(n=!0),n){if(r)var o="Date:"+t.Start.Date+" Time:"+t.Start.Time;else var o="Date:"+t.Start.Date;if(!e.Data.has(o))return null;var s=e.Data.get(o);return i=s.Left,a=s.Right,{Left:i,Right:a,Width:a-i}}if(t.Start){if(r)var o="Date:"+t.Start.Date+" Time:"+t.Start.Time;else var o="Date:"+t.Start.Date;if(e.Data.has(o)){var s=e.Data.get(o);i=s.Left}else if(r)if(t.Start.Date<e.Start.Date||t.Start.Date==e.Start.Date&&t.Start.Time<=e.Start.Time)i=e.Start.Left;else{var l=!0,h=!1,u=void 0;try{for(var c,d=(0,Fn.default)(e.Data);!(l=(c=d.next()).done);l=!0){var f=c.value,p=f[1];if(p.Date>t.Start.Date||p.Date==t.Start.Date&&p.Time>t.Start.Time){i=p.Left;break}}}catch(t){h=!0,u=t}finally{try{!l&&d.return&&d.return()}finally{if(h)throw u}}}else if(t.Start.Date<=e.Start.Date)i=e.Start.Left;else{var m=!0,C=!1,v=void 0;try{for(var D,g=(0,Fn.default)(e.Data);!(m=(D=g.next()).done);m=!0){var f=D.value,p=f[1];if(p.Date>t.Start.Date){i=p.Left;break}}}catch(t){C=!0,v=t}finally{try{!m&&g.return&&g.return()}finally{if(C)throw v}}}}else i=e.XLeft;if(t.End){if(r)var o="Date:"+t.End.Date+" Time:"+t.End.Time;else var o="Date:"+t.End.Date;if(e.Data.has(o)){var s=e.Data.get(o);a=s.Right}else if(r){if(t.End.Date<e.Start.Date||t.End.Date==e.Start.Date&&t.End.Time<e.Start.Time)return null;if(t.End.Date<e.End.Date||t.End.Date==e.End.Date&&t.End.Time>=e.End.Time)a=e.End.Right;else{var S=null,x=!0,b=!1,I=void 0;try{for(var T,y=(0,Fn.default)(e.Data);!(x=(T=y.next()).done);x=!0){var f=T.value,p=f[1];if(p.Date>t.End.Date||p.Date==t.End.Date&&p.Time>t.End.Time){a=S;break}S=p.Right}}catch(t){b=!0,I=t}finally{try{!x&&y.return&&y.return()}finally{if(b)throw I}}}}else{if(t.End.Date<e.Start.Date)return null;if(t.End.Date<=e.End.Date)a=e.End.Right;else{var S=null,w=!0,E=!1,F=void 0;try{for(var L,M=(0,Fn.default)(e.Data);!(w=(L=M.next()).done);w=!0){var f=L.value,p=f[1];if(p.Date>t.End.Date){a=S;break}S=p.Right}}catch(t){E=!0,F=t}finally{try{!w&&M.return&&M.return()}finally{if(E)throw F}}}}}else a=e.XRight;return null==i||null==a?null:{Left:i,Right:a,Width:a-i}}}function Ie(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="MinuteBackgroundPaint",this.IsDynamic=!0,this.IsCallbackDraw=!1,this.HQChart,this.Data,this.Font=lo.DefaultTextFont,this.TextColor=lo.DefaultTextColor,this.MerginTop=20,this.ID=m(),this.FrameID=0,this.SetOption=function(t){t&&(t.Font&&(this.Font=t.Font),Ee.IsObjectExist(t.ID)&&(this.ID=t.ID),t.FrameID>0&&(this.FrameID=t.FrameID),t.MerginTop>0&&(this.MerginTop=t.MerginTop))},this.Draw=function(){if(this.Data&&this.HQChart&&this.ChartFrame&&this.ChartFrame.SubFrame&&!(this.ChartFrame.SubFrame.length<=this.FrameID)){var t=this.ChartFrame.SubFrame[this.FrameID];if(t&&t.Frame){var e=t.Frame,i=this.HQChart.SourceData;if(i){for(var a=e.XPointCount,r=0,n=null,o=new Mn.default,s=i.DataOffset,l=0;s<i.Data.length&&l<a;++s,++l){var h=i.Data[s];h&&(h.Date!=r&&(r=h.Date,n?(n.Right=this.ChartFrame.GetXFromIndex(l-1),o.set(n.Date,n),n={Left:this.ChartFrame.GetXFromIndex(l),Date:h.Date}):n={Left:this.ChartFrame.GetXFromIndex(l),Date:h.Date}))}n&&!n.Right&&(n.Right=this.ChartFrame.GetXFromIndex(a-1),o.set(n.Date,n)),this.Canvas.textAlign="center",this.Canvas.textBaseline="top";for(var u=e.ChartBorder.GetTopEx()+this.MerginTop,s=0;s<this.Data.length;++s){var h=this.Data[s];if(o.has(h.Date)){var n=o.get(h.Date),c=n.Left+(n.Right-n.Left)/2;h.Font?this.Canvas.font=h.Font:this.Canvas.font=this.Font,h.TextColor?this.Canvas.fillStyle=h.TextColor:this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(h.Text,c,u)}}}}}}}function Te(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="DragMovePaint",this.DrawAfterTitle=!0,this.IsDynamic=!0,this.Info,this.IsShow=!1,this.Point,this.TextColor=lo.DragMovePaint.TextColor,this.Font=lo.DragMovePaint.Font,this.ReloadResource=function(t){this.TextColor=lo.DragMovePaint.TextColor,this.Font=lo.DragMovePaint.Font},this.Clear=function(){this.Info=null,this.IsShow=!1,this.Point=null},this.Draw=function(){if(this.Info&&this.IsShow&&this.Point){var t,e=this.Info.FrameID+1;this.Info.Type==eo.MAIN_KLINE?t="K线:"+this.Info.Name+", 窗口:"+e:this.Info.Type==eo.OVERLAY_KLINE?t="叠加K线:"+this.Info.Name+", 窗口:"+e:this.Info.Type==eo.MAIN_INDEX?t="指标:"+this.Info.IndexName+", 窗口:"+e:this.Info.Type==eo.OVERLAY_INDEX?t="叠加指标:"+this.Info.IndexName+", 窗口:"+e:this.Info.Type==eo.OVERLAY_MINUTE?t="走势图, 叠加价格线:"+this.Info.Name+", 窗口:"+e:this.Info.Type==eo.MAIN_MINUTE?t="走势图, 价格线:"+this.Info.Name+", 窗口:"+e:this.Info.Type==eo.MAIN_AVERAGE_MINUTE?t="走势图, 均线:"+this.Info.Name+", 窗口:"+e:this.Info.Type==eo.MAIN_MINUTE_VOL&&(t="走势图, 成交量:"+this.Info.Name+", 窗口:"+e),t&&(this.Canvas.font=this.Font,this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.fillText(t,this.Point.X,this.Point.Y))}}}function ye(){this.PlayList=[],this.Cache=[],this.MinLineHeight=40*c(),this.Height,this.Step=1,this.GetPlayList=function(t){for(var e=t.Canves,i=t.Right,a=t.Left,r=i-a,n=t.IsMoveStep,o=[],s=0,l=0;l<this.PlayList.length;++l){var h=this.PlayList[l],u=this.MinLineHeight;h.Height>this.MinLineHeight&&(u=h.Height);for(var c=!0,d=!1,f=0;f<h.Data.length;++f){var p=h.Data[f],m={X:p.X,Y:s,Text:p.Text,Color:p.Color,Height:u,Font:p.Font,Info:p.Info};o.push(m),n&&(f==h.Data.length-1&&this.Cache.length>0?(c=!1,p.TextWidth||(p.Font&&p.Font.Name?e.font=p.Font.Name:e.font=t.Font,p.TextWidth=e.measureText(m.Text+"擎擎").width),p.X>=p.TextWidth&&(c=!0)):0==f&&(d=!1,p.TextWidth||(p.Font&&p.Font.Name?e.font=p.Font.Name:e.font=t.Font,p.TextWidth=e.measureText(m.Text+"擎擎").width),p.X>r+p.TextWidth&&(d=!0)),p.X+=this.Step)}if(n&&c&&this.Cache.length>0){var C=this.Cache.shift(),v={X:0,Text:C.Text,Color:C.Color,Font:C.Font,Info:C.Info};h.Data.push(v)}if(n&&d&&h.Data.length>0){var D=h.Data.shift();this.OnItemPlayEnd(t.HQChart,D)}s+=u}return o},this.CacluatePlayLine=function(t){this.Height=t;var e=parseInt(t/this.MinLineHeight);if(this.PlayList.length<e)for(var i=e-this.PlayList.length,a=0;a<i;++a)this.PlayList.push({Data:[]});else if(this.PlayList.length>e)for(var r=this.PlayList.length-e,a=0;a<r;++a)for(var n=this.PlayList.pop(),o=0;o<n.Data.length;++o){var s=n.Data[o],l={Text:s.Text,Color:s.Color,Font:s.Font,Info:s.Info};this.Cache.unshift(l)}Nn.Chart.Log("[BarrageList::CacluatePlayLine] LineCount="+this.PlayList.length+" Height="+this.Height)},this.AddBarrage=function(t){for(var e in t){var i=t[e];this.Cache.push(i)}},this.OnItemPlayEnd=function(t,e){if(t.mapEvent.has(Rn.BARRAGE_PLAY_END)){var i=t.mapEvent.get(Rn.BARRAGE_PLAY_END);i.Callback&&i.Callback(i,e,this)}},this.Count=function(){return this.Cache.length}}function we(){this.newMethod=ce,this.newMethod(),delete this.newMethod,this.ClassName="BarragePaint",this.IsAnimation=!0,this.IsEraseBG=!0,this.HQChart,this.Font=lo.Barrage.Font,this.TextColor=lo.Barrage.Color,this.FontHeight=lo.Barrage.Height,this.BarrageList=new ye,this.IsMoveStep=!1,this.SetOption=function(t){t&&(t.Step>0&&(this.BarrageList.Step=t.Step),t.MinLineHeight&&(this.Barrage.MinLineHeight=t.MinLineHeight))},this.DrawHScreen=function(){var t=this.ChartBorder.GetWidth(),e=this.ChartBorder.GetTop(),i=this.ChartBorder.GetBottom(),a=this.ChartBorder.GetRightEx();this.ChartBorder.GetChartWidth();t!=this.BarrageList.Height&&this.BarrageList.CacluatePlayLine(t),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left";var r=this.BarrageList.GetPlayList({Canves:this.Canvas,Right:i,Left:e,Font:this.Font,IsMoveStep:this.IsMoveStep,HQChart:this.HQChart});if(this.IsMoveStep=!1,r){this.Canvas.save(),this.Canvas.translate(this.ChartBorder.GetChartHeight(),0),this.Canvas.rotate(90*Math.PI/180);for(var n=0;n<r.length;++n){var o=r[n];o.Color?this.Canvas.fillStyle=o.Color:this.Canvas.fillStyle=this.TextColor,o.Font?this.Canvas.font=o.Font.Name:this.Canvas.font=this.Font;var s=this.FontHeight;o.Font&&o.Font.Height>0&&(s=o.Font.Height);var l=o.Y+parseInt((o.Height-s)/2);this.Canvas.fillText(o.Text,i-o.X,a+l)}this.Canvas.restore()}},this.Draw=function(){if(this.ChartFrame.IsHScreen)return void this.DrawHScreen();var t=this.ChartBorder.GetLeft(),e=this.ChartBorder.GetRight(),i=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetHeight();a!=this.BarrageList.Height&&this.BarrageList.CacluatePlayLine(a),this.Canvas.textBaseline="middle",this.Canvas.textAlign="left";var r=this.BarrageList.GetPlayList({Canves:this.Canvas,Right:e,Left:t,Font:this.Font,IsMoveStep:this.IsMoveStep,HQChart:this.HQChart});if(this.IsMoveStep=!1,r)for(var n=0;n<r.length;++n){var o=r[n];o.Color?this.Canvas.fillStyle=o.Color:this.Canvas.fillStyle=this.TextColor,o.Font?this.Canvas.font=o.Font.Name:this.Canvas.font=this.Font;var s=this.FontHeight;o.Font&&o.Font.Height>0&&(s=o.Font.Height);var l=o.Y+parseInt((o.Height-s)/2);this.Canvas.fillText(o.Text,e-o.X,i+l)}}}function Ee(){this.ChartBorder,this.Frame,this.FrameSplitData,this.SplitCount=5,this.StringFormat=0,this.IsShowLeftText=!0,this.IsShowRightText=!0,this.LanguageID=ho.LANGUAGE_CHINESE_ID,this.GetEventCallback,this.GetKLineChartCallback,this.IntegerCoordinateSplit=function(t){var e=this.FrameSplitData.Find(t.Interval);if(!e)return!1;if(t.Interval==e.FixInterval)return!0;var i=t.Max,a=t.Min,r=t.Max/e.FixInterval,n=t.Min/e.FixInterval;Ee.IsFloat(r)&&(i=parseInt((r+.5).toFixed(0))*e.FixInterval),Ee.IsFloat(n)&&(a=parseInt((n-.5).toFixed(0))*e.FixInterval),0==t.Min&&(a=0),a<0&&t.Min>0&&(a=0);for(var o=0,s=a;s-i<1e-8;s+=e.FixInterval)++o;return t.Interval=e.FixInterval,t.Max=i,t.Min=a,t.Count=o,!0},this.Filter=function(t,e){if(this.SplitCount<=0||t.length<=0||t.length<=this.SplitCount)return t;var i=parseInt(t.length/this.SplitCount);i<=1&&(i=2);for(var a=[],r=0;r<t.length;r+=i)r+i>=t.length&&r!=t.length-1?a.push(t[t.length-1]):a.push(t[r]);if(2==this.SplitCount&&a.length>2)for(var r=1;r<a.length-1;++r){var n=a[r];n.Message[0]=null,n.Message[1]=null}if(e){for(var o=!1,r=0;r<a.length;++r){var n=a[r];if(Math.abs(n.Value)<1e-8){o=!0;break}}if(0==o){var s=new T;s.Value=0,s.Message[0]=null,s.Message[1]=null,a.push(s)}}return a},this.RemoveZero=function(t){for(var e=[!0,!0,!0,!0],i=0;i<t.length;++i){var a=t[i],r=a.Message[0];this.IsDecimalZeroEnd(r)||(e[0]=!1);var r=a.Message[1];this.IsDecimalZeroEnd(r)||(e[1]=!1);var r=a.Message[2];this.IsDecimalZeroEnd(r)||(e[2]=!1);var r=a.Message[3];this.IsDecimalZeroEnd(r)||(e[3]=!1)}if(0!=e[0]||0!=e[1]||0!=e[2]||0!=e[3])for(var i=0;i<t.length;++i){var a=t[i];if(e[0]){var r=a.Message[0];null!=r&&("number"==typeof r&&(r=r.toString()),a.Message[0]=r.replace(/[.][0]+/g,""))}if(e[1]){var r=a.Message[1];null!=r&&("number"==typeof r&&(r=r.toString()),a.Message[1]=r.replace(/[.][0]+/g,""))}if(e[2]){var r=a.Message[2];null!=r&&("number"==typeof r&&(r=r.toString()),a.Message[2]=r.replace(/[.][0]+/g,""))}if(e[3]){var r=a.Message[3];null!=r&&("number"==typeof r&&(r=r.toString()),a.Message[3]=r.replace(/[.][0]+/g,""))}}},this.IsDecimalZeroEnd=function(t){if(null==t)return!0;if("number"==typeof t&&(t=t.toString()),"0"==t)return!0;var e=t.search(/[.]/);if(e<0)return!1;for(var i=e+1;i<t.length;++i){var a=t.charAt(i);if(a>="1"&&a<="9")return!1}return!0},this.GetKLinePageInfo=function(){if(!this.GetKLineChartCallback)return null;var t=this.GetKLineChartCallback();if(!(t&&t.Data&&t.Data.DataOffset>=0))return null;if(!Ee.IsNonEmptyArray(t.Data.Data))return null;var e=t.Data.Data,i=t.Data.DataOffset,a=t.Data.DataOffset+t.ChartFrame.XPointCount-1;return a>=e.length&&(a=e.length-1),{Start:{Item:e[i],Index:i},End:{Item:e[a],Index:a},IsLast:a==e.length-1}},this.CustomLatestIndexDataCoordinate=function(t){var e=this.GetKLinePageInfo();if(e&&this.HQChart){var i=null;this.GetEventCallback&&(i=this.GetEventCallback(Rn.ON_FORMAT_INDEX_Y_LABEL));var a=e.End.Index,r=2;Ee.IsNumber(this.FloatPrecision)&&(r=this.FloatPrecision);for(var n=0,o=0;n<this.HQChart.ChartPaint.length;++n){var s=this.HQChart.ChartPaint[n];if(s.ChartFrame&&(s.GetItemData&&(s.ChartFrame.Identify==this.Frame.Identify||s.ChartFrame==this.Frame))){var l=s.GetItemData({Index:a});if(!Ee.IsNonEmptyArray(l))continue;for(o=0;o<l.length;++o){var h=l[o],u=new T;u.Type=1,u.TextColor=lo.FrameLatestPrice.TextColor,u.LineColor=h.Color,u.LineType=-1,u.IsLast=e.IsLast,Ee.IsNumber(t.LineType)&&(u.LineType=t.LineType),u.Value=h.Value;var c=Ee.FormatValueString(h.Value,r,this.LanguageID);if("left"==t.Position?u.Message[0]=c:u.Message[1]=c,!e.IsLast){var d={};e.IsLast||(d.EmptyBGColor=lo.FrameLatestPrice.EmptyBGColor),u.ExtendData={Custom:d}}if(i){var f={PreventDefault:!1,Label:u,Data:h,IndexName:s.IndexName,FrameID:this.Frame.Identify};if(i.Callback(i,f,this),f.PreventDefault)continue}this.Frame.CustomHorizontalInfo.push(u)}}}}},this.CustomLatestOverlayIndexDataCoordinate=function(t){var e=this.GetKLinePageInfo();if(e&&this.OverlayIndex&&Ee.IsNonEmptyArray(this.OverlayIndex.ChartPaint)){var i=null;this.GetEventCallback&&(i=this.GetEventCallback(Rn.ON_FORMAT_OVERLAY_INDEX_Y_LABEL));var a=e.End.Index,r=2;Ee.IsNumber(this.FloatPrecision)&&(r=this.FloatPrecision);for(var n=0,o=0;n<this.OverlayIndex.ChartPaint.length;++n){var s=this.OverlayIndex.ChartPaint[n];if(s.ChartFrame&&s.GetItemData){var l=s.GetItemData({Index:a});if(Ee.IsNonEmptyArray(l))for(o=0;o<l.length;++o){var h=l[o],u=new T;u.Type=1,u.TextColor=lo.FrameLatestPrice.TextColor,u.LineColor=h.Color,u.LineType=-1,u.IsLast=e.IsLast,Ee.IsNumber(t.LineType)&&(u.LineType=t.LineType),u.Value=h.Value;var c=Ee.FormatValueString(h.Value,r,this.LanguageID);if("left"==t.Position?u.Message[0]=c:u.Message[1]=c,!e.IsLast){var d={};e.IsLast||(d.EmptyBGColor=lo.FrameLatestPrice.EmptyBGColor),u.ExtendData={Custom:d}}if(i){var f={PreventDefault:!1,Label:u,Data:h,IndexName:s.IndexName,OverlayIdentify:this.OverlayIndex.Identify};if(i.Callback(i,f,this),f.PreventDefault)continue}this.Frame.CustomHorizontalInfo.push(u)}}}}}}function Fe(){this.newMethod=Ee,this.newMethod(),delete this.newMethod,this.CoordinateType=0,this.Symbol,this.Data,this.FrameSplitData2,this.FloatPrecision=null,this.Period,this.KLineChart,this.Custom=[],this.SplitType=0,this.DefaultSplitType=0,this.DefaultYMaxMin,this.FixedYMaxMin,this.EnableZoomUpDown=!1,this.LastMaxMin,this.PercentageTextFormat=0,this.IsEnableDragY=function(){return 0==this.CoordinateType||1==this.CoordinateType},this.Operator=function(){var t={};t.Max=this.Frame.HorizontalMax,t.Min=this.Frame.HorizontalMin,t.Count=this.SplitCount,t.Max==t.Min&&(t.Max+=.01*t.Max,t.Min-=.01*t.Min);var e=this.FixedYMaxMin&&Ee.IsNumber(this.FixedYMaxMin.Max)&&Ee.IsNumber(this.FixedYMaxMin.Min);if(e)t.Max=this.FixedYMaxMin.Max,t.Min=this.FixedYMaxMin.Min;else if(this.DefaultYMaxMin){var i=this.DefaultYMaxMin;Ee.IsNumber(i.Max)&&(t.Min>i.Max?t.Min=i.Max:t.Max<i.Max&&(t.Max=i.Max)),Ee.IsNumber(i.Min)&&(t.Max<i.Min?t.Max=i.Min:t.Min>i.Min&&(t.Min=i.Min))}t.Interval=(t.Max-t.Min)/(t.Count-1);var a=c(),r=this.Frame.ChartBorder.GetChartWidth(),n=r<450*a,o=pr(this.Symbol);n&&po.IsSHSZIndex(this.Symbol)&&(o=0),null!=this.FloatPrecision&&(o=this.FloatPrecision),Nn.Chart.Log("[FrameSplitKLinePriceY::Operator] Max="+t.Max+" Min="+t.Min+" Count="+t.Count+" isPhoneModel="+n+" defaultfloatPrecision="+o+" "),this.Frame.Logarithmic=null,this.Frame.MultiTextFormat=0;var s=!0;if(t.IsFixedMaxMin=e,t.IsFilter=s,Q.IsTickPeriod(this.Period))this.SplitTickData(t,o),s=t.IsFilter;else if(Fe.SplitCustom)Fe.SplitCustom(this,t,o),s=!1;else switch(this.CoordinateType){case 1:this.SplitPercentage(t,o,e)?(this.Frame.MultiTextFormat=this.PercentageTextFormat,s=!1):this.SplitDefault(t,o,e);break;case 3:this.SplitIncrease(t,o)?s=!1:this.SplitDefault(t,o);break;case 4:this.SplitAverage(t,o),s=!1;break;case 5:this.SplitGoldenSection(t,o),s=!1;break;case 2:this.SplitLogarithmic(t,o)?s=!1:this.SplitDefault(t,o);break;default:1==this.SplitType?(this.SplitFixed(t,o),s=!1):2==this.SplitType?(this.SplitFixedV2(t,o),s=!1):this.SplitDefault(t,o,e)}if(this.CustomCoordinate(o),s&&(this.Frame.HorizontalInfo=this.Filter(this.Frame.HorizontalInfo,!1)),this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min,1!=this.EnableZoomUpDown||this.FixedYMaxMin||(this.FixedYMaxMin={Max:t.Max,Min:t.Min}),Nn.Chart.Log("[FrameSplitKLinePriceY::Operator] fixed . Max="+t.Max+" Min="+t.Min+" Count="+t.Count),this.GetEventCallback){var l=this.GetEventCallback(Rn.ON_SPLIT_YCOORDINATE);if(l&&l.Callback){var h={ID:this.Frame.Identify,Frame:this.Frame};l.Callback(l,h,this)}}},this.SplitTickData=function(t,e){switch(this.CoordinateType){case 1:this.SplitPercentage(t,e,t.IsFixedMaxMin)?(this.Frame.MultiTextFormat=this.PercentageTextFormat,t.IsFilter=!1):this.SplitDefault(t,e,t.IsFixedMaxMin);break;default:3==this.SplitType?this.SplitTickPrice(t,e):this.SplitDefault(t,e,t.IsFixedMaxMin)}},this.SplitTickPrice=function(t,e){var i=this.KLineChart.GetAllPrice();this.Frame.HorizontalInfo=[];for(var a in i){var r=i[a];this.Frame.HorizontalInfo[a]=new T,this.Frame.HorizontalInfo[a].Value=r,this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=r.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=r.toFixed(e))}},this.SplitPercentage=function(t,e,i){var a=this.GetFirstOpenPrice();if(!Ee.IsNumber(a))return!1;t.Max=(t.Max-a)/a,t.Min=(t.Min-a)/a,t.Interval=(t.Max-t.Min)/(t.Count-1),i||this.IntegerCoordinateSplit2(t);var r,n=(1+t.Min)*a,o=(1+t.Max)*a;if(lo.Frame&&lo.Frame.PercentageText){var s=lo.Frame.PercentageText;r={PriceColor:s.PriceColor,PercentageColor:s.PercentageColor,SplitColor:s.SplitColor,Font:s.Font}}for(var l=[],h=0;h<=t.Max;h+=t.Interval){var u=(h+1)*a,s=new T;if(s.Value=u,this.IsShowLeftText&&(s.Message[0]=u.toFixed(e)),this.IsShowRightText){var c=u.toFixed(e),d=(100*h).toFixed(2);d=Ee.RemoveZero(d),d+="%",s.Message[1]=[d,c],s.ExtendData=r}l.push(s)}for(var h=-t.Interval;h>=t.Min;h-=t.Interval){var u=(h+1)*a;if(!(u<n||u>o)){var s=new T;if(s.Value=u,this.IsShowLeftText&&(s.Message[0]=u.toFixed(e)),this.IsShowRightText){var c=u.toFixed(e),d=(100*h).toFixed(2);d=Ee.RemoveZero(d),d+="%",s.Message[1]=[d,c],s.ExtendData=r}l.push(s)}}return l.sort(function(t,e){return t.Value-e.Value}),this.Frame.HorizontalInfo=l,t.Min=n,t.Max=o,!0},this.SplitIncrease=function(t,e){var i=this.GetLast2ndClose();if(!Ee.IsNumber(i))return!1;this.IntegerCoordinateSplit(t),this.Frame.HorizontalInfo=[];for(var a=lo.FrameSplitIncrease.Increase,r=[],n=i;n<t.Max;n*=1+a){var o=new T;o.Value=n;var s=n.toFixed(e);this.IsShowLeftText&&(o.Message[0]=s),this.IsShowRightText&&(o.Message[1]=s),r.push(o)}for(var n=.9*i;n>t.Min;n*=1-a){var o=new T;o.Value=n;var s=n.toFixed(e);this.IsShowLeftText&&(o.Message[0]=s),this.IsShowRightText&&(o.Message[1]=s),r.push(o)}return this.Frame.HorizontalInfo=r,!0},this.SplitAverage=function(t,e){var i=t.Max,a=t.Min;this.Frame.HorizontalInfo=[];for(var r=lo.FrameSplitAverage.Count,n=(i-a)/r,o=0;o<=r;++o){var s=new T;s.Value=a+n*o;var l=s.Value.toFixed(e);this.IsShowLeftText&&(s.Message[0]=l),this.IsShowRightText&&(s.Message[1]=l),this.Frame.HorizontalInfo[o]=s}},this.SplitGoldenSection=function(t,e){var i=t.Max,a=t.Min;this.Frame.HorizontalInfo=[];var r=[],n=lo.FrameGoldenSection.Golden;for(var o in n){var s=(i-a)*n[o]+a;item=new T,item.Value=s;var l=s.toFixed(e);this.IsShowLeftText&&(item.Message[0]=l),this.IsShowRightText&&(item.Message[1]=l),r.push(item)}this.Frame.HorizontalInfo=r},this.SplitLogarithmic=function(t,e){var i=lo.FrameLogarithmic.MinInterval,a=this.GetFirstOpenPrice();if(!Ee.IsNumber(a))return!1;for(var r=this.ChartBorder.GetHeightEx(),n=[.01,.02,.04,.08,.1,.2],o=n[n.length-1],s=0;s<n.length;++s){var l=n[s];if(a*l*(r/(t.Max-t.Min))>i){o=l;break}}var h=[],u=a,s=o;do{var c={Start:u};u=a*(1+s),c.End=u,h.push(c),s+=o}while(u<t.Max);var d=u,f=[],u=a,s=o;do{var c={End:u};u=a*(1-s),c.Start=u,f.push(c),s+=o}while(u>t.Min);var p=u;t.Max=d,t.Min=p,Nn.Chart.Log("[FrameSplitKLinePriceY::SplitLogarithmic] up, down",h,f),this.Frame.HorizontalInfo=[];var c=new T;c.Value=a,c.Font=lo.FrameLogarithmic.OpenPriceFont;var m=c.Value.toFixed(e);this.IsShowLeftText&&(c.Message[0]=m),this.IsShowRightText&&(c.Message[1]=m),this.Frame.HorizontalInfo.push(c);for(var s in h){var c=new T;c.Value=h[s].End;var m=c.Value.toFixed(e);this.IsShowLeftText&&(c.Message[0]=m),this.IsShowRightText&&(c.Message[1]=m),this.Frame.HorizontalInfo.push(c)}for(var s in f){var c=new T;c.Value=f[s].End;var m=c.Value.toFixed(e);this.IsShowLeftText&&(c.Message[0]=m),this.IsShowRightText&&(c.Message[1]=m),this.Frame.HorizontalInfo.splice(0,0,c)}return this.Frame.Logarithmic={Up:h,Down:f,OpenPrice:a},!0},this.SplitDefault=function(t,e,i){i||this.IntegerCoordinateSplit(t),this.Frame.HorizontalInfo=[];for(var a=0,r=t.Min;a<t.Count;++a,r+=t.Interval)this.Frame.HorizontalInfo[a]=new T,this.Frame.HorizontalInfo[a].Value=r,this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=r.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=r.toFixed(e))},this.SplitFixed=function(t,e){this.Frame.HorizontalInfo=[];for(var i=0,a=t.Min;i<t.Count;++i,a+=t.Interval)this.Frame.HorizontalInfo[i]=new T,this.Frame.HorizontalInfo[i].Value=a,this.IsShowLeftText&&(this.Frame.HorizontalInfo[i].Message[0]=a.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[i].Message[1]=a.toFixed(e))},this.SplitFixedV2=function(t,e){this.Frame.HorizontalInfo=[];for(var i=0,a=t.Min;i<t.Count;++i,a+=t.Interval)this.Frame.HorizontalInfo[i]=new T,this.Frame.HorizontalInfo[i].Value=a,this.IsShowLeftText&&(this.Frame.HorizontalInfo[i].Message[0]=a.toFixed(e)),this.IsShowRightText&&(this.Frame.HorizontalInfo[i].Message[1]=a.toFixed(e));t.IsFixedMaxMin||(0==e?(t.Max+=1,t.Min-=1):1==e?(t.Max+=.1,t.Min-=.1):2==e&&(t.Max+=.01,t.Min-=.01))},this.CustomCoordinate=function(t){this.Frame.CustomHorizontalInfo=[];for(var e,i,a=0;a<this.Custom.length;++a){var r=this.Custom[a];if(r.Type==io.LATEST_VALUE_ID||r.Type==io.PAGE_DATA_INCREASE||r.Type==io.PAGE_LAST_PRICE_ID){var n=t;Ee.IsNumber(r.FloatPrecision)&&r.FloatPrecision>=0&&(n=r.FloatPrecision);var o=this.GetLatestPrice(n,r);o&&(r.Type==io.LATEST_VALUE_ID?e=o:r.Type==io.PAGE_LAST_PRICE_ID?i=o:this.Frame.CustomHorizontalInfo.push(o))}else r.Type==io.FIXED_VALUE_ID?this.CustomFixedCoordinate(r):r.Type==io.PAGE_LAST_INDEX_VALUE_ID&&this.CustomLatestIndexDataCoordinate(r)}(e||i)&&(e&&i&&!0===i.IsLast?this.Frame.CustomHorizontalInfo.unshift(e):(e&&this.Frame.CustomHorizontalInfo.unshift(e),i&&this.Frame.CustomHorizontalInfo.push(i)))},this.GetLatestPrice=function(t,e){if(!this.Data||!this.Data.Data)return null;if(this.Data.Data.length<=0)return null;var i=this.Data.Data[this.Data.Data.length-1],a=!0;if(2==e.Type){var r=this.GetKLinePageInfo();r&&(i=r.End.Item,a=r.IsLast)}var n=new T;n.Type=0,e&&Ee.IsNumber(e.Type)&&(n.Type=e.Type),n.Value=i.Close,n.TextColor=lo.FrameLatestPrice.TextColor,n.LineType=2;var o=i.Close.toFixed(t);if(i.Close>i.Open?n.LineColor=lo.FrameLatestPrice.UpBarColor:i.Close<i.Open?n.LineColor=lo.FrameLatestPrice.DownBarColor:n.LineColor=lo.FrameLatestPrice.UnchagneBarColor,3==e.Type){var r=this.GetKLinePageInfo();if(r&&Ee.IsNumber(r.Start.Item.YClose)){var s=(r.End.Item.Close-r.Start.Item.YClose)/r.Start.Item.YClose*100,o=s.toFixed(2)+"%";n.LineColor=s>0?lo.FrameLatestPrice.UpBarColor:s<0?lo.FrameLatestPrice.DownBarColor:lo.FrameLatestPrice.UnchagneBarColor,n.Value=r.End.Item.Close,a=r.IsLast}}if("HH:MM"==e.DateTime&&Q.IsMinutePeriod(this.Period,!0)){var l=Ee.FormatTimeString(i.Time,e.DateTime),h=[{Text:o},{Text:l}];"left"==e.Position?n.Message[0]=h:n.Message[1]=h}else if(Ee.IsBool(e.CountDown)){var h=[{Text:o},{Type:1}];"left"==e.Position?n.Message[0]=h:n.Message[1]=h}else"left"==e.Position?n.Message[0]=o:n.Message[1]=o;if(Ee.IsNumber(e.LineType)&&(n.LineType=e.LineType),Ee.IsPlusNumber(e.LineWidth)&&(n.LineWidth=e.LineWidth),e.LineDash&&(n.LineDash=e.LineDash),0==e.IsShowLine&&(n.LineType=-1),n.IsLast=a,!a||1===e.PositionEx){var u={};a||(u.EmptyBGColor=lo.FrameLatestPrice.EmptyBGColor),1===e.PositionEx&&(u.Position=1),n.ExtendData={Custom:u}}return n},this.GetFirstOpenPrice=function(){if(!this.Data)return null;for(var t=this.Frame.XPointCount,e=this.Data.DataOffset,i=0;e<this.Data.Data.length&&i<t;++e,++i){var a=this.Data.Data[e];if(null!=a.Open&&null!=a.High&&null!=a.Low&&null!=a.Close)return Q.IsTickPeriod(this.Period)?a.YClose:a.Open}return null},this.GetLast2ndClose=function(){if(!this.Data)return null;if(this.Data.Data.length<=0)return null;var t=this.Frame.XPointCount,e=this.Data.DataOffset+t-1;e>=this.Data.Data.length&&(e=this.Data.Data.length-1);for(var i=null,a=e,r=0;a>=0&&a<this.Data.Data.length;--a){var n=this.Data.Data[a];if(null!=n.Open&&null!=n.High&&null!=n.Low&&null!=n.Close&&(0==r?i=n.Open:1==r&&(i=n.Close),++r>=2))break}return i},this.CustomFixedCoordinate=function(t){var e=pr(this.Symbol);for(var i in t.Data){var a=t.Data[i],r=new T;r.Type=1,r.TextColor=a.TextColor,r.LineColor=a.Color,r.LineType=2,Ee.IsNumber(t.LineType)&&(r.LineType=t.LineType),Ee.IsPlusNumber(t.LineWidth)&&(r.LineWidth=t.LineWidth),t.LineDash&&(r.LineDash=t.LineDash),0==t.IsShowLine&&(r.LineType=-1),r.Value=a.Value;var n;n=a.Text?a.Text:r.Value.toFixed(e),"left"==t.Position?r.Message[0]=n:r.Message[1]=n,1===t.PositionEx&&(r.ExtendData={Custom:{Position:1}}),this.Frame.CustomHorizontalInfo.push(r)}},this.IntegerCoordinateSplit2=function(t){var e=this.FrameSplitData2.Find(t.Interval);if(!e)return!1;if(t.Interval==e.FixInterval)return!0;var i=parseInt((t.Max/e.FixInterval+.5).toFixed(0))*e.FixInterval,a=parseInt((t.Min/e.FixInterval-.5).toFixed(0))*e.FixInterval;0==t.Min&&(a=0),a<0&&t.Min>0&&(a=0);for(var r=0,n=a;n-i<1e-8;n+=e.FixInterval)++r;return t.Interval=e.FixInterval,t.Max=i,t.Min=a,t.Count=r,!0}}function Le(){this.newMethod=Ee,this.newMethod(),delete this.newMethod,this.SplitCount=3,this.FloatPrecision=2,this.FLOATPRECISION_RANGE=[1,.1,.01,.001,1e-4],this.SplitType=0,this.DefaultSplitType=0,this.Custom=[],this.DefaultYMaxMin,this.EnableRemoveZero=!0,this.LineType=null,this.IgnoreYValue=null,this.FixedYMaxMin,this.EnableZoomUpDown=!1,this.IsBeforeData=!1,this.BeforeOpenData,this.IsAfterData=!1,this.AfterCloseData,this.ShareAfterVol=0,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.OverlayIdentify,this.HQChart,this.OverlayIndex,this.IsEnableDragY=function(){return!0},this.GetFloatPrecision=function(t,e){if(t>this.FLOATPRECISION_RANGE[0])return e;if(e<0)return 2;for(;e<this.FLOATPRECISION_RANGE.length&&!(t>this.FLOATPRECISION_RANGE[e]);++e);return e},this.Operator=function(){var t={};t.Max=this.Frame.HorizontalMax,t.Min=this.Frame.HorizontalMin,t.Max==t.Min&&(0==t.Max?(t.Max=1,t.Min=-1):(t.Max+=.01*t.Max,t.Min-=.01*t.Min));var e=!1;if(this.FixedYMaxMin&&Ee.IsNumber(this.FixedYMaxMin.Max)&&Ee.IsNumber(this.FixedYMaxMin.Min)&&(e=!0),e)t.Max=this.FixedYMaxMin.Max,t.Min=this.FixedYMaxMin.Min;else if(this.DefaultYMaxMin){var i=this.DefaultYMaxMin;Ee.IsNumber(i.Max)&&(t.Min>i.Max?t.Min=i.Max:t.Max<i.Max&&(t.Max=i.Max)),Ee.IsNumber(i.Min)&&(t.Max<i.Min?t.Max=i.Min:t.Min>i.Min&&(t.Min=i.Min))}if(this.Frame.YSpecificMaxMin?(t.Count=this.Frame.YSpecificMaxMin.Count,t.Interval=(t.Max-t.Min)/(t.Count-1)):1==this.SplitType||e?(t.Count=this.SplitCount,t.Interval=(t.Max-t.Min)/(t.Count-1)):2==this.SplitType?(t.Max=100,t.Min=0,t.Count=this.SplitCount,t.Interval=(t.Max-t.Min)/(t.Count-1)):(t.Count=this.SplitCount,t.Interval=(t.Max-t.Min)/(t.Count-1),this.IntegerCoordinateSplit(t)),this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min,this.Frame.HorizontalInfo=[],this.Frame.YSplitScale)for(var a in this.Frame.YSplitScale){var r=this.Frame.YSplitScale[a],n=new T;n.Value=r,Ee.IsNumber(this.LineType)&&(n.LineType=this.LineType);var o=Math.abs(r);if(o<1e-10)n.Message[1]=0;else if(o<this.FLOATPRECISION_RANGE[this.FLOATPRECISION_RANGE.length-1])n.Message[1]=r.toExponential(2).toString();else{var s=this.GetFloatPrecision(o,this.FloatPrecision);n.Message[1]=Ee.FormatValueString(r,s,this.LanguageID)}n.Message[0]=n.Message[1],0==this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=null),0==this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=null),this.Frame.HorizontalInfo.push(n)}else for(var a=0,r=t.Min;a<t.Count;++a,r+=t.Interval){var n=new T;this.Frame.HorizontalInfo[a]=n,n.Value=r,Ee.IsNumber(this.LineType)&&(n.LineType=this.LineType);var l=this.FormatValueString(r);this.Frame.HorizontalInfo[a].Message[0]=this.Frame.HorizontalInfo[a].Message[1]=l,0==this.IsShowLeftText&&(this.Frame.HorizontalInfo[a].Message[0]=null),0==this.IsShowRightText&&(this.Frame.HorizontalInfo[a].Message[1]=null)}if(this.FilterIgnoreYValue(),this.CustomCoordinate(),1!=this.SplitType&&(this.Frame.HorizontalInfo=this.Filter(this.Frame.HorizontalInfo,t.Max>0&&t.Min<0)),this.RightFrameSplitY(),this.CallAcutionSplitY(this.SplitCount,t),this.EnableRemoveZero&&this.RemoveZero(this.Frame.HorizontalInfo),this.DynamicMessageText(),this.Frame.HorizontalMax=t.Max,this.Frame.HorizontalMin=t.Min,1!=this.EnableZoomUpDown||this.FixedYMaxMin||(this.FixedYMaxMin={Max:t.Max,Min:t.Min}),this.GetEventCallback){var h=this.GetEventCallback(Rn.ON_SPLIT_YCOORDINATE);if(h&&h.Callback){var u={ID:this.Frame.Identify,Frame:this.Frame};this.OverlayIdentify&&(u.OverlayIdentify=this.OverlayIdentify),h.Callback(h,u,this)}}},this.FormatValueString=function(t){var e;if(1==this.StringFormat){var i=this.FloatPrecision;Ee.IsNumber(t)&&Math.abs(t)>1e3&&(i=0),e=Ee.FormatValueString(t,i,this.LanguageID)}else{var a=Math.abs(t);if(a<1e-10)e=0;else if(a<this.FLOATPRECISION_RANGE[this.FLOATPRECISION_RANGE.length-1])e=t.toExponential(2).toString();else{var i=this.GetFloatPrecision(a,this.FloatPrecision);e=Ee.FormatValueString(t,i,this.LanguageID)}}return e},this.FilterIgnoreYValue=function(){if(this.IgnoreYValue&&!(this.IgnoreYValue.length<=0)){var t=new Tn.default(this.IgnoreYValue);this.Frame.HorizontalInfo=this.Frame.HorizontalInfo.filter(function(e){return!t.has(e.Value)})}},this.DynamicMessageText=function(){if(2==this.SplitType)for(var t=0;t<this.Frame.HorizontalInfo.length;++t){var e=this.Frame.HorizontalInfo[t];e.Message[0]&&(e.Message[0]+="%"),e.Message[1]&&(e.Message[1]+="%")}},this.CallAcutionSplitY=function(t,e){if(1!=this.Frame.Identify)return null;var i=this.GetCallAcutionSplitY(t,e);if(i){for(var a=0;a<this.Frame.HorizontalInfo.length;++a){var r=this.Frame.HorizontalInfo[a];i.IsBeforeData&&(r.Message[2]=r.Message[0],r.Message[0]=null),!i.IsAfterData||0!=this.ShareAfterVol&&2!=this.ShareAfterVol||(r.Message[3]=r.Message[1],r.Message[1]=null)}for(var a=0;a<i.HorizontalInfo.length;++a){var r=i.HorizontalInfo[a];this.Frame.HorizontalInfo.push(r)}}},this.GetCallAcutionSplitY=function(t,e){if(1!=this.Frame.Identify)return null;var i=1==this.IsBeforeData&&this.BeforeOpenData&&(2==this.BeforeOpenData.Ver||3==this.BeforeOpenData.Ver),a=1==this.IsAfterData&&this.AfterCloseData&&(2==this.AfterCloseData.Ver||3==this.AfterCloseData.Ver);if(i||a){var r=(e.Max-e.Min)/(t-1);if(i)var n=(this.BeforeOpenData.VolMax-this.BeforeOpenData.VolMin)/(t-1);if(a)var o=(this.AfterCloseData.VolMax-this.AfterCloseData.VolMin)/(t-1);for(var s=[],l=0;l<t;++l){var h=new T,u=r*l;if(h.Value=u,h.LineType=8,i){var c=n*l;h.Message[0]=this.FormatValueString(c)}if(a&&(0==this.ShareAfterVol||2==this.ShareAfterVol)){var d=o*l;h.Message[1]=this.FormatValueString(d)}s.push(h)}return{HorizontalInfo:s,IsBeforeData:i,IsAfterData:a}}var f=!1,n=null;if(this.MultiDayBeforeOpenData&&Ee.IsNonEmptyArray(this.MultiDayBeforeOpenData)){f=!0;var p=this.MultiDayBeforeOpenData[0];if(2==p.Ver||3==p.Ver)var n=(p.VolMax-p.VolMin)/(t-1)}var m=!1,o=null;if(this.MultiDayAfterCloseData&&Ee.IsNonEmptyArray(this.MultiDayAfterCloseData)){m=!0;var p=this.MultiDayAfterCloseData[0];if(2==p.Ver||3==p.Ver)var o=(p.VolMax-p.VolMin)/(t-1)}if(f||m){for(var r=(e.Max-e.Min)/(t-1),s=[],l=0;l<t;++l){var h=new T,u=r*l;h.Value=u,h.LineType=9;var C=!1;if(null!=n){var c=n*l;h.Message[0]=this.FormatValueString(c),C=!0}if(null!=o&&(0==this.ShareAfterVol||2==this.ShareAfterVol)){var d=o*l;h.Message[1]=this.FormatValueString(d),C=!0}C&&s.push(h)}if(Ee.IsNonEmptyArray(s))return{HorizontalInfo:s,IsBeforeData:f,IsAfterData:m}}return null},this.RightFrameSplitY=function(){if(this.Frame.RightFrame){var t=this.Frame.RightFrame;t.YSplitOperator&&t.YSplitOperator.Operator();for(var e=0;e<this.Frame.HorizontalInfo.length;++e){var i=this.Frame.HorizontalInfo[e],a=this.Frame.GetYFromData(i.Value),r=t.GetYData(a);i.Message[1]=Ee.FormatValueString(r,this.FloatPrecision,this.LanguageID)}}},this.CustomCoordinate=function(){if(this.Frame.CustomHorizontalInfo=[],Ee.IsNonEmptyArray(this.Custom))for(var t=0;t<this.Custom.length;++t){var e=this.Custom[t];e.Type==io.PAGE_LAST_INDEX_VALUE_ID?this.CustomLatestIndexDataCoordinate(e):e.Type==io.FIXED_VALUE_ID?this.CustomFixedCoordinate(e):e.Type==io.PAGE_LAST_OVERLAY_INDEX_VALUE_ID&&this.CustomLatestOverlayIndexDataCoordinate(e)}},this.CustomFixedCoordinate=function(t){if(Ee.IsNonEmptyArray(t.Data))for(var e=0;e<t.Data.length;++e){var i=t.Data[e],a=new T;a.Type=1,a.TextColor=i.TextColor,a.LineColor=i.Color,a.LineType=2,Ee.IsNumber(t.LineType)&&(a.LineType=t.LineType),0==t.IsShowLine&&(a.LineType=-1),a.Value=i.Value;var r;r=i.Text?i.Text:a.Value.toFixed(2),"left"==t.Position?a.Message[0]=r:a.Message[1]=r,this.Frame.CustomHorizontalInfo.push(a)}}}function Me(){this.newMethod=Ee,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Period,this.Symbol,this.MinTextDistance=50*c(),this.MinBarDistance=5,this.SplitDateTime=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.DistanceWidth+this.Frame.DataWidth,e=this.Frame.Data.DataOffset,i=this.Frame.XPointCount,a=0,r=0,n=0,o=e;n<i&&o<this.Frame.Data.Data.length;++n,++o){a+=t,++r;var s=null;if(0==n){s={Value:o-e,Text:Ee.FormatDateString(this.Frame.Data.Data[o].Date,"MM-DD")}}else if(a>this.MinTextDistance&&r>=this.MinBarDistance){var l=Ee.FormatTimeString(this.Frame.Data.Data[o].Time);s={Value:o-e,Text:l}}if(s){var h=new T;h.Value=s.Value,this.ShowText&&(h.Message[0]=s.Text),0==h.Value&&(h.LineType=-1),this.Frame.VerticalInfo.push(h),a=0,r=0,0==n&&(a=-this.MinTextDistance/2)}}},this.SplitSecond=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.DistanceWidth+this.Frame.DataWidth,e=this.Frame.Data.DataOffset,i=this.Frame.XPointCount,a=0,r=0,n=0,o=e;n<i&&o<this.Frame.Data.Data.length;++n,++o){a+=t,++r;var s=null;if(0==n){s={Value:o-e,Text:Ee.FormatDateString(this.Frame.Data.Data[o].Date,"MM-DD")}}else if(a>this.MinTextDistance&&r>=this.MinBarDistance){var l=Ee.FormatTimeString(this.Frame.Data.Data[o].Time,"HH:MM:SS");s={Value:o-e,Text:l}}if(s){var h=new T;h.Value=s.Value,this.ShowText&&(h.Message[0]=s.Text),this.Frame.VerticalInfo.push(h),a=0,r=0,0==n&&(a=-this.MinTextDistance/2)}}},this.SplitDate=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,i=null,a=null,r=0,n=0,o=t,s=12;n<e&&o<this.Frame.Data.Data.length;++n,++o){var l=parseInt(this.Frame.Data.Data[o].Date/1e4),h=parseInt(this.Frame.Data.Data[o].Date/100)%100;if(a!=h&&++r,s<12||null!=i&&i==l&&null!=a&&a==h)a=h,++s;else{var u=new T;u.Value=o-t;var c;null==i||i!=l?c=l.toString():null!=a&&a==h||(c=h.toString()+"月",c=uo.GetText(c,this.LanguageID)),i=l,a=h,this.ShowText&&(u.Message[0]=c),0==u.Value&&(u.LineType=-1),this.Frame.VerticalInfo.push(u),s=0}}0==this.Period&&r<=2&&this.SplitShortDate()},this.SplitShortDate=function(){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,i=!0,a=0,r=t,n=12;a<e&&r<this.Frame.Data.Data.length;++a,++r){var o=parseInt(this.Frame.Data.Data[r].Date/1e4);if(n<12)++n;else{var s=new T;s.Value=r-t;var l;i?(l=o.toString(),i=!1):l=Ee.FormatDateString(this.Frame.Data.Data[r].Date,"MM-DD"),this.ShowText&&(s.Message[0]=l),0==s.Value&&(s.LineType=-1),this.Frame.VerticalInfo.push(s),n=0}}if(1==this.Frame.VerticalInfo.length){var h=this.Frame.VerticalInfo[0],r=h.Value+t,u=this.Frame.Data.Data[r],l=Ee.FormatDateString(u.Date,"YYYY-MM");this.ShowText&&(h.Message[0]=l)}},this.Operator=function(){if(null!=this.Frame.Data&&(Me.SplitCustom?Me.SplitCustom(this):Q.IsMinutePeriod(this.Period,!0)?this.SplitDateTime():Q.IsSecondPeriod(this.Period)?this.SplitSecond():Q.IsTickPeriod(this.Period)?this.SplitSecond():this.SplitDate(),this.GetEventCallback)){var t=this.GetEventCallback(Rn.ON_SPLIT_XCOORDINATE);if(t&&t.Callback){var e={ID:this.Frame.Identify,Frame:this.Frame};t.Callback(t,e,this)}}},this.CreateCoordinateInfo=function(){return new T}}function Ae(){this.newMethod=Ee,this.newMethod(),delete this.newMethod,this.High=null,this.Low=null,this.YClose,this.Data,this.SourceData,this.OverlayChartPaint,this.SplitCount=7,this.Symbol,this.SplitType=0,this.DefaultSplitType=0,this.LimitPrice,this.Custom,this.RightTextFormat=0,this.BeforeOpenData,this.IsBeforeData=!1,this.AfterCloseData,this.IsAfterData=!1,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.DayOffset,this.AverageData,this.DayCount=1,this.GlobalOption,this.HQChart,this.IsEnableDragY=function(){return!1},this.Operator=function(){if(this.Frame.HorizontalInfo=[],this.Frame.CustomHorizontalInfo=[],this.Data){var t=this.GetMaxMin();if(this.Symbol&&po.IsUSA(this.Symbol.toUpperCase())?this.USASplit(t):2==this.SplitType?this.USASplit(t):this.DefaultSplit(t),this.CustomCoordinate(),this.GetEventCallback){var e=this.GetEventCallback(Rn.ON_SPLIT_YCOORDINATE);if(e&&e.Callback){var i={ID:this.Frame.Identify,Frame:this.Frame};e.Callback(e,i,this)}}}},this.CustomCoordinate=function(){if(this.Custom){var t=pr(this.Symbol);for(var e in this.Custom){var i=this.Custom[e];if(1==i.Type)this.CustomFixedCoordinate(i);else if(0==i.Type){var a=this.GetLatestPrice(t,i);a&&this.Frame.CustomHorizontalInfo.push(a)}}}},this.GetLatestPrice=function(t,e){if(!this.Data||!this.Data.Data)return null;if(this.Data.Data.length<=0)return null;var i=this.Data.Data[this.Data.Data.length-1];if(!Ee.IsNumber(i)||!Ee.IsNumber(this.YClose))return null;var a=new T;a.Type=0,a.Value=i,a.TextColor=lo.FrameLatestPrice.TextColor,a.LineType=2;var r=i.toFixed(t);if("HH:MM"==e.DateTime){var n=this.Frame.Data.Data[this.Frame.Data.Data.length-1],o=Ee.FormatTimeString(n.Time,e.DateTime),s=[{Text:r},{Text:o}];"left"==e.Position?a.Message[0]=s:a.Message[1]=s}else"left"==e.Position?a.Message[0]=r:a.Message[1]=r;return i>this.YClose?a.LineColor=lo.FrameLatestPrice.UpBarColor:i<this.YClose?a.LineColor=lo.FrameLatestPrice.DownBarColor:a.LineColor=lo.FrameLatestPrice.UnchagneBarColor,Ee.IsNumber(e.LineType)&&(a.LineType=e.LineType),Ee.IsPlusNumber(e.LineWidth)&&(a.LineWidth=e.LineWidth),e.LineDash&&(a.LineDash=e.LineDash),0==e.IsShowLine&&(a.LineType=-1),1===e.PositionEx&&(a.ExtendData={Custom:{Position:1}}),a},this.CustomFixedCoordinate=function(t){for(var e=pr(this.Symbol),i=0;i<t.Data.length;++i){var a=t.Data[i],r=new T;if(r.Type=1,r.TextColor=a.TextColor,r.LineColor=a.Color,r.LineType=2,Ee.IsNumber(t.LineType)&&(r.LineType=t.LineType),Ee.IsPlusNumber(t.LineWidth)&&(r.LineWidth=t.LineWidth),t.LineDash&&(r.LineDash=t.LineDash),0==t.IsShowLine&&(r.LineType=-1),1===t.PositionEx&&(r.ExtendData={Custom:{Position:1}}),Ee.IsNumber(a.Increase)){if(!Ee.IsNumber(this.YClose))continue;r.Value=this.YClose*(1+a.Increase)}else r.Value=a.Value;var n;n=a.Text?a.Text:r.Value.toFixed(e),"left"==t.Position?r.Message[0]=n:r.Message[1]=n,this.Frame.CustomHorizontalInfo.push(r)}},this.GetCallAuctionMaxMin=function(t,e){for(var i in t.Data){var a=t.Data[i];a&&(Ee.IsNumber(a.Price)&&(null==e.Max&&(e.Max=a.Price),null==e.Min&&(e.Min=a.Price),e.Max<a.Price&&(e.Max=a.Price),e.Min>a.Price&&(e.Min=a.Price)),3==t.Ver&&Ee.IsNumber(a.AvPrice)&&(null==e.Max&&(e.Max=a.AvPrice),null==e.Min&&(e.Min=a.AvPrice),e.Max<a.AvPrice&&(e.Max=a.AvPrice),e.Min>a.AvPrice&&(e.Min=a.AvPrice)))}},this.GetMultiDayBeforeOpenData=function(){if(!this.MultiDayBeforeOpenData||!Ee.IsNonEmptyArray(this.MultiDayBeforeOpenData))return null;if(!this.DayOffset)return this.MultiDayBeforeOpenData;if(!Ee.IsNumber(this.DayOffset.Offset)||!Ee.IsNumber(this.DayOffset.ShowDayCount))return null;if(this.GlobalOption&&!0===this.GlobalOption.IsValueFullRange)return this.MultiDayBeforeOpenData;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayBeforeOpenData.slice(e,e+t)},this.GetMultiDayAfterCloseData=function(){if(!this.MultiDayAfterCloseData||!Ee.IsNonEmptyArray(this.MultiDayAfterCloseData))return null;if(!this.DayOffset)return this.MultiDayAfterCloseData;if(!Ee.IsNumber(this.DayOffset.Offset)||!Ee.IsNumber(this.DayOffset.ShowDayCount))return null;if(this.GlobalOption&&!0===this.GlobalOption.IsValueFullRange)return this.MultiDayAfterCloseData;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayAfterCloseData.slice(e,e+t)},this.GetMaxMin=function(){var t=this.YClose,e=this.YClose,i=this.Data,a=!1;if(this.SourceData&&(i=this.SourceData,a=!0),this.DayCount>1){var r=this.DayOffset.DataOffset,n=this.DayOffset.ShowDataCount;this.GlobalOption&&!0===this.GlobalOption.IsValueFullRange&&(r=0,n=i.Data.length);for(var o=r,s=0;o<i.Data.length&&s<n;++o,++s){var l=null;if(a){var h=i.Data[o];l=h.Before?h.Before.Close:h.Close}else l=i.Data[o];null!=l&&(t<l&&(t=l),e>l&&(e=l))}if(this.AverageData)for(var o=r,s=0;o<this.AverageData.Data.length&&s<n;++o,++s)null!=this.AverageData.Data[o]&&(t<this.AverageData.Data[o]&&(t=this.AverageData.Data[o]),e>this.AverageData.Data[o]&&(e=this.AverageData.Data[o]))}else{for(var o=0;o<i.Data.length;++o){var l=null;if(a){var h=i.Data[o];l=h.Before?h.Before.Close:h.Close}else l=i.Data[o];null!=l&&(t<l&&(t=l),e>l&&(e=l))}if(this.AverageData)for(var o=0;o<this.AverageData.Data.length;++o)null!=this.AverageData.Data[o]&&(t<this.AverageData.Data[o]&&(t=this.AverageData.Data[o]),e>this.AverageData.Data[o]&&(e=this.AverageData.Data[o]))}for(var o in this.OverlayChartPaint){var h=this.OverlayChartPaint[o],u=h.GetMaxMin();u.Max&&u.Max>t&&(t=u.Max),u.Min&&u.Min<e&&(e=u.Min)}1==this.SplitType&&this.LimitPrice&&(t<this.LimitPrice.Max&&(t=this.LimitPrice.Max),e>this.LimitPrice.Min&&(e=this.LimitPrice.Min)),Ee.IsNumber(this.High)&&Ee.IsNumber(this.Low)&&(t<this.High&&(t=this.High),e>this.Low&&(e=this.Low));var u={Max:null,Min:null};this.IsAfterData&&this.AfterCloseData&&this.GetCallAuctionMaxMin(this.AfterCloseData,u),this.IsBeforeData&&this.BeforeOpenData&&this.GetCallAuctionMaxMin(this.BeforeOpenData,u);var c=this.GetMultiDayBeforeOpenData();if(c&&this.ChartBorder.MultiDayMinute.Count>1&&this.ChartBorder.MultiDayMinute.Left>0)for(var o=0;o<c.length;++o){var d=c[o];this.GetCallAuctionMaxMin(d,u)}var f=this.GetMultiDayAfterCloseData();if(f&&this.ChartBorder.MultiDayMinute.Count>1&&this.ChartBorder.MultiDayMinute.Right>0)for(var o=0;o<f.length;++o){var d=f[o];this.GetCallAuctionMaxMin(d,u)}Ee.IsNumber(u.Max)&&t<u.Max&&(t=u.Max),Ee.IsNumber(u.Min)&&e>u.Min&&(e=u.Min);var p=this.GetOverlayMaxMin();return p&&(Ee.IsNumber(p.Max)&&p.Max>t&&(t=p.Max),Ee.IsNumber(p.Min)&&p.Min<e&&(e=p.Min)),{Max:t,Min:e}},this.GetOverlayMaxMin=function(){if(!this.HQChart)return null;if(!this.HQChart.Frame||!this.HQChart.Frame.SubFrame)return null;var t=this.HQChart.Frame.SubFrame[0];if(!t)return null;if(!Ee.IsNonEmptyArray(t.OverlayIndex))return null;for(var e={Max:null,Min:null},i=0;i<t.OverlayIndex.length;++i){var a=t.OverlayIndex[i];if(a&&a.Frame){var r=a.Frame;if(1==r.IsShareY&&!1!==r.IsCalculateYMaxMin)for(var n=0;n<a.ChartPaint.length;++n){var o=a.ChartPaint[n],s=o.GetMaxMin();null!=s&&null!=s.Max&&null!=s.Min&&((null==e.Max||e.Max<s.Max)&&(e.Max=s.Max),(null==e.Min||e.Min>s.Min)&&(e.Min=s.Min))}}}return e},this.USASplit=function(t){var e=t.Max,i=t.Min;if(e==i)e+=.1*e,i-=.1*i;else{var a=c(),r=this.Frame.ChartBorder.GetHeight(),n=5*a*(e-i)/r;e+=n,i-=n,i<0&&(i=t.Min)}var o=this.SplitCount,s=(e-i)/(o-1),l=[1,.1,.01,.001,1e-4],h=pr(this.Symbol);s<l[h]&&(s=l[h],e=i+s*o);for(var u=0;u<o;++u){var d=i+s*u;if(!this.YClose||d!=this.YClose){var f=new T;f.Value=d;var p=d.toFixed(h);if(this.IsShowLeftText&&(f.Message[0]=p),this.YClose){var m=100*(d/this.YClose-1);m>0?f.TextColor=lo.UpTextColor:m<0&&(f.TextColor=lo.DownTextColor),this.IsShowRightText&&(1==this.RightTextFormat?f.Message[1]=p:f.Message[1]=Ee.FormatValueString(m,2)+"%")}this.Frame.HorizontalInfo.push(f)}}if(this.YClose>i&&this.YClose<e){var f=new T;f.Value=this.YClose,f.LineType=2,lo.FrameDotSplitPen&&(f.LineColor=lo.FrameDotSplitPen);var p=this.YClose.toFixed(h);this.IsShowLeftText&&(f.Message[0]=p),this.IsShowRightText&&(1==this.RightTextFormat?f.Message[1]=p:f.Message[1]="0.00%"),this.Frame.HorizontalInfo.push(f)}this.Frame.HorizontalInfo.sort(function(t,e){return t.Value-e.Value}),this.Frame.HorizontalMax=e,this.Frame.HorizontalMin=i},this.DefaultSplit=function(t){var e=t.Max,i=t.Min;if(this.YClose==e&&this.YClose==i)e=this.YClose+.1*this.YClose,i=this.YClose-.1*this.YClose;else{var a=Math.max(Math.abs(this.YClose-e),Math.abs(this.YClose-i));e=this.YClose+a,i=this.YClose-a,i<0&&(i=t.Min)}var r=c(),n=this.Frame.ChartBorder.GetChartWidth(),o=n<450*r;Nn.Chart.Log("[FrameSplitMinutePriceY]max="+e+" min="+i+" isPhoneModel="+o);var s=this.SplitCount,l=(e-i)/(s-1),h=[1,.1,.01,.001,1e-4],u=pr(this.Symbol);o&&po.IsSHSZIndex(this.Symbol)&&(u=0),l<h[u]&&(l=h[u],e=this.YClose+l*(s-1)/2,i=this.YClose-l*(s-1)/2);for(var d=0;d<s;++d){var f=i+l*d,p=new T;this.Frame.HorizontalInfo[d]=p,p.Value=f;var m=f.toFixed(u);if(this.IsShowLeftText&&(p.Message[0]=m),Ee.IsNumber(this.YClose)){var C=100*(f/this.YClose-1);C>0?p.TextColor=lo.UpTextColor:C<0&&(p.TextColor=lo.DownTextColor),this.IsShowRightText&&(1==this.RightTextFormat?p.Message[1]=m:p.Message[1]=Ee.FormatValueString(C,2)+"%"),Math.abs(f-this.YClose)<1e-11&&(p.LineType=2,p.TextColor=lo.UnchagneTextColor,lo.FrameDotSplitPen&&(p.LineColor=lo.FrameDotSplitPen))}}this.Frame.HorizontalMax=e,this.Frame.HorizontalMin=i}}function Oe(){this.newMethod=Ee,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Symbol=null,this.DayCount=1,this.DateFormat=0,this.Operator=function(){this.Frame.VerticalInfo=[];var t=(this.Frame.XPointCount,this.Frame.ChartBorder.GetWidth());!0===this.Frame.IsHScreen&&(t=this.Frame.ChartBorder.GetHeight()),t/=c();var e=Co,i=e.GetCoordinateData(this.Symbol,t),a=i.Count,r=i.MiddleCount>0?i.MiddleCount:parseInt(a/2),n=i.Data;if(this.Frame.XPointCount=a*this.DayCount,this.Frame.MinuteCount=a,this.Frame.VerticalInfo=[],this.Frame.GlobalOption){var o=this.Frame.GlobalOption;Ee.IsNumber(o.XDateFormat)&&(this.DateFormat=o.XDateFormat)}if(this.DayCount<=1){this.DayOffset.DataOffset=0,this.DayOffset.ShowDataCount=a,this.DayOffset.PageInfo=null;for(var s=0;s<n.length;++s){var l=new T,o=n[s];lo.Minute.FrameSplitTextColor&&(l.TextColor=lo.Minute.FrameSplitTextColor),l.Value=o[0],this.ShowText&&(l.Message[0]=o[3]),o[4]&&(l.LineColor=o[4]),this.Frame.VerticalInfo[s]=l}}else{var h=0,u=this.DayData.length;this.DayOffset&&(Ee.IsNumber(this.DayOffset.Offset)&&(h=this.DayOffset.Offset),Ee.IsNumber(this.DayOffset.ShowDayCount)&&(u=this.DayOffset.ShowDayCount)),this.DayOffset.DataOffset=h*a,this.DayOffset.ShowDataCount=this.DayOffset.ShowDayCount*a,this.DayOffset.PageInfo={Day:[]};for(var s=this.DayData.length-1-h,d=0;s>=0&&d<u;--s,++d){var l=new T;l.Value=d*a+r,l.LineType=-1,this.ShowText&&(l.Message[0]=this.FormatDate(this.DayData[s].Date),l.BG={Index:{Start:d*a+1,End:(d+1)*a-1},Date:this.DayData[s].Date}),this.Frame.VerticalInfo.push(l);var l=new T;l.Value=(d+1)*a,this.Frame.VerticalInfo.push(l),this.DayOffset.PageInfo.Day.push({Date:this.DayData[s].Date,Index:s})}}if(this.GetEventCallback){var f=this.GetEventCallback(Rn.ON_SPLIT_XCOORDINATE);if(f&&f.Callback){var p={ID:this.Frame.Identify,Frame:this.Frame};f.Callback(f,p,this)}}},this.FormatDate=function(t){switch(this.DateFormat){case 1:return Ee.FormatDateString(t,"MM/DD");case 2:return Ee.FormatDateString(t,"MM/DD/W");default:return Ee.FormatDateString(t,"MM-DD")}}}function Ne(){this.newMethod=Ee,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.Symbol,this.MinTextDistance=50*c(),this.MinBarDistance=5,this.Operator=function(){if(null!=this.Frame.Data&&null!=this.Frame.XData){this.Frame.VerticalInfo=[];for(var t=this.Frame.Data.DataOffset,e=this.Frame.XPointCount,i=0,a=t;i<e&&a<this.Frame.Data.Data.length;++i,++a){var r=new T;r.Value=a-t,this.ShowText&&(r.Message[0]=this.Frame.XData[i]),this.Frame.VerticalInfo.push(r),distance=0}}}}function _e(){this.newMethod=Ee,this.newMethod(),delete this.newMethod,this.ShowText=!0,this.SplitCount=3,this.Symbol,this.LineType=3,this.Operator=function(){var t=this.Frame.VerticalRange;if(t){this.Frame.VerticalInfo=[];var e=2;this.Symbol&&(e=pr(this.Symbol));var i=t.Max,a=t.Min;if(t.Bid)for(var r=(t.Bid.Max-a)/this.SplitCount,n=0;n<this.SplitCount;++n){var o=new T;o.Value=a+r*n,o.Value<=0||(Ee.IsNumber(this.LineType)&&(o.LineType=this.LineType),this.ShowText&&(o.Message[0]=o.Value.toFixed(e)),this.Frame.VerticalInfo.push(o))}var o=new T;if(o.Value=t.Center,this.Frame.VerticalInfo.push(o),t.Ask)for(var r=(i-t.Ask.Min)/this.SplitCount,n=1;n<=this.SplitCount;++n){var o=new T;o.Value=t.Ask.Min+r*n,Ee.IsNumber(this.LineType)&&(o.LineType=this.LineType),this.ShowText&&(o.Message[0]=o.Value.toFixed(e)),this.Frame.VerticalInfo.push(o)}if(this.GetEventCallback){var s=this.GetEventCallback(Rn.ON_SPLIT_XCOORDINATE);if(s&&s.Callback){var l={ID:this.Frame.Identify,Frame:this.Frame};s.Callback(s,l,this)}}}}}function Pe(){this.Frame,this.Value,this.Point,this.ClientPos,this.BeforOpeneData,this.AfterCloseData,this.X,this.Item,this.DataIndex,this.DayIndex,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.DayOffset,this.Operator=function(){return this.Item=null,this.DataIndex=null,this.DayIndex=null,2==this.ClientPos?this.GetBeforeOpenXIndex():3==this.ClientPos?this.GetAfterCloseXIndex():this.ClientPos>=200&&this.ClientPos<=299?this.GetMultiDayBeforeOpenXIndex():this.ClientPos>=300&&this.ClientPos<=399&&this.GetMultiDayAfterCloseXIndex()},this.GetBeforeOpenXIndex=function(){if(!Ee.IsNumber(this.Value))return!1;if(!this.BeforeOpenData||!this.BeforeOpenData.Data)return!1;var t=this.Frame.GetLeftExtendXData(this.Value,this.BeforeOpenData);if((t=parseInt(t.toFixed(0)))>=0&&t<this.BeforeOpenData.Data.length){var e=this.BeforeOpenData.Data[t];if(Ee.IsNumber(e.Price))return this.Item=e,this.X=this.Value,this.DataIndex=t,!0}t<0?t=0:t>=this.BeforeOpenData.Data.length&&(t=this.BeforeOpenData.Data.length-1);for(var i=-1,a=t;a>=0;--a){var e=this.BeforeOpenData.Data[a];if(Ee.IsNumber(e.Price)){i=a;break}}if(i<0)for(var a=t+1;a<this.BeforeOpenData.Data.length;++a){var e=this.BeforeOpenData.Data[a];if(Ee.IsNumber(e.Price)){i=a;break}}return!(i<0)&&(this.Item=e,this.DataIndex=i,this.X=this.Frame.GetLeftExtendXFromIndex(i,this.BeforeOpenData),!0)},this.GetMultiDayBeforeOpenData=function(){if(!this.MultiDayBeforeOpenData||!Ee.IsNonEmptyArray(this.MultiDayBeforeOpenData))return null;if(this.DayOffset||this.MultiDayBeforeOpenData,!Ee.IsNumber(this.DayOffset.Offset)||!Ee.IsNumber(this.DayOffset.ShowDayCount))return null;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayBeforeOpenData.slice(e,e+t)},this.GetMultiDayBeforeOpenXIndex=function(){var t=this.GetMultiDayBeforeOpenData();if(!t||!Ee.IsNonEmptyArray(t))return!1;var e=this.ClientPos-200;if(e<0||e>=t.length)return!1;var i=t[e],a=this.Frame.GetLeftExtendXData(this.Value,t);if(!a||!Ee.IsNumber(a.DataIndex))return!1;var r=parseInt(a.DataIndex.toFixed(0)),e=a.DayIndex;if(r>=0&&r<i.Data.length){var n=i.Data[r];if(Ee.IsNumber(n.Price))return this.Item=n,this.X=this.Value,this.DataIndex=r,this.DayIndex=e,!0}r<0?r=0:r>=i.Data.length&&(r=i.Data.length-1);for(var o=-1,s=r;s>=0;--s){var n=i.Data[s];if(n&&Ee.IsNumber(n.Price)){o=s;break}}return!(o<0)&&(this.Item=n,this.DataIndex=o,this.DayIndex=e,this.X=this.Frame.GetLeftExtendXFromIndex(o,i),!0)},this.GetAfterCloseXIndex=function(){if(!Ee.IsNumber(this.Value))return!1;if(!this.AfterCloseData||!this.AfterCloseData.Data)return!1;var t=this.Frame.GetRightExtendXData(this.Value,this.AfterCloseData);if((t=parseInt(t.toFixed(0)))>=0&&t<this.AfterCloseData.Data.length){var e=this.AfterCloseData.Data[t];if(Ee.IsNumber(e.Price))return this.Item=e,this.X=this.Value,this.DataIndex=t,!0}t<0?t=0:t>=this.AfterCloseData.Data.length&&(t=this.AfterCloseData.Data.length-1);for(var i=-1,a=t;a>=0;--a){var e=this.AfterCloseData.Data[a];if(Ee.IsNumber(e.Price)){i=a;break}}if(i<0)for(var a=t+1;a<this.AfterCloseData.Data.length;++a){var e=this.AfterCloseData.Data[a];if(Ee.IsNumber(e.Price)){i=a;break}}return!(i<0)&&(this.Item=e,this.DataIndex=i,this.X=this.Frame.GetRightExtendXFromIndex(i,this.AfterCloseData),!0)},this.GetMultiDayAfterCloseData=function(){if(!this.MultiDayAfterCloseData||!Ee.IsNonEmptyArray(this.MultiDayAfterCloseData))return null;if(this.DayOffset||this.MultiDayAfterCloseData,!Ee.IsNumber(this.DayOffset.Offset)||!Ee.IsNumber(this.DayOffset.ShowDayCount))return null;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayAfterCloseData.slice(e,e+t)},this.GetMultiDayAfterCloseXIndex=function(){var t=this.GetMultiDayAfterCloseData();if(t&&Ee.IsNonEmptyArray(t)){var e=this.ClientPos-300;if(!(e<0||e>=t.length)){var i=t[e],a=this.Frame.GetRightExtendXData(this.Value,t);if(a){var r=parseInt(a.DataIndex.toFixed(0)),e=a.DayIndex;if(r>=0&&r<i.Data.length){var n=i.Data[r];if(Ee.IsNumber(n.Price))return this.Item=n,this.X=this.Value,this.DataIndex=r,this.DayIndex=e,!0}r<0?r=0:r>=i.Data.length&&(r=i.Data.length-1);for(var o=-1,s=r;s>=0;--s){var n=i.Data[s];if(n&&Ee.IsNumber(n.Price)){o=s;break}}return!(o<0)&&(this.Item=n,this.DataIndex=o,this.DayIndex=e,this.X=this.Frame.GetRightExtendXFromIndex(o,i),!0)}}}}}function Re(){this.ClassName="ChartCorssCursor",this.Frame,this.Canvas,this.HPenColor=lo.CorssCursorHPenColor,this.HPenType=0,this.VPenColor=lo.CorssCursorVPenColor,this.VPenType=0,this.VLineType=0,this.Font=lo.CorssCursorTextFont,this.TextColor=lo.CorssCursorTextColor,this.TextBGColor=lo.CorssCursorBGColor,this.BorderColor=lo.CorssCursorBorderColor,this.XRangeBGColor=lo.CorssCursorXRangeBGColor,this.TextHeight=20,this.LastPoint,this.CursorIndex,this.IsOnlyDrawKLine=!1,this.IsOnlyDrawMinute=!1,this.IsFixXLastTime=!1,this.IsDrawXRangeBG=!1,this.PointX,this.PointY,this.StringFormatX,this.StringFormatY,this.ShowTextMode={Left:1,Right:1,Bottom:1},this.TextFormat={Right:0},this.IsShowCorss=!0,this.IsShow=!0,this.IsShowClose=!1,this.ClientPos=-1,this.CallAcutionXOperator,this.RightButton={Enable:!1,Rect:null,BGColor:lo.CorssCursor.RightButton.BGColor,PenColor:lo.CorssCursor.RightButton.PenColor,Icon:lo.CorssCursor.RightButton.Icon},this.Close=null,this.Status=0,this.ReloadResource=function(t){this.Font=lo.CorssCursorTextFont,this.HPenColor=lo.CorssCursorHPenColor,this.VPenColor=lo.CorssCursorVPenColor,this.TextColor=lo.CorssCursorTextColor,this.TextBGColor=lo.CorssCursorBGColor,this.BorderColor=lo.CorssCursorBorderColor,this.XRangeBGColor=lo.CorssCursorXRangeBGColor},this.GetCloseYPoint=function(t){if(!this.StringFormatX.Data)return null;var e=this.StringFormatX.Data;if(!e.Data||e.Data.length<=0)return null;var i=e.DataOffset+t;if(i>=e.Data.length&&(i=e.Data.length-1),i<0)return null;var a=e.Data[i];return a?(this.Close=a.Close,this.Frame.GetYFromData(this.Close)):null},this.GetMinuteCloseYPoint=function(t){if(!Ee.IsNumber(t))return null;if(t=parseInt(t),!this.StringFormatX.Data)return null;var e=this.StringFormatX.Data;if(!e.Data||e.Data.length<=0)return null;var i=e.DataOffset+t;if(i>=e.Data.length&&(i=e.Data.length-1),i<0)return null;var a=e.Data[i];return Ee.IsNumber(t)?(this.Close=a,this.Frame.GetYFromData(this.Close)):null},this.GetDateTimeRange=function(t,e){if(!Ee.IsNumber(t))return null;t=parseInt(t);var i=this.StringFormatX.Data;if(!i.Data||i.Data.length<=0)return null;var a=i.DataOffset+t;if(a>=i.Data.length||a<0)return null;if(!this.Frame||!this.Frame.SubFrame[0]||!this.Frame.SubFrame[0].Frame)return null;var r=this.Frame.SubFrame[0].Frame,n=r.DataWidth,o=r.DistanceWidth,s=r.XPointCount,l=i.Data[a];if(!l)return null;for(var h=1e6*l.Date,u=100*parseInt(l.Time/100),c=h+u,d=h+u+59,f=a,p=a;p<i.Data.length;++p){var m=i.Data[p],C=1e6*m.Date+m.Time;if(C>d)break;if(p-i.DataOffset>=s)break;f=p}for(var v=a,p=a;p>=0&&p>=i.DataOffset;--p){var m=i.Data[p],C=1e6*m.Date+m.Time;if(C<c)break;v=p}var D={StartIndex:v,EndIndex:f};return D.XStart=this.Frame.GetXFromIndex(v-i.DataOffset),D.XEnd=this.Frame.GetXFromIndex(f-i.DataOffset),D.XStart-=(o+n)/2,D.XEnd+=(o+n)/2,D},this.FixMinuteLastTimeXPoint=function(t){if(!Ee.IsNumber(t))return null;if(t=parseInt(t),!this.StringFormatX.Data)return null;var e=this.StringFormatX.Data;if(!e.Data||e.Data.length<=0)return null;var i=e.DataOffset+t;return i<e.Data.length?null:(i=e.Data.length-1,i-=e.DataOffset,{X:this.Frame.GetXFromIndex(i),Index:i})},this.PtInClient=function(t,e){if(this.Canvas.beginPath(),!0===this.Frame.IsHScreen){var i=this.Frame.ChartBorder.GetHScreenBorder();this.Canvas.rect(i.Left,i.TopEx,i.Right-i.Left,i.BottomEx-i.TopEx)}else{var i=this.Frame.ChartBorder.GetBorder();this.Canvas.rect(i.LeftEx,i.Top,i.RightEx-i.LeftEx,i.Bottom-i.Top)}return this.Canvas.isPointInPath(t,e)?1:this.Frame.ChartBorder.LeftExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.Top,i.Right-i.Left,i.TopEx-i.Top):this.Canvas.rect(i.Left,i.Top,i.LeftEx-i.Left,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?2:this.Frame.ChartBorder.RightExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.BottomEx,i.Right-i.Left,i.Bottom-i.BottomEx):this.Canvas.rect(i.RightEx,i.Top,i.Right-i.RightEx,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?3:-1},this.GetFontHeight=function(t){return d(this.Canvas,t,"擎")},this.Draw=function(){if(this.Status=0,this.RightButton.Rect=null,this.LastPoint){this.Close=null;var t=this.LastPoint.X,e=this.LastPoint.Y,i=this.PtInClient(t,e);if(this.PointY=null,this.PointY,this.ClientPos=i,!(i<=0)){if(!0===this.Frame.IsHScreen)return void this.HScreenDraw();var a=this.Frame.ChartBorder.GetBorder(),r=a.Left,n=a.Right,o=a.TopTitle,s=a.Bottom,l=this.Frame.ChartBorder.Right,h=a.ChartWidth;if(this.IsOnlyDrawKLine){if(t=this.Frame.GetXFromIndex(this.CursorIndex),this.IsShowClose){var u=this.GetCloseYPoint(this.CursorIndex);null!=u&&(e=u)}}else if(this.IsOnlyDrawMinute){var u=this.GetMinuteCloseYPoint(this.CursorIndex);null!=u&&(e=u)}if(this.CallAcutionXOperator&&(this.CallAcutionXOperator.Value=t,this.CallAcutionXOperator.Point={X:t,Y:e},this.CallAcutionXOperator.ClientPos=i,this.CallAcutionXOperator.Operator()&&(t=this.CallAcutionXOperator.X)),this.IsFixXLastTime){var d=this.FixMinuteLastTimeXPoint(this.CursorIndex);d&&(t=d.X,this.CursorIndex=d.Index)}if(this.PointY=[[r,e],[n,e]],this.PointX=[[t,o],[t,s]],this.IsShowCorss){var f=null;this.IsDrawXRangeBG&&(f=this.GetDateTimeRange(this.CursorIndex));var p=c();if(1!=this.HPenType&&0!=this.HPenType||(this.Canvas.strokeStyle=this.HPenColor,0==this.HPenType&&this.Canvas.setLineDash([3*p,2*p]),this.Canvas.beginPath(),this.Canvas.moveTo(r,v(e)),this.Canvas.lineTo(n,v(e)),this.Canvas.stroke(),0==this.HPenType&&this.Canvas.setLineDash([])),this.Canvas.save(),this.Canvas.strokeStyle=this.VPenColor,0==this.VPenType)this.Canvas.setLineDash([3*p,2*p]);else if(2==this.VPenType){var m=this.Frame.SubFrame[0].Frame.DataWidth;m>2*p&&(this.Canvas.lineWidth=m)}if(this.Canvas.beginPath(),1==this.VLineType)f&&(this.Canvas.fillStyle=this.XRangeBGColor,this.Canvas.fillRect(f.XStart,a.Top,f.XEnd-f.XStart,a.Bottom-a.Top)),this.Canvas.moveTo(v(t),a.Top),this.Canvas.lineTo(v(t),a.Bottom);else if(this.Frame.SubFrame.length>0)for(var C in this.Frame.SubFrame){var D=this.Frame.SubFrame[C].Frame,S=D.ChartBorder.GetBorder();o=S.TopTitle,s=S.Bottom,f&&(this.Canvas.fillStyle=this.XRangeBGColor,this.Canvas.fillRect(f.XStart,o,f.XEnd-f.XStart,s-o)),this.Canvas.moveTo(v(t),o),this.Canvas.lineTo(v(t),s)}else this.Canvas.moveTo(v(t),o),this.Canvas.lineTo(v(t),s);this.Canvas.stroke(),this.Canvas.restore()}var x=(this.Frame.GetXData(t),{}),b=this.Frame.GetYData(e,x);(this.IsOnlyDrawMinute||this.IsShowClose)&&null!=this.Close&&(b=this.Close),this.StringFormatX.Value=this.CursorIndex,this.StringFormatX.Point={X:t,Y:e},this.StringFormatX.ClientPos=i,this.StringFormatY.Value=b,this.StringFormatY.RValue=x.RightYValue,this.StringFormatY.FrameID=x.FrameID,this.StringFormatY.Point={X:t,Y:e},this.StringFormatY.ClientPos=i,this.Canvas.font=this.Font;var I=this.GetFontHeight();if(I>this.TextHeight&&(this.TextHeight=I),(1==this.ShowTextMode.Left&&this.Frame.ChartBorder.Left>=30||2==this.ShowTextMode.Left||1==this.ShowTextMode.Right&&this.Frame.ChartBorder.Right>=30||2==this.ShowTextMode.Right)&&this.StringFormatY.Operator()){var T=this.StringFormatY.Text;this.Canvas.font=this.Font;var y=this.Canvas.measureText(T).width+4,w={Y:e,YValue:b,FrameID:x.FrameID};if(this.Frame.ChartBorder.Left>=30&&1==this.ShowTextMode.Left?r<y?(this.DrawTextBGRect(v(2),v(e-this.TextHeight/2),g(y),g(this.TextHeight)),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,4,e,y)):(this.DrawTextBGRect(r-2,e-this.TextHeight/2,-y,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,r-4,e,y)):2==this.ShowTextMode.Left&&(this.DrawTextBGRect(r,e-this.TextHeight/2,y,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,r+2,e,y)),this.StringFormatY.PercentageText&&0==this.TextFormat.Right&&(T=this.StringFormatY.PercentageText+"%",y=this.Canvas.measureText(T).width+4),this.StringFormatY.RText){T=this.StringFormatY.RText;var y=this.Canvas.measureText(T).width+4}var E=null;if(this.StringFormatY.RComplexText&&Ee.IsNonEmptyArray(this.StringFormatY.RComplexText.Text)){var y=0;E=this.StringFormatY.RComplexText;for(var C=0;C<E.Text.length;++C){var F=E.Text[C],L=this.Canvas.measureText(F.Text).width+4;C>0&&Ee.IsNumber(E.Space)&&(y+=E.Space),y+=L}}if(this.Frame.ChartBorder.Right>=30&&1==this.ShowTextMode.Right){var M=!1,A=null;if(x.FrameID>=0){var D=this.Frame.SubFrame[x.FrameID];M=D.OverlayIndex.length>0,A=D.Interval}if(M&&y>A){var O=n+A;O>h&&(O=h);var N=O-2-y;this.DrawTextBGRect(N,e-this.TextHeight/2,y,this.TextHeight),E?this.DrawComplexText(N,e,E):(this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,O-4,e,y))}else if(l<y){var N=h-2-y;this.DrawTextBGRect(N,e-this.TextHeight/2,y,this.TextHeight),E?this.DrawComplexText(N,e,E):(this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,h-4,e,y)),this.RightButton.Enable&&this.DrawRightButton(e-this.TextHeight/2,h-2-y,this.TextHeight,this.TextHeight,w)}else{var N=n+2;this.DrawTextBGRect(N,e-this.TextHeight/2,y,this.TextHeight),E?this.DrawComplexText(N,e,E):(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,n+4,e,y)),this.RightButton.Enable&&this.DrawRightButton(e-this.TextHeight/2,n+2,this.TextHeight,this.TextHeight,w)}if(this.StringFormatY.RExtendText&&this.StringFormatY.RExtendText.length>0){var _=0;for(var C in this.StringFormatY.RExtendText){var F=this.StringFormatY.RExtendText[C],P="--.--";F.YText?P=F.YText:Ee.IsNumber(F.Y)&&(P=F.Y.toFixed(0));var R=this.Canvas.measureText(P).width+4;l<R?(this.DrawTextBGRect(h-2-R,e+_+this.TextHeight/2,R,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=F.TextColor,this.Canvas.fillText(P,h-4,e+_+this.TextHeight,R)):(this.DrawTextBGRect(n+2,e+_+this.TextHeight/2,R,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=F.TextColor,this.Canvas.fillText(P,n+4,e+_+this.TextHeight,R)),_+=this.TextHeight}}}else if(2==this.ShowTextMode.Right){this.Canvas.fillStyle=this.TextBGColor;var B=n-y;this.DrawTextBGRect(B,e-this.TextHeight/2,y,this.TextHeight),E?this.DrawComplexText(B,e,E):(this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,B+2,e,y)),this.RightButton.Enable&&this.DrawRightButton(e-this.TextHeight/2,B,this.TextHeight,this.TextHeight,w)}}if((1==this.ShowTextMode.Bottom||2==this.ShowTextMode.Bottom||10==this.ShowTextMode.Bottom)&&this.StringFormatX.Operator()){var T=this.StringFormatX.Text;this.Canvas.font=this.Font,this.Canvas.fillStyle=this.TextBGColor;var y=this.Canvas.measureText(T).width+4,k=s+2+this.TextHeight/2,V=s+2;if(2==this.ShowTextMode.Bottom)k=s-this.TextHeight/2-2,V=s-this.TextHeight-2;else if(10==this.ShowTextMode.Bottom){var D=this.Frame.SubFrame[0].Frame;if(D.GetCorssCursorTop){var d=D.GetCorssCursorTop();Ee.IsNumber(d)&&(k=d+this.TextHeight/2,V=d)}}t-y/2<3?(this.DrawTextBGRect(t-1,V,y,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,t+1,k,y)):t+y/2>=n?(this.DrawTextBGRect(n-y,V,y,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,n-2,k,y)):(this.DrawTextBGRect(t-y/2,V,y,this.TextHeight),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,t,k,y))}if(x.FrameID>=0){var D=this.Frame.SubFrame[x.FrameID],G=!1;this.Frame.AutoRightBorder&&(G=!0);var H=n;G&&(H=n+this.Frame.AuotRightWidth),this.Canvas.font=this.Font;for(var C in D.OverlayIndex){var F=D.OverlayIndex[C];if(!1!==F.Frame.IsShow){if(G||(H+=D.Interval),H+30>h)break;for(var b=F.Frame.GetYData(e),C=2;C>=0;--C){var T=Ee.FormatValueString(b,C),y=this.Canvas.measureText(T).width+4;if(y<D.Interval)break}this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(H+2,e-this.TextHeight/2,y,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(T,H+4,e,y),G&&(H+=F.RightWidth.Width)}}}this.Status=1}}},this.DrawComplexText=function(t,e,i){this.Canvas.textAlign="left",this.Canvas.textBaseline="middle";for(var a=t+2,r=0;r<i.Text.length;++r){var n=i.Text[r],o=this.Canvas.measureText(n.Text).width+4;n.Color?this.Canvas.fillStyle=n.Color:is.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(n.Text,a,e,o),r>0&&Ee.IsNumber(i.Space)&&(a+=i.Space),a+=o}},this.DrawRightButton=function(t,e,i,a,r){this.Canvas.fillStyle=this.RightButton.BGColor;var n={Left:e-i,Top:t,Width:i,Height:a};this.RightButton.Rect=n,this.RightButton.Data=r,this.Canvas.fillRect(v(n.Left+1),v(n.Top),g(n.Width),g(n.Height));var o=c(),s=n.Top+3+(n.Height-6)/2,l=n.Left+3+(n.Width-6)/2;if(this.RightButton.Icon){var h=this.RightButton.Icon;this.Canvas.font=h.Size*o+"px "+h.Family,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=h.Color,this.Canvas.fillText("",l,s)}else{this.Canvas.strokeStyle=this.RightButton.PenColor;var u=n.Left+3,d=n.Top+3;this.Canvas.save(),this.Canvas.linewidth=1*o,this.Canvas.beginPath(),this.Canvas.moveTo(v(u),v(s)),this.Canvas.lineTo(v(u+n.Width-6),v(s)),this.Canvas.moveTo(v(l),v(d)),this.Canvas.lineTo(v(l),v(d+n.Height-6)),this.Canvas.stroke(),this.Canvas.restore()}},this.PtInButton=function(t,e){if(!this.RightButton.Enable)return null;if(!this.RightButton.Rect)return null;var i=this.RightButton.Rect;return this.Canvas.beginPath(),this.Canvas.rect(i.Left,i.Top,i.Width,i.Height),this.Canvas.isPointInPath(t,e)?{Data:this.RightButton.Data,Rect:i}:void 0},this.DrawTextBGRect=function(t,e,i,a){this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(v(t),v(e),g(i),g(a)),this.BorderColor&&(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(v(t),v(e),g(i),g(a)))},this.HScreenDraw=function(){var t=this.LastPoint.X,e=this.LastPoint.Y;this.IsOnlyDrawKLine&&(e=this.Frame.GetXFromIndex(this.CursorIndex));var i=this.Frame.ChartBorder.GetHScreenBorder(),a=i.Left,r=i.Right,n=i.Top,o=i.Bottom,s=this.Frame.ChartBorder.Bottom;if(this.CallAcutionXOperator&&(this.CallAcutionXOperator.Value=e,this.CallAcutionXOperator.Point={X:t,Y:e},this.CallAcutionXOperator.ClientPos=this.ClientPos,this.CallAcutionXOperator.Operator()&&(e=this.CallAcutionXOperator.X)),this.PointY=[[a,e],[r,e]],this.PointX=[[t,n],[t,o]],this.IsShowCorss){var l=c();if(this.Canvas.save(),this.Canvas.strokeStyle=this.HPenColor,0==this.HPenType&&this.Canvas.setLineDash([3*l,2*l]),this.Canvas.beginPath(),this.Canvas.moveTo(v(t),n),this.Canvas.lineTo(v(t),o),this.Canvas.stroke(),this.Canvas.restore(),this.Canvas.save(),this.Canvas.strokeStyle=this.VPenColor,0==this.VPenType)this.Canvas.setLineDash([3*l,2*l]);else if(2==this.VPenType){var h=this.Frame.SubFrame[0].Frame.DataWidth;h>2*l&&(this.Canvas.lineWidth=h)}if(this.Canvas.beginPath(),1==this.VLineType)this.Canvas.moveTo(a,v(e)),this.Canvas.lineTo(r,v(e));else if(this.Frame.SubFrame.length>0)for(var u in this.Frame.SubFrame){var d=this.Frame.SubFrame[u].Frame,f=d.ChartBorder.GetHScreenBorder();this.Canvas.moveTo(f.Left,v(e)),this.Canvas.lineTo(f.RightEx,v(e))}else this.Canvas.moveTo(a,v(e)),this.Canvas.lineTo(r,v(e));this.Canvas.stroke(),this.Canvas.restore()}var p=this.Frame.GetXData(e),m={},C=this.Frame.GetYData(t,m);this.StringFormatX.Value=p,this.StringFormatX.Point={X:t,Y:e},this.StringFormatX.ClientPos=this.ClientPos,this.StringFormatY.Value=C,this.StringFormatY.FrameID=m.FrameID,this.StringFormatY.Point={X:t,Y:e},this.StringFormatY.ClientPos=this.ClientPos,this.Canvas.font=this.Font;var D=this.GetFontHeight();if(D>this.TextHeight&&(this.TextHeight=D),(1==this.ShowTextMode.Left&&this.Frame.ChartBorder.Top>=30||2==this.ShowTextMode.Left||1==this.ShowTextMode.Right&&this.Frame.ChartBorder.Bottom>=30||2==this.ShowTextMode.Right)&&this.StringFormatY.Operator()){var g=this.StringFormatY.Text;this.Canvas.font=this.Font;var S=this.Canvas.measureText(g).width+4;if(this.Frame.ChartBorder.Top>=30&&1==this.ShowTextMode.Left){var x=t,b=n;this.Canvas.save(),this.Canvas.translate(x,b),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,n>=S?(this.Canvas.fillRect(0,-this.TextHeight/2,-S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(g,-2,0,S)):(this.Canvas.fillRect(S-n,-this.TextHeight/2,-S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(g,S-n-2,0,S)),this.Canvas.restore()}else if(2==this.ShowTextMode.Left){var x=t,b=n;this.Canvas.save(),this.Canvas.translate(x,b),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(0,-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(g,2,0,S),this.Canvas.restore()}if(this.StringFormatY.RText){g=this.StringFormatY.RText;var S=this.Canvas.measureText(g).width+4}if(this.Frame.ChartBorder.Bottom>=30&&1==this.ShowTextMode.Right){var x=t,b=o;if(this.Canvas.save(),this.Canvas.translate(x,b),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,s>S?(this.Canvas.fillRect(0,-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(g,2,0,S)):(this.Canvas.fillRect(s-S,-this.TextHeight/2,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(g,s-S+2,0,S)),this.StringFormatY.RExtendText&&this.StringFormatY.RExtendText.length>0){var I=0;for(var u in this.StringFormatY.RExtendText){var T=this.StringFormatY.RExtendText[u],y="--.--";T.YText?y=T.YText:Ee.IsNumber(T.Y)&&(y=T.Y.toFixed(0));var w=this.Canvas.measureText(y).width+4;if(this.Canvas.fillStyle=T.TextBGColor,s>w)this.Canvas.fillRect(0,I+this.TextHeight/2,w,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=T.TextColor,this.Canvas.fillText(y,2,I+this.TextHeight,w);else{var E=s-w;this.Canvas.fillRect(E,I+this.TextHeight/2,w,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=T.TextColor,this.Canvas.fillText(y,E+2,I+this.TextHeight,w)}I+=this.TextHeight}}this.Canvas.restore()}else if(2==this.ShowTextMode.Right){var x=t,b=o;this.Canvas.save(),this.Canvas.translate(x,b),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextBGColor,this.Canvas.fillRect(0,-this.TextHeight/2,-S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(g,-2,0,S),this.Canvas.restore()}}if((1===this.ShowTextMode.Bottom||10==this.ShowTextMode.Bottom)&&this.StringFormatX.Operator()){var g=this.StringFormatX.Text;this.Canvas.font=this.Font,this.Canvas.fillStyle=this.TextBGColor;var S=this.Canvas.measureText(g).width+4,x=a;if(10==this.ShowTextMode.Bottom){var d=this.Frame.SubFrame[0].Frame;if(d.GetCorssCursorTop){var F=d.GetCorssCursorTop();Ee.IsNumber(F)&&(x=F)}}if(e-S/2<3){var b=e;this.Canvas.save(),this.Canvas.translate(x,b),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillRect(0,0,S,this.TextHeight),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(g,2,this.TextHeight/2,S),this.Canvas.restore()}else if(e+S/2>=o){var b=e;this.Canvas.save(),this.Canvas.translate(x,b),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillRect(-S,0,S,this.TextHeight),this.Canvas.textAlign="right",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(g,-2,this.TextHeight/2,S),this.Canvas.restore()}else{var b=e;this.Canvas.save(),this.Canvas.translate(x,b),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillRect(-S/2,0,S,this.TextHeight),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(g,0,this.TextHeight/2,S),this.Canvas.restore()}}this.Status=1}}function Be(){this.Frame,this.HQChart,this.Canvas,this.Data,this.Symbol,this.HPenType=0,this.VPenType=0,this.LineDash=lo.DepthCorss.LineDash,this.IsShowTooltip=!0,this.AskColor=lo.DepthCorss.AskColor.Line,this.BidColor=lo.DepthCorss.BidColor.Line,this.LineWidth=lo.DepthCorss.LineWidth,this.ClassName="DepthChartCorssCursor",this.Tooltip={Border:{Top:lo.DepthCorss.Tooltip.Border.Top,Left:lo.DepthCorss.Tooltip.Border.Left,Right:lo.DepthCorss.Tooltip.Border.Right,Bottom:lo.DepthCorss.Tooltip.Border.Bottom,ItemSpace:lo.DepthCorss.Tooltip.Border.ItemSpace},Font:lo.DepthCorss.Tooltip.Font,TextColor:lo.DepthCorss.Tooltip.TextColor,BGColor:lo.DepthCorss.Tooltip.BGColor},this.Font=lo.CorssCursorTextFont,this.TextColor=lo.CorssCursorTextColor,this.TextBGColor=lo.CorssCursorBGColor,this.TextHeight=20,this.LastPoint,this.PointX,this.PointY,this.StringFormatX,this.StringFormatY,this.IsShowCorss=!0,this.IsShow=!0,this.GetVol=function(t,e){if(!this.Data)return null;var i=e?this.Data.Asks:this.Data.Bids;if(!i||!Array.isArray(i)||i.length<=0)return null;for(var a in i){var r=i[a];if(r.Price==t)return r.Vol}return null},this.Draw=function(){if(this.Status=0,this.LastPoint&&this.Data&&this.IsShow){var t=this.LastPoint.X,e=this.LastPoint.Y,i=!1;if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),i=this.Canvas.isPointInPath(t,e),this.PointY=null,this.PointY,i&&!0!==this.Frame.IsHScreen){var a=this.Frame.ChartBorder.GetLeft(),r=this.Frame.ChartBorder.GetRight(),n=this.Frame.ChartBorder.GetTopTitle(),o=this.Frame.ChartBorder.GetBottom(),s=(this.Frame.ChartBorder.Right,this.Frame.ChartBorder.GetChartWidth(),this.Frame.GetXData(t)),l=this.Frame.GetXFromPrice(s);if(l){var h=this.GetVol(l.Price,l.IsAsk);if(e=this.Frame.GetYFromData(h),l.Vol=h,l.Y=e,this.PointY=[[a,e],[r,e]],this.PointX=[[t,n],[t,o]],this.IsShowCorss){l.IsAsk?this.Canvas.strokeStyle=this.AskColor:this.Canvas.strokeStyle=this.BidColor;var u=this.Canvas.lineWidth,d=c();this.Canvas.lineWidth=this.LineWidth*d;var f=this.Canvas.lineWidth;if(1==this.HPenType||0==this.HPenType){0==this.HPenType&&this.Canvas.setLineDash(this.LineDash);var p=D(f,e);this.Canvas.beginPath(),this.Canvas.moveTo(a,p),this.Canvas.lineTo(r,p),this.Canvas.stroke(),0==this.HPenType&&this.Canvas.setLineDash([])}0==this.VPenType&&this.Canvas.setLineDash(this.LineDash);var m=D(f,l.X);this.Canvas.beginPath(),this.Canvas.moveTo(m,n),this.Canvas.lineTo(m,o),this.Canvas.stroke(),0==this.VPenType&&this.Canvas.setLineDash([]),this.Canvas.lineWidth=u}if(this.HQChart){var C=this.HQChart.GetEventCallback(Rn.ON_DRAW_DEPTH_TOOLTIP);C&&C.Callback(C,l,this)}if(this.IsShowTooltip){var v=this.GetFormatTooltip(l);this.DrawTooltip(v,l)}}}}},this.GetFormatTooltip=function(t){var e=[],i=2;this.Symbol&&(i=pr(this.Symbol));var a={Title:uo.GetText("Depth-Price",this.HQChart.LanguageID),TitleColor:this.Tooltip.TextColor,Text:t.Price.toFixed(i),Color:this.Tooltip.TextColor};e.push(a);var a={Title:uo.GetText("Depth-Sum",this.HQChart.LanguageID),TitleColor:this.Tooltip.TextColor,Text:t.Vol.toFixed(4),Color:this.Tooltip.TextColor};return e.push(a),e},this.DrawTooltip=function(t,e){if(Ee.IsNonEmptyArray(t)){this.Canvas.font=this.Tooltip.Font;for(var i=0,a=0,r=0,n=0;n<t.length;++n){var o=t[n];if(o){var s=!1;if(o.Title){var l=this.Canvas.measureText(o.Title).width;i<l&&(i=l),++a,s=!0}if(o.Text){var l=this.Canvas.measureText(o.Text).width;i<l&&(i=l),++a,s=!0}s&&++r}}if(!(i<=0||a<=0)){this.Tooltip.LineHeight=this.Canvas.measureText("擎").width+2;var h=c(),u=this.Tooltip.Border;this.Tooltip.Width=i+(u.Left+u.Right)*h,this.Tooltip.Height=this.Tooltip.LineHeight*a+(u.Top+u.Bottom)*h+u.ItemSpace*h*(r-1);var d=this.Frame.ChartBorder.GetRight(),f=this.Frame.ChartBorder.GetTop(),p=e.X,m=e.Y-this.Tooltip.Height;p+this.Tooltip.Width>=d&&(p=e.X-this.Tooltip.Width),m<f&&(m=e.Y),this.Canvas.fillStyle=this.Tooltip.BGColor,this.Canvas.fillRect(p,m,this.Tooltip.Width,this.Tooltip.Height),this.Canvas.textBaseline="top",this.Canvas.textAlign="left";for(var C=u.Left*h+p,v=u.Top*h+m,n=0;n<t.length;++n){var o=t[n],s=!1;o.Title&&(o.TitleColor?this.Canvas.fillStyle=o.TitleColor:this.Canvas.fillStyle=this.Tooltip.TextColor,this.Canvas.fillText(o.Title,C,v),v+=this.Tooltip.LineHeight,s=!0),o.Text&&(o.Color?this.Canvas.fillStyle=o.Color:this.Canvas.fillStyle=this.Tooltip.TextColor,this.Canvas.fillText(o.Text,C,v),v+=this.Tooltip.LineHeight,s=!0),s&&(v+=u.ItemSpace*h)}}}},this.PtInButton=function(t,e){return null}}function ke(){this.Frame,this.Canvas,this.Font=lo.DefaultTextFont,this.TextColor=lo.DefaultTextColor,this.IsEnableSplash=!1,this.SplashTitle="数据加载中",this.HQChart,this.Position=0,this.EnableSplash=function(t){if(this.IsEnableSplash=t,this.HQChart){var e=this.HQChart.GetEventCallback(Rn.ON_ENABLE_SPLASH_DRAW);if(e){var i={Enable:t};e.Callback(e,i,this)}}},this.SetTitle=function(t){this.SplashTitle=t},this.Draw=function(){if(this.IsEnableSplash){if(!0===this.Frame.IsHScreen)return void this.HScreenDraw();var t=null,e=null;if(1==this.Position&&this.HQChart.Frame&&this.HQChart.Frame.SubFrame&&this.HQChart.Frame.SubFrame[0]){var i=this.HQChart.Frame.SubFrame[0].Frame;i&&(t=(i.ChartBorder.GetLeft()+i.ChartBorder.GetRight())/2,e=(i.ChartBorder.GetTop()+i.ChartBorder.GetBottom())/2)}if(!Ee.IsNumber(t)||!Ee.IsNumber(e))var t=(this.Frame.ChartBorder.GetLeft()+this.Frame.ChartBorder.GetRight())/2,e=(this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.GetBottom())/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.SplashTitle,t,e)}},this.HScreenDraw=function(){var t=(this.Frame.ChartBorder.GetLeft()+this.Frame.ChartBorder.GetRight())/2,e=(this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.GetBottom())/2;this.Canvas.save(),this.Canvas.translate(t,e),this.Canvas.rotate(90*Math.PI/180),this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.font=this.Font,this.Canvas.fillText(this.SplashTitle,0,0),this.Canvas.restore()}}function Ve(){this.Data,this.Value,this.Text,this.Operator=function(){return!1},this.GetMultiDayBeforeOpenData=function(){if(!this.MultiDayBeforeOpenData||!Ee.IsNonEmptyArray(this.MultiDayBeforeOpenData))return null;if(this.DayOffset||this.MultiDayBeforeOpenData,!Ee.IsNumber(this.DayOffset.Offset)||!Ee.IsNumber(this.DayOffset.ShowDayCount))return null;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayBeforeOpenData.slice(e,e+t)},this.GetMultiDayAfterCloseData=function(){if(!this.MultiDayAfterCloseData||!Ee.IsNonEmptyArray(this.MultiDayAfterCloseData))return null;if(this.DayOffset||this.MultiDayAfterCloseData,!Ee.IsNumber(this.DayOffset.Offset)||!Ee.IsNumber(this.DayOffset.ShowDayCount))return null;var t=this.DayOffset.ShowDayCount,e=this.DayOffset.Offset;return this.MultiDayAfterCloseData.slice(e,e+t)}}function Ge(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.Symbol,this.FrameID,this.Frame,this.LanguageID=ho.LANGUAGE_CHINESE_ID,this.YClose,this.PercentageText,this.RValue,this.RText,this.RComplexText,this.Point,this.ClientPos=-1,this.ExtendChartPaint,this.RExtendText=[],this.BeforeOpenData,this.AfterCloseData,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.ShareAfterVol=0,this.PriceFormatType=0,this.DataFormatType=0,this.GetEventCallback,this.GetBeforeOpen=function(){if(!this.Frame)return!1;var t=this.Frame.SubFrame[this.FrameID];if(!t||!t.Frame)return!1;if(!this.BeforeOpenData)return!1;var e={Max:this.BeforeOpenData.VolMax,Min:this.BeforeOpenData.VolMin},i=this.Frame.IsHScreen?this.Point.X:this.Point.Y,a=t.Frame.GetLeftExtendYData(i,!1,{Range:e});Ee.IsNumber(a)&&(this.RText=this.Text=Ee.FormatValueString(a,2,this.LanguageID))},this.GetAfterClose=function(){if(!this.Frame)return!1;var t=this.Frame.SubFrame[this.FrameID];if(!t||!t.Frame)return!1;if(!this.AfterCloseData)return!1;var e={Max:this.AfterCloseData.VolMax,Min:this.AfterCloseData.VolMin},i=this.Frame.IsHScreen?this.Point.X:this.Point.Y,a=t.Frame.GetRightExtendYData(i,!1,{Range:e});Ee.IsNumber(a)&&(this.RText=this.Text=Ee.FormatValueString(a,2,this.LanguageID))},this.GetMultiDayBeforeOpen=function(){if(!this.Frame)return!1;var t=this.Frame.SubFrame[this.FrameID];if(!t||!t.Frame)return!1;var e=this.GetMultiDayBeforeOpenData();if(e&&Ee.IsNonEmptyArray(e)){var i=this.ClientPos-200;if(i<0||i>=e.length)return!1;var a=e[i],r={Max:a.VolMax,Min:a.VolMin},n=this.Frame.IsHScreen?this.Point.X:this.Point.Y,o=t.Frame.GetLeftExtendYData(n,!1,{Range:r});Ee.IsNumber(o)&&(this.RText=this.Text=Ee.FormatValueString(o,2,this.LanguageID))}},this.GetMultiDayAfterClose=function(){if(!this.Frame)return!1;var t=this.Frame.SubFrame[this.FrameID];if(!t||!t.Frame)return!1;var e=this.GetMultiDayAfterCloseData();if(e&&Ee.IsNonEmptyArray(e)){var i=this.ClientPos-300;if(i<0||i>=e.length)return!1;var a=e[i],r={Max:a.VolMax,Min:a.VolMin},n=this.Frame.IsHScreen?this.Point.X:this.Point.Y,o=t.Frame.GetRightExtendYData(n,!1,{Range:r});Ee.IsNumber(o)&&(this.RText=this.Text=Ee.FormatValueString(o,2,this.LanguageID))}},this.Operator=function(){if(this.RText=null,this.RComplexText=null,this.RExtendText=[],Ee.IsString(this.RValue)&&(this.RText=this.RValue),!this.Value)return!1;this.PercentageText=null;var t=2;if(0==this.FrameID){var t=pr(this.Symbol);1==this.PriceFormatType?this.Text=Ee.FormatValueThousandsString(this.Value,t):this.Text=this.Value.toFixed(t),this.YClose>0&&(this.PercentageText=(100*(this.Value-this.YClose)/this.YClose).toFixed(2)),this.GetExtendPaintData(t)}else 1==this.FrameID?(1==this.DataFormatType?(this.Text=Ee.FormatValueThousandsString(this.Value,t),Ee.IsNumber(this.RValue)&&(this.RText=Ee.FormatValueString(this.RValue,t,this.LanguageID))):(this.Text=Ee.FormatValueString(this.Value,t,this.LanguageID),Ee.IsNumber(this.RValue)&&(this.RText=Ee.FormatValueString(this.RValue,t,this.LanguageID))),2==this.ClientPos?this.GetBeforeOpen():3==this.ClientPos?0!=this.ShareAfterVol&&2!=this.ShareAfterVol||this.GetAfterClose():this.ClientPos>=200&&this.ClientPos<=299?this.GetMultiDayBeforeOpen():this.ClientPos>=300&&this.ClientPos<=399&&(0!=this.ShareAfterVol&&2!=this.ShareAfterVol||this.GetMultiDayAfterClose())):1==this.DataFormatType?this.Text=Ee.FormatValueThousandsString(this.Value,t):this.Text=Ee.FormatValueString(this.Value,t,this.LanguageID);if(this.GetEventCallback){var e=this.GetEventCallback(Rn.ON_FORMAT_CORSSCURSOR_Y_TEXT);if(e){var i={Value:this.Value,FrameID:this.FrameID};e.Callback(e,i,this)}}return!0},this.GetExtendPaintData=function(t){var e=parseInt(this.Value*ao[t]);for(var i in this.ExtendChartPaint){var a=this.ExtendChartPaint[i];if("DepthMapPaint"==a.ClassName&&a.FrameID==this.FrameID){var r=a.GetYValueByXValue(e,t);for(var n in r)this.RExtendText.push(r[n])}}}}function He(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.DateFormatType=0,this.LanguageID=0,this.Operator=function(){if(!Ee.IsNumber(this.Value))return!1;if(!this.Data)return!1;var t=this.Value;if(t=parseInt(t.toFixed(0)),this.Data.DataOffset+t>=this.Data.Data.length)return!1;var e=this.Data.Data[this.Data.DataOffset+t],i="YYYY-MM-DD";if(1==this.DateFormatType?i="YYYY/MM/DD":2==this.DateFormatType?i="YYYY/MM/DD/W":3==this.DateFormatType&&(i="DD/MM/YYYY"),this.Text=Ee.FormatDateString(e.Date,i,this.LanguageID),Q.IsMinutePeriod(this.Data.Period,!0)){var a=Ee.FormatTimeString(e.Time);this.Text=this.Text+"  "+a}else if(Q.IsSecondPeriod(this.Data.Period)){var a=Ee.FormatTimeString(e.Time,"HH:MM:SS");this.Text=this.Text+"  "+a}else if(Q.IsTickPeriod(this.Data.Period)){var a=Ee.FormatTimeString(e.Time);this.Text=this.Text+"  "+a}if(this.GetEventCallback){var r=this.GetEventCallback(Rn.ON_FORMAT_CORSSCURSOR_X_TEXT);if(r){var n={Item:e,Period:this.Data.Period,Date:e.Date,Time:e.Time,Index:this.Data.DataOffset+t};r.Callback(r,n,this)}}return!0}}function Ye(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.Frame,this.Symbol,this.Point,this.ClientPos=-1,this.BeforeOpenData,this.AfterCloseData,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.GetEventCallback,this.GetBeforeOpen=function(){if(!this.BeforeOpenData||!this.BeforeOpenData.Data)return!1;var t=1==this.Frame.IsHScreen?this.Point.Y:this.Point.X,e=this.Frame.GetLeftExtendXData(t,this.BeforeOpenData);if((e=parseInt(e.toFixed(0)))>=this.BeforeOpenData.Data.length)return!1;var i=this.BeforeOpenData.Data[e];return this.Text=this.FormatCallAcutionDateTime(i,this.BeforeOpenData),!0},this.GetAfterClose=function(){if(!this.AfterCloseData||!this.AfterCloseData.Data)return!1;var t=1==this.Frame.IsHScreen?this.Point.Y:this.Point.X,e=this.Frame.GetRightExtendXData(t,this.AfterCloseData);if((e=parseInt(e.toFixed(0)))>=this.AfterCloseData.Data.length)return!1;var i=this.AfterCloseData.Data[e];return this.Text=this.FormatCallAcutionDateTime(i,this.AfterCloseData),!0},this.GetMultiDayBeforeOpen=function(){var t=this.GetMultiDayBeforeOpenData();if(!t)return!1;if(this.Frame.ChartBorder.MultiDayMinute.Count<=1||this.Frame.ChartBorder.MultiDayMinute.Left<=0)return!1;var e=1==this.Frame.IsHScreen?this.Point.Y:this.Point.X,i=this.Frame.GetLeftExtendXData(e,t);if(!i)return!1;if(i.DayIndex>=t.length)return!1;var a=t[i.DayIndex];if(i.DataIndex=parseInt(i.DataIndex.toFixed(0)),i.DataIndex>=a.Data.length||i.DataIndex<0)return!1;var r=a.Data[i.DataIndex];return this.Text=this.FormatCallAcutionDateTime(r,a),!0},this.GetMultiDayAfterClose=function(){var t=this.GetMultiDayAfterCloseData();if(!t)return!1;if(this.Frame.ChartBorder.MultiDayMinute.Count<=1||this.Frame.ChartBorder.MultiDayMinute.Right<=0)return!1;var e=1==this.Frame.IsHScreen?this.Point.Y:this.Point.X,i=this.Frame.GetRightExtendXData(e,t);if(!i)return!1;if(i.DayIndex>=t.length)return!1;var a=t[i.DayIndex];if(i.DataIndex=parseInt(i.DataIndex.toFixed(0)),i.DataIndex>=a.Data.length)return!1;var r=a.Data[i.DataIndex];return this.Text=this.FormatCallAcutionDateTime(r,a),!0},this.FormatCallAcutionDateTime=function(t,e){var i=t.Time;return 1==e.Ver?Ee.FormatTimeString(i,"HH:MM"):Ee.FormatTimeString(i,"HH:MM:SS")},this.Operator=function(){if(2==this.ClientPos)return this.GetBeforeOpen();if(3==this.ClientPos)return this.GetAfterClose();if(this.ClientPos>=200&&this.ClientPos<=299)return this.GetMultiDayBeforeOpen();if(this.ClientPos>=300&&this.ClientPos<=399)return this.GetMultiDayAfterClose();if(!Ee.IsNumber(this.Value))return!1;var t=Math.abs(this.Value);t=parseInt(t.toFixed(0));var e=t;this.Frame&&this.Frame.MinuteCount&&(e=t%this.Frame.MinuteCount);var i=mo,a=i.GetTimeData(this.Symbol);if(!a)return!1;e<0?e=0:e>a.length&&(e=a.length-1),this.Frame&&t>=this.Frame.XPointCount&&(e=a.length-1);var r=a[e];if(this.Text=Ee.FormatTimeString(r),this.GetEventCallback){var n=this.GetEventCallback(Rn.ON_FORMAT_CORSSCURSOR_X_TEXT);if(n){var o={Time:r,Index:e};n.Callback(n,o,this)}}return!0}}function Xe(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.ClassName="HistoryDataStringFormat",this.Symbol,this.UpColor=lo.UpTextColor,this.DownColor=lo.DownTextColor,this.UnchagneColor=lo.UnchagneTextColor,this.VolColor=lo.Title.VolColor,this.AmountColor=lo.Title.AmountColor,this.TurnoverRateColor=lo.Title.TurnoverRateColor,this.PositionColor=lo.Title.PositionColor,this.LanguageID=ho.LANGUAGE_CHINESE_ID,this.LineCount=0,this.LineHeight=lo.PCTooltip.LineHeight,this.Width=157,this.Height=5*this.LineHeight,this.Operator=function(){var t=this.Value.Data;if(!t)return!1;this.Width=157,this.LanguageID==ho.LANGUAGE_ENGLISH_ID&&(this.Width=180);var e=new Date(parseInt(t.Date/1e4),t.Date/100%100-1,t.Date%100),i=Ee.FormatDateString(t.Date),a=uo.GetText(ro[e.getDay()],this.LanguageID),r=Q.IsTickPeriod(this.Value.ChartPaint.Data.Period);Q.IsMinutePeriod(this.Value.ChartPaint.Data.Period,!0)?a=Ee.FormatTimeString(t.Time):(Q.IsSecondPeriod(this.Value.ChartPaint.Data.Period)||r)&&(a=Ee.FormatTimeString(t.Time,"HH:MM:SS"));var n=this.Symbol.toUpperCase(),o=pr(this.Symbol),s=null;if(t.YClose>0&&(s=(t.Close-t.YClose)/t.YClose*100),r){var l="<span class='tooltip-title'>"+i+"&nbsp&nbsp"+a+"</span><span class='tooltip-con'>"+uo.GetText("DivTooltip-Price",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetColor(t.Open,t.YClose)+";'>"+t.Open.toFixed(o)+"</span><br/><span class='tooltip-con'>"+uo.GetText("DivTooltip-Increase",this.LanguageID)+"</span>"+(null==s?"<span class='tooltip-num' style='color:"+this.GetColor(0,0)+";'>--</span><br/>":"<span class='tooltip-num' style='color:"+this.GetColor(s,0)+";'>"+s.toFixed(2)+"%</span><br/>");this.LineCount=4}else if(t.IsNonTrade){var l="<span class='tooltip-title'>"+i+"&nbsp&nbsp"+a+"</span>";this.LineCount=2}else{var h=t.Vol;n&&po.IsSHSZ(n)&&(h/=100);var u=null;this.GetEventCallback&&(u=this.GetEventCallback(Rn.ON_CUSTOM_UNCHANGE_KLINE_TITLE_COLOR));var l="<span class='tooltip-title'>"+i+"&nbsp&nbsp"+a+"</span><span class='tooltip-con'>"+uo.GetText("DivTooltip-Open",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetPriceColor("DivTooltip-Open",t.Open,t.YClose,t,u)+";'>"+(Ee.IsNumber(t.Open)?t.Open.toFixed(o):"--")+"</span><br/><span class='tooltip-con'>"+uo.GetText("DivTooltip-High",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetPriceColor("DivTooltip-High",t.High,t.YClose,t,u)+";'>"+(Ee.IsNumber(t.High)?t.High.toFixed(o):"--")+"</span><br/><span class='tooltip-con'>"+uo.GetText("DivTooltip-Low",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetPriceColor("DivTooltip-Low",t.Low,t.YClose,t,u)+";'>"+(Ee.IsNumber(t.Low)?t.Low.toFixed(o):"--")+"</span><br/><span class='tooltip-con'>"+uo.GetText("DivTooltip-Close",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.GetPriceColor("DivTooltip-Close",t.Close,t.YClose,t,u)+";'>"+(Ee.IsNumber(t.Close)?t.Close.toFixed(o):"--")+"</span><br/><span class='tooltip-con'>"+uo.GetText("DivTooltip-Vol",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.VolColor+";'>"+(Ee.IsNumber(h)?Ee.FormatValueString(h,2,this.LanguageID):"--")+"</span><br/><span class='tooltip-con'>"+uo.GetText("DivTooltip-Amount",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.AmountColor+";'>"+(Ee.IsNumber(t.Amount)?Ee.FormatValueString(t.Amount,2,this.LanguageID):"--")+"</span><br/><span class='tooltip-con'>"+uo.GetText("DivTooltip-Increase",this.LanguageID)+"</span>"+(null==s?"<span class='tooltip-num' style='color:"+this.GetColor(0,0)+";'>--</span><br/>":"<span class='tooltip-num' style='color:"+this.GetColor(s,0)+";'>"+s.toFixed(2)+"%</span><br/>");if(this.LineCount=8,po.IsSHSZStockA(this.Symbol)&&t.FlowCapital>0){var c=t.Vol/t.FlowCapital*100;l+="<span class='tooltip-con'>"+uo.GetText("DivTooltip-Exchange",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.TurnoverRateColor+";'>"+c.toFixed(2)+"%</span><br/>",++this.LineCount}if(po.IsFutures(n)&&Ee.IsNumber(t.Position)&&(l+="<span class='tooltip-con'>"+uo.GetText("DivTooltip-Position",this.LanguageID)+"</span><span class='tooltip-num' style='color:"+this.PositionColor+";'>"+t.Position+"</span><br/>",++this.LineCount),"Overlay-KLine"==this.Value.ChartPaint.Name){var d="<span style='color:rgb(0,0,0);font:微软雅黑;font-size:12px;text-align:center;display: block;'>"+this.Value.ChartPaint.Title+"</span>";l=d+l,++this.LineCount}}return this.Text=l,this.Height=this.LineCount*this.LineHeight,!0},this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor},this.GetPriceColor=function(t,e,i,a,r){var n=this.GetColor(e,i);if(e==i&&r&&r.Callback){var o={Item:a,TitleName:t,DefaultColor:n,TitleColor:null,ClassName:this.ClassName};r.Callback(r,o),o.TitleColor&&(n=o.TitleColor)}return n}}function We(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.UpColor=lo.UpTextColor,this.DownColor=lo.DownTextColor,this.UnchagneColor=lo.UnchagneTextColor,this.Width=500,this.Operator=function(){if(!this.Value)return!1;var t=this.Value.Data.Data,e=this.Value.Data.Type,i="";for(var a in t){var r=t[a],n="";switch(e){case Xn.BLOCKTRADING:n=this.BlockTradingFormat(r);break;case Xn.TRADEDETAIL:n=this.TradeDetailFormat(r);break;case Xn.RESEARCH:n=this.ResearchFormat(r);break;case Xn.PFORECAST:n=this.PerformanceForecastFormat(r);break;default:n=this.DefaultFormat(r)}i+=n}var o="<div class='title-length'>"+i+"</div>";if(t.length>8){o+="<div class='total-list'>共"+t.length+"条</div>"}return this.Text=o,!0},this.DefaultFormat=function(t){var e=Ee.FormatDateString(t.Date);if(Ee.IsNumber(t.Time)){e+=" "+Ee.FormatTimeString(t.Time)}return"<span>"+e+"&nbsp;&nbsp;&nbsp;"+t.Title+"</span>"},this.BlockTradingFormat=function(t){var e=t.ExtendData;return"<span><i class='date-tipbox'>"+Ee.FormatDateString(t.Date)+"</i>&nbsp;&nbsp;<i class='tipBoxTitle'>成交价:&nbsp;"+e.Price.toFixed(2)+"</i><i class='tipBoxTitle'>收盘价:&nbsp;"+e.ClosePrice.toFixed(2)+"</i><br/><i class='rate-discount tipBoxTitle'>溢折价率:&nbsp;<strong style='color:"+this.GetColor(e.Premium.toFixed(2))+"'>"+e.Premium.toFixed(2)+"%</strong></i><i class='tipBoxTitle'>成交量(万股):&nbsp;"+e.Vol.toFixed(2)+"</i></span>"},this.TradeDetailFormat=function(t){var e=t.ExtendData.Detail,i=Ee.FormatDateString(t.Date),a=[];for(var r in e)a+="<i>"+e[r].TypeExplain+"</i><br/>";return"<span><i class='trade-time'>"+i+"&nbsp;&nbsp;&nbsp;上榜原因:&nbsp;&nbsp;</i><i class='reason-list'>"+a+"</i><br/><i class='trade-detall'>一周后涨幅:&nbsp;<strong style='color:"+this.GetColor(t.ExtendData.FWeek.Week1.toFixed(2))+"'>"+t.ExtendData.FWeek.Week1.toFixed(2)+"%</strong>&nbsp;&nbsp;&nbsp;四周后涨幅:&nbsp;<strong style='color:"+this.GetColor(t.ExtendData.FWeek.Week4.toFixed(2))+";'>"+t.ExtendData.FWeek.Week4.toFixed(2)+"%</strong></i></span>"},this.ResearchFormat=function(t){var e=t.ExtendData.Level,i="";if(0==e.length)i="<i>一般调研</i>";else{for(var a in e)0==e[a]?i+="<i style='color:#00a0e9'>证券代表&nbsp;&nbsp;&nbsp;</i>":1==e[a]?i+="<i>董秘&nbsp;&nbsp;&nbsp;</i>":2==e[a]?i+="<i style='color:#00a0e9'>总经理&nbsp;&nbsp;&nbsp;</i>":3==e[a]&&(i+="<i style='color:#00a0e9'>董事长&nbsp;&nbsp;&nbsp;</i>");i="接待:&nbsp;&nbsp;&nbsp;"+i}var r="";return t.ExtendData.Type&&"其他"!=t.ExtendData.Type&&(r="&nbsp;&nbsp;&nbsp;<i>"+t.ExtendData.Type+"</i>",0==e.length&&(i="")),"<span>"+Ee.FormatDateString(t.Date)+"&nbsp;&nbsp;&nbsp;"+r+i+"</span>"},this.PerformanceForecastFormat=function(t){var e,i=t.ExtendData.ReportDate,a=parseInt(i/1e4),r=i%1e4;1231==r?e="年报":331==r?e="一季度报":630==r?e="半年度报":930==r&&(e="三季度报");var n="";return t.ExtendData.FWeek&&(null!=t.ExtendData.FWeek.Week1&&(n+="一周后涨幅:<i class='increase' style='color:"+this.GetColor(t.ExtendData.FWeek.Week1.toFixed(2))+"'>"+t.ExtendData.FWeek.Week1.toFixed(2)+"%</i>"),null!=t.ExtendData.FWeek.Week4&&(n+="&nbsp;四周后涨幅:<i class='increase' style='color:"+this.GetColor(t.ExtendData.FWeek.Week4.toFixed(2))+"'>"+t.ExtendData.FWeek.Week4.toFixed(2)+"%</i>"),n.length>0&&(n="<br/>&nbsp;&nbsp;<i class='prorecast-week'>"+n+"</i>")),"<span>"+Ee.FormatDateString(t.Date)+"&nbsp;&nbsp;"+a+e+t.Title+"&nbsp;"+n+"</span>"},this.GetColor=function(t){return t>0?this.UpColor:t<0?this.DownColor:this.UnchagneColor}}function Ue(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.Width=120,this.Operator=function(){var t=this.Value.Data;if(!t)return!1;var e,i=t.Data,a="<span class='tooltip-index-name'>"+i.Name+i.Param+":</span>";return e=1==i.Type?"<span class='tooltip-index-buy'>买入</span>":"<span class='tooltip-index-sell'>卖出</span>",this.Text=a+e,!0}}function ze(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.Width=200,this.Operator=function(){var t=this.Value.Data;if(!t)return!1;var e=t.Data.Item,i=Ee.FormatTimeString(e.Time),a="<span class='tooltip-minuteinfo-time'>"+i+" </span>",r="<span class='tooltip-minuteinfo-content'>"+e.Title+"</span>";return e.Content&&(r="<span class='tooltip-minuteinfo-content'>"+e.Content+"</span>"),this.Text=a+r,!0}}function Ke(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.Width=200,this.Operator=function(){if(!this.Value||!this.Value.Data)return!1;var t=this.Value.Data;return!!t.Item&&(!!t.Item.Text&&(this.Text=t.Item.Text,!0))}}function $e(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.Width=200,this.Operator=function(){if(!this.Value||!this.Value.Data)return!1;var t=this.Value.Data;return!!t.Item&&(!(!t.Item.Tooltip||!t.Item.Tooltip.Text)&&(this.Text=t.Item.Tooltip.Text,!0))}}function je(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.Width=200,this.Period=0,this.Operator=function(){var t=this.Value.Data;if(!t||!t.Data)return!1;if(Q.IsDayPeriod(this.Period,!0)){var e=Ee.FormatDateString(t.Data.Start.Date),i=Ee.FormatDateString(t.Data.End.Date);if(e==i)return this.Text="<span class='tooltip-minuteinfo-content'>"+e+"</span>",!0;var a="<span class='tooltip-minuteinfo-content'>起始时间:"+e+"</span>",r="<span class='tooltip-minuteinfo-content'>结束时间:"+i+"</span>";return this.Text=a+"<br>"+r,!0}if(Q.IsMinutePeriod(this.Period,!0)){var e=Ee.FormatDateString(t.Data.Start.Date),n=Ee.FormatTimeString(t.Data.Start.Time,"HH:MM"),i=Ee.FormatDateString(t.Data.End.Date),o=Ee.FormatTimeString(t.Data.End.Time,"HH:MM"),a="<span class='tooltip-minuteinfo-content'>起始时间:"+e+" "+n+"</span>",r="<span class='tooltip-minuteinfo-content'>结束时间:"+i+" "+o+"</span>";return this.Text=a+"<br>"+r,!0}return!1}}function Je(){this.newMethod=Ve,this.newMethod(),delete this.newMethod,this.Width=200,this.Operator=function(){var t=this.Value.Data;if(!t||!t.Data)return!1;if(!Ee.IsNonEmptyArray(t.Data.Tooltip))return!1;this.Text="";for(var e=0;e<t.Data.Tooltip.length;++e){var i=t.Data.Tooltip[e],a="<span class='tooltip-minuteinfo-content'>"+i+"</span>";this.Text+=a+"<br>"}return!0}}function qe(){this.DataMap=new Mn.default([["KLineTradeDataStringFormat",{Create:function(){return new Ue}}],["MinuteInfoDataStringFormat",{Create:function(){return new ze}}],["HistoryDataStringFormat",{Create:function(){return new Xe}}],["KLineInfoDataStringFormat",{Create:function(){return new We}}],["IconDataStringFormat",{Create:function(){return new Ke}}],["ChartOXDataStringFormat",{Create:function(){return new je}}],["ScatterPlotDataStringFormat",{Create:function(){return new Je}}],["ChartDrawSVGDataStringFormat",{Create:function(){return new $e}}],["CorssCursor_XStringFormat",{Create:function(){return new He}}],["CorssCursor_YStringFormat",{Create:function(){return new Ge}}],["CorssCursor_Minute_XStringFormat",{Create:function(){return new Ye}}]]),this.Create=function(t){return this.DataMap.has(t)?this.DataMap.get(t).Create():null}}function Ze(){this.Frame,this.Data=new Array,this.Canvas,this.IsDynamic=!1,this.Position=0,this.CursorIndex,this.LastPoint,this.Font=lo.TitleFont,this.Title,this.TitleColor=lo.DefaultTextColor,this.ClassName="IChartTitlePainting",this.DrawStatus,this.GetEventCallback,this.GlobalOption,this.ReloadResource=function(){this.Font=lo.TitleFont,this.TitleColor=lo.DefaultTextColor}}function Qe(){this.newMethod=Ze,this.newMethod(),delete this.newMethod,this.ClassName="DynamicKLineTitlePainting",this.IsDynamic=!0,this.IsShow=!0,this.Period,this.UpColor=lo.UpTextColor,this.DownColor=lo.DownTextColor,this.UnchagneColor=lo.UnchagneTextColor,this.VolColor=lo.Title.VolColor,this.AmountColor=lo.Title.AmountColor,this.DateTimeColor=lo.Title.DateTimeColor,this.NameColor=lo.Title.NameColor,this.SettingColor=lo.Title.SettingColor,this.TurnoverRateColor=lo.Title.TurnoverRateColor,this.PositionColor=lo.Title.PositionColor,this.Symbol,this.Name,this.SpaceWidth=2*c(),this.OverlayChartPaint,this.IsShowName=!0,this.IsShowSettingInfo=!0,this.IsShowDateTime=!0,this.LanguageID=ho.LANGUAGE_CHINESE_ID,this.OnDrawEvent,this.OnMouseMoveEvent,this.HQChart,this.ReloadResource=function(){this.Font=lo.TitleFont,this.TitleColor=lo.DefaultTextColor,this.UpColor=lo.UpTextColor,this.DownColor=lo.DownTextColor,this.UnchagneColor=lo.UnchagneTextColor,this.VolColor=lo.Title.VolColor,this.AmountColor=lo.Title.AmountColor,this.DateTimeColor=lo.Title.DateTimeColor,this.NameColor=lo.Title.NameColor,this.SettingColor=lo.Title.SettingColor,this.TurnoverRateColor=lo.Title.TurnoverRateColor,this.PositionColor=lo.Title.PositionColor},this.GetCurrentKLineData=function(){if(null==this.CursorIndex||!this.Data)return null;if(this.Data.length<=0)return null;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;return e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0?null:this.Data.Data[e]},this.GetFormatTitle=function(t){if(t&&t.Data){var e=pr(this.Symbol),i=this.Symbol.toUpperCase(),a=t.Data,r=[],n={AryText:r};if(this.IsShowName&&r.push({Text:this.Name,Color:this.NameColor}),this.IsShowSettingInfo){var o="";o=this.Data.Period>Kn&&this.Data.Period<=$n?this.Data.Period-Kn+uo.GetText("自定义分钟",this.LanguageID):this.Data.Period>Un&&this.Data.Period<=zn?this.Data.Period-Un+uo.GetText("自定义日线",this.LanguageID):this.Data.Period>jn&&this.Data.Period<=Jn?this.Data.Period-jn+uo.GetText("自定义秒",this.LanguageID):uo.GetText(Q.GetPeriodName(this.Data.Period),this.LanguageID);var s=uo.GetText(oo[this.Data.Right],this.LanguageID),l="("+o+" "+s+")";po.IsEnableRight(this.Data.Period,this.Symbol,this.HQChart.RightFormula)||(l="("+o+")"),r.push({Text:l,Color:this.SettingColor})}var l=this.GetKLineCalculateTitle();if(l&&r.push({Text:l,Color:this.NameColor}),this.IsShowDateTime){var l=Ee.FormatDateString(a.Date);r.push({Text:l,Color:this.DateTimeColor})}var h=Q.IsTickPeriod(this.Period);if(Q.IsMinutePeriod(this.Period,!0)&&Ee.IsNumber(a.Time)){var l=Ee.FormatTimeString(a.Time);r.push({Text:l,Color:this.DateTimeColor})}else if(Q.IsSecondPeriod(this.Period)&&Ee.IsNumber(a.Time)){var l=Ee.FormatTimeString(a.Time,"HH:MM:SS");r.push({Text:l,Color:this.DateTimeColor})}else if(h){var l=Ee.FormatTimeString(a.Time,"HH:MM:SS");r.push({Text:l,Color:this.DateTimeColor})}if(h){var u=this.GetColor(a.Open,a.YClose),l=uo.GetText("KTitle-Price",this.LanguageID)+a.Open.toFixed(e);if(r.push({Text:l,Color:u}),Ee.IsNumber(a.YClose)&&0!=a.YClose){var c=(a.Close-a.YClose)/a.YClose*100,u=this.GetColor(c,0),l=uo.GetText("KTitle-Increase",this.LanguageID)+c.toFixed(2)+"%";r.push({Text:l,Color:u})}return n}if(a.IsNonTrade)return n;var d=null;if(this.GetEventCallback&&(d=this.GetEventCallback(Rn.ON_CUSTOM_UNCHANGE_KLINE_TITLE_COLOR)),Ee.IsNumber(a.Open)){var u=this.GetColor(a.Open,a.YClose),l=uo.GetText("KTitle-Open",this.LanguageID)+a.Open.toFixed(e);if(a.Open==a.YClose&&d){var f={Item:a,TitleName:"KTitle-Open",DefaultColor:u,TitleColor:null};this.OnUnchangeTitleColor(d,f)&&(u=f.TitleColor)}r.push({Text:l,Color:u})}if(Ee.IsNumber(a.High)){var u=this.GetColor(a.High,a.YClose),l=uo.GetText("KTitle-High",this.LanguageID)+a.High.toFixed(e);if(a.High==a.YClose&&d){var f={Item:a,TitleName:"KTitle-High",DefaultColor:u,TitleColor:null};this.OnUnchangeTitleColor(d,f)&&(u=f.TitleColor)}r.push({Text:l,Color:u})}if(Ee.IsNumber(a.Low)){var u=this.GetColor(a.Low,a.YClose),l=uo.GetText("KTitle-Low",this.LanguageID)+a.Low.toFixed(e);if(a.Low==a.YClose&&d){var f={Item:a,TitleName:"KTitle-Low",DefaultColor:u,TitleColor:null};this.OnUnchangeTitleColor(d,f)&&(u=f.TitleColor)}r.push({Text:l,Color:u})}if(Ee.IsNumber(a.Close)){var u=this.GetColor(a.Close,a.YClose),l=uo.GetText("KTitle-Close",this.LanguageID)+a.Close.toFixed(e);if(a.Close==a.YClose&&d){var f={Item:a,TitleName:"KTitle-Close",DefaultColor:u,TitleColor:null};this.OnUnchangeTitleColor(d,f)&&(u=f.TitleColor)}r.push({Text:l,Color:u})}if(a.YFClose>0&&po.IsChinaFutures(i)){var c=(a.Close-a.YFClose)/a.YFClose*100,u=this.GetColor(c,0),l=uo.GetText("KTitle-Increase",this.LanguageID)+c.toFixed(2)+"%";r.push({Text:l,Color:u})}else if(a.YClose>0){var c=(a.Close-a.YClose)/a.YClose*100,u=this.GetColor(c,0),l=uo.GetText("KTitle-Increase",this.LanguageID)+c.toFixed(2)+"%";r.push({Text:l,Color:u})}if(Ee.IsNumber(a.Vol)){var p=a.Vol;i&&po.IsSHSZ(i)&&(p/=100);var l=uo.GetText("KTitle-Vol",this.LanguageID)+Ee.FromatIntegerString(p,2,this.LanguageID);r.push({Text:l,Color:this.VolColor})}if(Ee.IsNumber(a.Amount)){var l=uo.GetText("KTitle-Amount",this.LanguageID)+Ee.FormatValueString(a.Amount,2,this.LanguageID);r.push({Text:l,Color:this.AmountColor})}if(po.IsSHSZStockA(this.Symbol)&&a.FlowCapital>0){var c=a.Vol/a.FlowCapital*100,l=uo.GetText("KTitle-Exchange",this.LanguageID)+Ee.FormatValueString(c,2,this.LanguageID)+"%";r.push({Text:l,Color:this.TurnoverRateColor})}if(po.IsFutures(i)&&Ee.IsNumber(a.Position)){var l=uo.GetText("KTitle-Position",this.LanguageID)+a.Position;r.push({Text:l,Color:this.PositionColor})}if(Ee.IsNonEmptyArray(this.OverlayChartPaint))for(var m=0;m<this.OverlayChartPaint.length;++m){var a=this.OverlayChartPaint[m];if(a.Symbol&&a.Title){var C=a.Color,l="["+a.Title+"]";r.push({Text:l,Color:C})}}return n}},this.DrawItem=function(t){var e=!0===this.Frame.IsHScreen,i=this.Frame.ChartBorder.GetLeft(),a=this.Frame.ChartBorder.GetTop()-this.Frame.ChartBorder.Top/2,r=(this.Frame.ChartBorder.GetRight(),c());if(e){if(this.Frame.ChartBorder.Right<5*r)return;var i=2,a=this.Frame.ChartBorder.Right/2,n=(this.Frame.ChartBorder.GetHeight(),this.Frame.ChartBorder.GetChartWidth()),o=this.Frame.ChartBorder.GetTop();this.Canvas.translate(n,o),this.Canvas.rotate(90*Math.PI/180)}else if(this.Frame.ChartBorder.Top<5*r)return;this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font;var s={Left:i,Bottom:a,IsHScreen:e},l=this.GetFormatTitle({Data:t});if(l&&Ee.IsNonEmptyArray(l.AryText))for(var h=0;h<l.AryText.length;++h){var t=l.AryText[h];if(!this.DrawText(t.Text,t.Color,s))break}},this.Draw=function(){if(this.IsShow){if(null==this.CursorIndex||!this.Data||this.Data.length<=0)return void this.OnDrawEventCallback(null);this.Canvas.font=this.Font,this.SpaceWidth=this.Canvas.measureText("0").width;var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;if(e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0)return void this.OnDrawEventCallback(null);this.IsShowLastData()&&(e=this.Data.Data.length-1);var i=this.Data.Data[e];this.OnDrawEventCallback(i),this.Canvas.save(),this.DrawItem(i),this.Canvas.restore()}},this.OnDrawEventCallback=function(t){var e=this.OnDrawEvent&&this.OnDrawEvent.Callback,i=this.OnMouseMoveEvent&&this.OnMouseMoveEvent.Callback;if(e||i){var a={Draw:t,Name:this.ClassName};if(this.Data&&this.Data.Data){var r=Math.abs(this.CursorIndex);r=parseInt(r.toFixed(0));var n=this.Data.DataOffset+r,o=this.Data.Data.length;a.DataIndex=n,a.DataCount=o}if(Ee.IsNonEmptyArray(this.OverlayChartPaint)){a.OverlayStock=[];for(var s=0;s<this.OverlayChartPaint.length;++s){var l=this.OverlayChartPaint[s];l.Symbol&&l.Title&&a.OverlayStock.push({Symbol:l.Symbol,Name:l.Title})}}e&&this.OnDrawEvent.Callback(this.OnDrawEvent,a,this),i&&this.OnMouseMoveEvent.Callback(this.OnMouseMoveEvent,a,this)}},this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor},this.OnUnchangeTitleColor=function(t,e){return!(!t||!t.Callback)&&(e.ClassName=this.ClassName,t.Callback(t,e,this),!(!e||!e.TitleColor))},this.DrawText=function(t,e,i){if(!t)return!0;var a=!0===this.Frame.IsHScreen,r=this.Frame.ChartBorder.GetRight();a&&(r=this.Frame.ChartBorder.GetHeight()),this.Canvas.fillStyle=e;var n=this.Canvas.measureText(t).width;return!(i.Left+n>r)&&(this.IsShow&&this.Canvas.fillText(t,i.Left,i.Bottom,n),i.Left+=n+this.SpaceWidth,!0)},this.GetKLineCalculateTitle=function(){if(!this.HQChart)return null;var t=this.HQChart.GetKLineCalulate();return t&&t.GetTitle?t.GetTitle():null},this.IsShowLastData=function(){var t=!1;if(this.DrawStatus&&this.DrawStatus.IsTitleShowLatestData){var e=this.DrawStatus;!Ee.IsNumber(e.FrameID)||e.FrameID<0?t=!0:e.CorssCursorTouchEnd&&0==e.IsOnTouch&&(t=!0)}return t}}function ti(){this.newMethod=Qe,this.newMethod(),delete this.newMethod,this.ClassName="DynamicMinuteTitlePainting",this.SpaceWidth=1*c(),this.YClose,this.IsShowDate=!1,this.IsShowTime=!0,this.IsShowName=!0,this.IsShowAveragePrice=!0,this.OverlayChartPaint,this.LanguageID=ho.LANGUAGE_CHINESE_ID,this.LastShowData,this.OnDrawEvent,this.PointInfo=null,this.IsAlwaysShowLastData=!1,this.ShowLastDataFormat=0,this.MultiDayBeforeOpenData,this.MultiDayAfterCloseData,this.TitleBaseLine=1,this.TimeFormat,this.CallAuctionShowTitle=new Tn.default(["MTitle-AC-Price","MTitle-AC-Vol","MTitle-AC-NotMatchVol","MTitle-AC-Increase","MTitle-AC-AvPrice"]),this.GetCurrentKLineData=function(){if(this.LastShowData)return this.LastShowData;if(null==this.CursorIndex||!this.Data)return null;if(this.Data.length<=0)return null;var t=Math.abs(this.CursorIndex);t=parseInt(t.toFixed(0));var e=this.Data.DataOffset+t;return e>=this.Data.Data.length&&(e=this.Data.Data.length-1),e<0?null:this.Data.Data[e]},this.GetCurrentAuctionData=function(){var t=!0===this.Frame.IsHScreen,e={ClientPos:this.PointInfo.ClientPos,X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y};if(2==this.PointInfo.ClientPos){if(!this.BeforeOpenData)return e;if(!this.CallAcutionXOperator)return e;if(this.CallAcutionXOperator.Value=t?this.PointInfo.Point.Y:this.PointInfo.Point.X,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos,!this.CallAcutionXOperator.Operator())return e;var i={Explain:"BeforeOpen",Data:null,DataIndex:null,DataTotalCount:this.BeforeOpenData.TotalCount};return i.DataIndex=this.CallAcutionXOperator.DataIndex,i.Data=this.CallAcutionXOperator.Item,i.Ver=this.BeforeOpenData.Ver,i}if(3==this.PointInfo.ClientPos){if(!this.AfterCloseData)return e;if(!this.CallAcutionXOperator)return e;if(this.CallAcutionXOperator.Value=t?this.PointInfo.Point.Y:this.PointInfo.Point.X,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos,!this.CallAcutionXOperator.Operator())return e;var i={Explain:"AfterClose",Data:null,DataIndex:null,DataTotalCount:this.AfterCloseData.TotalCount};return i.DataIndex=this.CallAcutionXOperator.DataIndex,i.Data=this.CallAcutionXOperator.Item,i.Ver=this.AfterCloseData.Ver,i}if(this.PointInfo.ClientPos>=200&&this.PointInfo.ClientPos<=299){if(!this.MultiDayBeforeOpenData||!Ee.IsNonEmptyArray(this.MultiDayBeforeOpenData))return e;var a=1==this.Frame.IsHScreen?this.PointInfo.Point.Y:this.PointInfo.Point.X;if(this.CallAcutionXOperator.Value=a,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos,!this.CallAcutionXOperator.Operator())return e;var r=this.MultiDayBeforeOpenData[this.CallAcutionXOperator.DayIndex],i={Explain:"MultiDayBeforeOpen",Data:null,DataIndex:null};return i.DataIndex=this.CallAcutionXOperator.DataIndex,i.DayIndex=this.CallAcutionXOperator.DayIndex,i.Data=this.CallAcutionXOperator.Item,i.Ver=r.Ver,i}if(this.PointInfo.ClientPos>=300&&this.PointInfo.ClientPos<=399){if(!this.MultiDayAfterCloseData||!Ee.IsNonEmptyArray(this.MultiDayAfterCloseData))return e;var a=1==this.Frame.IsHScreen?this.PointInfo.Point.Y:this.PointInfo.Point.X;if(this.CallAcutionXOperator.Value=a,this.CallAcutionXOperator.Point={X:this.PointInfo.Point.X,Y:this.PointInfo.Point.Y},this.CallAcutionXOperator.ClientPos=this.PointInfo.ClientPos,!this.CallAcutionXOperator.Operator())return e;var r=this.MultiDayAfterCloseData[this.CallAcutionXOperator.DayIndex],i={Explain:"MultiDayAfterClose",Data:null,DataIndex:null};return i.DataIndex=this.CallAcutionXOperator.DataIndex,i.DayIndex=this.CallAcutionXOperator.DayIndex,i.Data=this.CallAcutionXOperator.Item,i.Ver=r.Ver,i}return e},this.GetLatestKLineData=function(t){var e,i=null,a=1;if(Ee.IsNonEmptyArray(this.MultiDayBeforeOpenData)){var r=this.MultiDayBeforeOpenData[this.MultiDayBeforeOpenData.length-1];r&&Ee.IsNonEmptyArray(r.Data)&&(a=r.Ver,i=r.Data[r.Data.length-1],e="MultiDayBeforeOpen")}else this.BeforeOpenData&&Ee.IsNonEmptyArray(this.BeforeOpenData.Data)&&(i=this.BeforeOpenData.Data[this.BeforeOpenData.Data.length-1],a=this.BeforeOpenData.Ver,e="BeforeOpen");var n,o=null,s=1;if(Ee.IsNonEmptyArray(this.MultiDayAfterCloseData)){var r=this.MultiDayAfterCloseData[this.MultiDayAfterCloseData.length-1];r&&Ee.IsNonEmptyArray(r.Data)&&(s=r.Ver,o=r.Data[r.Data.length-1],n="MultiDayAfterClose",r.Data.length==r.TotalCount&&(o=null))}else this.AfterOpenData&&Ee.IsNonEmptyArray(this.AfterOpenData.Data)&&(o=this.AfterOpenData.Data[this.AfterOpenData.Data.length-1],s=this.AfterOpenData.Ver,n="AfterClose");var l=null;if(this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){var h=this.Data.Data.length;l=this.Data.Data[h-1]}return i||o||l?t?l?i&&l&&(i.Date>l.Date||i.Date==l.Date&&i.Time>l.Time&&1==s)?{Type:2,Data:i,Ver:a,Explain:e}:o&&l&&o.Date>=l.Date?{Type:1,Data:o,Ver:s,Explain:n}:{Type:0,Data:l}:{Type:1,Data:i,Ver:a,Explain:e}:{Type:0,Data:l}:null},this.GetFormatTitle=function(t){if(t&&t.Data){var e=pr(this.Symbol),i=t.Data,a=t.IsLastOne,r=[];if(this.IsShowName&&r.push({Text:this.Name,Color:this.NameColor}),this.IsShowDate||this.IsShowTime){var n=!1;if(a&&1==this.ShowLastDataFormat&&this.Data&&this.Data.UpdateTime&&Ee.IsNumber(this.Data.UpdateTime.Date)&&Ee.IsNumber(this.Data.UpdateTime.Time)){var o=Ee.FormatTimeString(this.Data.UpdateTime.Time,"HH:MM:SS");r.push({Text:o,Color:this.DateTimeColor}),n=!0}if(!n)if(this.TimeFormat){var s=null,l=null,o=null;this.IsShowDate&&(s=Ee.FormatDateString("YYYY-MM-DD",i.Date)),this.IsShowTime&&(l=Ee.FormatTimeString(i.Time,this.TimeFormat)),s&&l?o=s+" "+l:s?o=s:l&&(o=l),o&&r.push({Text:o,Color:this.DateTimeColor})}else{var o=Ee.FormatDateTimeString(i.DateTime,this.IsShowDate,this.IsShowTime);r.push({Text:o,Color:this.DateTimeColor})}}var h=i.Close,u=i.Increase,c=i.Vol,d=i.Amount;if(Ee.IsNumber(h)){var f=this.GetColor(h,this.YClose),o=uo.GetText("MTitle-Close",this.LanguageID)+h.toFixed(e);r.push({Text:o,Color:f})}if(Ee.IsNumber(u)){var f=this.GetColor(u,0),o=uo.GetText("MTitle-Increase",this.LanguageID)+u.toFixed(2)+"%";r.push({Text:o,Color:f})}var p=!0,m=this.Symbol.toUpperCase();if(po.IsET(m)&&!po.IsETShowAvPrice(m)?p=!1:po.IsShowAvPrice&&!po.IsShowAvPrice(m)&&(p=!1),Ee.IsNumber(i.AvPrice)&&p&&this.IsShowAveragePrice){var f=this.GetColor(i.AvPrice,this.YClose),o=uo.GetText("MTitle-AvPrice",this.LanguageID)+i.AvPrice.toFixed(e);r.push({Text:o,Color:f})}if(Ee.IsNumber(c)){var o=uo.GetText("MTitle-Vol",this.LanguageID)+Ee.FromatIntegerString(c,2,this.LanguageID);r.push({Text:o,Color:this.VolColor})}if(Ee.IsNumber(d)){var o=uo.GetText("MTitle-Amount",this.LanguageID)+Ee.FormatValueString(d,2,this.LanguageID);r.push({Text:o,Color:this.AmountColor})}if(Ee.IsNumber(i.Position)){var o=uo.GetText("MTitle-Position",this.LanguageID)+Ee.FromatIntegerString(i.Position,2,this.LanguageID);r.push({Text:o,Color:this.VolColor})}if(a&&0==this.ShowLastDataFormat&&this.Data&&this.Data.UpdateTime&&Ee.IsNumber(this.Data.UpdateTime.Date)&&Ee.IsNumber(this.Data.UpdateTime.Time)){var o=uo.GetText("MTitle-UpdateTime",this.LanguageID)+Ee.FormatTimeString(this.Data.UpdateTime.Time,"HH:MM:SS");r.push({Text:o,Color:this.DateTimeColor})}if(Ee.IsNonEmptyArray(this.OverlayChartPaint))for(var C=0;C<this.OverlayChartPaint.length;++C){var i=this.OverlayChartPaint[C];if(i.Symbol&&i.Title){var v=i.Color,o="["+i.Title+"]";r.push({Text:o,Color:v})}}return{AryText:r}}},this.DrawItem=function(t,e){if(t){var i=c(),a=!0===this.Frame.IsHScreen,r=this.Frame.GetBorder(),n=r.Left,o=r.Top-this.Frame.ChartBorder.Top/2;pr(this.Symbol);if(this.Canvas.font=this.Font,a){if(this.Frame.ChartBorder.Right<5*i)return;var n=2,o=this.Frame.ChartBorder.Right/2,s=r.ChartWidth,l=r.Top;this.Canvas.translate(s,l),this.Canvas.rotate(90*Math.PI/180)}else if(this.Frame.ChartBorder.Top<5*i)return;if(this.Canvas.textAlign="left",0==this.TitleBaseLine)this.Canvas.textBaseline="top",o=2*i;else if(2==this.TitleBaseLine){this.Canvas.textBaseline="bottom";var o=r.Top}else this.Canvas.textBaseline="middle";var h={Left:n,Bottom:o,IsHScreen:a},u=this.GetFormatTitle({Data:t,IsLastOne:e});if(u&&Ee.IsNonEmptyArray(u.AryText))for(var d=0;d<u.AryText.length;++d){var t=u.AryText[d];if(!this.DrawText(t.Text,t.Color,h))break}}},this.FormatCallAuctionTitle=function(t){var e=[],i=pr(this.Symbol);if(this.IsShowName&&e.push({Text:this.Name,Color:this.NameColor}),t&&t.Data){var a,r,n,o=t.Data;if(n=Ee.FormatDateString(o.Date),r=1==t.Ver?Ee.FormatTimeString(o.Time,"HH:MM"):Ee.FormatTimeString(o.Time,"HH:MM:SS"),a="MultiDayBeforeOpen"==t.Explain||"MultiDayAfterClose"==t.Explain?n+" "+r:r,e.push({Text:a,Color:this.DateTimeColor}),Ee.IsNumber(o.Price)&&this.CallAuctionShowTitle.has("MTitle-AC-Price")){var s=this.GetColor(o.Price,this.YClose),l="MTitle-AC-Price";1==t.Ver&&(l="MTitle-Close");var a=uo.GetText(l,this.LanguageID)+o.Price.toFixed(i);e.push({Text:a,Color:s})}if(Ee.IsPlusNumber(this.YClose)&&Ee.IsNumber(o.Price)&&this.CallAuctionShowTitle.has("MTitle-AC-Increase")){var h=(o.Price-this.YClose)/this.YClose*100,s=this.GetColor(h,0),l="MTitle-AC-Increase";1==t.Ver&&(l="MTitle-Increase");var a=uo.GetText(l,this.LanguageID)+h.toFixed(2)+"%";e.push({Text:a,Color:s})}if(Ee.IsNumber(o.AvPrice)&&this.CallAuctionShowTitle.has("MTitle-AC-AvPrice")){var s=this.GetColor(o.AvPrice,this.YClose),a=uo.GetText("MTitle-AC-AvPrice",this.LanguageID)+o.AvPrice.toFixed(i);e.push({Text:a,Color:s})}if(Ee.IsNumber(o.Vol[0])&&this.CallAuctionShowTitle.has("MTitle-AC-Vol")){var l="MTitle-AC-Vol";1==t.Ver&&(l="MTitle-Vol");var a=uo.GetText(l,this.LanguageID)+Ee.FromatIntegerString(o.Vol[0],2);e.push({Text:a,Color:this.VolColor})}if(Ee.IsNumber(o.Vol[1])&&this.CallAuctionShowTitle.has("MTitle-AC-NotMatchVol")){var a=uo.GetText("MTitle-AC-NotMatchVol",this.LanguageID)+Ee.FromatIntegerString(o.Vol[1],2);e.push({Text:a,Color:this.VolColor})}if(o.ExtendData&&Ee.IsNonEmptyArray(o.ExtendData.Amount)){var u=o.ExtendData.Amount;if(Ee.IsNumber(u[0])&&this.CallAuctionShowTitle.has("MTitle-AC-Amount")){var a=uo.GetText("MTitle-AC-Amount",this.LanguageID)+Ee.FromatIntegerString(u[0],2);e.push({Text:a,Color:this.AmountColor})}if(Ee.IsNumber(u[1])&&this.CallAuctionShowTitle.has("MTitle-AC-NotMatchAmount")){var a=uo.GetText("MTitle-AC-NotMatchAmount",this.LanguageID)+Ee.FromatIntegerString(u[1],2);e.push({Text:a,Color:this.AmountColor})}}}return{AryText:e}},this.DrawCallAuction=function(){var t=!0===this.Frame.IsHScreen,e=this.Frame.GetBorder(),i=c(),a=e.Left,r=e.Top-this.Frame.ChartBorder.Top/2,n=!0;if(t){if(this.Frame.ChartBorder.Right<5*i)return;var a=2,r=this.Frame.ChartBorder.Right/2,o=e.ChartWidth,s=e.Top;this.Canvas.translate(o,s),this.Canvas.rotate(90*Math.PI/180)}else this.Frame.ChartBorder.Top<5&&(n=!1);if(this.Canvas.textAlign="left",this.Canvas.font=this.Font,0==this.TitleBaseLine)this.Canvas.textBaseline="top",r=2*i;else if(2==this.TitleBaseLine){this.Canvas.textBaseline="bottom";var r=e.Top}else this.Canvas.textBaseline="middle";var l={Left:a,Bottom:r,IsHScreen:t},h=this.GetCurrentAuctionData(),u=this.FormatCallAuctionTitle(h);if(n&&u&&Ee.IsNonEmptyArray(u.AryText))for(var d=0;d<u.AryText.length;++d){var f=u.AryText[d];if(!this.DrawText(f.Text,f.Color,l))break}this.OnDrawCallAuctionEventCallback(h)},this.OnDrawCallAuctionEventCallback=function(t){if(this.OnDrawEvent&&this.OnDrawEvent.Callback){var e={Draw:t,Name:this.ClassName};this.OnDrawEvent.Callback(this.OnDrawEvent,e,this)}if(this.OnMouseMoveEvent&&this.OnMouseMoveEvent.Callback){var e={Draw:t,Name:this.ClassName};this.OnMouseMoveEvent.Callback(this.OnDrawEvent,e,this)}},this.DrawNone=function(){this.OnDrawEventCallback(null),this.IsAlwaysShowLastData&&(this.Canvas.save(),this.DrawLastDataItem(),this.Canvas.restore())},this.Draw=function(){if(this.LastShowData=null,this.GlobalOption=this.Frame.GlobalOption,!this.IsShow){if(!(this.OnDrawEvent&&this.OnDrawEvent.Callback||this.OnMouseMoveEvent&&this.OnMouseMoveEvent.Callback))return}if(this.PointInfo&&(2==this.PointInfo.ClientPos||3==this.PointInfo.ClientPos||this.PointInfo.ClientPos>=200&&this.PointInfo.ClientPos<=299||this.PointInfo.ClientPos>=300&&this.PointInfo.ClientPos<=399))return this.Canvas.save(),this.DrawCallAuction(),void this.Canvas.restore();if(!this.Data||!this.Data.Data||this.Data.Data.length<=0)return void this.DrawNone();if(!(null!=this.CursorIndex||this.GlobalOption&&this.GlobalOption.IsDisplayLatest))return void this.DrawNone();this.Canvas.font=this.Font,this.SpaceWidth=this.Canvas.measureText("0").width;var t=!1;if(this.DrawStatus&&this.DrawStatus.IsTitleShowLatestData){var e=this.DrawStatus;!Ee.IsNumber(e.FrameID)||e.FrameID<0?t=!0:e.CorssCursorTouchEnd&&0==e.IsOnTouch&&(t=!0)}else this.GlobalOption&&this.GlobalOption.IsDisplayLatest&&(t=!0);var i=!1;if(t){var a=null,r=this.GetLatestKLineData(!0);r&&0==r.Type&&(a=r.Data),i=!0}else{var n=this.CursorIndex;n=parseInt(n.toFixed(0));var o=n+this.Data.DataOffset;o>=this.Data.Data.length&&(o=this.Data.Data.length-1);var a=this.Data.Data[o];o==this.Data.Data.length-1&&(i=!0)}this.LastShowData=a,this.Canvas.save(),this.OnDrawEventCallback(a),this.IsAlwaysShowLastData?this.DrawLastDataItem():this.DrawItem(a,i),this.Canvas.restore()},this.DrawCallAuctionItem=function(t,e){if(t){var i=t.Data,a=(t.Ver,!0===this.Frame.IsHScreen),r=this.Frame.GetBorder(),n=r.Left,o=r.Top-this.Frame.ChartBorder.Top/2,s=!0;if(a){var n=2,o=this.Frame.ChartBorder.Right/2,l=r.ChartWidth,h=r.Top;this.Canvas.translate(l,h),this.Canvas.rotate(90*Math.PI/180)}else this.Frame.ChartBorder.Top<5&&(s=!1);if(this.Canvas.textAlign="left",this.Canvas.font=this.Font,0==this.TitleBaseLine)this.Canvas.textBaseline="top",o=2*c();else if(2==this.TitleBaseLine){this.Canvas.textBaseline="bottom";var o=r.Top}else this.Canvas.textBaseline="middle";var u={Left:n,Bottom:o,IsHScreen:a},d=this.FormatCallAuctionTitle(t);if(s&&d&&Ee.IsNonEmptyArray(d.AryText))for(var f=0;f<d.AryText.length;++f){var i=d.AryText[f];if(!this.DrawText(i.Text,i.Color,u))break}}},this.DrawLastDataItem=function(){var t=this.GetLatestKLineData(!0);t&&(0==t.Type?this.DrawItem(t.Data,!0):1!=t.Type&&2!=t.Type||this.DrawCallAuctionItem(t,!0))}}function ei(t,e,i){this.Data=t,this.Name=e,this.Color=i,this.DataType,this.ChartClassName,this.StringFormat=so.DEFAULT,this.FloatPrecision=2,this.IsShow=!0,this.Callback}function ii(){this.newMethod=Ze,this.newMethod(),delete this.newMethod,this.ClassName="DynamicChartTitlePainting",this.IsDynamic=!0,this.Data=[],this.Explain,this.ColorIndex,this.IsShowColorIndexTitle=!0,this.IsShowUpDownArrow=!0,this.IsShowIndexName=!0,this.IsShowIndexTitle=!0,this.IsShowNameArrow=!1,this.TradeIndex,this.IsShowTradeIndexTitle=!0,this.OverlayIndex=new Mn.default,this.IsShowOverlayIndexName=!0,this.OverlayIndexType={Position:0,LineSpace:5,BGColor:lo.OverlayIndexTitleBGColor},this.LanguageID=ho.LANGUAGE_CHINESE_ID,this.TitleRect,this.IsDrawTitleBG=!1,this.BGColor=lo.IndexTitleBGColor,this.BGBorderColor=lo.IndexTitleBorderColor,this.BGBorderMoveOnColor=lo.IndexTitleBorderMoveOnColor,this.BorderRoundRadius=2,this.OnDrawEvent,this.ParamSpace=2,this.TitleSpace=2,this.TitleColor=lo.IndexTitleColor,this.SelectedColor=lo.IndexTitleSelectedColor,this.IsKLineFrame=!1,this.Identify,this.SelectedChart,this.ArgumentsText,this.MerginLeft=lo.IndexTitleMerginLeft,this.Buttons=[],this.DynamicTitle={OutName:null,OutValue:null},this.OverlayDynamicTitle=new Mn.default,this.ReloadResource=function(){this.Font=lo.TitleFont,this.TitleColor=lo.DefaultTextColor,this.OverlayIndexType.BGColor=lo.OverlayIndexTitleBGColor},this.SetDynamicTitleData=function(t,e,i){i.OutName?i.OutName.clear():i.OutName=new Mn.default,i.OutValue?i.OutValue.clear():i.OutValue=new Mn.default;var a=new Mn.default;for(var r in e){var n=e[r];a.set("{"+n.Name+"}",n)}for(var r in t){var n=t[r];if(n.DynamicName){var o=n.DynamicName.match(/{\w*}/i);if(!o||o.length<=0)i.OutName.set(n.Name,n.DynamicName);else{for(var s=n.DynamicName,l=!0,h=0;h<o.length;++h){var u=o[h];if(!a.has(u)){l=!1;break}var c=a.get(u).Value;s=s.replace(u,c.toString())}l&&i.OutName.set(n.Name,s)}}n.DynamicValue&&i.OutValue.set(n.Name,n.DynamicValue)}},this.SetDynamicTitle=function(t,e,i){if(Ee.IsString(i)){var a=null;this.OverlayDynamicTitle.has(i)?a=this.OverlayDynamicTitle.get(i):(a={OutName:null,OutValue:null},this.OverlayDynamicTitle.set(i,a)),this.SetDynamicTitleData(t,e,a)}else this.SetDynamicTitleData(t,e,this.DynamicTitle)},this.GetDynamicOutName=function(t,e){if(Ee.IsString(e)){if(!this.OverlayDynamicTitle.has(e))return null;var i=this.OverlayDynamicTitle.get(e),a=i.OutName}else var a=this.DynamicTitle.OutName;return!a||a.size<=0?null:a.has(t)?a.get(t):null},this.GetDynamicOutValue=function(t,e){var i=this.DynamicTitle.OutValue;if(!i||i.size<=0)return null;if(!i.has(t))return null;var a=i.get(t);return a=a.replace("{Value}",e)},this.IsClickTitle=function(t,e){return!!this.TitleRect&&(t>this.TitleRect.Left&&t<this.TitleRect.Left+this.TitleRect.Width&&e>this.TitleRect.Top&&e<this.TitleRect.Top+this.TitleRect.Height)},this.FormatValue=function(t,e){return e.StringFormat==so.DEFAULT?Ee.FormatValueString(t,e.FloatPrecision,this.LanguageID):e.StringFormat==so.THOUSANDS?Ee.FormatValueThousandsString(t,e.FloatPrecision):e.StringFormat==so.ORIGINAL?t.toFixed(e.FloatPrecision).toString():e.StringFormat==so.INTEGER?Ee.FromatIntegerString(t,e.FloatPrecision,this.LanguageID):void 0},this.FormatMultiReport=function(t,e){var i="";for(var a in t){var r=t[a],n=r.Quarter,o=r.Year,s=r.Value;switch(i.length>0&&(i+=","),i+=o.toString(),n){case 1:i+="一季报 ";break;case 2:i+="半年报 ";break;case 3:i+="三季报 ";break;case 4:i+="年报 "}i+=this.FormatValue(s,e)}return i},this.FromatMultiDataLine=function(t,e){var i="";if(Array.isArray(t))for(var a=0;a<t.length;++a){var r=t[a];if(0!=r.Type&&Ee.IsNumber(r.Value)){var n=this.FormatValue(r.Value,e);i.length>0&&(i+=","),i+=n}}else 0!=t.Type&&Ee.IsNumber(t.Value)&&(i=this.FormatValue(t.Value,e));return i.length<=0?null:i},this.FromatStackedBarTitle=function(t,e){if(!Ee.IsNonEmptyArray(t))return null;if(!Ee.IsNonEmptyArray(e.Color))return null;for(var i=[],a=0;a<t.length;++a){var r=t[a];if(Ee.IsNumber(r)){var n={Text:r.toFixed(2)};e.Name&&e.Name[a]&&(n.Name=e.Name[a]),n.Color=e.Color[a],i.push(n)}}return i.length<=0?null:i},this.ForamtMultiLineTitle=function(t,e){if(!Ee.IsNonEmptyArray(e.Lines))return null;for(var i=[],a=0;a<e.Lines.length;++a)for(var r=e.Lines[a],n=0;n<r.Point.length;++n){var o=r.Point[n];if(o.Index==t){var o={Text:o.Value.toFixed(2)};0==i.length&&(o.Name=e.Name),o.Color=r.Color,i.push(o);break}}return Ee.IsNonEmptyArray(i)?i:null},this.ForamtMultiPointTitle=function(t,e){if(!Ee.IsNonEmptyArray(e.PointGroup))return null;for(var i=[],a=0;a<e.PointGroup.length;++a)for(var r=e.PointGroup[a],n=0;n<r.Point.length;++n){var o=r.Point[n];if(o.Index==t){var o={Text:o.Value.toFixed(2)};0==i.length&&(o.Name=e.Name),o.Color=r.BGColor,i.push(o);break}}return Ee.IsNonEmptyArray(i)?i:null},this.FormatVPVRTitle=function(t,e){var i=e.Chart,a=[];if(0==i.VolType){var r={Text:" Up/Down ",Color:this.TitleColor};a.push(r)}else{var r={Text:" Total ",Color:this.TitleColor};a.push(r)}if(!Ee.IsNumber(t.Y))return a;var n=this.Frame.ChartBorder.GetTopEx(),o=this.Frame.ChartBorder.GetBottomEx();if(t.Y<n||t.Y>o)return a;for(var s=this.Frame.GetYData(t.Y),l=null,h=0;h<e.Data.Data.length;++h){var r=e.Data.Data[h];if(s>=r.Price-e.Data.PriceOffset/2&&s<r.Price+e.Data.PriceOffset/2){l=r;break}}if(!l)return null;if(0==i.VolType){for(var u=0,h=0;h<l.Vol.length;++h){var c=l.Vol[h];if(Ee.IsNumber(c.Value)){var r={Text:Ee.FormatVolString(c.Value,this.LanguageID)};u+=c.Value,Ee.IsNumber(c.ColorID)?r.Color=i.BarColor[c.ColorID]:c.Color&&(r.Color=c.Color),a.push(r)}}var r={Text:Ee.FormatVolString(u,this.LanguageID),Color:this.TitleColor};a.push(r)}else if(l.TotalVol&&Ee.IsNumber(l.TotalVol.Value)){var r={Text:Ee.FormatVolString(l.TotalVol.Value,this.LanguageID)};Ee.IsNumber(l.TotalVol.ColorID)?r.Color=i.BarColor[l.TotalVol.ColorID]:l.TotalVol.Color&&(r.Color=l.TotalVol.Color),a.push(r)}return a},this.IsShowLastData=function(){var t=!1;if(this.DrawStatus&&this.DrawStatus.IsTitleShowLatestData){var e=this.DrawStatus;!Ee.IsNumber(e.FrameID)||e.FrameID<0?t=!0:e.CorssCursorTouchEnd&&0==e.IsOnTouch&&(t=!0)}else this.GlobalOption&&this.GlobalOption.IsDisplayLatest&&(t=!0);return t},this.OnDrawTitleEvent=function(){var t=this.GetEventCallback(Rn.ON_INDEXTITLE_DRAW);if(t){var e={Index:null,Data:this.Data,Title:this.Title,Script:this.Script,FrameID:this.Frame.Identify,OverlayIndex:this.OverlayIndex,IsShowTitleOnly:!1};if(this.ArgumentsText&&(e.ArgumentsText=this.ArgumentsText),this.Frame&&this.Frame.ChartBorder&&(e.IsShowTitleOnly=this.Frame.ChartBorder.IsShowTitleOnly),Ee.IsNumber(this.CursorIndex)){var i=Math.abs(this.CursorIndex);i=parseInt(i.toFixed(0)),e.Index=i}var a=c(),r=this.Frame.GetBorder();e.Left=r.LeftEx/a,e.Top=r.Top/a,e.Right=r.RightEx/a,t.Callback(t,e,this)}},this.IsSelectedChart=function(t){return!!t&&(!!this.SelectedChart&&(!!this.SelectedChart.Selected&&this.SelectedChart.Selected.Identify==t))},this.Draw=function(t,e){if(this.Buttons=[],!this.Frame.IsMinSize&&(this.IsKLineFrame="KLineFrame"==this.Frame.ClassName||"KLineHScreenFrame"==this.Frame.ClassName,this.IsDrawTitleBG=this.Frame.IsDrawTitleBG,this.IsShowNameArrow=this.Frame.IsShowNameArrow,this.IsShowUpDownArrow=this.Frame.IsShowTitleArraw,this.IsShowIndexName=this.Frame.IsShowIndexName,this.IsShowOverlayIndexName=this.Frame.IsShowOverlayIndexName,this.OverlayIndexType.Position=this.Frame.OverlayIndexType.Position,this.OverlayIndexType.LineSpace=this.Frame.OverlayIndexType.LineSpace,this.ParamSpace=this.Frame.IndexParamSpace,this.TitleSpace=this.Frame.IndexTitleSpace,this.TitleRect=null,this.GlobalOption=this.Frame.GlobalOption,this.OnDrawTitleEvent(),0!=this.Frame.IsShowIndexTitle&&!0!==lo.IsDOMFrameTitle&&this.Data&&!(this.Frame.ChartBorder.TitleHeight<5)&&(null!=this.CursorIndex||this.GlobalOption&&this.GlobalOption.IsDisplayLatest))){if(!0===this.Frame.IsHScreen)return this.Canvas.save(),this.HScreenDraw(),void this.Canvas.restore();var i=this.Frame.ChartBorder.GetLeft()+this.MerginLeft,a=this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.TitleHeight/2,r=this.Frame.ChartBorder.GetRight(),n={Width:0,YCenter:a};this.DrawToolbar(n,t,e),i+=n.Width,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font;var o=c();if(this.Title&&this.IsShowIndexName)if(this.IsDrawTitleBG){var s={Left:i,YCenter:a,Width:0};this.DrawNameButton(s,t,e),this.Buttons.push({ID:Vn.INDEX_NAME_BUTTON,Rect:s,FrameID:this.Frame.Identify,Type:2}),this.IsSelectedChart(this.Identify)&&this.DrawSelectedLine(i,a,l),this.TitleRect=s,i+=s.Width+3*o,i+=this.TitleSpace}else{var l=this.Canvas.measureText(this.Title).width+2;this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(this.Title,i,a,l),this.IsSelectedChart(this.Identify)&&this.DrawSelectedLine(i,a,l),i+=l,i+=this.TitleSpace}if(this.ArgumentsText&&this.IsShowIndexName){var l=this.Canvas.measureText(this.ArgumentsText).width+2;this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(this.ArgumentsText,i,a,l),i+=l,i+=this.TitleSpace}var h=this.IsShowLastData(),u=this.Frame.GetLockRect();if(u){var d=Math.abs(this.CursorIndex);this.IsKLineFrame&&(d=this.CursorIndex);if(this.Frame.GetXFromIndex(d.toFixed(0))>=u.Left)return;if(h)return}for(var f=0;f<this.Data.length;++f){var p=this.Data[f],m=this.GetTitleItem(p,h,f);if(m){var C=m.Text,v=m.ArrayText;if(v)for(var D,g=0;g<v.length;++g){var S=v[g];D=S.Name?S.Name+":"+S.Text:S.Text;var x=this.ParamSpace*c(),l=this.Canvas.measureText(D).width+x;if(i+l>r)break;if(S.BG){var b=this.Canvas.measureText("擎").width+2,l=this.Canvas.measureText(D).width+2,I={Left:i,Top:a-b/2,Width:l,Height:b};this.Canvas.fillStyle=S.BG,this.Canvas.fillRect(I.Left,I.Top-1,I.Width,I.Height),this.Canvas.fillStyle=S.Color,this.Canvas.fillText(D,I.Left+1,a,l),i+=l+x}else this.Canvas.fillStyle=S.Color,this.Canvas.fillText(D,i,a,l),i+=l}else{this.Canvas.fillStyle=p.Color;var D=C;if(p.Name){var T=this.GetDynamicOutName(p.Name);D=T?T+":"+C:p.Name+":"+C}var x=this.ParamSpace*c(),l=this.Canvas.measureText(D).width+x;if(i+l>r)break;this.Canvas.fillText(D,i,a,l),i+=l}}}if(this.Explain){this.Canvas.fillStyle=this.TitleColor;var D="说明:"+this.Explain,l=this.Canvas.measureText(D).width+2;i+l<r&&(this.Canvas.fillText(D,i,a,l),i+=l)}if(this.ColorIndex&&this.IsShowColorIndexTitle){this.Canvas.fillStyle=lo.Title.ColorIndexColor;var y=this.ColorIndex.Name+this.ColorIndex.Param,l=this.Canvas.measureText(y).width+2;this.Canvas.fillText(y,i,a,l),i+=l}if(this.TradeIndex&&this.IsShowTradeIndexTitle){this.Canvas.fillStyle=lo.Title.TradeIndexColor;var y=this.TradeIndex.Name+this.TradeIndex.Param,l=this.Canvas.measureText(y).width+2;this.Canvas.fillText(y,i,a,l),i+=l}1==this.OverlayIndexType.Position?this.Frame.ChartBorder.IsShowTitleOnly||this.DrawOverlayIndexSingleLine(t,e):this.DrawOverlayIndex(i+10*c())}},this.GetTitleItem=function(t,e,i){if(!t||!t.Data||!t.Data.Data)return null;if(Array.isArray(t.Data.Data)&&t.Data.Data.length<=0)return null;if(!1===t.IsShow)return null;if(!1===t.IsVisible)return null;var a=null,r=null,n=null,o=null;if("StraightLine"==t.DataType)n=t.Data.Data[0],a=this.FormatValue(n,t);else{if("ChartVolProfileVisibleRange"==t.ChartClassName)return r=this.FormatVPVRTitle(this.LastPoint,t),r?{Text:null,ArrayText:r}:null;if(e)var s=t.Data.Data.length-1;else{var l=Math.abs(this.CursorIndex);l=parseInt(l.toFixed(0)),this.IsKLineFrame&&(l=this.CursorIndex);var s=t.Data.DataOffset+l;if(s>=t.Data.Data.length&&(s=t.Data.Data.length-1),s<0)return null}if("ChartMultiLine"==t.DataType)return r=this.ForamtMultiLineTitle(s,t),r?{Text:null,ArrayText:r}:null;if("ChartMultiPoint"==t.DataType)return r=this.ForamtMultiPointTitle(s,t),r?{Text:null,ArrayText:r}:null;if(null==(n=t.Data.Data[s])&&"ChartStepLine"==t.ChartClassName){if(!(o=this.GetPreVaildItem(t.Data.Data,s)))return null;if(preText=this.FormatValue(o.Item,t),t.Name){var h=this.GetDynamicOutValue(t.Name,preText);h&&(preText=h)}return a="--("+preText+")",{Text:a,ArrayText:r}}if(null==n)return null;if("HistoryData-Vol"==t.DataType)n=n.Vol,a=this.FormatValue(n,t);else if("MultiReport"==t.DataType)a=this.FormatMultiReport(n,t);else if("MULTI_POINT_LINE"==t.DataType){if(!(a=this.FromatMultiDataLine(n,t)))return null}else{if("ChartStackedBar"==t.DataType)return r=this.FromatStackedBarTitle(n,t),r?{Text:null,ArrayText:r}:null;if(Ro.Has(t.DataType)){var u=Ro.Get(t.DataType);if(u&&u.FormatTitleCallback)return u.FormatTitleCallback(n,t,s)}else{if(this.GetEventCallback){var c=this.GetEventCallback(Rn.ON_FORMAT_INDEX_OUT_TEXT);if(c){var d={Item:t,Index:i,Data:this.Data,FrameID:this.Frame.Identify,DataIndex:s,Value:n,Out:null};if(c.Callback(c,d,this),d.Out)return d.Out}}var f=null;if(this.IsShowUpDownArrow){var p=null;s-1>=0&&(p=t.Data.Data[s-1]),Ee.IsNumber(p)&&(f=p>n?"↓":p<n?"↑":"→")}if(a=this.FormatValue(n,t),t.Name){var h=this.GetDynamicOutValue(t.Name,a);h&&(a=h)}f&&(a+=f)}}}return{Text:a,ArrayText:r}},this.GetPreVaildItem=function(t,e){for(var i=e;i>=0;--i){var a=t[i];if(a)return{Item:a,Index:i}}return null},this.DrawSelectedLine=function(t,e,i){this.Canvas.save();var a=this.GetFontHeight();this.Canvas.strokeStyle=this.SelectedColor;var r=D(4,e+a/2);this.Canvas.lineWidth=4,this.Canvas.beginPath(),this.Canvas.moveTo(t,r),this.Canvas.lineTo(t+i,r),this.Canvas.stroke(),this.Canvas.restore()},this.DrawOverlayIndexSingleLine=function(t,e){var i=c(),a=this.Frame.GetBorder();if(!0===this.Frame.IsHScreen)var r=1,n=2*i,o=this.Frame.ChartBorder.GetHeight(),s=this.Frame.ChartBorder.GetWidthEx();else var n=a.TopTitle+2*i,r=this.Frame.ChartBorder.GetLeft()+this.MerginLeft,o=a.Right,s=a.Bottom;var l=this.OverlayIndexType.LineSpace*i,h=r,u=n,f=d(this.Canvas,this.Font,"擎");u=n+f/2;var p=!0,m=!1,C=void 0;try{for(var v,D=(0,Fn.default)(this.OverlayIndex);!(p=(v=D.next()).done);p=!0){y=v.value;var g=y[1],S=y[0],x={Width:0,YCenter:u,ID:S};if(this.DrawOverlayToolbar(g,x,t,e),g.Frame.IsShowIndexTitle){if(h=r+x.Width,this.Canvas.font=this.Font,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",g.Title&&this.IsShowOverlayIndexName){var b=this.Canvas.measureText(g.Title).width+2;if(h+b<o){if(this.OverlayIndexType.BGColor){this.Canvas.fillStyle=this.OverlayIndexType.BGColor;var I={Left:h,Top:u-f/2,Width:b,Height:f+l};this.Canvas.fillRect(I.Left,I.Top,I.Width,I.Height)}this.IsSelectedChart(S)&&this.DrawSelectedLine(h,u,b,g.Title),this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(g.Title,h,u,b)}h+=b}for(var T=0;T<g.Data.length;++T){var y=g.Data[T];if(y&&y.Data&&y.Data.Data&&y.Name&&(!1!==y.IsVisible&&!(y.Data.Data.length<=0))){var w=null,E=null,F=null;if("StraightLine"==y.DataType)w=y.Data.Data[0],E=this.FormatValue(w,y);else{var L=Math.abs(this.CursorIndex-.5);L=parseInt(L.toFixed(0)),this.IsKLineFrame&&(L=this.CursorIndex);var M=y.Data.DataOffset+L;if(M>=y.Data.Data.length&&(M=y.Data.Data.length-1),M<0)continue;if(null==(w=y.Data.Data[M]))continue;if("HistoryData-Vol"==y.DataType)w=w.Vol,E=this.FormatValue(w,y);else if("MultiReport"==y.DataType)E=this.FormatMultiReport(w,y);else if("ChartStackedBar"==y.DataType){if(!(F=this.FromatStackedBarTitle(w,y)))continue}else E=this.FormatValue(w,y)}if(F)for(var A,O=0;O<F.length;++O){var N=F[O];A=N.Name?N.Name+":"+N.Text:N.Text;var b=this.Canvas.measureText(A).width+2;if(h+b>o)break;if(this.OverlayIndexType.BGColor){this.Canvas.fillStyle=this.OverlayIndexType.BGColor;var I={Left:h,Top:u-f/2,Width:b,Height:f+l};this.Canvas.fillRect(I.Left,I.Top,I.Width,I.Height)}this.Canvas.fillStyle=N.Color,this.Canvas.fillText(A,h,u,b),h+=b}else{var A=E;if(y.Name){var _=this.GetDynamicOutName(y.Name,S);A=_?_+":"+E:y.Name+":"+E}var b=this.Canvas.measureText(A).width+2;if(h+b>o)break;if(this.OverlayIndexType.BGColor){this.Canvas.fillStyle=this.OverlayIndexType.BGColor;var I={Left:h,Top:u-f/2,Width:b,Height:f+l};this.Canvas.fillRect(I.Left,I.Top,I.Width,I.Height)}this.Canvas.fillStyle=y.Color,this.Canvas.fillText(A,h,u,b),h+=b}}}if((u+=f+l)+f+l>=s)break}}}catch(t){m=!0,C=t}finally{try{!p&&D.return&&D.return()}finally{if(m)throw C}}},this.DrawOverlayIndex=function(t){var e=this.Frame.ChartBorder.GetTop()+this.Frame.ChartBorder.TitleHeight/2,i=this.Frame.ChartBorder.GetRight();if(!0===this.Frame.IsHScreen&&(e=-this.Frame.ChartBorder.TitleHeight/2,i=this.Frame.ChartBorder.GetHeight()),!(t>i)){var a=5*c(),r=t,n=!0,o=!1,s=void 0;try{for(var l,h=(0,Fn.default)(this.OverlayIndex);!(n=(l=h.next()).done);n=!0){m=l.value,t+=a;var u=m[1],d=m[0];if(u.Title&&this.IsShowOverlayIndexName){this.Canvas.fillStyle=this.TitleColor;var f=this.Canvas.measureText(u.Title).width+2;if(r=t,(t+=f)>i)break;this.Canvas.fillText(u.Title,r,e,f),this.IsSelectedChart(d)&&this.DrawSelectedLine(r,e,f)}for(var p in u.Data){var m=u.Data[p];if(m&&m.Data&&m.Data.Data&&m.Name&&!(m.Data.Data.length<=0)){var C=null,v=null;if("StraightLine"==m.DataType)C=m.Data.Data[0],v=this.FormatValue(C,m);else{var D=Math.abs(this.CursorIndex-.5);D=parseInt(D.toFixed(0)),this.IsKLineFrame&&(D=this.CursorIndex);var g=m.Data.DataOffset+D;if(g>=m.Data.Data.length&&(g=m.Data.Data.length-1),g<0)continue;if(null==(C=m.Data.Data[g]))continue;"HistoryData-Vol"==m.DataType?(C=C.Vol,v=this.FormatValue(C,m)):v="MultiReport"==m.DataType?this.FormatMultiReport(C,m):this.FormatValue(C,m)}this.Canvas.fillStyle=m.Color;var S=m.Name+":"+v,f=this.Canvas.measureText(S).width+2;if(r=t,(t+=f)>i)break;this.Canvas.fillText(S,r,e,f)}}if(t>i)break}}catch(t){o=!0,s=t}finally{try{!n&&h.return&&h.return()}finally{if(o)throw s}}}},this.HScreenDraw=function(){var t=this.Frame.ChartBorder.GetHScreenBorder(),e=this.Frame.ChartBorder.GetRightTitle(),i=t.TopEx;this.Canvas.translate(e,i),this.Canvas.rotate(90*Math.PI/180);var a=1,r=-this.Frame.ChartBorder.TitleHeight/2,n=this.Frame.ChartBorder.GetHeight();this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.font=this.Font;var o=c();if(this.Title&&this.IsShowIndexName){var s=this.Canvas.measureText(this.Title).width+2;if(this.IsDrawTitleBG){var l=this.Title;this.IsShowNameArrow&&(l+="▼");var s=this.Canvas.measureText(l).width,h=this.Canvas.measureText("擎").width+4*o,u=s+4*o;this.TitleRect={Top:t.Top,Left:this.Frame.ChartBorder.GetRightTitle()+this.Frame.ChartBorder.TitleHeight/2-h/2,Width:h,Height:u},this.Canvas.fillStyle=this.BGColor;var d={Left:a,Top:r-h/2,Width:u,Height:h};this.Canvas.fillRect(d.Left,d.Top,d.Width,d.Height),this.BGBorderColor&&(this.Canvas.strokeStyle=this.BGBorderColor,this.Canvas.strokeRect(v(d.Left),v(d.Top),g(d.Width),g(d.Height))),this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(l,a+2*o,r,s),a+=u+2*o,a+=this.TitleSpace}else this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(this.Title,a,r,s),a+=s,a+=this.TitleSpace}if(this.ArgumentsText&&this.IsShowIndexName){var s=this.Canvas.measureText(this.ArgumentsText).width+2;this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(this.ArgumentsText,a,r,s),a+=s,a+=this.TitleSpace}var f=this.IsShowLastData(),p=this.Frame.GetLockRect();if(p){var m=Math.abs(this.CursorIndex-.5);this.IsKLineFrame&&(m=this.CursorIndex);if(this.Frame.GetXFromIndex(m.toFixed(0))>=p.Top)return;if(f)return}for(var C in this.Data){var D=this.Data[C],S=this.GetTitleItem(D,f);if(S){var x=S.Text,b=S.ArrayText;if(b)for(var I,T=0;T<b.length;++T){var y=b[T];I=y.Name?y.Name+":"+y.Text:y.Text;var w=this.ParamSpace*c(),s=this.Canvas.measureText(I).width+w;if(a+s>n)break;this.Canvas.fillStyle=y.Color,this.Canvas.fillText(I,a,r,s),a+=s}else{this.Canvas.fillStyle=D.Color;var I=x;if(D.Name){var E=this.GetDynamicOutName(D.Name);I=E?E+":"+x:D.Name+":"+x}var w=this.ParamSpace*c(),s=this.Canvas.measureText(I).width+w;if(a+s>n)break;this.Canvas.fillText(I,a,r,s),a+=s}}}if(this.Explain){this.Canvas.fillStyle=this.TitleColor;var I="说明:"+this.Explain,s=this.Canvas.measureText(I).width+2;a+s<n&&(this.Canvas.fillText(I,a,r,s),a+=s)}1==this.OverlayIndexType.Position?this.Frame.ChartBorder.IsShowTitleOnly||this.DrawOverlayIndexSingleLine():this.DrawOverlayIndex(a+5*c())},this.OnDrawEventCallback=function(t){if(this.OnDrawEvent&&this.OnDrawEvent.Callback){var e={Draw:t,Name:"DynamicChartTitlePainting"};this.OnDrawEvent.Callback(this.OnDrawEvent,e,this)}},this.GetFontHeight=function(t){return d(this.Canvas,t,"擎")},this.DrawNameButton=function(t,e,i){var a=c(),r=this.Title;this.IsShowNameArrow&&(r+="▼");var n=this.Canvas.measureText(r).width,o=this.Canvas.measureText("擎").width+4*a,s=this.BorderRoundRadius*a,l=n+4*a+2*s;t.Top=t.YCenter-o/2-1,t.Width=l,t.Height=o,t.Right=t.Left+t.Width,t.Bottom=t.Top+t.Height;var h=this.BGBorderColor;if(e&&e.X>=t.Left&&e.X<t.Right&&e.Y>=t.Top&&e.Y<=t.Bottom&&(this.BGBorderMoveOnColor&&(h=this.BGBorderMoveOnColor),i)){var u={ID:Vn.INDEX_NAME_BUTTON};i.MouseOnToolbar={ID:"IndexNameButton",Rect:t,Item:u,Frame:this.Frame,Point:{X:e.X,Y:e.Y}}}this.Canvas.beginPath(),this.Canvas.roundRect(v(t.Left),v(t.Top),g(t.Width),g(t.Height),[s]),this.Canvas.closePath(),this.Canvas.fillStyle=this.BGColor,this.Canvas.fill(),h&&(this.Canvas.strokeStyle=h,this.Canvas.stroke()),this.Canvas.fillStyle=this.TitleColor,this.Canvas.fillText(r,t.Left+s+2*a,t.YCenter,n)},this.DrawButton=function(t,e,i,a){var r=t.Style.Size;Ee.IsNumber(t.Style.YMoveOffset)&&(e.YCenter+=t.Style.YMoveOffset);var n=r+"px "+t.Style.Family;e.Top=e.YCenter-r/2,e.Width=r+t.Style.MerginLeft,e.Height=r,e.Bottom=e.Top+e.Height,e.Right=e.Left+e.Width;var o=t.Style.Color;return i&&i.X>=e.Left&&i.X<e.Right&&i.Y>=e.Top&&i.Y<=e.Bottom&&(o=t.Style.MoveOnColor,a&&(a.MouseOnToolbar={ID:"TitleButton",Rect:e,Item:t,Frame:this.Frame,Point:{X:i.X,Y:i.Y}})),this.Canvas.fillStyle=o,this.Canvas.font=n,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(t.Style.Text,e.Left,e.YCenter),!0},this.DrawToolbar=function(t,e,i){if(t.Width=0,this.Frame&&this.Frame.GetLeftToolbar){var a=this.Frame.GetLeftToolbar();if(Ee.IsNonEmptyArray(a))if(!0===this.Frame.IsHScreen);else{for(var r=this.Frame.GetBorder(),n=(r.Right,r.Left+3),o=t.YCenter,s=0;s<a.length;++s){var l=a[s],h={Left:n,YCenter:o};this.DrawButton(l,h,e,i),this.Buttons.push({ID:l.ID,Rect:h,FrameID:this.Frame.Identify,Type:0}),n=h.Right,t.Width+=h.Width}t.Width>0&&(t.Width+=3)}}},this.DrawOverlayToolbar=function(t,e,i,a){if(e.Width=0,t&&t.Frame&&t.Frame.GetLeftToolbar){var r=t.Frame,n=r.GetLeftToolbar({Overlay:t,OverlayID:e.ID});if(Ee.IsNonEmptyArray(n))if(!0===this.Frame.IsHScreen);else{for(var o=r.GetBorder(),s=(o.Right,o.Left+3),l=e.YCenter,h=0;h<n.length;++h){var u=n[h],c={Left:s,YCenter:l};this.DrawButton(u,c,i,a),this.Buttons.push({ID:u.ID,Rect:c,FrameID:this.Frame.Identify,Type:1,OverlayID:e.ID,Title:t.Title}),s=c.Right,e.Width+=c.Width}e.Width>0&&(e.Width+=3)}}},this.PtInButtons=function(t,e){for(var i=0;i<this.Buttons.length;++i){var a=this.Buttons[i];if(a.Rect){var r=a.Rect;if(t>r.Left&&t<r.Right&&e>r.Top&&e<r.Bottom){var n={ID:a.ID,Rect:r,FrameID:a.FrameID,Type:a.Type};return 1==a.Type&&(n.Title=a.Title,n.OverlayID=a.OverlayID),n}}}return null}}function ai(){this.Frame,this.Canvas,this.Point=new Array,this.Value=new Array,this.LinePoint=[],this.PointCount=2,this.Status=0,this.PointStatus=0,this.MovePointIndex=null,this.ClassName="IChartDrawPicture",this.FinishedCallback,this.Guid=m(),this.Symbol,this.Period,this.Right,this.IsSelected=!1,this.Option,this.EnableMove=!0,this.EnableSave=!0,this.EnableCtrlMove=!1,this.OnlyMoveXIndex=!1,this.IsSupportMagnet=!1,this.IsDrawFirst=!1,this.IsShowYCoordinate=!1,this.LineColor=lo.DrawPicture.LineColor[0],this.LineWidth=2,this.BackupLineWidth=null,this.AreaColor="rgba(25,25,25,0.4)",this.PointColor=lo.DrawPicture.PointColor[0],this.MoveOnPointColor=lo.DrawPicture.PointColor[1],this.PointBGColor=lo.DrawPicture.PointColor[2],this.PointRadius=5,this.SquareSize=8,this.PointType=lo.DrawPicture.PointType,this.IsShowPoint=lo.DrawPicture.IsShowPoint,this.LimitFrameID,this.SetLastPoint=null,this.Update=null,this.GetActiveDrawPicture=null,this.GetYCoordinatePoint=null,this.Draw=function(){},this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.LineWidth>0&&(this.LineWidth=t.LineWidth),t.AreaColor&&(this.AreaColor=t.AreaColor),t.PointColor&&(this.PointColor=t.PointColor),t.MoveOnPointColor&&(this.SelectPointColor=t.PointColor),t.PointRadius&&(this.PointRadius=t.PointRadius),Ee.IsNumber(t.SquareSize)&&(this.SquareSize=t.SquareSize),Ee.IsBool(t.IsShowPoint)&&(this.IsShowPoint=t.IsShowPoint),Ee.IsNumber(t.LimitFrameID)&&(this.LimitFrameID=t.LimitFrameID),Ee.IsBool(t.EnableCtrlMove)&&(this.EnableCtrlMove=t.EnableCtrlMove),Ee.IsBool(t.IsShowYCoordinate)&&(this.IsShowYCoordinate=t.IsShowYCoordinate))},this.ReloadResource=function(t){t||(this.PointColor=lo.DrawPicture.PointColor[0],this.MoveOnPointColor=lo.DrawPicture.PointColor[1],this.PointBGColor=lo.DrawPicture.PointColor[2])},this.SetLineWidth=function(){this.BackupLineWidth=null,this.LineWidth>0&&(this.BackupLineWidth=this.Canvas.lineWidth,this.Canvas.lineWidth=this.LineWidth*c())},this.GetFontHeight=function(t){return d(this.Canvas,t,"擎")},this.RestoreLineWidth=function(){null!=this.BackupLineWidth&&(this.Canvas.lineWidth=this.BackupLineWidth)},this.PointMagnetKLine=function(){if(!this.IsSupportMagnet)return!1;if(!this.Frame)return!1;if("MinuteFrame"==this.Frame.ClassName||"MinuteHScreenFrame"==this.Frame.Class)return!1;if(0!=this.Frame.Identify)return!1;var t=-1;if(2==this.Status?t=1:1==this.Status?t=0:Ee.IsNumber(this.MovePointIndex)&&(t=this.MovePointIndex),t<0)return!1;if(this.Option&&this.Option.Magnet&&this.Option.Magnet.Enable){var e={IsFixedX:!1,Magnet:{Enable:!0,PointIndex:t,Distance:this.Option.Magnet.Distance,Type:this.Option.Magnet.Type}};return this.AdjustPoint(this.Point,e)}return!1},this.PointToValue=function(){return!!this.Frame&&("MinuteFrame"==this.Frame.ClassName||"MinuteHScreenFrame"==this.Frame.Class?this.PointToValue_Minute():this.PointToValue_KLine())},this.PointToKLine=function(t){if(!this.Frame)return null;var e=this.Frame.Data;if(!e)return null;var i=[];if(this.Frame.IsHScreen)for(var a in t){var r=t[a],n=parseInt(this.Frame.GetXData(r.Y))+e.DataOffset,o=this.Frame.GetYData(r.X),s={XValue:n,YValue:o},l=e.Data[n];s.DateTime={Date:l.Date},Ee.IsNumber(l.Time)&&(s.DateTime.Time=l.Time),i[a]=s}else for(var a in t){var r=t[a],h=parseInt(this.Frame.GetXData(r.X,!1)),n=h+e.DataOffset;n<0?n=0:n>=e.Data.length&&(n=e.Data.length-1,h=n-e.DataOffset);var o=this.Frame.GetYData(r.Y,!1),s={XValue:n,YValue:o,XIndex:h},l=e.Data[n];s.DateTime={Date:l.Date},Ee.IsNumber(l.Time)&&(s.DateTime.Time=l.Time),i[a]=s}return i},this.PointToValue_KLine=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;if(this.Frame.IsHScreen)for(var e in this.Point){var i=this.Point[e],a=parseInt(this.Frame.GetXData(i.Y,!1))+t.DataOffset,r=this.Frame.GetYData(i.X,!1),n={XValue:a,YValue:r},o=t.Data[a];n.DateTime={Date:o.Date},Ee.IsNumber(o.Time)&&(n.DateTime.Time=o.Time),this.Value[e]=n}else for(var e in this.Point){var i=this.Point[e],a=parseInt(this.Frame.GetXData(i.X,!1))+t.DataOffset;a<0?a=0:a>=t.Data.length&&(a=t.Data.length-1);var r=this.Frame.GetYData(i.Y,!1),n={XValue:a,YValue:r},o=t.Data[a];n.DateTime={Date:o.Date},Ee.IsNumber(o.Time)&&(n.DateTime.Time=o.Time),this.Value[e]=n}return!0},this.PointToValue_Minute=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;if(this.Frame.IsHScreen)for(var e=0;e<this.Point.length;++e){var i=this.Point[e],a=parseInt(this.Frame.GetXData(i.Y)),r=this.Frame.GetYData(i.X),n={XValue:a,YValue:r},o=t.Data[a];n.DateTime={Date:o.Date,Time:o.Time},this.Value[e]=n}else for(var s=mo.GetTimeData(this.Symbol),e=0;e<this.Point.length;++e){var i=this.Point[e],a=parseInt(this.Frame.GetXData(i.X)),r=this.Frame.GetYData(i.Y);if(a>=t.Data.length){var l=a%s.length,h=t.Data.length-1,n={XValue:a,YValue:r},o=t.Data[h],u=s[l];n.DateTime={Date:o.Date,Time:u},this.Value[e]=n}else{var n={XValue:a,YValue:r},o=t.Data[a];n.DateTime={Date:o.Date,Time:o.Time},this.Value[e]=n}}return!0},this.IsPointIn=function(t,e,i){return!1},this.ValueToPoint=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;var e=this.Frame.IsHScreen;this.Point=[];for(var i=0;i<this.Value.length;++i){var a=this.Value[i],r=new b;e?(r.Y=this.Frame.GetXFromIndex(a.XValue-t.DataOffset,!1),r.X=this.Frame.GetYFromData(a.YValue,!1)):(r.X=this.Frame.GetXFromIndex(a.XValue-t.DataOffset,!1),r.Y=this.Frame.GetYFromData(a.YValue,!1)),this.Point[i]=r}},this.UpdateXValue=function(){if(!this.Frame)return!1;var t=this.Frame.Data;if(!t)return!1;for(var e=[],i=0;i<this.Value.length;++i){var a=this.Value[i];if(!a.DateTime)break;var r={Date:a.DateTime.Date};Ee.IsNumber(a.DateTime.Time)&&(r.Time=a.DateTime.Time),e[i]=r}t.FindDataIndexByDateTime(e);for(var i in e){var n=e[i],o=this.Value[i];n.Index>=0&&(o.XValue=n.Index)}},this.Move=function(t,e){if(20!=this.Status)return fasle;if(!this.Frame)return!1;if(!this.Frame.Data)return!1;if(null==this.MovePointIndex)return!1;var i=parseInt(this.MovePointIndex);if(100===i)for(var a in this.Point)this.Point[a].X+=t,this.Point[a].Y+=e;else{if(0!==i&&1!==i&&2!==i&&3!==i&&4!==i&&5!==i)return!1;i<this.Point.length&&(this.Point[i].X+=t,this.Point[i].Y+=e)}},this.ClipFrame=function(){if(this.Frame.IsHScreen)var t=this.Frame.ChartBorder.GetLeftEx(),e=this.Frame.ChartBorder.GetTop(),i=this.Frame.ChartBorder.GetWidthEx(),a=this.Frame.ChartBorder.GetHeight();else var t=this.Frame.ChartBorder.GetLeft(),e=this.Frame.ChartBorder.GetTopEx(),i=this.Frame.ChartBorder.GetWidth(),a=this.Frame.ChartBorder.GetHeightEx();this.Canvas.save(),this.Canvas.beginPath(),this.Canvas.rect(t,e,i,a),this.Canvas.clip()},this.CalculateDrawPoint=function(t){if(this.Status<2)return null;if(!this.Point.length||!this.Frame)return null;var e=[];if(10==this.Status){var i=this.Frame.Data;if(!i)return null;for(var a=this.Frame.XPointCount,r=0,n=this.Frame.IsHScreen,o=0;o<this.Value.length;++o){var s=this.Value[o],l=s.XValue-i.DataOffset;(l<0||l>=a)&&++r;var h=new b;n?(h.Y=this.Frame.GetXFromIndex(s.XValue-i.DataOffset,!1),h.X=this.Frame.GetYFromData(s.YValue,!1)):(h.X=this.Frame.GetXFromIndex(s.XValue-i.DataOffset,!1),h.Y=this.Frame.GetYFromData(s.YValue,!1)),e.push(h)}if(t&&!0===t.IsCheckX&&r==this.Value.length)return null}else{for(var o=0;o<this.Point.length;++o){var s=this.Point[o];e.push({X:s.X,Y:s.Y})}if(this.OnlyMoveXIndex){var t={IsFixedX:this.OnlyMoveXIndex};if(Nn.Chart.Log("[IChartDrawPicture::CalculateDrawPoint] Status="+this.Status+" MovePointIndex="+this.MovePointIndex+" Identify="+this.Frame.Identify),this.Option&&this.Option.Magnet&&this.Option.Magnet.Enable&&this.IsSupportMagnet&&0==this.Frame.Identify){var u=-1;2==this.Status&&(u=1),Ee.IsNumber(this.MovePointIndex)&&(u=this.MovePointIndex),u>=0&&(t.Magnet={Enable:!0,PointIndex:u,Distance:this.Option.Magnet.Distance,Type:this.Option.Magnet.Type})}this.AdjustPoint(e,t)}}return e},this.AdjustPoint=function(t,e){return!!this.Frame&&("MinuteFrame"!=this.Frame.ClassName&&"MinuteHScreenFrame"!=this.Frame.Class&&this.AdjustPoint_KLine(t,e))},this.AdjustPoint_KLine=function(t,e){if(!e)return!1;if(!this.Frame)return!1;var i=this.Frame.Data;if(!i)return!1;if(this.Frame.IsHScreen)for(var a=0;a<t.length;++a)var r=t[a],n=parseInt(this.Frame.GetXData(r.Y))+i.DataOffset;else for(var a=0;a<t.length;++a){var r=t[a],o=parseInt(this.Frame.GetXData(r.X,!1)),n=o+i.DataOffset;if(n<0?n=0:n>=i.Data.length&&(n=i.Data.length-1),e.IsFixedX&&(o=n-i.DataOffset,r.X=this.Frame.GetXFromIndex(o,!1)),e.Magnet&&e.Magnet.Enable&&a==e.Magnet.PointIndex){for(var s=i.Data[n],l=[s.Open,s.High,s.Low,s.Close],h=null,u=null,c=0;c<l.length;++c){var d=this.Frame.GetYFromData(l[c]),f=Math.abs(r.Y-d);(!Ee.IsNumber(h)||h>f)&&(h=f,u=d)}1==e.Magnet.Type?Ee.IsNumber(u)&&(r.Y=u):h<e.Magnet.Distance&&Ee.IsNumber(u)&&(r.Y=u)}}},this.IsYValueInFrame=function(t){return!!this.Frame&&!(t>this.Frame.HorizontalMax||t<this.Frame.HorizontalMin)},this.DrawPoint=function(t){if(Ee.IsNonEmptyArray(t)){var e=this.PointColor,i=!1;if(this.IsShowPoint);else if(this.GetActiveDrawPicture){var a=this.GetActiveDrawPicture();if(a.Move.Guid!=this.Guid&&a.Select.Guid!=this.Guid&&a.MoveOn.Guid!=this.Guid)return;a.Select.Guid!=this.Guid&&a.MoveOn.Guid==this.Guid&&(i=!0,e=this.MoveOnPointColor)}this.ClipFrame();var r=c();this.Canvas.fillStyle=e,2==this.PointType&&(this.Canvas.fillStyle=this.PointBGColor,this.Canvas.strokeStyle=this.PointColor,this.Canvas.lineWidth=i?1*r:2*r);for(var n=0;n<t.length;++n){var o=t[n];if(1==this.PointType){var s=this.SquareSize*r,l=o.X-s/2,h=o.Y-s/2;this.Canvas.fillRect(l,h,s,s)}else if(2==this.PointType){var u=new Path2D;u.arc(o.X,o.Y,this.PointRadius*r,0,360,!1),this.Canvas.fill(u),this.Canvas.stroke(u)}else this.Canvas.beginPath(),this.Canvas.arc(o.X,o.Y,this.PointRadius*r,0,360,!1),this.Canvas.fill(),this.Canvas.closePath()}this.Canvas.restore()}},this.CalculateExtendLinePoint=function(t,e){var i={},a=(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetRight(),this.Frame.ChartBorder.GetTopEx()),r=this.Frame.ChartBorder.GetBottom(),n=e.X-t.X,o=e.Y-t.Y;if(n>0){var s=r-t.Y,l=n*s/o,h=new b;h.X=t.X+l,h.Y=r,i.End=h;var s=e.Y-a,l=n*s/o,u=new b;u.Y=a,u.X=e.X-l,i.Start=u}else{var s=r-t.Y,l=Math.abs(n)*s/o,h=new b;h.X=t.X-l,h.Y=r,i.End=h;var s=e.Y-a,l=Math.abs(n)*s/o,u=new b;u.Y=a,u.X=e.X+l,i.Start=u}return i},this.CalculateExtendLineEndPoint=function(t){var e=this.Frame.ChartBorder.GetLeft(),i=this.Frame.ChartBorder.GetRight(),a=this.Frame.ChartBorder.GetBottomEx(),r=this.Frame.ChartBorder.GetTopEx(),n=t[1].X-t[0].X,o=t[1].Y-t[0].Y;if(n>0){var s=i-t[0].X,l=s*o/n,h=l+t[0].Y;if(h>=r&&h<=a){var u=new b;return u.X=i,u.Y=h,u}if(o>0){var c=a-t[0].Y,d=n*c/o,f=d+t[0].X,p=new b;return p.X=f,p.Y=a,p}var c=r-t[0].Y,d=n*c/o,f=d+t[0].X,p=new b;return p.X=f,p.Y=r,p}var s=t[0].X-e,l=s*o/Math.abs(n),h=l+t[0].Y;if(h>=r&&h<=a){var u=new b;return u.X=e,u.Y=h,u}if(o>0){var c=a-t[0].Y,d=n*c/o,f=d+t[0].X,p=new b;return p.X=f,p.Y=a,p}var c=r-t[0].Y,d=n*c/o,f=d+t[0].X,p=new b;return p.X=f,p.Y=r,p},this.IsPointInXYValue=function(t,e,i){if(!this.Frame)return-1;var a=this.Frame.Data;if(!a)return-1;if(!this.Value)return-1;var r=5;i&&Ee.IsNumber(i.Zoom)?r+=i.Zoom:this.Option&&Ee.IsNumber(this.Option.Zoom)&&(r+=this.Option.Zoom);var n=this.Frame.IsHScreen;r*=c();for(var o=0;o<this.Value.length;++o){var s=this.Value[o],l=new b;if(n?(l.Y=this.Frame.GetXFromIndex(s.XValue-a.DataOffset),l.X=this.Frame.GetYFromData(s.YValue)):(l.X=this.Frame.GetXFromIndex(s.XValue-a.DataOffset),l.Y=this.Frame.GetYFromData(s.YValue)),this.Canvas.beginPath(),this.Canvas.arc(l.X,l.Y,r,0,360),this.Canvas.isPointInPath(t,e))return o}return-1},this.IsPointInLine=function(t,e,i){if(!this.LinePoint)return-1;var a=5;i&&Ee.IsNumber(i.Zoom)?a+=i.Zoom:this.Option&&Ee.IsNumber(this.Option.Zoom)&&(a+=this.Option.Zoom),a*=c();for(var r=0;r<this.LinePoint.length;++r){var n=this.LinePoint[r],o=n.Start,s=n.End;if(this.Canvas.beginPath(),o.X==s.X?(this.Canvas.moveTo(o.X-a,o.Y),this.Canvas.lineTo(o.X+a,o.Y),this.Canvas.lineTo(s.X+a,s.Y),this.Canvas.lineTo(s.X-a,s.Y)):(this.Canvas.moveTo(o.X,o.Y+a),this.Canvas.lineTo(o.X,o.Y-a),this.Canvas.lineTo(s.X,s.Y-a),this.Canvas.lineTo(s.X,s.Y+a)),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e))return r}return-1},this.IsPointIn_XYValue_Line=function(t,e,i){if(10!=this.Status)return-1;var a=this.IsPointInXYValue(t,e,i);return a>=0?a:(a=this.IsPointInLine(t,e,i),a>=0?100:-1)},this.DrawLine=function(t,e,i){i&&this.Canvas.setLineDash([5,10]),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke(),i&&this.Canvas.setLineDash([])},this.CreateLineData=function(t,e){var i={Start:new b,End:new b};return i.Start.Y=t.Y,i.Start.X=t.X,i.End.Y=e.Y,i.End.X=e.X,i},this.ExportStorageData=function(){for(var t={ClassName:this.ClassName,Symbol:this.Symbol,Guid:this.Guid,Period:this.Period,Value:[],FrameID:this.Frame.Identify,LineColor:this.LineColor,AreaColor:this.AreaColor,LineWidth:this.LineWidth,Right:this.Right,EnableSave:this.EnableSave,IsShowYCoordinate:this.IsShowYCoordinate},e=0;e<this.Value.length;++e){var i=this.Value[e];t.Value.push({XValue:i.XValue,YValue:i.YValue,DateTime:i.DateTime})}return this.Text&&(t.Text=this.Text),this.FontOption&&(t.FontOption=this.FontOption),t},this.ExportBaseData=function(){var t={ClassName:this.ClassName,Guid:this.Guid,FrameID:this.Frame.Identify,Symbol:this.Symbol,Period:this.Period,Right:this.Right,LineColor:this.LineColor,LineWidth:this.LineWidth,EnableSave:this.EnableSave,IsShowYCoordinate:this.IsShowYCoordinate};return this.AreaColor&&(t.AreaColor=this.AreaColor),this.Text&&(t.Text=this.Text),this.FontOption&&(t.FontOption={},this.SetFont(t.FontOption,this.FontOption)),t},this.IsFrameMinSize=function(){return this.Frame&&this.Frame.IsMinSize},this.PointRange=function(t){if(!Ee.IsNonEmptyArray(t))return null;if(1==t.length){var e={Points:[{X:t[0].X,Y:t[0].Y}]};return e}for(var i=t[0].X,a=i,r=t[0].Y,n=r,o=[{X:t[0].X,Y:t[0].Y}],s=1;s<t.length;++s)i<t[s].X&&(i=t[s].X),a>t[s].X&&(a=t[s].X),r<t[s].Y&&(r=t[s].Y),n>t[s].Y&&(n=t[s].Y),o.push({X:t[s].X,Y:t[s].Y});var e={X:{Max:{X:i},Min:{X:a}},Y:{Max:{Y:r},Min:{Y:n}},Points:o};return e},this.GetXYCoordinate_default=function(){if(this.IsFrameMinSize())return null;var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});return this.PointRange(t)},this.GetXYCoordinate=function(){return null},this.CopyData_default=function(){if(!this.Frame)return null;var t=this.ExportStorageData();if(!t)return null;var e=0;if("MinuteFrame"==this.Frame.ClassName||"MinuteHScreenFrame"==this.Frame.Class);else{var i=this.Frame.Data;if(!i)return null;e=i.DataOffset}for(var a=this.Frame.ChartBorder.GetHeight(),r=this.Frame.ChartBorder.GetBottomEx()-this.Point[0].Y,n=0;n<t.Value.length;++n){var o=t.Value[n],s=this.Point[n];if(o.XIndex=o.XValue-e+1,0==n)o.XOffset=0,o.YOffset=0;else{var l=t.Value[n-1],h=this.Point[n-1];o.XOffset=o.XValue-l.XValue,o.YOffset=s.Y-h.Y}}return t.DataOffset=e,t.YFristScale=r/a,t.Height=a,t},this.SetFont=function(t,e){e&&t&&(e.Family&&(t.Family=e.Family),e.Weight&&(t.Weight=e.Weight),e.Style&&(t.Style=e.Style),Ee.IsNumber(e.Size)&&(t.Size=e.Size))},this.GetFontString=function(t){var e=16*c()+"px 微软雅黑";if(!t||!t.Family||!Ee.IsPlusNumber(t.Size))return e;var i="";return t.Color&&(i+=t.Color+" "),t.Style&&(i+=t.Style+" "),t.Weight&&(i+=t.Weight+" "),i+=t.Size*c()+"px ",i+=t.Family},this.GetMultiLineText=function(t,e,i,a){i&&(this.Canvas.font=i);var r=this.Canvas.measureText(t).width;if(r<=e)return{AryText:[{Text:t}]};for(var n=this.Canvas.measureText("擎").width,o=parseInt(e/n),s=0,l=[];s<t.length-1;){var h=o,u=s+h;u>=t.length&&(u=t.length-1,h=u-s);var c=t.slice(s,s+h),r=this.Canvas.measureText(c).width;if(r>e){for(var d=h;d>=0;--d)if(c=t.slice(s,s+d),(r=this.Canvas.measureText(c).width)<e){l.push({Text:c}),s+=d;break}}else if(r<e){for(var f=!1,d=h;d+s<=t.length;++d)if(c=t.slice(s,s+d),(r=this.Canvas.measureText(c).width)>e){c=t.slice(s,s+d-1),l.push({Text:c}),s+=d-1,f=!0;break}f||(l.push({Text:c}),s=t.length-1)}else l.push({Text:c}),s+=h}return{AryText:l}},this.CloneArrayText=function(t){if(!Ee.IsNonEmptyArray(t))return[];for(var e=[],i=0;i<t.length;++i){var a=t[i];a&&e.push({Text:a.Text})}return e},this.CalculateAngle=function(t,e,i,a){var r=Math.abs(t-i),n=Math.abs(e-a),o=Math.sqrt(Math.pow(r,2)+Math.pow(n,2)),s=r/o,l=Math.acos(s),h=180/(Math.PI/l);return i==t&&a<e?90:i==t&&a>e?270:i>t&&a==e?0:i<t&&a==e?180:i>t&&a>e?360-h:i<t&&a>e?180+h:i<t&&a<e?180-h:h}}function ri(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.IsShowYCoordinate=!1,this.CopyData=this.CopyData_default,this.OnlyMoveXIndex=!0,this.IsSupportMagnet=!0,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame();var e=t[0],i=t[1];this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.stroke(),this.RestoreLineWidth();var a={Start:e,End:i};this.LinePoint.push(a),this.DrawPoint(t),this.Canvas.restore()}}},this.GetYCoordinatePoint=function(){if(this.IsFrameMinSize())return null;if(this.Status<2)return null;if(!this.Point.length||!this.Frame)return null;if(10!=this.Status)return null;for(var t=[],e=0;e<this.Value.length;++e){var i=this.Value[e],a=this.Frame.GetYFromData(i.YValue,!1);t.push({Y:a,YValue:i.YValue,Item:i,Color:this.PointColor})}return t}}function ni(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawGraffitiLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=null,this.PointCount=2,this.PointToValue=function(){if(!this.Frame)return!1;if(this.Frame.IsHScreen)for(var t=0;t<this.Point.length;++t){var e=this.Point[t],i=this.Frame.GetYData(e.X),a={XValue:e.Y,YValue:i};this.Value[t]=a}else for(var t=0;t<this.Point.length;++t){var e=this.Point[t],i=this.Frame.GetYData(e.Y),a={XValue:e.X,YValue:i};this.Value[t]=a}return!0},this.ValueToPoint=function(){if(!this.Frame)return!1;var t=this.Frame.IsHScreen;this.Point=[];for(var e in this.Value){var i=this.Value[e],a=new b;t?(a.Y=i.XValue,a.X=this.Frame.GetYFromData(i.YValue)):(a.X=i.XValue,a.Y=this.Frame.GetYFromData(i.YValue,!1)),this.Point[e]=a}},this.UpdateXValue=function(){},this.CalculateDrawPoint=function(t){if(this.Status<2)return null;if(!this.Point.length||!this.Frame)return null;var e=[];if(10==this.Status){var i=this.Frame.IsHScreen;for(var a in this.Value){var r=this.Value[a],n=new b;i?(n.Y=r.XValue,n.X=this.Frame.GetYFromData(r.YValue,!1)):(n.X=r.XValue,n.Y=this.Frame.GetYFromData(r.YValue,!1)),e.push(n)}}else e=this.Point;return e},this.IsPointInXYValue=function(t,e,i){if(!this.Frame)return-1;if(!this.Value)return-1;var a=5;i&&Ee.IsNumber(i.Zoom)?a+=i.Zoom:this.Option&&Ee.IsNumber(this.Option.Zoom)&&(a+=this.Option.Zoom);var r=this.Frame.IsHScreen;a*=c();for(var n=0;n<this.Value.length;++n){var o=this.Value[n],s=new b;if(r?(s.Y=o.XValue,s.X,this.Frame.GetYFromData(o.YValue)):(s.X=o.XValue,s.Y=this.Frame.GetYFromData(o.YValue)),this.Canvas.beginPath(),this.Canvas.arc(s.X,s.Y,a,0,360),this.Canvas.isPointInPath(t,e))return n}return-1},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame();var e=t[0],i=t[1];this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.stroke(),this.RestoreLineWidth();var a={Start:e,End:i};this.LinePoint.push(a),this.DrawPoint(t),this.Canvas.restore()}}}}function oi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawArrowLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.ArrawLineWidth=5,this.ArrawLength=15,this.ArrawAngle=35,this.GetXYCoordinate=this.GetXYCoordinate_default,this.OnlyMoveXIndex=!0,this.IsSupportMagnet=!0,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame();var e=t[0],i=t[1],a=this.ArrawAngle,r=this.ArrawLength,n=180*Math.atan2(e.Y-i.Y,e.X-i.X)/Math.PI,o=(n+a)*Math.PI/180,s=(n-a)*Math.PI/180,l=r*Math.cos(o),h=r*Math.sin(o),u=r*Math.cos(s),d=r*Math.sin(s);this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.stroke(),this.Canvas.beginPath();var f=i.X+l,p=i.Y+h;this.Canvas.moveTo(f,p),this.Canvas.lineTo(i.X,i.Y),f=i.X+u,p=i.Y+d,this.Canvas.lineTo(f,p),this.Canvas.lineWidth=this.ArrawLineWidth*c(),this.Canvas.stroke(),this.RestoreLineWidth();var m={Start:e,End:i};this.LinePoint.push(m),this.DrawPoint([t[0]]),this.Canvas.restore()}}}}function si(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureHaflLine",this.GetXYCoordinate=this.GetXYCoordinate_default,this.OnlyMoveXIndex=!0,this.IsSupportMagnet=!0,this.FullLine,this.IsPointIn=function(t,e,i){var a=this.IsPointIn_XYValue_Line(t,e,i);if(a>=0)return a;if(!this.FullLine)return a;var r=this.FullLine.Start,n=this.FullLine.End,o=c(),s=5*o;return this.Canvas.beginPath(),r.X==n.X?(this.Canvas.moveTo(r.X-s,r.Y),this.Canvas.lineTo(r.X+s,r.Y),this.Canvas.lineTo(n.X+s,n.Y),this.Canvas.lineTo(n.X-s,n.Y)):(this.Canvas.moveTo(r.X,r.Y+s),this.Canvas.lineTo(r.X,r.Y-s),this.Canvas.lineTo(n.X,n.Y-s),this.Canvas.lineTo(n.X,n.Y+s)),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e)?100:a},this.Draw=function(){if(this.LinePoint=[],this.FullLine=null,!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!1});if(t&&2==t.length){var e=t[0],i=t[1];this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y),this.Canvas.lineTo(t[1].X,t[1].Y);var a=this.CalculateExtendLineEndPoint(t);this.Canvas.lineTo(a.X,a.Y),this.Canvas.stroke(),this.RestoreLineWidth();var r={Start:e,End:i};this.LinePoint.push(r),this.DrawPoint(t),this.Canvas.restore(),this.FullLine={Start:t[0],End:a}}}}}function li(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.Super_SetOption=this.SetOption,this.Super_ExportStorageData=this.ExportStorageData,this.Label,this.SetOption=function(t){this.Super_SetOption&&this.Super_SetOption(t),t&&t.Label&&(this.Label=t.Label)},this.ExportStorageData=function(){var t;return this.Super_ExportStorageData&&(t=this.Super_ExportStorageData(),this.Label&&(t.Label=this.Label)),t},this.PointCount=1,this.ClassName="ChartDrawPictureHorizontalLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Font=16*c()+"px 微软雅黑",this.GetXYCoordinate=function(){if(this.IsFrameMinSize())return null;var t=this.CalculateDrawPoint();return this.PointRange(t)},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();if(t&&1==t.length&&this.Frame&&1==this.Value.length){if(!this.IsYValueInFrame(this.Value[0].YValue))return null;var e=this.Frame.IsHScreen,i=this.Frame.ChartBorder.GetLeft(),a=this.Frame.ChartBorder.GetRight();e&&(i=this.Frame.ChartBorder.GetTop(),a=this.Frame.ChartBorder.GetBottom()),this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),e?(this.Canvas.moveTo(t[0].X,i),this.Canvas.lineTo(t[0].X,a)):(this.Canvas.moveTo(i,t[0].Y),this.Canvas.lineTo(a,t[0].Y)),this.Canvas.stroke(),this.RestoreLineWidth();var r={Start:new b,End:new b};if(e?(r.Start.X=t[0].X,r.Start.Y=i,r.End.X=t[0].X,r.End.Y=a):(r.Start.X=i,r.Start.Y=t[0].Y,r.End.X=a,r.End.Y=t[0].Y),this.LinePoint.push(r),this.DrawPoint(t),this.Canvas.fillStyle=this.LineColor,this.Canvas.font=this.Font,e){this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var n=t[0].X,o=i;this.Canvas.translate(n,o),this.Canvas.rotate(90*Math.PI/180);var s=this.Frame.GetYData(t[0].X),l=s.toFixed(2);this.Label&&(0==this.Label.Position?l=this.Label.Text+s.toFixed(2):1==this.Label.Position&&(l=s.toFixed(2)+this.Label.Text)),this.Canvas.fillText(l,0,0)}else{this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var s=this.Frame.GetYData(t[0].Y),l=s.toFixed(2);this.Label&&(0==this.Label.Position?l=this.Label.Text+s.toFixed(2):1==this.Label.Position&&(l=s.toFixed(2)+this.Label.Text)),this.Canvas.fillText(l,i,t[0].Y)}this.Canvas.restore()}}}}function hi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.Super_SetOption=this.SetOption,this.Super_ExportStorageData=this.ExportStorageData,this.LineWidth=1,this.Precision=2,this.ValueTextColor="rgb(250,250,250)",this.IsShowCorssCursor=!0,this.GetLabelCallback,this.PointCount=1,this.ClassName="ChartDrawHLine",this.Font=14*c()+"px 微软雅黑",this.TextFont=12*c()+"px 微软雅黑",this.RightSpaceWidth=50,this.ButtonPosition=0,this.ButtonBGColor="rgb(190,190,190)",this.ButtonSpace=3,this.Button={CloseIcon:{Text:"",Color:"rgb(255,255,255)",Family:"iconfont",Size:16},SettingIcon:{Text:"",Color:"rgb(255,255,255)",Family:"iconfont",Size:16}},this.AryButton=[],this.ExtendData,this.ColseButtonSize=0,this.SettingButtonSize=0,this.ButtonBGWidth=0,this.SetOption=function(t){if(this.Super_SetOption&&this.Super_SetOption(t),t){if(t.GetLabelCallback&&(this.GetLabelCallback=t.GetLabelCallback),Ee.IsNumber(t.Precision)&&(this.Precision=t.Precision),Ee.IsNumber(t.Precision)&&(this.Precision=t.Precision),t.Font&&(this.Font=t.Font),t.ValueTextColor&&(this.ValueTextColor=t.ValueTextColor),Ee.IsNumber(t.ButtonPosition)&&(this.ButtonPosition=t.ButtonPosition),Ee.IsNumber(t.RightSpaceWidth)&&(this.RightSpaceWidth=t.RightSpaceWidth),t.Button){var e=t.Button;e.CloseIcon&&(this.Button.CloseIcon=S(e.CloseIcon)),e.SettingIcon&&(this.Button.SettingIcon=S(e.SettingIcon))}t.ExtendData&&(this.ExtendData=t.ExtendData)}},this.ExportStorageData=function(){var t;return this.Super_ExportStorageData&&(t=this.Super_ExportStorageData(),this.Label&&(t.Label=this.Label)),t},this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=function(){if(this.IsFrameMinSize())return null;var t=this.CalculateDrawPoint();return this.PointRange(t)},this.IsDrawMain=function(){return!this.GetActiveDrawPicture||this.GetActiveDrawPicture().Select.Guid!=this.Guid},this.MainDraw=function(){this.Draw()},this.Draw=function(t,e){if(this.LinePoint=[],this.AryButton=[],this.ColseButtonSize=0,this.SettingButtonSize=0,this.ButtonBGWidth=0,!this.IsFrameMinSize()){var i=this.CalculateDrawPoint();if(i&&1==i.length&&this.Frame&&1==this.Value.length){if(!this.IsYValueInFrame(this.Value[0].YValue))return null;var a=this.Frame.IsHScreen,r=this.Frame.ChartBorder.GetLeft(),n=this.Frame.ChartBorder.GetRight();a&&(r=this.Frame.ChartBorder.GetTop(),n=this.Frame.ChartBorder.GetBottom()),this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),a?(this.Canvas.moveTo(i[0].X,r),this.Canvas.lineTo(i[0].X,n)):(this.Canvas.moveTo(r,v(i[0].Y)),this.Canvas.lineTo(n,v(i[0].Y))),this.Canvas.stroke(),this.RestoreLineWidth();var o={Start:new b,End:new b};a?(o.Start.X=i[0].X,o.Start.Y=r,o.End.X=i[0].X,o.End.Y=n):(o.Start.X=r,o.Start.Y=i[0].Y,o.End.X=n,o.End.Y=i[0].Y),this.LinePoint.push(o);var s;this.GetLabelCallback&&(s=this.GetLabelCallback(this)),s&&this.DrawLab(s,i[0].Y);var l=r+(n-r)/2,h={X:l,Y:i[0].Y};this.DrawPoint([h]),this.Canvas.restore();var u={};if(this.CalculateButtonSize(),this.DrawValueText(i[0].Y,u,s),s&&this.DrawRightLab(s,u),t&&e)for(var c=0;c<this.AryButton.length;++c){var d=this.AryButton[c],f=d.Rect;if(t.X>=f.Left&&t.X<f.Right&&t.Y>=f.Top&&t.Y<=f.Bottom){e.MouseOnToolbar={Rect:f,Item:d,Frame:this.Frame,Point:{X:t.X,Y:t.Y}};break}}}}},this.CalculateLabSize=function(t){this.Canvas.textAlign="left",this.Canvas.textBaseline="top",this.Canvas.font=this.TextFont;var e=this.Canvas.measureText("擎").width+2,i=0,a=0,r=0,n=0;Ee.IsNumber(t.LineSpace)&&(n=t.LineSpace);for(var i=0,a=0,r=0,o=0,s=0;s<t.AryText.length;++s){var l=t.AryText[s];l.NameWidth=0,l.TextWidth=0,l.Name&&(l.NameWidth=this.Canvas.measureText(l.Name).width+2),l.Text&&(l.TextWidth=this.Canvas.measureText(l.Text).width+2),i<l.NameWidth&&(i=l.NameWidth),a<l.TextWidth&&(a=l.TextWidth);var h=l.NameWidth+l.TextWidth;o<h&&(o=h),++r}return{Width:o,Height:r*(e+n)+n,NameWidth:i,TextWidth:a,LineHeight:e}},this.DrawLab=function(t,e){if(t&&Ee.IsNonEmptyArray(t.AryText)&&2!==t.Position){var i=(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetRight()),a=this.CalculateLabSize(t),r=i-a.Width,n=e-a.Height-1;if(t.BGColor){this.Canvas.fillStyle=t.BGColor;var o=e-a.Height-4;this.Canvas.fillRect(g(r),g(o),g(i+r),g(e-o))}for(var s=n,l=0;l<t.AryText.length;++l){var h=t.AryText[l];h.Name&&(this.Canvas.fillStyle=h.NameColor,this.Canvas.fillText(h.Name,r+1,s+1)),h.Text&&(this.Canvas.fillStyle=h.TextColor,this.Canvas.fillText(h.Text,r+a.NameWidth+1,s+1)),s+=a.LineHeight}}},this.DrawRightLab=function(t,e){if(t&&Ee.IsNonEmptyArray(t.AryText)&&2==t.Position){var i=this.CalculateLabSize(t),a=e.Right-i.Width,r=e.Bottom,n=0;if(Ee.IsNumber(t.LineSpace)&&(n=t.LineSpace),t.BGColor){this.Canvas.fillStyle=t.BGColor;var o=r;this.Canvas.fillRect(g(a),g(o),g(i.Width),g(i.Height))}var s=r+1+n;this.Canvas.textBaseline="top";for(var l=0;l<t.AryText.length;++l){var h=t.AryText[l];h.Name&&(this.Canvas.textAlign="left",this.Canvas.fillStyle=h.NameColor,this.Canvas.fillText(h.Name,a+1,s+1)),h.Text&&(this.Canvas.textAlign="right",this.Canvas.fillStyle=h.TextColor,this.Canvas.fillText(h.Text,e.Right-1,s+1)),s+=i.LineHeight+n}}},this.DrawValueText=function(t,e,i){var a=(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetRight());this.RightSpaceWidth>0&&(this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(a,v(t)),this.Canvas.lineTo(a+this.RightSpaceWidth,v(t)),this.Canvas.stroke());var r=this.Frame.GetYData(t),n=r.toFixed(this.Precision);i&&i.PriceSuffixText&&(n+=i.PriceSuffixText),this.Canvas.fillStyle=this.LineColor,this.Canvas.font=this.Font;var o=this.Canvas.measureText(n).width,s=this.GetFontHeight(),l={Left:a+this.RightSpaceWidth,Top:t-s/2,Width:o+4,Height:s};l.Right=l.Left+l.Width,l.Bottom=l.Top+l.Height,1==this.ButtonPosition?this.Canvas.fillRect(g(l.Left),g(l.Top),g(l.Width+this.ButtonBGWidth),g(l.Height)):this.Canvas.fillRect(g(l.Left),g(l.Top),g(l.Width),g(l.Height)),this.Canvas.fillStyle=this.ValueTextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(n,l.Left+2,t),e.Left=l.Left,e.Top=l.Top,e.Bottom=l.Bottom,e.Right=l.Right,this.DrawButton(l.Top,l.Right,s,e)},this.CalculateButtonSize=function(){var t=c();if(this.Button.SettingIcon){var e=this.Button.SettingIcon,i=e.Size*t+"px "+e.Family;this.Canvas.font=i;var a=this.Canvas.measureText(e.Text).width;this.SettingButtonSize=a}if(this.Button.CloseIcon){var e=this.Button.CloseIcon,i=e.Size*t+"px "+e.Family;this.Canvas.font=i;var a=this.Canvas.measureText(e.Text).width;this.ColseButtonSize=a}if(!(this.ColseButtonSize<=0&&this.SettingButtonSize<=0)){var r=0;this.SettingButtonSize>0&&(r+=this.SettingButtonSize),this.ColseButtonSize>0&&(r>0&&(r+=this.ButtonSpace),r+=this.ColseButtonSize),r+=4,this.ButtonBGWidth=r}},this.DrawButton=function(t,e,i,a){if(!(this.ColseButtonSize<=0&&this.SettingButtonSize<=0)){1==this.ButtonPosition&&(t-=i),this.Canvas.fillStyle=this.LineColor;var r=e,n={Left:e,Top:t,Width:this.ButtonBGWidth,Height:i};n.Right=n.Left+n.Width,n.Bottom=n.Top+n.Height,this.Canvas.fillStyle=this.ButtonBGColor,this.Canvas.fillRect(g(n.Left),g(n.Top),g(n.Width),g(n.Height)),r+=1;var o=c();if(this.Button.SettingIcon){var s={Left:r,Top:t,Width:this.SettingButtonSize,Height:i};s.Right=s.Left+s.Width,s.Bottom=s.Top+s.Height;var l=s.Top+s.Height/2,h=s.Left+s.Width/2,u=this.Button.SettingIcon;this.Canvas.font=u.Size*o+"px "+u.Family,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=u.Color,this.Canvas.fillText(this.Button.SettingIcon.Text,h,l),this.AryButton.push({Rect:s,ID:Vn.DRAW_PICTURE_SETTING}),r=s.Right+this.ButtonSpace}if(this.Button.CloseIcon){var s={Left:r,Top:t,Width:this.ColseButtonSize,Height:i};s.Right=s.Left+s.Width,s.Bottom=s.Top+s.Height;var l=s.Top+s.Height/2,h=s.Left+s.Width/2,u=this.Button.CloseIcon;this.Canvas.font=u.Size*o+"px "+u.Family,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=u.Color,this.Canvas.fillText(this.Button.CloseIcon.Text,h,l),this.AryButton.push({Rect:s,ID:Vn.DRAW_PICTURE_DELETE}),r=s.Right}a.Right=n.Right}},this.PtInButtons=function(t,e){for(var i=0;i<this.AryButton.length;++i){var a=this.AryButton[i];if(a.Rect){var r=a.Rect;if(this.Canvas.beginPath(),this.Canvas.rect(r.Left,r.Top,r.Width,r.Height),this.Canvas.isPointInPath(t,e))return{ID:a.ID,Rect:r}}}return null}}function ui(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureTrendLine",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.OnlyMoveXIndex=!0,this.IsSupportMagnet=!0,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!1});if(t&&2==t.length){var e=t[0],i=t[1],a=this.CalculateExtendLinePoint(e,i);this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),this.Canvas.moveTo(a.Start.X,a.Start.Y),this.Canvas.lineTo(a.End.X,a.End.Y),this.Canvas.stroke(),this.RestoreLineWidth();var r={Start:e,End:i};this.LinePoint.push(r),this.DrawPoint(t),this.Canvas.restore()}}}}function ci(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureRect",this.GetXYCoordinate=this.GetXYCoordinate_default,this.Draw=function(){if(!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});t&&2==t.length&&(this.AreaColor=ai.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.Canvas.strokeStyle=this.LineColor,this.SetLineWidth(),this.Canvas.beginPath(),this.Canvas.rect(t[0].X,t[0].Y,t[1].X-t[0].X,t[1].Y-t[0].Y),this.Canvas.stroke(),this.RestoreLineWidth(),this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.fillRect(t[0].X,t[0].Y,t[1].X-t[0].X,t[1].Y-t[0].Y),this.Canvas.restore(),this.DrawPoint(t))}},this.IsPointIn=function(t,e,i){if(this.IsFrameMinSize())return-1;if(!this.Frame||10!=this.Status)return-1;if(!this.Frame.Data)return-1;var a=this.IsPointInXYValue(t,e,i);if(a>=0)return a;var r=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(!r||2!=r.length)return-1;var n=[{X:r[0].X,Y:r[0].Y},{X:r[1].X,Y:r[0].Y}];return this.IsPointInLine(n,t,e,i)?100:(n=[{X:r[1].X,Y:r[0].Y},{X:r[1].X,Y:r[1].Y}],this.IsPointInLine2(n,t,e,i)?100:(n=[{X:r[1].X,Y:r[1].Y},{X:r[0].X,Y:r[1].Y}],this.IsPointInLine(n,t,e,i)?100:(n=[{X:r[0].X,Y:r[1].Y},{X:r[0].X,Y:r[0].Y}],this.IsPointInLine2(n,t,e,i)?100:-1)))},this.IsPointInLine=function(t,e,i,a){var r=5;if(a&&Ee.IsNumber(a.Zoom)?r+=a.Zoom:this.Option&&Ee.IsNumber(this.Option.Zoom)&&(r+=this.Option.Zoom),r*=c(),this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y+r),this.Canvas.lineTo(t[0].X,t[0].Y-r),this.Canvas.lineTo(t[1].X,t[1].Y-r),this.Canvas.lineTo(t[1].X,t[1].Y+r),this.Canvas.closePath(),this.Canvas.isPointInPath(e,i))return!0},this.IsPointInLine2=function(t,e,i,a){var r=5;if(a&&Ee.IsNumber(a.Zoom)?r+=a.Zoom:this.Option&&Ee.IsNumber(this.Option.Zoom)&&(r+=this.Option.Zoom),r*=c(),this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X-r,t[0].Y),this.Canvas.lineTo(t[0].X+r,t[0].Y),this.Canvas.lineTo(t[1].X+r,t[1].Y),this.Canvas.lineTo(t[1].X-r,t[1].Y),this.Canvas.closePath(),this.Canvas.isPointInPath(e,i))return!0}}function di(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureArc",this.Draw=function(){if(!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();if(t&&2==t.length){if(this.ClipFrame(),this.SetLineWidth(),t[0].X<t[1].X&&t[0].Y>t[1].Y){var e=t[1].X-t[0].X,i=t[0].Y-t[1].Y,a=e>i?1/e:1/i,r=t[0].X,n=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var o=1.5*Math.PI;o<2*Math.PI;o+=a)this.Canvas.lineTo(r+e*Math.cos(o),n+i*Math.sin(o)*-1);for(var s=0;s<=.5*Math.PI;s+=a)this.Canvas.lineTo(r+e*Math.cos(s),n+i*Math.sin(s)*-1)}else if(t[0].X>t[1].X&&t[0].Y>t[1].Y){var e=t[0].X-t[1].X,i=t[0].Y-t[1].Y,a=e>i?1/e:1/i,r=t[1].X,n=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var o=0;o<=Math.PI;o+=a)this.Canvas.lineTo(r+e*Math.cos(o),n+i*Math.sin(o)*-1)}else if(t[0].X>t[1].X&&t[0].Y<t[1].Y){var e=t[0].X-t[1].X,i=t[1].Y-t[0].Y,a=e>i?1/e:1/i,r=t[0].X,n=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var o=.5*Math.PI;o<=1.5*Math.PI;o+=a)this.Canvas.lineTo(r+e*Math.cos(o),n+i*Math.sin(o)*-1)}else if(t[0].X<t[1].X&&t[0].Y<t[1].Y){var e=t[1].X-t[0].X,i=t[1].Y-t[0].Y,a=e>i?1/e:1/i,r=t[1].X,n=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var o=Math.PI;o<=2*Math.PI;o+=a)this.Canvas.lineTo(r+e*Math.cos(o),n+i*Math.sin(o)*-1)}this.Canvas.strokeStyle=this.LineColor,this.Canvas.stroke(),this.RestoreLineWidth(),this.Canvas.restore(),this.DrawPoint(t)}}},this.IsPointIn=function(t,e,i){if(this.IsFrameMinSize())return-1;if(!this.Frame||10!=this.Status)return-1;if(!this.Frame.Data)return-1;var a=this.IsPointInXYValue(t,e,i);if(a>=0)return a;var r=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(!r||2!=r.length)return-1;var n=[{X:r[0].X,Y:r[0].Y},{X:r[1].X,Y:r[1].Y}];return this.IsPointInArc(n,t,e)?100:-1},this.IsPointInArc=function(t,e,i){if(2!=t.length)return!1;if(t[0].X<t[1].X&&t[0].Y>t[1].Y){var a=t[1].X-t[0].X,r=t[0].Y-t[1].Y,n=a>r?1/a:1/r,o=.8*a,s=.8*r,l=o>s?1/o:1/s,h=t[0].X,u=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var c=1.5*Math.PI;c<2*Math.PI;c+=n)this.Canvas.lineTo(h+a*Math.cos(c),u+r*Math.sin(c)*-1);for(var d=0;d<=.5*Math.PI;d+=n)this.Canvas.lineTo(h+a*Math.cos(d),u+r*Math.sin(d)*-1);for(var f=.5*Math.PI;f>=0;f-=l)this.Canvas.lineTo(h+o*Math.cos(f),u+s*Math.sin(d)*-1);for(var p=2*Math.PI;p>=1.5*Math.PI;p-=l)this.Canvas.lineTo(h+o*Math.cos(p),u+s*Math.sin(p)*-1);this.Canvas.closePath()}else if(t[0].X>t[1].X&&t[0].Y>t[1].Y){var a=t[0].X-t[1].X,r=t[0].Y-t[1].Y,n=a>r?1/a:1/r,o=.8*a,s=.8*r,l=o>s?1/o:1/s,h=t[1].X,u=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var c=0;c<=Math.PI;c+=n)this.Canvas.lineTo(h+a*Math.cos(c),u+r*Math.sin(c)*-1);for(var d=Math.PI;d>=0;d-=l)this.Canvas.lineTo(h+o*Math.cos(d),u+s*Math.sin(d)*-1);this.Canvas.closePath()}else if(t[0].X>t[1].X&&t[0].Y<t[1].Y){var a=t[0].X-t[1].X,r=t[1].Y-t[0].Y,n=a>r?1/a:1/r,o=.8*a,s=.8*r,l=o>s?1/o:1/s,h=t[0].X,u=t[1].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var c=.5*Math.PI;c<=1.5*Math.PI;c+=n)this.Canvas.lineTo(h+a*Math.cos(c),u+r*Math.sin(c)*-1);for(var d=1.5*Math.PI;d>=.5*Math.PI;d-=l)this.Canvas.lineTo(h+o*Math.cos(d),u+s*Math.sin(d)*-1);this.Canvas.closePath()}else if(t[0].X<t[1].X&&t[0].Y<t[1].Y){var a=t[1].X-t[0].X,r=t[1].Y-t[0].Y,n=a>r?1/a:1/r,o=.8*a,s=.8*r,l=o>s?1/o:1/s,h=t[1].X,u=t[0].Y;this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y);for(var c=Math.PI;c<=2*Math.PI;c+=n)this.Canvas.lineTo(h+a*Math.cos(c),u+r*Math.sin(c)*-1);for(var d=2*Math.PI;d>=Math.PI;d-=l)this.Canvas.lineTo(h+o*Math.cos(d),u+s*Math.sin(d)*-1);this.Canvas.closePath()}return!!this.Canvas.isPointInPath(e,i)}}function fi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureWaveMW",this.PointCount=5,this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.IsHScreen=!1,this.Draw=function(){if(this.LinePoint=[],this.Frame&&!this.IsFrameMinSize()){this.IsHScreen=this.Frame.IsHScreen;var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=ai.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.CalculateLines(t),this.SetLineWidth();for(var e in this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End)}this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.CalculateLines=function(t){if(this.Frame&&!(t.length<2))if(2==this.Status){var e={Start:new b,End:new b};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e);var i=t[1].X-t[0].X,a=t[1].Y-t[0].Y;e={Start:new b,End:new b},this.IsHScreen?(e.Start.Y=t[1].Y,e.Start.X=t[1].X,e.End.Y=t[1].Y+a,e.End.X=t[0].X):(e.Start.Y=t[1].Y,e.Start.X=t[1].X,e.End.Y=t[0].Y,e.End.X=t[1].X+i),this.LinePoint.push(e);var r=e.End,n=new b;n.X=r.X,n.Y=r.Y,this.Point[2]=n,e={Start:new b,End:new b},this.IsHScreen?(e.Start.Y=r.Y,e.Start.X=r.X,e.End.Y=r.Y+a,e.End.X=t[1].X):(e.Start.Y=r.Y,e.Start.X=r.X,e.End.Y=t[1].Y,e.End.X=r.X+i),this.LinePoint.push(e);var r=e.End,n=new b;n.X=r.X,n.Y=r.Y,this.Point[3]=n,e={Start:new b,End:new b},this.IsHScreen?(e.Start.Y=r.Y,e.Start.X=r.X,e.End.Y=r.Y+a,e.End.X=t[0].X):(e.Start.Y=r.Y,e.Start.X=r.X,e.End.Y=t[0].Y,e.End.X=r.X+i),this.LinePoint.push(e);var r=e.End,n=new b;n.X=r.X,n.Y=r.Y,this.Point[4]=n,this.PointCount=this.Point.length}else if(5==t.length){var e={Start:new b,End:new b};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e);var e={Start:new b,End:new b};e.Start.Y=t[1].Y,e.Start.X=t[1].X,e.End.Y=t[2].Y,e.End.X=t[2].X,this.LinePoint.push(e);var e={Start:new b,End:new b};e.Start.Y=t[2].Y,e.Start.X=t[2].X,e.End.Y=t[3].Y,e.End.X=t[3].X,this.LinePoint.push(e);var e={Start:new b,End:new b};e.Start.Y=t[3].Y,e.Start.X=t[3].X,e.End.Y=t[4].Y,e.End.X=t[4].X,this.LinePoint.push(e)}}}function pi(){this.newMethod=fi,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawHeadShouldersBT",this.CalculateLines_Backup=this.CalculateLines,this.CalculateLines=function(t){if(this.Frame&&!(t.length<2)){if(2!=this.Status)return this.CalculateLines_Backup(t);var e={Start:new b,End:new b};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e);var i=t[1].X-t[0].X,a=t[1].Y-t[0].Y;e={Start:new b,End:new b},this.IsHScreen?(e.Start.Y=t[1].Y,e.Start.X=t[1].X,e.End.Y=t[1].Y+a,e.End.X=t[0].X-i):(e.Start.Y=t[1].Y,e.Start.X=t[1].X,e.End.Y=t[0].Y-a,e.End.X=t[1].X+i),this.LinePoint.push(e);var r=e.End,n=new b;n.X=r.X,n.Y=r.Y,this.Point[2]=n,e={Start:new b,End:new b},this.IsHScreen?(e.Start.Y=r.Y,e.Start.X=r.X,e.End.Y=r.Y+a,e.End.X=t[1].X):(e.Start.Y=r.Y,e.Start.X=r.X,e.End.Y=t[1].Y,e.End.X=r.X+i),this.LinePoint.push(e);var r=e.End,n=new b;n.X=r.X,n.Y=r.Y,this.Point[3]=n,e={Start:new b,End:new b},this.IsHScreen?(e.Start.Y=r.Y,e.Start.X=r.X,e.End.Y=r.Y+a,e.End.X=t[0].X):(e.Start.Y=r.Y,e.Start.X=r.X,e.End.Y=t[0].Y,e.End.X=r.X+i),this.LinePoint.push(e);var r=e.End,n=new b;n.X=r.X,n.Y=r.Y,this.Point[4]=n,this.PointCount=this.Point.length}}}function mi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureParallelLines",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.PointCount=3,this.LastPoint,this.CenterLine={LineDash:[2*c(),3*c()],Line:null,IsShow:!1},this.Super_SetOption=this.SetOption,this.Super_ExportStorageData=this.ExportStorageData,this.SetOption=function(t){if(this.Super_SetOption&&this.Super_SetOption(t),t&&t.CenterLine){var e=t.CenterLine;Ee.IsNonEmptyArray(e.LineDash)&&(this.CenterLine.LineDash=e.LineDash.slice(0)),Ee.IsBool(e.IsShow)&&(this.CenterLine.IsShow=e.IsShow)}},this.ExportStorageData=function(){var t;return this.Super_ExportStorageData&&(t=this.Super_ExportStorageData(),this.CenterLine&&(t.CenterLine={IsShow:this.CenterLine.IsShow,LineDash:this.CenterLine.LineDash.slice(0)})),t},this.Draw=function(){if(this.LinePoint=[],this.CenterLine.Line=null,!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!1});if(t){this.AreaColor=ai.ColorToRGBA(this.LineColor,.3);var e=t.slice(0);this.CalculateLines(e),this.ClipFrame(),this.DrawArea();for(var i in this.LinePoint){var a=this.LinePoint[i];this.DrawLine(a.Start,a.End)}if(this.CenterLine.IsShow&&this.CenterLine.Line){var a=this.CenterLine.Line;this.Canvas.setLineDash(this.CenterLine.LineDash),this.DrawLine(a.Start,a.End),this.Canvas.setLineDash([])}this.DrawPoint(e),this.Canvas.restore()}}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.DrawArea=function(){2==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[1].Start.X,this.LinePoint[1].Start.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new b;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var i=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(i)}else if(3==t.length){var i=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(i);var a=t[2].X-t[1].X,r=t[2].Y-t[1].Y,n=new b,o=new b;n.X=t[0].X+a,n.Y=t[0].Y+r,o.X=t[1].X+a,o.Y=t[1].Y+r,i=this.CalculateExtendLinePoint(n,o),this.LinePoint.push(i);var n=new b,o=new b;n.X=t[0].X+a/2,n.Y=t[0].Y+r/2,o.X=t[1].X+a/2,o.Y=t[1].Y+r/2,i=this.CalculateExtendLinePoint(n,o),this.CenterLine.Line=i}}}function Ci(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawFlatTop",this.IsPointIn=this.IsPointIn_XYValue_Line,this.PointCount=3,this.LastPoint,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=ai.ColorToRGBA(this.LineColor,.3);var e=t.slice(0);this.CalculateLines(e),this.ClipFrame();for(var i=0;i<this.LinePoint.length;++i){var a=this.LinePoint[i];this.DrawLine(a.Start,a.End)}this.DrawArea(),this.DrawPoint(e),this.Canvas.restore()}}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.DrawArea=function(){2==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[1].Start.X,this.LinePoint[1].Start.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=t[1],i=new b;i.X=e.X,i.Y=this.LastPoint.Y,t[2]=i}if(2==t.length)this.LinePoint.push({Start:t[0],End:t[1]});else if(3==t.length){this.LinePoint.push({Start:t[0],End:t[1]});var a=t[2];a.X=t[1].X;var r={X:t[0].X,Y:a.Y},n={X:t[1].X,Y:a.Y};this.LinePoint.push({Start:r,End:n})}}}function vi(){this.newMethod=Ci,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawDisjontChannel",this.IsPointIn=this.IsPointIn_XYValue_Line,this.PointCount=3,this.LastPoint}function Di(){this.newMethod=mi,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawParallelRaysLines",this.DrawArea=function(){},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new b;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var i=this.CalculateExtendLineEndPoint([t[0],t[1]]);this.LinePoint.push({Start:t[0],End:i})}else if(3==t.length){var i=this.CalculateExtendLineEndPoint([t[0],t[1]]);this.LinePoint.push({Start:t[0],End:i});var a=t[2].X-t[1].X,r=t[2].Y-t[1].Y,n=new b,o=new b;n.X=t[0].X+a,n.Y=t[0].Y+r,o.X=t[1].X+a,o.Y=t[1].Y+r,i=this.CalculateExtendLineEndPoint([n,o]),this.LinePoint.push({Start:t[2],End:i})}}}function gi(){this.newMethod=mi,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPicturePriceChannel",this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new b;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var i=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(i)}else if(3==t.length){var i=this.CalculateExtendLinePoint(t[0],t[1]);this.LinePoint.push(i);var a=t[2].X-t[1].X,r=t[2].Y-t[1].Y,n=new b,o=new b;n.X=t[0].X+a,n.Y=t[0].Y+r,o.X=t[1].X+a,o.Y=t[1].Y+r,i=this.CalculateExtendLinePoint(n,o),this.LinePoint.push(i);var n=new b,o=new b;n.X=t[0].X-a,n.Y=t[0].Y-r,o.X=t[1].X-a,o.Y=t[1].Y-r,i=this.CalculateExtendLinePoint(n,o),this.LinePoint.push(i)}},this.DrawArea=function(){3==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[1].Start.X,this.LinePoint[1].Start.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[2].End.X,this.LinePoint[2].End.Y),this.Canvas.lineTo(this.LinePoint[2].Start.X,this.LinePoint[2].Start.Y),this.Canvas.closePath(),this.Canvas.fill())}}function Si(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureParallelChannel",this.ChannelWidth=50,this.AreaColor="rgba(25,25,25,0.4)",this.LinePoint=[],this.CenterLine={LineDash:[2*c(),3*c()],Line:null,IsShow:!1},this.Super_SetOption=this.SetOption,this.ExportStorageData=function(){var t=this.ExportBaseData();t.ChannelWidth=this.ChannelWidth,t.Value=[];for(var e=0;e<this.Value.length&&e<2;++e){var i=this.Value[e];t.Value.push({XValue:i.XValue,YValue:i.YValue,DateTime:i.DateTime})}return this.CenterLine&&(t.CenterLine={IsShow:this.CenterLine.IsShow,LineDash:this.CenterLine.LineDash.slice(0)}),t},this.SetOption=function(t){if(this.Super_SetOption&&this.Super_SetOption(t),t&&(Ee.IsNumber(t.ChannelWidth)&&(this.ChannelWidth=t.ChannelWidth),t.CenterLine)){var e=t.CenterLine;Ee.IsNonEmptyArray(e.LineDash)&&(this.CenterLine.LineDash=e.LineDash.slice(0)),Ee.IsBool(e.IsShow)&&(this.CenterLine.IsShow=e.IsShow)}},this.CalculateDrawPoint=function(){if(this.Status<2)return null;if(!this.Point.length||!this.Frame)return null;var t=this.Frame.Data;if(!t)return null;var e=[];if(10==this.Status)for(var i=0;i<2;++i){var a=this.Value[i],r=new b;r.X=this.Frame.GetXFromIndex(a.XValue-t.DataOffset,!1),r.Y=this.Frame.GetYFromData(a.YValue,!1),e.push(r)}else for(var i=0;i<this.Point.length;++i){var a=this.Point[i],r=new b;r.X=a.X,r.Y=a.Y,e.push(r)}if(e.length>=2){var n={Start:new b,End:new b};if(n.Start.X=e[0].X,n.Start.Y=e[0].Y,n.End.X=e[1].X,n.End.Y=e[1].Y,this.LinePoint.push(n),3==e.length||10==this.Status){var o=n.End.X-n.Start.X,s=n.End.Y-n.Start.Y,l=Math.atan(Math.abs(o/s)),h=this.ChannelWidth/Math.sin(l);n={Start:new b,End:new b},n.Start.X=e[0].X,n.Start.Y=e[0].Y-h,n.End.X=e[1].X,n.End.Y=e[1].Y-h,this.LinePoint.push(n);var u=new b;u.X=n.Start.X+(n.End.X-n.Start.X)/2,u.Y=n.Start.Y+(n.End.Y-n.Start.Y)/2,e[3]=u,this.Point[2]=u;var c=parseInt(this.Frame.GetXData(u.X))+t.DataOffset,d=this.Frame.GetYData(u.Y);this.Value[2]={XValue:c,YValue:d},this.PointCount=this.Point.length,n={Start:new b,End:new b},n.Start.X=e[0].X,n.Start.Y=e[0].Y-h/2,n.End.X=e[1].X,n.End.Y=e[1].Y-h/2,this.CenterLine.Line=n}}return e},this.DrawArea=function(t,e,i,a){this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.lineTo(a.X,a.Y),this.Canvas.closePath(),this.Canvas.fill()},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();if(t){this.AreaColor=ai.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),2==this.LinePoint.length&&this.DrawArea(this.LinePoint[0].Start,this.LinePoint[0].End,this.LinePoint[1].End,this.LinePoint[1].Start);for(var e=0;e<this.LinePoint.length;++e){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End)}if(this.CenterLine.IsShow&&this.CenterLine.Line){var i=this.CenterLine.Line;this.Canvas.setLineDash(this.CenterLine.LineDash),this.DrawLine(i.Start,i.End),this.Canvas.setLineDash([])}this.Canvas.restore(),this.DrawPoint(t)}}},this.Move=function(t,e){if(20!=this.Status)return fasle;if(!this.Frame)return!1;if(!this.Frame.Data)return!1;if(100==this.MovePointIndex)for(var i=0;i<this.Point.length;++i)this.Point[i].X+=t,this.Point[i].Y+=e;else if(0==this.MovePointIndex||1==this.MovePointIndex)this.MovePointIndex<this.Point.length&&(this.Point[this.MovePointIndex].X+=t,this.Point[this.MovePointIndex].Y+=e);else if(2==this.MovePointIndex){this.Point[this.MovePointIndex].X+=t,this.Point[this.MovePointIndex].Y+=e;var a=this.Point[1].X-this.Point[0].X,r=this.Point[1].Y-this.Point[0].Y,n=Math.atan(Math.abs(a/r)),o=this.ChannelWidth/Math.sin(n)-e;this.ChannelWidth=Math.sin(n)*o}},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;var i=this.Frame.Data;if(!i)return-1;for(var a=0;a<this.Value.length;++a){var r=this.Value[a],n=new b;if(a<2)n.X=this.Frame.GetXFromIndex(r.XValue-i.DataOffset),n.Y=this.Frame.GetYFromData(r.YValue);else{if(a>=this.Point.length)continue;n.X=this.Point[a].X,n.Y=this.Point[a].Y}if(this.Canvas.beginPath(),this.Canvas.arc(n.X,n.Y,5,0,360),this.Canvas.isPointInPath(t,e))return a}for(var a in this.LinePoint){var r=this.LinePoint[a],o=r.Start,s=r.End;if(this.Canvas.beginPath(),this.Canvas.moveTo(o.X,o.Y+5),this.Canvas.lineTo(o.X,o.Y-5),this.Canvas.lineTo(s.X,s.Y-5),this.Canvas.lineTo(s.X,s.Y+5),this.Canvas.closePath(),this.Canvas.isPointInPath(t,e))return 100}return-1}}function xi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureText",this.Text="文本",this.PointCount=1,this.FontOption={Family:"微软雅黑",Size:20,Weight:null,Style:null},this.TextRect=null,this.IsInitialized=!1,this.SettingMenu,this.HQChart,this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.Text&&(this.Text=t.Text),t.FontOption&&(this.FontOption=t.FontOption))},this.Draw=function(t){if(this.TextRect=null,!this.IsFrameMinSize()){var e=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(e&&1==e.length){this.ClipFrame(),this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.Canvas.font=this.GetTextFont(),this.Canvas.fillText(this.Text,e[0].X,e[0].Y);var i=this.Canvas.measureText(this.Text).width,a=this.FontOption.Size*c();this.TextRect={},this.TextRect.Left=e[0].X-i/2,this.TextRect.Top=e[0].Y-a,this.TextRect.Width=i,this.TextRect.Height=a,this.Canvas.restore(),!1===this.IsInitialized&&(this.SetTextOption(),this.IsInitialized=!0)}}},this.GetTextFont=function(){var t=16*c()+"px 微软雅黑";if(!this.FontOption||!this.FontOption.Family||this.FontOption.Size<=0)return t;var e="";return this.FontOption.Color&&(e+=this.FontOption.Color+" "),this.FontOption.Style&&(e+=this.FontOption.Style+" "),this.FontOption.Weight&&(e+=this.FontOption.Weight+" "),this.FontOption.Size>=0&&(e+=this.FontOption.Size*c()+"px "),e+=this.FontOption.Family},this.SetTextOption=function(){Nn.Chart.Log("[ChartDrawPictureText::SetTextOption]"),this.SettingMenu||(this.SettingMenu=new ir(this.Frame.ChartBorder.UIElement.parentNode)),this.SettingMenu.ChartPicture=this,this.SettingMenu.HQChart=this.HQChart,this.SettingMenu.Position={Left:this.TextRect.Left+this.TextRect.Width,Top:this.TextRect.Top},this.SettingMenu.DoModal()},this.IsPointIn=function(t,e){return this.Frame&&10==this.Status&&this.Frame.Data&&this.TextRect?(this.Canvas.beginPath(),this.Canvas.rect(this.TextRect.Left,this.TextRect.Top,this.TextRect.Width,this.TextRect.Height),this.Canvas.isPointInPath(t,e)?100:-1):-1}}function bi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureIconFont",this.PointCount=1,this.Text="",this.FontOption={Family:"iconfont",Size:24},this.TextRect=null,this.SettingMenu,this.Angle=0,this.SetOption=function(t){t&&(t.LineColor&&(this.LineColor=t.LineColor),t.FontOption&&t.FontOption.Size>0&&(this.FontOption.Size=t.FontOption.Size),Ee.IsNumber(t.Angle)&&(this.Angle=t.Angle))},this.Draw=function(){if(this.TextRect=null,!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&1==t.length){var e=this.GetTextFont();if(e){this.ClipFrame();var i=this.Frame.IsHScreen,a=c();this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.font=e,i?(this.Canvas.translate(t[0].X,t[0].Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.Text,0,0)):0!=this.Angle?(this.Canvas.translate(t[0].X,t[0].Y),this.Canvas.rotate(this.Angle*(Math.PI/180)),this.Canvas.fillText(this.Text,0,0)):this.Canvas.fillText(this.Text,t[0].X,t[0].Y);var r=this.Canvas.measureText(this.Text).width;this.TextRect={},this.TextRect.Left=t[0].X-r/2,this.TextRect.Top=t[0].Y-this.FontOption.Size*a,this.TextRect.Width=r,this.TextRect.Height=this.FontOption.Size*a,this.Canvas.restore()}}}},this.GetTextFont=function(){if(!this.FontOption||!this.FontOption.Family||this.FontOption.Size<=0)return null;var t="";return this.FontOption.Size>=0&&(t+=this.FontOption.Size*c()+"px "),t+=this.FontOption.Family},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;if(!this.Frame.Data)return-1;if(!this.TextRect)return-1;var i=0;return this.Option&&this.Option.Zoom>=1&&(i=this.Option.Zoom*c()),this.Canvas.beginPath(),this.Canvas.rect(this.TextRect.Left-i,this.TextRect.Top-i,this.TextRect.Width+2*i,this.TextRect.Height+2*i),this.Canvas.isPointInPath(t,e)?100:-1}}function Ii(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureGannFan",this.IsPointIn=this.IsPointIn_XYValue_Line,this.LinePoint=[],this.Font=16*c()+"px 微软雅黑",this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.AreaColor=ai.ColorToRGBA(this.LineColor,.3),this.ClipFrame();var e=this.GetQuadrant(t[0],t[1]);if(this.SetLineWidth(),1===e||4===e){this.CalculateLines(t[0],t[1],e),this.DrawArea();for(var i in this.LinePoint){var a=this.LinePoint[i];this.DrawLine(a.Start,a.End,a.IsDottedLine)}for(var i in this.LinePoint){var a=this.LinePoint[i];a.Text&&a.PtEnd&&this.DrawTitle(a.PtEnd,a.Text)}}else this.DrawLine(t[0],t[1],!1);this.RestoreLineWidth(),this.Canvas.restore(),this.DrawPoint(t)}}},this.GetQuadrant=function(t,e){return t.X<e.X&&t.Y>e.Y?1:t.X<e.X&&t.Y>e.Y?2:t.X<e.X&&t.Y<e.Y?4:3},this.DrawLine=function(t,e,i){i&&this.Canvas.setLineDash([5,10]),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke(),i&&this.Canvas.setLineDash([])},this.DrawTitle=function(t,e){this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font,this.Canvas.fillText(e,t.X,t.Y)},this.DrawArea=function(){var t=null,e=null;for(var i in this.LinePoint){var a=this.LinePoint[i];"1:8"==a.Text?t=this.LinePoint[i]:"8:1"==a.Text&&(e=this.LinePoint[i])}t&&e&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.End.X,t.End.Y),this.Canvas.lineTo(t.Start.X,t.Start.Y),this.Canvas.lineTo(e.End.X,e.End.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t,e,i){if(!this.Frame)return!1;var a=(this.Frame.ChartBorder.GetTopEx(),this.Frame.ChartBorder.GetRight(),this.Frame.ChartBorder.GetBottom(),[.5,1/3,.25,.125,2/3]),r=["1:2","1:3","1:4","1:8","2:3"],n=["2:1","3:1","4:1","8:1","3:2"],o=new b,s=new b;o.X=t.X,o.Y=t.Y,s.X=e.X,s.Y=e.Y;var l=Math.abs(t.X-e.X),h=Math.abs(t.Y-e.Y);if(1===i){var u=this.CalculateExtendLinePoint(t,e),c={Start:o,End:u.Start,IsDottedLine:!1,PtEnd:s,Text:"1:1"};this.LinePoint.push(c);for(var d in a){if(l>5){c={Start:o,End:null,IsDottedLine:!1,PtEnd:new b,Text:r[d]},c.PtEnd.Y=e.Y,c.PtEnd.X=t.X+l*a[d];var u=this.CalculateExtendLinePoint(c.Start,c.PtEnd);c.End=u.Start,this.LinePoint.push(c)}if(h>5){c={Start:o,End:null,IsDottedLine:!1,PtEnd:new b,Text:n[d]},c.PtEnd.Y=t.Y-h*a[d],c.PtEnd.X=e.X;var u=this.CalculateExtendLinePoint(c.Start,c.PtEnd);c.End=u.Start,this.LinePoint.push(c)}}}else{if(4!=i)return!1;var u=this.CalculateExtendLinePoint(t,e),c={Start:o,End:u.End,IsDottedLine:!1,PtEnd:s,Text:"1:1"};this.LinePoint.push(c);for(var d in a){if(l>5){c={Start:o,End:null,IsDottedLine:!1,PtEnd:new b,Text:r[d]},c.PtEnd.Y=e.Y,c.PtEnd.X=t.X+l*a[d];var u=this.CalculateExtendLinePoint(c.Start,c.PtEnd);c.End=u.End,this.LinePoint.push(c)}if(h>5){c={Start:o,End:null,IsDottedLine:!1,PtEnd:new b,Text:n[d]},c.PtEnd.Y=t.Y+h*a[d],c.PtEnd.X=e.X;var u=this.CalculateExtendLinePoint(c.Start,c.PtEnd);c.End=u.End,this.LinePoint.push(c)}}}return!0}}function Ti(){this.newMethod=Ii,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureResistanceLine",this.CalculateLines=function(t,e,i){if(!this.Frame)return!1;var a=(this.Frame.ChartBorder.GetTopEx(),this.Frame.ChartBorder.GetRight(),this.Frame.ChartBorder.GetBottom(),[1/3,2/3]),r=["3:1","3:2"],n=new b,o=new b;n.X=t.X,n.Y=t.Y,o.X=e.X,o.Y=e.Y;var s=(Math.abs(t.X-e.X),Math.abs(t.Y-e.Y));if(1===i){var l=this.CalculateExtendLinePoint(t,e),h={Start:n,End:l.Start,IsDottedLine:!1,PtEnd:o,Text:"1:1"};this.LinePoint.push(h);for(var u in a)if(s>5){h={Start:n,End:null,IsDottedLine:!1,PtEnd:new b,Text:r[u]},h.PtEnd.Y=t.Y-s*a[u],h.PtEnd.X=e.X;var l=this.CalculateExtendLinePoint(h.Start,h.PtEnd);h.End=l.Start,this.LinePoint.push(h)}}else{if(4!=i)return!1;var l=this.CalculateExtendLinePoint(t,e),h={Start:n,End:l.End,IsDottedLine:!1,PtEnd:o,Text:"1:1"};this.LinePoint.push(h);for(var u in a)if(s>5){h={Start:n,End:null,IsDottedLine:!1,PtEnd:new b,Text:r[u]},h.PtEnd.Y=t.Y+s*a[u],h.PtEnd.X=e.X;var l=this.CalculateExtendLinePoint(h.Start,h.PtEnd);h.End=l.End,this.LinePoint.push(h)}}return!0},this.DrawArea=function(){var t=null,e=null;for(var i in this.LinePoint){var a=this.LinePoint[i];"1:1"==a.Text?t=this.LinePoint[i]:"3:1"==a.Text&&(e=this.LinePoint[i])}t&&e&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.End.X,t.End.Y),this.Canvas.lineTo(t.Start.X,t.Start.Y),this.Canvas.lineTo(e.End.X,e.End.Y),this.Canvas.closePath(),this.Canvas.fill())}}function yi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureGoldenSection",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Font=14*c()+"px 微软雅黑",this.GetSectionData=function(){return[0,.236,.382,.5,.618,.8,1,1.236,1.382,1.5,1.618,1.8,2]},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();if(t&&2==t.length){this.AreaColor=ai.ColorToRGBA(this.LineColor,.3),this.CalculateLines(t[0],t[1]),this.ClipFrame(),this.SetLineWidth();for(var e in this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End,i.IsDottedLine)}this.RestoreLineWidth();for(var e in this.LinePoint){var i=this.LinePoint[e];i.Text&&this.DrawTitle(i.Start,i.Text)}this.DrawPoint(t),this.Canvas.restore()}}},this.CalculateHSCreenLines=function(t,e){for(var i=this.GetSectionData(),a=this.Frame.ChartBorder.GetTop(),r=this.Frame.ChartBorder.GetBottom(),n=t.X-e.X,o=0;o<i.length;++o){var s=n*i[o],l={Start:new b,End:new b};l.Start.X=t.X-s,l.Start.Y=a,l.End.X=t.X-s,l.End.Y=r;var h="";h=0==o?"Base ":(100*i[o]).toFixed(2)+"% ";h+=this.Frame.GetYData(l.Start.X).toFixed(2),l.Text=h,this.LinePoint.push(l)}},this.CalculateLines=function(t,e){if(this.Frame.IsHScreen)return void this.CalculateHSCreenLines(t,e);for(var i=this.GetSectionData(),a=this.Frame.ChartBorder.GetLeft(),r=this.Frame.ChartBorder.GetRight(),n=t.Y-e.Y,o=0;o<i.length;++o){var s=n*i[o],l={Start:new b,End:new b};l.Start.Y=t.Y-s,l.Start.X=a,l.End.Y=t.Y-s,l.End.X=r;var h="";h=0==o?"Base ":(100*i[o]).toFixed(2)+"% ";h+=this.Frame.GetYData(l.Start.Y).toFixed(2),l.Text=h,this.LinePoint.push(l)}},this.DrawLine=function(t,e){this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.stroke()},this.DrawTitle=function(t,e){this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom",this.Canvas.font=this.Font,this.Frame.IsHScreen?(this.Canvas.save(),this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e,0,0),this.Canvas.restore()):this.Canvas.fillText(e,t.X,t.Y)}}function wi(){this.newMethod=yi,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPicturePercentage",this.GetSectionData=function(){return[0,.25,.333,.5,1]}}function Ei(){this.newMethod=yi,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureWaveBand",this.GetSectionData=function(){return[0,.125,.25,.375,.5,.625,.75,.875,1]}}function Fi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureTriangle",this.PointCount=3,this.Font=16*c()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.LastPoint,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){var e=t.slice(0);this.AreaColor=ai.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.CalculateLines(e);for(var i in this.LinePoint){var a=this.LinePoint[i];this.DrawLine(a.Start,a.End)}this.DrawArea(e),this.DrawPoint(e),this.DrawTitle(e),this.Canvas.restore()}}},this.DrawArea=function(t){3==t.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(t[0].X,t[0].Y),this.Canvas.lineTo(t[1].X,t[1].Y),this.Canvas.lineTo(t[2].X,t[2].Y),this.Canvas.lineTo(t[0].X,t[0].Y),this.Canvas.closePath(),this.Canvas.fill())},this.DrawTitle=function(t){this.Status},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new b;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2===t.length){var i={Start:new b,End:new b};i.Start.Y=t[0].Y,i.Start.X=t[0].X,i.End.Y=t[1].Y,i.End.X=t[1].X,this.LinePoint.push(i)}else if(3===t.length){var i={Start:new b,End:new b};i.Start.Y=t[0].Y,i.Start.X=t[0].X,i.End.Y=t[1].Y,i.End.X=t[1].X,this.LinePoint.push(i),i={Start:new b,End:new b},i.Start.Y=t[1].Y,i.Start.X=t[1].X,i.End.Y=t[2].Y,i.End.X=t[2].X,this.LinePoint.push(i),i={Start:new b,End:new b},i.Start.Y=t[2].Y,i.Start.X=t[2].X,i.End.Y=t[0].Y,i.End.X=t[0].X,this.LinePoint.push(i)}}}function Li(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureSymmetryAngle",this.PointCount=2,this.Font=16*c()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=ai.ColorToRGBA(this.LineColor,.3),this.ClipFrame(),this.CalculateLines(t);for(var e in this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End)}this.DrawArea(),this.DrawPoint(t),this.DrawTitle(t),this.Canvas.restore()}}},this.CalculateLines=function(t){if(2==t.length&&this.Frame){var e={Start:new b,End:new b};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e),e={Start:new b,End:new b},e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[0].X,this.LinePoint.push(e);var i=t[0].X-t[1].X;e={Start:new b,End:new b},e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[0].X+i,this.LinePoint.push(e)}},this.DrawArea=function(){3==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[2].End.X,this.LinePoint[2].End.Y),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.closePath(),this.Canvas.fill())},this.DrawTitle=function(t){this.Status}}function Mi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureCircle",this.PointCount=2,this.CircleData,this.GetXYCoordinate=this.GetXYCoordinate_default,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.AreaColor=ai.ColorToRGBA(this.LineColor,.3),this.ClipFrame();var e=t[0].X-t[1].X,i=t[0].Y-t[1].Y,a=Math.sqrt(e*e+i*i);this.Canvas.fillStyle=this.AreaColor,this.Canvas.strokeStyle=this.LineColor,this.DrawLine(t[0],t[1]),this.Canvas.beginPath(),this.Canvas.arc(t[0].X,t[0].Y,a,0,2*Math.PI),this.Canvas.stroke(),this.Canvas.fill(),this.CircleData={X:t[0].X,Y:t[0].Y,R:a},this.DrawPoint(t),this.Canvas.restore()}}},this.IsPointIn=function(t,e,i){if(this.IsFrameMinSize())return-1;if(10!=this.Status)return-1;var a=this.IsPointInXYValue(t,e,i);if(a>=0)return a;if(this.CircleData&&this.CircleData.R>8){var r=this.CircleData.X-t,n=this.CircleData.Y-e,o=Math.sqrt(r*r+n*n);if(o<this.CircleData.R&&o>this.CircleData.R-8)return 100}return-1}}function Ai(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureQuadrangle",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.PointCount=3,this.LastPoint,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.AreaColor=ai.ColorToRGBA(this.LineColor,.3);var e=t.slice(0);this.CalculateLines(e),this.ClipFrame();for(var i in this.LinePoint){var a=this.LinePoint[i];this.DrawLine(a.Start,a.End)}this.DrawArea(),this.DrawPoint(e),this.Canvas.restore()}}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.DrawArea=function(){4==this.LinePoint.length&&(this.Canvas.fillStyle=this.AreaColor,this.Canvas.beginPath(),this.Canvas.moveTo(this.LinePoint[0].Start.X,this.LinePoint[0].Start.Y),this.Canvas.lineTo(this.LinePoint[0].End.X,this.LinePoint[0].End.Y),this.Canvas.lineTo(this.LinePoint[1].End.X,this.LinePoint[1].End.Y),this.Canvas.lineTo(this.LinePoint[2].End.X,this.LinePoint[2].End.Y),this.Canvas.closePath(),this.Canvas.fill())},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new b;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var i=this.CreateLineData(t[0],t[1]);this.LinePoint.push(i)}else if(3==t.length){var i=this.CreateLineData(t[0],t[1]);this.LinePoint.push(i);var i=this.CreateLineData(t[1],t[2]);this.LinePoint.push(i);var a=t[2].X-t[1].X,r=t[2].Y-t[1].Y,n=new b;n.X=t[0].X+a,n.Y=t[0].Y+r;var i=this.CreateLineData(t[2],n);this.LinePoint.push(i);var i=this.CreateLineData(n,t[0]);this.LinePoint.push(i)}}}function Oi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPictureFibonacci",this.PointCount=1,this.Font=14*c()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();if(t&&(this.CalculateLines(),!(this.LinePoint.length<=0))){this.ClipFrame(),this.SetLineWidth();for(var e in this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End),this.DrawTitle(i.Start,i.Title)}this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.DrawTitle=function(t,e){this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="top",this.Canvas.font=this.Font,this.Frame.IsHScreen?(this.Canvas.save(),this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(e,2,10),this.Canvas.restore()):this.Canvas.fillText(e,t.X+2,t.Y+10)},this.CalculateHSCreenLines=function(){var t=this.Frame.Data;if(t){var e=null;if(10==this.Status){if(1!=this.Value.length)return;e=this.Value[0].XValue}else{if(1!=this.Point.length)return;e=parseInt(this.Frame.GetXData(this.Point[0].Y))+t.DataOffset}for(var i=this.Frame.ChartBorder.GetRightEx(),a=this.Frame.ChartBorder.GetLeftEx(),r=this.Frame.XPointCount,n=[1,2,3,5,8,13,21,34,55,89,144,233],o=0;o<n.length;++o){var s=e+n[o],l=s-t.DataOffset;if(!(l<0||l>=r)){var h=this.Frame.GetXFromIndex(s-t.DataOffset,!1),u={Start:new b,End:new b,Title:n[o]};u.Start.X=i,u.Start.Y=h,u.End.X=a,u.End.Y=h,this.LinePoint.push(u)}}}},this.CalculateLines=function(){if(!(this.Status<2)&&this.Frame){var t=this.Frame.Data;if(t){if(this.Frame.IsHScreen)return void this.CalculateHSCreenLines();var e=null;if(10==this.Status){if(1!=this.Value.length)return;e=this.Value[0].XValue}else{if(1!=this.Point.length)return;e=parseInt(this.Frame.GetXData(this.Point[0].X))+t.DataOffset}for(var i=this.Frame.ChartBorder.GetTopEx(),a=this.Frame.ChartBorder.GetBottom(),r=this.Frame.XPointCount,n=[1,2,3,5,8,13,21,34,55,89,144,233],o=0;o<n.length;++o){var s=e+n[o],l=s-t.DataOffset;if(!(l<0||l>=r)){var h=this.Frame.GetXFromIndex(s-t.DataOffset,!1),u={Start:new b,End:new b,Title:n[o]};u.Start.Y=i,u.Start.X=h,u.End.Y=a,u.End.X=h,this.LinePoint.push(u)}}}}}}function Ni(t){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawLinearRegression",this.PointCount=2,this.IsPointIn=this.IsPointIn_XYValue_Line,this.ChartBorder,this.Lines=[],this.IsShowMaxMinLine=!1,this.IsShowExtendLine=!1,this.ExtendLineDash=[5,5],this.MaxPoint,this.MinPoint,t&&(1==t.IsShowMaxMinLine&&(this.IsShowMaxMinLine=!0),1==t.IsShowExtendLine&&(this.IsShowExtendLine=!0)),this.ImportStorageData=function(t){1==t.IsShowMaxMinLine&&(this.IsShowMaxMinLine=!0),1==t.IsShowExtendLine&&(this.IsShowExtendLine=!0),t.Lines&&(this.Lines=t.Lines),t.MaxPoint&&t.MinPoint&&(this.MaxPoint=t.MaxPoint,this.MinPoint=t.MinPoint)},this.Super_ExportStorageData=this.ExportStorageData,this.ExportStorageData=function(){var t;return this.Super_ExportStorageData&&(t=this.Super_ExportStorageData(),t.IsShowMaxMinLine=this.IsShowMaxMinLine,t.IsShowExtendLine=this.IsShowExtendLine,t.Lines=this.Lines,this.IsShowMaxMinLine&&(t.MaxPoint=this.MaxPoint,t.MinPoint=this.MinPoint)),t},this.PointToValue_Backup=this.PointToValue,this.PointToValue=function(){this.Point[0]={X:this.Lines[0].X,Y:this.Lines[0].Y},this.Point[1]={X:this.Lines[this.Lines.length-1].X,Y:this.Lines[this.Lines.length-1].Y},this.PointToValue_Backup()},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(!t||2!=t.length)return void(10==this.Status&&(this.ClipFrame(),this.ChartBorder=this.Frame.ChartBorder,this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.DrawLinearLines(),this.RestoreLineWidth(),this.Canvas.restore()));this.ClipFrame(),this.ChartBorder=this.Frame.ChartBorder,this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor;var e=t[0],i=t[1];if(10==this.Status)this.DrawLinearLines();else{var a=this.ChartBorder.GetTopEx(),r=this.ChartBorder.GetBottomEx(),n=this.PointToKLine([e,i]),o=this.Calculate(n);this.Lines=o.Points,this.MaxPoint=o.Max,this.MinPoint=o.Min,this.DrawLinearLines(),this.Canvas.beginPath(),this.Canvas.moveTo(e.X,a),this.Canvas.lineTo(e.X,r),this.Canvas.moveTo(i.X,a),this.Canvas.lineTo(i.X,r),this.Canvas.stroke()}this.RestoreLineWidth();var s={Start:e,End:i};this.LinePoint.push(s),this.DrawPoint(t),this.Canvas.restore()}},this.Calculate=function(t){var e=t[0],i=t[1];e.XValue>i.XValue&&(e=t[1],i=t[0]);var a,r,n,o,s,l,h=i.XValue-e.XValue+1,u=this.Frame.Data.Data,n=i.XValue,c=0,d=0,f=0,p=0;for(o=0,s=h;o<h&&o<=n;++o,--s)c+=s,d+=u[n-o].Close;for(c/=h,d/=h,o=0,s=h;o<h&&o<=n;++o,--s)f+=(s-c)*(u[n-o].Close-d),p+=(s-c)*(s-c);r=f/p,a=d-c*r;var m=[],C=null,v=null;for(o=0,l=h;o<h&&o<=n;++o,--l){var D=i.XIndex-o,g=i.XValue-o,s=this.Frame.GetXFromIndex(D),S=r*l+a,x=this.Frame.GetYFromData(S,!1),b={X:s,Y:x,XValue:g,YValue:S};m.push(b),(null==C||C.High<u[g].High)&&(C={X:s,Y:x,XValue:g,YValue:S,High:u[g].High}),(null==v||v.Low>u[g].Low)&&(v={X:s,Y:x,XValue:g,YValue:S,Low:u[g].Low})}return{Points:m,Slope:r,Const:a,Max:C,Min:v}},this.DrawLinearLines=function(){if(!this.Frame)return null;var t=this.Frame.Data;if(!t)return null;var e=this.Frame.XPointCount,i=t.DataOffset,a=this.Frame.IsHScreen,r=[];for(var n in this.Lines){var o=this.Lines[n],s=o.XValue-i;if(!(s<0||s>=e)){var l={};a||(l.X=this.Frame.GetXFromIndex(s,!1),l.Y=this.Frame.GetYFromData(o.YValue,!1),l.YValue=o.YValue),r.push(l)}}if(r.length>1){for(var n in r){var o=r[n];0==n?(this.Canvas.beginPath(),this.Canvas.moveTo(o.X,o.Y)):(this.Canvas.lineTo(o.X,o.Y),n==r.length-1&&this.Canvas.stroke())}this.DrawExtendLine(r)}if(this.IsShowMaxMinLine&&r.length>1&&this.MaxPoint&&this.MinPoint){var h=this.MaxPoint.High-this.MaxPoint.YValue;for(var n in r){var o=r[n];o.Y=this.Frame.GetYFromData(o.YValue+h,!1),0==n?(this.Canvas.beginPath(),this.Canvas.moveTo(o.X,o.Y)):(this.Canvas.lineTo(o.X,o.Y),n==r.length-1&&this.Canvas.stroke())}this.DrawExtendLine(r);var u=this.MinPoint.Low-this.MinPoint.YValue;for(var n in r){var o=r[n];o.Y=this.Frame.GetYFromData(o.YValue+u,!1),0==n?(this.Canvas.beginPath(),this.Canvas.moveTo(o.X,o.Y)):(this.Canvas.lineTo(o.X,o.Y),n==r.length-1&&this.Canvas.stroke())}this.DrawExtendLine(r)}},this.DrawExtendLine=function(t){if(this.IsShowExtendLine){var e,i=t[0],a=t[t.length-1];e=a.X>i.X?[i,a]:[a,i];var r=this.CalculateExtendLineEndPoint(e);this.Canvas.beginPath(),this.Canvas.moveTo(a.X,a.Y),this.Canvas.lineTo(r.X,r.Y),this.Canvas.setLineDash(this.ExtendLineDash),this.Canvas.stroke(),this.Canvas.setLineDash([])}}}function _i(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawRuler",this.PointCount=2,this.Font=16*c()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.TitleColor=lo.ChartDrawRuler.TitleColor,this.IsHScreen=!1,this.Draw=function(){this.LinePoint=[];var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.IsHScreen=this.Frame.IsHScreen,this.ClipFrame();var e=t[0],i=t[1],a=this.PointToKLine([e,i]),r=this.Calculate(a),n=Ee.IsNumber(r.Increase)?r.Increase.toFixed(2)+"%":"--",o=Ee.IsNumber(r.Risefall)?r.Risefall.toFixed(2):"--",s="间距:"+r.Count+" 涨跌:"+o+" 涨幅:"+n;this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.stroke(),this.RestoreLineWidth();var l={Start:e,End:i};this.LinePoint.push(l),this.DrawPoint(t),this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.font=this.Font,this.TitleColor?this.Canvas.fillStyle=this.TitleColor:Ee.IsNumber(r.Increase)?r.Increase>0?this.Canvas.fillStyle=lo.UpTextColor:r.Increase<0?this.Canvas.fillStyle=lo.DownTextColor:this.Canvas.fillStyle=lo.UnchagneTextColor:this.Canvas.fillStyle=lo.UnchagneTextColor;var h=3*c(),u=e.X,d=e.Y;this.IsHScreen?(this.Canvas.translate(u+h,d+h),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s,0,0)):this.Canvas.fillText(s,u+h,d-h),this.Canvas.restore()}},this.Calculate=function(t){var e=t[0],i=t[1];e.XValue>i.XValue&&(e=t[1],i=t[0]);for(var a,r,n,o,s,l=this.Frame.Data.Data,h=0,u=e.XValue;u<=i.XValue;++u,++h){var c=l[u];0==h?(o=c.YClose,a=c.Open,s=c.Close,n=c.Low,r=c.High):(s=c.Close,n>c.Low&&(n=c.Low),r<c.High&&(r=c.High))}if(!Ee.IsPlusNumber(o)){var d=e.XValue-1;d>=0&&d<l.length&&(o=l[d].Close)}var f={YClose:o,Open:a,High:r,Low:n,Close:s,Count:h};return Ee.IsPlusNumber(o)&&(f.Increase=(s-o)/o*100,f.Risefall=s-o),f}}function Pi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPriceLine",this.Font=16*c()+"px 微软雅黑",this.PointCount=1,this.IsPointIn=this.IsPointIn_XYValue_Line,this.IsHScreen=!1,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!0});if(t&&1==t.length){this.IsHScreen=this.Frame.IsHScreen;var e=t[0],i=this.Frame.ChartBorder;if(this.IsHScreen){var a=i.GetLeftEx(),r=i.GetRightEx();if(e.X<a||e.X>r)return;var n=i.GetBottom(),o={X:e.X,Y:n},s=this.Frame.GetYData(e.X,!1)}else{var n=i.GetBottomEx(),l=i.GetTopEx();if(e.Y<l||e.Y>n)return;var r=i.GetRight(),o={X:r,Y:e.Y},s=this.Frame.GetYData(e.Y,!1)}this.ClipFrame(),this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(o.X,o.Y),this.Canvas.stroke(),this.RestoreLineWidth();var h={Start:e,End:o};this.LinePoint.push(h),this.DrawPoint(t),this.Canvas.textBaseline="bottom",this.Canvas.textAlign="left",this.Canvas.fillStyle=this.LineColor,this.Canvas.font=this.Font;var u=2*c(),d=e.X,f=e.Y;this.IsHScreen?(this.Canvas.translate(d+u,f+u),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(s.toFixed(2),0,0)):this.Canvas.fillText(s.toFixed(2),d+u,f-u),this.Canvas.restore()}}}}function Ri(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPriceLineV2",this.Font=12*c()+"px 微软雅黑",this.PointCount=1,this.IsPointIn=this.IsPointIn_XYValue_Line,this.IsHScreen=!1,this.LineWidth=1,this.IsDrawFirst=!0,this.TextColor="rgb(255,255,255)",this.Title,this.Super_SetOption=this.SetOption,this.SetOption=function(t){this.Super_SetOption&&this.Super_SetOption(t),t&&(t.TextColor&&(this.TextColor=t.TextColor),t.Title&&(this.Title=t.Title))},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!0});if(t&&1==t.length&&this.IsYValueInFrame(this.Value[0].YValue)){this.IsHScreen=this.Frame.IsHScreen;var e=this.Frame.ChartBorder,i=this.Frame.GetBorder();if(this.IsHScreen){var a=i.LeftEx,r=i.RightEx,n=i.Bottom,o=i.Top,s={X:t[0].X,Y:o};if(s.X<a||s.X>r)return;var l={X:t[0].X,Y:n},h=this.Frame.GetYData(s.X,!1)}else{var n=i.BottomEx,o=i.TopTitle,a=i.Left,r=i.Right,s={X:a,Y:t[0].Y};if(s.Y<o||s.Y>n)return;var l={X:r,Y:t[0].Y},h=this.Frame.GetYData(s.Y,!1)}this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(v(s.X),v(s.Y)),this.Canvas.lineTo(v(l.X),v(l.Y)),this.Canvas.stroke(),this.RestoreLineWidth();var u={Start:s,End:l};this.LinePoint.push(u);var d=c();this.Canvas.font=this.Font;var f=2*d,p=l.X,m=l.Y;this.Canvas.textBaseline="middle",this.Canvas.textAlign="left";var C=this.GetFontHeight(),D=h.toFixed(2),g=this.Canvas.measureText(D).width+2*f;if(this.IsHScreen){if(e.Bottom>10)var S={Left:p-C/2,Top:m,Width:C,Height:g};else{m-=g;var S={Left:p-C/2,Top:m,Width:C,Height:g}}if(this.Canvas.fillStyle=this.LineColor,this.Canvas.fillRect(S.Left,S.Top,S.Width,S.Height),this.Canvas.save(),this.Canvas.translate(p,m+1*d),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(D,0,0),this.Canvas.restore(),this.Title){var g=this.Canvas.measureText(this.Title).width+2*d;if(e.Bottom>10)var x={Left:S.Left,Top:n-g-1*d,Width:C,Height:g};else var x={Left:S.Left,Top:S.Top-g-1*d,Width:C,Height:g};this.Canvas.fillStyle=this.LineColor,this.Canvas.fillRect(x.Left,x.Top,x.Width,x.Height),this.Canvas.save(),this.Canvas.translate(p,x.Top+1*d),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(this.Title,0,0),this.Canvas.restore()}}else{if(e.Right>10){var S={Left:p,Top:m-C/2-1*d,Width:g,Height:C};S.Left+S.Width>i.ChartWidth&&(S.Left=i.ChartWidth-S.Width-2*d)}else var S={Left:p-g,Top:m-C/2-1*d,Width:g,Height:C};if(this.Canvas.fillStyle=this.LineColor,this.Canvas.fillRect(S.Left,S.Top,S.Width,S.Height),this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(D,S.Left+f,m),this.Title){var g=this.Canvas.measureText(this.Title).width+2*d;if(e.Right>10){var x={Left:r-g-1*d,Top:S.Top,Width:g,Height:C};S.Left!=r&&(x.Left=S.Left-g-1*d)}else var x={Left:S.Left-g,Top:S.Top,Width:g,Height:C};this.Canvas.fillStyle=this.LineColor,this.Canvas.fillRect(x.Left,x.Top,x.Width,x.Height),this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(this.Title,x.Left+1*d,m)}}}}},this.DrawPrice=function(){}}function Bi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawVerticalLine",this.PointCount=1,this.IsPointIn=this.IsPointIn_XYValue_Line,this.IsHScreen=!1,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()&&this.Frame&&this.Frame.Data){var t=this.Frame.Data,e=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(e&&1==e.length){this.IsHScreen=this.Frame.IsHScreen;var i=e[0],a=this.Frame.ChartBorder;if(this.IsHScreen){var r=Math.round(this.Frame.GetXData(i.Y,!1))+t.DataOffset;r<0?r=0:r>=t.Data.length&&(r=t.Data.length-1);var n=this.Frame.GetXFromIndex(r-t.DataOffset,!1);n=D(this.LineWidth,n);var o=a.GetLeftEx(),s=a.GetRightEx(),l={X:o,Y:n},h={X:s,Y:n}}else{var r=Math.round(this.Frame.GetXData(i.X,!1))+t.DataOffset;r<0?r=0:r>=t.Data.length&&(r=t.Data.length-1);var u=this.Frame.GetXFromIndex(r-t.DataOffset,!1);u=D(this.LineWidth,u);var c=a.GetTopEx(),d=a.GetBottomEx(),l={X:u,Y:c},h={X:u,Y:d}}this.ClipFrame(),this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(l.X,l.Y),this.Canvas.lineTo(h.X,h.Y),this.Canvas.stroke(),this.RestoreLineWidth();var f={Start:l,End:h};this.LinePoint.push(f),10==this.Status&&this.DrawPoint(e),this.Canvas.restore()}}}}function ki(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawWaveRuler",this.PointCount=3,this.Font=16*c()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.LastPoint,this.LinePoint,this.ScaleRuler=lo.ChartDrawWaveRuler.ScaleRuler,this.RulerWidth=lo.ChartDrawWaveRuler.RulerWidth,this.RulerLineWidth=lo.ChartDrawWaveRuler.RulerLineWidth,this.MaxScaleRuler=lo.ChartDrawWaveRuler.MaxScaleRuler,this.Font=lo.ChartDrawWaveRuler.MaxScaleRuler,this.IsHScreen=!1,this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.IsHScreen=this.Frame.IsHScreen,this.CalculateLines(t),this.ClipFrame(),this.SetLineWidth();for(var e in this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End)}3==t.length&&this.DrawWaveRuler(t),this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.CalculateLines=function(t){if(2==this.PointStatus&&this.LastPoint){var e=new b;e.X=this.LastPoint.X,e.Y=this.LastPoint.Y,t[2]=e}if(2==t.length){var i={Start:{X:t[0].X,Y:t[0].Y},End:{X:t[1].X,Y:t[1].Y}};this.LinePoint.push(i)}else if(3==t.length){var i={Start:{X:t[0].X,Y:t[0].Y},End:{X:t[1].X,Y:t[1].Y}};this.LinePoint.push(i),i={Start:{X:t[1].X,Y:t[1].Y},End:{X:t[2].X,Y:t[2].Y}},this.LinePoint.push(i)}},this.DrawWaveRuler=function(t){var e=t[1],i=t[0],a=t[2],r=this.RulerLineWidth*c();this.Canvas.lineWidth=r,this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.fillStyle=this.LineColor,this.Canvas.font=this.Font;var n=this.RulerWidth*c();if(this.IsHScreen){var o=i.X-e.X,s={X:a.X-this.MaxScaleRuler*o,Y:a.Y};this.DrawLine(a,s),this.LinePoint.push({Start:a,End:s});var l=a.Y-n/2,h=a.Y+n/2}else{var o=i.Y-e.Y,s={X:D(r,a.X),Y:a.Y-this.MaxScaleRuler*o};this.DrawLine({X:D(r,a.X),Y:a.Y},s),this.LinePoint.push({Start:a,End:s});var u=a.X-n/2,d=a.X+n/2}var f=4*c();for(var p in this.ScaleRuler){var m=this.ScaleRuler[p];if(this.IsHScreen){var u=a.X-m.Value*o,C=this.Frame.GetYData(u,!1);this.DrawLine({X:u,Y:l},{X:u,Y:h});var v=C.toFixed(2)+"  "+(m.Text?m.Text:m.Value.toFixed(3));this.Canvas.save(),this.Canvas.translate(u,a.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(v,f,0),this.Canvas.restore()}else{var l=a.Y-m.Value*o,C=this.Frame.GetYData(l,!1);this.DrawLine({X:u,Y:D(r,l)},{X:d,Y:D(r,l)});var v=C.toFixed(2)+"  "+(m.Text?m.Text:m.Value.toFixed(3));this.Canvas.fillText(v,d+f,l)}}}}function Vi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawWaveRuler2Point",this.PointCount=2,this.Font=14*c()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.PointRate=[510,517,511.4],this.LinePoint,this.CPoint,this.ScaleRuler=lo.ChartDrawWaveRuler2Point.ScaleRuler,this.RulerWidth=lo.ChartDrawWaveRuler2Point.RulerWidth,this.RulerLineWidth=lo.ChartDrawWaveRuler2Point.RulerLineWidth,this.MaxScaleRuler=lo.ChartDrawWaveRuler2Point.MaxScaleRuler,this.Font=lo.ChartDrawWaveRuler2Point.MaxScaleRuler,this.IsHScreen=!1,this.Super_SetOption=this.SetOption,this.SetOption=function(t){this.Super_SetOption&&this.Super_SetOption(t),t&&t.PointRate&&(this.PointRate=t.PointRate)},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.IsHScreen=this.Frame.IsHScreen,this.CalculateLines(t),this.ClipFrame(),this.SetLineWidth();for(var e in this.LinePoint){var i=this.LinePoint[e];this.DrawLine(i.Start,i.End)}var a=[t[0],t[1],this.CPoint];this.DrawWaveRuler(a),this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.CalculateLines=function(t){var e={Start:{X:t[0].X,Y:t[0].Y},End:{X:t[1].X,Y:t[1].Y}};this.LinePoint.push(e);var i=t[0].Y,a=t[1].Y,r=this.PointRate[1]-this.PointRate[0],n=this.PointRate[2]-this.PointRate[0],o=i-(i-a)*n/r;this.CPoint={X:t[1].X,Y:o}},this.DrawWaveRuler=function(t){var e=t[1],i=t[0],a=t[2],r=this.RulerLineWidth*c();this.Canvas.lineWidth=r,this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.fillStyle=this.LineColor,this.Canvas.font=this.Font;var n=this.RulerWidth*c();if(this.IsHScreen){var o=i.X-e.X,s={X:a.X-this.MaxScaleRuler*o,Y:a.Y};this.DrawLine(a,s),this.LinePoint.push({Start:a,End:s});var l=a.Y-n/2,h=a.Y+n/2}else{var o=i.Y-e.Y,s={X:D(r,a.X),Y:a.Y-this.MaxScaleRuler*o};this.DrawLine({X:D(r,a.X),Y:a.Y},s),this.LinePoint.push({Start:a,End:s});var u=a.X,d=a.X+n}var f=4*c();for(var p in this.ScaleRuler){var m=this.ScaleRuler[p];if(this.IsHScreen){var u=a.X-m.Value*o,C=this.Frame.GetYData(u,!1);this.DrawLine({X:u,Y:l},{X:u,Y:h});var v=C.toFixed(2)+"  "+(m.Text?m.Text:m.Value.toFixed(3));this.Canvas.save(),this.Canvas.translate(u,a.Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(v,f,0),this.Canvas.restore()}else{var l=a.Y-m.Value*o,C=this.Frame.GetYData(l,!1);this.DrawLine({X:u,Y:D(r,l)},{X:d,Y:D(r,l)});var v=C.toFixed(2)+"  "+(m.Text?m.Text:m.Value.toFixed(3));this.Canvas.fillText(v,d+f,l)}}}}function Gi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawBox",this.PointCount=2,this.Font=16*c()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.IsHScreen=!1,this.AvPriceLineDash=[5*c(),5*c()],this.KLineBorder,this.PointToValue_Backup=this.PointToValue,this.PointToValue=function(){this.Point[0]={X:this.KLineBorder.Left,Y:this.KLineBorder.Top},this.Point[1]={X:this.KLineBorder.Right,Y:this.KLineBorder.Bottom},this.PointToValue_Backup()},this.Draw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.IsHScreen=this.Frame.IsHScreen,this.ClipFrame();var e=t[0],i=t[1],a=this.PointToKLine([e,i]);Nn.Chart.Log("[ChartDrawBox::Draw] kPoint",a);var r=this.Calculate(a);Nn.Chart.Log("[ChartDrawBox::Draw] kDataInfo",r);var n=this.GetKLineBorder(t,r);this.KLineBorder=n,this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.strokeRect(g(n.Left),g(n.Top),g(n.Right-n.Left),g(n.Bottom-n.Top));var o;if(r.Amount>0&&r.Vol>0){var s=r.Amount/r.Vol;if(o="均价"+s.toFixed(2),this.Canvas.beginPath(),this.IsHScreen){var l=this.Frame.GetYFromData(s,!1);this.Canvas.moveTo(D(this.Canvas.lineWidth,l),n.Top),this.Canvas.lineTo(D(this.Canvas.lineWidth,l),n.Bottom)}else{var h=this.Frame.GetYFromData(s,!1);this.Canvas.moveTo(n.Left,D(this.Canvas.lineWidth,h)),this.Canvas.lineTo(n.Right,D(this.Canvas.lineWidth,h))}this.Canvas.setLineDash(this.AvPriceLineDash),this.Canvas.stroke(),this.Canvas.setLineDash([])}this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.textBaseline="top",this.Canvas.textAlign="left",this.Canvas.font=this.Font,this.Canvas.fillStyle=this.LineColor;var u=2*c(),d="K线数"+r.Count;this.IsHScreen?this.DrawText(d,n.Right,n.Top,u,u):this.DrawText(d,n.Left,n.Top,u,u),o&&(this.IsHScreen?this.DrawText(o,l,n.Top,u,u):this.DrawText(o,n.Left,h,u,u));var f=Ee.IsNumber(r.YClose)?r.YClose:r.Open,p=(r.Close-f)/f*100;d=p.toFixed(2)+"%",this.IsHScreen?this.DrawText(d,n.Right,n.Bottom,u,u):this.DrawText(d,n.Right,n.Top,u,u),p=r.Close-f,d=""+p.toFixed(2),this.Canvas.textBaseline="bottom",this.IsHScreen?this.DrawText(d,n.Left,n.Bottom,u,0):this.DrawText(d,n.Right,n.Bottom,u,0),this.Canvas.restore()}}},this.Calculate=function(t){var e=t[0],i=t[1];e.XValue>i.XValue&&(e=t[1],i=t[0]);for(var a,r,n,o,s,l=this.Frame.Data.Data,h=0,u=0,c=0,d=e.XValue;d<=i.XValue;++d,++c){var f=l[d];0==c?(o=f.YClose,a=f.Open,s=f.Close,n=f.Low,r=f.High):(s=f.Close,n>f.Low&&(n=f.Low),r<f.High&&(r=f.High)),h+=f.Vol,u+=f.Amount}return{YClose:o,Open:a,High:r,Low:n,Close:s,Count:c,Vol:h,Amount:u}},this.GetKLineBorder=function(t,e){var i=t[0],a=t[1],r=this.Frame.Data;if(this.IsHScreen){var n=Math.round(this.Frame.GetXData(i.Y,!1))+r.DataOffset;n<0?n=0:n>=r.Data.length&&(n=r.Data.length-1);var o=this.Frame.GetXFromIndex(n-r.DataOffset,!1);n=Math.round(this.Frame.GetXData(a.Y,!1))+r.DataOffset,n<0?n=0:n>=r.Data.length&&(n=r.Data.length-1);var s=this.Frame.GetXFromIndex(n-r.DataOffset,!1),l=this.Frame.GetYFromData(e.High,!1),h=this.Frame.GetYFromData(e.Low,!1),u={Left:h,Top:o,Right:l,Bottom:s};return this.LinePoint.push({Start:{X:h,Y:o},End:{X:s,Y:o}}),this.LinePoint.push({Start:{X:h,Y:s},End:{X:s,Y:s}}),this.LinePoint.push({Start:{X:h,Y:o},End:{X:h,Y:s}}),this.LinePoint.push({Start:{X:l,Y:o},End:{X:l,Y:s}}),u}var n=Math.round(this.Frame.GetXData(i.X,!1))+r.DataOffset;n<0?n=0:n>=r.Data.length&&(n=r.Data.length-1);var c=this.Frame.GetXFromIndex(n-r.DataOffset,!1);n=Math.round(this.Frame.GetXData(a.X,!1))+r.DataOffset,n<0?n=0:n>=r.Data.length&&(n=r.Data.length-1);var d=this.Frame.GetXFromIndex(n-r.DataOffset,!1),f=this.Frame.GetYFromData(e.High,!1),p=this.Frame.GetYFromData(e.Low,!1),u={Left:c,Top:f,Right:d,Bottom:p};return this.LinePoint.push({Start:{X:c,Y:f},End:{X:d,Y:f}}),this.LinePoint.push({Start:{X:c,Y:p},End:{X:d,Y:p}}),this.LinePoint.push({Start:{X:c,Y:f},End:{X:c,Y:p}}),this.LinePoint.push({Start:{X:d,Y:f},End:{X:d,Y:p}}),u},this.DrawText=function(t,e,i,a,r){this.IsHScreen?(this.Canvas.save(),this.Canvas.translate(e,i),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(t,a,r),this.Canvas.restore()):this.Canvas.fillText(t,e+a,i+r)}}function Hi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawTwoPointDemo",this.PointCount=2,this.Font=16*c()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.IsHScreen=!1,this.PointInfo=[],this.PointToValue_Backup=this.PointToValue,this.PointToValue=function(){this.OnFinish(),this.PointToValue_Backup()},this.OnFinish=function(){for(var t in this.PointInfo){var e=this.PointInfo[t];e&&e.Point&&Ee.IsNumber(e.Point.Y2)&&(this.Point[t].Y=this.PointInfo[t].Point.Y2)}},this.Draw=function(){if(this.LinePoint=[],this.PointInfo=[],!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t){this.IsHScreen=this.Frame.IsHScreen,this.ClipFrame(),this.SetLineWidth();t[0],t[1];if(this.CalculatePointInfo(t),10==this.Status)this.DrawEx();else for(var e=1;e<t.length;++e)this.DrawLine(t[e-1],t[e]);this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.CalculatePointInfo=function(t){if(this.Frame&&this.Frame.Data){var e=this.PointToKLine(t);if(3==this.PointCount&&2==this.PointStatus&&this.LastPoint){var i=new b;i.X=this.LastPoint.X,i.Y=this.LastPoint.Y,t[2]=i}var a=this.Frame.Data;for(var r in e){var n=e[r],i=t[r],o=a.Data[n.XValue],s={KItem:o,Data:n,Point:{X:i.X,Y:i.Y}};this.PointInfo.push(s)}this.CalculateYPoint(),Nn.Chart.Log("[ChartDrawTwoPointDemo::CalculateLines] kPoint",this.PointInfo)}},this.CalculateYPoint=function(){var t=this.PointInfo[0],e=this.Frame.GetYFromData(t.KItem.Low,!1);t.Point.Y2=e;var i=this.PointInfo[1],a=this.Frame.GetYFromData(i.KItem.High,!1);i.Point.Y2=a},this.DrawEx=function(){var t=this.PointInfo[0],e=this.PointInfo[1],i=this.Frame.ChartBorder,a=(i.GetRight(),{X:t.Point.X,Y:t.Point.Y2}),r={X:e.Point.X,Y:e.Point.Y2};this.DrawLine(a,r),this.LinePoint.push({Start:a,End:r}),this.Canvas.setLineDash([5,5]);var n=.09*e.KItem.YClose+e.KItem.High,o=this.Frame.GetYFromData(n,!1);this.DrawLine({X:this.ToFixedPoint(r.X),Y:r.Y},{X:this.ToFixedPoint(r.X),Y:o}),this.Canvas.textAlign="right",this.Canvas.textBaseline="center",this.Canvas.fillStyle="rgb(33,45,100)";for(var s=3;s>0;--s){var l=e.KItem.YClose*(.03*s)+e.KItem.High,o=this.Frame.GetYFromData(l,!1);o=this.ToFixedPoint(o),this.DrawLine({X:r.X,Y:o},{X:r.X+100,Y:o}),this.Canvas.fillText(l.toFixed(2),r.X-5,o)}this.Canvas.setLineDash([])},this.ToFixedPoint=function(t,e){return Ee.IsNumber(e)||(e=this.LineWidth),D(e,t)}}function Yi(){this.newMethod=Hi,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawThreePointDemo",this.PointCount=3,this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.CalculateYPoint=function(){var t;for(var e in this.PointInfo){var i=this.PointInfo[e];t=0==e||2==e?this.Frame.GetYFromData(i.KItem.Low,!1):this.Frame.GetYFromData(i.KItem.High,!1),i.Point.Y2=t}},this.DrawEx=function(){var t=this.PointInfo[0],e=this.PointInfo[1],i=this.PointInfo[2],a=this.Frame.ChartBorder,r=(a.GetRight(),a.GetLeft(),{X:t.Point.X,Y:t.Point.Y2}),n={X:e.Point.X,Y:e.Point.Y2},o={X:i.Point.X,Y:i.Point.Y2};this.DrawLine(r,n),this.DrawLine(n,o),this.LinePoint.push({Start:r,End:n}),this.LinePoint.push({Start:n,End:o}),this.Canvas.setLineDash([5,5]);var s=.09*i.KItem.YClose+i.KItem.High,l=this.Frame.GetYFromData(s,!1);this.DrawLine({X:this.ToFixedPoint(o.X),Y:o.Y},{X:this.ToFixedPoint(o.X),Y:l}),this.Canvas.textAlign="right",this.Canvas.textBaseline="center",this.Canvas.fillStyle="rgb(33,45,100)";for(var h=3;h>0;--h){var u=i.KItem.YClose*(.03*h)+i.KItem.High,l=this.Frame.GetYFromData(u,!1);l=this.ToFixedPoint(l),this.DrawLine({X:o.X,Y:l},{X:o.X+100,Y:l}),this.Canvas.fillText(u.toFixed(2),o.X-5,l)}this.Canvas.setLineDash([])}}function Xi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawHLineSegment",this.PointCount=2,this.IsPointIn=this.IsPointIn_XYValue_Line,this.ChartBorder,this.PointToValue_Backup=this.PointToValue,this.PointToValue=function(){this.Frame.IsHScreen?this.Point[1].X=this.Point[0].X:this.Point[1].Y=this.Point[0].Y,this.PointToValue_Backup()},this.GetXYCoordinate=function(){if(this.IsFrameMinSize())return null;var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!0});return this.PointRange(t)},this.Draw=function(){if(this.Frame&&(this.IsHScreen=this.Frame.IsHScreen,this.LinePoint=[],!this.IsFrameMinSize())){var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame(),this.ChartBorder=this.Frame.ChartBorder,this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor;var e=t[0],i=t[1];10==this.Status?this.DrawLine(e,i,!1):this.DrawVerticalLine(e,i),this.RestoreLineWidth();var a={Start:e,End:i};this.LinePoint.push(a),this.DrawPoint(t),this.Canvas.restore()}}},this.DrawVerticalLine=function(t,e){var i=this.Frame.Data;if(this.IsHScreen){var a=this.ChartBorder.GetLeft(),r=this.ChartBorder.GetRight(),n=Math.round(this.Frame.GetXData(t.Y,!1))+i.DataOffset;n<0?n=0:n>=i.Data.length&&(n=i.Data.length-1);var o=this.Frame.GetXFromIndex(n-i.DataOffset,!1);n=Math.round(this.Frame.GetXData(e.Y,!1))+i.DataOffset,n<0?n=0:n>=i.Data.length&&(n=i.Data.length-1);var s=this.Frame.GetXFromIndex(n-i.DataOffset,!1);this.Canvas.beginPath(),this.Canvas.moveTo(a,o),this.Canvas.lineTo(r,o),this.Canvas.moveTo(a,s),this.Canvas.lineTo(r,s),this.Canvas.stroke(),this.Canvas.beginPath(),this.Canvas.moveTo(t.X,o),this.Canvas.lineTo(t.X,s),this.Canvas.stroke()}else{var l=this.ChartBorder.GetTopEx(),h=this.ChartBorder.GetBottomEx(),n=Math.round(this.Frame.GetXData(t.X,!1))+i.DataOffset;n<0?n=0:n>=i.Data.length&&(n=i.Data.length-1);var u=this.Frame.GetXFromIndex(n-i.DataOffset,!1);n=Math.round(this.Frame.GetXData(e.X,!1))+i.DataOffset,n<0?n=0:n>=i.Data.length&&(n=i.Data.length-1);var c=this.Frame.GetXFromIndex(n-i.DataOffset,!1);this.Canvas.beginPath(),this.Canvas.moveTo(u,l),this.Canvas.lineTo(u,h),this.Canvas.moveTo(c,l),this.Canvas.lineTo(c,h),this.Canvas.stroke(),this.Canvas.beginPath(),this.Canvas.moveTo(u,t.Y),this.Canvas.lineTo(c,t.Y),this.Canvas.stroke()}}}function Wi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawVolProfile",this.PointCount=2,this.IsPointIn=this.IsPointIn_XYValue_Line,this.ChartBorder,this.GetXYCoordinate=this.GetXYCoordinate_default,this.IsShowText=!0,this.VolType=0,this.BarPosition=0,this.VolFont,this.VAVol=60,this.BarWidthRate=.3,this.Data,this.MaxVol,this.MaxVolPrice,this.DataStatus=0,this.BGColor=lo.ChartDrawVolProfile.BGColor,this.BorderColor=lo.ChartDrawVolProfile.BorderColor,this.VolLineColor=lo.ChartDrawVolProfile.VolLineColor,this.TextConfig=(0,bn.default)({Color:lo.ChartDrawVolProfile.Text.Color,Family:lo.ChartDrawVolProfile.Text.Family,FontMaxSize:lo.ChartDrawVolProfile.Text.FontMaxSize,FontMinSize:lo.ChartDrawVolProfile.Text.FontMinSize},"Color",lo.ChartDrawVolProfile.Text.Color),this.BarColor=[lo.ChartDrawVolProfile.UpVolColor,lo.ChartDrawVolProfile.DownVolColor,lo.ChartDrawVolProfile.AreaUpColor,lo.ChartDrawVolProfile.AreaDonwColor],this.Super_SetOption=this.SetOption,this.SetOption=function(t){this.Super_SetOption&&this.Super_SetOption(t),t&&(t.BGColor&&(this.BGColor=t.BGColor),t.BorderColor&&(this.BGColor=t.BorderColor),t.VolLineColor&&(this.BGColor=t.VolLineColor),t.UpVolColor&&(this.BarColor[0]=t.UpVolColor),t.DownVolColor&&(this.BarColor[1]=t.DownVolColor),t.AreaUpColor&&(this.BarColor[2]=t.AreaUpColor),t.AreaDonwColor&&(this.BarColor[3]=t.AreaDonwColor),Ee.IsNumber(t.BarWidthRate)&&(this.BarWidthRate=t.BarWidthRate),Ee.IsBool(t.IsShowText)&&(this.IsShowText=t.IsShowText),Ee.IsNumber(t.VolType)&&(this.VolType=t.VolType),Ee.IsNumber(t.BarPosition)&&(this.BarPosition=t.BarPosition),Ee.IsNumber(t.VAVol)&&(this.VAVol=t.VAVol))},this.OnFinish=function(){this.RequestVolumeProfileData()},this.OnMoveFinish=function(){this.RequestVolumeProfileData()},this.IsDrawMain=function(){return!this.GetActiveDrawPicture||this.GetActiveDrawPicture().Select.Guid!=this.Guid},this.RequestVolumeProfileData=function(){var t=this.Value[0],e=this.Value[1];t.XValue>e.XValue&&(t=this.Value[1],e=this.Value[0]);var i={Start:{Date:t.DateTime.Date,DataIndex:t.XValue},End:{Date:e.DateTime.Date,DataIndex:e.XValue},Chart:this};Ee.IsNumber(t.DateTime.Time)&&(i.Start.Time=t.DateTime.Time),Ee.IsNumber(e.DateTime.Time)&&(i.End.Time=e.DateTime.Time),i.ValueAreaVol=this.VAVol,this.DataStatus=0,this.HQChart&&this.HQChart.RequestVolumeProfileData&&this.HQChart.RequestVolumeProfileData(i)},this.OnRecvVolumeProfileData=function(t){if(t&&Ee.IsNonEmptyArray(t.Data)){for(var e=0,i=0,a=null,r=0,n=0;r<t.Data.length;++r){var o=t.Data[r];for(i=0,n=0;n<o.Vol.length;++n){var s=o.Vol[n];Ee.IsNumber(s.Value)&&(i+=s.Value)}e<i&&(e=i,a=o.Price)}if(this.MaxVolPrice=a,this.MaxVol=e,!(this.MaxVolPrice<=0||this.MaxVol<=0)&&Ee.IsNumber(t.MaxPrice)&&Ee.IsNumber(t.MinPrice)){var l=this.Frame.GetYFromData(t.MaxPrice,!1),h=this.Frame.GetYFromData(t.MinPrice,!1);this.Point[0].Y=l,this.Point[1].Y=h,this.PointToValue(),this.Data=t,this.DataStatus=1}}},this.Draw=function(){if(this.VolFont=null,this.IsDrawMain()||this.MainDraw(),!this.IsFrameMinSize()){this.Frame&&(this.ChartBorder=this.Frame.ChartBorder);var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame(),this.SetLineWidth();var e=t[0],i=t[1];10==this.Status?0==this.DataStatus&&this.DrawLineBorder(e,i):this.DrawLineBorder(e,i),this.RestoreLineWidth(),this.DrawPoint(t),this.Canvas.restore()}}},this.MainDraw=function(){if(this.LinePoint=[],!this.IsFrameMinSize()&&1==this.DataStatus&&10==this.Status){this.ClipFrame();this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});this.DrawVolBar(),this.Canvas.restore()}},this.DrawLineBorder=function(t,e){this.Canvas.strokeStyle=this.LineColor;var i=this.ChartBorder.GetTopEx(),a=this.ChartBorder.GetBottomEx();this.Canvas.beginPath(),this.Canvas.moveTo(t.X,t.Y),this.Canvas.lineTo(e.X,e.Y),this.Canvas.moveTo(t.X,i),this.Canvas.lineTo(t.X,a),this.Canvas.moveTo(e.X,i),this.Canvas.lineTo(e.X,a),this.Canvas.stroke()},this.DrawVolBar=function(){var t=this.Value[0],e=this.Value[1];t.XValue>e.XValue&&(t=this.Value[1],e=this.Value[0]);var i=this.GetKDataOffset(),a=this.GetPriceYOffset(this.Data.PriceOffset),r=this.Frame.GetXFromIndex(t.XValue-i,!1),n=this.Frame.GetXFromIndex(e.XValue-i,!1),o=this.Frame.GetYFromData(this.Data.MaxPrice)-a/2,s=this.Frame.GetYFromData(this.Data.MinPrice)+a/2,l=n-r,h=s-o,u=l*this.BarWidthRate;if(this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(r,o,l,h),this.MaxVolPrice>=this.Frame.HorizontalMin&&this.MaxVolPrice<=this.Frame.HorizontalMax){var c=D(2,this.Frame.GetYFromData(this.MaxVolPrice,!1));this.Canvas.lineWidth=2,this.Canvas.strokeStyle=this.VolLineColor,this.Canvas.beginPath(),this.Canvas.moveTo(r,c),this.Canvas.lineTo(n,c),this.Canvas.stroke();var d={Start:{X:r,Y:c},End:{X:n,Y:c}};this.LinePoint.push(d)}this.IsShowText&&(this.VolFont=this.GetDynamicVolTextFont(a,u),this.VolFont&&(this.Canvas.font=this.VolFont));for(var f=0;f<this.Data.Data.length;++f){var p=this.Data.Data[f];p.Price<this.Frame.HorizontalMin||p.Price>this.Frame.HorizontalMax||this.DrawVolBarItem(p,r,n,u,a)}},this.DrawVolBarItem=function(t,e,i,a,r){var n=e,o=i,s=this.Frame.GetYFromData(t.Price)-r/2,l=r-1;if(l<1&&(l=1),1==this.VolType){if(!t.TotalVol)return;if(!Ee.IsNumber(t.TotalVol.Value))return;var h,u=t.TotalVol.Value*a/this.MaxVol;if(Ee.IsNumber(t.TotalVol.ColorID)?h=this.BarColor[t.TotalVol.ColorID]:t.TotalVol.Color&&(h=t.TotalVol.Color),this.Canvas.fillStyle=h,1==this.BarPosition?this.Canvas.fillRect(o,g(s),-u,g(l)):this.Canvas.fillRect(n,g(s),u,g(l)),this.IsShowText&&this.VolFont){var c=Ee.FormatVolString(t.TotalVol.Value,this.HQChart.LanguageID);this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextConfig.Color,1==this.BarPosition?(this.Canvas.textAlign="right",this.Canvas.fillText(c,i-5,s+r/2)):(this.Canvas.textAlign="left",this.Canvas.fillText(c,e+5,s+r/2))}}else{for(var c="",d=0;d<t.Vol.length;++d){var f=t.Vol[d];if(Ee.IsNumber(f.Value)){var h;if(Ee.IsNumber(f.ColorID)?h=this.BarColor[f.ColorID]:f.Color&&(h=f.Color),h){var u=f.Value*a/this.MaxVol;this.Canvas.fillStyle=h,1==this.BarPosition?(this.Canvas.fillRect(o,g(s),-u,g(l)),o-=u):(this.Canvas.fillRect(n,g(s),u,g(l)),n+=u);var p=Ee.FormatVolString(f.Value,this.HQChart.LanguageID);c.length>0&&(c+="x"),c+=p}}}this.IsShowText&&this.VolFont&&(this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextConfig.Color,1==this.BarPosition?(this.Canvas.textAlign="right",this.Canvas.fillText(c,i-5,s+r/2)):(this.Canvas.textAlign="left",this.Canvas.fillText(c,e+5,s+r/2)))}},this.GetKDataOffset=function(){return this.HQChart.ChartPaint[0].Data.DataOffset},this.GetPriceYOffset=function(t){var e=this.Frame;return e.ChartBorder.GetHeightEx()*t/(e.HorizontalMax-e.HorizontalMin)},this.GetDynamicVolTextFont=function(t,e,i){var a=parseInt(t)-2;return t<5&&(a=parseInt(t)),a>this.TextConfig.FontMaxSize?a=this.TextConfig.FontMaxSize:a<=0&&(a=1),a<this.TextConfig.FontMinSize?null:this.FormatFontString(a,this.TextConfig.Family,i)},this.FormatFontString=function(t,e,i){var a;return i?i.Weight&&(a=i.Weight+" "+t+"px "+e):a=t+"px "+e,a}}function Ui(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawNote",this.PointCount=1,this.Text=lo.ChartDrawNote.Text,this.FontOption={Family:lo.ChartDrawNote.FontOption.Family,Size:lo.ChartDrawNote.FontOption.Size},this.AryNoteText=[{Text:"输入内容 ......"}],this.NoteFontOption={Family:lo.ChartDrawNote.NoteFontOption.Family,Size:lo.ChartDrawNote.NoteFontOption.Size,Weight:lo.ChartDrawNote.NoteFontOption.Weight,Style:lo.ChartDrawNote.NoteFontOption.Style},this.NoteWidth=lo.ChartDrawNote.NoteWidth,this.NoteMargin={Left:lo.ChartDrawNote.NoteMargin.Left,Top:lo.ChartDrawNote.NoteMargin.Top,Bottom:lo.ChartDrawNote.NoteMargin.Bottom,Right:lo.ChartDrawNote.NoteMargin.Right},this.NoteBGColor=lo.ChartDrawNote.NoteBGColor,this.NoteTextColor=lo.ChartDrawNote.NoteTextColor,this.NoteBorderColor=lo.ChartDrawNote.NoteBorderColor,this.LineSpace=lo.ChartDrawNote.LineSpace,this.ArrowSize=lo.ChartDrawNote.ArrowSize,this.OnlyMoveXIndex=!0,this.IsSupportMagnet=!1,this.PtButtom,this.PtTop,this.TextRect=null,this.PtCenter,this.SetOption_Backup=this.SetOption,this.SetOption=function(t){if(this.SetOption_Backup(t),t){if(t.Text&&(this.Text=t.Text),t.FontOption&&this.SetFont(this.FontOption,t.FontOption),t.NoteFontOption&&this.SetFont(this.NoteFontOption,t.NoteFontOption),Ee.IsNumber(t.NoteWidth)&&(this.NoteWidth=t.NoteWidth),t.NoteMargin){var e=t.NoteMargin;Ee.IsNumber(e.Left)&&(this.NoteMargin.Left=e.Left),Ee.IsNumber(e.Top)&&(this.NoteMargin.Top=e.Top),Ee.IsNumber(e.Bottom)&&(this.NoteMargin.Bottom=e.Bottom),Ee.IsNumber(e.Right)&&(this.NoteMargin.Right=e.Right)}t.NoteBGColor&&(this.NoteBGColor=t.NoteBGColor),t.NoteTextColor&&(this.NoteTextColor=t.NoteTextColor),t.NoteBorderColor&&(this.NoteBorderColor=t.NoteBorderColor),Ee.IsNumber(t.LineSpace)&&(this.LineSpace=t.LineSpace),Ee.IsNumber(t.ArrowSize)&&(this.ArrowSize=t.ArrowSize),Ee.IsNonEmptyArray(t.AryNoteText)&&(this.AryNoteText=this.CloneArrayText(t.AryNoteText))}},this.ExportStorageData=function(){var t=this.ExportBaseData();if(t.Value=[],this.Value&&this.Value[0]){var e=this.Value[0];t.Value.push({XValue:e.XValue,YValue:e.YValue,DateTime:e.DateTime})}return t.NoteFont=this.NoteFont,t.NoteWidth=this.NoteWidth,t.NoteBGColor=this.NoteBGColor,t.NoteTextColor=this.NoteTextColor,t.NoteBorderColor=this.NoteBorderColor,t.LineSpace=this.LineSpace,t.ArrowSize=this.ArrowSize,t.NoteMargin={Left:this.NoteMargin.Left,Top:this.NoteMargin.Right,Bottom:this.NoteMargin.Bottom,Right:this.NoteMargin.Right},t.AryNoteText=this.CloneArrayText(this.AryNoteText),t},this.ImportStorageData=function(t){if(t.NoteFont&&(this.NoteFont=t.NoteFont),Ee.IsNumber(t.NoteWidth)&&(this.NoteWidth=t.NoteWidth),t.NoteMargin){var e=t.NoteMargin;Ee.IsNumber(e.Left)&&(this.NoteMargin.Left=e.Left),Ee.IsNumber(e.Top)&&(this.NoteMargin.Top=e.Top),Ee.IsNumber(e.Bottom)&&(this.NoteMargin.Bottom=e.Bottom),Ee.IsNumber(e.Right)&&(this.NoteMargin.Right=e.Right)}t.NoteBGColor&&(this.NoteBGColor=t.NoteBGColor),t.NoteTextColor&&(this.NoteTextColor=t.NoteTextColor),this.NoteBorderColor=t.NoteBorderColor,Ee.IsNumber(t.LineSpace)&&(this.LineSpace=t.LineSpace),Ee.IsNumber(t.ArrowSize)&&(this.ArrowSize=t.ArrowSize),this.AryNoteText=this.CloneArrayText(t.AryNoteText)},this.Draw=function(){if(this.PtButtom=null,this.PtTop=null,this.TextRect=null,this.PtCenter=null,!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&1==t.length){var e=this.GetTextFont();if(e){this.ClipFrame();var i=this.Frame.IsHScreen,a=c();if(this.Canvas.fillStyle=this.LineColor,this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.font=e,i){this.Canvas.translate(t[0].X,t[0].Y),this.Canvas.rotate(90*Math.PI/180),this.Canvas.fillText(this.Text,0,0),this.PtButtom={X:t[0].X,Y:t[0].Y+this.FontOption.Size*a/2+2},this.PtTop={X:t[0].X,Y:t[0].Y-this.FontOption.Size*a/2-2},this.PtCenter=t[0];var r={X:t[0].X-this.FontOption.Size*a/2-2,Y:t[0].Y}}else{this.Canvas.fillText(this.Text,t[0].X,t[0].Y),this.PtButtom={X:t[0].X,Y:t[0].Y+this.FontOption.Size*a/2+2},this.PtTop={X:t[0].X,Y:t[0].Y-this.FontOption.Size*a/2-2};var r={X:this.PtButtom.X,Y:this.PtButtom.Y}}var n=this.Canvas.measureText(this.Text).width;this.TextRect={},this.TextRect.Left=t[0].X-n/2,this.TextRect.Top=t[0].Y-this.FontOption.Size*a/2,this.TextRect.Width=n,this.TextRect.Height=this.FontOption.Size*a,this.IsShowNoteText()&&this.DrawText(),this.Canvas.restore(),this.DrawPoint([r])}}}},this.DrawText=function(){this.Canvas.font=this.GetFontString(this.NoteFontOption);var t=0,e=this.Canvas.measureText("擎").width,i=this.Frame.GetBorder(),a=c(),r=this.Frame.IsHScreen,n=this.NoteWidth,o=[];if(Ee.IsNonEmptyArray(this.AryNoteText))for(var s=0;s<this.AryNoteText.length;++s){var l=this.AryNoteText[s];if(l)if(t>0&&(t+=this.LineSpace),l.Text){var h=this.GetMultiLineText(l.Text,n);if(h&&Ee.IsNonEmptyArray(h.AryText))for(var u=0;u<h.AryText.length;++u){u>0&&(t+=this.LineSpace);var d=h.AryText[u];o.push(d),t+=e}}else o.push({Text:""}),t+=e}else t=e;var f={Width:n+this.NoteMargin.Left+this.NoteMargin.Right,Height:t+this.NoteMargin.Top+this.NoteMargin.Bottom,ArrowType:0};r?(f.Left=this.PtTop.X-f.Width/2-this.PtCenter.X,f.Top=this.PtTop.Y-f.Height-this.ArrowSize-this.PtCenter.Y,f.Right=f.Left+f.Width,f.Bottom=f.Top+f.Height,f.Arrow={X:this.PtTop.X-this.PtCenter.X,Y:this.PtTop.Y-this.PtCenter.Y},this.PtCenter.X+t+this.FontOption.Size*a/2+2+this.ArrowSize>i.RightEx&&(f.Top=this.PtButtom.Y+this.ArrowSize+this.PointRadius*a-this.PtCenter.Y,f.Bottom=f.Top+f.Height,f.Arrow.X=this.PtButtom.X-this.PtCenter.X,f.Arrow.Y=this.PtButtom.Y-this.PtCenter.Y,f.ArrowType=1)):(f.Left=this.PtTop.X-f.Width/2,f.Top=this.PtTop.Y-f.Height-this.ArrowSize,f.Right=f.Left+f.Width,f.Bottom=f.Top+f.Height,f.Arrow={X:this.PtTop.X,Y:this.PtTop.Y},f.Left<i.Left?(f.Left=i.Left,f.Right=f.Left+f.Width):f.Right>i.Right&&(f.Right=i.Right,f.Left=f.Right-f.Width),f.Top<i.TopEx&&(f.Top=this.PtButtom.Y+this.ArrowSize+this.PointRadius*a,f.Bottom=f.Top+f.Height,f.Arrow.X=this.PtButtom.X,f.Arrow.Y=this.PtButtom.Y,f.ArrowType=1)),this.DrawNoteBG(f),this.Canvas.textAlign="left",this.Canvas.textBaseline="top",this.Canvas.fillStyle=this.NoteTextColor;for(var p=f.Left+this.NoteMargin.Left,m=f.Top+this.NoteMargin.Top,s=0;s<o.length;++s){var l=o[s];l&&(l.Text?(this.Canvas.fillText(l.Text,p,m),m+=e):m+=e,m+=this.LineSpace)}},this.DrawNoteBG=function(t){if(this.Canvas.fillStyle=this.NoteBGColor,0==t.ArrowType||1==t.ArrowType){var e=new Path2D;if(0==t.ArrowType){e.moveTo(t.Left,t.Bottom),e.lineTo(t.Left,t.Top),e.lineTo(t.Right,t.Top),e.lineTo(t.Right,t.Bottom);var i=t.Arrow.X+.6*this.ArrowSize;e.lineTo(i,t.Bottom),e.lineTo(t.Arrow.X,t.Arrow.Y);var i=t.Arrow.X-.6*this.ArrowSize;e.lineTo(i,t.Bottom)}else{e.moveTo(t.Left,t.Top),e.lineTo(t.Left,t.Bottom),e.lineTo(t.Right,t.Bottom),e.lineTo(t.Right,t.Top);var i=t.Arrow.X+.6*this.ArrowSize;e.lineTo(i,t.Top),e.lineTo(t.Arrow.X,t.Arrow.Y);var i=t.Arrow.X-.6*this.ArrowSize;e.lineTo(i,t.Top)}e.closePath(),this.Canvas.fill(e),this.NoteBorderColor&&(this.Canvas.strokeStyle=this.NoteBorderColor,this.Canvas.stroke(e))}else this.Canvas.fillRect(t.Left,t.Top,t.Width,t.Height)},this.IsShowNoteText=function(){if(this.GetActiveDrawPicture){var t=this.GetActiveDrawPicture();return t.Move.Guid==this.Guid||t.Select.Guid==this.Guid||t.MoveOn.Guid==this.Guid}return!1},this.GetTextFont=function(){if(!this.FontOption||!this.FontOption.Family||this.FontOption.Size<=0)return null;var t="";return this.FontOption.Size>=0&&(t+=this.FontOption.Size*c()+"px "),t+=this.FontOption.Family},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;if(!this.Frame.Data)return-1;if(!this.TextRect)return-1;var i=0;this.Option&&this.Option.Zoom>=1&&(i=this.Option.Zoom*c());var a={Left:this.TextRect.Left-i,Top:this.TextRect.Top-i,Width:this.TextRect.Width+2*i,Height:this.TextRect.Height+2*i};return a.Right=a.Left+a.Width,a.Bottom=a.Top+a.Height,t>a.Left&&t<a.Right&&e>a.Top&&e<a.Bottom?100:-1},this.GetCursorType=function(t){return 100==t?"pointer":null}}function zi(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawAnchoredText",this.PointCount=1,this.AryText=[{Text:"输入内容"}],this.TextColor=lo.ChartDrawAnchoredText.TextColor,this.FontOption={Family:lo.ChartDrawAnchoredText.FontOption.Family,Size:lo.ChartDrawAnchoredText.FontOption.Size,Weight:lo.ChartDrawAnchoredText.FontOption.Weight,Style:lo.ChartDrawAnchoredText.FontOption.Style},this.TextMaxWidth=lo.ChartDrawAnchoredText.TextMaxWidth,this.LineSpace=lo.ChartDrawAnchoredText.LineSpace,this.BGColor=lo.ChartDrawAnchoredText.BGColor,this.BorderColor=lo.ChartDrawAnchoredText.BorderColor,this.TextMargin={Left:lo.ChartDrawAnchoredText.TextMargin.Left,Top:lo.ChartDrawAnchoredText.TextMargin.Top,Bottom:lo.ChartDrawAnchoredText.TextMargin.Bottom,Right:lo.ChartDrawAnchoredText.TextMargin.Right},this.TextRect,this.SetOption=function(t){t&&(t.TextColor&&(this.TextColor=t.TextColor),t.Text&&(this.Text=t.Text),t.FontOption&&this.SetFont(this.FontOption,t.FontOption),Ee.IsNumber(t.TextMaxWidth)&&(this.TextMaxWidth=t.TextMaxWidth),Ee.IsNonEmptyArray(t.AryText)&&(this.AryText=this.CloneArrayText(t.AryText)))},this.ExportStorageData=function(){var t=this.ExportBaseData(),e=this.Value[0];return t.Value=[{XValue:e.XValue,YValue:e.YValue}],t.FontOption={},this.SetFont(t.FontOption,this.FontOption),t.BGColor=this.BGColor,t.TextColor=this.TextColor,t.BorderColor=this.BorderColor,t.LineSpace=this.LineSpace,t.TextMaxWidth=this.TextMaxWidth,t.TextMargin={Left:this.TextMargin.Left,Top:this.TextMargin.Right,Bottom:this.TextMargin.Bottom,Right:this.TextMargin.Right},t.AryText=this.CloneArrayText(this.AryText),t},this.ImportStorageData=function(t){if(t.TextMargin){var e=t.TextMargin;Ee.IsNumber(e.Left)&&(this.TextMargin.Left=e.Left),Ee.IsNumber(e.Top)&&(this.TextMargin.Top=e.Top),Ee.IsNumber(e.Bottom)&&(this.TextMargin.Bottom=e.Bottom),Ee.IsNumber(e.Right)&&(this.TextMargin.Right=e.Right)}t.TextColor&&(this.TextColor=t.TextColor),this.BGColor=t.BGColor,this.BorderColor=t.BorderColor,this.TextMaxWidth=t.TextMaxWidth,Ee.IsNumber(t.LineSpace)&&(this.LineSpace=t.LineSpace),this.AryText=this.CloneArrayText(t.AryText)},this.Draw=function(){if(this.TextRect=null,!(this.Status<2)&&1==this.Point.length&&this.Frame&&!this.IsFrameMinSize()){var t=this.CalculateDrawPoint();t&&1==t.length&&(this.ClipFrame(),this.DrawMultiLineText(t[0]),this.Canvas.restore())}},this.ValueToPoint=function(){if(!this.Frame)return!1;var t=this.Value[0],e=this.XYValueToPoint(t.XValue,t.YValue);this.Point=[e]},this.PointToValue=function(){if(!this.Frame)return!1;var t=this.Frame.GetBorder();if(this.Frame.IsHScreen){var e=t.LeftEx,i=t.Top,a=t.RightEx-e,r=t.Bottom-i,n=this.Point[0],o=(n.X-e)/a,s=(n.Y-i)/r;this.Value[0]={XValue:s,YValue:o}}else{var e=t.Left,i=t.TopEx,a=t.Right-e,r=t.BottomEx-i,n=this.Point[0],s=(n.X-e)/a,o=(n.Y-i)/r;this.Value[0]={XValue:s,YValue:o}}},this.XYValueToPoint=function(t,e){if(!this.Frame)return null;var i=this.Frame.IsHScreen,a=this.Frame.GetBorder();if(i){var r=a.LeftEx,n=a.Top,o=a.RightEx-r,s=a.Bottom-n,l=e*o+r,h=t*s+n;return{X:l,Y:h}}var r=a.Left,n=a.TopEx,o=a.Right-r,s=a.BottomEx-n,l=t*o+r,h=e*s+n;return{X:l,Y:h}},this.CalculateDrawPoint=function(t){if(this.Status<2)return null;if(1!=this.Point.length||!this.Frame)return null;var e=[];if(10==this.Status){var i=this.Value[0],a=this.XYValueToPoint(i.XValue,i.YValue);e.push(a)}else e=this.Point;return e},this.DrawMultiLineText=function(t){if(Ee.IsNonEmptyArray(this.AryText)){var e=0;this.Canvas.font=this.GetFontString(this.FontOption);var i=this.Canvas.measureText("擎").width,a=(this.Frame.GetBorder(),c(),this.Frame.IsHScreen),r={X:t.X,Y:t.Y};a&&(this.Canvas.translate(r.X,r.Y),this.Canvas.rotate(90*Math.PI/180),r.X=0,r.Y=0);for(var n=[],o=0,s=0;s<this.AryText.length;++s){var l=this.AryText[s];if(l)if(e>0&&(e+=this.LineSpace),this.TextMaxWidth>50&&l.Text){var h=this.GetMultiLineText(l.Text,this.TextMaxWidth);if(h&&Ee.IsNonEmptyArray(h.AryText))for(var u=0;u<h.AryText.length;++u){u>0&&(e+=this.LineSpace);var d=h.AryText[u];n.push(d),e+=i}}else{if(l.Text){var f=this.Canvas.measureText(l.Text).width+2;o<f&&(o=f)}n.push({Text:l.Text}),e+=i}}this.TextMaxWidth>50&&(o=this.TextMaxWidth);var p={Left:r.X,Bottom:r.Y,Height:e+this.TextMargin.Top+this.TextMargin.Bottom,Width:o+this.TextMargin.Left+this.TextMargin.Right};p.Top=p.Bottom-p.Height,p.Right=p.Left+p.Width,this.DrawBG(p),this.Canvas.fillStyle=this.TextColor,this.Canvas.textAlign="left",this.Canvas.textBaseline="top";for(var m=p.Left+this.TextMargin.Left,C=p.Top+this.TextMargin.Top,s=0;s<n.length;++s){var l=n[s];l&&(l.Text?(this.Canvas.fillText(l.Text,m,C),C+=i):C+=i,C+=this.LineSpace)}a&&(p.Left=t.X,p.Top=t.Y,p.Width=e+this.TextMargin.Top+this.TextMargin.Bottom,p.Height=o+this.TextMargin.Left+this.TextMargin.Right,p.Right=p.Left+p.Width,p.Bottom=p.Top+p.Height),this.TextRect=p;var v={X:p.Left+p.Width/2,Y:p.Bottom};this.DrawPoint([v])}},this.DrawBG=function(t){if(this.BGColor||this.BorderColor){var e=new Path2D;e.rect(t.Left,t.Top,t.Width,t.Height),this.BGColor&&(this.Canvas.fillStyle=this.BGColor,this.Canvas.fill(e)),this.BorderColor&&(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.stroke(e))}},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;if(!this.TextRect)return-1;var i=this.TextRect;return t>i.Left&&t<i.Right&&e>i.Top&&e<i.Bottom?100:-1},this.GetCursorType=function(t){return 100==t?"pointer":null}}function Ki(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPriceLabel",this.PointCount=1,this.OnlyMoveXIndex=!0,this.TextColor=lo.ChartDrawPriceLabel.TextColor,this.FontOption={Family:lo.ChartDrawPriceLabel.FontOption.Family,Size:lo.ChartDrawPriceLabel.FontOption.Size,Weight:lo.ChartDrawPriceLabel.FontOption.Weight,Style:lo.ChartDrawPriceLabel.FontOption.Style},this.BGColor=lo.ChartDrawPriceLabel.BGColor,this.BorderColor=lo.ChartDrawPriceLabel.BorderColor,this.LabelOffset={X:10,Y:20},this.TextMargin={Left:lo.ChartDrawPriceLabel.TextMargin.Left,Top:lo.ChartDrawPriceLabel.TextMargin.Top,Bottom:lo.ChartDrawPriceLabel.TextMargin.Bottom,Right:lo.ChartDrawPriceLabel.TextMargin.Right},this.TextRect,this.SetOption=function(t){if(t&&(t.TextColor&&(this.TextColor=t.TextColor),t.BGColor&&(this.BGColor=t.BGColor),t.BorderColor&&(this.BorderColor=t.BorderColor),t.FontOption&&this.SetFont(this.FontOption,t.FontOption),t.LabelOffset)){var e=t.LabelOffset;Ee.IsNumber(e.X)&&(this.LabelOffset.X=e.X),Ee.IsNumber(e.Y)&&(this.LabelOffset.Y=e.Y)}},this.ExportStorageData=function(){var t=this.ExportBaseData(),e=this.Value[0];return t.Value=[{XValue:e.XValue,YValue:e.YValue}],t.BGColor=this.BGColor,t.TextColor=this.TextColor,t.BorderColor=this.BorderColor,t.TextMargin={Left:this.TextMargin.Left,Top:this.TextMargin.Right,Bottom:this.TextMargin.Bottom,Right:this.TextMargin.Right},t},this.ImportStorageData=function(t){if(t.TextMargin){var e=t.TextMargin;Ee.IsNumber(e.Left)&&(this.TextMargin.Left=e.Left),Ee.IsNumber(e.Top)&&(this.TextMargin.Top=e.Top),Ee.IsNumber(e.Bottom)&&(this.TextMargin.Bottom=e.Bottom),Ee.IsNumber(e.Right)&&(this.TextMargin.Right=e.Right)}t.TextColor&&(this.TextColor=t.TextColor),this.BGColor=t.BGColor,this.BorderColor=t.BorderColor},this.Draw=function(){if(this.TextRect=null,!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&1==t.length){var e=t[0];this.ClipFrame(),this.DrawPriceLabel(e),this.Canvas.restore(),this.DrawPoint([e])}}},this.DrawPriceLabel=function(t){var e=this.GetFontString(this.FontOption);if(e){var i,a,r=this.Frame.IsHScreen,n=(c(),0);r?(this.Canvas.translate(t.X,t.Y),this.Canvas.rotate(90*Math.PI/180),i={X:0,Y:0},a=this.Frame.GetYData(t.X,!1),n=1):(i={X:t.X,Y:t.Y},a=this.Frame.GetYData(t.Y,!1));var o=2;this.Symbol&&0==this.Frame.Identify&&(o=pr(this.Symbol));var s=a.toFixed(o);this.Canvas.font=e;var l=i.X+this.LabelOffset.X,h=i.Y-this.LabelOffset.Y,u=this.Canvas.measureText("擎").width,d=this.Canvas.measureText(s).width,f={Left:l,Bottom:h,Width:d+this.TextMargin.Left+this.TextMargin.Right,Height:u+this.TextMargin.Top+this.TextMargin.Bottom};f.Top=f.Bottom-f.Height,f.Right=f.Left+f.Width,this.DrawBG(f,i);var p=f.Left+f.Width/2,m=f.Top+f.Height/2;this.Canvas.textAlign="center",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(s,p,m+n),r?(this.TextRect={Left:t.X+this.LabelOffset.Y,Top:t.Y+this.LabelOffset.X,Width:u+this.TextMargin.Top+this.TextMargin.Bottom,Height:d+this.TextMargin.Left+this.TextMargin.Right},this.TextRect.Right=this.TextRect.Left+this.TextRect.Width,this.TextRect.Bottom=this.TextRect.Top+this.TextRect.Height):this.TextRect=f}},this.DrawBG=function(t,e){var i=c(),a=new Path2D;a.moveTo(t.Left,t.Bottom),a.lineTo(t.Left,t.Top),a.lineTo(t.Right,t.Top),a.lineTo(t.Right,t.Bottom);var r=t.Left+15*i;a.lineTo(r,t.Bottom),a.lineTo(e.X,e.Y),r=t.Left+5*i,a.lineTo(r,t.Bottom),a.closePath(),this.BGColor&&(this.Canvas.fillStyle=this.BGColor,this.Canvas.fill(a)),this.BorderColor&&(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.stroke(a)),this.BGColor&&(this.Canvas.beginPath(),this.Canvas.arc(e.X,e.Y,2*i,0,360,!1),this.Canvas.fillStyle=this.BGColor,this.Canvas.fill())},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;if(!this.TextRect)return-1;var i=this.TextRect;return t>i.Left&&t<i.Right&&e>i.Top&&e<i.Bottom?100:-1},this.GetCursorType=function(t){return 100==t?"pointer":null}}function $i(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawPriceNote",this.PointCount=2,this.GetXYCoordinate=this.GetXYCoordinate_default,this.IsPointIn=this.IsPointIn_XYValue_Line,this.OnlyMoveXIndex=!0,this.IsSupportMagnet=!0,this.FontOption={Family:lo.ChartDrawPriceNote.FontOption.Family,Size:lo.ChartDrawPriceNote.FontOption.Size,Weight:lo.ChartDrawPriceNote.FontOption.Weight,Style:lo.ChartDrawPriceNote.FontOption.Style},this.TextMargin={Left:lo.ChartDrawPriceNote.TextMargin.Left,Top:lo.ChartDrawPriceNote.TextMargin.Top,Bottom:lo.ChartDrawPriceNote.TextMargin.Bottom,Right:lo.ChartDrawPriceNote.TextMargin.Right},this.BGColor=lo.ChartDrawPriceNote.BGColor,this.BorderColor=lo.ChartDrawPriceNote.BorderColor,this.TextColor=lo.ChartDrawPriceNote.TextColor,this.BorderRoundRadius=3,this.TextRect,this.SetOption=function(t){t&&(t.TextColor&&(this.TextColor=t.TextColor),t.BGColor&&(this.BGColor=t.BGColor),t.BorderColor&&(this.BorderColor=t.BorderColor),t.FontOption&&this.SetFont(this.FontOption,t.FontOption))},this.ExportStorageData=function(){var t=this.ExportBaseData();t.Value=[];for(var e=0;e<this.Value.length;++e){var i=this.Value[e];t.Value.push({XValue:i.XValue,YValue:i.YValue})}return t.BGColor=this.BGColor,t.TextColor=this.TextColor,t.BorderColor=this.BorderColor,t.TextMargin={Left:this.TextMargin.Left,Top:this.TextMargin.Right,Bottom:this.TextMargin.Bottom,Right:this.TextMargin.Right},t},this.ImportStorageData=function(t){if(t.TextMargin){var e=t.TextMargin;Ee.IsNumber(e.Left)&&(this.TextMargin.Left=e.Left),Ee.IsNumber(e.Top)&&(this.TextMargin.Top=e.Top),Ee.IsNumber(e.Bottom)&&(this.TextMargin.Bottom=e.Bottom),Ee.IsNumber(e.Right)&&(this.TextMargin.Right=e.Right)}t.TextColor&&(this.TextColor=t.TextColor),this.BGColor=t.BGColor,this.BorderColor=t.BorderColor},this.Draw=function(){if(this.LinePoint=[],this.TextRect=null,!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!0,IsCheckY:!0});if(t&&2==t.length){this.ClipFrame();var e=t[0],i=t[1];this.LineWidth=1,this.SetLineWidth(),this.Canvas.strokeStyle=this.LineColor,this.Canvas.beginPath(),this.Canvas.moveTo(e.X,e.Y),this.Canvas.lineTo(i.X,i.Y),this.Canvas.stroke(),this.RestoreLineWidth(),this.DrawPriceLabel(e,i);var a={Start:e,End:i};this.LinePoint.push(a),this.DrawPoint(t),this.Canvas.restore()}}},this.DrawPriceLabel=function(t,e){if(this.GetFontString(this.FontOption)){var i=2;this.Symbol&&0==this.Frame.Identify&&(i=pr(this.Symbol));var a=c(),r={X:e.X,Y:e.Y},n=this.Frame.GetYData(t.Y,!1),o=n.toFixed(i),s=this.Canvas.measureText("擎").width,l=this.Canvas.measureText(o).width,h=this.CalculateAngle(t.X,t.Y,e.X,e.Y);if(h>=0&&h<=45||h>=315&&h<=360){var u=r.X,d=r.Y,f={Left:u,Bottom:d,Width:l+this.TextMargin.Left+this.TextMargin.Right,Height:s+this.TextMargin.Top+this.TextMargin.Bottom};f.Bottom=d+f.Height/2,f.Top=f.Bottom-f.Height,f.Right=f.Left+f.Width}else if(h>45&&h<=135){var u=r.X,d=r.Y,f={Left:u,Bottom:d,Width:l+this.TextMargin.Left+this.TextMargin.Right,Height:s+this.TextMargin.Top+this.TextMargin.Bottom};f.Left=u-f.Width/2,f.Top=f.Bottom-f.Height,f.Right=f.Left+f.Width}else if(h>=135&&h<=225){var u=r.X,d=r.Y,f={Width:l+this.TextMargin.Left+this.TextMargin.Right,Height:s+this.TextMargin.Top+this.TextMargin.Bottom};f.Bottom=d+f.Height/2,f.Top=f.Bottom-f.Height,f.Right=u,f.Left=f.Right-f.Width}else{if(!(h>=225&&h<=315))return;var u=r.X,p=r.Y,f={Width:l+this.TextMargin.Left+this.TextMargin.Right,Height:s+this.TextMargin.Top+this.TextMargin.Bottom};f.Top=p,f.Bottom=f.Top+f.Height,f.Left=u-f.Width/2,f.Right=f.Left-f.Width}this.DrawBG(f),this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.TextColor;var m=f.Left+this.TextMargin.Left,C=f.Top+f.Height/2;this.Canvas.fillText(o,m,C+0),this.BGColor&&(this.Canvas.beginPath(),this.Canvas.arc(t.X,t.Y,2*a,0,360,!1),this.Canvas.fillStyle=this.BGColor,this.Canvas.fill()),this.TextRect=f}},this.DrawBG=function(t){if(t){var e=c(),i=this.BorderRoundRadius*e,a=new Path2D;a.roundRect(v(t.Left),v(t.Top),g(t.Width),g(t.Height),[i]),this.BGColor&&(this.Canvas.fillStyle=this.BGColor,this.Canvas.fill(a)),this.BorderColor&&(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.stroke(a))}},this.IsPointIn=function(t,e){if(!this.Frame||10!=this.Status)return-1;if(!this.TextRect)return-1;var i=this.TextRect;return t>i.Left&&t<i.Right&&e>i.Top&&e<i.Bottom?1:this.IsPointIn_XYValue_Line(t,e)}}function ji(){this.newMethod=ai,this.newMethod(),delete this.newMethod,this.ClassName="ChartDrawFibWedge",this.PointCount=3,this.Font=12*c()+"px 微软雅黑",this.IsPointIn=this.IsPointIn_XYValue_Line,this.GetXYCoordinate=this.GetXYCoordinate_default,this.PointToValue_Default=this.PointToValue,this.OnlyMoveXIndex=!0,this.IsSupportMagnet=!0,this.LastPoint,this.AreaConfig={AryData:[{Value:.236,Color:"rgb(242,52,69)",Enable:!0},{Value:.382,Color:"rgb(255,152,0)",Enable:!0},{Value:.5,Color:"rgb(76,175,80)",Enable:!0},{Value:.618,Color:"rgb(8,153,129)",Enable:!0},{Value:.786,Color:"rgb(0,188,212)",Enable:!0},{Value:1,Color:"rgb(120,123,134)",Enable:!0},{Value:1.618,Color:"rgb(41,98,255)",Enable:!1},{Value:2.618,Color:"rgb(242,54,69)",Enable:!1}],Opacity:.3},this.TextAngle,this.Radius,this.CalculateHypotenuse=function(t,e){var i=t.X-e.X,a=t.Y-e.Y;return Math.sqrt(i*i+a*a)},this.MagnetXY=function(t){var e={IsFixedX:this.OnlyMoveXIndex};if(this.Option&&this.Option.Magnet&&this.Option.Magnet.Enable&&this.IsSupportMagnet&&0==this.Frame.Identify){var i=-1;2==this.Status&&(i=1),Ee.IsNumber(this.MovePointIndex)&&(i=this.MovePointIndex),i>=0&&(e.Magnet={Enable:!0,PointIndex:i,Distance:this.Option.Magnet.Distance,Type:this.Option.Magnet.Type})}this.AdjustPoint(t,e)},this.CalculateAllPoint=function(t,e,i){var a=[];a.push({X:t.X,Y:t.Y}),a.push({X:e.X,Y:e.Y}),this.MagnetXY(a),a.push({X:i.X,Y:i.Y});var r=this.CalculateHypotenuse(a[0],a[1]),n=a[0].X-a[2].X,o=a[0].Y-a[2].Y,s=Math.sqrt(n*n+o*o),l=n*r/s,h=o*r/s;return a[2].X=a[0].X-l,a[2].Y=a[0].Y-h,a},this.ValueToPoint_V2=function(t){if(!Ee.IsNonEmptyArray(t))return null;if(!this.Frame)return null;var e=this.Frame.Data;if(!e)return null;for(var i=this.Frame.IsHScreen,a=[],r=0;r<t.length;++r){var n=t[r],o=new b;i?(o.Y=this.Frame.GetXFromIndex(n.XValue-e.DataOffset,!1),o.X=this.Frame.GetYFromData(n.YValue,!1)):(o.X=this.Frame.GetXFromIndex(n.XValue-e.DataOffset,!1),o.Y=this.Frame.GetYFromData(n.YValue,!1)),a[r]=o}return a},this.CalculateDrawPoint=function(t){if(this.Status<2)return null;if(!this.Point.length||!this.Frame)return null;var e=[];if(2==this.Status)if(2==this.PointStatus&&this.LastPoint)e=this.CalculateAllPoint(this.Point[0],this.Point[1],this.LastPoint);else{for(var i=0;i<this.Point.length&&i<2;++i){var a=this.Point[i];e.push({X:a.X,Y:a.Y})}this.MagnetXY(e)}else if(10==this.Status){var r=this.Frame.Data;if(!r)return null;for(var n=this.Frame.XPointCount,o=0,s=this.Frame.IsHScreen,i=0;i<this.Value.length;++i){var a=this.Value[i],l=a.XValue-r.DataOffset;(l<0||l>=n)&&++o;var h=new b;s?(h.Y=this.Frame.GetXFromIndex(a.XValue-r.DataOffset,!1),h.X=this.Frame.GetYFromData(a.YValue,!1)):(h.X=this.Frame.GetXFromIndex(a.XValue-r.DataOffset,!1),h.Y=this.Frame.GetYFromData(a.YValue,!1)),e.push(h)}}else 20==this.Status&&(e=this.CalculateAllPoint(this.Point[0],this.Point[1],this.Point[2]));return e},this.Draw=function(){if(this.LinePoint=[],this.TextAngle=null,this.Radius=null,!this.IsFrameMinSize()){var t=this.CalculateDrawPoint({IsCheckX:!1,IsCheckY:!1});if(Ee.IsNonEmptyArray(t)){var e=t.slice(0);this.CalculateLines(e),this.ClipFrame(),this.DrawArea(e),this.DrawLines(this.LinePoint),this.DrawPoint(e),this.DrawTitle(e),this.Canvas.restore()}}},this.DrawArea=function(t){if(3==t.length&&this.AreaConfig&&Ee.IsNonEmptyArray(this.AreaConfig.AryData)){var e=t[0],i=this.CalculateHypotenuse(e,t[1]),a=this.CalculateAngle(e.X,e.Y,t[1].X,t[1].Y),r=this.CalculateAngle(e.X,e.Y,t[2].X,t[2].Y),n=a-r;if(n<0&&(n+=360),n>180){var o=a;a=r,r=o}var s=a-(a-r)/2;a-r<0&&(s-=180);for(var l=null,h=0;h<this.AreaConfig.AryData.length;++h){var u=this.AreaConfig.AryData[h];if(u.Enable){var c=i*u.Value,d=u.Color,f=ai.ColorToRGBA(d,this.AreaConfig.Opacity),p=new Path2D;Ee.IsNumber(l)?(p.arc(e.X,e.Y,l,Math.PI/180*(360-a),Math.PI/180*(360-r)),p.arc(e.X,e.Y,c,Math.PI/180*(360-r),Math.PI/180*(360-a),!0)):(p.moveTo(e.X,e.Y),p.arc(e.X,e.Y,c,Math.PI/180*(360-a),Math.PI/180*(360-r))),this.Canvas.fillStyle=f,this.Canvas.fill(p),l=c}}for(var h=0;h<this.AreaConfig.AryData.length;++h){var u=this.AreaConfig.AryData[h];if(u.Enable){var c=i*u.Value,d=u.Color,p=new Path2D;p.arc(e.X,e.Y,c,Math.PI/180*(360-a),Math.PI/180*(360-r)),this.Canvas.strokeStyle=d,this.Canvas.stroke(p)}}this.Radius=i,this.TextAngle=s}},this.DrawTitle=function(t){if(3==t.length&&this.AreaConfig&&Ee.IsNonEmptyArray(this.AreaConfig.AryData)){var e=t[0],i=Math.PI/180*(360-this.TextAngle);this.Canvas.font=this.Font;for(var a=0;a<this.AreaConfig.AryData.length;++a){var r=this.AreaConfig.AryData[a];if(r.Enable){var n=this.Radius*r.Value,o=r.Color,s=""+r.Value,l=Math.sin(i)*n+e.Y,h=Math.cos(i)*n+e.X;this.Canvas.fillStyle=o,this.Canvas.textAlign="left",this.Canvas.textBaseline="top",this.Canvas.fillText(s,h+2,l+2)}}}},this.SetLastPoint=function(t){this.LastPoint={X:t.X,Y:t.Y}},this.DrawLines=function(t){if(Ee.IsNonEmptyArray(t))for(var e=0;e<t.length;++e){var i=t[e];this.DrawLine(i.Start,i.End)}},this.CalculateLines=function(t){if(2===t.length){var e={Start:new b,End:new b};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e)}else if(3===t.length){var e={Start:new b,End:new b};e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[1].Y,e.End.X=t[1].X,this.LinePoint.push(e),e={Start:new b,End:new b},e.Start.Y=t[0].Y,e.Start.X=t[0].X,e.End.Y=t[2].Y,e.End.X=t[2].X,this.LinePoint.push(e)}},this.IsPointIn=function(t,e,i){if(10!=this.Status)return-1;var a=this.IsPointInXYValue(t,e,this.AryPoint,i);return a>=0?a:(a=this.IsPointInLine(t,e,i),a>=0?100:-1)},this.IsPointInDots=function(t,e,i,a){if(!Ee.IsNonEmptyArray(i))return-1;if(!this.Frame)return-1;if(!this.Frame.Data)return-1;if(!this.Value)return-1;var r=5;a&&Ee.IsNumber(a.Zoom)?r+=a.Zoom:this.Option&&Ee.IsNumber(this.Option.Zoom)&&(r+=this.Option.Zoom);this.Frame.IsHScreen;r*=c();for(var n=0;n<i.length;++n){var o=i[n],s=new Path2D;if(s.arc(o.X,o.Y,r,0,360),this.Canvas.isPointInPath(s,t,e))return n}return-1},this.GetCursorType=function(t){return 2==t?"ns-resize":null},this.PointToValue=function(){if(!this.Frame)return!1;var t=this.Point[2],e={X:t.X,Y:t.Y};if(!this.PointToValue_Default())return!1;var i=[this.Value[0],this.Value[1]],a=this.ValueToPoint_V2(i),r=this.CalculateHypotenuse(a[0],a[1]),n=a[0].X-e.X,o=a[0].Y-e.Y,s=Math.sqrt(n*n+o*o),l=n*r/s,h=o*r/s;this.Point[2].X=a[0].X-l,this.Point[2].Y=a[0].Y-h;var i=this.PointToValue_V2([this.Point[2]],{Type:1});return!!i&&(this.Value[2]=i[0],!0)},this.PointToValue_V2=function(t,e){return this.Frame?"MinuteFrame"==this.Frame.ClassName||"MinuteHScreenFrame"==this.Frame.Class?this.PointToValue_Minute_V2(t,e):this.PointToValue_KLine_V2(t,e):null},this.PointToValue_KLine_V2=function(t,e){if(!Ee.IsNonEmptyArray(t))return null;if(!this.Frame)return null;var i=this.Frame.Data;if(!i)return null;var a=[];if(this.Frame.IsHScreen)for(var r=0;r<t.length;++r){var n=t[r],o=this.Frame.GetXData(n.Y,!1)+i.DataOffset,s=this.Frame.GetYData(n.X,!1),l={XValue:o,YValue:s,Type:1};a[r]=l}else for(var r=0;r<t.length;++r){var n=t[r],o=this.Frame.GetXData(n.X,!1)+i.DataOffset,s=this.Frame.GetYData(n.Y,!1),l={XValue:o,YValue:s,Type:1};a[r]=l}return a}}function Ji(){this.DrawData=new Mn.default,this.StorageKey,this.GetEventCallback,this.Load=function(t){if(t){this.StorageKey=t;var e=localStorage[this.StorageKey];if(Nn.Chart.Log("[ChartDrawStorage::Load] Load to localStorage, key="+this.StorageKey+", cache="+e),e&&"string"==typeof e){var i=JSON.parse(e);for(var a in i){var r=i[a],n=new Mn.default;for(var o in r.Value){var s=r.Value[o];n.set(s.Key,s.Value)}this.DrawData.set(r.Key,n)}}}},this.Save=function(){if(this.StorageKey){var t=[],e=!0,i=!1,a=void 0;try{for(var r,n=(0,Fn.default)(this.DrawData);!(e=(r=n.next()).done);e=!0){var o=r.value,s=o[0],l=o[1],h={Key:s,Value:[]},u=!0,c=!1,d=void 0;try{for(var f,p=(0,Fn.default)(l);!(u=(f=p.next()).done);u=!0){var m=f.value;m[1]&&!1===m[1].EnableSave||h.Value.push({Key:m[0],Value:m[1]})}}catch(t){c=!0,d=t}finally{try{!u&&p.return&&p.return()}finally{if(c)throw d}}Ee.IsNonEmptyArray(h.Value)&&t.push(h)}}catch(t){i=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw a}}Nn.Chart.Log("[ChartDrawStorage::Save] save to localStorage, key="+this.StorageKey);var C=(0,wn.default)(t);localStorage[this.StorageKey]=C}},this.GetItemKey=function(t){return t.Symbol+"-"+t.Period},this.SaveDrawData=function(t){var e=this.GetItemKey(t),i=t.ExportStorageData();if(i){if(this.DrawData.has(e))Nn.Chart.Log("[ChartDrawStorage::SaveDrawData] Upate: key, drawPicture, data",e,t,i),this.DrawData.get(e).set(i.Guid,i);else{Nn.Chart.Log("[ChartDrawStorage::SaveDrawData] Insert: key, drawPicture, data",e,t,i);var a=new Mn.default;a.set(i.Guid,i),this.DrawData.set(e,a)}Nn.Chart.Log("[ChartDrawStorage::SaveDrawData] All draw data： ",this.DrawData),this.Save()}},this.DeleteDrawData=function(t){var e=this.GetItemKey(t);if(this.DrawData.has(e)){var i=this.DrawData.get(e);i.has(t.Guid)&&(i.delete(t.Guid),this.Save())}},this.Clear=function(){this.DrawData=new Mn.default,this.Save()},this.GetDrawData=function(t){var e=[],i=this.GetItemKey(t);if(!this.DrawData.has(i))return e;var a=this.DrawData.get(i),r=!0,n=!1,o=void 0;try{for(var s,l=(0,Fn.default)(a);!(r=(s=l.next()).done);r=!0){var h=s.value;e.push(h[1])}}catch(t){n=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw o}}return e}}function qi(){this.Data=[[1e-6,2e-6,1e-6,1e-7],[2e-6,4e-6,2e-6,2e-7],[4e-6,5e-6,4e-6,1e-7],[5e-6,1e-5,5e-6,5e-7],[1e-5,2e-5,1e-5,1e-6],[2e-5,4e-5,2e-5,2e-6],[4e-5,5e-5,4e-5,1e-6],[5e-5,1e-4,5e-5,5e-6],[1e-4,2e-4,1e-4,1e-5],[2e-4,4e-4,2e-4,2e-5],[4e-4,5e-4,4e-4,1e-5],[5e-4,.001,5e-4,5e-5],[.001,.002,.001,1e-4],[.002,.004,.002,2e-4],[.004,.005,.004,1e-4],[.005,.01,.005,5e-4],[.01,.02,.01,.001],[.02,.04,.02,.002],[.04,.05,.04,.001],[.05,.1,.05,.005],[.1,.2,.1,.01],[.2,.4,.2,.02],[.4,.5,.4,.01],[.5,1,.5,.05],[1,2,.5,.05],[2,4,.5,.05],[4,5,.5,.05],[5,10,.5,.05],[10,20,10,2],[20,40,20,5],[40,50,40,2],[50,100,50,10],[100,200,100,10],[200,400,200,20],[400,500,400,10],[500,1e3,500,50],[1e3,2e3,1e3,50],[2e3,4e3,2e3,50],[4e3,5e3,4e3,50],[5e3,1e4,5e3,100],[1e4,2e4,1e4,1e3],[2e4,4e4,1e4,1e3],[4e4,5e4,1e4,1e3],[5e4,1e5,1e4,1e3],[1e5,2e5,1e5,1e4],[2e5,4e5,1e5,1e4],[4e5,5e5,1e5,1e4],[5e5,1e6,1e5,1e4],[1e6,2e6,1e6,1e5],[2e6,4e6,1e6,1e5],[4e6,5e6,1e6,1e5],[5e6,1e7,1e6,1e5],[1e7,2e7,1e7,1e6],[2e7,4e7,1e7,1e6],[4e7,5e7,1e7,1e6],[5e7,1e8,1e7,1e6],[1e8,2e8,1e8,1e7],[2e8,4e8,1e8,1e7],[4e8,5e8,1e8,1e7],[5e8,1e9,1e8,1e7],[1e9,2e9,1e9,1e8],[2e9,4e9,1e9,1e8],[4e9,5e9,1e9,1e8],[5e9,1e10,1e9,1e8]],this.Find=function(t){for(var e in this.Data){var i=this.Data[e];if(t>i[0]&&t<=i[1]){var a={};return a.FixInterval=i[2],a.Increase=i[3],a}}return null}}function Zi(){this.newMethod=qi,this.newMethod(),delete this.newMethod,this.Data=[[1e-6,2e-6,1e-6,1e-7],[2e-6,4e-6,2e-6,2e-7],[4e-6,5e-6,4e-6,1e-7],[5e-6,1e-5,5e-6,5e-7],[1e-5,2e-5,1e-5,1e-6],[2e-5,4e-5,2e-5,2e-6],[4e-5,5e-5,4e-5,1e-6],[5e-5,1e-4,5e-5,5e-6],[1e-4,2e-4,1e-4,1e-5],[2e-4,4e-4,2e-4,2e-5],[4e-4,5e-4,4e-4,1e-5],[5e-4,.001,5e-4,5e-5],[.001,.002,.001,1e-4],[.002,.004,.002,1e-4],[.004,.005,.004,1e-4],[.005,.01,.005,5e-4],[.01,.02,.01,.001],[.02,.04,.02,.001],[.04,.05,.04,.001],[.05,.1,.05,.001],[.1,.2,.1,.01],[.2,.4,.2,.01],[.4,.5,.2,.01],[.5,.8,.2,.01],[.8,1,.5,.01],[1,2,.5,.05],[2,4,.5,.05],[4,5,.5,.05],[5,10,.5,.05],[10,12,10,2],[20,40,20,5],[40,50,40,2],[50,100,50,10],[100,200,100,10],[200,400,200,20],[400,500,400,10],[500,1e3,500,50],[1e3,2e3,1e3,50],[2e3,4e3,2e3,50],[4e3,5e3,4e3,50],[5e3,1e4,5e3,100],[1e4,2e4,1e4,1e3],[2e4,4e4,2e4,2e3],[4e4,5e4,4e4,1e3],[5e4,1e5,5e4,5e3],[1e5,2e5,1e5,1e4],[2e5,4e5,2e5,2e4],[4e5,5e5,4e5,1e4],[5e5,1e6,5e5,5e4],[1e6,2e6,1e6,1e5],[2e6,4e6,2e6,2e5],[4e6,5e6,4e6,1e5],[5e6,1e7,5e6,5e5],[1e7,2e7,1e7,1e6],[2e7,4e7,2e7,2e6],[4e7,5e7,4e7,1e6],[5e7,1e8,5e7,5e6],[1e8,2e8,1e8,1e7],[2e8,4e8,2e8,2e7],[4e8,5e8,4e8,1e7],[5e8,1e9,5e8,5e7],[1e9,2e9,1e9,1e8],[2e9,4e9,2e9,2e8],[4e9,5e9,4e9,1e8],[5e9,1e10,5e9,5e8]]}function Qi(){this.IsDOMFrameTitle=!1,this.IsDOMFrameToolbar=!1,this.KLineToolbar={ModifyIndex:!0,ChangeIndex:!0,CloseIndex:!0,OverlayIndex:!1,MaxMinWindow:!0,TitleWindow:!0,ExportData:!1,IsShowOverlayToolbar:!0,IsShowOverlayFrame:!0},this.MinuteToolbar={ModifyIndex:!0,ChangeIndex:!0,CloseIndex:!0,OverlayIndex:!0,MaxMinWindow:!0,TitleWindow:!0,ExportData:!1},this.TooltipBGColor="rgb(255, 255, 255)",this.TooltipAlpha=.92,this.SelectRectBGColor="rgba(1,130,212,0.06)",this.UpBarColor="rgb(238,21,21)",this.DownBarColor="rgb(25,158,0)",this.UnchagneBarColor="rgb(0,0,0)",this.EmptyBarBGColor="rgb(255,255,255)",this.HighLowBarColor="rgb(41,98,255)",this.HLCArea={HighLineColor:"rgb(242,54,69)",LowLineColor:"rgb(8,153,129)",CloseLineColor:"rgb(224,227,227)",LineWidth:2*c(),UpAreaColor:"rgba(253,214,218, 0.5)",DownAreaColor:"rgba(205,235,230, 0.5)"},this.Minute={},this.Minute.VolBarColor=null,this.Minute.VolTitleColor="rgb(105,105,105)",this.Minute.PriceColor="rgb(50,171,205)",this.Minute.PriceLineWidth=1*c(),this.Minute.AreaPriceColor="rgba(50,171,205,0.1)",this.Minute.AvPriceColor="rgb(238,127,9)",this.Minute.PositionColor="rgb(218,165,32)",this.Minute.FrameSplitTextColor=null,this.Minute.Before={BGColor:"rgba(240,240,240,0.7)",LineColor:"rgb(50,171,205)",VolColor:["rgb(192,192,0)"],AvPriceColor:"rgb(190,190,190)",Point:{Color:"rgb(65,105,225)",Radius:2*c()},CloseIcon:{Family:"iconfont",Text:"",Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Size:12*c()}},this.Minute.After={BGColor:"rgba(240,240,240,0.7)",LineColor:"rgb(50,171,205)",VolColor:["rgb(192,192,0)"],AvPriceColor:"rgb(190,190,190)",Point:{Color:"rgb(65,105,225)",Radius:2*c()}},this.DefaultTextColor="rgb(43,54,69)",this.DefaultTextFont=14*c()+"px 微软雅黑",this.TitleFont=13*c()+"px 微软雅黑",this.IndexTitleBGColor="rgb(250,250,250)",this.IndexTitleBorderColor="rgb(180,180,180)",this.IndexTitleBorderMoveOnColor="rgb(0,0,0)",this.IndexTitleColor="rgb(43,54,69)",this.IndexTitleSelectedColor="rgb(65,105,225)",this.OverlayIndexTitleBGColor="rgba(255,255,255,0.7)",this.IndexTitleMerginLeft=1,this.Title={TradeIndexColor:"rgb(105,105,105)",ColorIndexColor:"rgb(112,128,144)",VolColor:"rgb(43,54,69)",AmountColor:"rgb(43,54,69)",DateTimeColor:"rgb(43,54,69)",SettingColor:"rgb(43,54,69)",NameColor:"rgb(43,54,69)",TurnoverRateColor:"rgb(43,54,69)",PositionColor:"rgb(43,54,69)"},this.UpTextColor="rgb(238,21,21)",this.DownTextColor="rgb(25,158,0)",this.UnchagneTextColor="rgb(0,0,0)",this.CloseLineColor="rgb(0,191,255)",this.CloseLineAreaColor=["rgba(0,191,255,0.8)","rgba(0,191,255,0.2)"],this.CloseLineWidth=2,this.FrameBorderPen="rgb(225,236,242)",this.MultiDayBorderPen="rgb(225,236,242)",this.FrameSplitPen="rgb(225,236,242)",this.FrameDotSplitPen="rgb(105,105,105)",this.FrameYLineDash=null,this.FrameXLineDash=null,this.FrameSplitTextColor="rgb(117,125,129)",this.FrameSplitTextFont=14*c()+"px 微软雅黑",this.FrameTitleBGColor="rgb(246,251,253)",this.Frame={XBottomOffset:1*c(),YTopOffset:2*c(),YTextPadding:[2,2]},this.ToolbarButtonStyle=0,this.FrameLogo={TextColor:"rgb(178,34,34)",Font:"bold "+16*c()+"px 微软雅黑",Text:"*仅学习使用*"},this.Frame.PercentageText={PriceColor:"rgb(117,125,129)",PercentageColor:"rgb(117,125,129)",SplitColor:"rgb(117,125,129)",Font:14*c()+"px 微软雅黑"},this.FrameLogarithmic={OpenPriceFont:"bold "+14*c()+"px 微软雅黑",MinInterval:45*c()},this.FrameSplitIncrease={Increase:.1},this.FrameSplitAverage={Count:4},this.FrameGoldenSection={Golden:[0,.191,.382,.5,.618,.809,1]},this.FrameLatestPrice={TextColor:"rgb(255,255,255)",UpBarColor:"rgb(238,21,21)",DownBarColor:"rgb(25,158,0)",UnchagneBarColor:"rgb(0,0,0)",BGAlpha:.6,EmptyBGColor:"rgb(255,255,255)",OverlayTextColor:"rgb(255,255,255)"},this.FrameMargin=4,this.FrameLeftMargin=2,this.FrameRightMargin=2,this.DragSubFrameBorder={TopBorderHeight:6*c(),MinFrameHeight:50*c()},this.OverlayFrame={BolderPen:"rgb(190,190,190)",TitleColor:"rgb(105,105,105)",TitleFont:11*c()+"px arial"},this.CorssCursorBGColor="rgb(43,54,69)",this.CorssCursorTextColor="rgb(255,255,255)",this.CorssCursorTextFont=14*c()+"px 微软雅黑",this.CorssCursorHPenColor="rgb(130,130,130)",this.CorssCursorVPenColor="rgb(130,130,130)",this.CorssCursorXRangeBGColor="rgba(100,149,237,0.3)",this.CorssCursor={RightButton:{BGColor:"rgb(43,54,69)",PenColor:"rgb(255,255,255)",Icon:{Text:"",Color:"rgb(255,255,255)",Family:"iconfont",Size:18}}},this.LockBGColor="rgb(220, 220, 220)",this.LockTextColor="rgb(210, 34, 34)",this.Domain="http://127.0.0.1:8080",this.CacheDomain="http://127.0.0.1:8087",this.PyIndexDomain="http://127.0.0.1:8088",this.KLine={MaxMin:{Font:12*c()+"px 微软雅黑",Color:"rgb(43,54,69)",RightArrow:"→",LeftArrow:"←",HighYOffset:0,LowYOffset:0},Info:{Investor:{ApiUrl:"/API/NewsInteract",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#1c65db"}},Announcement:{ApiUrl:"/API/ReportList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f5a521"},IconFont2:{Family:"iconfont",Text:"",HScreenText:"",Color:"#ed7520"}},Pforecast:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#986cad"}},Research:{ApiUrl:"/API/InvestorRelationsList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#19b1b7"}},BlockTrading:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f39f7c"}},TradeDetail:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#b22626"}},IconLibrary:{Family:"iconfont",Icon:[{Text:"",HScreenText:"",Color:"#f39f7c"},{Text:"",HScreenText:"",Color:"#19b1b7"},{Text:"",HScreenText:"",Color:"#b22626"},{Text:"",HScreenText:"",Color:"#ed7520"}]}},NumIcon:{Color:"rgb(251,80,80)",Family:"iconfont",Text:["","","","","","","","","","","","","","","","","","","","",""]},TradeIcon:{Family:"iconfont",Buy:{Color:"rgb(255,15,4)",Text:"",HScreenText:""},Sell:{Color:"rgb(64,122,22)",Text:"",HScreenText:""}}},this.VirtualKLine={Color:"rgb(100,100,100)",LineDash:[2,2]},this.OrderFlow={UpColor:{BG:"rgb(223,191,180)",Border:"rgb(196,84,86)"},DownColor:{BG:"rgb(176,212,184)",Border:"rgb(66,94,74)"},UnchagneColor:{BG:"rgb(216,221,177)",Border:"rgb(209,172,129)"},Text:{Color:"rgb(92,96,89)",Family:"Arial",FontMaxSize:18,MaxValue:"8888"},Line:{UpDownColor:"rgb(0,0,0)",MiddleColor:"rgb(211,211,211)"},AlwaysShowOrderText:!0,POCGBColor:"rgba(178,34,34,0.8)",AskBarColor:"rgb(14,209,69)",BidBarColor:"rgb(236,28,36)"},this.OrderFlow_Style2={BarWidth:10,UpColor:"rgb(241,55,63)",DownColor:"rgb(75,105,150)",UnchagneColor:"rgb(79,79,79)"},this.OrderFlow_Style3={BarWidth:20,UpColor:"rgb(241,55,63)",DownColor:"rgb(75,105,150)",UnchagneColor:"rgb(79,79,79)"},this.OrderFlow_Style4={KBarWidth:5,UpColor:"rgb(241,55,63)",DownColor:"rgb(75,105,150)",UnchagneColor:"rgb(79,79,79)",VolBarSpace:1,LeftMargin:1,RightMargin:1},this.Index={},this.Index.LineColor=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],this.OverlaySymbol={Random:0},this.OverlaySymbol.Color=["rgb(38,198,218)","rgb(103,58,183)","rgb(0,191,165)","rgb(130,177,255)"],this.Index.StockHistoryDayApiUrl="http://127.0.0.1:8080/API/StockHistoryDay",this.Index.MarketLongShortApiUrl="http://127.0.0.1:8080/API/FactorTiming",this.Index.MarketAttentionApiUrl="http://127.0.0.1:8080/API/MarketAttention",this.Index.MarketHeatApiUrl="http://127.0.0.1:8080/API/MarketHeat",this.Index.CustomIndexHeatApiUrl="http://127.0.0.1:8080/API/QuadrantCalculate",this.Index.NotSupport={Font:14*c()+"px 微软雅黑",TextColor:"rgb(52,52,52)"},this.Buttons={CloseOverlayIndex:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:12*c(),MerginLeft:3},CloseWindow:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*c(),MerginLeft:4},ChangeIndex:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*c(),MerginLeft:4},OverlayIndex:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*c(),MerginLeft:4},ModifyIndexParam:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*c(),MerginLeft:4},MaxMinWindow:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*c(),MerginLeft:4},TitleWindow:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*c(),MerginLeft:4},ExportData:{Color:"rgb(0,0,0)",MoveOnColor:"rgb(30,144,255)",Family:"iconfont",Text:"",Size:13*c(),MerginLeft:4},Tooltip:{Font:14*c()+"px 微软雅黑",Color:"rgb(255,255,255)",ColorBG:"rgb(42,46,57)",ColorBorder:"rgb(0,0,0)"}},this.DrawPicture={LineColor:["rgb(41,98,255)"],PointColor:["rgb(41,98,255)","rgb(89,135,255)","rgb(255,255,255)"],XYCoordinate:{BGColor:"rgba(203,216,255,0.5)",TextBGColor:"rgb(52,101,255)",TextColor:"rgb(255,255,255)",Font:14*c()+"px 微软雅黑"},PointType:2,IsShowPoint:!1},this.ChartOX={Family:"iconfont",Up:{Color:"rgb(178,34,34)",Text:""},Down:{Color:"rgb(0,206,209)",Text:""},SquareLineColor:"rgb(119,136,153)"},this.KLineTrain={Font:"bold 14px arial",LastDataIcon:{Color:"rgb(0,0,205)",Text:"⬇"},BuyIcon:{Color:"rgb(0,205,102 )",Text:"B"},SellIcon:{Color:"rgb(255,127,36 )",Text:"S"},IconFont:{Family:"iconfont",Buy:{Text:"",HScreenText:"",Color:"rgb(255,140,0)"},Sell:{Text:"",HScreenText:"",Color:"rgb(6,79,18)"},Last:{Text:"",HScreenText:"",Color:"rgb(55,0,255)"}}},this.ChartKLineTable={TextFont:{Family:"Arial",FontMaxSize:25},ItemMergin:{Left:5,Right:5,Top:4,Bottom:2}},this.TooltipPaint={BGColor:"rgba(250,250,250,0.8)",BorderColor:"rgb(120,120,120)",TitleColor:"rgb(79, 79, 79)",TitleFont:13*c()+"px 微软雅黑",DateTimeColor:"rgb(105 105 105)",VolColor:"rgb(255, 185, 15)",AmountColor:"rgb(79, 79, 79)"},this.PCTooltipPaint={BGColor:"rgba(250,250,250)",BorderColor:"rgb(120,120,120)",TitleColor:"rgb(60,60,60)",TitleFont:12*c()+"px 微软雅黑",DateTimeColor:"rgb(60,60,60)",VolColor:"rgb(60,60,60)",AmountColor:"rgb(60,60,60)"},this.PCTooltip={LineHeight:25},this.Barrage={Font:16*c()+"px 微软雅黑",Height:20,Color:"RGB(109,109,109)"},this.MinuteInfo={TextColor:"rgb(84,143,255)",Font:14*c()+"px 微软雅黑",PointColor:"rgb(38,113,254)",LineColor:"rgb(120,167,255)",TextBGColor:"rgba(255,255,255,0.8)"},this.ChartDrawRuler={TitleColor:null},this.ChartDrawWaveRuler={RulerWidth:10,RulerLineWidth:1,MaxScaleRuler:2,Font:14*c()+"px 微软雅黑",ScaleRuler:[{Value:0,Text:"0.0%"},{Value:.382,Text:"38.2%"},{Value:.618,Text:"61.8%"},{Value:1,Text:"100%"},{Value:1.618,Text:"161.8%"},{Value:2,Text:"200%"}]},this.ChartDrawWaveRuler2Point={RulerWidth:20,RulerLineWidth:1,MaxScaleRuler:2,Font:14*c()+"px 微软雅黑",ScaleRuler:[{Value:0,Text:"base"},{Value:.618,Text:"61.8%"},{Value:1,Text:"100%"},{Value:1.618,Text:"161.8%"}]},this.ChartDrawVolProfile={BGColor:"rgba(244,250,254,0.8)",BorderColor:"rgba(255,255,255)",VolLineColor:"rgb(232,5,9)",UpVolColor:"rgba(103,179,238, 0.24)",DownVolColor:"rgba(237,208,105,0.24)",AreaUpColor:"rgb(103,179,238,0.7)",AreaDonwColor:"rgba(237,208,105,0.7)",Text:{Color:"rgb(0,0,0)",Family:"Arial",FontMaxSize:18,FontMinSize:6}},this.ChartVolProfileVisibleRange={VolLineColor:"rgb(232,5,9)",VolLineFont:14*c()+"px 微软雅黑",VolLineTextColor:"rgb(255,255,255)",UpVolColor:"rgba(103,179,238, 0.24)",DownVolColor:"rgba(237,208,105,0.24)",AreaUpColor:"rgb(103,179,238,0.7)",AreaDonwColor:"rgba(237,208,105,0.7)",Text:{Color:"rgb(0,0,0)",Family:"Arial",FontMaxSize:18,FontMinSize:6},VAHLineColor:"rgb(0,0,255)",VAHTextColor:"rgb(255,255,255)",VALLineColor:"rgb(0,0,255)",VALTextColor:"rgb(255,255,255)",VAFont:14*c()+"px 微软雅黑"},this.ChartDrawNote={Text:"",FontOption:{Family:"iconfont",Size:32},NoteFontOption:{Family:"微软雅黑",Size:12,Weight:null,Style:null},NoteWidth:200,NoteMargin:{Left:5,Top:5,Bottom:5,Right:5},NoteBGColor:"rgba(104,114,255,0.7)",NoteTextColor:"rgb(240,240,240)",NoteBorderColor:"rgb(220,220,220)",LineSpace:3,ArrowSize:10},this.ChartDrawAnchoredText={TextMargin:{Left:5,Top:5,Bottom:5,Right:5},BGColor:"rgba(104,114,255,0.7)",BorderColor:"rgb(220,220,220)",TextColor:"rgb(0,0,0)",FontOption:{Family:"微软雅黑",Size:12,Weight:null,Style:null},LineSpace:2,TextMaxWidth:-1},this.ChartDrawPriceLabel={TextMargin:{Left:10,Top:5,Bottom:5,Right:10},BGColor:"rgba(104,114,255,0.7)",BorderColor:"rgb(220,220,220)",TextColor:"rgb(0,0,0)",FontOption:{Family:"微软雅黑",Size:14,Weight:null,Style:null}},this.ChartDrawPriceNote={TextMargin:{Left:10,Top:5,Bottom:5,Right:10},BGColor:"rgba(104,114,255,0.7)",BorderColor:"rgb(220,220,220)",TextColor:"rgb(0,0,0)",FontOption:{Family:"微软雅黑",Size:14,Weight:null,Style:null}},this.DRAWICON={Icon:{MaxSize:24,MinSize:12,YOffset:0,Zoom:{Type:1,Value:1}},Text:{MaxSize:50,MinSize:12,YOffset:0,Zoom:{Type:1,Value:1},FontName:"Arial"}},this.DRAWTEXT={MaxSize:30,MinSize:20,YOffset:0,Zoom:{Type:1,Value:1},FontName:"微软雅黑"},this.DRAWNUMBER={MaxSize:30,MinSize:20,YOffset:0,Zoom:{Type:1,Value:1},FontName:"微软雅黑"},this.DRAWABOVE={YOffset:0},this.DRAWTEXT_FIX={Font:14*c()+"px 微软雅黑"},this.DRAWNUMBER_FIX={Font:14*c()+"px 微软雅黑"},this.DOTLINE={LineDash:[3,5]},this.DRAWSL={PixelWidth:15},this.CIRCLEDOT={Radius:1.3*c()},this.TIPICON={Family:"iconfont",TextFont:c()+"px 微软雅黑",Size:10*c(),Color:"rgb(255,165,0)"},this.POINTDOT={Radius:2*c()},this.DepthMapPaint={LineColor:"rgba(255,185,15)",AreaColor:["rgba(255,185,15,0.8)","rgba(255,185,15,0.4)"],TextColor:"rgba(255,255,255)",TextBGColor:"rgb(43,54,69)"},this.KLineYAxisBGPaint={Font:12*c()+"px 微软雅黑",LineColor:"rgb(117,125,129)",DiffValutTextColor:"rgb(117,125,129)",DiffValueBGColor:"rgb(251,140,1)"},this.StockChip={InfoColor:"rgb(0,0,0)",DayInfoColor:"rgb(255,255,255)",DefaultButton:{Color:"rgb(128,128,128)",MoveOnColor:"rgb(30,144,255)",SelectedColor:"rgb(255,0,0)",Family:"iconfont",Text:"",Size:13*c(),MerginLeft:4},LongButton:{Color:"rgb(128,128,128)",MoveOnColor:"rgb(30,144,255)",SelectedColor:"rgb(255,128,0)",Family:"iconfont",Text:"",Size:13*c(),MerginLeft:4},RecentButton:{Color:"rgb(128,128,128)",MoveOnColor:"rgb(30,144,255)",SelectedColor:"rgb(0,0,204)",Family:"iconfont",Text:"",Size:13*c(),MerginLeft:4}},this.DepthChart={BidColor:{Line:"rgb(82,176,123)",Area:"rgba(82,176,123,0.8)"},AskColor:{Line:"rgb(207,76,89)",Area:"rgba(207,76,89, 0.8)"},LineWidth:4},this.DepthCorss={BidColor:{Line:"rgb(82,176,123)"},AskColor:{Line:"rgb(207,76,89)"},LineWidth:2,LineDash:[3,3],Tooltip:{BGColor:"rgba(236,240,245, 0.8)",TextColor:"rgb(130,140,151)",Border:{Top:5,Left:20,Right:20,Bottom:5,ItemSpace:5},Font:14*c()+"px 微软雅黑"}},this.RectSelect={LineColor:"rgb(64,64,64)",LineWidth:1*c(),LineDotted:[3,3],AreaColor:"rgba(234,234,234,0.5)",SubAreaColor:"rgba(105,105,105,0.5)",RangeTextColor:"rgb(248,248,255)",RangeTextFont:14*c()+"px 微软雅黑",RangeTextBGColor:"rgb(43,54,69)",RangeTextSubColor:"rgb(255,255,255)",RangeTextSubFont:12*c()+"px 微软雅黑",RangeTextSubBGColor:"rgb(54,54,54)"},this.SelectedChart={LineWidth:1,LineColor:"rgb(55,100,100)",Radius:4,MinSpace:200,BGColor:"rgb(255,255,255)"},this.DragMovePaint={TextColor:"rgb(0,0,0)",Font:14*c()+"px 微软雅黑"},this.DealList={BorderColor:"rgb(192,192,192)",Header:{Color:"RGB(60,60,60)",Mergin:{Left:5,Right:5,Top:4,Bottom:2},Font:{Size:12,Name:"微软雅黑"}},Row:{Mergin:{Top:2,Bottom:2},Font:{Size:15,Name:"微软雅黑"},BarMergin:{Top:2,Left:3,Right:3,Bottom:2}},FieldColor:{Vol:"rgb(90,90,90)",Time:"rgb(60,60,60)",Deal:"rgb(90,90,90)",Index:"rgb(60,60,60)",BarTitle:"rgb(60,60,60)",Text:"rgb(60,60,60)",Bar:["rgb(255,0,0)","rgb(34,139,34)","rgb(119,136,153)","rgb(75,0,130)","rgb(65,105,225)","rgb(255,215,0)","rgb(255,0,255)","rgb(128,128,0)"]},UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(0,0,0)"},this.Report={BorderColor:"rgb(192,192,192)",SelectedColor:"rgb(180,240,240)",Header:{Color:"rgb(60,60,60)",SortColor:"rgb(255,0,0)",Mergin:{Left:5,Right:5,Top:4,Bottom:2},Font:{Size:12,Name:"微软雅黑"}},Item:{Mergin:{Top:2,Bottom:0,Left:5,Right:5},Font:{Size:15,Name:"微软雅黑"},BarMergin:{Top:2,Left:3,Right:3,Bottom:2},NameFont:{Size:14,Name:"微软雅黑"},SymbolFont:{Size:12,Name:"微软雅黑"}},FixedItem:{Font:{Size:15,Name:"微软雅黑"}},LimitBorder:{Color:"rgb(180,180,180)",Mergin:{Top:1,Bottom:1,Left:0,Right:0}},LimitColor:{UpColor:"rgb(255,0,0)",DownColor:"rgb(0,128,0)",TextColor:"rgb(250,250,250)"},FieldColor:{Index:"rgb(60,60,60)",Symbol:"rgb(60,60,60)",Name:"rgb(60,60,60)",Vol:"rgb(90,90,90)",Amount:"rgb(90,90,90)",Text:"rgb(60,60,60)"},UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(90,90,90)",CloseLine:{CloseColor:"rgb(30,144,255)",YCloseColor:"rgba(105,105,105,0.5)",AreaColor:"rgba(0,191,255,0.2)"},KLine:{UpColor:"rgb(255,0,0)",DownColor:"rgb(0,128,0)",UnchagneColor:"rgb(90,90,90)",DataWidth:16,DistanceWidth:3},Tab:{Font:{Size:12,Name:"微软雅黑"},ScrollBarWidth:100,ButtonColor:"rgb(252,252,252)",BarColor:"rgb(180,180,180)",BorderColor:"rgb(180,180,180)",Mergin:{Left:5,Right:5,Top:4,Bottom:2},TabTitleColor:"rgb(60,60,60)",TabSelectedTitleColor:"rgb(0,0,0)",TabSelectedBGColor:"rgb(252,252,252)",TabMoveOnTitleColor:"rgb(0,0,0)",TabBGColor:"rgb(220,220,220)"},PageInfo:{Font:{Size:15,Name:"微软雅黑"},TextColor:"rgb(0,0,0)",BGColor:"rgba(180,180,180,0.5)",Mergin:{Left:5,Right:5,Top:4,Bottom:2}},DragRow:{Color:"rgba(190,190,190,0.8)",TextColor:"rgba(0,0, 0, 0.8)",MoveRowColor:"rgb(240,128,128)",SrcRowColor:"rgb(180,240,240)"}},this.Keyboard={BorderColor:"rgb(192,192,192)",SelectedColor:"rgb(180,240,240)",TextColor:"rgb(0,0,0)",Item:{Mergin:{Top:2,Bottom:0,Left:1,Right:1},Font:{Size:15,Name:"微软雅黑"},BarMergin:{Top:2,Left:0,Right:0,Bottom:2},NameFont:{Size:14,Name:"微软雅黑"},SymbolFont:{Size:12,Name:"微软雅黑"}}},this.ScrollBar={BorderColor:"rgb(192,192,192)",XSplitTextFont:12*c()+"px 微软雅黑",XSplitTextColor:"rgb(0,0,0)",XSplitLineColor:"rgba(0,0,0,0.8)",BGChart:{Color:"rgb(135,206,250)",LineWidth:1,AreaColor:"rgba(135,206,250,0.5)"},Slider:{DateFont:14*c()+"px 微软雅黑",DateColor:"rgb(0,0,0)",BarColor:"rgb(207,207,207)",BarAreaColor:"rgba(232,232,232,0.65)"}},this.SetStyle=function(t){var e=function(t,e){t&&(t.Color&&(e.Color=t.Color),t.MoveOnColor&&(e.MoveOnColor=t.MoveOnColor),t.SelectedColor&&(e.SelectedColor=t.SelectedColor),t.Family&&(e.Family=t.Family),t.Text&&(e.Text=t.Text),Ee.IsNumber(t.Size)&&(e.Size=t.Size),Ee.IsNumber(t.MerginLeft)&&(e.MerginLeft=t.MerginLeft))};if(t.TooltipBGColor&&(this.TooltipBGColor=t.TooltipBGColor),t.TooltipAlpha&&(this.TooltipAlpha=t.TooltipAlpha),t.SelectRectBGColor&&(this.SelectRectBGColor=t.SelectRectBGColor),t.UpBarColor&&(this.UpBarColor=t.UpBarColor),t.DownBarColor&&(this.DownBarColor=t.DownBarColor),t.UnchagneBarColor&&(this.UnchagneBarColor=t.UnchagneBarColor),t.EmptyBarBGColor&&(this.EmptyBarBGColor=t.EmptyBarBGColor),t.HighLowBarColor&&(this.HighLowBarColor=t.HighLowBarColor),t.HLCArea){var i=t.HLCArea;i.HighLineColor&&(this.HLCArea.HighLineColor=i.HighLineColor),i.LowLineColor&&(this.HLCArea.LowLineColor=i.LowLineColor),i.CloseLineColor&&(this.HLCArea.CloseLineColor=i.CloseLineColor),i.UpAreaColor&&(this.HLCArea.UpAreaColor=i.UpAreaColor),i.DownAreaColor&&(this.HLCArea.DownAreaColor=i.DownAreaColor),Ee.IsNumber(i.LineWidth)&&(this.HLCArea.LineWidth=i.LineWidth)}if(t.Minute){if(t.Minute.VolBarColor&&(this.Minute.VolBarColor=t.Minute.VolBarColor),t.Minute.VolTitleColor&&(this.Minute.VolTitleColor=t.Minute.VolTitleColor),t.Minute.PriceColor&&(this.Minute.PriceColor=t.Minute.PriceColor),Ee.IsNumber(t.Minute.PriceLineWidth)&&(this.Minute.PriceLineWidth=t.Minute.PriceLineWidth),t.Minute.AvPriceColor&&(this.Minute.AvPriceColor=t.Minute.AvPriceColor),t.Minute.AreaPriceColor&&(this.Minute.AreaPriceColor=t.Minute.AreaPriceColor),t.Minute.PositionColor&&(this.Minute.PositionColor=t.Minute.PositionColor),t.Minute.FrameSplitTextColor&&(this.Minute.FrameSplitTextColor=t.Minute.FrameSplitTextColor),t.Minute.Before){var i=t.Minute.Before;i.BGColor&&(this.Minute.Before.BGColor=i.BGColor),i.LineColor&&(this.Minute.Before.LineColor=i.LineColor),i.VolColor&&(this.Minute.Before.VolColor=i.VolColor),i.AvPriceColor&&(this.Minute.Before.AvPriceColor=i.AvPriceColor),i.CloseIcon&&e(i.CloseIcon,this.Minute.Before.CloseIcon),i.Point&&(i.Point.Color&&(this.Minute.Before.Point.Color=i.Point.Color),i.Point.Radius&&(this.Minute.Before.Point.Radius=i.Point.Radius))}if(t.Minute.After){var i=t.Minute.After;i.BGColor&&(this.Minute.After.BGColor=i.BGColor),i.LineColor&&(this.Minute.After.LineColor=i.LineColor),i.VolColor&&(this.Minute.After.VolColor=i.VolColor),i.AvPriceColor&&(this.Minute.After.AvPriceColor=i.AvPriceColor),i.Point&&(i.Point.Color&&(this.Minute.After.Point.Color=i.Point.Color),i.Point.Radius&&(this.Minute.After.Point.Radius=i.Point.Radius))}}if(t.DefaultTextColor&&(this.DefaultTextColor=t.DefaultTextColor),t.DefaultTextFont&&(this.DefaultTextFont=t.DefaultTextFont),t.TitleFont&&(this.TitleFont=t.TitleFont),t.IndexTitleBGColor&&(this.IndexTitleBGColor=t.IndexTitleBGColor),t.IndexTitleBorderColor&&(this.IndexTitleBorderColor=t.IndexTitleBorderColor),t.IndexTitleBorderMoveOnColor&&(this.IndexTitleBorderMoveOnColor=t.IndexTitleBorderMoveOnColor),t.IndexTitleColor&&(this.IndexTitleColor=t.IndexTitleColor),t.IndexTitleSelectedColor&&(this.IndexTitleSelectedColor=t.IndexTitleSelectedColor),t.OverlayIndexTitleBGColor&&(this.OverlayIndexTitleBGColor=t.OverlayIndexTitleBGColor),t.UpTextColor&&(this.UpTextColor=t.UpTextColor),t.DownTextColor&&(this.DownTextColor=t.DownTextColor),t.UnchagneTextColor&&(this.UnchagneTextColor=t.UnchagneTextColor),t.CloseLineColor&&(this.CloseLineColor=t.CloseLineColor),t.CloseLineAreaColor&&(this.CloseLineAreaColor=t.CloseLineAreaColor),t.CloseLineWidth&&(this.CloseLineWidth=t.CloseLineWidth),t.FrameBorderPen&&(this.FrameBorderPen=t.FrameBorderPen),t.MultiDayBorderPen&&(this.MultiDayBorderPen=t.MultiDayBorderPen),t.FrameSplitPen&&(this.FrameSplitPen=t.FrameSplitPen),t.FrameDotSplitPen&&(this.FrameDotSplitPen=t.FrameDotSplitPen),t.FrameSplitTextColor&&(this.FrameSplitTextColor=t.FrameSplitTextColor),t.FrameSplitTextFont&&(this.FrameSplitTextFont=t.FrameSplitTextFont),t.FrameTitleBGColor&&(this.FrameTitleBGColor=t.FrameTitleBGColor),Ee.IsNumber(t.IndexTitleMerginLeft)&&(this.IndexTitleMerginLeft=t.IndexTitleMerginLeft),t.Frame&&(t.Frame.XBottomOffset&&(this.Frame.XBottomOffset=t.Frame.XBottomOffset),t.Frame.YTopOffset&&(this.Frame.YTopOffset=t.Frame.YTopOffset),t.Frame.PercentageText)){var i=t.Frame.PercentageText;i.PriceColor&&(this.Frame.PercentageText.PriceColor=i.PriceColor),i.PercentageColor&&(this.Frame.PercentageText.PercentageColor=i.PercentageColor),i.SplitColor&&(this.Frame.PercentageText.SplitColor=i.SplitColor),i.Font&&(this.Frame.PercentageText.Font=i.Font)}if(Ee.IsNumber(t.ToolbarButtonStyle)&&(this.ToolbarButtonStyle=t.ToolbarButtonStyle),Ee.IsBool(t.IsDOMFrameTitle)&&(this.IsDOMFrameTitle=t.IsDOMFrameTitle),t.FrameLatestPrice){var i=t.FrameLatestPrice;t.FrameLatestPrice.TextColor&&(this.FrameLatestPrice.TextColor=t.FrameLatestPrice.TextColor),t.FrameLatestPrice.UpBarColor&&(this.FrameLatestPrice.UpBarColor=t.FrameLatestPrice.UpBarColor),t.FrameLatestPrice.DownBarColor&&(this.FrameLatestPrice.DownBarColor=t.FrameLatestPrice.DownBarColor),t.FrameLatestPrice.UnchagneBarColor&&(this.FrameLatestPrice.UnchagneBarColor=t.FrameLatestPrice.UnchagneBarColor),t.FrameLatestPrice.BGAlpha&&(this.FrameLatestPrice.BGAlpha=t.FrameLatestPrice.BGAlpha),t.FrameLatestPrice.OverlayTextColor&&(this.FrameLatestPrice.OverlayTextColor=t.FrameLatestPrice.OverlayTextColor),i.EmptyBGColor&&(this.FrameLatestPrice.EmptyBGColor=i.EmptyBGColor)}if(t.CorssCursorBGColor&&(this.CorssCursorBGColor=t.CorssCursorBGColor),t.CorssCursorTextColor&&(this.CorssCursorTextColor=t.CorssCursorTextColor),t.CorssCursorTextFont&&(this.CorssCursorTextFont=t.CorssCursorTextFont),t.CorssCursorVPenColor&&(this.CorssCursorVPenColor=t.CorssCursorVPenColor),t.CorssCursorHPenColor&&(this.CorssCursorHPenColor=t.CorssCursorHPenColor),t.CorssCursorBorderColor&&(this.CorssCursorBorderColor=t.CorssCursorBorderColor),t.CorssCursorXRangeBGColor&&(this.CorssCursorXRangeBGColor=t.CorssCursorXRangeBGColor),t.CorssCursor&&t.CorssCursor.RightButton){var i=t.CorssCursor.RightButton;i.BGColor&&(this.CorssCursor.RightButton.BGColor=i.BGColor),i.PenColor&&(this.CorssCursor.RightButton.PenColor=i.PenColor),i.Icon&&(this.CorssCursor.RightButton.Icon=i.Icon)}if(t.KLine&&(this.KLine=t.KLine),t.VirtualKLine){var i=t.VirtualKLine;i.Color&&(this.VirtualKLine.Color=i.Color),i.LineDash&&(this.VirtualKLine.LineDash=i.LineDash)}if(t.Index&&(t.Index.LineColor&&(this.Index.LineColor=t.Index.LineColor),t.Index.NotSupport&&(this.Index.NotSupport=t.Index.NotSupport)),t.ColorArray&&(this.ColorArray=t.ColorArray),t.DrawPicture){var i=t.DrawPicture;i.LineColor&&(this.DrawPicture.LineColor=i.LineColor),i.PointColor&&(this.DrawPicture.PointColor=i.PointColor),i.XYCoordinate&&(this.DrawPicture.XYCoordinate=i.XYCoordinate),Ee.IsNumber(i.PointType)&&(this.DrawPicture.PointType=i.PointType),Ee.IsBool(i.IsShowPoint)&&(this.DrawPicture.IsShowPoint=i.IsShowPoint)}if(t.TooltipPaint&&(t.TooltipPaint.BGColor&&(this.TooltipPaint.BGColor=t.TooltipPaint.BGColor),t.TooltipPaint.BorderColor&&(this.TooltipPaint.BorderColor=t.TooltipPaint.BorderColor),t.TooltipPaint.TitleColor&&(this.TooltipPaint.TitleColor=t.TooltipPaint.TitleColor),t.TooltipPaint.TitleFont&&(this.TooltipPaint.TitleFont=t.TooltipPaint.TitleFont),t.TooltipPaint.DateTimeColor&&(this.TooltipPaint.DateTimeColor=t.TooltipPaint.DateTimeColor),t.TooltipPaint.VolColor&&(this.TooltipPaint.VolColor=t.TooltipPaint.VolColor),t.TooltipPaint.AmountColor&&(this.TooltipPaint.AmountColor=t.TooltipPaint.AmountColor)),t.PCTooltipPaint){var i=t.PCTooltipPaint;i.BGColor&&(this.PCTooltipPaint.BGColor=i.BGColor),i.BorderColor&&(this.PCTooltipPaint.BorderColor=i.BorderColor),i.TitleColor&&(this.PCTooltipPaint.TitleColor=i.TitleColor),i.TitleFont&&(this.PCTooltipPaint.TitleFont=i.TitleFont),i.DateTimeColor&&(this.PCTooltipPaint.DateTimeColor=i.DateTimeColor),i.VolColor&&(this.PCTooltipPaint.VolColor=i.VolColor),i.AmountColor&&(this.PCTooltipPaint.AmountColor=i.AmountColor)}if(t.MinuteInfo&&(t.MinuteInfo.TextColor&&(this.MinuteInfo.TextColor=t.MinuteInfo.TextColor),t.MinuteInfo.Font&&(this.MinuteInfo.Font=t.MinuteInfo.Font),t.MinuteInfo.PointColor&&(this.MinuteInfo.PointColor=t.MinuteInfo.PointColor),t.MinuteInfo.LineColor&&(this.MinuteInfo.LineColor=t.MinuteInfo.LineColor),t.MinuteInfo.TextBGColor&&(this.MinuteInfo.TextBGColor=t.MinuteInfo.TextBGColor)),t.Title&&(t.Title.TradeIndexColor&&(this.Title.TradeIndexColor=t.Title.TradeIndexColor),t.Title.ColorIndexColor&&(this.Title.ColorIndexColor=t.Title.ColorIndexColor),t.Title.VolColor&&(this.Title.VolColor=t.Title.VolColor),t.Title.AmountColor&&(this.Title.AmountColor=t.Title.AmountColor),t.Title.DateTimeColor&&(this.Title.DateTimeColor=t.Title.DateTimeColor),t.Title.NameColor&&(this.Title.NameColor=t.Title.NameColor),t.Title.SettingColor&&(this.Title.SettingColor=t.Title.SettingColor),t.Title.TurnoverRateColor&&(this.Title.TurnoverRateColor=t.Title.TurnoverRateColor),t.Title.PositionColor&&(this.Title.PositionColor=t.Title.PositionColor)),t.DRAWICON){if(t.DRAWICON.Icon){var i=t.DRAWICON.Icon;Ee.IsPlusNumber(i.MaxSize)&&(this.DRAWICON.Icon.MaxSize=i.MaxSize),Ee.IsPlusNumber(i.MinSize)&&(this.DRAWICON.Icon.MinSize=i.MinSize),i.Zoom&&(this.DRAWICON.Icon.Zoom=i.Zoom),Ee.IsNumber(i.YOffset)&&(this.DRAWICON.Icon.YOffset=i.YOffset)}if(t.DRAWICON.Text){var i=t.DRAWICON.Text;Ee.IsPlusNumber(i.MaxSize)&&(this.DRAWICON.Text.MaxSize=i.MaxSize),Ee.IsPlusNumber(i.MinSize)&&(this.DRAWICON.Text.MinSize=i.MinSize),i.Zoom&&(this.DRAWICON.Text.Zoom=i.Zoom),i.FontName&&(this.DRAWICON.Text.FontName=i.FontName),Ee.IsNumber(i.YOffset)&&(this.DRAWICON.Text.YOffset=i.YOffset)}}if(t.DRAWTEXT){var i=t.DRAWTEXT;Ee.IsPlusNumber(i.MaxSize)&&(this.DRAWICON.MaxSize=i.MaxSize),Ee.IsPlusNumber(i.MinSize)&&(this.DRAWICON.MinSize=i.MinSize),i.Zoom&&(this.DRAWTEXT.Zoom=i.Zoom),i.FontName&&(this.DRAWTEXT.FontName=i.FontName),Ee.IsNumber(i.YOffset)&&(this.DRAWTEXT.YOffset=i.YOffset)}if(t.DRAWTEXT_FIX){var i=t.DRAWTEXT_FIX;i.Font&&(this.DRAWTEXT_FIX.Font=i.Font)}if(t.DRAWNUMBER_FIX){var i=t.DRAWNUMBER_FIX;i.Font&&(this.DRAWNUMBER_FIX.Font=i.Font)}if(t.DRAWNUMBER){var i=t.DRAWNUMBER;Ee.IsPlusNumber(i.MaxSize)&&(this.DRAWNUMBER.MaxSize=i.MaxSize),Ee.IsPlusNumber(i.MinSize)&&(this.DRAWNUMBER.MinSize=i.MinSize),i.Zoom&&(this.DRAWNUMBER.Zoom=i.Zoom),i.FontName&&(this.DRAWNUMBER.FontName=i.FontName),Ee.IsNumber(i.YOffset)&&(this.DRAWNUMBER.YOffset=i.YOffset)}if(t.DRAWABOVE){var i=t.DRAWABOVE;Ee.IsNumber(i.YOffset)&&(this.DRAWABOVE.YOffset=i.YOffset)}if(t.DOTLINE&&(this.DOTLINE=t.DOTLINE),t.DRAWSL&&(this.DOTLINE=t.DRAWSL),t.DragSubFrameBorder&&(this.DragSubFrameBorder=t.DragSubFrameBorder),t.DepthMapPaint){var i=t.DepthMapPaint;i.LineColor&&(this.DepthMapPaint.LineColor=i.LineColor),i.AreaColor&&(this.DepthMapPaint.AreaColor=i.AreaColor),i.TextColor&&(this.DepthMapPaint.TextColor=i.TextColor),i.TextBGColor&&(this.DepthMapPaint.TextBGColor=i.TextBGColor)}if(t.KLineYAxisBGPaint){var i=t.KLineYAxisBGPaint;i.Font&&(this.KLineYAxisBGPaint.Font=i.Font),i.LineColor&&(this.KLineYAxisBGPaint.LineColor=i.LineColor),i.DiffValutTextColor&&(this.KLineYAxisBGPaint.DiffValutTextColor=i.DiffValutTextColor),i.DiffValueBGColor&&(this.KLineYAxisBGPaint.DiffValueBGColor=i.DiffValueBGColor)}if(t.StockChip){var i=t.StockChip;i.InfoColor&&(this.StockChip.InfoColor=i.InfoColor),i.DayInfoColor&&(this.StockChip.DayInfoColor=i.DayInfoColor),i.DefaultButton&&e(i.DefaultButton,this.StockChip.DefaultButton),i.LongButton&&e(i.LongButton,this.StockChip.LongButton),i.RecentButton&&e(i.RecentButton,this.StockChip.RecentButton)}if(t.DepthChart){var i=t.DepthChart;i.BidColor&&(i.BidColor.Line&&(this.DepthChart.BidColor.Line=i.BidColor.Line),i.BidColor.Area&&(this.DepthChart.BidColor.Area=i.BidColor.Area)),i.AskColor&&(i.AskColor.Line&&(this.DepthChart.AskColor.Line=i.AskColor.Line),i.AskColor.Area&&(this.DepthChart.AskColor.Area=i.AskColor.Area)),i.LineWidth&&(this.DepthChart.LineWidth=i.LineWidth)}if(t.DepthCorss){var i=t.DepthCorss;if(i.BidColor&&i.BidColor.Line&&(this.DepthCorss.BidColor.Line=i.BidColor.Line),i.AskColor&&i.AskColor.Line&&(this.DepthCorss.AskColor.Line=i.AskColor.Line),i.LineWidth&&(this.DepthCorss.LineWidth=i.LineWidth),i.LineDash&&(this.DepthCorss.LineDash=i.LineDash),i.Tooltip){var a=i.Tooltip;a.BGColor&&(this.DepthCorss.Tooltip.BGColor=a.BGColor),a.TextColor&&(this.DepthCorss.Tooltip.TextColor=a.TextColor),a.Font&&(this.DepthCorss.Tooltip.Font=a.Font),a.LineHeight&&(this.DepthCorss.Tooltip.LineHeight=a.LineHeight);var r=a.Border;Ee.IsNumber(r.Top)&&(this.DepthCorss.Tooltip.Border.Top=r.Top),Ee.IsNumber(r.Bottom)&&(this.DepthCorss.Tooltip.Border.Bottom=r.Bottom),Ee.IsNumber(r.Left)&&(this.DepthCorss.Tooltip.Border.Left=r.Left),Ee.IsNumber(r.Right)&&(this.DepthCorss.Tooltip.Border.Right=r.Right),Ee.IsNumber(r.ItemSpace)&&(this.DepthCorss.Tooltip.Border.ItemSpace=r.ItemSpace)}}if(t.CIRCLEDOT){var i=t.CIRCLEDOT;Ee.IsNumber(i.Radius)&&(this.CIRCLEDOT.Radius=i.Radius)}if(t.POINTDOT){var i=t.POINTDOT;Ee.IsNumber(i.Radius)&&(this.POINTDOT.Radius=i.Radius)}if(t.RectSelect){var i=t.RectSelect;i.LineColor&&(this.RectSelect.LineColor=i.LineColor),i.LineWidth>0&&(this.RectSelect.LineWidth=i.LineWidth),i.LineDotted&&(this.RectSelect.LineDotted=i.LineDotted),i.AreaColor&&(this.RectSelect.AreaColor=i.AreaColor),i.SubAreaColor&&(this.RectSelect.SubAreaColor=i.SubAreaColor),i.RangeTextColor&&(this.RectSelect.RangeTextColor=i.RangeTextColor),i.RangeTextFont&&(this.RectSelect.RangeTextFont=i.RangeTextFont),i.RangeTextBGColor&&(this.RectSelect.RangeTextBGColor=i.RangeTextBGColor),i.RangeTextSubColor&&(this.RectSelect.RangeTextSubColor=i.RangeTextSubColor),i.RangeTextSubFont&&(this.RectSelect.RangeTextSubFont=i.RangeTextSubFont),i.RangeTextSubBGColor&&(this.RectSelect.RangeTextSubBGColor=i.RangeTextSubBGColor)}if(t.OrderFlow&&(i=t.OrderFlow,i.UpColor&&(this.OrderFlow.UpColor=i.UpColor),i.DownColor&&(this.OrderFlow.DownColor=i.DownColor),i.UnchagneColor&&(this.OrderFlow.UnchagneColor=i.UnchagneColor),i.Text&&(this.OrderFlow.Text=i.Text),i.Line&&(this.OrderFlow.Line=i.Line)),t.OrderFlow_Style2&&(i=t.OrderFlow_Style2,i.UpColor&&(this.OrderFlow_Style2.UpColor=i.UpColor),i.DownColor&&(this.OrderFlow_Style2.DownColor=i.DownColor),i.UnchagneColor&&(this.OrderFlow_Style2.UnchagneColor=i.UnchagneColor),Ee.IsNumber(i.BarWidth)&&(this.OrderFlow_Style2.BarWidth=i.BarWidth)),t.ChartOX){var i=t.ChartOX;i.Family&&(this.ChartOX.Family=i.Family),i.Up&&(this.ChartOX.Up=i.Up),i.Down&&(this.ChartOX.Down=i.Down),i.SquareLineColor&&(this.ChartOX.SquareLineColor=i.SquareLineColor)}if(t.DealList){var i=t.DealList;if(i.BorderColor&&(this.DealList.BorderColor=i.BorderColor),i.UpTextColor&&(this.DealList.UpTextColor=i.UpTextColor),i.DownTextColor&&(this.DealList.DownTextColor=i.DownTextColor),i.UnchagneTextColor&&(this.DealList.UnchagneTextColor=i.UnchagneTextColor),i.CloseLineColor&&(this.DealList.CloseLineColor=i.CloseLineColor),i.Header){var n=i.Header;if(n.Color&&(this.DealList.Header.Color=n.Color),n.Mergin){var o=n.Mergin;Ee.IsNumber(o.Left)&&(this.DealList.Header.Mergin.Left=o.Left),Ee.IsNumber(o.Right)&&(this.DealList.Header.Mergin.Left=o.Right),Ee.IsNumber(o.Top)&&(this.DealList.Header.Mergin.Top=o.Top),Ee.IsNumber(o.Bottom)&&(this.DealList.Header.Mergin.Bottom=o.Bottom)}if(n.Font){var s=n.Font;s.Name&&(this.DealList.Header.Font.Name=s.Name),Ee.IsNumber(s.Size)&&(this.DealList.Header.Font.Size=s.Size)}}if(i.Row){var l=i.Row;if(l.Mergin){var o=l.Mergin;Ee.IsNumber(o.Top)&&(this.DealList.Row.Mergin.Top=o.Top),Ee.IsNumber(o.Bottom)&&(this.DealList.Row.Mergin.Bottom=o.Bottom)}if(l.Font){var s=l.Font;s.Name&&(this.DealList.Row.Font.Name=s.Name),Ee.IsNumber(s.Size)&&(this.DealList.Row.Font.Size=s.Size)}if(l.BarMergin){var o=l.BarMergin;Ee.IsNumber(o.Left)&&(this.DealList.Row.BarMergin.Left=o.Left),Ee.IsNumber(o.Top)&&(this.DealList.Row.BarMergin.Top=o.Top),Ee.IsNumber(o.Right)&&(this.DealList.Row.BarMergin.Right=o.Right),Ee.IsNumber(o.Bottom)&&(this.DealList.Row.BarMergin.Bottom=o.Bottom)}}if(i.FieldColor){var h=i.FieldColor;if(h.Vol&&(this.DealList.FieldColor.Vol=h.Vol),h.Time&&(this.DealList.FieldColor.Time=h.Time),h.Deal&&(this.DealList.FieldColor.Deal=h.Deal),h.Index&&(this.DealList.FieldColor.Index=h.Index),h.BarTitle&&(this.DealList.FieldColor.BarTitle=h.BarTitle),h.Text&&(this.DealList.FieldColor.Text=h.Text),Ee.IsNonEmptyArray(h.Bar))for(var u=0;u<h.Bar.length;++u)this.DealList.FieldColor.Bar[u]=h.Bar[u]}}if(t.Report){var i=t.Report;if(i.BorderColor&&(this.Report.BorderColor=i.BorderColor),i.UpTextColor&&(this.Report.UpTextColor=i.UpTextColor),i.DownTextColor&&(this.Report.DownTextColor=i.DownTextColor),i.UnchagneTextColor&&(this.Report.UnchagneTextColor=i.UnchagneTextColor),i.BorderColor&&(this.Report.SelectedColor=i.SelectedColor),i.CloseLine){var c=i.CloseLine;c.CloseColor&&(this.Report.CloseLine.CloseColor=c.CloseColor),c.YCloseColor&&(this.Report.CloseLine.YCloseColor=c.YCloseColor),c.AreaColor&&(this.Report.CloseLine.AreaColor=c.AreaColor)}if(i.KLine){var d=i.KLine;d.UpColor&&(this.Report.KLine.UpColor=d.UpColor),d.DownColor&&(this.Report.KLine.DownColor=d.DownColor),d.UnchagneColor&&(this.Report.KLine.UnchagneColor=d.UnchagneColor),Ee.IsNumber(d.DataWidth)&&(this.Report.KLine.DataWidth=d.DataWidth),Ee.IsNumber(d.DistanceWidth)&&(this.Report.KLine.DistanceWidth=d.DistanceWidth)}if(i.Header){var n=i.Header;if(n.Color&&(this.Report.Header.Color=n.Color),n.SortColor&&(this.Report.Header.SortColor=n.SortColor),n.Mergin){var o=n.Mergin;Ee.IsNumber(o.Left)&&(this.Report.Header.Mergin.Left=o.Left),Ee.IsNumber(o.Right)&&(this.Report.Header.Mergin.Left=o.Right),Ee.IsNumber(o.Top)&&(this.Report.Header.Mergin.Top=o.Top),Ee.IsNumber(o.Bottom)&&(this.Report.Header.Mergin.Bottom=o.Bottom)}if(n.Font){var s=n.Font;s.Name&&(this.Report.Header.Font.Name=s.Name),Ee.IsNumber(s.Size)&&(this.Report.Header.Font.Size=s.Size)}}if(i.Item){var l=i.Item;if(l.Mergin){var o=l.Mergin;Ee.IsNumber(o.Left)&&(this.Report.Item.Mergin.Left=o.Left),Ee.IsNumber(o.Right)&&(this.Report.Item.Mergin.Right=o.Right),Ee.IsNumber(o.Top)&&(this.Report.Item.Mergin.Top=o.Top),Ee.IsNumber(o.Bottom)&&(this.Report.Item.Mergin.Bottom=o.Bottom)}if(l.Font){var s=l.Font;s.Name&&(this.Report.Item.Font.Name=s.Name),Ee.IsNumber(s.Size)&&(this.Report.Item.Font.Size=s.Size)}if(l.BarMergin){var o=l.BarMergin;Ee.IsNumber(o.Left)&&(this.Report.Item.BarMergin.Left=o.Left),Ee.IsNumber(o.Top)&&(this.Report.Item.BarMergin.Top=o.Top),Ee.IsNumber(o.Right)&&(this.Report.Item.BarMergin.Right=o.Right),Ee.IsNumber(o.Bottom)&&(this.Report.Item.BarMergin.Bottom=o.Bottom)}if(l.NameFont){var s=l.NameFont;s.Name&&(this.Report.Item.NameFont.Name=s.Name),Ee.IsNumber(s.Size)&&(this.Report.Item.NameFont.Size=s.Size)}if(l.SymbolFont){var s=l.SymbolFont;s.Name&&(this.Report.Item.SymbolFont.Name=s.Name),Ee.IsNumber(s.Size)&&(this.Report.Item.SymbolFont.Size=s.Size)}}if(i.FixedItem){var l=i.FixedItem;if(l.Font){var s=l.Font;s.Name&&(this.Report.FixedItem.Font.Name=s.Name),Ee.IsNumber(s.Size)&&(this.Report.FixedItem.Font.Size=s.Size)}}if(i.LimitBorder){var f=i.LimitBorder;if(f.Color&&(this.Report.LimitBorder.Color=f.Color),f.Mergin){var o=f.Mergin;Ee.IsNumber(o.Left)&&(this.Report.LimitBorder.Mergin.Left=o.Left),Ee.IsNumber(o.Top)&&(this.Report.LimitBorder.Mergin.Top=o.Top),Ee.IsNumber(o.Right)&&(this.Report.LimitBorder.Mergin.Right=o.Right),Ee.IsNumber(o.Bottom)&&(this.Report.LimitBorder.Mergin.Bottom=o.Bottom)}}if(i.LimitColor){var f=i.LimitColor;f.UpColor&&(this.Report.LimitColor.UpColor=f.UpColor),f.DownColor&&(this.Report.LimitColor.DownColor=f.DownColor),f.TextColor&&(this.Report.LimitColor.UpColor=f.TextColor)}if(i.FieldColor){var h=i.FieldColor;if(h.Name&&(this.Report.FieldColor.Name=h.Name),h.Symbol&&(this.Report.FieldColor.Symbol=h.Symbol),h.Vol&&(this.Report.FieldColor.Vol=h.Vol),h.Amount&&(this.Report.FieldColor.Amount=h.Amount),h.Index&&(this.Report.FieldColor.Index=h.Index),h.BarTitle&&(this.Report.FieldColor.BarTitle=h.BarTitle),h.Text&&(this.Report.FieldColor.Text=h.Text),Ee.IsNonEmptyArray(h.Bar))for(var u=0;u<h.Bar.length;++u)this.Report.FieldColor.Bar[u]=h.Bar[u]}if(i.Tab){var p=i.Tab;if(p.Font){var s=p.Font;s.Name&&(this.Report.Tab.Font.Name=s.Name),Ee.IsNumber(s.Size)&&(this.Report.Tab.Font.Size=s.Size)}Ee.IsNumber(p.ScrollBarWidth)&&(this.Report.Tab.ScrollBarWidth=p.ScrollBarWidth),p.ButtonColor&&(this.Report.Tab.ButtonColor=p.ButtonColor),p.BarColor&&(this.Report.Tab.BarColor=p.BarColor),p.BorderColor&&(this.Report.Tab.BorderColor=p.BorderColor),p.TabTitleColor&&(this.Report.Tab.TabTitleColor=p.TabTitleColor),p.TabSelectedTitleColor&&(this.Report.Tab.TabSelectedTitleColor=p.TabSelectedTitleColor),p.TabSelectedBGColor&&(this.Report.Tab.TabSelectedBGColor=p.TabSelectedBGColor),p.TabMoveOnTitleColor&&(this.Report.Tab.TabMoveOnTitleColor=p.TabMoveOnTitleColor),p.TabBGColor&&(this.Report.Tab.TabBGColor=p.TabBGColor)}if(i.PageInfo){var m=i.PageInfo;if(m.Font){var s=m.Font;s.Name&&(this.Report.PageInfo.Font.Name=s.Name),Ee.IsNumber(s.Size)&&(this.Report.PageInfo.Font.Size=s.Size)}if(m.TextColor&&(this.Report.PageInfo.TextColor=m.TextColor),m.BGColor&&(this.Report.PageInfo.BGColor=m.BGColor),m.Mergin){var o=m.Mergin;Ee.IsNumber(o.Left)&&(this.Report.PageInfo.Mergin.Left=o.Left),Ee.IsNumber(o.Top)&&(this.Report.PageInfo.Mergin.Top=o.Top),Ee.IsNumber(o.Right)&&(this.Report.PageInfo.Mergin.Right=o.Right),Ee.IsNumber(o.Bottom)&&(this.Report.PageInfo.Mergin.Bottom=o.Bottom)}}if(i.DragRow){var C=i.DragRow;C.Color&&(this.Report.DragRow.Color=C.Color),C.TextColor&&(this.Report.DragRow.TextColor=C.TextColor),C.MoveRowColor&&(this.Report.DragRow.MoveRowColor=C.MoveRowColor),C.SrcRowColor&&(this.Report.DragRow.SrcRowColor=C.SrcRowColor)}}if(t.SelectedChart){var i=t.SelectedChart;Ee.IsNumber(i.LineWidth)&&(this.SelectedChart.LineWidth=i.LineWidth),Ee.IsNumber(i.Radius)&&(this.SelectedChart.Radius=i.Radius),Ee.IsNumber(i.MinSpace)&&(this.SelectedChart.MinSpace=i.MinSpace),i.LineColor&&(this.SelectedChart.LineColor=i.LineColor),i.LineColor&&(this.SelectedChart.BGColor=i.BGColor)}if(t.DragMovePaint){var i=t.DragMovePaint;i.TextColor&&(this.DragMovePaint.TextColor=i.TextColor),i.Font&&(this.DragMovePaint.Font=i.Font)}if(Ee.IsNumber(t.ToolbarButtonStyle)&&(this.ToolbarButtonStyle=t.ToolbarButtonStyle),t.Buttons){var v=t.Buttons;e(v.CloseOverlayIndex,this.Buttons.CloseOverlayIndex),e(v.CloseWindow,this.Buttons.CloseWindow),e(v.ChangeIndex,this.Buttons.ChangeIndex),e(v.OverlayIndex,this.Buttons.OverlayIndex),e(v.ModifyIndexParam,this.Buttons.ModifyIndexParam),e(v.MaxMinWindow,this.Buttons.MaxMinWindow),e(v.TitleWindow,this.Buttons.TitleWindow),e(v.ExportData,this.Buttons.ExportData)}if(t.ChartDrawVolProfile){var i=t.ChartDrawVolProfile;i.UpVolColor&&(this.ChartDrawVolProfile.UpVolColor=i.UpVolColor),i.DownVolColor&&(this.ChartDrawVolProfile.DownVolColor=i.DownVolColor),i.AreaUpColor&&(this.ChartDrawVolProfile.AreaUpColor=i.AreaUpColor),i.AreaDonwColor&&(this.ChartDrawVolProfile.AreaDonwColor=i.AreaDonwColor),i.BGColor&&(this.ChartDrawVolProfile.BGColor=i.BGColor),i.BorderColor&&(this.ChartDrawVolProfile.BorderColor=i.BorderColor),i.VolLineColor&&(this.ChartDrawVolProfile.VolLineColor=i.VolLineColor),i.Text&&(i.Text.Color&&(this.ChartDrawVolProfile.Text.Color=i.Text.Color),i.Text.Family&&(this.ChartDrawVolProfile.Text.Family=i.Text.Family),Ee.IsNumber(i.Text.FontMaxSize)&&(this.ChartDrawVolProfile.Text.FontMaxSize=i.Text.FontMaxSize),Ee.IsNumber(i.Text.FontMinSize)&&(this.ChartDrawVolProfile.Text.FontMinSize=i.Text.FontMinSize))}if(!0===t.DisableLogo&&this.FrameLogo&&(this.FrameLogo.Text=null),t.ScrollBar){var i=t.ScrollBar;if(i.BorderColor&&(this.ScrollBar.BorderColor=i.BorderColor),i.XSplitTextFont&&(this.ScrollBar.XSplitTextFont=i.XSplitTextFont),i.XSplitTextColor&&(this.ScrollBar.XSplitTextColor=i.XSplitTextColor),i.XSplitLineColor&&(this.ScrollBar.XSplitLineColor=i.XSplitLineColor),i.Slider){var D=i.Slider;D.DateFont&&(this.ScrollBar.Slider.DateFont=D.DateFont),D.DateColor&&(this.ScrollBar.Slider.DateColor=D.DateColor),D.BarColor&&(this.ScrollBar.Slider.BarColor=D.BarColor),D.BarAreaColor&&(this.ScrollBar.Slider.BarAreaColor=D.BarAreaColor)}if(i.BGChart){var D=i.BGChart;D.Color&&(this.ScrollBar.BGChart.Color=D.Color),D.AreaColor&&(this.ScrollBar.BGChart.AreaColor=D.AreaColor),Ee.IsPlusNumber(D.LineWidth)&&(this.ScrollBar.BGChart.LineWidth=D.LineWidth)}}}}function ta(){this.TextResource=new Mn.default([["Tooltip-Open",{CN:"开:",EN:"O:",TC:"開"}],["Tooltip-High",{CN:"高:",EN:"H:",TC:"高"}],["Tooltip-Low",{CN:"低:",EN:"L:",TC:"低"}],["Tooltip-Close",{CN:"收:",EN:"C:",TC:"收"}],["Tooltip-Increase",{CN:"幅:",EN:"I:",TC:"幅"}],["Tooltip-Vol",{CN:"量:",EN:"V:",TC:"量"}],["Tooltip-Amount",{CN:"额:",EN:"A:",TC:"額"}],["Tooltip-AvPrice",{CN:"均:",EN:"AP:",TC:"均"}],["Tooltip-Price",{CN:"价:",EN:"P:",TC:"價"}],["Tooltip-Exchange",{CN:"换:",EN:"E:",TC:"換"}],["Tooltip-Position",{CN:"持:",EN:"P:",TC:"持"}],["DivTooltip-Open",{CN:"开盘:",EN:"Open:",TC:"開盤"}],["DivTooltip-High",{CN:"最高:",EN:"High:",TC:"最高"}],["DivTooltip-Low",{CN:"最低:",EN:"Low:",TC:"最低"}],["DivTooltip-Close",{CN:"收盘:",EN:"Close:",TC:"收盤"}],["DivTooltip-Increase",{CN:"涨幅:",EN:"Increase:",TC:"漲幅"}],["DivTooltip-Vol",{CN:"数量:",EN:"Volume:",TC:"數量"}],["DivTooltip-Amount",{CN:"金额:",EN:"Amount:",TC:"金額"}],["DivTooltip-Exchange",{CN:"换手:",EN:"Exchange:",TC:"換手"}],["DivTooltip-Position",{CN:"持仓:",EN:"Position:",TC:"持倉"}],["DivTooltip-Price",{CN:"价格:",EN:"Open:",TC:"價格"}],["PCTooltip-Date",{CN:"日期",EN:"Date",TC:"日期"}],["PCTooltip-Time",{CN:"时间",EN:"Time",TC:"時間"}],["PCTooltip-Price",{CN:"价格",EN:"Price:",TC:"價格"}],["PCTooltip-AvPrice",{CN:"均价",EN:"AVPrice:",TC:"均價"}],["PCTooltip-Increase",{CN:"涨幅",EN:"Increase:",TC:"漲幅"}],["PCTooltip-Vol",{CN:"成交量",EN:"Volume:",TC:"成交量"}],["PCTooltip-Amount",{CN:"成交额",EN:"Amount:",TC:"成交額"}],["PCTooltip-AC-Price",{CN:"匹配价:",EN:"Price:",TC:"匹配價"}],["PCTooltip-AC-Increase",{CN:"竞价涨幅:",EN:"Increase:",TC:"競價漲幅"}],["PCTooltip-AC-Vol",{CN:"匹配量:",EN:"V:",TC:"匹配量"}],["PCTooltip-AC-NotMatchVol",{CN:"未匹配量:",EN:"NV:",TC:"未匹配量"}],["KTitle-Open",{CN:"开:",EN:"O:",TC:"開"}],["KTitle-High",{CN:"高:",EN:"H:",TC:"高"}],["KTitle-Low",{CN:"低:",EN:"L:",TC:"低"}],["KTitle-Close",{CN:"收:",EN:"C:",TC:"收"}],["KTitle-Increase",{CN:"幅:",EN:"I:",TC:"幅"}],["KTitle-Vol",{CN:"量:",EN:"V:",TC:"量"}],["KTitle-Amount",{CN:"额:",EN:"A:",TC:"額"}],["KTitle-Exchange",{CN:"换:",EN:"E:",TC:"換"}],["KTitle-Position",{CN:"持:",EN:"P:",TC:"持"}],["KTitle-Price",{CN:"价:",EN:"Price:",TC:"價"}],["MTitle-AC-Price",{CN:"匹配价:",EN:"C:",TC:"匹配價"}],["MTitle-AC-AvPrice",{CN:"匹配均价:",EN:"C:",TC:"匹配均價"}],["MTitle-AC-Increase",{CN:"竞价涨幅:",EN:"I:",TC:"競價漲幅"}],["MTitle-AC-Vol",{CN:"匹配量:",EN:"V:",TC:"匹配量"}],["MTitle-AC-NotMatchVol",{CN:"未匹配量:",EN:"NV:",TC:"未匹配量"}],["MTitle-AC-Amount",{CN:"匹配量金额:",EN:"A:",TC:"匹配量金额"}],["MTitle-AC-NotMatchAmount",{CN:"未匹配量金额:",EN:"NA:",TC:"未匹配量金额"}],["MTitle-Close",{CN:"价:",EN:"C:",TC:"價"}],["MTitle-AvPrice",{CN:"均:",EN:"AC:",TC:"均"}],["MTitle-Increase",{CN:"幅:",EN:"I:",TC:"幅"}],["MTitle-Vol",{CN:"量:",EN:"V:",TC:"量"}],["MTitle-Amount",{CN:"额:",EN:"A:",TC:"額"}],["MTitle-Position",{CN:"持:",EN:"P:",TC:"持"}],["MTitle-UpdateTime",{CN:"更新:",EN:"Update:",TC:"更新:"}],["日线",{CN:"日线",EN:"1D",TC:"日綫"}],["周线",{CN:"周线",EN:"1W",TC:"周綫"}],["双周",{CN:"双周",EN:"2W",TC:"雙周"}],["月线",{CN:"月线",EN:"1M",TC:"月綫"}],["半年",{CN:"半年",EN:"HY",TC:"半年"}],["年线",{CN:"年线",EN:"1Y",TC:"年綫"}],["1分",{CN:"1分",EN:"1Min",TC:"1分"}],["5分",{CN:"5分",EN:"5Min",TC:"5分"}],["15分",{CN:"15分",EN:"15Min",TC:"15分"}],["30分",{CN:"30分",EN:"30Min",TC:"30分"}],["60分",{CN:"60分",EN:"60Min",TC:"60分"}],["季线",{CN:"季线",EN:"1Q",TC:"季綫"}],["分笔",{CN:"分笔",EN:"Tick",TC:"分筆"}],["2小时",{CN:"2小时",EN:"2H",TC:"2小時"}],["4小时",{CN:"4小时",EN:"4H",TC:"4小時"}],["不复权",{CN:"不复权",EN:"No Right",TC:"不復權"}],["前复权",{CN:"前复权",EN:"Pro Right",TC:"前復權"}],["后复权",{CN:"后复权",EN:"Post Right",TC:"后復權"}],["日",{CN:"日",EN:"Sun.",TC:"日"}],["一",{CN:"一",EN:"Mon.",TC:"壹"}],["二",{CN:"二",EN:"Tues.",TC:"貳"}],["三",{CN:"三",EN:"Wed.",TC:"叁"}],["四",{CN:"四",EN:"Thur.",TC:"肆"}],["五",{CN:"五",EN:"Fri.",TC:"伍"}],["六",{CN:"六",EN:"Sat.",TC:"陸"}],["1月",{CN:"1月",EN:"Jan",TC:"1月"}],["2月",{CN:"2月",EN:"Feb",TC:"2月"}],["3月",{CN:"3月",EN:"Mar",TC:"3月"}],["4月",{CN:"4月",EN:"Apr",TC:"4月"}],["5月",{CN:"5月",EN:"May",TC:"5月"}],["6月",{CN:"6月",EN:"Jun",TC:"6月"}],["7月",{CN:"7月",EN:"Jul",TC:"7月"}],["8月",{CN:"8月",EN:"Aug",TC:"8月"}],["9月",{CN:"9月",EN:"Sept",TC:"9月"}],["10月",{CN:"10月",EN:"Oct",TC:"10月"}],["11月",{CN:"11月",EN:"Nov",TC:"11月"}],["12月",{CN:"12月",EN:"Dec",TC:"12月"}],["自定义分钟",{CN:"分",EN:"Min",TC:"分"}],["自定义日线",{CN:"日",EN:"D",TC:"日"}],["自定义秒",{CN:"秒",EN:"S",TC:"秒"}],["MVol-Vol",{CN:"成交量",EN:"Volume",TC:"成交量"}],["MVol-Position",{CN:"持仓量",EN:"Position",TC:"持倉量"}],["Depth-Price",{CN:"委托价",EN:"Price",TC:"委托價"}],["Depth-Sum",{CN:"累计",EN:"Sum",TC:"累計"}],["Toolbar-"+Vn.MODIFY_INDEX_PARAM,{CN:"调整指标参数",EN:"Change indicator parameters",TC:"调整指标参数"}],["Toolbar-"+Vn.CHANGE_INDEX,{CN:"选择指标",EN:"Change indicator",TC:"切换指标"}],["Toolbar-"+Vn.CLOSE_INDEX_WINDOW,{CN:"关闭窗口",EN:"Delete window",TC:"关闭指标窗口"}],["Toolbar-"+Vn.OVERLAY_INDEX,{CN:"叠加指标",EN:"Overlay indicator",TC:"叠加指标"}],["Toolbar-"+Vn.MODIFY_OVERLAY_INDEX_PARAM,{CN:"调整叠加指标参数",EN:"Change overlay indicator parameters",TC:"调整叠加指标参数"}],["Toolbar-"+Vn.MAX_MIN_WINDOW,{CN:"最大化",EN:"Maximize",TC:"最大化"}],["Toolbar-"+Vn.TITLE_WINDOW,{CN:"折叠窗口",EN:"Collapse window",TC:"折叠窗口"}],["Toolbar-"+Vn.EXPORT_DATA,{CN:"数据导出",EN:"Export data",TC:"数据导出"}],["Toolbar-"+Vn.CLOSE_BEFOREOPEN_ID,{CN:"关闭集合竞价",EN:"Close call auction",TC:"关闭集合竞价"}],["Toolbar-"+Vn.CLOSE_OVERLAY_INDEX,{CN:"关闭叠加指标",EN:"Delte overlay indicator",TC:"关闭叠加指标"}],["Toolbar-"+Vn.CHIP_RECENT,{CN:"近期成本分布",EN:"Recent chip",TC:"近期成本分布"}],["Toolbar-"+Vn.CHIP_LONG,{CN:"远期成本分布",EN:"Long chip",TC:"远期成本分布"}],["Toolbar-"+Vn.CHIP_DEFULT,{CN:"默认筹码分布",EN:"Default chip",TC:"默认筹码分布"}],["Toolbar-"+Vn.DRAW_PICTURE_DELETE,{CN:"删除",EN:"Delete",TC:"删除"}],["Toolbar-"+Vn.DRAW_PICTURE_SETTING,{CN:"设置",EN:"Setting",TC:"设置"}]]),this.GetText=function(t,e){var i=this.TextResource.get(t);if(!i)return"";switch(e){case ho.LANGUAGE_CHINESE_ID:return i.CN;case ho.LANGUAGE_ENGLISH_ID:return i.EN;case ho.LANGUAGE_TRADITIONAL_CHINESE_ID:return i.TC;default:return i.CN}},this.SetTextResource=function(t,e){this.TextResource.set(t,e)},this.GetLanguageID=function(t){var e=null;switch(t){case"EN":e=ho.LANGUAGE_ENGLISH_ID;break;case"CN":e=ho.LANGUAGE_CHINESE_ID;break;case"TC":e=ho.LANGUAGE_TRADITIONAL_CHINESE_ID}return e}}function ea(){}function ia(){}function aa(){this.DataMap=new Mn.default([["RenkoCalculate",{Create:function(){return new ra}}],["HeikinAshiCalculate",{Create:function(){return new na}}],["LineBreakCalcuate",{Create:function(){return new oa}}],["KagiCalculate",{Create:function(){return new ra}}]]),this.Create=function(t){return this.DataMap.has(t)?this.DataMap.get(t).Create():null}}function ra(){this.BrickSize=.05,this.SourceData,this.LastData,this.ATR={Count:14,BrickSize:.05},this.BrickSizeType=1,this.Symbol,this.FloatPrecision=2,this.ClassName="RenkoCalculate",this.SetOption=function(t){if(t&&(Ee.IsNumber(t.BrickSize)&&(this.BrickSize=t.BrickSize),Ee.IsNumber(t.BrickSizeType)&&(this.BrickSizeType=t.BrickSizeType),t.ATR)){var e=t.ATR;Ee.IsNumber(e.Count)&&(this.ATR.Count=e.Count)}},this.CalculateByClose=function(t){var e=new Q;if(e.Data=[],e.Right=t.Right,e.Period=t.Period,e.DataType=t.DataType,e.Symbol=t.symbol,!Ee.IsNonEmptyArray(t.Data))return e;var i=this.BrickSize;1==this.BrickSizeType&&(i=this.ATR.BrickSize);var a=t.Data[0];this.LastData=U.Copy(a);for(var r=1;r<t.Data.length;){var a=t.Data[r],n=a.Close-this.LastData.Close,o=a.Close-this.LastData.Open;if(Math.abs(n)>=i&&Math.abs(o)>=i){var s=0;if(n>0||o>0){var l=this.LastData.Close,h=Math.max(this.LastData.Close,this.LastData.Open),u=h+i,c=u,d=h;s=a.Vol}else{var l=this.LastData.Close,h=Math.min(this.LastData.Close,this.LastData.Open),u=h-i,c=h,d=u;s=a.Vol}var f=new U;f.Date=a.Date,f.Time=a.Time,f.YClose=l,f.Open=h,f.High=c,f.Low=d,f.Close=u,f.Vol=this.LastData.Vol+s,e.Data.push(f),this.LastData.YClose=f.YClose,this.LastData.Open=f.Open,this.LastData.High=f.High,this.LastData.Low=f.Low,this.LastData.Close=f.Close,this.LastData.Date=f.Date,this.LastData.Time=f.Time,this.LastData.Vol=0}else this.LastData.Vol+=a.Vol,++r}return e},this.RecvHistoryData=function(t,e){return this.Symbol=e.Symbol,this.SourceData=t,this.FloatPrecision=pr(this.Symbol),1==this.BrickSizeType&&this.CalculateATR(),this.CalculateByClose(t)},this.Clear=function(){this.SourceData=null,this.LastData=null,this.Symbol=null},this.GetTitle=function(){if(1==this.BrickSizeType)var t="Renko [ATR("+this.ATR.Count+"), "+this.ATR.BrickSize+"]";else var t="Renko [Traditional, "+this.BrickSize+"]";return t},this.CalculateATR=function(){if(Ee.IsNonEmptyArray(this.SourceData.Data)){for(var t=this.SourceData.Data,e=t.length,i=[],a=e-1,r=0;a>=0&&r<this.ATR.Count;--a,++r){var n=t[a],o=Math.max(n.High-n.Low,n.High-n.Close,n.Close-n.Low);i.push(o)}for(var s=0,a=0;a<i.length;++a)s+=i[a];var l=s/i.length,o=l.toFixed(this.FloatPrecision);this.ATR.BrickSize=parseFloat(o)}}}function na(){this.SourceData,this.Symbol,this.FloatPrecision=2,this.ClassName="HeikinAshiCalculate",this.Clear=function(){this.SourceData=null,this.LastData=null,this.Symbol=null},this.RecvHistoryData=function(t,e){return this.Symbol=e.Symbol,this.SourceData=t,this.FloatPrecision=pr(this.Symbol),this.Calculate(t)},this.GetTitle=function(){return"Heikin Ashi"},this.Calculate=function(t){var e=new Q;if(e.Data=[],e.Right=t.Right,e.Period=t.Period,e.DataType=t.DataType,e.Symbol=t.symbol,!Ee.IsNonEmptyArray(t.Data))return e;for(var i=null,a=null,r=0;r<t.Data.length;++r){var n=t.Data[r],o=U.Copy(n);i?(o.Close=(n.Close+n.Open+n.High+n.Low)/4,o.Open=(i.Close+i.Open)/2,o.YClose=a,o.High=Math.max(o.Close,o.Open,n.High),o.Low=Math.min(o.Close,o.Open,n.Low),a=o.Close):(o.Open=(n.Close+n.Open)/2,o.Close=(n.Close+n.Open+n.High+n.Low)/4,a=o.Close),i=n,e.Data.push(o)}return e}}function oa(){this.SourceData,this.Symbol,this.FloatPrecision=2,this.LineCount=3,this.ClassName="LineBreakCalcuate",this.Clear=function(){this.SourceData=null,this.LastData=null,this.Symbol=null},this.GetTitle=function(){return"Line Break ["+this.LineCount+"]"},this.RecvHistoryData=function(t,e){return this.Symbol=e.Symbol,this.SourceData=t,this.FloatPrecision=pr(this.Symbol),this.CalculateByClose(t)},this.CalculatePreviousKLine=function(t){for(var e=0;e<t.Data.length;++e){var i=t.Data[e];0==e?(t.High=i.High,t.Low=i.Low):(t.High<i.High&&(t.High=i.High),t.Low<i.Low&&(t.Low=i.Low)),t.Date=i.Date,t.Time=i.Time,t.Vol+=i.Vol,t.Amount+=i.Amount}},this.CalculateByClose=function(t){var e=new Q;if(e.Data=[],e.Right=t.Right,e.Period=t.Period,e.DataType=t.DataType,e.Symbol=t.symbol,!Ee.IsNonEmptyArray(t.Data))return e;for(var i=0,a={High:null,Low:null,Date:null,Time:null,Direction:0};i<t.Data.length&&i<this.LineCount;++i){var r=t.Data[i];0==n?(a.High=r.High,a.Low=r.Low):(a.High<r.High&&(a.High=r.High),a.Low>r.Low&&(a.Low=r.Low)),a.Date=r.Date,a.Time=r.Time,a.Vol+=r.Vol,a.Amount+=r.Amount}for(var n=i;n<t.Data.length;++n){var r=t.Data[n];if(r.Close>a.High){var o=new U;o.YClose=a.Low,o.Open=a.High,o.Close=r.Close,o.Low=Math.min(o.Open,o.Close),o.High=Math.max(o.Open,o.Close),o.Date=r.Date,o.Time=r.Time,o.Vol=r.Vol,o.Amount=r.Amount,o.Direction=1,e.Data.push(o),a=o}else if(r.Close<a.Low){var o=new U;o.YClose=a.High,o.Open=a.Low,o.Close=r.Close,o.Low=Math.min(o.Open,o.Close),o.High=Math.max(o.Open,o.Close),o.Date=r.Date,o.Time=r.Time,o.Vol=r.Vol,o.Amount=r.Amount,o.Direction=2,e.Data.push(o),a=o}else a&&(1==a.Direction||a.Direction,a.Vol+=r.Vol,a.Amount+=r.Amount)}return e}}function sa(t,e){this.newMethod=u,this.newMethod(t,e),delete this.newMethod,this.ClassName="KLineChartContainer",this.WindowIndex=new Array,this.ColorIndex,this.TradeIndex,this.Symbol,this.Name,this.Period=0,this.IsApiPeriod=!1,this.Right=0,this.RightFormula=0,this.SourceData,this.MaxRequestDataCount=3e3,this.MaxRequestMinuteDayCount=5,this.PageSize=200,this.KLineDrawType=0,this.ScriptErrorCallback,this.FlowCapitalReady=!1,this.EnableFlowCapital={},this.EnableZoomUpDown=null,this.ChartDrawStorage=new Ji,this.ChartDrawStorageCache=null,this.RightSpaceCount=0,this.SourceDataLimit=new Mn.default,this.CtrlMoveStep=5,this.CustomShow=null,this.OverlayIndexFrameWidth=60,this.ZoomType=0,this.IsZoomLockRight=!1,this.KLineSize=null,this.Page={Day:{Enable:!1,Index:0,Finish:!1},Minute:{Enable:!1,Index:0,Finish:!1}},this.DragDownload={Day:{Enable:!1,IsEnd:!1,Status:0},Minute:{Enable:!1,IsEnd:!1,Status:0},Tick:{Enable:!1,IsEnd:!1,Status:0}},this.ZoomDownload={Day:{Enable:!1,IsEnd:!1,Status:0},Minute:{Enable:!1,IsEnd:!1,Status:0},Tick:{Enable:!1,IsEnd:!1,Status:0}},this.IsAutoUpdate=!1,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.KLineApiUrl=lo.Domain+"/API/KLine2",this.MinuteKLineApiUrl=lo.Domain+"/API/KLine3",this.DragMinuteKLineApiUrl=lo.Domain+"/API/KLine4",this.DragKLineApiUrl=lo.Domain+"/API/KLine5",this.ZoomMinuteKLineApiUrl=lo.Domain+"/API/KLine4",this.ZoomKLineApiUrl=lo.Domain+"/API/KLine5",this.RealtimeApiUrl=lo.Domain+"/API/Stock",this.KLineMatchUrl=lo.Domain+"/API/KLineMatch",this.StockHistoryDayApiUrl=lo.Domain+"/API/StockHistoryDay",this.TickApiUrl=lo.Domain+"/API/StockDetail",this.MinuteDialog,this.RightMenu,this.BeforeBindMainData=null,this.AfterBindMainData=null,this.KLineCalculate=null,this.KLineCalcOption=new Mn.default,this.ScrollBar=null,this.GetKLineCalulate=function(){var t,e=this.GetKLineDrawType();if(10==e)t="RenkoCalculate";else if(11==e)t="HeikinAshiCalculate";else if(12==e)t="LineBreakCalcuate";else{if(16!=e)return null;t="KagiCalculate"}if((!this.KLineCalculate||this.KLineCalculate.ClassName!=t)&&(this.KLineCalculate=co.Create(t),this.KLineCalculate.SetOption&&this.KLineCalcOption.has(t))){var i=this.KLineCalcOption.get(t);this.KLineCalculate.SetOption(i)}return this.KLineCalculate},this.SetKLineCalcOption=function(t,e){this.KLineCalcOption.set(t,e),this.KLineCalculate&&this.KLineCalculate.ClassName==t&&this.KLineCalculate.SetOption&&this.KLineCalculate.SetOption(e)},this.ClearKLineCaluate=function(){this.KLineCalculate&&this.KLineCalculate.Clear&&this.KLineCalculate.Clear()},this.ResetDragDownload=function(){this.DragDownload.Day.Status=0,this.DragDownload.Day.IsEnd=!1,this.DragDownload.Minute.Status=0,this.DragDownload.Minute.IsEnd=!1,this.DragDownload.Tick.Status=0,this.DragDownload.Tick.IsEnd=!1},this.ResetZoomDownload=function(){this.ZoomDownload.Day.Status=0,this.ZoomDownload.Day.IsEnd=!1,this.ZoomDownload.Minute.Status=0,this.ZoomDownload.Minute.IsEnd=!1,this.ZoomDownload.Tick.Status=0,this.ZoomDownload.Tick.IsEnd=!1},this.ResetPage=function(){this.Page.Day.Finish=!1,this.Page.Day.Index=0,this.Page.Minute.Finish=!1,this.Page.Minute.Index=0},this.AddCustomKLine=function(t,e){var i=this.ChartPaint[0];if(i&&t){if(i.CustomKLine||(i.CustomKLine=new Mn.default),Array.isArray(t))for(var a=0;a<t.length;++a){var r=t[a];i.CustomKLine.set(r.Key,r.Data)}else t&&i.CustomKLine.set(t.Key,t.Data);e&&1==e.Draw&&this.Draw()}},this.ClearCustomKLine=function(t){var e=this.ChartPaint[0];e&&(e.ClearCustomKLine(),t&&1==t.Draw&&this.Draw())},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::StopAutoUpdate"),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.SandTableOperator=function(t){switch(t.ID){case 1:this.StopAutoUpdate(),t.Data&&this.ManualUpdateKData(t);break;case 2:this.ManualUpdateKData(t);break;case 3:t.IsAutoUpdate&&(this.IsAutoUpdate=t.IsAutoUpdate),this.ChangeSymbol(this.Symbol)}},this.ManualUpdateKData=function(t){var e=t.Data,i=e.length,a=new Q;a.Data=e,a.Period=this.Period,a.Right=this.Right,a.Symbol=this.Symbol,this.UpdateMainData(a,i),this.BindInstructionIndexData(a);for(var r=0;r<this.Frame.SubFrame.length;++r)this.BindIndexData(r,a);if(Ee.IsNumber(t.DataOffset)&&t.DataOffset>=0){var n=null;n=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data,n&&(n.DataOffset=t.DataOffset)}this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendManualKLineUpdateEvent(a)},this.GetKDataInfo=function(){if(!this.ChartPaint[0])return null;var t=this.ChartPaint[0],e={};return t.Data&&t.Data.Data&&(e.Data=t.Data.CloneData("HistoryData")),e.ShowRange=t.ShowRange,e.Period=this.Period,e.RightSpaceCount=this.RightSpaceCount,e},this.ChartOperator=function(t){var e=t.ID;if(e===Bn.OP_SCROLL_LEFT||e===Bn.OP_SCROLL_RIGHT){var i=e===Bn.OP_SCROLL_LEFT,a=1;t.Step>0&&(a=t.Step);var r=this.GetMoveOneStepWidth();this.DataMove(a*r,i)?(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()):e===Bn.OP_SCROLL_RIGHT&&this.DragDownloadData&&this.DragDownloadData()}else if(e===Bn.OP_ZOOM_IN||e===Bn.OP_ZOOM_OUT){var n={};if(n.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),e===Bn.OP_ZOOM_IN){if(!this.Frame.ZoomUp(n))return}else if(!this.Frame.ZoomDown(n))return;this.CursorIndex=n.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw()}else if(e===Bn.OP_GOTO_HOME){var o=this.ChartOperator_Temp_GetHistroyData();if(!o)return;var s=this.Frame.SubFrame[0].Frame.XPointCount;s-=this.RightSpaceCount;var l=o.Data.length-s;o.DataOffset=l,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,Nn.Chart.Log("[KLineChartContainer::ChartOperator] OP_GOTO_HOME, dataOffset="+o.DataOffset+" CursorIndex="+this.CursorIndex+" PageSize="+s),this.ChartOperator_Temp_Update()}else if(e===Bn.OP_GOTO_END){var o=this.ChartOperator_Temp_GetHistroyData();if(!o)return;o.DataOffset=0,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,Nn.Chart.Log("[KLineChartContainer::ChartOperator] OP_GOTO_END "),this.ChartOperator_Temp_Update()}else if(e==Bn.OP_LEFT_ZOOM_IN||e==Bn.OP_LEFT_ZOOM_OUT){var o=this.ChartOperator_Temp_GetHistroyData();if(!o)return;var h=o.Data.length,s=this.Frame.SubFrame[0].Frame.XPointCount,u=o.DataOffset;if(e==Bn.OP_LEFT_ZOOM_IN){if(Ee.IsNumber(t.Step)){if(s>=h)return;var a=t.Step;if(a>u&&(a=u),s+a>h&&(a=h-s),a<=0)return;s+=a,o.DataOffset-=a}}else if(e==Bn.OP_LEFT_ZOOM_OUT){var d=this.GetMaxMinPageSize(),f=d.Min;if(Ee.IsNumber(t.Step)){if(s<f)return;var a=t.Step;if(s-a<f&&(a=s-f),a<=0)return;s-=a,o.DataOffset+=a}}for(var p in this.Frame.SubFrame){var m=this.Frame.SubFrame[p].Frame;m.XPointCount=s}o.DataOffset<0&&(o.DataOffset=0),this.ChartOperator_Temp_Update()}else if(e==Bn.OP_RIGHT_ZOOM_IN||e==Bn.OP_RIGHT_ZOOM_OUT){var o=this.ChartOperator_Temp_GetHistroyData();if(!o)return;var h=o.Data.length,s=this.Frame.SubFrame[0].Frame.XPointCount,u=o.DataOffset;if(e==Bn.OP_RIGHT_ZOOM_IN){if(Ee.IsNumber(t.Step)){if(s>=h)return;var C=u+s,v=h-C;if(v<=0)return;var a=t.Step;if(a>v&&(a=v),a<=0)return;s+=a}}else if(e==Bn.OP_RIGHT_ZOOM_OUT){var d=this.GetMaxMinPageSize(),f=d.Min;if(Ee.IsNumber(t.Step)){if(s<f)return;var a=t.Step;if(a>s&&(a=s),s-a<f&&(a=s-f),a<=0)return;s-=a}}for(var p in this.Frame.SubFrame){var m=this.Frame.SubFrame[p].Frame;m.XPointCount=s}o.DataOffset<0&&(o.DataOffset=0),this.ChartOperator_Temp_Update()}else{if(e==Bn.OP_SET_SELECTRECT){if(!this.ChartPaint[0])return!1;if(!this.ChartPaint[0].Data)return!1;var o=this.ChartOperator_Temp_GetHistroyData();if(!Ee.IsNonEmptyArray(o.Data))return!1;var D=this.GetRectSelectPaint();if(!D)return!1;if(!Q.IsDayPeriod(this.Period,!0))return!1;for(var g,S,x,b,p=0;p<o.Data.length;++p){var m=o.Data[p];if(m.Date==t.Start.Date&&(g={KItem:m,DataIndex:p}),m.Date==t.End.Date&&(S={KItem:m,DataIndex:p}),t.SubClient&&t.SubClient.Start&&m.Date==t.SubClient.Start.Date&&(x={KItem:m,DataIndex:p}),t.SubClient&&t.SubClient.End&&m.Date==t.SubClient.End.Date&&(b={KItem:m,DataIndex:p}),g&&S)break}if(!g||!S)return Nn.Chart.Warn("[KLineChartContainer::ChartOperator][OP_SET_SELECTRECT] can't find date. firstPoint, secondPoint, obj",g,S,t),!1;D.SetPoint(g.KItem,{Index:0,DataIndex:g.DataIndex}),D.SetPoint(S.KItem,{Index:1,DataIndex:S.DataIndex}),x&&b&&(D.SetPoint(x.KItem,{Index:3,DataIndex:x.DataIndex}),D.SetPoint(b.KItem,{Index:4,DataIndex:b.DataIndex})),Ee.IsBool(t.PreventClose)&&(D.PreventClose=t.PreventClose);var I=!1,T=this.ChartPaint[0].DrawKRange;if(T&&(T.Start>=g.DataIndex&&T.Start>=S.DataIndex||T.End<=g.DataIndex&&T.End<=S.DataIndex)){var y=g.DataIndex,h=o.Data.length,s=this.ChartPaint[0].ShowRange.ShowCount;y+s>h&&(y=h-s),y<0&&(y=0),o.DataOffset=y,I=!0}return I?this.ChartOperator_Temp_Update():this.Draw(),!0}if(e==Bn.OP_SET_SUB_SELECTRECT){if(!this.ChartPaint[0])return!1;if(!this.ChartPaint[0].Data)return!1;var o=this.ChartOperator_Temp_GetHistroyData();if(!Ee.IsNonEmptyArray(o.Data))return!1;var D=this.GetRectSelectPaint();if(!D)return!1;if(!Q.IsDayPeriod(this.Period,!0))return!1;for(var g,S,x,b,p=0;p<o.Data.length;++p){var m=o.Data[p];if(m.Date==t.Start.Date&&(g={KItem:m,DataIndex:p}),m.Date==t.End.Date&&(S={KItem:m,DataIndex:p}),g&&S)break}return g&&S?(D.SetPoint(g.KItem,{Index:3,DataIndex:g.DataIndex}),D.SetPoint(S.KItem,{Index:4,DataIndex:S.DataIndex}),this.Draw(),!0):(Nn.Chart.Warn("[KLineChartContainer::ChartOperator][OP_SET_SUB_SELECTRECT] can't find date. firstPoint, secondPoint, obj",g,S,t),!1)}if(e==Bn.OP_SCROOLBAR_SLIDER_CHANGED){var o=this.ChartOperator_Temp_GetHistroyData();if(!o)return;if(0==t.Type)o.DataOffset=t.Start.Index,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,this.ChartOperator_Temp_Update();else if(1==t.Type||2==t.Type){var s=(t.Start.Index,t.End.Index-t.Start.Index+1),w=o.Data[t.Start.Index];o.Data[t.End.Index];this.Frame.SetXShowCount(s),o.DataOffset=t.Start.Index,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,this.ChartOperator_Temp_Update()}}else if(e==Bn.OP_GOTO){if(!Ee.IsNumber(t.Date))return;var o=this.ChartOperator_Temp_GetHistroyData();if(!o)return;var l=null;if(Q.IsDayPeriod(this.Period,!0))for(var p=0;p<o.Data.length;++p){var m=o.Data[p];if(m.Date>=t.Date){l=p;break}}else if(Q.IsMinutePeriod(this.Period,!0)){var E=t.Time;if(Ee.IsPlusNumber(E))for(var p=0;p<o.Data.length;++p){var m=o.Data[p];if(m.Date>t.Date||m.Date==t.Date&&m.Time>=E){l=p;break}}else for(var p=0;p<o.Data.length;++p){var m=o.Data[p];if(m.Date>=t.Date){l=p;break}}}if(null===l)return void Nn.Chart.Log("[KLineChartContainer::ChartOperator] OP_GOTO can't find date="+t.Date+" time="+t.Time);var F=this.Frame.SubFrame[0].Frame.XPointCount,L=F;t.PageSize>0&&(L=t.PageSize),L!=F&&this.Frame.SetXShowCount(L),o.DataOffset=l,this.CursorIndex=0,this.LastPoint.X=null,this.LastPoint.Y=null,this.ChartOperator_Temp_Update()}else if(e==Bn.OP_CORSSCURSOR_GOTO){if(!Ee.IsNumber(t.Date))return;var M=Ee.IsNumber(t.Time),A=this.GetChartStatus();if(!A)return;var o=this.ChartOperator_Temp_GetHistroyData();if(!o)return;for(var w=o.DataOffset,O=-1,p=w,N=0;p<o.Data.length&&N<A.KLine.PageSize;++p,++N){var m=o.Data[p];if(M){if(m.Date==t.Date&&m.Time==t.Time){m,O=N,p;break}}else if(m.Date==t.Date){m,O=N,p;break}}if(O<0)return;if(!this.Frame||!this.Frame.SubFrame[0]||!this.Frame.SubFrame[0].Frame)return!1;var _=this.Frame.SubFrame[0].Frame,P=_.GetXFromIndex(O),R=_.GetYFromData(m.Close),B={X:P,Y:R,IsInClient:this.IsMouseOnClient(P,R)};this.LastMouseStatus.OnMouseMove=B,this.LastMouseStatus.MoveOnPoint={X:P,Y:R};var k=this.GetEventCallback(Rn.ON_MOUSE_MOVE),V=this.TitlePaint[0];k&&V&&(V.OnMouseMoveEvent=k);var G=c(),H={};H.clientX=P/G+this.UIElement.getBoundingClientRect().left,H.clientY=R/G+this.UIElement.getBoundingClientRect().top,this.MoveOnPoint={X:P,Y:R},this.OnMouseMove(P,R,H),this.LastMouseStatus.MoveOnPoint=null,V&&(V.OnMouseMoveEvent=null)}}},this.ChartOperator_Temp_GetHistroyData=function(){return(this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data)||null},this.ChartOperator_Temp_Update=function(){this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex()},this.OnWheel=function(t){var e=this;if(Nn.Chart.Log("[KLineChartContainer::OnWheel]",t),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var i=c(),a=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,r=(t.clientY-this.UIElement.getBoundingClientRect().top)*i,n=!1;this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),n=this.Canvas.isPointInPath(a,r);var o=t.wheelDelta;Ee.IsObjectExist(t.wheelDelta)||(o=-.01*t.deltaY);var s=!0;if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Wheel&&(s=!1),this.SourceData&&this.SourceData.Data)if(n&&o<0&&s){var l={ZoomType:this.ZoomType,IsLockRight:this.IsZoomLockRight};l.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),this.Frame.ZoomDown(l,{ZoomDownloadDataCallback:function(t){e.ZoomDownloadData(t)}})&&(this.CursorIndex=l.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.OnKLinePageChange("wheel"))}else if(n&&o>0&&s){var l={ZoomType:this.ZoomType,IsLockRight:this.IsZoomLockRight};l.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),this.Frame.ZoomUp(l)&&(Nn.Chart.Log("[KLineChartContainer::OnWheel] cursorIndex ",l),this.CursorIndex=l.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.OnKLinePageChange("wheel"))}n&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}},this.Create=function(t,e){var i=this;this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new Re,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=no.Create("CorssCursor_XStringFormat"),this.ChartCorssCursor.StringFormatX.GetEventCallback=function(t){return i.GetEventCallback(t)},this.ChartCorssCursor.StringFormatX.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY=no.Create("CorssCursor_YStringFormat"),this.ChartCorssCursor.StringFormatY.GetEventCallback=function(t){return i.GetEventCallback(t)},this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY.ExtendChartPaint=this.ExtendChartPaint,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new H,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.Frame.GetExtendChartRightWidth=function(){return i.GetExtendChartRightWidth()},this.Frame.GetExtendChartByClassName=function(t){return i.GetExtendChartByClassName(t)},this.Frame.GetEventCallback=function(t){return i.GetEventCallback(t)},this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine(),this.CreateExtendChart("RectSelectPaint",e?e.SelectRect:null),this.EnableIndexChartDrag&&this.CreateExtendChart("DragMovePaint");for(var a in this.Frame.SubFrame){var r=new ii;r.Frame=this.Frame.SubFrame[a].Frame,r.Canvas=this.Canvas,r.LanguageID=this.LanguageID,r.GetEventCallback=function(t){return i.GetEventCallback(t)},r.SelectedChart=this.SelectedChart,this.TitlePaint.push(r)}this.ChartCorssCursor.StringFormatX.Frame=this.Frame.SubFrame[0].Frame,this.ChartCorssCursor.StringFormatY.Frame=this.Frame;var n=!0,o=!0;if(e&&e.Listener){var s=e.Listener;!1===s.KeyDown&&(n=!1,Nn.Chart.Log("[KLineChartContainer::Create] not register keydown event.")),!1===s.Wheel&&(o=!1,Nn.Chart.Log("[KLineChartContainer::Create] not register wheel event."))}n&&this.UIElement.addEventListener("keydown",function(t){i.OnKeyDown(t)},!0),o&&this.UIElement.addEventListener("wheel",function(t){i.OnWheel(t)},!0)},this.OnCustomKeyDown=function(t,e){return 37==t&&e.ctrlKey?(this.MoveCorssCursorLeft(this.CtrlMoveStep),!0):!(39!=t||!e.ctrlKey)&&(this.MoveCorssCursorRight(this.CtrlMoveStep),!0)},this.MoveCorssCursorLeft=function(t){var e=null;if(e=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data){if(e.DataOffset<=0&&this.CursorIndex<=0)return void(this.DragDownloadData&&this.DragDownloadData());if(this.CursorIndex-t<0)return e.DataOffset-=t,e.DataOffset<0&&(e.DataOffset=0,this.CursorIndex=0),this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),void this.OnKLinePageChange("keydown");this.CursorIndex-=t,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo(),this.ShowTooltipByKeyDown()}},this.MoveCorssCursorRight=function(t){var e=null;if(e=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data){var i=0;if(i=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,!(this.CursorIndex+e.DataOffset+1>=e.Data.length)){var a=!1;if(this.CursorIndex+t+e.DataOffset+1>e.Data.length&&(t=e.Data.length-1-e.DataOffset-this.CursorIndex,a=!0),this.CursorIndex+t>=i){var r=this.CursorIndex+t-(i-1);return e.DataOffset+=r,a&&(this.CursorIndex=i-1),this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),void this.OnKLinePageChange("keydown")}this.CursorIndex+=t,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo(),this.ShowTooltipByKeyDown()}}},this.GetKLineChart=function(){return this.ChartPaint[0]?this.ChartPaint[0]:null},this.CreateChildWindow=function(t){for(var e=this,i=this.GetEventCallback(Rn.ON_CREATE_FRAME),a=0;a<t;++a){var r=new w;r.UIElement=this.UIElement;var n=Yn.Create("KLineFrame",{ID:a});if(n.Canvas=this.Canvas,n.ChartBorder=r,n.Identify=a,n.RightSpaceCount=this.RightSpaceCount,n.GetEventCallback=function(t){return e.GetEventCallback(t)},this.ModifyIndexDialog&&(n.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(n.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),n.HorizontalMax=20,n.HorizontalMin=10,0==a){n.YSplitOperator=new Fe,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),n.YSplitOperator.FrameSplitData2=this.FrameSplitData.get("double"),n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},n.YSplitOperator.GetKLineChartCallback=function(){return e.GetKLineChart()},n.YSplitOperator.HQChart=this;var o=c();r.BottomSpace=15*o,r.TopSpace=15*o,n.GetEventCallback=function(t){return e.GetEventCallback(t)}}else n.YSplitOperator=new Le,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),n.YSplitOperator.LanguageID=this.LanguageID,n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},n.YSplitOperator.GetKLineChartCallback=function(){return e.GetKLineChart()},n.YSplitOperator.HQChart=this;n.YSplitOperator.Frame=n,n.YSplitOperator.ChartBorder=r,n.XSplitOperator=new Me,n.XSplitOperator.Frame=n,n.XSplitOperator.ChartBorder=r,n.XSplitOperator.LanguageID=this.LanguageID,n.XSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},a!=t-1&&(n.XSplitOperator.ShowText=!1);for(var s=n.HorizontalMin;s<=n.HorizontalMax;s+=1)n.HorizontalInfo[s]=new T,n.HorizontalInfo[s].Value=s,0==a&&s==n.HorizontalMin||(n.HorizontalInfo[s].Message[1]=s.toString(),n.HorizontalInfo[s].Font="14px 微软雅黑");var l=new V;if(l.Frame=n,l.Height=0==a?20:10,this.Frame.SubFrame[a]=l,i&&i.Callback){var h={SubFrame:this.Frame.SubFrame[a],WindowIndex:a};i.Callback(i,h,this)}}},this.CreateSubFrameItem=function(t){var e=this,i=new w;i.UIElement=this.UIElement;var a="KLineFrame";"KLineChartHScreenContainer"==this.ClassName&&(a="KLineHScreenFrame");var r=Yn.Create(a,{ID:t});r.Canvas=this.Canvas,r.ChartBorder=i,r.Identify=t,r.GetEventCallback=function(t){return e.GetEventCallback(t)},this.ModifyIndexDialog&&(r.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(r.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),r.HorizontalMax=20,r.HorizontalMin=10,r.YSplitOperator=new Le,r.YSplitOperator.LanguageID=this.LanguageID,r.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),r.YSplitOperator.Frame=r,r.YSplitOperator.ChartBorder=i,r.XSplitOperator=new Me,r.XSplitOperator.Frame=r,r.XSplitOperator.ChartBorder=i,r.XSplitOperator.ShowText=!1,r.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},r.YSplitOperator.GetKLineChartCallback=function(){return e.GetKLineChart()},r.YSplitOperator.HQChart=this,r.XSplitOperator.Symbol=this.Symbol,r.XSplitOperator.Period=this.Period;var n=this.Frame.SubFrame[0].Frame.XPointCount;r.XPointCount=n,r.Data=this.ChartPaint[0].Data;for(var o=r.HorizontalMin;o<=r.HorizontalMax;o+=1)r.HorizontalInfo[o]=new T,r.HorizontalInfo[o].Value=o,r.HorizontalInfo[o].Message[1]=o.toString(),r.HorizontalInfo[o].Font="14px 微软雅黑";var s=new V;s.Frame=r,s.Height=10;var l=this.GetEventCallback(Rn.ON_CREATE_FRAME);if(l&&l.Callback){var h={SubFrame:s,WindowIndex:t};l.Callback(l,h,this)}return s},this.CreateMainKLine=function(){var t=this,e=qn.Create("ChartKLine");e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Main-KLine",e.DrawType=this.KLineDrawType,e.Identify="Main-KLine",e.GetEventCallback=function(e){return t.GetEventCallback(e)},this.ChartPaint[0]=e,this.TitlePaint[0]=new Qe,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.TitlePaint[0].LanguageID=this.LanguageID,this.TitlePaint[0].HQChart=this,this.TitlePaint[0].GetEventCallback=function(e){return t.GetEventCallback(e)}},this.BindMainData=function(t,e){if(this.ChartPaint[0].Data=t,this.ChartPaint[0].Symbol=this.Symbol,this.KLineSize)if(null==this.KLineSize.DataWidth)e=this.Frame.SubFrame[0].Frame.XPointCount-this.RightSpaceCount;else{var i=this.Frame.SetDataWidth(this.KLineSize.DataWidth);e=i.XPointCount-this.RightSpaceCount,this.KLineSize.DataWidth=null}for(var a in this.Frame.SubFrame){var r=this.Frame.SubFrame[a].Frame;r.XPointCount=e+this.RightSpaceCount,r.Data=this.ChartPaint[0].Data,r.XSplitOperator.Symbol=this.Symbol,r.XSplitOperator.Period=this.Period}this.TitlePaint[0].Data=this.ChartPaint[0].Data,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.TitlePaint[0].Period=this.Period,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data,this.Frame.Data=this.ChartPaint[0].Data;for(var a in this.OverlayChartPaint){var r=this.OverlayChartPaint[a];r.MainData=this.ChartPaint[0].Data}var n=t.Data.length-e;n<0&&(n=0),this.ChartPaint[0].Data.DataOffset=n,this.ChartPaint[0].Period=this.Period,this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.CursorIndex=e,this.CursorIndex+n>=t.Data.length&&(this.CursorIndex=t.Data.length-1-n),this.CursorIndex<0&&(this.CursorIndex=0),this.CustomShow&&(this.SetCustomShow(this.CustomShow,t),this.CustomShow=null)},this.UpdateMainData=function(t,e){var i=null;if(this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(i=this.Frame.SubFrame[0].Frame.Data):i=this.Frame.Data,i){var a=this.Frame.SubFrame[0].Frame.XPointCount,r=0;e>0&&t.Data.length>e?(r=t.Data.length-e,Nn.Chart.Log("[KLineChartContainer::UpdateMainData]  [count="+e+"->"+t.Data.length+"], [newDataCount="+r+"], [Pagesize="+a+"]")):0==e&&t.Data.length>a&&(r=t.Data.length-a,Nn.Chart.Log("[KLineChartContainer::UpdateMainData] history data is empty. [count="+e+"->"+t.Data.length+"], [newDataCount="+r+"], [Pagesize="+a+"]")),this.ChartPaint[0].Data=t,this.ChartPaint[0].Symbol=this.Symbol,t.Data.length>a&&(this.ChartPaint[0].Data.DataOffset=i.DataOffset+r);for(var n in this.Frame.SubFrame){var o=this.Frame.SubFrame[n].Frame;o.Data=this.ChartPaint[0].Data,0==n&&(o.YSplitOperator.Symbol=this.Symbol,o.YSplitOperator.Data=this.ChartPaint[0].Data,o.YSplitOperator.Period=this.Period)}this.TitlePaint[0].Data=this.ChartPaint[0].Data,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data,this.Frame.Data=this.ChartPaint[0].Data;for(var n in this.OverlayChartPaint){var o=this.OverlayChartPaint[n];o.MainData=this.ChartPaint[0].Data}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol}},this.SetCustomShow=function(t,e){if(t&&t.Date&&!(t.Date<19910101)){for(var i=t.Date,a=null,r=0;r<e.Data.length;++r){var n=e.Data[r];if(n.Date>=i){a=r;break}}if(null===a)return void Nn.Chart.Log("[KLineChartContainer::SetCustomShow] Can't find first date="+i);var o=e.Data.length-a;t.PageSize>0&&(o=t.PageSize);var s=o,l=this.GetMaxMinPageSize();o>l.Max?s=l.Max:o<l.Min&&(s=l.Min);for(var r in this.Frame.SubFrame){var n=this.Frame.SubFrame[r].Frame;n.XPointCount=s}this.ChartPaint[0].Data.DataOffset=a,this.CursorIndex=0}},this.OnDragSelectRectMouseUp=function(t){var e=this.GetRectSelectPaint();if(e){var i=e.GetSelectRectData();if(i){var a=c(),r=this.ChartCorssCursor,n=r.LastPoint.X/a,o=r.LastPoint.Y/a,s=!0,l=this.GetEventCallback(Rn.ON_DRAG_SELECT_RECT_MOUSEUP);if(l){var h={X:n,Y:o,SelectData:i,RectSelectPaint:e,IsShowMenu:!1};l.Callback(l,h,this),s=h.IsShowMenu}s&&this.SelectRectRightMenu&&(t.data={Chart:this,X:n,Y:o,SelectData:i,RectSelectPaint:e},this.SelectRectRightMenu.DoModal(t))}}},this.OnDragSubSelectRectMouseUp=function(t){var e=this.GetRectSelectPaint();if(e){if(e.GetSelectRectData()){var i=c(),a=this.ChartCorssCursor,r=a.LastPoint.X/i,n=a.LastPoint.Y/i,o=this.GetEventCallback(Rn.ON_DRAG_SUB_SELECT_RECT_MOUSEUP);if(o){var s={Start:e.SubClient.FirstPoint,End:e.SubClient.SecondPoint},l={X:r,Y:n,SubSelectData:s,RectSelectPaint:e};o.Callback(o,l,this)}}}},this.ShowSelectData=function(t){this.HideSelectRect(),this.SelectRectRightMenu&&this.SelectRectRightMenu.Hide(),Nn.Chart.Log("[KLineChartContainer::ShowSelectData] selectData",t);var e=t.Start,i=t.End-t.Start+1;Nn.Chart.Log("[KLineChartContainer::ShowSelectData] DataOffset="+e+", ShowCount="+i);for(var a in this.Frame.SubFrame){this.Frame.SubFrame[a].Frame.XPointCount=i}this.ChartPaint[0].Data.DataOffset=e,this.CursorIndex=0,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex()},this.OnMarkRectSelect=function(t){var e=this.ChartCorssCursor;if(e&&0!=e.Status&&Ee.IsNumber(e.CursorIndex)&&this.ChartPaint[0]&&this.ChartPaint[0].Data){var i=this.GetRectSelectPaint();if(i){var a=e.CursorIndex;Nn.Chart.Log("[KLineChartContainer::OnMarkRectSelect] dataIndex",a);var r=this.ChartPaint[0].Data;a=parseInt(a.toFixed(0));var n=a+r.DataOffset;n>=r.Data.length&&(n=r.Data.length-1);var o=r.Data[n];if(Nn.Chart.Log("[KLineChartContainer::OnMarkRectSelect] item",o),this.SetRectSelectData(o,n)){var s=i.GetPointCount(),l=c();if(1==s){var h=this.GetEventCallback(Rn.ON_KEYDOWN_SELECT_RECT_FIRST);if(h&&h.Callback){var u={X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,Item:o,Index:n,RectSelectPaint:i};h.Callback(h,u,this)}}else if(2==s){var d=i.GetSelectRectData(),h=this.GetEventCallback(Rn.ON_KEYDOWN_SELECT_RECT),f=!0;if(h&&h.Callback){var u={X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,SelectData:d,RectSelectPaint:i,IsShowMenu:!0};h.Callback(h,u,this),f=u.IsShowMenu}f&&this.SelectRectRightMenu&&(t.data={Chart:this,X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,SelectData:d,RectSelectPaint:i},this.SelectRectRightMenu.DoModal(t))}this.Draw()}}}},this.CreateWindowIndex=function(t){this.WindowIndex[t].Create(this,t)},this.BindIndexData=function(t,e,i){if(this.WindowIndex[t])return"function"==typeof this.WindowIndex[t].RequestData?void this.WindowIndex[t].RequestData(this,t,e,i):"function"==typeof this.WindowIndex[t].ExecuteScript?void this.WindowIndex[t].ExecuteScript(this,t,e):void this.WindowIndex[t].BindData(this,t,e)},this.BindOverlayIndexData=function(t,e,i){if(t.Script)return"function"==typeof t.Script.RequestData?void t.Script.RequestData(this,e,i):"function"==typeof t.Script.ExecuteScript?void t.Script.ExecuteScript(this,e,i):void t.Script.BindData(this,e,i)},this.BindInstructionIndexData=function(t){this.ColorIndex&&"function"==typeof this.ColorIndex.ExecuteScript&&this.ColorIndex.ExecuteScript(this,0,t),this.TradeIndex&&"function"==typeof this.TradeIndex.ExecuteScript&&this.TradeIndex.ExecuteScript(this,0,t)},this.GetChartPaint=function(t){var e=new Array;for(var i in this.ChartPaint)if(0!=i){var a=this.ChartPaint[i];a.ChartFrame==this.Frame.SubFrame[t].Frame&&e.push(a)}return e},this.AutoUpdateEvent=function(t,e){var i=t?Rn.RECV_START_AUTOUPDATE:Rn.RECV_STOP_AUTOUPDATE;if(this.mapEvent.has(i)){var a=this,r=this.mapEvent.get(i),n={Stock:{Symbol:this.Symbol,Name:this.Name,Right:this.Right,Period:this.Period},Explain:e};t&&(n.Callback=function(t){Q.IsDayPeriod(a.Period,!0)?a.RecvRealtimeData(t):Q.IsMinutePeriod(a.Period,!0)?a.RecvMinuteRealtimeData(t):Q.IsSecondPeriod(a.Period)&&a.RecvMinuteRealtimeData(t)}),r.Callback(r,n,this)}},this.SendKLineUpdateEvent=function(t){var e=this.GetEventCallback(Rn.RECV_KLINE_UPDATE_DATA);if(e&&e.Callback){var i={HistoryData:t,Stock:{Symbol:this.Symbol,Name:this.Name}};return e.Callback(e,i,this),!0}return!1},this.SendManualKLineUpdateEvent=function(t){var e=this.GetEventCallback(Rn.RECV_KLINE_MANUAL_UPDATE_DATA);if(e&&e.Callback){var i={HistoryData:t,Stock:{Symbol:this.Symbol,Name:this.Name}};return e.Callback(e,i,this),!0}return!1},this.GetKLineDrawType=function(){return this.KLineDrawType},this.RequestHistoryData=function(){var t=this;if(this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.FlowCapitalReady=!1,this.ResetPage(),this.ResetDragDownload(),this.ResetZoomDownload(),this.Draw(),this.NetworkFilter){var e=this.GetKLineDrawType(),i={Name:"KLineChartContainer::RequestHistoryData",Explain:"日K数据",Request:{Url:t.KLineApiUrl,Type:"POST",Data:{symbol:t.Symbol,count:t.MaxRequestDataCount,field:["name","symbol","yclose","open","price","high","low","vol"],period:this.Period,right:this.Right,klineDrawType:e}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e);var i=t.Page.Day;1==i.Enable&&0==i.Finish?t.RequestHistoryPageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::RequestHistoryData"),t.AutoUpdate())}),1==i.PreventDefault)return}n.HttpRequest({url:this.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e);var i=t.Page.Day;1==i.Enable&&0==i.Finish?t.RequestHistoryPageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::RequestHistoryData"),t.AutoUpdate())}})},this.BindAllOverlayIndexData=function(t){if(this.Frame&&this.Frame.SubFrame)for(var e=0;e<this.Frame.SubFrame.length;++e){var i=this.Frame.SubFrame[e];for(var a in i.OverlayIndex){var r=i.OverlayIndex[a];this.BindOverlayIndexData(r,e,t)}}},this.RecvHistoryData=function(t){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)return void Nn.Chart.Warn("[KLineChartContainer::RecvHistoryData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");var e=sa.JsonDataToHistoryData(t),i=new Q;i.Data=e,i.DataType=0,i.Symbol=t.symbol,this.SourceData=i,this.BeforeBindMainData&&this.BeforeBindMainData("RecvHistoryData");var a=new Q;if(a.Data=e,a.Right=this.Right,a.Period=this.Period,a.DataType=0,a.Symbol=t.symbol,a.Right>0&&!this.IsApiPeriod){var r=a.GetRightData(a.Right,{AlgorithmType:this.RightFormula});a.Data=r}if(Q.IsDayPeriod(a.Period,!1)&&!this.IsApiPeriod){var n=a.GetPeriodData(a.Period);a.Data=n}var o=this.GetKLineCalulate();if(o){a=o.RecvHistoryData(a,{Symbol:this.Symbol,Function:"RecvHistoryData"}),this.FlowCapitalReady=!0}this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(a,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvHistoryData"),this.Frame.SetSizeChage(!0);var s;this.Frame.SubFrame[0]&&(s=this.Frame.SubFrame[0].Frame),s&&s.YSplitOperator&&(s.YSplitOperator.Symbol=this.Symbol,s.YSplitOperator.Data=this.ChartPaint[0].Data,s.YSplitOperator.Period=this.Period);var l=this.Page.Day;(0==l.Enable||1==l.Enable&&1==l.Finish)&&(this.ReqeustKLineInfoData({FunctionName:"RecvHistoryData"}),this.RequestFlowCapitalData(),this.RequestOverlayHistoryData(),this.CreateChartDrawPictureByStorage()),l.Enable&&(l.Index=1),this.BindInstructionIndexData(a);for(var h=0;h<this.Frame.SubFrame.length;++h)this.BindIndexData(h,a);if(this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdatePointByCursorIndex(2),this.Draw(),this.BindAllOverlayIndexData(a),this.mapEvent.has(Rn.RECV_HISTROY_DATA)){var u=this.mapEvent.get(Rn.RECV_HISTROY_DATA),t={HistoryData:a,Stock:{Symbol:this.Symbol,Name:this.Name}};u.Callback(u,t,this)}},this.RequestHistoryPageData=function(){var t=this;if(this.NetworkFilter){var e=this.SourceData.Data[0],i={Name:"KLineChartContainer::RequestHistoryPageData",Explain:"日K数据分页",Request:{Url:"none",Type:"POST",Data:{symbol:t.Symbol,index:t.Page.Day.Index,field:["name","symbol","yclose","open","price","high","low","vol"],firstDate:e.Date,first:{date:e.Date}}},Page:t.Page.Day,Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.RecvHistoryPageData(e);var i=t.Page.Day;1==i.Enable&&0==i.Finish?t.RequestHistoryPageData():t.AutoUpdate()}),1==i.PreventDefault)return}setTimeout(function(){var e=t.Page.Day;e.Finish=!0;var i={data:[[20150218,12.54,12.5,12.74,11.95,12.27,117632441,1459671045],[20150219,12.27,12.1,12.23,11.9,12.23,95889423,1157078548],[20150220,12.23,12.17,12.17,11.9,12.05,67763439,815652761]],symbol:t.Symbol,name:t.Name};t.RecvHistoryPageData(i),1==e.Enable&&0==e.Finish?t.RequestHistoryPageData():t.AutoUpdate()},500)},this.RecvHistoryPageData=function(t){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)return void Nn.Chart.Warn("[KLineChartContainer::RecvHistoryPageData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");var e=sa.JsonDataToHistoryData(t),i=this.GetHistoryDataCount();for(var a in e){var r=e[a];this.SourceData.Data.splice(a,0,r)}var n=new Q;if(n.Data=this.SourceData.Data,n.Period=this.Period,n.Right=this.Right,n.DataType=this.SourceData.DataType,n.Right>0&&n.Period<=3){var o=n.GetRightData(n.Right,{AlgorithmType:this.RightFormula});n.Data=o}if(Q.IsDayPeriod(n.Period,!1)||Q.IsMinutePeriod(n.Period,!1)){var s=n.GetPeriodData(n.Period);n.Data=s}this.UpdateMainData(n,i),this.BindInstructionIndexData(n);for(var a=0;a<this.Frame.SubFrame.length;++a)this.BindIndexData(a,n);var l=this.Page.Day;++l.Index,1==l.Enable&&1==l.Finish&&(this.RequestFlowCapitalData(),this.RequestOverlayHistoryData(),this.CreateChartDrawPictureByStorage()),this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()},this.ReqeustHistoryMinuteData=function(){var t=this;if(this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.FlowCapitalReady=!1,this.ResetPage(),this.ResetDragDownload(),this.ResetZoomDownload(),this.Draw(),this.NetworkFilter){var e=this.GetKLineDrawType(),i={Name:"KLineChartContainer::ReqeustHistoryMinuteData",Explain:"1分钟K线数据",Request:{Url:t.MinuteKLineApiUrl,Type:"POST",Data:{symbol:t.Symbol,count:t.MaxRequestMinuteDayCount,field:["name","symbol","yclose","open","price","high","low","vol"],period:this.Period,right:this.Right,klineDrawType:e}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteHistoryData(e);var i=t.Page.Minute;1==i.Enable&&0==i.Finish?t.ReqeustHistoryMinutePageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::ReqeustHistoryMinuteData"),t.AutoUpdate())}),1==i.PreventDefault)return}n.HttpRequest({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteHistoryData(e);var i=t.Page.Minute;1==i.Enable&&0==i.Finish?t.ReqeustHistoryMinutePageData():(t.AutoUpdateEvent(!0,"KLineChartContainer::ReqeustHistoryMinuteData"),t.AutoUpdate())}})},this.RecvMinuteHistoryData=function(t){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)return void Nn.Chart.Warn("[KLineChartContainer::RecvMinuteHistoryData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");var e=sa.JsonDataToMinuteHistoryData(t),i=new Q;i.Data=e,i.DataType=1,i.Symbol=t.symbol,this.SourceData=i,this.BeforeBindMainData&&this.BeforeBindMainData("RecvMinuteHistoryData");var a=new Q;if(a.Data=e,a.Right=this.Right,a.Period=this.Period,a.DataType=1,a.Symbol=t.symbol,a.Right>0&&!this.IsApiPeriod&&this.RightFormula>=1){var r=a.GetRightData(a.Right,{AlgorithmType:this.RightFormula});a.Data=r}if(Q.IsMinutePeriod(a.Period,!1)&&!this.IsApiPeriod){var n=a.GetPeriodData(a.Period);a.Data=n}var o=this.GetKLineCalulate();if(o){a=o.RecvHistoryData(a,{Symbol:this.Symbol,Function:"RecvMinuteHistoryData"}),this.FlowCapitalReady=!0}this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(a,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvMinuteHistoryData"),this.Frame.SetSizeChage(!0);var s;this.Frame.SubFrame[0]&&(s=this.Frame.SubFrame[0].Frame),s&&s.YSplitOperator&&(s.YSplitOperator.Symbol=this.Symbol,s.YSplitOperator.Data=this.ChartPaint[0].Data,s.YSplitOperator.Period=this.Period);for(var l in this.OverlayChartPaint){this.OverlayChartPaint[l].Data=null}var h=this.Page.Minute;(0==h.Enable||1==h.Enable&&1==h.Finish)&&(this.ReqeustKLineInfoData({FunctionName:"RecvMinuteHistoryData"}),this.RequestFlowCapitalData(),this.RequestOverlayHistoryMinuteData(),this.CreateChartDrawPictureByStorage()),h.Enable&&++h.Index,this.BindInstructionIndexData(a);for(var l=0;l<this.Frame.SubFrame.length;++l)this.BindIndexData(l,a);if(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(2),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.BindAllOverlayIndexData(a),this.mapEvent.has(Rn.RECV_HISTROY_DATA)){var u=this.mapEvent.get(Rn.RECV_HISTROY_DATA),t={HistoryData:a,Stock:{Symbol:this.Symbol,Name:this.Name}};u.Callback(u,t,this)}},this.ReqeustHistoryMinutePageData=function(){var t=this;if(this.NetworkFilter){var e=this.SourceData.Data[0],i={Name:"KLineChartContainer::RecvHistoryMinutePageData",Explain:"1分钟K线数据分页",Request:{Url:"none",Type:"POST",Data:{symbol:t.Symbol,index:t.Page.Minute.Index,field:["name","symbol","yclose","open","price","high","low","vol"],firstDate:e.Date,first:{date:e.Date,time:e.Time}}},Page:t.Page.Minute,Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.RecvHistoryMinutePageData(e);var i=t.Page.Minute;1==i.Enable&&0==i.Finish?t.ReqeustHistoryMinutePageData():t.AutoUpdate()}),1==i.PreventDefault)return}setTimeout(function(){var e=t.Page.Minute;e.Finish=!0;var i={data:[[20190906,14.58,14.71,14.71,14.71,14.71,1096425,16128411,925],[20190906,14.71,14.73,14.74,14.71,14.71,2154859,31731820,930],[20190906,14.71,14.71,14.71,14.68,14.69,1427516,20989208,931],[20190906,14.69,14.69,14.71,14.68,14.7,1680503,24694143,932],[20190906,14.7,14.69,14.7,14.65,14.65,1315900,19310964,933],[20190906,14.65,14.66,14.69,14.65,14.68,702955,10313842,934],[20190906,14.68,14.7,14.71,14.67,14.67,1735266,25495875,935],[20190906,14.67,14.68,14.7,14.67,14.67,739e3,10845398,936],[20190906,14.67,14.67,14.68,14.67,14.68,389800,5721266,937],[20190906,14.68,14.68,14.7,14.68,14.69,648477,9527859,938],[20190906,14.69,14.7,14.71,14.69,14.7,1128400,16589794,939],[20190906,14.7,14.7,14.71,14.69,14.71,714858,10509708,940],[20190906,14.71,14.71,14.71,14.69,14.69,401500,5900477,941],[20190906,14.69,14.69,14.71,14.69,14.69,1165684,17131034,942],[20190906,14.69,14.69,14.7,14.67,14.67,498516,7321024,943],[20190906,14.67,14.68,14.68,14.67,14.67,350126,5139012,944],[20190906,14.67,14.67,14.69,14.67,14.69,561600,8246789,945]]};t.RecvHistoryMinutePageData(i),1==e.Enable&&0==e.Finish?t.ReqeustHistoryMinutePageData():t.AutoUpdate()},500)},this.RecvHistoryMinutePageData=function(t){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)return void Nn.Chart.Warn("[KLineChartContainer::RecvHistoryMinutePageData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");var e=sa.JsonDataToMinuteHistoryData(t),i=this.GetHistoryDataCount();for(var a in e){var r=e[a];this.SourceData.Data.splice(a,0,r)}var n=new Q;if(n.Data=this.SourceData.Data,n.Period=this.Period,n.Right=this.Right,n.DataType=this.SourceData.DataType,n.Right>0&&Q.IsDayPeriod(n.Period,!1)){var o=n.GetRightData(n.Right,{AlgorithmType:this.RightFormula});n.Data=o}if(Q.IsDayPeriod(n.Period,!1)||Q.IsMinutePeriod(n.Period,!1)){var s=n.GetPeriodData(n.Period);n.Data=s}this.UpdateMainData(n,i),this.BindInstructionIndexData(n);for(var a=0;a<this.Frame.SubFrame.length;++a)this.BindIndexData(a,n);var l=this.Page.Minute;(0==l.Enable||1==l.Enable&&1==l.Finish)&&(this.RequestFlowCapitalData(),this.CreateChartDrawPictureByStorage()),l.Enable&&++l.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()},this.RequestRealtimeData=function(){var t=this,e=[t.Symbol];for(var i in this.OverlayChartPaint){var a=this.OverlayChartPaint[i];a.Symbol&&(a.MainData&&a.Status==Qn.STATUS_FINISHED_ID&&e.push(a.Symbol))}if(this.NetworkFilter){var r=this.GetKLineDrawType(),o={Name:"KLineChartContainer::RequestRealtimeData",Explain:"当天最新日线数据",Request:{Url:t.RealtimeApiUrl,Data:{symbol:e,field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time"],period:this.Period,right:this.Right,klineDrawType:r},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(e){t.RecvRealtimeData(e),t.AutoUpdate()}),1==o.PreventDefault)return}n.HttpRequest({url:this.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time"],symbol:e,start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.RecvRealtimeData(e),t.AutoUpdate()}})},this.RecvRealtimeData=function(t){if(1!=this.IsOnTouch){var e=sa.JsonDataToRealtimeData(t,this.Symbol);if(e){var i=this.SourceData.Data[this.SourceData.Data.length-1],a=this.GetHistoryDataCount();if(0==this.SourceData.Data.length){var r=new U;U.CopyTo(r,e),this.SourceData.Data.push(r)}else if(i.Date==e.Date)Nn.Chart.Log("[KLineChartContainer::RecvRealtimeData] update kline by realtime data",e),U.CopyTo(i,e);else if(i.Date<e.Date){Nn.Chart.Log("[KLineChartContainer::RecvRealtimeData] insert kline by realtime data",e);var r=new U;U.CopyTo(r,e),!Ee.IsNumber(r.YClose)&&this.SourceData.Data.length>0&&(r.YClose=this.SourceData.Data[this.SourceData.Data.length-1].YClose),this.SourceData.Data.push(r)}else{for(var n=!1,o=this.SourceData.Data,s=o.length-1;s>=0;--s){var l=o[s];if(l.Date==e.Date){U.CopyTo(l,e),n=!0;break}}if(!n)return}var h=new Q;if(h.Data=this.SourceData.Data,h.Period=this.Period,h.Right=this.Right,h.DataType=this.SourceData.DataType,h.Symbol=this.Symbol,h.Right>0&&Q.IsDayPeriod(h.Period,!0)&&po.IsSHSZStockA(this.Symbol)&&!this.IsApiPeriod){var u=h.GetRightData(h.Right,{AlgorithmType:this.RightFormula});h.Data=u}if(!this.IsApiPeriod&&(Q.IsDayPeriod(h.Period,!1)||Q.IsMinutePeriod(h.Period,!1))){var c=h.GetPeriodData(h.Period);h.Data=c}var d=this.GetKLineCalulate();if(d){h=d.RecvHistoryData(h,{Symbol:this.Symbol,Function:"RecvRealtimeData"}),this.FlowCapitalReady=!0}this.UpdateMainData(h,a),this.UpdateOverlayRealtimeData(t),this.BindInstructionIndexData(h);for(var s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,h);if(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(h),this.BindAllOverlayIndexData(h),this.mapEvent.has(Rn.ON_RECV_REALTIME_DATA)){var f=this.mapEvent.get(Rn.ON_RECV_REALTIME_DATA),t={HistoryData:h,Stock:{Symbol:this.Symbol,Name:this.Name}};f.Callback(f,t,this)}}}},this.UpdateOverlayRealtimeData=function(t){if(Ee.IsNonEmptyArray(this.OverlayChartPaint))for(var e=0;e<this.OverlayChartPaint.length;++e){var i=this.OverlayChartPaint[e];if(i.Symbol&&(i.MainData&&i.Status==Qn.STATUS_FINISHED_ID)){var a=sa.JsonDataToRealtimeData(t,i.Symbol);if(a){var r=i.SourceData,n=r.Data[r.Data.length-1];if(n.Date==a.Date)Nn.Chart.Log("[KLineChartContainer::UpdateOverlayRealtimeData] update kline by minute data",a),n.Close=a.Close,n.High=a.High,n.Low=a.Low,n.Vol=a.Vol,n.Amount=a.Amount;else{if(!(i.Date<a.Date))continue;Nn.Chart.Log("[KLineChartContainer::UpdateOverlayRealtimeData] insert kline by minute data",a);var o=new U;o.YClose=a.YClose,o.Open=a.Open,o.Close=a.Close,o.High=a.High,o.Low=a.Low,o.Vol=a.Vol,o.Amount=a.Amount,o.Date=a.Date,r.Data.push(o)}var s=new Q;if(s.Data=r.Data,s.Period=this.Period,s.Right=this.Right,s.DataType=0,s.Right>0&&po.IsSHSZStockA(t.symbol)&&!this.IsApiPeriod){var l=s.GetRightData(s.Right,{AlgorithmType:this.RightFormula});s.Data=l}var h=this.SourceData.GetOverlayData(s.Data,this.IsApiPeriod);if(s.Data=h,Q.IsDayPeriod(s.Period,!1)&&!this.IsApiPeriod){var u=s.GetPeriodData(s.Period);s.Data=u}i.Data=s}}}},this.RequestMinuteRealtimeData=function(){var t=this,e=[t.Symbol];for(var i in this.OverlayChartPaint){var a=this.OverlayChartPaint[i];a.Symbol&&(a.MainData&&a.Status==Qn.STATUS_FINISHED_ID&&e.push(a.Symbol))}if(this.NetworkFilter){var r=this.GetKLineDrawType(),o={Name:"KLineChartContainer::RequestMinuteRealtimeData",Explain:"当天1分钟K线数据",Request:{Url:t.RealtimeApiUrl,Data:{symbol:e,field:["name","symbol","price","yclose","minutecount","minute","date","time"],period:this.Period,right:this.Right,klineDrawType:r},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(e){t.RecvMinuteRealtimeData(e),t.AutoUpdate()}),1==o.PreventDefault)return}n.HttpRequest({url:this.RealtimeApiUrl,data:{field:["name","symbol","price","yclose","minutecount","minute","date","time"],symbol:e,start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMinuteRealtimeData(e),t.AutoUpdate()}})},this.SetSourceDatatLimit=function(t){this.SourceDataLimit=new Mn.default;for(var e in t){var i=t[e];this.SourceDataLimit.set(i.Period,i.MaxCount),Nn.Chart.Log("[KLineChartContainer::SetSourceDatatLimit] Period="+i.Period+", MaxCount="+i.MaxCount)}},this.ReduceSourceData=function(){if(this.SourceDataLimit&&this.SourceDataLimit.has(this.Period)){var t=this.SourceDataLimit.get(this.Period),e=null;if(this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(e=this.Frame.SubFrame[0].Frame.Data):e=this.Frame.Data,e&&!(t<50)){for(var i=e.DataOffset,a=0;this.SourceData.Data.length>t;)this.SourceData.Data.shift(),--i,++a;a>0&&(i<0&&(i=0),e.DataOffset=i,Nn.Chart.Log("[KLineChartContainer::ReduceSourceData] remove data "+a+", dataOffset="+i))}}},this.RecvMinuteRealtimeDataV2=function(t){if(1!=this.IsOnTouch){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)return void Nn.Chart.Warn("[KLineChartContainer::RecvMinuteRealtimeDataV2] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");var e=sa.JsonDataToMinuteHistoryData(t);if(e&&!(e.length<=0)){this.IsApiPeriod&&this.ReduceSourceData();var i=this.GetHistoryDataCount();if(this.SourceData&&this.SourceData.MergeMinuteData(e)){Nn.Chart.Log("[KLineChartContainer::RecvMinuteRealtimeDataV2] update kline by 1 minute data ["+i+"->"+this.SourceData.Data.length+"]");var a=new Q;if(a.Data=this.SourceData.Data,a.Period=this.Period,a.Right=this.Right,a.DataType=this.SourceData.DataType,a.Symbol=this.Symbol,a.Right>0&&!this.IsApiPeriod&&this.RightFormula>=1){var r=a.GetRightData(a.Right,{AlgorithmType:this.RightFormula});a.Data=r}if((Q.IsDayPeriod(a.Period,!1)||Q.IsMinutePeriod(a.Period,!1))&&!this.IsApiPeriod){var n=a.GetPeriodData(a.Period);a.Data=n}var o=this.GetKLineCalulate();if(o){a=o.RecvHistoryData(a,{Symbol:this.Symbol,Function:"RecvMinuteRealtimeDataV2"}),this.FlowCapitalReady=!0}this.UpdateMainData(a,i),this.BindInstructionIndexData(a);for(var s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,a);if(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(a),this.BindAllOverlayIndexData(a),this.mapEvent.has(Rn.ON_RECV_REALTIME_DATA)){var l=this.mapEvent.get(Rn.ON_RECV_REALTIME_DATA),t={HistoryData:a,Stock:{Symbol:this.Symbol,Name:this.Name}};l.Callback(l,t,this)}}}}},this.RecvMinuteRealtimeData=function(t){if(1!=this.IsOnTouch){if(2==t.ver)return void this.RecvMinuteRealtimeDataV2(t);var e=sa.JsonDataToMinuteRealtimeData(t,this.Symbol);if(e){this.IsApiPeriod&&this.ReduceSourceData();var i=this.GetHistoryDataCount(),a=this.SourceData.Data.length;if(this.SourceData.MergeMinuteData(e)){Nn.Chart.Log("[KLineChartContainer::RecvMinuteRealtimeData] update kline by 1 minute data ["+a+"->"+this.SourceData.Data.length+"]");var r=new Q;if(r.Data=this.SourceData.Data,r.Period=this.Period,r.Right=this.Right,r.DataType=this.SourceData.DataType,r.Symbol=this.Symbol,r.Right>0&&!this.IsApiPeriod&&this.RightFormula>=1){var n=r.GetRightData(r.Right,{AlgorithmType:this.RightFormula});r.Data=n}if((Q.IsDayPeriod(r.Period,!1)||Q.IsMinutePeriod(r.Period,!1))&&!this.IsApiPeriod){var o=r.GetPeriodData(r.Period);r.Data=o}var s=this.GetKLineCalulate();if(s){r=s.RecvHistoryData(r,{Symbol:this.Symbol,Function:"RecvMinuteRealtimeData"}),this.FlowCapitalReady=!0}this.UpdateMainData(r,i),this.UpdateOverlayMinuteRealtimeData(t),this.BindInstructionIndexData(r);for(var l=0;l<this.Frame.SubFrame.length;++l)this.BindIndexData(l,r);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(1),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.SendKLineUpdateEvent(r),this.BindAllOverlayIndexData(r)}}}},this.UpdateOverlayMinuteRealtimeData=function(t){for(var e in this.OverlayChartPaint){var i=this.OverlayChartPaint[e];if(i.Symbol&&(i.MainData&&i.Status==Qn.STATUS_FINISHED_ID)){if(2==t.ver)var a=sa.JsonDataToMinuteRealtimeDataV2(t,i.Symbol);else var a=sa.JsonDataToMinuteRealtimeData(t,i.Symbol);if(a){var r=i.SourceData;if(!r.MergeMinuteData(a))return;var n=new Q;n.Data=r.Data,n.Period=this.Period,n.Right=this.Right,n.DataType=0;var o=this.SourceData.GetOverlayMinuteData(n.Data,this.IsApiPeriod);if(n.Data=o,Q.IsMinutePeriod(n.Period,!1)&&!this.IsApiPeriod){var s=n.GetPeriodData(n.Period);n.Data=s}i.Data=n}}}},this.GetHistoryDataCount=function(){var t=null;return this.Frame.Data?this.Frame.SubFrame&&this.Frame.SubFrame[0]&&(t=this.Frame.SubFrame[0].Frame.Data):t=this.Frame.Data,t?t.Data.length:-1},this.GetRequestDataCount=function(){var t={MaxRequestDataCount:this.MaxRequestDataCount,MaxRequestMinuteDayCount:this.MaxRequestMinuteDayCount};if(!this.SourceData||!this.SourceData.Data||this.SourceData.Data.length<=0)return t;if(Q.IsDayPeriod(this.Period,!0)){var e=this.SourceData.Data.length;e>t.MaxRequestDataCount&&(t.MaxRequestDataCount=e)}else if(Q.IsMinutePeriod(this.Period,!0)){var i,e=0;for(var a in this.SourceData.Data){var r=this.SourceData.Data[a];r.Date!=i&&++e,i=r.Date}e>t.MaxRequestMinuteDayCount&&(t.MaxRequestMinuteDayCount=e)}return t},this.RequestTickData=function(){var t=this;this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),t.ChartSplashPaint.EnableSplash(!0),t.Draw();var e=lo.CacheDomain+"/cache/dealday/today/"+t.Symbol+".json";if(this.NetworkFilter){var i={Name:"KLineChartContainer::RequestTickData",Explain:"当天分笔数据",Request:{Url:e,Data:{symbol:t.Symbol},Type:"GET"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickData(e),t.AutoUpdate()}),1==i.PreventDefault)return}n.HttpRequest({url:e,data:{symbol:t.Symbol},type:"get",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickData(e),t.AutoUpdate(1)},error:function(e,i){t.ChartSplashPaint.EnableSplash(!1),t.AutoUpdate()}})},this.RecvTickData=function(t){if(2==t.ver)var e=sa.JsonDataToTickDataV2(t);else var e=sa.JsonDataToTickData(t);var i=new Q;i.Data=e,i.DataType=2,this.SourceData=i,this.BeforeBindMainData&&this.BeforeBindMainData("RecvTickData");var a=new Q;a.Data=e,a.Right=this.Right,a.Period=this.Period,a.DataType=2,this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(a,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("RecvTickData"),this.BindInstructionIndexData(a);for(var r,n=0;n<this.Frame.SubFrame.length;++n)0==n&&(r=this.Frame.SubFrame[n].Frame),this.BindIndexData(n,a);if(r&&r.YSplitOperator&&(r.YSplitOperator.Symbol=this.Symbol,r.YSplitOperator.Data=this.ChartPaint[0].Data,r.YSplitOperator.Period=this.Period,r.YSplitOperator.KLineChart=this.ChartPaint[0]),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex(),this.BindAllOverlayIndexData(a),this.mapEvent.has(Rn.RECV_HISTROY_DATA)){var o=this.mapEvent.get(Rn.RECV_HISTROY_DATA),t={HistoryData:a,Stock:{Symbol:this.Symbol,Name:this.Name}};o.Callback(o,t,this)}},this.RequestTickRealtimeData=function(){var t=this,e=0;if(this.SourceData&&this.SourceData.Data&&(e=this.SourceData.Data.length),this.NetworkFilter){var i={Name:"KLineChartContainer::RequestTickRealtimeData",Explain:"当天最新分笔数据",Request:{Url:t.TickApiUrl,Data:{symbol:t.Symbol,start:e,end:e+1e3},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickRealtimeData(e),t.AutoUpdate()}),1==i.PreventDefault)return}n.HttpRequest({url:t.TickApiUrl,data:{symbol:t.Symbol,start:e-10,end:e+1e3},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvTickRealtimeData(e),t.AutoUpdate()}})},this.RecvTickRealtimeData=function(t){if(2==t.ver)var e=sa.JsonDataToTickDataV2(t);else var e=sa.JsonDataToTickData(t);if(e&&!(e.length<=0)){var i=!1;1==t.redraw&&(i=!0);var a=this.SourceData.Data,r=this.SourceData.Data.length,n=0;a.length>0&&(n=a[a.length-1].Time);var o=0;for(var s in e){var l=e[s];l.Time<=n||(a.push(l),++o)}if(!(o<=0&&0==i)){var h=new Q;h.Data=a,h.Right=this.Right,h.Period=this.Period,h.DataType=2,this.Symbol=t.symbol,this.Name=t.name,this.UpdateMainData(h,r),this.BindInstructionIndexData(h);for(var s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,h);this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.UpdatePointByCursorIndex(),this.BindAllOverlayIndexData(h)}}},this.ClearIndexPaint=function(){if(this.Frame&&this.Frame.SubFrame)for(var t=0;t<this.Frame.SubFrame.length;++t){this.DeleteIndexPaint(t,!0);var e=this.Frame.SubFrame[t];if(Ee.IsNonEmptyArray(e.OverlayIndex))for(var i=0;i<e.OverlayIndex.length;++i){for(var a=e.OverlayIndex[i],r=0;r<a.ChartPaint.length;++r){var n=a.ChartPaint[r];n&&n.OnDestroy&&n.OnDestroy()}a.ChartPaint=[]}}for(var t=1;t<this.TitlePaint.length;++t){var e=this.TitlePaint[t];e.OverlayIndex=new Mn.default}},this.ChangePeriod=function(t,e){var i={Period:this.Period,Right:this.Right,KLineDrawType:this.KLineDrawType},a=!1,r=!1,n=null;if(e&&(e.KLine&&(Ee.IsNumber(e.KLine.DrawType)&&(a=!0),Ee.IsNumber(e.KLine.Right)&&(n=e.KLine.Right)),1==e.Reload&&(r=!0)),this.Period==t&&0==r)return void(a&&this.ChangeKLineDrawType(e.KLine.DrawType));a&&this.ChangeKLineDrawType(e.KLine.DrawType,!1);var o=!0;if(this.SourceData){var o=!1;if(t>Un&&t<=zn)0!=this.SourceData.DataType&&(o=!0);else if(t>Kn&&t<=$n||t>jn&&t<=Jn)1!=this.SourceData.DataType?o=!0:Q.IsSecondPeriod(t)&&(o=!0);else switch(t){case 0:case 1:case 2:case 3:case 9:case 21:0!=this.SourceData.DataType&&(o=!0);break;case 4:case 5:case 6:case 7:case 8:case 11:case 12:1!=this.SourceData.DataType&&(o=!0);break;case 10:2!=this.SourceData.DataType&&(o=!0)}}this.Period=t,null!=n&&(this.Right=n),this.ReloadChartDrawPicture(),this.ClearRectSelect(!0),this.Frame.ClearUpDonwFrameYData(),this.ClearCustomKLine();var s=this.GetKLineDrawType();10!=s&&11!=s&&12!=s&&16!=s||(o=!0);var l=this.GetEventCallback(Rn.ON_CHANGE_KLINE_PERIOD);if(l&&l.Callback){var h={IsApiPeriod:this.IsApiPeriod,Old:i,Now:{Period:this.Period,Right:this.Right,KLineDrawType:this.KLineDrawType},IsDataTypeChange:o};l.Callback(l,h,this),o=h.IsDataTypeChange}if(0==o&&!this.IsApiPeriod)return void this.Update({UpdateCursorIndexType:2});this.ClearIndexPaint(),Q.IsDayPeriod(this.Period,!0)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangePeriod"),this.ResetScrollBar(),this.ResetOverlaySymbolStatus(),this.RequestHistoryData()):Q.IsMinutePeriod(this.Period,!0)||Q.IsSecondPeriod(this.Period)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangePeriod"),this.ResetScrollBar(),this.ResetOverlaySymbolStatus(),this.ReqeustHistoryMinuteData()):Q.IsTickPeriod(this.Period)&&(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangePeriod"),this.ResetScrollBar(),this.RequestTickData())},this.ChangeRight=function(t){if(po.IsEnableRight(this.Period,this.Symbol,this.RightFormula)){var e=this.Symbol.toUpperCase();if(!(po.IsBIT(e)||t<0||t>2||this.Right==t)){if(this.Right=t,!this.IsApiPeriod)return void this.Update();Q.IsDayPeriod(this.Period,!0)?(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeRight"),this.ClearIndexPaint(),this.ResetOverlaySymbolStatus(),this.ResetScrollBar(),this.RequestHistoryData()):(Q.IsMinutePeriod(this.Period,!0)||Q.IsSecondPeriod(this.Period))&&(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeRight"),this.ClearIndexPaint(),this.ResetOverlaySymbolStatus(),this.ResetScrollBar(),this.ReqeustHistoryMinuteData())}}},this.SetFirstShowDate=function(t){if(t&&t.Date){var e={ID:Bn.OP_GOTO,Date:t.Date};Ee.IsNumber(t.Time)&&(e.Time=t.Time),Ee.IsNumber(t.PageSize)&&(e.PageSize=t.PageSize),this.ChartOperator(e)}},this.DeleteIndexPaint=function(t,e){var i=new Array;for(var a in this.ChartPaint){var r=this.ChartPaint[a];0==a||r.ChartFrame!=this.Frame.SubFrame[t].Frame?i.push(r):!0===e&&r&&r.OnDestroy&&r.OnDestroy()}var n=this.Frame.SubFrame[t].Frame;n.YSpecificMaxMin=null,n.IsLocked=!1,n.YSplitScale=null,n.YSplitOperator.SplitType=n.YSplitOperator.DefaultSplitType,this.ChartPaint=i;var o=t+1;this.TitlePaint[o].Data=[],this.TitlePaint[o].Title=null},this.ShowKLine=function(t){this.ChartPaint.length<=0||!this.ChartPaint[0]||(this.ChartPaint[0].IsShow=t)},this.SetInstructionData=function(t,e){if(!(this.ChartPaint.length<=0)&&this.ChartPaint[0]){var i=this.TitlePaint[1];2==t?(this.ChartPaint[0].ColorData=e.Data,i&&(i.ColorIndex={Name:e.Name,Param:e.Param})):1==t&&(this.ChartPaint[0].TradeData={Sell:e.Sell,Buy:e.Buy,Name:e.Name,Param:e.Param},i&&(i.TradeIndex={Name:e.Name,Param:e.Param}))}},this.ChangeInstructionIndex=function(t,e){var i=new s,a=i.Get(t);a&&(1!=a.InstructionType&&2!=a.InstructionType||(e&&e.Args&&(a.Args=e.Args),a.ID=t,this.ChangeInstructionScriptIndex(a)))},this.ChangeInstructionScriptIndex=function(t){if(1==t.InstructionType)this.TradeIndex=new Lr(t.Name,t.Script,t.Args,t);else{if(2!=t.InstructionType)return;this.ColorIndex=new Lr(t.Name,t.Script,t.Args,t)}var e=this.ChartPaint[0].Data;this.BindInstructionIndexData(e),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.CancelInstructionIndex=function(){if(!(this.ChartPaint.length<=0)&&this.ChartPaint[0]){this.ColorIndex=null,this.TradeIndex=null,this.ChartPaint[0].ColorData=null,this.ChartPaint[0].TradeData=null;var t=this.TitlePaint[1];t&&(t.TradeIndex=null,t.ColorIndex=null),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.SetFrameToolbar=function(t,e){if(e&&this.Frame.SubFrame[t]&&this.Frame.SubFrame[t].Frame){var i=this.Frame.SubFrame[t].Frame,a=!1;Ee.IsBool(e.Modify)&&(i.ModifyIndex=e.Modify,a=!0),Ee.IsBool(e.Change)&&(i.ChangeIndex=e.Change,a=!0),Ee.IsBool(e.Close)&&(i.CloseIndex=e.Close,a=!0),Ee.IsBool(e.Overlay)&&(i.OverlayIndex=e.Overlay,a=!0),a&&(i.SizeChange=!0,i.ToolbarRect=null,i.DrawToolbar())}},this.ChangeScriptIndex=function(t,e,i){this.DeleteIndexPaint(t,!0),this.WindowIndex[t]=new Lr(e.Name,e.Script,e.Args,e),i&&i.Window&&this.SetFrameToolbar(t,i.Window),this.Frame.ClearUpDonwFrameYData({Index:t});var a=this.ChartPaint[0].Data;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.OnKLinePageChange=function(t){if(this.ChartPaint[0]){for(var e=this.ChartPaint[0].Data,i=0;i<this.WindowIndex.length;++i){var a=this.WindowIndex[i];a&&(!0===a.IsUsePageData&&this.BindIndexData(i,e,{Type:1}))}for(var i=0;i<this.Frame.SubFrame.length;++i)for(var a=this.Frame.SubFrame[i],r=0;r<a.OverlayIndex.length;++r){var n=a.OverlayIndex[r];n&&n.Script&&1==n.Script.IsUsePageData&&this.BindOverlayIndexData(n,i,e)}}},this.ChangeAPIIndex=function(t,e){this.DeleteIndexPaint(t,!0);var i=e.API;this.WindowIndex[t]=new Ar(i.Name,i.Script,i.Args,e),e&&e.Window&&this.SetFrameToolbar(t,e.Window),this.Frame.ClearUpDonwFrameYData({Index:t});var a=this.ChartPaint[0].Data;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeIndex=function(t,e,i){if(i&&i.API)return this.ChangeAPIIndex(t,i);var a=ea.Get(e);if(!a){var r=new s,n=r.Get(e);if(!n)return;n.IsMainIndex?t=0:0==t&&(t=1);var o=n;return i&&(i.FloatPrecision>=0&&(o.FloatPrecision=i.FloatPrecision),i.StringFormat>0&&(o.StringFormat=i.StringFormat),i.Args&&(o.Args=i.Args),i.TitleFont&&(o.TitleFont=i.TitleFont),i.IsShortTitle&&(o.IsShortTitle=i.IsShortTitle),i.Lock&&(o.Lock=i.Lock)),this.ChangeScriptIndex(t,o,i)}a.IsMainIndex?t>0&&(t=0):0==t&&(t=1);var l=new Array;for(var h in this.ChartPaint){var u=this.ChartPaint[h];0!=h&&u.ChartFrame==this.Frame.SubFrame[t].Frame||l.push(u)}this.Frame.SubFrame[t].Frame.YSpecificMaxMin=null,this.Frame.SubFrame[t].Frame.IsLocked=!1,this.Frame.SubFrame[t].Frame.YSplitScale=null,this.ChartPaint=l;var c=t+1;this.TitlePaint[c].Data=[],this.TitlePaint[c].Title=null,this.WindowIndex[t]=a.Create(i),this.CreateWindowIndex(t);var d=this.ChartPaint[0].Data;this.BindIndexData(t,d),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangePyScriptIndex=function(t,e){this.DeleteIndexPaint(t),this.WindowIndex[t]=new Ma(e.Name,e.Script,e.Args,e);var i=this.ChartPaint[0].Data;this.BindIndexData(t,i),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.AddOverlayIndex=function(t){var e=this.CreateOverlayWindowsIndex(t);if(e){var i=this.ChartPaint[0].Data;this.BindOverlayIndexData(e,t.WindowIndex,i),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.CreateOverlayWindowsIndex=function(t){var e=this,i=t.IndexName,a=t.WindowIndex,r=null,n=null,o=null;if(t.API)r=t.API;else if(t.Script)n={Script:t.Script,ID:t.indexName,Name:t.indexName},t.Name&&(n.Name=t.Name);else{var l=new s;if(!(n=l.Get(i))&&!(o=ea.Get(i)))return console.warn("[KLineChartContainer::CreateOverlayIndex] can not find index["+i+"]"),null}var h=this.Frame.SubFrame[a];h.Interval=this.OverlayIndexFrameWidth;var u=new G;t.Identify&&(u.Identify=t.Identify);var c="KLineChartHScreenContainer"===this.ClassName?new k:new R;if(c.Canvas=this.Canvas,c.MainFrame=h.Frame,c.ChartBorder=h.Frame.ChartBorder,c.GetEventCallback=function(t){return e.GetEventCallback(t)},!0===t.ShowRightText?c.IsShow=!0:!1===t.ShowRightText&&(c.IsShow=!1),Ee.IsBool(t.ShowToolbar)&&(c.IsShowToolbar=t.ShowToolbar),Ee.IsBool(t.IsShareY)&&(c.IsShareY=t.IsShareY),Ee.IsBool(t.IsShowIndexTitle)&&(c.IsShowIndexTitle=t.IsShowIndexTitle),Ee.IsBool(t.IsCalculateYMaxMin)&&(c.IsCalculateYMaxMin=t.IsCalculateYMaxMin),c.YSplitOperator=new Le,c.YSplitOperator.LanguageID=this.LanguageID,c.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),c.YSplitOperator.Frame=c,c.YSplitOperator.ChartBorder=c.ChartBorder,c.YSplitOperator.SplitCount=h.Frame.YSplitOperator.SplitCount,c.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},c.YSplitOperator.GetKLineChartCallback=function(){return e.GetKLineChart()},c.YSplitOperator.OverlayIndex=u,c.YSplitOperator.HQChart=this,c.YSplitOperator.OverlayIdentify=u.Identify,t.Frame){var d=t.Frame;d.Custom&&(c.YSplitOperator.Custom=d.Custom),Ee.IsBool(d.IsYDrawMainFrame)&&(c.IsYDrawMainFrame=d.IsYDrawMainFrame),Ee.IsBool(d.IsShowToolbar)&&(c.IsShowToolbar=d.IsShowToolbar)}if(u.Frame=c,r){var f=new Ar(r.Name,r.Script,r.Args,t,!0);f.OverlayIndex={IsOverlay:!0,Identify:u.Identify,WindowIndex:a,Frame:u},u.Script=f}else if(n){var p=n.Args;t.Args&&(p=t.Args);var m={Name:n.Name,Script:n.Script,Args:p,ID:i,KLineType:n.KLineType,YSpecificMaxMin:n.YSpecificMaxMin,YSplitScale:n.YSplitScale,FloatPrecision:n.FloatPrecision,Condition:n.Condition,OutName:n.OutName};Ee.IsNumber(t.FloatPrecision)&&(m.FloatPrecision=t.FloatPrecision);var C=new Mr(m.Name,m.Script,m.Args,m);C.OverlayIndex={IsOverlay:!0,Identify:u.Identify,WindowIndex:a,Frame:u},u.Script=C}else{var C=o.Create();C.OverlayIndex={IsOverlay:!0,Identify:u.Identify,WindowIndex:a,Frame:u},C.Create(this,a),u.Script=C}return h.OverlayIndex.push(u),u},this.DeleteOverlayWindowsIndex=function(t){this.DeleteOverlayIndex(t,null)&&(this.Frame.ResetXYSplit(!0),this.Draw())},this.ChangeKLineDrawType=function(t,e,i){if(this.KLineDrawType!=t||i){var a=this.KLineDrawType;this.KLineDrawType=t;var r=new Tn.default([5,7,8,10,11,12,17]);if(r.has(a)||r.has(t)){var n=this.ChartPaint[0];return n&&(n.DrawType=this.KLineDrawType),this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeKLineDrawType"),void(Q.IsDayPeriod(this.Period,!0)?(this.ResetOverlaySymbolStatus(),this.RequestHistoryData()):(Q.IsMinutePeriod(this.Period,!0)||Q.IsSecondPeriod(this.Period))&&(this.ResetOverlaySymbolStatus(),this.ReqeustHistoryMinuteData()))}for(var o=0;o<this.ChartPaint.length;++o){var s=this.ChartPaint[o];0==o?(s.DrawType=this.KLineDrawType,i&&Ee.IsBool(i.IsThinAKBar)&&(s.IsThinAKBar=i.IsThinAKBar)):"ChartVolStick"==s.ClassName&&(s.KLineDrawType=this.KLineDrawType)}for(var o in this.OverlayChartPaint){var s=this.OverlayChartPaint[o];s.DrawType=this.KLineDrawType}0!=e&&(this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw())}},this.ChangeCoordinateType=function(t){if((this.Frame||this.Frame.SubFrame)&&this.Frame.SubFrame.length){if(Ee.IsNumber(t)){var e=t;if(2==e)this.Frame.SubFrame[0].Frame.CoordinateType=1;else if(1==e)this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=e;else if(0==e)this.Frame.SubFrame[0].Frame.CoordinateType=0,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=0;else{if(3!=e)return;this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=2}}else t.Type>=0&&t.Type<=5&&(this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=t.Type),!0===t.IsReverse?this.Frame.SubFrame[0].Frame.CoordinateType=1:0==t.IsReverse&&(this.Frame.SubFrame[0].Frame.CoordinateType=0);this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.ChangeIndexWindowCount=function(t,e){var i=this;if(!(t<=0)&&this.Frame.SubFrame.length!=t){this.Frame.RestoreIndexWindows();var a=this.Frame.SubFrame.length;if(a>t){for(var r=this.GetEventCallback(Rn.ON_DELETE_FRAME),n=a-1;n>=t;--n)if(this.DeleteIndexPaint(n),this.Frame.SubFrame[n].Frame.ClearToolbar(),r&&r.Callback){var o={SubFrame:this.Frame.SubFrame[n],WindowIndex:n};r.Callback(r,o,this)}this.Frame.SubFrame.splice(t,a-t),this.WindowIndex.splice(t,a-t);for(var n=0;n<this.Frame.SubFrame.length;++n){var l=this.Frame.SubFrame[n].Frame;n==this.Frame.SubFrame.length-1?l.XSplitOperator.ShowText=!0:l.XSplitOperator.ShowText=!1}this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw()}else{for(var h=c(),n=a;n<t;++n){var u=this.CreateSubFrameItem(n);u.Frame.ChartBorder.TitleHeight*=h,this.Frame.SubFrame[n]=u;var d=new ii;d.Frame=this.Frame.SubFrame[n].Frame,d.Canvas=this.Canvas,d.LanguageID=this.LanguageID,d.GetEventCallback=function(t){return i.GetEventCallback(t)},d.SelectedChart=this.SelectedChart,this.TitlePaint[n+1]=d}for(var n=0;n<this.Frame.SubFrame.length;++n){var l=this.Frame.SubFrame[n].Frame;n==this.Frame.SubFrame.length-1?l.XSplitOperator.ShowText=!0:l.XSplitOperator.ShowText=!1}this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw();var f=[{Index:"RSI"},{Index:"MACD"},{Index:"VOL"},{Index:"UOS"},{Index:"CHO"},{Index:"BRAR"}];e&&e.Windows.length>0&&(f=e.Windows);for(var p=new s,n=a;n<t;++n){var l=f[n%f.length],m=l.Index,C=p.Get(m),v=C.Args;l.Args&&(v=l.Args);var D={Name:C.Name,Script:C.Script,Args:v,ID:l.Index,KLineType:C.KLineType,YSpecificMaxMin:C.YSpecificMaxMin,YSplitScale:C.YSplitScale,FloatPrecision:C.FloatPrecision,Condition:C.Condition,OutName:C.OutName};this.WindowIndex[n]=new Lr(D.Name,D.Script,D.Args,D);var u=this.Frame.SubFrame[n];null!=l.Modify&&(this.Frame.SubFrame[n].Frame.ModifyIndex=l.Modify),null!=l.Change&&(this.Frame.SubFrame[n].Frame.ChangeIndex=l.Change),null!=l.Close&&(this.Frame.SubFrame[n].Frame.CloseIndex=l.Close),null!=l.Overlay&&(chart.Frame.SubFrame[n].Frame.OverlayIndex=l.Overlay),1==l.IsDrawTitleBG&&(this.Frame.SubFrame[n].Frame.IsDrawTitleBG=l.IsDrawTitleBG),Ee.IsBool(l.IsShowNameArrow)&&(this.Frame.SubFrame[n].Frame.IsShowNameArrow=l.IsShowNameArrow),Ee.IsNumber(l.TitleHeight)?this.Frame.SubFrame[n].Frame.ChartBorder.TitleHeight=l.TitleHeight:l.TitleHeight=this.Frame.SubFrame[n].Frame.ChartBorder.TitleHeight,0==l.IsShowTitleArraw&&(this.Frame.SubFrame[n].Frame.IsShowTitleArraw=!1),0==l.IsShowIndexName&&(this.Frame.SubFrame[n].Frame.IsShowIndexName=!1),0==l.IsShowOverlayIndexName&&(this.Frame.SubFrame[n].Frame.IsShowOverlayIndexName=!1),Ee.IsNumber(l.IndexParamSpace)&&(this.Frame.SubFrame[n].Frame.IndexParamSpace=l.IndexParamSpace),Ee.IsNumber(l.IndexTitleSpace)&&(this.Frame.SubFrame[n].Frame.IndexTitleSpace=l.IndexTitleSpace),0==l.IsShowXLine&&(this.Frame.SubFrame[n].Frame.IsShowXLine=!1),0==l.IsShowYLine&&(this.Frame.SubFrame[n].Frame.IsShowYLine=!1),Ee.IsBool(l.IsShowIndexTitle)&&(this.Frame.SubFrame[n].Frame.IsShowIndexTitle=l.IsShowIndexTitle),Ee.IsBool(l.IsShowLeftText)&&(u.Frame.IsShowYText[0]=l.IsShowLeftText,u.Frame.YSplitOperator.IsShowLeftText=l.IsShowLeftText),Ee.IsBool(l.IsShowRightText)&&(u.Frame.IsShowYText[1]=l.IsShowRightText,u.Frame.YSplitOperator.IsShowRightText=l.IsShowRightText),l.OverlayIndexType&&(Ee.IsNumber(l.OverlayIndexType.Position)&&(u.Frame.OverlayIndexType.Position=l.OverlayIndexType.Position),Ee.IsNumber(l.OverlayIndexType.LineSpace)&&(u.Frame.OverlayIndexType.LineSpace=l.OverlayIndexType.LineSpace));var g=this.ChartPaint[0].Data;this.BindIndexData(n,g)}}}},this.ChangeIndexTemplate=function(t){var e=this;if(t.Windows){var i=t.Windows.length;if(!(i<=0)){var a=this.Frame.SubFrame.length,r=null,n=null;t.KLine&&(Ee.IsNumber(t.KLine.Period)&&t.KLine.Period!=this.Period&&(r=t.KLine.Period),Ee.IsNumber(t.KLine.Right)&&t.KLine.Right!=this.Right&&(n=t.KLine.Right));for(var o=null!=r||null!=n,l=0;l<a;++l){this.DeleteIndexPaint(l);var h=this.Frame.SubFrame[l];h.YSpecificMaxMin=null,h.IsLocked=!1,h.YSplitScale=null}if(a>i){for(var u=this.GetEventCallback(Rn.ON_DELETE_FRAME),l=a-1;l>=i;--l)if(this.Frame.SubFrame[l].Frame.ClearToolbar(),u&&u.Callback){var c={SubFrame:this.Frame.SubFrame[l],WindowIndex:l};u.Callback(u,c,this)}this.Frame.SubFrame.splice(i,a-i),this.WindowIndex.splice(i,a-i)}else for(var l=a;l<i;++l){var d=this.CreateSubFrameItem(l);this.Frame.SubFrame[l]=d;var f=new ii;f.Frame=this.Frame.SubFrame[l].Frame,f.Canvas=this.Canvas,f.LanguageID=this.LanguageID,f.GetEventCallback=function(t){return e.GetEventCallback(t)},f.SelectedChart=this.SelectedChart,this.TitlePaint[l+1]=f}for(var p=new s,l=0;l<i;++l){var m=l,C=t.Windows[l],v=null;t.Frame&&t.Frame.length>l&&(v=t.Frame[l]);var D=m+1;if(this.TitlePaint[D].Data=[],this.TitlePaint[D].Title=null,C.Script)this.WindowIndex[l]=new Lr(C.Name,C.Script,C.Args,C);else if(C.API){var g=C.API;this.WindowIndex[m]=new Ar(g.Name,g.Script,g.Args,C)}else{var S=C.Index,x=ea.Get(S);if(x)this.WindowIndex[l]=x.Create(),this.CreateWindowIndex(m);else{var b=p.Get(S);if(b){var I=b.Args;t.Windows[l].Args&&(I=t.Windows[l].Args);var T={Name:b.Name,Script:b.Script,Args:I,ID:S,KLineType:b.KLineType,YSpecificMaxMin:b.YSpecificMaxMin,YSplitScale:b.YSplitScale,FloatPrecision:b.FloatPrecision,Condition:b.Condition,OutName:b.OutName};C.TitleFont&&(T.TitleFont=C.TitleFont),this.WindowIndex[l]=new Lr(T.Name,T.Script,T.Args,T)}}}this.SetSubFrameAttribute(this.Frame.SubFrame[l],C,v)}for(var l=0;l<this.Frame.SubFrame.length;++l){var C=this.Frame.SubFrame[l].Frame;l==this.Frame.SubFrame.length-1?C.XSplitOperator.ShowText=!0:C.XSplitOperator.ShowText=!1}if(o)this.Frame.SetSizeChage(!0),null!=r?this.ChangePeriod(r,t):null!=n&&this.ChangeRight(n);else{for(var y=this.ChartPaint[0].Data,l=0;l<i;++l)this.BindIndexData(l,y);this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw()}}}},this.RemoveIndexWindow=function(t,e){if(Nn.Chart.Log("[KLineChartContainer::RemoveIndexWindow] remove id",t),0==t)return void(e&&e.DeleteMainIndex&&(this.DeleteIndexPaint(t),this.WindowIndex[t]=null,this.Frame.SetSizeChage(!0),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()));if(this.Frame.SubFrame&&!(t>=this.Frame.SubFrame.length)){this.Frame.RestoreIndexWindows();var i=this.Frame.SubFrame[t].Frame;this.DeleteIndexPaint(t),this.Frame.SubFrame[t].Frame.ClearToolbar();var a=this.GetEventCallback(Rn.ON_DELETE_FRAME);if(a&&a.Callback){var r={SubFrame:this.Frame.SubFrame[t],WindowIndex:t};a.Callback(a,r,this)}this.Frame.SubFrame.splice(t,1),this.WindowIndex.splice(t,1),this.TitlePaint.splice(t+1,1);for(var n=0;n<this.Frame.SubFrame.length;++n){var o=this.Frame.SubFrame[n].Frame;n==this.Frame.SubFrame.length-1?o.XSplitOperator.ShowText=!0:o.XSplitOperator.ShowText=!1,o.Identify=n}if(this.ChartDrawPicture.length>0){var s=[];for(var n in this.ChartDrawPicture){var o=this.ChartDrawPicture[n];o.Frame!=i&&s.push(o)}this.ChartDrawPicture=s}this.Frame.SetSizeChage(!0),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()}},this.GetIndexInfo=function(){var t=[];for(var e in this.WindowIndex){var i=this.WindowIndex[e],a={Name:i.Name};if(i.ID&&(a.ID=i.ID),i.Arguments){a.Args=[];for(var e in i.Arguments){var r=i.Arguments[e];a.Args.push({Name:r.Name,Value:r.Value})}}t.push(a)}return t},this.CreateExtendChart=function(t,e){var i;switch(t){case"筹码分布":return i=new Ce,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.Left=this.Frame.ChartBorder.Right,i.SetOption(e),this.ExtendChartPaint.push(i),this.Frame.ChartBorder.Right+=i.Width,i;case"画图工具":return i=new ve,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.Left=this.Frame.ChartBorder.Right,i.SetOption(e),this.ExtendChartPaint.push(i),this.Frame.ChartBorder.Right+=i.Width,i;case"KLineTooltip":return i=e.Create&&"function"==typeof e.Create?e.Create():new de,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,e.LanguageID=this.LanguageID,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"深度图":return i=new Se,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"K线Y轴背景图":return i=new xe,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"背景图":return i=new be,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"FrameSplitPaint":return i=new De,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i;default:return(i=to.Create(t))?(i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i):null}},this.OnTouchFinished=function(){if(this.DragMode==kn.CLICK_TOUCH_MODE_ID){if(1==this.TouchStatus.CorssCursorShow&&this.TouchDrawCount>0)return;return this.TouchStatus.CorssCursorShow=!1,void this.DrawDynamicInfo()}if(!0===this.EnableClickModel){if(1==this.ClickModel.IsShowCorssCursor&&this.TouchDrawCount>0)return;return this.ClickModel.IsShowCorssCursor=!1,void this.DrawDynamicInfo()}if(!0===this.CorssCursorTouchEnd)return void(this.TouchDrawCount>0&&this.DrawDynamicInfo());for(var t in this.ExtendChartPaint){"KLineTooltipPaint"===this.ExtendChartPaint[t].ClassName&&this.DrawDynamicInfo()}},this.LockIndex=function(t){if(t&&t.IndexName)for(var e in this.WindowIndex){var i=this.WindowIndex[e];if(i||conintue,i.Name==t.IndexName){i.SetLock(t),this.Update();break}}},this.TryClickLock=function(t,e){for(var i=0;i<this.Frame.SubFrame.length;++i){var a=this.Frame.SubFrame[i];if(a.Frame.IsLocked&&a.Frame.LockPaint){var r=new tt;if(a.Frame.LockPaint.GetTooltipData(t,e,r))return r.HQChart=this,r.Data.Callback&&r.Data.Callback(r),!0}}return!1},this.TryClickIndexTitle=function(t,e){for(var i in this.TitlePaint){var a=this.TitlePaint[i];if(a.IsClickTitle&&a.IsClickTitle(t,e)){var r={Point:{X:t,Y:e},Title:a.Title,FrameID:a.Frame.Identify};Nn.Chart.Log("[KLineChartContainer::TryClickIndexTitle] click title ",r);var n=this.GetEventCallback(Rn.ON_CLICK_INDEXTITLE);return n&&n.Callback&&n.Callback(n,r,this),!0}}return!1},this.SetSizeChange=function(t){this.Frame.SetSizeChage(t);for(var e in this.ExtendChartPaint){this.ExtendChartPaint[e].SizeChange=t}},this.SetSizeChage=this.SetSizeChange,this.Update=function(t){if(this.SourceData){this.BeforeBindMainData&&this.BeforeBindMainData("Update");var e=new Q;if(e.Data=this.SourceData.Data,e.Period=this.Period,e.Right=this.Right,e.DataType=this.SourceData.DataType,e.Symbol=this.Symbol,e.Right>0&&Q.IsDayPeriod(e.Period,!0)){var i=e.GetRightData(e.Right,{AlgorithmType:this.RightFormula});e.Data=i}else if(e.Right>0&&Q.IsMinutePeriod(e.Period,!0)&&this.RightFormula>=1){var i=e.GetRightData(e.Right,{AlgorithmType:this.RightFormula});e.Data=i}if(Q.IsDayPeriod(e.Period,!1)||Q.IsMinutePeriod(e.Period,!1)){var a=e.GetPeriodData(e.Period);e.Data=a}this.BindMainData(e,this.PageSize),this.AfterBindMainData&&this.AfterBindMainData("Update");for(var r,n=0;n<this.Frame.SubFrame.length;++n)0==n&&(r=this.Frame.SubFrame[n].Frame),this.BindIndexData(n,e);r&&r.YSplitOperator&&(r.YSplitOperator.Symbol=this.Symbol,r.YSplitOperator.Data=this.ChartPaint[0].Data,r.YSplitOperator.Period=this.Period);for(var n in this.OverlayChartPaint){var o=this.OverlayChartPaint[n];if(o.SourceData)if(Q.IsMinutePeriod(this.Period,!0)){var e=new Q;e.Data=o.SourceData.Data,e.Period=this.Period,e.Right=this.Right;var s=this.SourceData.GetOverlayMinuteData(e.Data,this.IsApiPeriod);if(e.Data=s,Q.IsMinutePeriod(e.Period,!1)&&!this.IsApiPeriod){var a=e.GetPeriodData(e.Period);e.Data=a}o.Data=e}else{var e=new Q;if(e.Data=o.SourceData.Data,e.Period=this.Period,e.Right=this.Right,e.Right>0&&po.IsSHSZStockA(o.Symbol)){var i=e.GetRightData(e.Right,{AlgorithmType:this.RightFormula});e.Data=i}var s=this.SourceData.GetOverlayData(e.Data,this.IsApiPeriod);if(e.Data=s,Q.IsDayPeriod(e.Period,!1)&&!this.IsApiPeriod){var a=e.GetPeriodData(e.Period);e.Data=a}o.Data=e}}this.ReqeustKLineInfoData({FunctionName:"Update"}),this.CreateChartDrawPictureByStorage(),this.UpdataDataoffset(),t&&t.UpdateCursorIndexType>0?this.UpdatePointByCursorIndex(t.UpdateCursorIndexType):this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw();for(var n=0;n<this.Frame.SubFrame.length;++n){var o=this.Frame.SubFrame[n];for(var l in o.OverlayIndex){var h=o.OverlayIndex[l];this.BindOverlayIndexData(h,n,e)}}}},this.ChangeSymbol=function(t,e){if(this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"KLineChartContainer::ChangeSymbol"),this.ClearRectSelect(!0),this.ClearCustomKLine(),this.ClearKLineCaluate(),this.HideTooltip(),this.ResetScrollBar(),this.Symbol=t,!t)return void this.DrawEmpty();if(e&&e.KLine){var i=e.KLine;Ee.IsNumber(i.Right)&&(this.Right=i.Right),Ee.IsNumber(i.Period)&&(this.Period=i.Period)}if(po.IsSHSZIndex(t)&&(this.Right=0),this.ClearIndexPaint(),e&&e.Windows&&Array.isArray(e.Windows)&&e.Windows.length>0){var a=e.Windows,r=new s;for(var n in a){if(n>=this.WindowIndex.length)break;var i=a[n];if(i)if(i.Script)this.WindowIndex[n]=new Lr(i.Name,i.Script,i.Args,i);else if(i.API){var o=i.API;this.WindowIndex[n]=new Ar(o.Name,o.Script,o.Args,i)}else{var l=i.Index,h=r.Get(l);if(h){h.Args;i.Args&&(h.Args=i.Args),h.ID=l,this.WindowIndex[n]=new Lr(h.Name,h.Script,h.Args,h)}}}}this.ReloadChartDrawPicture(),this.Frame.ClearUpDonwFrameYData(),Q.IsDayPeriod(this.Period,!0)?this.RequestHistoryData():Q.IsMinutePeriod(this.Period,!0)||Q.IsSecondPeriod(this.Period)?this.ReqeustHistoryMinuteData():Q.IsTickPeriod(this.Period)&&this.RequestTickData()},this.ReqeustKLineInfoData=function(t){if(t&&"RecvDragDayData"==t.FunctionName)t.Update=!0;else{if(this.ChartPaint.length>0){this.ChartPaint[0].InfoData=new Mn.default}t.Update=!1}if(Ee.IsNonEmptyArray(this.ChartInfo))for(var e=0;e<this.ChartInfo.length;++e)this.ChartInfo[e].RequestData(this,t)},this.SetKLineInfo=function(t,e){this.ChartInfo=[];for(var i in t){var a=Oa.Get(t[i]);if(a){var r=a.Create();r.MaxRequestDataCount=this.MaxRequestDataCount,this.ChartInfo.push(r)}}1==e&&this.ReqeustKLineInfoData({FunctionName:"SetKLineInfo"})},this.AddKLineInfo=function(t,e){var i=Oa.GetClassInfo(t);if(!i)return void console.warn("[KLineChartContainer::AddKLineInfo] can't find infoname=",t);for(var a in this.ChartInfo){var r=this.ChartInfo[a];if(r.ClassName==i.ClassName)return}var n=Oa.Get(t);if(n){var r=n.Create();r.MaxRequestDataCount=this.MaxRequestDataCount,this.ChartInfo.push(r),1==e&&r.RequestData(this)}},this.DeleteKLineInfo=function(t){var e=Oa.GetClassInfo(t);if(!e)return void console.warn("[KLineChartContainer::DeleteKLineInfo] can't find infoname=",t);for(var i in this.ChartInfo){if(this.ChartInfo[i].ClassName==e.ClassName){this.ChartInfo.splice(i,1),this.UpdataChartInfo(),this.Draw();break}}},this.ClearKLineInfo=function(){if(this.ChartInfo&&!(this.ChartInfo.length<=0)){this.ChartInfo=[];this.ChartPaint[0].InfoData=null,this.Draw()}},this.OverlaySymbol=function(t,e){for(var i in this.OverlayChartPaint){if(this.OverlayChartPaint[i].Symbol===t)return console.warn("[KLineChartContainer::OverlaySymbol] overlay symbol="+t+" exist."),!1}var a=new st;return a.Canvas=this.Canvas,a.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,a.ChartFrame=this.Frame.SubFrame[0].Frame,a.Name="Overlay-KLine",a.DrawType=this.KLineDrawType,a.Symbol=t,a.Identify="Overlay-KLine-"+t,e&&e.Color?a.Color=e.Color:a.Color=lo.OverlaySymbol.Color[lo.OverlaySymbol.Random%lo.OverlaySymbol.Color.length],a.SetOption(e),++lo.OverlaySymbol.Random,this.ChartPaint[0]&&this.ChartPaint[0].Data&&this.SourceData&&(a.MainData=this.ChartPaint[0].Data),this.OverlayChartPaint.push(a),Q.IsDayPeriod(this.Period,!0)?this.RequestOverlayHistoryData():Q.IsMinutePeriod(this.Period,!0)&&this.RequestOverlayHistoryMinuteData(),!0},this.RequestOverlayHistoryData=function(){var t=this;if(this.OverlayChartPaint.length&&this.SourceData&&this.SourceData.Data)for(var e=this,i=this.GetRequestDataCount(),a=this.SourceData.Data[0].Date,r=0;r<this.OverlayChartPaint.length;++r){var o;(function(){var s=t.OverlayChartPaint[r];if(!s.MainData)return"continue";if(s.Status!=Qn.STATUS_NONE_ID)return"continue";var l=s.Symbol;l&&(s.Status=Qn.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(o={Name:"KLineChartContainer::RequestOverlayHistoryData",Explain:"叠加股票日K线数据",Request:{Url:e.KLineApiUrl,Data:{symbol:l,count:i.MaxRequestDataCount,first:{date:a},field:["name","symbol","yclose","open","price","high","vol","amount"]},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(o,function(t){s.Status=Qn.STATUS_RECVDATA_ID,e.RecvOverlayHistoryData(t,s)}),1==o.PreventDefault)||n.HttpRequest({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high"],symbol:l,start:-1,count:i.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){s.Status=Qn.STATUS_RECVDATA_ID,e.RecvOverlayHistoryData(t,s)}}))})()}},this.RecvOverlayHistoryData=function(t,e){if(!e.IsDelete){var i=sa.JsonDataToHistoryData(t),a=new Q;a.Data=i,a.DataType=0;var r=new Q;if(r.Data=i,r.Period=this.Period,r.Right=this.Right,r.DataType=0,r.Right>0&&po.IsSHSZStockA(t.symbol)&&!this.IsApiPeriod){var n=r.GetRightData(r.Right,{AlgorithmType:this.RightFormula});r.Data=n}var o=this.SourceData.GetOverlayData(r.Data,this.IsApiPeriod);if(r.Data=o,Q.IsDayPeriod(r.Period,!1)&&!this.IsApiPeriod){var s=r.GetPeriodData(r.Period);r.Data=s}e.Data=r,e.SourceData=a,e.Title=t.name,e.Symbol=t.symbol,e.Status=Qn.STATUS_FINISHED_ID,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=1,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.RequestOverlayHistoryMinuteData=function(){var t=this;if(this.OverlayChartPaint.length&&this.SourceData&&this.SourceData.Data)for(var e=this,i=this.GetRequestDataCount(),a=this.SourceData.Data[0].Date,r=this.SourceData.Data[0].Time,o=0;o<this.OverlayChartPaint.length;++o){var s;(function(){var l=t.OverlayChartPaint[o];if(!l.MainData)return"continue";if(l.Status!=Qn.STATUS_NONE_ID)return"continue";var h=l.Symbol;h&&(l.Status=Qn.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(s={Name:"KLineChartContainer::RequestOverlayHistoryMinuteData",Explain:"叠加股票分钟K线数据",Request:{Url:e.MinuteKLineApiUrl,Data:{symbol:h,count:i.MaxRequestMinuteDayCount,first:{date:a,time:r},field:["name","symbol","yclose","open","price","high","vol","amount"]},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(s,function(t){l.Status=Qn.STATUS_RECVDATA_ID,e.RecvOveralyHistoryMinuteData(t,l)}),1==s.PreventDefault)||n.HttpRequest({url:t.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","vol","amount"],symbol:h,start:-1,count:i.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(t){l.Status=Qn.STATUS_RECVDATA_ID,e.RecvOveralyHistoryMinuteData(t,l)}}))})()}},this.RecvOveralyHistoryMinuteData=function(t,e){if(this.EnableVerifyRecvData&&t.symbol!=e.Symbol)return void Nn.Chart.Warn("[MinuteChartContainer::RecvOveralyHistoryMinuteData] recv data symbol not match. paint["+e.Symbol+"] , Recv["+t.symbol+"]");var i=sa.JsonDataToMinuteHistoryData(t);if(i){var a=new Q;a.Data=i,a.DataType=1;var r=new Q;r.Data=i,r.Period=this.Period,r.Right=this.Right,r.DataType=1;var n=this.SourceData.GetOverlayMinuteData(r.Data,this.IsApiPeriod);if(r.Data=n,Q.IsMinutePeriod(r.Period,!1)&&!this.IsApiPeriod){var o=r.GetPeriodData(r.Period);r.Data=o}e.Data=r,e.SourceData=a,e.Title=t.name,e.Symbol=t.symbol,e.Status=Qn.STATUS_FINISHED_ID,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=1,this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}},this.ResetOverlaySymbolStatus=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].Status=Qn.STATUS_NONE_ID}},this.ClearOverlaySymbol=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].IsDelete=!0}this.OverlayChartPaint=[],this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=0,this.UpdateFrameMaxMin(),this.Draw()},this.DeleteOverlaySymbol=function(t){for(var e in this.OverlayChartPaint){var i=this.OverlayChartPaint[e];if(i.Symbol===t)return i.IsDelete=!0,this.OverlayChartPaint.splice(e,1),this.OverlayChartPaint.length<=0&&(this.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType=0),this.UpdateFrameMaxMin(),this.Draw(),!0}return console.warn("[KLineChartContainer::DeleteOverlaySymbol] overlay symbol="+t+" not exist."),!1},this.RequestFlowCapitalData=function(){if(this.Symbol&&1!=this.FlowCapitalReady){var t=this.Symbol.toUpperCase(),e=!0;if((po.IsBIT(t)||po.IsFutures(t))&&(e=!1),this.EnableFlowCapital&&po.IsBIT(t)&&1==this.EnableFlowCapital.BIT&&(e=!0),!e)return Nn.Chart.Log("[KLineChartContainer::RequestFlowCapitalData] symbol="+this.Symbol+" not need download data."),void(this.FlowCapitalReady=!0);var i=this,a=["name","date","symbol","capital.a"];if(this.NetworkFilter){var r={Name:"KLineChartContainer::RequestFlowCapitalData",Explain:"流通股本数据",Request:{Url:i.StockHistoryDayApiUrl,Data:{symbol:[this.Symbol],orderfield:"date",field:a},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(t){i.RecvFlowCapitalData(t)}),1==r.PreventDefault)return}n.HttpRequest({url:this.StockHistoryDayApiUrl,data:{field:a,symbol:[this.Symbol],orderfield:"date"},type:"post",dataType:"json",async:!0,success:function(t){i.RecvFlowCapitalData(t)}})}},this.RecvFlowCapitalData=function(t){if(t.stock&&1==t.stock.length){var e=t.stock[0];if(this.EnableVerifyRecvData&&e.symbol!=this.Symbol)return void Nn.Chart.Warn("[MinuteChartContainer::RecvFlowCapitalData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+e.symbol+"]");var i=new Array;for(var a in e.stockday){var r=e.stockday[a],n=new J;n.Date=r.date;var o=r.capital;o&&(o.a>0&&(n.Value=o.a,i.push(n)))}if(this.IsApiPeriod){var s=this.ChartPaint[0].Data,l=null;if(Q.IsMinutePeriod(this.Period,!0)?l=s.GetMinuteFittingFinanceData(i):Q.IsDayPeriod(this.Period,!0)&&(l=s.GetFittingFinanceData(i)),l&&s.Data&&l.length==s.Data.length)for(var h in s.Data){var r=s.Data[h];l[h]&&Ee.IsNumber(l[h].Value)&&(r.FlowCapital=l[h].Value)}}else if(Q.IsMinutePeriod(this.Period,!0)){for(var l=this.SourceData.GetMinuteFittingFinanceData(i),h=0;h<this.SourceData.Data.length;++h){var r=this.SourceData.Data[h];l[h]&&Ee.IsNumber(l[h].Value)&&(r.FlowCapital=l[h].Value)}var u=this.ChartPaint[0].Data,c=new Q;if(c.Data=this.SourceData.Data,u.Right>0&&this.RightFormula>=1){var d=c.GetRightData(u.Right,{AlgorithmType:this.RightFormula});c.Data=d}if(Q.IsMinutePeriod(u.Period,!1)){var f=c.GetPeriodData(u.Period);c.Data=f}u.Data=c.Data}else{var l=this.SourceData.GetFittingFinanceData(i);for(var p in this.SourceData.Data){var r=this.SourceData.Data[p];l[p]&&Ee.IsNumber(l[p].Value)&&(r.FlowCapital=l[p].Value)}var u=this.ChartPaint[0].Data,c=new Q;if(c.Data=this.SourceData.Data,u.Right>0){var d=c.GetRightData(u.Right,{AlgorithmType:this.RightFormula});c.Data=d}if(Q.IsDayPeriod(u.Period,!1)){var f=c.GetPeriodData(u.Period);c.Data=f}u.Data=c.Data}this.FlowCapitalReady=!0;var m=!1;for(var h in this.ExtendChartPaint){var r=this.ExtendChartPaint[h];if("StockChip"==r.ClassName){m=!0;break}}m&&this.Draw()}},this.CreateChartDrawPicture=function(t,e,i){var a=null,r=ai.GetDrawPictureByName(t);if(r&&(a=r.Create(),"ChartDrawPictureText"!=a.ClassName&&"ChartDrawVolProfile"!=a.ClassName||(a.HQChart=this)),!a&&ai.MapIonFont.has(t)){var n=ai.MapIonFont.get(t);a=new bi,a.FontOption.Family=n.Family,a.Text=n.Text,n.Color&&(a.LineColor=n.Color)}if(!a)return!1;a.Canvas=this.Canvas,a.Status=0,a.Symbol=this.Symbol,a.Period=this.Period,a.Right=this.Right,a.Option=this.ChartDrawOption,i&&(a.FinishedCallback=i),e&&a.SetOption(e);var o=this;return a.Update=function(){o.DrawDynamicInfo()},a.GetActiveDrawPicture=function(){return o.GetActiveDrawPicture()},this.CurrentChartDrawPicture=a,!0},this.AddChartDrawPicture=function(t){if(!t)return null;if(t.FrameID<0||t.FrameID>=this.Frame.SubFrame.length)return null;var e=this,i=ai.GetDrawPictureByClassName(t.ClassName);if(!i)return null;var a=i.Create();return a.Canvas=this.Canvas,a.Status=10,a.Frame=this.Frame.SubFrame[t.FrameID].Frame,a.Symbol=this.Symbol,a.Period=this.Period,a.Right=this.Right,a.Option=this.ChartDrawOption,t.Value&&(a.Value=t.Value),t.Guid&&(a.Guid=t.Guid),a.ImportStorageData&&a.ImportStorageData(t),a.SetOption(t),t.EnableUpdateXValue&&a.UpdateXValue(),a.ValueToPoint(),a.GetActiveDrawPicture=function(){return e.GetActiveDrawPicture()},"ChartDrawPictureText"===a.ClassName&&(a.IsInitialized=!0),this.ChartDrawPicture.push(a),this.DrawDynamicInfo(),a},this.PasteChartDrawPicture=function(t,e,i){if(!t||!t.ClassName)return null;if(e<0||e>=this.Frame.SubFrame.length)return null;var a=ai.GetDrawPictureByClassName(t.ClassName);if(!a)return null;var r=a.Create();if(!r)return null;var n=this;return r.Canvas=this.Canvas,r.Status=10,r.Frame=this.Frame.SubFrame[e].Frame,r.Symbol=this.Symbol,r.Period=this.Period,r.Right=this.Right,r.Option=this.ChartDrawOption,r.GetActiveDrawPicture=function(){return n.GetActiveDrawPicture()},r.SetOption&&r.SetOption(t),this.RandomDrawPictureValue(r,t),r.PointToValue(),"ChartDrawPictureText"===r.ClassName&&(r.IsInitialized=!0),this.ChartDrawPicture.push(r),this.ChartDrawStorage&&this.ChartDrawStorage.SaveDrawData(r),this.DrawDynamicInfo(),r},this.RandomDrawPictureValue=function(t,e){if(Ee.IsNonEmptyArray(e.Value)){var i=this.GetKLineChart();if(!i||!i.Data||!Ee.IsNumber(i.Data.DataOffset)||i.Data.DataOffset<0)return null;if(!Ee.IsNonEmptyArray(i.Data.Data))return null;var a=i.Data.Data,r=(i.Data.DataOffset,i.Data.DataOffset+i.ChartFrame.XPointCount-1);r>=a.length&&(r=a.length-1);var n=t.Frame.ChartBorder.GetHeight(),o=(t.Frame.HorizontalMax,t.Frame.HorizontalMin,t.Frame.ChartBorder.GetBottomEx()-n*e.YFristScale),s={Max:5,Min:2},l=Math.floor(Math.random()*(s.Max-s.Min+1))+s.Min,h=e.Value[0].XIndex+l;t.Value=[];for(var u=0;u<e.Value.length;++u){var c=e.Value[u];t.Value[u]={XValue:h+c.XOffset},t.Point[u]={Y:o+c.YOffset,X:t.Frame.GetXFromIndex(h+c.XOffset,!1)}}}},this.MoveChartDrawPicture=function(t,e,i,a){var r=this.CurrentChartDrawPicture;if(!r)return!1;var n=c();i&&(n=1);var o=t*n,s=e*n;return r.Move(o,s,a),!0},this.UpdateChartDrawXValue=function(){for(var t in this.ChartDrawPicture){this.ChartDrawPicture[t].UpdateXValue()}},this.OnRightMenu=function(t,e,i){var a=c();if(this.RightMenu){var r=this.Frame.PtInFrame(t*a,e*a);i.data={Chart:this,FrameID:r},this.RightMenu.DoModal(i)}var n=this.GetEventCallback(Rn.ON_CONTEXT_MENU);if(n){var r=this.Frame.PtInFrame(t*a,e*a),o={X:t,Y:e,Event:i,FrameID:r};n.Callback(n,o,this)}},this.ReloadChartDrawPicture=function(){if(this.ChartDrawPicture=[],this.ChartDrawStorageCache,this.ChartDrawStorage){this.ChartDrawStorageCache=this.ChartDrawStorage.GetDrawData({Symbol:this.Symbol,Period:this.Period});var t=this.GetEventCallback(Rn.ON_LOAD_DRAWPICTURE);if(t&&t.Callback){var e={Symbol:this.Symbol,Period:this.Period,DrawStorage:this.ChartDrawStorage,ChartDrawStorageCache:this.ChartDrawStorageCache};t.Callback(t,e,this)}}},this.CreateChartDrawPictureByStorage=function(){if(Ee.IsNonEmptyArray(this.ChartDrawStorageCache)){for(var t=0;t<this.ChartDrawStorageCache.length;++t){var e=this.ChartDrawStorageCache[t];if(!(e.FrameID<0||!this.Frame.SubFrame||this.Frame.SubFrame.length<e.FrameID)){var i=ai.CreateChartDrawPicture(e);if(i){i.Canvas=this.Canvas,i.Status=10,i.Frame=this.Frame.SubFrame[e.FrameID].Frame,i.Option=this.ChartDrawOption,i.ImportStorageData&&i.ImportStorageData(e),i.UpdateXValue(),i.ValueToPoint();var a=this;i.GetActiveDrawPicture=function(){return a.GetActiveDrawPicture()},"ChartDrawPictureText"===i.ClassName&&(i.IsInitialized=!0),this.ChartDrawPicture.push(i)}}}this.ChartDrawStorageCache=null}},this.RequestKLineMatch=function(t,e){var i=this,a=e.Scope,r=e.WaitDialog;Nn.Chart.Log("[KLineChartContainer::RequestKLineMatch",t,a);for(var n=new Array,o=new Array,s=t.Start;s<t.End&&s<t.Data.Data.length;++s){var l=t.Data.Data[s];n.push(l.Date),o.push(l.Close)}var h={Stock:t.Stock,Index:{Start:t.Start,End:t.End},Date:{Start:n[0],End:n[n.length-1]},Minsimilar:a.Minsimilar,Plate:a.Plate,DayRegion:300};On.default.ajax({url:this.KLineMatchUrl,data:{userid:"guest",plate:a.Plate,period:this.Period,right:this.Right,dayregion:h.DayRegion,minsimilar:a.Minsimilar,sampledate:n,samplevalue:o},type:"post",dataType:"json",async:!0,success:function(t){r&&r.Close(),i.RecvKLineMatchData(t,h)},error:function(t,e,i){console.warn("[KLineChartContainer::RequestKLineMatch] failed",t,e,i),r&&r.Close()}})},this.RecvKLineMatchData=function(t,e){Nn.Chart.Log("[KLineChartContainer::RecvKLineMatchData] recv",t,e);var i=[];for(var a in t.match){var r=t.match[a];if(r.symbol!=e.Stock.Symbol)for(var n in r.data){var o=r.data[n],s={Symbol:r.symbol,Name:r.name,Similar:o.similar,Start:o.start,End:o.end};i.push(s)}}if(i.sort(function(t,e){return e.Similar-t.Similar}),Nn.Chart.Log("[KLineChartContainer::RecvKLineMatchData] filterData",i),this.mapEvent.has(Rn.RECV_KLINE_MATCH)){var r=this.mapEvent.get(Rn.RECV_KLINE_MATCH),t={Sample:e,Match:i,Source:t};r.Callback(r,t,this)}else{var l=new Ja(this.Frame.ChartBorder.UIElement.parentNode),h={data:{Chart:this,MatchData:i,Sample:e,Source:t}};l.DoModal(h)}},this.UpdataChartInfo=function(){var t=null;if(0==this.Period){t=new Mn.default;for(var e in this.ChartInfo){var i=this.ChartInfo[e].Data;for(var a in i){var r=i[a];t.has(r.Date.toString())?t.get(r.Date.toString()).Data.push(r):t.set(r.Date.toString(),{Data:new Array(r)})}}}else if(Q.IsDayPeriod(this.Period,!1)){t=new Mn.default;var n=this.ChartPaint[0].Data;if(n&&n.Data&&n.Data.length>0){var o=n.Data[0],s=[];for(var e in this.ChartInfo){var l=this.ChartInfo[e];for(var a in l.Data){var r=l.Data[a];r.Date>=o.Date&&s.push(r)}}s.sort(function(t,e){return t.Date-e.Date});for(var e=0;e<n.Data.length;){var h=n.Data[e];if(s.length<=0)break;var l=s[0];h.Date<l.Date?++e:(t.has(h.Date.toString())?t.get(h.Date.toString()).Data.push(l):t.set(h.Date.toString(),{Data:new Array(l)}),s.shift())}}}else if(Q.IsMinutePeriod(this.Period,!0)){t=new Mn.default;var n=this.ChartPaint[0].Data;if(n&&n.Data&&n.Data.length>0){for(var u=n.Data[0],s=[],e=0,a=0;e<this.ChartInfo.length;++e){var l=this.ChartInfo[e];for(a=0;a<l.Data.length;++a){var r=l.Data[a];(r.Date>=u.Date||r.Date==u.Date&&r.Time>=u.Time)&&s.push(r)}}s.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date});for(var e=0;e<n.Data.length;){var h=n.Data[e];if(s.length<=0)break;var l=s[0];if(h.Date<l.Date||h.Date==l.Date&&h.Time<l.Time)++e;else{var c=h.Date+"-"+h.Time;t.has(c)?t.get(c).Data.push(l):t.set(c,{Data:new Array(l)}),s.shift()}}}}this.ChartPaint[0].InfoData=t},this.RecvWindowIndex=function(t,e){var i=this.WindowIndex[t];if(i&&"function"==typeof i.RecvSubscribeData){var a=this.ChartPaint[0].Data;i.RecvSubscribeData(e,this,t,a)}},this.UpdateWindowIndex=function(t){var e=new Q;if(e.Data=this.SourceData.Data,e.Period=this.Period,e.Right=this.Right,this.IsApiPeriod);else{if(e.Right>0){var i=e.GetRightData(e.Right,{AlgorithmType:this.RightFormula});e.Data=i}if(Q.IsDayPeriod(e.Period,!1)||Q.IsMinutePeriod(e.Period,!1)){var a=e.GetPeriodData(e.Period);e.Data=a}}if("function"==typeof this.WindowIndex[t].ExecuteScript){var r=this.ChartPaint[0].Data;this.WindowIndex[t].ExecuteScript(this,t,r)}else if("function"==typeof this.WindowIndex[t].RequestData){var r=this.ChartPaint[0].Data;this.WindowIndex[t].RequestData(this,t,r,null)}else this.WindowIndex[t].BindData(this,t,e);this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.GetOverlayIndexByIdentify=function(t){for(var e=0;e<this.Frame.SubFrame.length;++e){var i=this.Frame.SubFrame[e];if(Ee.IsNonEmptyArray(i.OverlayIndex))for(var a=0;a<i.OverlayIndex.length;++a){var r=i.OverlayIndex[a];if(r.Identify===t)return{OverlayItem:r,WindowIndex:e}}}return null},this.RecvOverlayIndex=function(t,e){var i=this.GetOverlayIndexByIdentify(t);if(null==i)return void console.warn("[KLineChartContainer::RecvOverlayIndex] can't find overlay index. [identify="+t+"]");if(i.Script&&"function"==typeof i.RecvSubscribeData&&this.ChartPaint[0]){var a=this.ChartPaint[0].Data;a&&i.Script.RecvSubscribeData(e,this,i.WindowIndex,a)}},this.UpdateOverlayIndex=function(t){var e=this.GetOverlayIndexByIdentify(t);if(null==e)return void console.warn("[KLineChartContainer::UpdateOverlayIndex] can't find overlay index. [identify="+t+"]");if(this.ChartPaint[0]){var i=this.ChartPaint[0].Data;i&&this.BindOverlayIndexData(e.OverlayItem,e.WindowIndex,i)}},this.ChangeWindowIndexParam=function(t){this.WindowIndex[t].Index[0].Param+=1,this.WindowIndex[t].Index[1].Param+=1,this.UpdateWindowIndex(t)},this.OnDoubleClick=function(t,e,i){if(this.EnableYDrag&&(this.EnableYDrag.Left||this.EnableYDrag.Right)&&this.Frame&&this.Frame.PtInFrameY){var a=c(),t=(i.clientX-this.UIElement.getBoundingClientRect().left)*a,e=(i.clientY-this.UIElement.getBoundingClientRect().top)*a,r=this.Frame.PtInFrameY(t,e);r&&r.Index>=0&&0==r.IsOverlay&&this.CancelZoomUpDownFrameY(r)}var n;this.SelectedChart.EnableSelected&&(n=this.PtInChart(t,e));var o={SelectedChart:n};if(this.DBClickEvent(o,i),!n&&this.EnableZoomIndexWindow){var s=this.Frame.PtInFrame(t,e);if(Nn.Chart.Log("[KLineChartContainer::OnDoubleClick] frameId",s),s>=this.Frame.ZoomStartWindowIndex&&this.ZoomIndexWindow(s,{X:t,Y:e}))return this.Frame.SetSizeChage(!0),this.Draw(),!0}var l=null;if(this.mapEvent.has(Rn.DBCLICK_KLINE)&&(l=this.mapEvent.get(Rn.DBCLICK_KLINE)),this.MinuteDialog||l){var h=new tt;if(this.PtInChartPaintTooltip(t,e,h)&&h.Data){if(l){null!=this.ClickChartTimer&&(clearTimeout(this.ClickChartTimer),this.ClickChartTimer=null);var u={Tooltip:h,Stock:{Symbol:this.Symbol,Name:this.Name},X:i.clientX,Y:i.clientY};l.Callback(l,u,this)}this.MinuteDialog&&(i.data={Chart:this,Tooltip:h},this.MinuteDialog.DoModal(i))}}},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.AutoUpdate=function(t){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var e=this,i=po.GetMarketStatus(this.Symbol);if(0==i||3==i)return void(this.AutoUpdateTimer=setTimeout(function(){e.AutoUpdate()},2e4));var a=this.AutoUpdateFrequency;1==i?this.AutoUpdateTimer=setTimeout(function(){e.AutoUpdate()},a):2==i&&(this.AutoUpdateTimer=setTimeout(function(){Q.IsDayPeriod(e.Period,!0)?e.RequestRealtimeData():Q.IsMinutePeriod(e.Period,!0)||Q.IsSecondPeriod(e.Period)?e.RequestMinuteRealtimeData():Q.IsTickPeriod(e.Period)&&e.RequestTickRealtimeData()},a))}},this.GetMaxMinPageSize=function(){var t={},e=this.Frame.ChartBorder.GetWidth(),i=Zn[Zn.length-1][0]+Zn[Zn.length-1][1];return t.Max=parseInt(e/i)-2,i=Zn[0][0]+Zn[0][1],t.Min=parseInt(e/i)-2,Nn.Chart.Log("[KLineChartContainer::GetMaxMinPageSize] Max="+t.Max+" Min="+t.Min),t},this.GetChartStatus=function(){var t=this.Frame.SubFrame[0].Frame;if(!t)return null;var e=t.Data;if(!e)return null;var i={KLine:{},Zoom:{}};return i.KLine.Count=e.Data.length,i.KLine.Offset=e.DataOffset,i.KLine.PageSize=t.XPointCount,i.Zoom.Index=t.ZoomIndex,i.Zoom.Max=Zn.length,i},this.DragDownloadData=function(){var t=null;if(!(t=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data))return!1;if(!(t.DataOffset>0))if(Q.IsMinutePeriod(this.Period,!0)||Q.IsSecondPeriod(this.Period)){if(Nn.Chart.Log("[KLineChartContainer.DragDownloadData] Minute:[Enable="+this.DragDownload.Minute.Enable+", IsEnd="+this.DragDownload.Minute.IsEnd+", Status="+this.DragDownload.Minute.Status+", Period="+this.Period+"]"),!this.DragDownload.Minute.Enable)return;if(this.DragDownload.Minute.IsEnd)return;if(0!=this.DragDownload.Minute.Status)return;this.RequestDragMinuteData()}else if(Q.IsDayPeriod(this.Period,!0)){if(Nn.Chart.Log("[KLineChartContainer.DragDownloadData] Day:[Enable="+this.DragDownload.Minute.Enable+", IsEnd="+this.DragDownload.Minute.IsEnd+", Status="+this.DragDownload.Minute.Status+"]"),!this.DragDownload.Day.Enable)return;if(this.DragDownload.Day.IsEnd)return;if(0!=this.DragDownload.Day.Status)return;this.RequestDragDayData()}else if(Q.IsTickPeriod(this.Period)){if(Nn.Chart.Log("[KLineChartContainer.DragDownloadData] Tick:[Enable="+this.DragDownload.Tick.Enable+", IsEnd="+this.DragDownload.Tick.IsEnd+", Status="+this.DragDownload.Tick.Status+"]"),!this.DragDownload.Tick.Enable)return;if(this.DragDownload.Tick.IsEnd)return;if(0!=this.DragDownload.Tick.Status)return;this.RequestDragTickData()}},this.ZoomDownloadData=function(t){var e=null;if(!(e=this.Frame.Data?this.Frame.SubFrame[0].Frame.Data:this.Frame.Data))return!1;if(!(e.DataOffset>0))if(Q.IsMinutePeriod(this.Period,!0)||Q.IsSecondPeriod(this.Period)){if(Nn.Chart.Log("[KLineChartContainer.ZoomDownloadData] Minute:[Enable="+this.ZoomDownload.Minute.Enable+", IsEnd="+this.ZoomDownload.Minute.IsEnd+", Status="+this.DragDownload.Minute.Status+", Period="+this.Period+"]"),!this.ZoomDownload.Minute.Enable)return;if(this.ZoomDownload.Minute.IsEnd)return;if(0!=this.ZoomDownload.Minute.Status)return;this.RequestZoomMinuteData(t)}else if(Q.IsDayPeriod(this.Period,!0)){if(Nn.Chart.Log("[KLineChartContainer.ZoomDownloadData] Day:[Enable="+this.ZoomDownload.Minute.Enable+", IsEnd="+this.ZoomDownload.Minute.IsEnd+", Status="+this.DragDownload.Minute.Status+"]"),!this.ZoomDownload.Day.Enable)return;if(this.ZoomDownload.Day.IsEnd)return;if(0!=this.ZoomDownload.Day.Status)return;this.RequestZoomDayData(t)}else if(Q.IsTickPeriod(this.Period)){if(Nn.Chart.Log("[KLineChartContainer.ZoomDownloadData] Tick:[Enable="+this.ZoomDownload.Tick.Enable+", IsEnd="+this.ZoomDownload.Tick.IsEnd+", Status="+this.DragDownload.Tick.Status+"]"),!this.ZoomDownload.Tick.Enable)return;if(this.ZoomDownload.Tick.IsEnd)return;if(0!=this.ZoomDownload.Tick.Status)return;this.RequestZoomTickData(t)}},this.RequestDragTickData=function(){Nn.Chart.Log("[KLineChartContainer.RequestDragTickData] not finished.")},this.RequestPreviousMinuteData=function(t){var e=t.FuncName,i=t.FuncExplain,a=t.Download,r=t.Url,o=t.Count,s=this;this.AutoUpdateEvent(!1,e),this.CancelAutoUpdate(),a.Status=1;var l=this.SourceData.Data[0],h={field:["name","symbol","yclose","open","price","high","low","vol"],symbol:s.Symbol,enddate:l.Date,endtime:l.Time,count:o,first:{date:l.Date,time:l.Time}};if(Ee.IsNonEmptyArray(this.OverlayChartPaint)){h.overlay=[];for(var u=0;u<this.OverlayChartPaint.length;++u){var c=this.OverlayChartPaint[u];h.overlay.push({symbol:c.Symbol})}}if(this.NetworkFilter){var d={Name:e,Explain:i,Request:{Url:r,Type:"POST",Data:h,Period:this.Period,Right:this.Right},DragDownload:a,Option:t,Self:this,PreventDefault:!1,ZoomData:t.ZoomData};if(this.NetworkFilter(d,function(i){s.RecvPreviousMinuteData(i,t),a.Status=0,s.AutoUpdateEvent(!0,e),s.AutoUpdate()}),1==d.PreventDefault)return}n.HttpRequest({url:r,data:h,type:"post",dataType:"json",async:!0,success:function(i){s.RecvPreviousMinuteData(i,t),a.Status=0,s.AutoUpdateEvent(!0,e),s.AutoUpdate()}})},this.RecvPreviousMinuteData=function(t,e){var i=e.Download,a=sa.JsonDataToMinuteHistoryData(t);if(!a||a.length<=0)return i.IsEnd=!0,void Nn.Chart.Log("[KLineChartContainer.RecvPreviousMinuteData] "+this.Symbol+" data end. FuncName="+e.FuncName);for(var r=this.GetHistoryDataCount(),n=this.SourceData.Data[0],o=null,s=a.length-1;s>=0;--s){var l=a[s];if(n.Date>l.Date||n.Date==l.Date&&n.Time>l.Time){o=s;break}if(n.Date==l.Date&&n.Time==l.Time){n.YClose=l.YClose,o=s-1;break}}if(!(null==o&&o<0)){for(var s=0;s<a.length&&s<=o;++s){var l=a[s];this.SourceData.Data.splice(s,0,l)}var h=new Q;if(h.Data=this.SourceData.Data,h.Period=this.Period,h.Right=this.Right,h.DataType=this.SourceData.DataType,h.Symbol=this.Symbol,!this.IsApiPeriod&&(Q.IsDayPeriod(h.Period,!1)||Q.IsMinutePeriod(h.Period,!1))){var u=h.GetPeriodData(h.Period);h.Data=u}var c=this.GetKLineCalulate();if(c){h=c.RecvHistoryData(h,{Symbol:this.Symbol,Function:e.RecvFuncName}),this.FlowCapitalReady=!0}if(this.UpdateMainData(h,r),e&&e.ZoomData){var d=e.ZoomData,f=d.PageSize-d.RightSpaceCount;h.DataOffset=h.Data.length-f,h.DataOffset<0&&(h.DataOffset=0)}this.UpdateOverlayDragMinuteData(t),this.BindInstructionIndexData(h);for(var s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,h);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdateChartDrawXValue(),this.Draw(),this.BindAllOverlayIndexData(h)}},this.RequestZoomMinuteData=function(){var t={PageSize:requestData.PageSize,DataCount:requestData.DataCount,RightSpaceCount:requestData.RightSpaceCount},e={FuncName:"KLineChartContainer::RequestZoomMinuteData",FuncExplain:"缩放分钟|秒K线数据下载",RecvFuncName:"RecvZoomMinuteData",Download:this.DragDownload.Minute,Url:this.ZoomMinuteKLineApiUrl,Count:this.MaxRequestMinuteDayCount,ZoomData:t};this.RequestPreviousMinuteData(e)},this.RequestDragMinuteData=function(){var t={FuncName:"KLineChartContainer::RequestDragMinuteData",FuncExplain:"拖拽分钟|秒K线数据下载",RecvFuncName:"RecvDragMinuteData",Download:this.DragDownload.Minute,Url:this.DragMinuteKLineApiUrl,Count:this.MaxRequestMinuteDayCount};this.RequestPreviousMinuteData(t)},this.UpdateOverlayDragMinuteData=function(t){if(Ee.IsNonEmptyArray(this.OverlayChartPaint)){var e=t.overlay;if(Ee.IsNonEmptyArray(e))for(var i=0;i<this.OverlayChartPaint.length;++i){var a=this.OverlayChartPaint[i];if(a.Symbol&&(a.MainData&&a.Status==Qn.STATUS_FINISHED_ID)){for(var r=null,n=0;n<e.length;++n){var o=e[n];if(o.symbol==a.Symbol){r=o;break}}if(r){for(var s=sa.JsonDataToMinuteHistoryData(r),l=a.SourceData,h=l.Data[0],u=null,n=s.length-1;n>=0;--n){var c=s[n];if(h.Date>c.Date){u=n;break}if(h.Date==c.Date&&h.Time>c.Time){u=n;break}if(h.Date==c.Date&&h.Time==c.Time){h.YClose=c.YClose,u=n-1;break}}if(!(null==u&&u<0)){for(var n=0;n<s.length&&n<=u;++n){var c=s[n];l.Data.splice(n,0,c)}var d=new Q;d.Data=l.Data,d.Period=this.Period,d.Right=this.Right,d.DataType=0;var f=this.SourceData.GetOverlayMinuteData(d.Data,this.IsApiPeriod);if(d.Data=f,Q.IsMinutePeriod(d.Period,!1)&&!this.IsApiPeriod){var p=d.GetPeriodData(d.Period);d.Data=p}a.Data=d}}}}}},this.RequestPreviousDayData=function(t){var e=t.FuncName,i=t.FuncExplain,a=t.Download,r=t.Url,o=t.Count,s=this;this.AutoUpdateEvent(!1,e),this.CancelAutoUpdate(),a.Status=1;var l=this.SourceData.Data[0],h={field:["name","symbol","yclose","open","price","high","low","vol"],symbol:s.Symbol,enddate:l.Date,count:o,first:{date:l.Date}};if(Ee.IsNonEmptyArray(this.OverlayChartPaint)){h.overlay=[];for(var u=0;u<this.OverlayChartPaint.length;++u){var c=this.OverlayChartPaint[u];h.overlay.push({symbol:c.Symbol})}}if(this.NetworkFilter){var d={Name:e,Explain:i,Request:{Url:r,Type:"POST",Data:h,Period:this.Period,Right:this.Right},DragDownload:a,Self:this,PreventDefault:!1,ZoomData:t.ZoomData};if(this.NetworkFilter(d,function(i){s.RecvPreviousDayData(i,t),a.Status=0,s.AutoUpdateEvent(!0,e),s.AutoUpdate()}),1==d.PreventDefault)return}n.HttpRequest({url:r,data:h,type:"post",dataType:"json",async:!0,success:function(i){s.RecvPreviousDayData(i,t),a.Status=0,s.AutoUpdateEvent(!0,e),s.AutoUpdate()}})};this.RecvPreviousDayData=function(t,e){var i=e.Download,a=sa.JsonDataToHistoryData(t);if(!a||a.length<=0)return i.IsEnd=!0,void Nn.Chart.Log("[KLineChartContainer.RecvPreviousDayData] "+this.Symbol+" data end. FuncName="+e.FuncName);for(var r=this.GetHistoryDataCount(),n=this.SourceData.Data[0],o=null,s=a.length-1;s>=0;--s){var l=a[s];if(n.Date>l.Date){o=s;break}if(n.Date==l.Date){n.YClose=l.YClose,o=s-1;break}}if(!(null==o&&o<0)){for(var s=0;s<a.length&&s<=o;++s){var l=a[s];this.SourceData.Data.splice(s,0,l)}var h=new Q;if(h.Data=this.SourceData.Data,h.Period=this.Period,h.Right=this.Right,h.DataType=this.SourceData.DataType,h.Symbol=this.Symbol,!this.IsApiPeriod&&(Q.IsDayPeriod(h.Period,!1)||Q.IsMinutePeriod(h.Period,!1))){var u=h.GetPeriodData(h.Period);h.Data=u}var c=this.GetKLineCalulate();if(c){h=c.RecvHistoryData(h,{Symbol:this.Symbol,Function:e.RecvFuncName}),this.FlowCapitalReady=!0}if(this.UpdateMainData(h,r),e&&e.ZoomData){var d=e.ZoomData,f=d.PageSize-d.RightSpaceCount;h.DataOffset=h.Data.length-f,h.DataOffset<0&&(h.DataOffset=0)}this.UpdateOverlayDragDayData(t),this.BindInstructionIndexData(h);for(var s=0;s<this.Frame.SubFrame.length;++s)this.BindIndexData(s,h);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.UpdateChartDrawXValue(),this.Draw(),this.ReqeustKLineInfoData({FunctionName:e.RecvFuncName,StartDate:n.Date}),this.BindAllOverlayIndexData(h)}},this.RequestZoomDayData=function(t){var e=this.MaxRequestDataCount;t.Count>e&&(e=t.Count);var i={PageSize:t.PageSize,DataCount:t.DataCount,RightSpaceCount:t.RightSpaceCount},a={FuncName:"KLineChartContainer::RequestZoomDayData",FuncExplain:"缩放日K数据下载",RecvFuncName:"RecvZoomDayData",Download:this.ZoomDownload.Day,Url:this.ZoomKLineApiUrl,Count:e,ZoomData:i};this.RequestPreviousDayData(a)},this.RequestDragDayData=function(){var t={FuncName:"KLineChartContainer::RequestDragDayData",FuncExplain:"拖拽日K数据下载",RecvFuncName:"RecvDragDayData",Download:this.DragDownload.Day,Url:this.DragKLineApiUrl,Count:this.MaxRequestDataCount};this.RequestPreviousDayData(t)},this.UpdateOverlayDragDayData=function(t){if(Ee.IsNonEmptyArray(this.OverlayChartPaint)){var e=t.overlay;if(Ee.IsNonEmptyArray(e))for(var i=0;i<this.OverlayChartPaint.length;++i){var a=this.OverlayChartPaint[i];if(a.Symbol&&(a.MainData&&a.Status==Qn.STATUS_FINISHED_ID)){for(var r=null,n=0;n<e.length;++n){var o=e[n];if(o.symbol==a.Symbol){r=o;break}}if(r){for(var s=sa.JsonDataToHistoryData(r),l=a.SourceData,h=l.Data[0],u=null,n=s.length-1;n>=0;--n){var c=s[n];if(h.Date>c.Date){u=n;break}if(h.Date==c.Date){h.YClose=c.YClose,u=n-1;break}}if(!(null==u&&u<0)){for(var n=0;n<s.length&&n<=u;++n){var c=s[n];l.Data.splice(n,0,c)}var d=new Q;if(d.Data=l.Data,d.Period=this.Period,d.Right=this.Right,d.DataType=0,d.Right>0&&po.IsSHSZStockA(r.symbol)&&!this.IsApiPeriod){var f=d.GetRightData(d.Right,{AlgorithmType:this.RightFormula});d.Data=f}var p=this.SourceData.GetOverlayData(d.Data,this.IsApiPeriod);if(d.Data=p,Q.IsDayPeriod(d.Period,!1)&&!this.IsApiPeriod){var m=d.GetPeriodData(d.Period);d.Data=m}a.Data=d}}}}}},this.SetCustomVerical=function(t,e){if(this.Frame&&!(t>=this.Frame.SubFrame.length)){var i=this.Frame.SubFrame[t];i.Frame&&(i.Frame.CustomVerticalInfo=e)}},this.OnSize=function(){if(this.Frame&&this.Frame.OnSize){var t=this.Frame.OnSize();this.Frame.SetSizeChage(!0),t.Changed&&(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(2),this.UpdateFrameMaxMin()),this.Draw()}},this.ClickFrameButton=function(t,e){var i=this.GetEventCallback(Rn.ON_CLICK_FRAME_TOOLBAR);if(i&&i.Callback){var a={Info:t,PreventDefault:!1};if(i.Callback(i,a,this),a.PreventDefault)return}if(t.ID==Vn.CLOSE_OVERLAY_INDEX){var r=t.IndexID;r&&this.DeleteOverlayWindowsIndex(r)}else if(t.ID==Vn.MODIFY_OVERLAY_INDEX_PARAM){var r=t.IndexID,n=t.Frame;e.data={Chart:this,Identify:r,IsOverlay:!0},n.ModifyIndexEvent&&n.ModifyIndexEvent(e)}else if(t.ID==Vn.CLOSE_INDEX_WINDOW){var n=t.Frame;this.RemoveIndexWindow(n.Identify)}else if(t.ID==Vn.CHANGE_INDEX){var n=t.Frame;e.data={Chart:this,Identify:n.Identify,IsOverlay:!1},n.ChangeIndexEvent&&n.ChangeIndexEvent(e)}else if(t.ID==Vn.MODIFY_INDEX_PARAM){var n=t.Frame;e.data={Chart:this,Identify:n.Identify,IsOverlay:!1},n.ModifyIndexEvent&&n.ModifyIndexEvent(e)}else if(t.ID==Vn.OVERLAY_INDEX){var n=t.Frame;e.data={Chart:this,Identify:n.Identify,IsOverlay:!0},n.ChangeIndexEvent&&n.ChangeIndexEvent(e)}else if(t.ID==Vn.MAX_MIN_WINDOW){var r=t.IndexID,n=t.Frame,o=t.FrameID;o>=this.Frame.ZoomStartWindowIndex&&this.ZoomIndexWindow(o,null)&&(this.Frame.SetSizeChage(!0),this.Draw())}else if(t.ID==Vn.TITLE_WINDOW){var r=t.IndexID,n=t.Frame,o=t.FrameID;this.ShowIndexTitleOnly(o)&&(this.Frame.SetSizeChage(!0),this.Draw())}else if(t.ID==Vn.EXPORT_DATA){var a=this.ExportData({Type:"CSV"});if(!a)return;var s=Date.now(),l="hqchart_"+this.Symbol+"_"+s+".csv",h=document.createElement("a"),u=new Blob([a],{type:"text/csv"});h.href=URL.createObjectURL(u),document.body.appendChild(h),h.setAttribute("download",l),h.click(),document.body.removeChild(h)}},this.ClickTitleButton=function(t,e){var i=this.GetEventCallback(Rn.ON_CLICK_TITLE_BUTTON);if(i&&i.Callback){var a={Info:t,PreventDefault:!1};if(i.Callback(i,a,this),a.PreventDefault)return}},this.ClickExtendChartButton=function(t,e){var i=this.GetEventCallback(Rn.ON_CLICK_EXTENDCHART_BUTTON);if(i&&i.Callback){var a={Info:t,PreventDefault:!1};if(i.Callback(i,a,this),a.PreventDefault)return}t.ID==Vn.CHIP_DEFULT?(t.Chart.ShowType=0,this.Draw()):t.ID==Vn.CHIP_LONG?(t.Chart.ShowType=1,this.Draw()):t.ID==Vn.CHIP_RECENT&&(t.Chart.ShowType=2,this.Draw())},this.RequestVolumeProfileData=function(t){var e=this,i=t.Chart;if(this.NetworkFilter){var a={Name:"KLineChartContainer::RequestVolumeProfileData",Explain:"成交量分布图下载",Request:{Period:this.Period,Right:this.Right,Start:t.Start,End:t.End,Symbol:this.Symbol,ValueAreaVol:t.ValueAreaVol},Self:this,VolProfile:i,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvVolumeProfileData(t,i)}),1==a.PreventDefault)return}},this.RecvVolumeProfileData=function(t,e){e.OnRecvVolumeProfileData(t),this.Draw()},this.ExportMainData=function(t,e){return t.ExportKLineData(e)},this.UpdateScrollBar=function(){if(this.ScrollBar){var t=this.GetChartStatus();if(t){var e=this.ChartPaint[0].Data,i=t.KLine.Offset,a=i+t.KLine.PageSize-1,r={Start:i,End:a,Data:e,Draw:!0,RightSpaceCount:this.RightSpaceCount};if(this.Frame&&this.Frame.ChartBorder){var n=this.Frame.ChartBorder;r.Border={Left:n.Left,Right:n.Right}}this.ScrollBar.UpdateSlider(r)}}},this.ResetScrollBar=function(){this.ScrollBar&&this.ScrollBar.Reset({Draw:!0})}}function la(t,e,i){this.newMethod=u,this.newMethod(t,e,i),delete this.newMethod,this.ClassName="MinuteChartContainer",this.WindowIndex=new Array,this.Symbol,this.Name,this.SourceData,this.IndexBindData,this.IsAutoUpdate=!0,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.TradeDate=0,this.DayCount=1,this.DayData,this.LimitPrice,this.IsShowBeforeData=!1,this.BeforeOpenData=null,this.IsBeforeData=!1,this.IsShowAfterData=!1,this.AfterCloseData=null,this.IsAfterData=!1,this.ShareAfterVol=0,this.ExtendWidth={Left:120,Right:120},this.IsShowLead=!0,this.IsShowMultiDayBeforeData=!1,this.MultiDayBeforeOpenData=null,this.IsShowMultiDayAfterData=!1,this.MultiDayAfterCloseData=null,this.MultiDayExtendWidth={Left:20,Right:20},this.ChartDrawStorage=new Ji,this.ChartDrawStorageCache=null,this.MinuteApiUrl=lo.Domain+"/API/Stock",this.HistoryMinuteApiUrl=lo.Domain+"/API/StockMinuteData",this.ColorLineData,this.EnableSelectRect=!1,this.SelectRectDialog=null,this.CorssCursorIndex={DayIndex:-1,DataIndex:-1,Point:{X:-1,Y:-1},Type:-1},this.EnableNewIndex=!1,this.DayOffset={Offset:0,ShowDayCount:-1,DataOffset:0,DayCount:1},this.PageInfo={Enable:!1,Offset:-8888,ShowDayCount:4},this.ZoomStepPixel=50,this.SetCallCationDataBorder=function(t){if(t){var e={Left:t.Left?this.ExtendWidth.Left:0,Right:t.Right?this.ExtendWidth.Right:0};if(this.Frame.SetExtendWidth(e),t.MultiDay){var i=t.MultiDay,a={Left:i.Left?this.MultiDayExtendWidth.Left:0,Right:i.Right?this.MultiDayExtendWidth.Right:0};this.Frame.SetMultiDayMinuteWidth(a)}}},this.ReloadChartPaint=function(t){for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i&&(i.ReloadResource&&i.ReloadResource(t),0==e?"Minute-Line"==i.Name&&(i.Color=lo.Minute.PriceColor,i.AreaColor=lo.Minute.AreaPriceColor):1==e?"Minute-Average-Line"==i.Name&&(i.Color=lo.Minute.AvPriceColor):2==e&&"Minute-Vol-Bar"==i.Name&&(i.Color=lo.Minute.VolBarColor))}},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.ClickFrameButton=function(t,e){var i=this.GetEventCallback(Rn.ON_CLICK_FRAME_TOOLBAR);if(i&&i.Callback){var a={Info:t,PreventDefault:!1};if(i.Callback(i,a,this),a.PreventDefault)return}if(t.ID==Vn.CLOSE_BEFOREOPEN_ID&&this.ShowCallAuctionData({Left:!1,Right:!1,MultiDay:{Left:!1,Right:!1}}),t.ID==Vn.CLOSE_OVERLAY_INDEX){var r=t.IndexID;r&&this.DeleteOverlayWindowsIndex(r)}else if(t.ID==Vn.MODIFY_OVERLAY_INDEX_PARAM){var r=t.IndexID,n=t.Frame;e.data={Chart:this,Identify:r,IsOverlay:!0},n.ModifyIndexEvent&&n.ModifyIndexEvent(e)}else if(t.ID==Vn.CLOSE_INDEX_WINDOW){var n=t.Frame;this.RemoveIndexWindow(n.Identify)}else if(t.ID==Vn.CHANGE_INDEX){var n=t.Frame;e.data={Chart:this,Identify:n.Identify,IsOverlay:!1},n.ChangeIndexEvent&&n.ChangeIndexEvent(e)}else if(t.ID==Vn.MODIFY_INDEX_PARAM){var n=t.Frame;e.data={Chart:this,Identify:n.Identify,IsOverlay:!1},n.ModifyIndexEvent&&n.ModifyIndexEvent(e)}else if(t.ID==Vn.OVERLAY_INDEX){var n=t.Frame;e.data={Chart:this,Identify:n.Identify,IsOverlay:!0},n.ChangeIndexEvent&&n.ChangeIndexEvent(e)}else if(t.ID==Vn.MAX_MIN_WINDOW){var r=t.IndexID,n=t.Frame,o=t.FrameID;o>=this.Frame.ZoomStartWindowIndex&&this.ZoomIndexWindow(o,null)&&(this.Frame.SetSizeChage(!0),this.Draw())}else if(t.ID==Vn.TITLE_WINDOW){var r=t.IndexID,n=t.Frame,o=t.FrameID;this.ShowIndexTitleOnly(o)&&(this.Frame.SetSizeChage(!0),this.Draw())}else if(t.ID==Vn.EXPORT_DATA){var a=this.ExportData({Type:"CSV"});if(!a)return;var s=Date.now(),l="hqchart_"+this.Symbol+"_"+s+".csv",h=document.createElement("a"),u=new Blob([a],{type:"text/csv"});h.href=URL.createObjectURL(u),document.body.appendChild(h),h.setAttribute("download",l),h.click(),document.body.removeChild(h)}},this.ChartOperator=function(t){var e=t.ID;if(e===Bn.OP_SCROLL_LEFT||e===Bn.OP_SCROLL_RIGHT){if(1==this.DayCount)return!1;if(!this.PageInfo.Enable)return!1;if(!this.DayData)return!1;var i=e===Bn.OP_SCROLL_LEFT,a=1;if(t.Step>0&&(a=t.Step),!this.DayOffset)return!1;if(i){var r=this.DayOffset.Offset;if(r+=a,r+this.DayOffset.ShowDayCount>this.DayOffset.DayCount&&(r=this.DayOffset.DayCount-this.DayOffset.ShowDayCount),r==this.DayOffset.Offset)return!1;this.DayOffset.Offset=r}else{var r=this.DayOffset.Offset;if(r-=a,r<0&&(r=0),r==this.DayOffset.Offset)return!1;this.DayOffset.Offset=r}return this.UpdateHistoryMinuteUI(null),this.SendPageChangedEvent(),!0}if(e==Bn.OP_SCROLL_GOTO){if(1==this.DayCount)return!1;if(!this.PageInfo.Enable)return!1;if(!this.DayData)return!1;if(Ee.IsNumber(t.ShowDayCount)&&(this.PageInfo.ShowDayCount=t.ShowDayCount,this.DayOffset.ShowDayCount=t.ShowDayCount),Ee.IsNumber(t.Offset)){var r=t.Offset;if(this.DayOffset.ShowDayCount>0&&r+this.DayOffset.ShowDayCount>=this.DayOffset.DayCount&&(r=this.DayOffset.DayCount-this.DayOffset.ShowDayCount),r==this.DayOffset.Offset)return!1;this.DayOffset.Offset=r}return this.UpdateHistoryMinuteUI(null),this.SendPageChangedEvent(),!0}if(e==Bn.OP_CORSSCURSOR_GOTO){if(!this.SourceData)return!1;if(!this.Frame||!this.Frame.SubFrame[0]||!this.Frame.SubFrame[0].Frame)return!1;var n=this.Frame.SubFrame[0].Frame;if(!Ee.IsNonEmptyArray(this.SourceData.Data))return!1;if(Ee.IsNumber(t.Time)&&Ee.IsNumber(t.Date)){for(var o=-1,s=null,l=null,h=0;h<this.SourceData.Data.length;++h){var u=this.SourceData.Data[h];if(Ee.IsNumber(u.Close)&&(l=u.Close),u.Time==t.Time&&u.Date==t.Date){o=h,s=u.Close;break}}if(o<0&&1==this.DayCount&&!(Ee.IsNumber(t.Type)&&t.Type>0))for(var c=mo.GetTimeData(this.Symbol),h=0;h<c.length;++h)if(c[h]==t.Time){o=h,s=l;break}if(o<0){if(1==t.Type){var d=-1,f=-1,p={X:d,Y:f,IsInClient:this.IsMouseOnClient(d,f)};this.LastMouseStatus.OnMouseMove=p,this.LastMouseStatus.MoveOnPoint={X:d,Y:f};var m=this.GetEventCallback(Rn.ON_MOUSE_MOVE),C=this.TitlePaint[0];m&&C&&(C.OnMouseMoveEvent=m);var v={clientX:d,clientY:f};this.MoveOnPoint={X:d,Y:f},this.OnMouseMove(d,f,v),this.LastMouseStatus.MoveOnPoint=null,C&&(C.OnMouseMoveEvent=null)}return}}var d=n.GetXFromIndex(o),f=n.GetYFromData(s),p={X:d,Y:f,IsInClient:this.IsMouseOnClient(d,f)};this.LastMouseStatus.OnMouseMove=p,this.LastMouseStatus.MoveOnPoint={X:d,Y:f};var m=this.GetEventCallback(Rn.ON_MOUSE_MOVE),C=this.TitlePaint[0];m&&C&&(C.OnMouseMoveEvent=m),this.MoveOnPoint={X:d,Y:f},this.OnMouseMove(d,f,{}),this.LastMouseStatus.MoveOnPoint=null,C&&(C.OnMouseMoveEvent=null)}},this.SendPageChangedEvent=function(){var t=this.GetEventCallback(Rn.ON_MINUTE_PAGE_CHANGED);if(t&&t.Callback){var e={DayOffset:this.DayOffset,DayData:this.DayData};t.Callback(t,e,this)}},this.IsMouseOnClient=function(t,e){var i=this.Frame.IsHScreen?this.Frame.ChartBorder.GetHScreenBorder():this.Frame.ChartBorder.GetBorder(),a={Left:i.Left,Top:i.Top,Right:i.Right,Bottom:i.Bottom};return t>=a.Left&&t<=a.Right&&e>=a.Top&&e<=a.Bottom},this.OnDragMode_One=function(e,i){var a=this.MouseDrag,r=e.X,n=e.Y;if(this.RectSelectDrag&&this.RectSelectDrag.Index>=0){if(r<5)return;var o={X:i.clientX,Y:i.clientY,PointIndex:this.RectSelectDrag.Index,Name:"MoveRectSelectLine"};this.MoveRectSelectPoint(o)&&(a.LastMove.X=i.clientX,this.Draw())}else{if(r<5&&n<5)return;if(!this.EnableSelectRect)return;this.UIElement.style.cursor="default";var s=a.Click.X-t.getBoundingClientRect().left,l=a.Click.Y-t.getBoundingClientRect().top,h=i.clientX-t.getBoundingClientRect().left,u=i.clientY-t.getBoundingClientRect().top;this.ShowSelectRect(s,l,h,u),a.LastMove.X=i.clientX,a.LastMove.Y=i.clientY}},this.OnMinuteSelectRectMouseUp=function(e){var i=this.MouseDrag;i.LastMove.X=e.clientX,i.LastMove.Y=e.clientY;var a=new I,r=c();if(a.XStart=(i.Click.X-t.getBoundingClientRect().left)*r,a.YStart=(i.Click.Y-t.getBoundingClientRect().top)*r,a.XEnd=(i.LastMove.X-t.getBoundingClientRect().left)*r,a.YEnd=(i.LastMove.Y-t.getBoundingClientRect().top)*r,a.JSChartContainer=this,a.Stock={Symbol:this.Symbol,Name:this.Name},this.EnableSelectRect&&!this.BorderDrag&&this.GetSelectRectData(a)){var n=this.GetEventCallback(Rn.ON_SELECT_RECT),o=this.GetRectSelectPaint(),s=!0;if(n&&n.Callback){var l={X:i.LastMove.X-t.getBoundingClientRect().left,Y:i.LastMove.Y-t.getBoundingClientRect().top,SelectData:a,RectSelectPaint:o};n.Callback(n,l,this),s=!1}s&&this.SelectRectDialog?(e.data={Chart:this,X:i.LastMove.X-t.getBoundingClientRect().left,Y:i.LastMove.Y-t.getBoundingClientRect().top,SelectData:a,RectSelectPaint:o},this.SelectRectDialog.DoModal(e)):(this.HideSelectRect(),this.UpdateSelectRect(a.Start,a.End))}else this.TryClickPaintEvent(Rn.ON_CLICKUP_CHART_PAINT,this.ClickDownPoint,e),this.ClickEvent(e)},this.OnDragSelectRectMouseUp=function(t){var e=this.GetRectSelectPaint();if(e){var i=e.GetSelectRectData();if(i){var a=c(),r=this.ChartCorssCursor,n=r.LastPoint.X/a,o=r.LastPoint.Y/a,s=!0,l=this.GetEventCallback(Rn.ON_DRAG_SELECT_RECT_MOUSEUP);if(l){var h={X:n,Y:o,SelectData:i,RectSelectPaint:e,IsShowDialog:!1};l.Callback(l,h,this),s=h.IsShowDialog}s&&this.SelectRectDialog&&(t.data={Chart:this,X:n,Y:o,SelectData:i,RectSelectPaint:e},this.SelectRectDialog.DoModal(t))}}},this.UpdateSelectRect=function(t,e){if(this.SourceData&&this.SourceData.Data){var i=this.GetRectSelectPaint();if(i){var a=this.SourceData;if(a&&Ee.IsNonEmptyArray(a.Data)){var r=a.Data.length,n=a.Data[t];e>=r&&(e=r-1);var o=a.Data[e];Nn.Chart.Log("[MinuteChartContainer::UpdateSelectRect]",n,o),i.SetPoint(n,{Index:0}),i.SetPoint(o,{Index:1}),this.Draw()}}}},this.MoveRectSelectPoint=function(e){var i=this.GetRectSelectPaint();if(!i)return!1;if(!this.SourceData||!this.SourceData.Data)return!1;var a=this.SourceData;if(!this.Frame.SubFrame[0])return!1;var r=this.Frame.SubFrame[0].Frame,n=c(),o=(e.X-t.getBoundingClientRect().left)*n,s=r.GetXData(o);s=parseInt(s.toFixed(0));var l=s+a.DataOffset;l>=a.Data.length&&(l=a.Data.length-1);var h=a.Data[l];if(Nn.Chart.Log("[MinuteChartContainer::MoveRectSelectPoint] point, item",e.PointIndex,h),!i.SetPoint(h,{Index:e.PointIndex}))return!1;var u=this.GetEventCallback(Rn.ON_DRAG_SELECT_RECT);if(u){var d=i.GetSelectRectData(),f={X:e.X,Y:e.Y,SelectData:d,RectSelectPaint:i};u.Callback(u,f,this)}return!0},this.GetLastCursorIndex=function(t){if(1==t.DataType)for(var e=t.Data.length-1;e>=0;--e){var i=t.Data[e];if(i&&i.DayItem&&i.DayItem.Data)return t.IndexData.DayIndex=0,t.IndexData.DataIndex=i.DayItem.Data.length-1,void(t.IndexData.Type=i.Type)}else if(2==t.DataType)for(var e=t.Data.length-1;e>=0;--e)for(var a=t.Data[e],r=a.length-1;r>=0;--r){var i=a[r];if(i&&i.DayItem&&i.DayItem.Data)return t.IndexData.DayIndex=e,t.IndexData.DataIndex=i.DayItem.Data.length-1,void(t.IndexData.Type=i.Type)}},this.GetFirstCursorIndex=function(t){if(1==t.DataType)for(var e=0;e<t.Data.length;++e){var i=t.Data[e];if(i&&i.DayItem&&i.DayItem.Data)return t.IndexData.DayIndex=0,t.IndexData.DataIndex=0,void(t.IndexData.Type=i.Type)}else if(2==t.DataType)for(var e=0;e<t.Data.length;++e)for(var a=t.Data[e],r=0;r<a.length;++r){var i=a[r];if(i&&i.DayItem&&i.DayItem.Data)return t.IndexData.DayIndex=e,t.IndexData.DataIndex=0,void(t.IndexData.Type=i.Type)}},this.GetAfterCloseData=function(){var t=null;return this.AfterCloseData&&this.IsShowAfterData&&(t=this.AfterCloseData),t},this.GetBeforeOpenData=function(){var t=null;return this.BeforeOpenData&&this.IsShowBeforeData&&(t=this.BeforeOpenData),t},this.MoveCorssCursorIndex=function(t){if(!this.EnableNewIndex)return!1;if(!this.Frame.SubFrame[0]||!this.Frame.SubFrame[0].Frame)return!1;var e=this.Frame.SubFrame[0].Frame;if(1==this.CorssCursorIndex.Type||2==this.CorssCursorIndex.Type||3==this.CorssCursorIndex.Type||-1==this.CorssCursorIndex.Type){var i=[],a=this.GetBeforeOpenData();i.push({DayItem:a,Type:2});var a=null;this.SourceData&&(a=this.SourceData),i.push({DayItem:a,Type:1});var a=this.GetAfterCloseData();i.push({DayItem:a,Type:3});var r={DataType:1,Data:i,IndexData:this.CorssCursorIndex,Point:{X:null,Y:null}},n=1;if(t.IsMoveLeft){if(this.CorssCursorIndex.DayIndex<0&&this.CorssCursorIndex.DataIndex<0&&(this.GetLastCursorIndex(r),n=0),e.MoveXIndexLeft(n,r)){this.LastPoint.X=r.Point.X,this.LastPoint.Y=r.Point.Y,1==this.CorssCursorIndex.Type&&(this.CursorIndex=this.CorssCursorIndex.CursorIndex);var t={ParentFunction:"MoveCorssCursorIndex",Point:{X:r.Point.X,Y:r.Point.Y},IsPhone:!1,ClientPos:this.CorssCursorIndex.Type};this.DrawDynamicInfo(t)}}else if(this.CorssCursorIndex.DayIndex<0&&this.CorssCursorIndex.DataIndex<0&&(this.GetFirstCursorIndex(r),n=0),e.MoveXIndexRight(n,r)){this.LastPoint.X=r.Point.X,this.LastPoint.Y=r.Point.Y,1==this.CorssCursorIndex.Type&&(this.CursorIndex=this.CorssCursorIndex.CursorIndex);var t={ParentFunction:"MoveCorssCursorIndex",Point:{X:r.Point.X,Y:r.Point.Y},IsPhone:!1,ClientPos:this.CorssCursorIndex.Type};this.DrawDynamicInfo(t)}}else if(10==this.CorssCursorIndex.Type||20==this.CorssCursorIndex.Type||30==this.CorssCursorIndex.Type||-2==this.CorssCursorIndex.Type){var i=[],o=0,s=this.DayData.length;this.DayOffset&&(Ee.IsNumber(this.DayOffset.Offset)&&(o=this.DayOffset.Offset),Ee.IsNumber(this.DayOffset.ShowDayCount)&&(s=this.DayOffset.ShowDayCount));for(var l=o,h=0;l<this.DayData.length&&h<s;++l,++h){var u=[],a=null;this.MultiDayBeforeOpenData&&this.IsShowMultiDayBeforeData&&(a=this.MultiDayBeforeOpenData[l]),u.push({DayItem:a,Type:20});var a=null;this.DayData&&(a=this.DayData[this.DayData.length-1-l]),u.push({DayItem:a,Type:10});var a=null;this.MultiDayAfterCloseData&&this.IsShowMultiDayAfterData&&(a=this.MultiDayAfterCloseData[l]),u.push({DayItem:a,Type:30}),i.push(u)}var r={DataType:2,Data:i,IndexData:this.CorssCursorIndex,Point:{X:null,Y:null}},n=1;if(t.IsMoveLeft){if(this.CorssCursorIndex.DayIndex<0&&this.CorssCursorIndex.DataIndex<0&&(this.GetLastCursorIndex(r),n=0),e.MoveXIndexLeft(n,r)){this.LastPoint.X=r.Point.X,this.LastPoint.Y=r.Point.Y,10==this.CorssCursorIndex.Type&&(this.CursorIndex=this.CorssCursorIndex.CursorIndex);var t={ParentFunction:"MoveCorssCursorIndex",Point:{X:r.Point.X,Y:r.Point.Y},IsPhone:!1,ClientPos:null};10==this.CorssCursorIndex.Type?t.ClientPos=1:20==this.CorssCursorIndex.Type?t.ClientPos=this.CorssCursorIndex.DayIndex+200:30==this.CorssCursorIndex.Type&&(t.ClientPos=this.CorssCursorIndex.DayIndex+300),this.DrawDynamicInfo(t)}}else if(this.CorssCursorIndex.DayIndex<0&&this.CorssCursorIndex.DataIndex<0&&(this.GetFirstCursorIndex(r),n=0),e.MoveXIndexRight(n,r)){this.LastPoint.X=r.Point.X,this.LastPoint.Y=r.Point.Y,10==this.CorssCursorIndex.Type&&(this.CursorIndex=this.CorssCursorIndex.CursorIndex);var t={ParentFunction:"MoveCorssCursorIndex",Point:{X:r.Point.X,Y:r.Point.Y},IsPhone:!1,ClientPos:null};10==this.CorssCursorIndex.Type?t.ClientPos=1:20==this.CorssCursorIndex.Type?t.ClientPos=this.CorssCursorIndex.DayIndex+200:30==this.CorssCursorIndex.Type&&(t.ClientPos=this.CorssCursorIndex.DayIndex+300),this.DrawDynamicInfo(t)}}},this.SetCorssCursorIndex=function(t){if(this.EnableNewIndex&&(Nn.Chart.Log("[MinuteChartContainer::SetCorssCursorIndex] option ",t),"OnMouseMove"==t.ParentFunction)){this.CorssCursorIndex.Point.X=t.Point.X,this.CorssCursorIndex.Point.Y=t.Point.Y;var e=this.PtInClient_V2(t.Point.X,t.Point.Y);if(Nn.Chart.Log("[MinuteChartContainer::SetCorssCursorIndex] clientPos ",e),e<=0)return void(this.CorssCursorIndex={DayIndex:-1,DataIndex:-1,Point:{X:-1,Y:-1},Type:e});if(!this.Frame.SubFrame[0]||!this.Frame.SubFrame[0].Frame)return void(this.CorssCursorIndex={DayIndex:-1,DataIndex:-1,Point:{X:-1,Y:-1},Type:-1});var i=this.Frame.SubFrame[0].Frame;if(1==e||2==e||3==e){if(this.CorssCursorIndex.DayIndex=0,this.CorssCursorIndex.Type=e,2==e)i.GetLeftExtendXValidData(t.Point.X,{Data:this.BeforeOpenData,IndexData:this.CorssCursorIndex});else if(3==e)i.GetRightExtendXValidData(t.Point.X,{Data:this.AfterCloseData,IndexData:this.CorssCursorIndex});else if(1==e){var a=i.GetXData(t.Point.X);this.CorssCursorIndex.DataIndex=parseInt(a.toFixed(0))}}else if(e>=100&&e<=199){this.CorssCursorIndex.DayIndex=e-100,this.CorssCursorIndex.Type=10;var a=i.GetXData(t.Point.X),r=parseInt(a.toFixed(0));this.CorssCursorIndex.DataIndex=r%i.MinuteCount}else if(e>=200&&e<=299){this.CorssCursorIndex.DayIndex=e-200,this.CorssCursorIndex.Type=20;var n=this.MultiDayBeforeOpenData;if(this.DayOffset){var o=0,s=this.MultiDayBeforeOpenData.length;Ee.IsNumber(this.DayOffset.Offset)&&(o=this.DayOffset.Offset),Ee.IsNumber(this.DayOffset.ShowDayCount)&&(s=this.DayOffset.ShowDayCount),n=this.MultiDayBeforeOpenData.slice(o,o+s)}i.GetLeftExtendXValidData(t.Point.X,{Data:n,IndexData:this.CorssCursorIndex})}else if(e>=300&&e<=399){this.CorssCursorIndex.DayIndex=e-300,this.CorssCursorIndex.Type=30;var n=this.MultiDayAfterCloseData;if(this.DayOffset&&this.MultiDayAfterCloseData){var o=0,s=this.MultiDayAfterCloseData.length;Ee.IsNumber(this.DayOffset.Offset)&&(o=this.DayOffset.Offset),Ee.IsNumber(this.DayOffset.ShowDayCount)&&(s=this.DayOffset.ShowDayCount),n=this.MultiDayAfterCloseData.slice(o,o+s)}i.GetRightExtendXValidData(t.Point.X,{Data:n,IndexData:this.CorssCursorIndex})}this.LastPoint.X=this.CorssCursorIndex.Point.X,t.Point.X=this.CorssCursorIndex.Point.X}},this.PtInClient_V2=function(t,e){if(this.Canvas.beginPath(),!0===this.Frame.IsHScreen){var i=this.Frame.ChartBorder.GetHScreenBorder();this.Canvas.rect(i.Left,i.TopEx,i.Right-i.Left,i.BottomEx-i.TopEx)}else{var i=this.Frame.ChartBorder.GetBorder();if(i.DayBorder){for(var a=0;a<i.DayBorder.length;++a){var r=i.DayBorder[a];if(this.Canvas.beginPath(),this.Canvas.rect(r.LeftEx,i.TopEx,r.RightEx-r.LeftEx,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 100+a;if(this.Canvas.beginPath(),this.Canvas.rect(r.Left,i.TopEx,r.LeftEx-r.Left,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 200+a;if(this.Canvas.beginPath(),this.Canvas.rect(r.RightEx,i.TopEx,r.Right-r.RightEx,i.BottomEx-i.TopEx),this.Canvas.isPointInPath(t,e))return 300+a}return-2}this.Canvas.rect(i.LeftEx,i.Top,i.RightEx-i.LeftEx,i.Bottom-i.Top)}return this.Canvas.isPointInPath(t,e)?1:this.Frame.ChartBorder.LeftExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.Top,i.Right-i.Left,i.TopEx-i.Top):this.Canvas.rect(i.Left,i.Top,i.LeftEx-i.Left,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?2:this.Frame.ChartBorder.RightExtendWidth>10&&(this.Canvas.beginPath(),!0===this.Frame.IsHScreen?this.Canvas.rect(i.Left,i.BottomEx,i.Right-i.Left,i.Bottom-i.BottomEx):this.Canvas.rect(i.RightEx,i.Top,i.Right-i.RightEx,i.Bottom-i.Top),this.Canvas.isPointInPath(t,e))?3:-1},this.OnTouchStart=function(e){if(0!=this.DragMode&&(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash))if(this.IsOnTouch=!0,this.TouchDrawCount=0,this.PhonePinch=null,this.StopDragTimer(),0==this.EnableScrollUpDown&&e.preventDefault(),this.IsPhoneDragging(e)){var i={Click:{},LastMove:{}},a=this.GetToucheData(e,this.IsForceLandscape),r=this.PointAbsoluteToRelative(a[0].clientX,a[0].clientY,!0);if(this.TryClickLock||this.TryClickIndexTitle){var n=r.X,o=r.Y;if(this.TryClickLock&&this.TryClickLock(n,o))return;if(this.TryClickIndexTitle&&this.TryClickIndexTitle(n,o))return}if(this.ClickFrameButton){var s=this.Frame.PtInButtons(r.X,r.Y);if(s)return void this.ClickFrameButton(s,e)}i.Click.X=a[0].clientX,i.Click.Y=a[0].clientY,i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY;var l=this,h=function(){if(!0===l.ChartCorssCursor.IsShow){var a=c(),r=i.Click.X-t.getBoundingClientRect().left*a,n=i.Click.Y-t.getBoundingClientRect().top*a;l.OnMouseMove(r,n,e)}};if(this.ChartDrawOption.IsLockScreen){if(this.MouseDrag=i,this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.IsSelected=!1),this.SelectChartDrawPicture=null,this.CurrentChartDrawPicture){var u=this.CurrentChartDrawPicture;return 2==u.Status?this.SetChartDrawPictureThirdPoint(i.Click.X,i.Click.Y,!0):(this.SetChartDrawPictureFirstPoint(i.Click.X,i.Click.Y,!0),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo({Corss:!1,Tooltip:!1})),void(e.cancelable&&e.preventDefault())}var d={};c();if(d.X=a[0].clientX-t.getBoundingClientRect().left,d.Y=a[0].clientY-t.getBoundingClientRect().top,this.GetChartDrawPictureByPoint(d)){d.ChartDrawPicture.Status=20,d.ChartDrawPicture.ValueToPoint(),d.ChartDrawPicture.MovePointIndex=d.PointIndex,d.ChartDrawPicture.IsSelected=!0,this.CurrentChartDrawPicture=d.ChartDrawPicture,this.SelectChartDrawPicture=d.ChartDrawPicture;var f=this.GetEventCallback(Rn.ON_CLICK_DRAWPICTURE);if(f&&f.Callback){var p={DrawPicture:d.ChartDrawPicture};f.Callback(f,p,this)}return void(e.cancelable&&e.preventDefault())}}else 1==this.EnableScrollUpDown&&(this.DragTimer=setTimeout(function(){if(i.Click.X==i.LastMove.X&&i.Click.Y==i.LastMove.Y){l.MouseDrag;l.MouseDrag=null,h(),l.PreventTouchEvent(e)}},800)),this.MouseDrag=i,this.PhoneTouchInfo={Start:{X:a[0].clientX,Y:a[0].clientY},End:{X:a[0].clientX,Y:a[0].clientY}},this.SelectChartDrawPicture=null,0==this.EnableScrollUpDown&&h();this.EnableZoomIndexWindow&&(this.PhoneDBClick.AddTouchStart(a[0].clientX,a[0].clientY,Date.now()),Nn.Chart.Log("[MinuteChartContainer::OnTouchStart] PhoneDBClick ",this.PhoneDBClick)),this.TouchEvent({EventID:Rn.ON_PHONE_TOUCH,FunctionName:"OnTouchStart"},e)}else if(this.IsPhonePinching(e)){var m={Start:{},Last:{}},a=this.GetToucheData(e,this.IsForceLandscape);m.Start={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},m.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},this.PhonePinch=m,this.SelectChartDrawPicture=null}},this.OnTouchMove=function(e){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var i=this.GetToucheData(e,this.IsForceLandscape);if(this.IsPhoneDragging(e)){var a=this.MouseDrag;if(null==a){var r=c(),n=i[0].clientX-t.getBoundingClientRect().left*r,o=i[0].clientY-t.getBoundingClientRect().top*r;this.OnMouseMove(n,o,e)}else{var s=this.GetMoveAngle(a.LastMove,{X:i[0].clientX,Y:i[0].clientY}),l=Math.abs(a.LastMove.X-i[0].clientX),h=Math.abs(a.LastMove.Y-i[0].clientY);if(l=parseInt(l),this.CurrentChartDrawPicture){var u=this.CurrentChartDrawPicture;if(1==u.Status||2==u.Status){if(l<5&&h<5)return;this.SetChartDrawPictureSecondPoint(i[0].clientX,i[0].clientY,!0)&&this.DrawDynamicInfo()}else if(3==u.Status)this.SetChartDrawPictureThirdPoint(i[0].clientX,i[0].clientY,!0)&&this.DrawDynamicInfo();else if(20==u.Status){if(l<5&&h<5)return;this.MoveChartDrawPicture(i[0].clientX-a.LastMove.X,i[0].clientY-a.LastMove.Y,!0)&&this.DrawDynamicInfo()}a.LastMove.X=i[0].clientX,a.LastMove.Y=i[0].clientY}else{if((h>0&&l<=3||s<=this.TouchMoveMinAngle)&&1==this.EnableScrollUpDown)return void this.StopDragTimer();this.PreventTouchEvent(e),this.MouseDrag=null;var r=c(),n=i[0].clientX-t.getBoundingClientRect().left*r,o=i[0].clientY-t.getBoundingClientRect().top*r;this.OnMouseMove(n,o,e)}}this.PhoneTouchInfo&&(this.PhoneTouchInfo.End.X=i[0].clientX,this.PhoneTouchInfo.End.Y=i[0].clientY)}else if(this.IsPhonePinching(e)){this.PreventTouchEvent(e);var d=this.PhonePinch;if(!d)return;var f=Math.abs(i[0].pageY-i[1].pageY),p=Math.abs(d.Last.Y-d.Last.Y2),m=f-p,C=Math.abs(i[0].pageX-i[1].pageX),v=Math.abs(d.Last.X-d.Last.X2),D=C-v,g=this.ZoomStepPixel;if(Math.abs(D)>g){var S=this.GetEventCallback(Rn.ON_MINUTE_TOUCH_ZOOM);if(S&&S.Callback){var x={XStep:D,YStep:m,PreventDefault:!1};if(S.Callback(S,x,this),x.PreventDefault)return this.PhonePinch=null,void this.StopDragTimer()}}d.Last={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY}}0==this.EnableScrollUpDown?e.preventDefault():null==a?this.PreventTouchEvent(e):this.StopDragTimer()}},this.OnTouchEnd=function(t){if(Nn.Chart.Log("[MinuteChartContainer::OnTouchEnd]",t),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){if(this.CurrentChartDrawPicture){var e=this.CurrentChartDrawPicture;2==e.Status||1==e.Status||3==e.Status?(e.PointStatus=e.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():!1):20==e.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}if(this.EnableZoomIndexWindow){var i=Date.now();this.PhoneDBClick.AddTouchEnd(i),this.PhoneDBClick.IsVaildDBClick()&&(this.OnTouchDBClick(this.PhoneDBClick.Start),this.PhoneDBClick.Clear())}this.IsOnTouch=!1,this.StopDragTimer(),this.TouchEvent({EventID:Rn.ON_PHONE_TOUCH,FunctionName:"OnTouchEnd"},t),this.OnTouchFinished(),this.TouchDrawCount=0}},this.OnKeyDown=function(t){if(this.StopDisplayLatest(),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){switch(t.keyCode?t.keyCode:t.which){case 37:if(this.EnableNewIndex)this.MoveCorssCursorIndex({IsMoveLeft:!0});else{if(!Ee.IsNumber(this.CursorIndex)){var e=0;e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,this.CursorIndex=e-1}if(this.CursorIndex=parseInt(this.CursorIndex),this.CursorIndex<=.99999){if(!this.DataMoveLeft())break;this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw()}else--this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo()}break;case 39:if(this.EnableNewIndex)this.MoveCorssCursorIndex({IsMoveLeft:!1});else{var e=0;if(e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount,Ee.IsNumber(this.CursorIndex)||(this.CursorIndex=0),this.CursorIndex=parseInt(this.CursorIndex),this.CursorIndex+1>=e){if(!this.DataMoveRight())break;this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw()}else{var i=null;if(!(i=this.Frame.Data?this.Frame.Data:this.Frame.SubFrame[0].Frame.Data))break;if(this.CursorIndex+i.DataOffset+1>=i.Data.length)break;++this.CursorIndex,this.UpdatePointByCursorIndex(),this.DrawDynamicInfo()}}break;case 46:if(this.SelectChartDrawPicture){var a=this.SelectChartDrawPicture;Nn.Chart.Log(a,"drawPicturedrawPicturedrawPicture"),this.SelectChartDrawPicture=null,this.ClearChartDrawPicture(a)}else if(this.SelectedChart&&this.SelectedChart.Selected.Identify){var r=this.GetSelectedChartInfo(this.SelectedChart.Selected);r&&(r.Type==eo.OVERLAY_INDEX?this.DeleteOverlayWindowsIndex(r.IndexID):r.Type==eo.OVERLAY_MINUTE&&this.DeleteOverlaySymbol(r.Symbol))}break;case 32:this.OnMarkRectSelect(t);break;case 33:if(this.PageInfo.Enable){var n={ID:Bn.OP_SCROLL_LEFT,Step:this.PageInfo.ShowDayCount};this.ChartOperator(n)}break;case 34:if(this.PageInfo.Enable){var n={ID:Bn.OP_SCROLL_RIGHT,Step:this.PageInfo.ShowDayCount};this.ChartOperator(n)}break;default:return}t.preventDefault?t.preventDefault():t.returnValue=!1}},this.OnMarkRectSelect=function(t){var e=this.ChartCorssCursor;if(e&&0!=e.Status&&Ee.IsNumber(e.CursorIndex)&&this.SourceData&&this.SourceData.Data){var i=this.GetRectSelectPaint();if(i){var a=e.CursorIndex;Nn.Chart.Log("[MinuteChartContainer::OnMarkRectSelect] dataIndex",a);var r=this.SourceData;a=parseInt(a.toFixed(0));var n=a+r.DataOffset;n>=r.Data.length&&(n=r.Data.length-1);var o=r.Data[n];if(Nn.Chart.Log("[MinuteChartContainer::OnMarkRectSelect] item",o),this.SetRectSelectData(o)){var s=i.GetPointCount(),l=c();if(1==s){var h=this.GetEventCallback(Rn.ON_KEYDOWN_SELECT_RECT_FIRST);if(h&&h.Callback){var u={X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,Item:o,Index:n,RectSelectPaint:i};h.Callback(h,u,this)}}else if(2==s){var d=i.GetSelectRectData(),h=this.GetEventCallback(Rn.ON_KEYDOWN_SELECT_RECT);if(h&&h.Callback){var u={X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,SelectData:d,RectSelectPaint:i};h.Callback(h,u,this)}this.SelectRectDialog&&(t.data={Chart:this,X:e.LastPoint.X/l,Y:e.LastPoint.Y/l,SelectData:d,RectSelectPaint:i},this.SelectRectDialog.DoModal(t))}this.Draw()}}}},this.OnRightMenu=function(t,e,i){if(this.RightMenu){var a=this.Frame.PtInFrame(t,e);i.data={Chart:this,FrameID:a},this.RightMenu.DoModal(i)}var r=this.GetEventCallback(Rn.ON_CONTEXT_MENU);if(r){var a=this.Frame.PtInFrame(t,e),n={X:t,Y:e,Event:i,FrameID:a};r.Callback(r,n,this)}},this.OnWheel=function(t){Nn.Chart.Log("[MinuteChartContainer::OnWheel]",t)},this.OnDoubleClick=function(t,e,i){Nn.Chart.Log("[MinuteChartContainer::OnDoubleClick]",i),null!=this.ClickChartTimer&&(clearTimeout(this.ClickChartTimer),this.ClickChartTimer=null);var a;this.SelectedChart.EnableSelected&&(a=this.PtInChart(t,e));var r={SelectedChart:a};if(this.DBClickEvent(r,i),!a&&this.EnableZoomIndexWindow){var n=this.Frame.PtInFrame(t,e);Nn.Chart.Log("[MinuteChartContainer::OnDoubleClick] frameId",n),n>=this.Frame.ZoomStartWindowIndex&&this.ZoomIndexWindow(n,{X:t,Y:e})&&(this.Frame.SetSizeChage(!0),this.Draw())}},this.GetDataItem=function(t){if(!t)return null;if(!Ee.IsNumber(t.Index))return null;if(!this.SourceData||!this.SourceData.Data)return null;var e=this.SourceData,i=t.ClientPos;if(2==i||3==i||i>=200&&i<=299||i>=300&&i<=399){if(!this.ChartCorssCursor||!this.ChartCorssCursor.CallAcutionXOperator)return null;var a=!0===this.Frame.IsHScreen,r=this.ChartCorssCursor.CallAcutionXOperator;if(r.Value=a?t.Point.Y:t.Point.X,r.Point={X:t.Point.X,Y:t.Point.Y},r.ClientPos=i,2==i){if(!this.BeforeOpenData)return null}else if(3==i){if(!this.AfterCloseData)return null}else if(i>=200&&i<=299){if(!this.MultiDayBeforeOpenData||!Ee.IsNonEmptyArray(this.MultiDayBeforeOpenData))return}else if(i>=300&&tclientPos<=399&&(!this.MultiDayAfterCloseData||!Ee.IsNonEmptyArray(this.MultiDayAfterCloseData)))return;if(r.Operator()){var n=r.Item;return{Type:i,Item:n,Index:r.DataIndex}}return null}var o=parseInt(t.Index.toFixed(0)),s=o+e.DataOffset;if(s>=e.Data.length)return null;var n=e.Data[s];return{Type:i,Item:n,Index:s}},this.UpdatePointByCursorIndex=function(){this.LastPoint.X=this.Frame.GetXFromIndex(this.CursorIndex);var t=this.CursorIndex;t=parseInt(t.toFixed(0));var e=this.Frame.SourceData;if(!(e.DataOffset+t>=e.Data.length)){var i=e.Data[e.DataOffset+t],a=null;a=i.Before?i.Before.Close:i.Close,this.LastPoint.Y=this.Frame.GetYFromData(a)}},this.Create=function(t,e){var i=this;this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new Re,this.ChartCorssCursor.PtInClient=function(t,e){return i.PtInClient(t,e)},this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=no.Create("CorssCursor_Minute_XStringFormat"),this.ChartCorssCursor.StringFormatX.GetEventCallback=function(t){return i.GetEventCallback(t)},this.ChartCorssCursor.StringFormatY=no.Create("CorssCursor_YStringFormat"),this.ChartCorssCursor.StringFormatY.GetEventCallback=function(t){return i.GetEventCallback(t)},this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY.ShareAfterVol=this.ShareAfterVol,this.ChartCorssCursor.CallAcutionXOperator=new Pe,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new H,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=25,this.Frame.ChartBorder.TitleHeight=0,this.Frame.ChartBorder.Left=50,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.Frame.GetExtendChartRightWidth=function(){return i.GetExtendChartRightWidth()},this.Frame.GetEventCallback=function(t){return i.GetEventCallback(t)},this.Frame.ZoomStartWindowIndex=2,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine(),this.CreateExtendChart("RectSelectPaint",e?e.SelectRect:null),this.EnableIndexChartDrag&&this.CreateExtendChart("DragMovePaint");for(var a in this.Frame.SubFrame){var r=new ii;r.Frame=this.Frame.SubFrame[a].Frame,r.Canvas=this.Canvas,r.LanguageID=this.LanguageID,r.GetEventCallback=function(t){return i.GetEventCallback(t)},r.SelectedChart=this.SelectedChart,this.TitlePaint.push(r)}this.ChartCorssCursor.StringFormatX.Frame=this.Frame.SubFrame[0].Frame,this.ChartCorssCursor.StringFormatY.Frame=this.Frame,this.ChartCorssCursor.CallAcutionXOperator&&(this.ChartCorssCursor.CallAcutionXOperator.Frame=this.Frame.SubFrame[0].Frame);var n=!0,o=!0;if(e&&e.Listener){var s=e.Listener;!1===s.KeyDown&&(n=!1,Nn.Chart.Log("[MinuteChartContainer::Create] not register keydown event.")),!1===s.Wheel&&(o=!1,Nn.Chart.Log("[MinuteChartContainer::Create] not register wheel event."))}n&&this.UIElement.addEventListener("keydown",function(t){i.OnKeyDown(t)},!0),o&&this.UIElement.addEventListener("wheel",function(t){i.OnWheel(t)},!0)},this.CreateChildWindow=function(t){for(var e=this,i=this.GetEventCallback(Rn.ON_CREATE_FRAME),a=0;a<t;++a){var r=new w;r.UIElement=this.UIElement;var n=new A;n.Canvas=this.Canvas,n.ChartBorder=r,n.Identify=a,n.GlobalOption=this.GlobalOption,a<2&&(n.ChartBorder.TitleHeight=0),n.XPointCount=243,a>=2&&(this.ModifyIndexDialog&&(n.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(n.ChangeIndexEvent=this.ChangeIndexDialog.DoModal));var o=[9,8,7,6,5,4,3,2,1];n.HorizontalMax=o[0],n.HorizontalMin=o[o.length-1],0==a?(n.YSplitOperator=new Ae,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},n.YSplitOperator.DayOffset=this.DayOffset,n.YSplitOperator.GlobalOption=this.GlobalOption,n.YSplitOperator.HQChart=this):(n.YSplitOperator=new Le,n.YSplitOperator.LanguageID=this.LanguageID,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),n.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},1==a&&(n.YSplitOperator.ShareAfterVol=this.ShareAfterVol)),n.YSplitOperator.Frame=n,n.YSplitOperator.ChartBorder=r,n.XSplitOperator=new Oe,n.XSplitOperator.Frame=n,n.XSplitOperator.ChartBorder=r,n.XSplitOperator.DayOffset=this.DayOffset,n.XSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},a!=t-1&&(n.XSplitOperator.ShowText=!1),n.XSplitOperator.Operator();for(var s in o)n.HorizontalInfo[s]=new T,n.HorizontalInfo[s].Value=o[s],0==a&&s==n.HorizontalMin||(n.HorizontalInfo[s].Message[1]=o[s].toString(),n.HorizontalInfo[s].Font="14px 微软雅黑");var l=new V;if(l.Frame=n,l.Height=0==a?20:10,this.Frame.SubFrame[a]=l,i&&i.Callback){var h={SubFrame:this.Frame.SubFrame[a],WindowIndex:a};i.Callback(i,h,this)}}},this.CreateSubFrameItem=function(t,e){var i=this,a=new w;if(a.UIElement=this.UIElement,e&&e.ChartBorder&&e.ChartBorder.MultiDayMinute){var r=e.ChartBorder.MultiDayMinute;a.MultiDayMinute.Count=r.Count,a.MultiDayMinute.Left=r.Left,a.MultiDayMinute.Right=r.Right}var n=null;n="MinuteChartHScreenContainer"==this.ClassName?new O:new A,n.Canvas=this.Canvas,n.ChartBorder=a,n.Identify=t,n.XPointCount=243,n.GlobalOption=this.GlobalOption,t>=2&&(this.ModifyIndexDialog&&(n.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(n.ChangeIndexEvent=this.ChangeIndexDialog.DoModal));var o=[9,8,7,6,5,4,3,2,1];n.HorizontalMax=o[0],n.HorizontalMin=o[o.length-1],n.YSplitOperator=new Le,n.YSplitOperator.LanguageID=this.LanguageID,n.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),n.YSplitOperator.Frame=n,n.YSplitOperator.ChartBorder=a,n.XSplitOperator=new Oe,n.XSplitOperator.Frame=n,n.XSplitOperator.ChartBorder=a,n.XSplitOperator.ShowText=!1,n.XSplitOperator.DayOffset=this.DayOffset,n.XSplitOperator.GetEventCallback=function(t){return i.GetEventCallback(t)},n.YSplitOperator.GetEventCallback=function(t){return i.GetEventCallback(t)},n.XSplitOperator.Symbol=this.Symbol,this.DayCount>1&&(n.XSplitOperator.DayCount=this.DayData.length,n.XSplitOperator.DayData=this.DayData,n.DayCount=this.DayData.length);var s=this.Frame.SubFrame[0].Frame.XPointCount;n.XPointCount=s,n.Data=this.ChartPaint[0].Data;for(var l in o)n.HorizontalInfo[l]=new T,n.HorizontalInfo[l].Value=o[l],n.HorizontalInfo[l].Message[1]=o[l].toString(),n.HorizontalInfo[l].Font="14px 微软雅黑";var h=new V;h.Frame=n,h.Height=10;var u=this.GetEventCallback(Rn.ON_CREATE_FRAME);if(u&&u.Callback){var c={SubFrame:h,WindowIndex:t};u.Callback(u,c,this)}return h},this.AddNewSubFrame=function(t){var e=this,i=this.Frame.SubFrame[0].Frame,a=this.Frame.SubFrame.length,r=this.CreateSubFrameItem(a,i),n=c();r.Frame.ChartBorder.TitleHeight*=n,this.Frame.SubFrame[a]=r;var o=new ii;o.Frame=this.Frame.SubFrame[a].Frame,o.Canvas=this.Canvas,o.LanguageID=this.LanguageID,o.GetEventCallback=function(t){return e.GetEventCallback(t)},this.TitlePaint[a+1]=o,this.SetSubFrameOption(r,t);for(var s=0;s<this.Frame.SubFrame.length;++s){var l=this.Frame.SubFrame[s].Frame;s==this.Frame.SubFrame.length-1?l.XSplitOperator.ShowText=!0:l.XSplitOperator.ShowText=!1}return this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.UpdateXShowText&&this.UpdateXShowText(),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw(),a},this.UpdateXShowText=function(){for(var t=!0,e=this.Frame.SubFrame.length-1;e>=0;--e){var i=this.Frame.SubFrame[e].Frame,a=this.Frame.SubFrame[e];t?(i.XSplitOperator.ShowText=!0,a.Height>0&&(t=!1)):i.XSplitOperator.ShowText=!1}},this.DeleteIndexPaint=function(t,e){var i=new Array;for(var a in this.ChartPaint){var r=this.ChartPaint[a];0==a||r.ChartFrame!=this.Frame.SubFrame[t].Frame?i.push(r):!0===e&&r&&r.OnDestroy&&r.OnDestroy()}var n=this.Frame.SubFrame[t].Frame;n.YSpecificMaxMin=null,n.IsLocked=!1,n.YSplitOperator.SplitType=n.YSplitOperator.DefaultSplitType,this.ChartPaint=i;var o=t+1;this.TitlePaint[o].Data=[],this.TitlePaint[o].Title=null},this.CreateStockInfo=function(){this.ExtendChartPaint[0]=new me,this.ExtendChartPaint[0].Canvas=this.Canvas,this.ExtendChartPaint[0].ChartBorder=this.Frame.ChartBorder,this.ExtendChartPaint[0].ChartFrame=this.Frame,this.Frame.ChartBorder.Right=300},this.CreateMainKLine=function(){var t=this,e=qn.Create("ChartMinutePriceLine");e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Minute-Line",e.Identify="Minute-Line",e.Color=lo.Minute.PriceColor,e.LineWidth=lo.Minute.PriceLineWidth,e.AreaColor=lo.Minute.AreaPriceColor,e.GetEventCallback=function(e){return t.GetEventCallback(e)},this.ChartPaint[0]=e;var i=new Ot;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,i.ChartFrame=this.Frame.SubFrame[0].Frame,i.Name="Minute-Average-Line",i.Identify="Minute-Average-Line",i.Color=lo.Minute.AvPriceColor,i.IsDrawArea=!1,this.ChartPaint[1]=i;var a=qn.Create("ChartMinuteVolumBar");a.Color=lo.Minute.VolBarColor,a.Canvas=this.Canvas,a.ChartBorder=this.Frame.SubFrame[1].Frame.ChartBorder,a.ChartFrame=this.Frame.SubFrame[1].Frame,a.Name="Minute-Vol-Bar",a.Identify="Minute-Vol-Bar",a.ShareAfterVol=this.ShareAfterVol,this.ChartPaint[2]=a,this.TitlePaint[0]=new ti,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.TitlePaint[0].LanguageID=this.LanguageID,this.TitlePaint[0].CallAcutionXOperator=new Pe,this.TitlePaint[0].CallAcutionXOperator.Frame=this.Frame.SubFrame[0].Frame},this.ChangeScriptIndex=function(t,e,i){this.DeleteIndexPaint(t,!0),this.WindowIndex[t]=new Lr(e.Name,e.Script,e.Args,e);var a=this.SourceData;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeAPIIndex=function(t,e){this.DeleteIndexPaint(t,!0);var i=e.API;this.WindowIndex[t]=new Ar(i.Name,i.Script,i.Args,e),e&&e.Window&&this.SetFrameToolbar(t,e.Window),this.Frame.ClearUpDonwFrameYData({Index:t});var a=this.ChartPaint[0].Data;this.BindIndexData(t,a),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()},this.ChangeIndex=function(t,e,i){if(!(this.Frame.SubFrame.length<3)){if(i&&i.API)return this.ChangeAPIIndex(t,i);var a=new s,r=a.Get(e);if(r){t<2&&(t=2),t>=this.Frame.SubFrame.length&&(t=2);var n={Name:r.Name,Script:r.Script,Args:r.Args,ID:e,KLineType:r.KLineType,YSpecificMaxMin:r.YSpecificMaxMin,YSplitScale:r.YSplitScale,FloatPrecision:r.FloatPrecision,Condition:r.Condition,StringFormat:r.StringFormat,OutName:r.OutName};return i&&(i.FloatPrecision>=0&&(n.FloatPrecision=i.FloatPrecision),i.StringFormat>0&&(n.StringFormat=i.StringFormat),i.Args&&(n.Args=i.Args),Ee.IsNumber(i.YSplitType)&&(n.YSplitType=i.YSplitType),i.Lock&&(n.Lock=i.Lock)),this.ChangeScriptIndex(t,n,i)}}},this.ChangeIndexWindowCount=function(t){var e=this;if(!(t<2)&&this.Frame.SubFrame.length!=t){var i=this.Frame.SubFrame.length;if(i>t){for(var a=this.GetEventCallback(Rn.ON_DELETE_FRAME),r=i-1;r>=t;--r){this.DeleteIndexPaint(r);var n=this.Frame.SubFrame[r].Frame;if(n.ClearToolbar&&n.ClearToolbar(),a&&a.Callback){var o={SubFrame:this.Frame.SubFrame[r],WindowIndex:r};a.Callback(a,o,this)}}this.Frame.SubFrame.splice(t,i-t),this.WindowIndex.splice(t,i-t)}else{for(var l=this.Frame.SubFrame[0].Frame,r=i;r<t;++r){var h=this.CreateSubFrameItem(r,l);this.Frame.SubFrame[r]=h;var u=new ii;u.Frame=this.Frame.SubFrame[r].Frame,u.Canvas=this.Canvas,u.LanguageID=this.LanguageID,u.GetEventCallback=function(t){return e.GetEventCallback(t)},u.SelectedChart=this.SelectedChart,this.TitlePaint[r+1]=u}for(var c=["RSI","MACD","DMA","DMI","KDJ","WR"],d=new s,r=i;r<t;++r){var f=c[r%c.length],p=d.Get(f);this.WindowIndex[r]=new Lr(p.Name,p.Script,p.Args,p);var m=this.SourceData;this.BindIndexData(r,m)}for(var r=0;r<this.Frame.SubFrame.length;++r){var n=this.Frame.SubFrame[r].Frame;r==this.Frame.SubFrame.length-1?n.XSplitOperator.ShowText=!0:n.XSplitOperator.ShowText=!1}this.UpdataDataoffset()}this.UpdateXShowText(),this.Frame.SetSizeChage(!0),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw()}},this.ChangeIndexTemplate=function(t){var e=this;if(Array.isArray(t.Windows)){var i=t.Windows.length,a=this.Frame.SubFrame.length;i+=2;var r=null;Ee.IsNumber(t.DayCount)&&t.DayCount!=this.DayCount&&(r=t.DayCount);for(var n=null!=r,o=2;o<a;++o){this.DeleteIndexPaint(o);var l=this.Frame.SubFrame[o];l.YSpecificMaxMin=null,l.IsLocked=!1,l.YSplitScale=null}if(a>i){for(var h=this.GetEventCallback(Rn.ON_DELETE_FRAME),o=a-1;o>=i;--o)if(this.Frame.SubFrame[o].Frame.ClearToolbar(),h&&h.Callback){var u={SubFrame:this.Frame.SubFrame[o],WindowIndex:o};h.Callback(h,u,this)}this.Frame.SubFrame.splice(i,a-i),this.WindowIndex.splice(i,a-i)}else for(var o=a;o<i;++o){var c=this.CreateSubFrameItem(o);this.Frame.SubFrame[o]=c;var d=new ii;d.Frame=this.Frame.SubFrame[o].Frame,d.Canvas=this.Canvas,d.LanguageID=this.LanguageID,d.GetEventCallback=function(t){return e.GetEventCallback(t)},d.SelectedChart=this.SelectedChart,this.TitlePaint[o+1]=d}for(var f=new s,o=0;o<i;++o){var p=o,m=null,C=null;t.Frame&&t.Frame.length>o&&(C=t.Frame[p]),p>=2&&(m=t.Windows[p-2]);var v=p+1;if(this.TitlePaint[v].Data=[],this.TitlePaint[v].Title=null,m)if(m.Script)this.WindowIndex[p]=new Lr(m.Name,m.Script,m.Args,m);else if(m.API){var D=m.API;this.WindowIndex[p]=new Ar(D.Name,D.Script,D.Args,m)}else{var g=m.Index,S=ea.Get(g);if(S)this.WindowIndex[p]=S.Create(),this.CreateWindowIndex(p);else{var x=f.Get(g);if(x){var b=x.Args;m.Args&&(b=m.Args);var I={Name:x.Name,Script:x.Script,Args:b,ID:g,KLineType:x.KLineType,YSpecificMaxMin:x.YSpecificMaxMin,YSplitScale:x.YSplitScale,FloatPrecision:x.FloatPrecision,Condition:x.Condition,OutName:x.OutName};m.TitleFont&&(I.TitleFont=m.TitleFont),this.WindowIndex[p]=new Lr(I.Name,I.Script,I.Args,I)}}}this.SetSubFrameAttribute(this.Frame.SubFrame[p],m,C)}for(var o=0;o<this.Frame.SubFrame.length;++o){var m=this.Frame.SubFrame[o].Frame;o==this.Frame.SubFrame.length-1?m.XSplitOperator.ShowText=!0:m.XSplitOperator.ShowText=!1}if(n)this.Frame.SetSizeChage(!0),null!=r&&this.ChangeDayCount(r);else{for(var T=this.SourceData,o=0;o<i;++o)this.BindIndexData(o,T);this.UpdataDataoffset(),this.Frame.SetSizeChage(!0),this.UpdateXShowText&&this.UpdateXShowText(),this.ResetFrameXYSplit(),this.UpdateFrameMaxMin(),this.Draw()}}},this.RemoveIndexWindow=function(t){if(Nn.Chart.Log("[MinuteChartContainer::RemoveIndexWindow] remove id",t),!(t<2)&&this.Frame.SubFrame&&!(t>=this.Frame.SubFrame.length)){this.Frame.RestoreIndexWindows();this.Frame.SubFrame[t].Frame;this.DeleteIndexPaint(t),this.Frame.SubFrame[t].Frame.ClearToolbar();var e=this.GetEventCallback(Rn.ON_DELETE_FRAME);if(e&&e.Callback){var i={SubFrame:this.Frame.SubFrame[t],WindowIndex:t};e.Callback(e,i,this)}this.Frame.SubFrame.splice(t,1),this.WindowIndex.splice(t,1),this.TitlePaint.splice(t+1,1);for(var a=0;a<this.Frame.SubFrame.length;++a){var r=this.Frame.SubFrame[a].Frame;a==this.Frame.SubFrame.length-1?r.XSplitOperator.ShowText=!0:r.XSplitOperator.ShowText=!1,r.Identify=a}this.Frame.SetSizeChage(!0),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw()}},this.AutoUpdateEvent=function(t,e){var i=t?Rn.RECV_START_AUTOUPDATE:Rn.RECV_STOP_AUTOUPDATE;if(this.mapEvent.has(i)){var a=this,r=this.mapEvent.get(i),n={Stock:{Symbol:this.Symbol,Name:this.Name,DayCount:this.DayCount},Explain:e};t&&(n.Callback=function(t){a.RecvMinuteData(t)}),r.Callback(r,n,this)}},this.ClearIndexPaint=function(){if(this.Frame&&this.Frame.SubFrame)for(var t=0;t<this.Frame.SubFrame.length;++t){t>=2&&this.DeleteIndexPaint(t,!0);var e=this.Frame.SubFrame[t];if(Ee.IsNonEmptyArray(e.OverlayIndex))for(var i=0;i<e.OverlayIndex.length;++i){for(var a=e.OverlayIndex[i],r=0;r<a.ChartPaint.length;++r){var n=a.ChartPaint[r];n&&n.OnDestroy&&n.OnDestroy()}a.ChartPaint=[]}}for(var t=1;t<this.TitlePaint.length;++t){var e=this.TitlePaint[t];e.OverlayIndex=new Mn.default}},this.ResetDayOffset=function(){this.PageInfo.Enable?(this.DayOffset.Offset=this.PageInfo.Offset,this.DayOffset.ShowDayCount=this.PageInfo.ShowDayCount):(this.DayOffset.Offset=0,this.DayOffset.ShowDayCount=-1),this.DayOffset.PageInfo=null},this.ChangeSymbol=function(t,e){if(this.StopDisplayLatest(),this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"MinuteChartContainer::ChangeSymbol"),this.Symbol=t,this.ResetDayOffset(),this.ClearIndexPaint(),this.ResetOverlaySymbolStatus(),this.ReloadChartDrawPicture(),e&&(Ee.IsNumber(e.DayCount)&&(this.DayCount=e.DayCount),Ee.IsNonEmptyArray(e.Windows)))for(var i=new s,a=0;a<e.Windows.length;++a){var r=2+a;if(r>=this.WindowIndex.length)break;var n=e.Windows[a];if(n)if(n.Script)this.WindowIndex[r]=new Lr(n.Name,n.Script,n.Args,n);else if(n.API){var o=n.API;this.WindowIndex[r]=new Ar(o.Name,o.Script,o.Args,n)}else{var l=n.Index,h=i.Get(l);if(h){h.Args;n.Args&&(h.Args=n.Args),h.ID=l,this.WindowIndex[r]=new Lr(h.Name,h.Script,h.Args,h)}}}!t||this.DayCount<=0?this.DrawEmpty():(this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.Draw(),this.RequestData())},this.SetPageInfo=function(t){t&&(Ee.IsBool(t.Enable)&&(this.PageInfo.Enable=t.Enable),Ee.IsNumber(t.Offset)&&(this.PageInfo.Offset=t.Offset),Ee.IsNumber(t.ShowDayCount)&&(this.PageInfo.ShowDayCount=t.ShowDayCount))},this.ClearMinuteData=function(){this.SourceData=null,this.DayData=null,this.BeforeOpenData=null,this.AfterCloseData=null,this.MultiDayBeforeOpenData=null,this.MultiDayAfterCloseData=null},this.ChangeDayCount=function(t,e){t<0||(this.StopDisplayLatest(),this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"MinuteChartContainer::ChangeDayCount"),this.DayCount=t,this.ClearMinuteData(),e&&e.PageInfo&&(this.SetPageInfo(e.PageInfo),this.ResetDayOffset()),this.DayCount>1?this.ChartDrawPicture=[]:this.ReloadChartDrawPicture(),this.ClearIndexPaint(),this.ResetOverlaySymbolStatus(),this.RequestData())},this.OverlaySymbol=function(t,e){for(var i in this.OverlayChartPaint){if(this.OverlayChartPaint[i].Symbol==t)return console.warn("[MinuteChartContainer::OverlaySymbol] overlay symbol="+t+" exist."),!1}var a=new Nt;return a.Canvas=this.Canvas,a.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,a.ChartFrame=this.Frame.SubFrame[0].Frame,a.Name="Overlay-Minute",a.Symbol=t,a.Identify="Overlay-Minute-"+t,e&&e.Color?a.Color=e.Color:a.Color=lo.OverlaySymbol.Color[lo.OverlaySymbol.Random%lo.OverlaySymbol.Color.length],++lo.OverlaySymbol.Random,this.ChartPaint[0].YClose>0&&this.ChartPaint[0].Data&&(a.MainData=this.ChartPaint[0].Data,a.MainYClose=this.ChartPaint[0].YClose),a.SetOption&&a.SetOption(e),this.OverlayChartPaint.push(a),this.DayCount<=1?this.RequestOverlayMinuteData():this.RequestOverlayHistoryMinuteData(),!0},this.ResetOverlaySymbolStatus=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].Status=Qn.STATUS_NONE_ID}},this.DeleteOverlaySymbol=function(t){for(var e in this.OverlayChartPaint){var i=this.OverlayChartPaint[e];if(i.Symbol===t)return i.IsDelete=!0,this.OverlayChartPaint.splice(e,1),this.UpdateFrameMaxMin(),this.Draw(),!0}return console.warn("[MinuteChartContainer::DeleteOverlaySymbol] overlay symbol="+t+" not exist."),!1},this.ClearOverlaySymbol=function(){for(var t in this.OverlayChartPaint){this.OverlayChartPaint[t].IsDelete=!0}this.OverlayChartPaint=[],this.Frame.SubFrame[0].Frame.YSplitOperator.OverlayChartPaint=this.OverlayChartPaint,this.TitlePaint[0].OverlayChartPaint=this.OverlayChartPaint,this.UpdateFrameMaxMin(),this.Draw()},this.ShowBeforeData=function(t,e){this.ShowCallAuctionData({Left:t},e)},this.ShowCallAuctionData=function(t,e){if(t){var i=!1;if(Ee.IsBool(t.Left)&&this.IsShowBeforeData!=t.Left&&(this.IsShowBeforeData=t.Left,i=!0),Ee.IsBool(t.Right)&&this.IsShowAfterData!=t.Right&&(this.IsShowAfterData=t.Right,i=!0),t.MultiDay){var a=t.MultiDay;Ee.IsBool(a.Left)&&this.IsShowMultiDayBeforeData!=a.Left&&(this.IsShowMultiDayBeforeData=a.Left,i=!0),Ee.IsBool(a.Right)&&this.IsShowMultiDayAfterData!=a.Right&&(this.IsShowMultiDayAfterData=a.Right,i=!0)}if(e){if(e.BeforeOpen){var a=e.BeforeOpen;Ee.IsNumber(a.Left)&&this.ExtendWidth.Left!=a.Left&&(this.ExtendWidth.Left=a.Left,i=!0)}if(e.AfterClose){var a=e.AfterClose;Ee.IsNumber(a.Right)&&this.ExtendWidth.Right!=a.Right&&(this.ExtendWidth.Right=a.Right,i=!0)}if(e.MultiDay){var a=e.MultiDay;Ee.IsNumber(a.Left)&&this.MultiDayExtendWidth.Left!=a.Left&&(this.MultiDayExtendWidth.Left=a.Left,i=!0),Ee.IsNumber(a.Right)&&this.MultiDayExtendWidth.Right!=a.Right&&(this.MultiDayExtendWidth.Right=a.Right,i=!0)}}i&&this.RequestData()}},this.RequestData=function(){this.DayCount<=1?this.RequestMinuteData():this.RequestHistoryMinuteData()},this.ChangeDrawType=function(t){if(!(this.ChartPaint.length<=0)){if(0==t)this.ChartPaint[0].IsDrawArea=!0;else{if(1!=t)return;this.ChartPaint[0].IsDrawArea=!1}this.Draw()}},this.UpdateDataOffset=function(){this.SourceData.DataOffset=this.DayOffset.DataOffset;for(var t=0;t<this.ChartPaint.length;++t){var e=this.ChartPaint[t];e.Data&&(e.Data.DataOffset=this.DayOffset.DataOffset,"ChartMinuteVolumBar"!=e.ClassName&&"ChartMinutePriceLine"!=e.ClassName||(e.DayOffset=this.DayOffset))}for(var t=0;t<this.OverlayChartPaint.length;++t){var e=this.OverlayChartPaint[t];e.Data&&(e.Data.DataOffset=this.DayOffset.DataOffset)}for(var t=0;t<this.Frame.SubFrame.length;++t)for(var i=this.Frame.SubFrame[t],a=0;a<i.OverlayIndex.length;++a)for(var r=i.OverlayIndex[a],n=0;n<r.ChartPaint.length;++n){var e=r.ChartPaint[n];e.Data&&(e.Data.DataOffset=this.DayOffset.DataOffset)}},this.RequestHistoryMinuteData=function(){var t=this;if(this.IsBeforeData=!1,this.IsAfterData=!1,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.Draw(),this.NetworkFilter){var e={Name:"MinuteChartContainer::RequestHistoryMinuteData",Explain:"多日分时数据",Request:{Url:t.HistoryMinuteApiUrl,Data:{daycount:t.DayCount,symbol:t.Symbol},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)}),1==e.PreventDefault)return}n.HttpRequest({url:t.HistoryMinuteApiUrl,data:{symbol:t.Symbol,daycount:t.DayCount},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)}})},this.RecvHistoryMinuteData=function(t){if(this.EnableVerifyRecvData&&t.symbol!=this.Symbol)return void Nn.Chart.Warn("[MinuteChartContainer::RecvHistoryMinuteData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.symbol+"]");this.DayData=la.JsonDataToMinuteDataArray(t),this.ColorLineData=la.JsonDataToHistoryMinuteLineColorData(t),this.MultiDayBeforeOpenData=la.JosnDataToBeforeOpenDataArray(t),this.MultiDayAfterCloseData=la.JosnDataToAfterCloseDataArray(t);var e=la.JsonDataToHistoryMinuteLastUpdateTime(t);this.CaclutateCallCationYRange(),this.Symbol=t.symbol,this.Name=t.name,this.SetCallCationDataBorder({Left:!1,Right:!1,MultiDay:{Left:this.IsShowMultiDayBeforeData,Right:this.IsShowMultiDayAfterData}}),this.CaclutateLimitPrice(this.DayData[0].YClose,t.data[0].limitprice),this.UpdateHistoryMinuteUI(e),this.RecvMinuteDataEvent({FunctionName:"RecvHistoryMinuteData"}),this.RequestOverlayHistoryMinuteData(),this.BindAllOverlayIndexData(this.SourceData),this.AutoUpdateEvent(!0,"MinuteChartContainer::RequestHistoryMinuteData"),this.AutoUpdate()},this.CaclutateCallCationYRange=function(){var t=null,e=null;if(Ee.IsNonEmptyArray(this.MultiDayAfterCloseData)){for(var i={Max:null,Min:null},a=0;a<this.MultiDayAfterCloseData.length;++a){var r=this.MultiDayAfterCloseData[a];null==i.Max?i.Max=r.VolMax:i.Max<r.VolMax&&(i.Max=r.VolMax),null==i.Min?i.Min=r.VolMin:i.Min>r.VolMin&&(i.Min=r.VolMin)}t=i}if(Ee.IsNonEmptyArray(this.MultiDayBeforeOpenData)){for(var i={Max:null,Min:null},a=0;a<this.MultiDayBeforeOpenData.length;++a){var r=this.MultiDayBeforeOpenData[a];null==i.Max?i.Max=r.VolMax:i.Max<r.VolMax&&(i.Max=r.VolMax),null==i.Min?i.Min=r.VolMin:i.Min>r.VolMin&&(i.Min=r.VolMin)}e=i}if(2==this.ShareAfterVol&&t&&e){var n=Math.max(t.Max,e.Max),o=Math.min(t.Min,e.Min);t.Max=e.Max=n,t.Min=e.Min=o}if(t)for(var a=0;a<this.MultiDayAfterCloseData.length;++a){var r=this.MultiDayAfterCloseData[a];r.VolMax=t.Max,r.VolMin=t.Min}if(e)for(var a=0;a<this.MultiDayBeforeOpenData.length;++a){var r=this.MultiDayBeforeOpenData[a];r.VolMax=e.Max,r.VolMin=e.Min}},this.UpdateHistoryMinuteUI=function(t){var e=this.HistoryMinuteDataToArray(this.DayData),i=new Q;if(i.Data=e,t&&(i.UpdateTime=t),this.SourceData=i,this.TradeDate=this.DayData[0].Date,this.PageInfo&&this.PageInfo.Enable){this.DayOffset.DayCount=this.DayData.length,-1==this.DayOffset.ShowDayCount&&(this.DayOffset.ShowDayCount=this.DayData.length),-8888==this.DayOffset.Offset&&(this.DayOffset.Offset=this.DayOffset.DayCount-this.DayOffset.ShowDayCount);var a=this.DayOffset.ShowDayCount;this.Frame.SetDayCount(a)}else{this.DayOffset.Offset=0,this.DayOffset.ShowDayCount=this.DayData.length;var a=this.DayOffset.ShowDayCount;this.Frame.SetDayCount(this.DayData.length)}var r=this.Symbol.toUpperCase(),n=this.DayData[0].YClose,o=po.IsFutures(r);Ee.IsNumber(this.DayData[0].YClearing)&&o&&(n=this.DayData[0].YClearing),this.BindMainData(i,n),po.IsForeignExchange(r)&&(this.ChartPaint[1].Data=null);for(var s=0;s<this.Frame.SubFrame.length;++s){var l=this.Frame.SubFrame[s];l.Frame.XSplitOperator.Symbol=this.Symbol,l.Frame.XSplitOperator.DayCount=a,l.Frame.XSplitOperator.DayData=this.DayData,l.Frame.XSplitOperator.Operator(),l.Frame.XSplitOperator.IsBeforeData=this.IsBeforeData,l.Frame.XSplitOperator.IsAfterData=this.IsAfterData,l.Frame.YSplitOperator.Symbol=this.Symbol,l.Frame.YSplitOperator.IsBeforeData=this.IsBeforeData,l.Frame.YSplitOperator.IsAfterData=this.IsAfterData;for(var h in l.OverlayIndex){var u=l.OverlayIndex[h];u.Frame.XPointCount=l.Frame.XPointCount,u.Frame.MinuteCount=l.Frame.MinuteCount}}if(this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.IsBeforeData=this.IsBeforeData,this.ChartCorssCursor.StringFormatX.IsAfterData=this.IsAfterData,this.TitlePaint[0].IsShowDate=!0,this.UpdateDataOffset(),this.UpdateFrameMaxMin(),this.Frame.SubFrame.length>2){var c=new Q;c.Data=e;for(var d=2;d<this.Frame.SubFrame.length;++d)this.BindIndexData(d,c)}this.Frame.SetSizeChage(!0),this.Draw()},this.HistoryMinuteDataToArray=function(t){for(var e=[],i=t.length-1;i>=0;--i)for(var a=t[i],r=0;r<a.Data.length;++r)e.push(a.Data[r]);return e},this.UpdateLatestMinuteData=function(t,e,i){if(this.DayData){for(var a=0;a<this.DayData.length;++a){var r=this.DayData[a];if(r.Date===e)return r.Data=t,i&&Ee.IsNumber(i.yclose)&&(r.YClose=i.yclose),void(i&&Ee.IsNumber(i.yclearing)&&(r.YClearing=i.yclearing))}if(this.DayData.length>0&&this.DayData[0].Date<e){var n=new Q;n.Date=e,n.Data=t,i&&Ee.IsNumber(i.yclose)&&(n.YClose=i.yclose),i&&Ee.IsNumber(i.yclearing)&&(n.YClearing=i.yclearing),this.DayData.unshift(n)}}},this.UpdateLatestMinuteDataV2=function(t){if(this.DayCount>1){if(!this.DayData)return;for(var e=null,i=0;i<this.DayData.length;++i){var a=this.DayData[i];if(a.Date===date){e=a;break}}if(!e)return;for(var r=-1,n=t.Data[0],i=0;i<e.Data.length;++i){var a=e.Data[i];if(a.Date==n.Date&&a.Time==n.Time){r=i;break}}r<0&&(r=e.Data.length);for(var i=0,o=r;i<t.Data.length;++i,++o){var a=t.Data[i];e.Data[o]=a}}else{if(!this.SourceData)return;for(var r=-1,n=t.Data[0],i=0;i<this.SourceData.Data.length;++i){var a=this.SourceData.Data[i];if(a.Date==n.Date&&a.Time==n.Time){r=i;break}}r<0&&(r=this.SourceData.Data.length);for(var i=0,o=r;i<t.Data.length;++i,++o){var a=t.Data[i];this.SourceData.Data[o]=a}}},this.RequestMinuteData=function(){var t=this,e=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","minute","minutecount"],i=this.Symbol.toUpperCase();if(po.IsFutures(i)&&(e.push("clearing"),e.push("yclearing")),this.IsBeforeData=!1,this.IsShowBeforeData&&1===this.DayCount&&po.IsSHSZStockA(t.Symbol)&&(this.IsBeforeData=!0,e.push("before")),this.IsAfterData=!1,this.IsShowAfterData&&1===this.DayCount&&po.IsSHSZStockA(t.Symbol)&&(this.IsAfterData=!0),this.NetworkFilter){var a=null;if(this.DayCount>1){if(Ee.IsNonEmptyArray(this.DayData)){var r=this.DayData[0];a=r.GetDateRange()}}else this.SourceData&&(a=this.SourceData.GetDateRange());var o={Before:this.IsShowBeforeData&&1===this.DayCount,After:this.IsShowAfterData&&1===this.DayCount},s={Name:"MinuteChartContainer::RequestMinuteData",Explain:"最新分时数据",Request:{Url:t.MinuteApiUrl,Data:{field:e,symbol:[t.Symbol],callcation:o},Type:"POST"},Self:this,PreventDefault:!1};if(a&&(s.DateRange=a),this.NetworkFilter(s,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteData(e)}),1==s.PreventDefault)return}n.HttpRequest({url:t.MinuteApiUrl,data:{field:e,symbol:[t.Symbol],start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMinuteData(e)}})},this.RecvMinuteDataEvent=function(t){if(this.mapEvent.has(Rn.RECV_MINUTE_DATA)){var e=this.mapEvent.get(Rn.RECV_MINUTE_DATA),i={MinuteData:this.SourceData,Stock:{Symbol:this.Symbol,Name:this.Name},Option:t};e.Callback(e,i,this)}},this.UpdateLineColorData=function(t,e){if(!this.ColorLineData)return void(this.ColorLineData=t);var i=this.ColorLineData.filter(function(t,i,a){return t.Date!=e});if(Ee.IsNonEmptyArray(t))for(var a in t)i.push(t[a]);this.ColorLineData=i},this.UpdateCallCationData=function(t,e){if(t&&Ee.IsNonEmptyArray(this.MultiDayBeforeOpenData)){var i=this.MultiDayBeforeOpenData[this.MultiDayBeforeOpenData.length-1];i.Date==t.Date?this.MultiDayBeforeOpenData[this.MultiDayBeforeOpenData.length-1]=t:i.Date<t.Date&&this.MultiDayBeforeOpenData.push(t)}if(e&&Ee.IsNonEmptyArray(this.MultiDayAfterCloseData)){var i=this.MultiDayAfterCloseData[this.MultiDayAfterCloseData.length-1];i.Date==e.Date?this.MultiDayAfterCloseData[this.MultiDayAfterCloseData.length-1]=e:i.Date<e.Date&&this.MultiDayAfterCloseData.push(e)}this.CaclutateCallCationYRange()},this.RecvUpdateMinuteData=function(t){var e=la.JsonDataToUpdateMinuteData(t),i=la.JsonDataToMinuteLineColorData(t);this.BeforeOpenData=null,this.AfterCloseData=null;var a=la.JsonDataToBeforeOpenData(t),r=la.JsonDataToAfterCloseData(t),n=la.JsonDataToMinuteLastUpdateTime(t);if(this.DayCount>1)return this.UpdateCallCationData(a,r),this.UpdateLineColorData(i,e.date),this.UpdateLatestMinuteDataV2(e),this.UpdateHistoryMinuteUI(n),this.RecvMinuteDataEvent({FunctionName:"RecvUpdateMinuteData"}),this.RequestOverlayMinuteData(),this.BindAllOverlayIndexData(this.SourceData),this.AutoUpdateEvent(!0,"MinuteChartContainer::RecvUpdateMinuteData"),void this.AutoUpdate();this.UpdateLatestMinuteDataV2(e);var o=this.SourceData,s=this.SourceData.Data;if(this.ColorLineData=i,this.TradeDate=t.stock[0].date,this.Frame.SetDayCount(1),this.SourceData.UpdateTime=n,this.Symbol=e.Symbol,this.Name=e.Name,this.SetCallCationDataBorder({Left:this.IsBeforeData,Right:this.IsAfterData,MultiDay:{Left:!1,Right:!1}}),2==this.ShareAfterVol&&this.BeforeOpenData&&this.AfterCloseData){var l=Math.max(this.BeforeOpenData.VolMax,this.AfterCloseData.VolMax),h=Math.min(this.BeforeOpenData.VolMin,this.AfterCloseData.VolMin);this.BeforeOpenData.VolMax=this.AfterCloseData.VolMax=l,this.BeforeOpenData.VolMin=this.AfterCloseData.VolMin=h}var u=e.YClose,c=this.Symbol.toUpperCase(),d=po.IsFutures(c);e.YClearing>0&&d&&(u=e.YClearing),this.CaclutateLimitPrice(u,e.LimitPrice);var f=null;if(e.High>0&&e.Low>0&&(f={High:e.High,Low:e.Low}),this.BindMainData(o,u,f),this.Frame.SubFrame.length>2){var p=new Q;p.Data=s;for(var m=2;m<this.Frame.SubFrame.length;++m)this.BindIndexData(m,p)}for(var C=0;C<this.Frame.SubFrame.length;++C){var v=this.Frame.SubFrame[C];if(v.Frame.XSplitOperator.Symbol=this.Symbol,v.Frame.XSplitOperator.DayCount=1,v.Frame.XSplitOperator.Operator(),v.Frame.YSplitOperator.Symbol=this.Symbol,Ee.IsNonEmptyArray(v.OverlayIndex))for(var D=0;D<v.OverlayIndex.length;++D){var g=v.OverlayIndex[D];g.Frame.XPointCount=v.Frame.XPointCount,g.Frame.MinuteCount=v.Frame.MinuteCount}}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.Symbol=this.Symbol,po.IsSHSZ(c)&&(this.TitlePaint[0].IsShowDate=!1),1==t.stock[0].IsHistoryMinute&&(this.TitlePaint[0].IsShowDate=!0);var S=this.GetChartMinuteInfo();S&&(S.SourceData=this.SourceData),this.RecvMinuteDataEvent({FunctionName:"RecvUpdateMinuteData"}),this.RequestMinuteInfoData(),this.RequestOverlayMinuteData(),this.CreateChartDrawPictureByStorage(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.BindAllOverlayIndexData(this.SourceData),this.AutoUpdateEvent(!0,"MinuteChartContainer::RecvUpdateMinuteData"),this.AutoUpdate()},this.RecvMinuteData=function(t){if(!t)return void Nn.Chart.Warn("[MinuteChartContainer::RecvMinuteData] recv data is null");if(1==t.dataType)return void this.RecvUpdateMinuteData(t);if(t.stock[0]){if(t.stock[0].symbol!=this.Symbol&&this.EnableVerifyRecvData)return void Nn.Chart.Warn("[MinuteChartContainer::RecvMinuteData] recv data symbol not match. HQChart["+this.Symbol+"] , Recv["+t.stock[0].symbol+"]");var e=la.JsonDataToMinuteData(t),i=la.JsonDataToMinuteLineColorData(t);this.BeforeOpenData=null,this.AfterCloseData=null;var a=la.JsonDataToBeforeOpenData(t),r=la.JsonDataToAfterCloseData(t),n=la.JsonDataToMinuteLastUpdateTime(t);if(this.IsBeforeData&&(this.BeforeOpenData=a),this.IsAfterData&&(this.AfterCloseData=r),this.DayCount>1)return this.UpdateCallCationData(a,r),this.UpdateLineColorData(i,t.stock[0].date),this.UpdateLatestMinuteData(e,t.stock[0].date,t.stock[0]),this.UpdateHistoryMinuteUI(n),this.RecvMinuteDataEvent({FunctionName:"RecvMinuteData"}),this.RequestOverlayMinuteData(),this.BindAllOverlayIndexData(this.SourceData),this.AutoUpdateEvent(!0,"MinuteChartContainer::RecvMinuteData"),void this.AutoUpdate();var o=new Q;if(o.Data=e,o.UpdateTime=n,this.ColorLineData=i,this.TradeDate=t.stock[0].date,this.Frame.SetDayCount(1),this.SourceData=o,this.Symbol=t.stock[0].symbol,this.Name=t.stock[0].name,this.SetCallCationDataBorder({Left:this.IsBeforeData,Right:this.IsAfterData,MultiDay:{Left:!1,Right:!1}}),2==this.ShareAfterVol&&this.BeforeOpenData&&this.AfterCloseData){var s=Math.max(this.BeforeOpenData.VolMax,this.AfterCloseData.VolMax),l=Math.min(this.BeforeOpenData.VolMin,this.AfterCloseData.VolMin);this.BeforeOpenData.VolMax=this.AfterCloseData.VolMax=s,this.BeforeOpenData.VolMin=this.AfterCloseData.VolMin=l}var h=t.stock[0].yclose,u=this.Symbol.toUpperCase(),c=po.IsFutures(u);t.stock[0].yclearing>0&&c&&(h=t.stock[0].yclearing),this.CaclutateLimitPrice(h,t.stock[0].limitprice);var d=null;if(t.stock[0].high>0&&t.stock[0].low>0&&(d={High:t.stock[0].high,Low:t.stock[0].low}),this.BindMainData(o,h,d),this.Frame.SubFrame.length>2){var f=new Q;f.Data=e;for(var p=2;p<this.Frame.SubFrame.length;++p)this.BindIndexData(p,f)}for(var m in this.Frame.SubFrame){var C=this.Frame.SubFrame[m];C.Frame.XSplitOperator.Symbol=this.Symbol,C.Frame.XSplitOperator.DayCount=1,C.Frame.XSplitOperator.Operator(),C.Frame.YSplitOperator.Symbol=this.Symbol;for(var v in C.OverlayIndex){var D=C.OverlayIndex[v];D.Frame.XPointCount=C.Frame.XPointCount,D.Frame.MinuteCount=C.Frame.MinuteCount}}this.ChartCorssCursor.StringFormatY.Symbol=this.Symbol,this.ChartCorssCursor.StringFormatX.Symbol=this.Symbol,po.IsSHSZ(u)&&(this.TitlePaint[0].IsShowDate=!1),1==t.stock[0].IsHistoryMinute&&(this.TitlePaint[0].IsShowDate=!0);var g=this.GetChartMinuteInfo();g&&(g.SourceData=this.SourceData),this.RecvMinuteDataEvent({FunctionName:"RecvMinuteData"}),this.RequestMinuteInfoData(),this.RequestOverlayMinuteData(),this.CreateChartDrawPictureByStorage(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw(),this.BindAllOverlayIndexData(this.SourceData),this.AutoUpdateEvent(!0,"MinuteChartContainer::RecvMinuteData"),this.AutoUpdate()}},this.CaclutateLimitPrice=function(t,e){if(this.LimitPrice=null,e&&e.max>0&&e.min>0)return void(this.LimitPrice={Max:e.max,Min:e.min});var i=po.GetLimitPriceRange(this.Symbol,this.Name);if(!i)return void Nn.Chart.Log("[MinuteChartContainer::CaclutateLimitPrice] "+this.Symbol+" no limit price.");t<=0||(this.LimitPrice={Max:t*(1+i.Max),Min:t*(1+i.Min)},Nn.Chart.Log("[MinuteChartContainer::CaclutateLimitPrice] "+this.Symbol+" yClose:"+t+" max:"+this.LimitPrice.Max+" min:"+this.LimitPrice.Min),this.LimitPrice.Max=parseFloat(this.LimitPrice.Max.toFixed(2)),this.LimitPrice.Min=parseFloat(this.LimitPrice.Min.toFixed(2)),Nn.Chart.Log("[MinuteChartContainer::CaclutateLimitPrice] "+this.Symbol+" tofixed(2) max:"+this.LimitPrice.Max+" min:"+this.LimitPrice.Min))},this.RequestOverlayMinuteData=function(){for(var t=this,e=this,i=this.TradeDate,a=0;a<this.OverlayChartPaint.length;++a){var r,o;(function(){var s=t.OverlayChartPaint[a];s.MainData&&s.MainYClose>0&&(s.Status!=Qn.STATUS_NONE_ID||(r=s.Symbol)&&(s.Status=Qn.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(o={Name:"MinuteChartContainer::RequestOverlayMinuteData",Explain:"叠加股票最新分时数据",Request:{Url:e.HistoryMinuteApiUrl,Data:{days:[i],symbol:r},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(o,function(t){s.Status=Qn.STATUS_RECVDATA_ID,e.RecvOverlayMinuteData(t,s)}),1==o.PreventDefault)||n.HttpRequest({url:e.HistoryMinuteApiUrl,data:{symbol:r,days:[i]},type:"post",dataType:"json",async:!0,success:function(t){s.Status=Qn.STATUS_RECVDATA_ID,e.RecvOverlayMinuteData(t,s)}})))})()}},this.RecvMultiOverlayMinuteData=function(t){if(Ee.IsNonEmptyArray(t)){for(var e=!1,i=0;i<t.length;++i){var a=t[i];if(a.symbol)for(var r=0;r<this.OverlayChartPaint.length;++r){var n=this.OverlayChartPaint[r];if(n.MainData&&n.MainYClose>0&&a.symbol==n.Symbol){this.RecvOverlayMinuteData(a,n,{Redraw:!1}),e=!0;break}}}e&&(this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw())}},this.RecvOverlayMinuteData=function(t,e,i){if(!e.IsDelete){if(this.EnableVerifyRecvData&&t.symbol!=e.Symbol)return void Nn.Chart.Warn("[MinuteChartContainer::RecvOverlayMinuteData] recv data symbol not match. paint["+e.Symbol+"] , Recv["+t.symbol+"]");var a,r=la.JsonDataToMinuteDataArray(t),n=null;if(this.DayCount>1){if(r.length<=0)return;var o=r[0];for(var s in e.SourceData){if(e.SourceData[s].Date==o.Date){e.SourceData[s]=o;var l=this.HistoryMinuteDataToArray(e.SourceData),n=new Q;n.Data=l,a=o.YClose;break}}if(null==n)return}else n=r.length>0?r[0]:new Q,a=n.YClose;e.Data=n,e.Title=t.name,e.Symbol=t.symbol,e.YClose=a,e.Status=Qn.STATUS_FINISHED_ID;var h=!0;i&&0==i.Redraw&&(h=!1),h&&(this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw())}},this.RequestOverlayHistoryMinuteData=function(){var t=this;if(Ee.IsNonEmptyArray(this.DayData)){for(var e=this,i=[],a=0;a<this.DayData.length;++a){var r=this.DayData[a];i.push(r.Date)}if(!(i.length<=0))for(var a=0;a<this.OverlayChartPaint.length;++a){var o,s;(function(){var r=t.OverlayChartPaint[a];(o=r.Symbol)&&(r.Status!=Qn.STATUS_NONE_ID||(r.Status=Qn.STATUS_REQUESTDATA_ID,t.NetworkFilter&&(s={Name:"MinuteChartContainer::RequestOverlayHistoryMinuteData",Explain:"叠加股票多日分时数据",Request:{Url:e.HistoryMinuteApiUrl,Data:{days:i,symbol:o},Type:"POST"},Self:t,PreventDefault:!1},t.NetworkFilter(s,function(t){r.Status=Qn.STATUS_RECVDATA_ID,e.RecvOverlayHistoryMinuteData(t,r)}),1==s.PreventDefault)||n.HttpRequest({url:e.HistoryMinuteApiUrl,data:{symbol:o,days:i},type:"post",dataType:"json",async:!0,success:function(t){r.Status=Qn.STATUS_RECVDATA_ID,e.RecvOverlayHistoryMinuteData(t,r)}})))})()}}},this.RecvOverlayHistoryMinuteData=function(t,e){if(this.EnableVerifyRecvData&&t.symbol!=e.Symbol)return void Nn.Chart.Warn("[MinuteChartContainer::RecvOverlayHistoryMinuteData] recv data symbol not match. paint["+e.Symbol+"] , Recv["+t.symbol+"]");if(Ee.IsNonEmptyArray(this.DayData)){var i=la.JsonDataToMinuteDataArray(t);if(Ee.IsNonEmptyArray(i)){for(var a=[],r=0;r<this.DayData.length;++r){for(var n=this.DayData[r],o=!1,s=0;s<i.length;++s)if(n.Date==i[s].Date){a.push(i[s]),o=!0;break}if(!o){var l=new Q;l.Date=n.Date,a.push(l)}}e.SourceData=a;var h=this.HistoryMinuteDataToArray(a),u=a[0].YClose,c=new Q;c.Data=h,e.Data=c,e.Title=t.name,e.Symbol=t.symbol,e.YClose=u,e.Status=Qn.STATUS_FINISHED_ID,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.AutoUpdate=function(){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var t=this,e=po.GetMarketStatus(this.Symbol);if(0==e||3==e)return void(this.AutoUpdateTimer=setTimeout(function(){t.AutoUpdate()},2e4));var i=this.AutoUpdateFrequency;1==e?this.AutoUpdateTimer=setTimeout(function(){t.AutoUpdate()},i):2==e&&(this.AutoUpdateTimer=setTimeout(function(){t.ResetOverlaySymbolStatus(),t.RequestMinuteData()},i))}},this.BindIndexData=function(t,e){if(this.WindowIndex[t])return"function"==typeof this.WindowIndex[t].RequestData?void this.WindowIndex[t].RequestData(this,t,e):"function"==typeof this.WindowIndex[t].ExecuteScript?void this.WindowIndex[t].ExecuteScript(this,t,e):void this.WindowIndex[t].BindData(this,t,e)},this.BindMainData=function(t,e,i){var a=this.IsShowMultiDayBeforeData?this.MultiDayBeforeOpenData:null,r=this.IsShowMultiDayAfterData?this.MultiDayAfterCloseData:null,n=new Q;if(n.Data=t.GetClose(),this.ChartPaint[0].Data=n,this.ChartPaint[0].YClose=e,this.ChartPaint[0].NotSupportMessage=null,this.ChartPaint[0].IsShowLead=!1,this.ChartPaint[0].LeadData=null,this.ChartPaint[0].BeforeOpenData=this.BeforeOpenData,this.ChartPaint[0].AfterCloseData=this.AfterCloseData,this.ChartPaint[0].MultiDayBeforeOpenData=a,this.ChartPaint[0].MultiDayAfterCloseData=r,this.ChartPaint[0].ColorLineData=this.ColorLineData,this.ChartPaint[0].Source=t,po.IsSHSZIndex(this.Symbol)&&1==this.DayCount&&this.IsShowLead){var o=new Q;o.Data=t.GetLead(),this.ChartPaint[0].LeadData=o,this.ChartPaint[0].IsShowLead=!0}var s=this.Frame.SubFrame[0].Frame;s.YSplitOperator.YClose=e,s.YSplitOperator.Data=n,this.Frame.Data=this.ChartPaint[0].Data,this.Frame.SourceData=t;for(var l in this.Frame.SubFrame){var h=this.Frame.SubFrame[l].Frame;h.Data=t}n=new Q,n.Data=t.GetMinuteAvPrice(),this.ChartPaint[1].Data=n;var u=this.Symbol.toUpperCase();po.IsForeignExchange(u)?this.ChartPaint[1].Data=null:po.IsShowAvPrice&&!po.IsShowAvPrice(u)&&(this.ChartPaint[1].Data=null),s.YSplitOperator.AverageData=n,s.YSplitOperator.OverlayChartPaint=this.OverlayChartPaint,s.YSplitOperator.LimitPrice=this.LimitPrice,s.YSplitOperator.MultiDayBeforeOpenData=a,s.YSplitOperator.MultiDayAfterCloseData=r,s.YSplitOperator.DayCount=this.DayCount,i?(s.YSplitOperator.High=i.High,s.YSplitOperator.Low=i.Low):(s.YSplitOperator.High=null,s.YSplitOperator.Low=null),this.ChartPaint[2].Data=t,this.ChartPaint[2].YClose=e,this.ChartPaint[2].Symbol=this.Symbol,this.ChartPaint[2].BeforeOpenData=this.BeforeOpenData,this.ChartPaint[2].AfterCloseData=this.AfterCloseData,this.ChartPaint[2].MultiDayBeforeOpenData=a,this.ChartPaint[2].MultiDayAfterCloseData=r;for(var l in this.Frame.SubFrame){var h=this.Frame.SubFrame[l];h.Frame.YSplitOperator.BeforeOpenData=this.BeforeOpenData,h.Frame.YSplitOperator.IsBeforeData=this.IsBeforeData,h.Frame.YSplitOperator.AfterCloseData=this.AfterCloseData,h.Frame.YSplitOperator.IsAfterData=this.IsAfterData,h.Frame.YSplitOperator.MultiDayBeforeOpenData=a,h.Frame.YSplitOperator.MultiDayAfterCloseData=r}po.IsShowMinutePostionLine(u)?this.BindOverlayPositionData(t,e):this.ClearBindOverlayPositionData(),this.TitlePaint[0].Data=this.SourceData,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=this.Name,this.TitlePaint[0].YClose=e,this.TitlePaint[0].BeforeOpenData=this.BeforeOpenData,this.TitlePaint[0].AfterCloseData=this.AfterCloseData,this.TitlePaint[0].MultiDayBeforeOpenData=this.IsShowMultiDayBeforeData?this.MultiDayBeforeOpenData:null,this.TitlePaint[0].MultiDayAfterCloseData=this.IsShowMultiDayAfterData?this.MultiDayAfterCloseData:null,this.TitlePaint[0].CallAcutionXOperator&&(this.TitlePaint[0].CallAcutionXOperator.BeforeOpenData=this.BeforeOpenData,this.TitlePaint[0].CallAcutionXOperator.AfterCloseData=this.AfterCloseData,this.TitlePaint[0].CallAcutionXOperator.MultiDayBeforeOpenData=a,this.TitlePaint[0].CallAcutionXOperator.MultiDayAfterCloseData=r,this.TitlePaint[0].CallAcutionXOperator.DayOffset=this.DayOffset),this.ChartCorssCursor&&this.ChartCorssCursor.StringFormatY&&(this.ChartCorssCursor.StringFormatY.YClose=e,this.ChartCorssCursor.StringFormatY.BeforeOpenData=this.BeforeOpenData,this.ChartCorssCursor.StringFormatY.AfterCloseData=this.AfterCloseData,this.ChartCorssCursor.StringFormatY.MultiDayBeforeOpenData=a,this.ChartCorssCursor.StringFormatY.MultiDayAfterCloseData=r,this.ChartCorssCursor.StringFormatY.DayOffset=this.DayOffset,this.ChartCorssCursor.StringFormatX.Data=this.ChartPaint[0].Data,this.ChartCorssCursor.StringFormatX.BeforeOpenData=this.BeforeOpenData,this.ChartCorssCursor.StringFormatX.AfterCloseData=this.AfterCloseData,this.ChartCorssCursor.StringFormatX.MultiDayBeforeOpenData=a,this.ChartCorssCursor.StringFormatX.MultiDayAfterCloseData=r,this.ChartCorssCursor.StringFormatX.DayOffset=this.DayOffset,this.ChartCorssCursor.CallAcutionXOperator&&(this.ChartCorssCursor.CallAcutionXOperator.BeforeOpenData=this.BeforeOpenData,this.ChartCorssCursor.CallAcutionXOperator.AfterCloseData=this.AfterCloseData,this.ChartCorssCursor.CallAcutionXOperator.MultiDayBeforeOpenData=a,this.ChartCorssCursor.CallAcutionXOperator.MultiDayAfterCloseData=r,this.ChartCorssCursor.CallAcutionXOperator.DayOffset=this.DayOffset)),this.ExtendChartPaint[0]&&(this.ExtendChartPaint[0].Symbol=this.Symbol,this.ExtendChartPaint[0].Name=this.Name);for(var l in this.OverlayChartPaint){var h=this.OverlayChartPaint[l];h.MainData=this.ChartPaint[0].Data,h.MainYClose=e}},this.BindOverlayPositionData=function(t,e){var i=this;if(!(this.Frame.SubFrame.length<2)){for(var a=null,r=null,n=this.Frame.SubFrame[1],o=null,s=0;s<n.OverlayIndex.length;++s){var l=n.OverlayIndex[s];if("Position_Line_Frame"==l.Identify){o=l;break}}if(o){r=o.Frame;for(var s=0;s<o.ChartPaint.length;++s){var l=o.ChartPaint[s];if("Position-Line"==l.Name){a=l;break}}a||(a=new _t,a.Canvas=this.Canvas,a.Name="Position-Line",a.ChartBorder=r.ChartBorder,a.ChartFrame=r,a.Identify=o.Identify,a.Color=lo.Minute.PositionColor,o.ChartPaint.push(a))}else{o=new G,o.Identify="Position_Line_Frame",r="MinuteChartContainer"==this.ClassName?new N:new _,r.Canvas=this.Canvas,r.MainFrame=n.Frame,r.ChartBorder=n.Frame.ChartBorder,r.GlobalOption=this.GlobalOption,o.Frame=r,r.YSplitOperator=new Le,r.YSplitOperator.LanguageID=this.LanguageID,r.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),r.YSplitOperator.Frame=r,r.YSplitOperator.ChartBorder=r.ChartBorder,r.YSplitOperator.SplitCount=n.Frame.YSplitOperator.SplitCount,r.YSplitOperator.GetEventCallback=function(t){return i.GetEventCallback(t)},r.YSplitOperator.OverlayIdentify=o.Identify;var a=new _t;a.Canvas=this.Canvas,a.Name="Position-Line",a.ChartBorder=r.ChartBorder,a.ChartFrame=r,a.Identify=o.Identify,a.Color=lo.Minute.PositionColor,o.ChartPaint.push(a),n.OverlayIndex.push(o),n.Frame.RightFrame=r}var h=this.Frame.SubFrame[0].Frame.XPointCount;r.XPointCount=h,n.Frame.IsShowPositionTitle=!0;var u=new Q;u.Data=t.GetPosition(),a.Data=u}},this.ClearBindOverlayPositionData=function(){if(!(this.Frame.SubFrame.length<2)){var t=this.Frame.SubFrame[1];t.Frame.RightFrame=null,t.Frame.IsShowPositionTitle=!1;for(var e in t.OverlayIndex){if("Position_Line_Frame"==t.OverlayIndex[e].Identify){t.OverlayIndex.splice(e,1);break}}}},this.GetOverlayIndexByIdentify=function(t){for(var e=0;e<this.Frame.SubFrame.length;++e){var i=this.Frame.SubFrame[e];if(Ee.IsNonEmptyArray(i.OverlayIndex))for(var a=0;a<i.OverlayIndex.length;++a){var r=i.OverlayIndex[a];if(r.Identify===t)return{OverlayItem:r,WindowIndex:e}}}return null},this.RecvOverlayIndex=function(t,e){var i=this.GetOverlayIndexByIdentify(t);if(null==i)return void console.warn("[MinuteChartContainer::RecvOverlayIndex] can't find overlay index. [identify="+t+"]");if(i.Script&&"function"==typeof i.RecvSubscribeData){var a=this.SourceData;a&&i.Script.RecvSubscribeData(e,this,i.WindowIndex,a)}},this.UpdateOverlayIndex=function(t){var e=this.GetOverlayIndexByIdentify(t);if(null==e)return void console.warn("[MinuteChartContainer::UpdateOverlayIndex] can't find overlay index. [identify="+t+"]");var i=this.SourceData;i&&this.BindOverlayIndexData(e.OverlayItem,e.WindowIndex,i)},this.AddOverlayIndex=function(t){var e=this.CreateOverlayWindowsIndex(t);if(e){var i=this.SourceData;this.BindOverlayIndexData(e,t.WindowIndex,i),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.CreateOverlayWindowsIndex=function(t){var e=this,i=t.IndexName,a=t.WindowIndex,r=null,n=null,o=null;if(t.API)r=t.API;else if(t.Script)n={Script:t.Script,ID:t.indexName,Name:t.indexName},t.Name&&(n.Name=t.Name);else{var l=new s;if(!(n=l.Get(i))&&!(o=ea.Get(i)))return console.warn("[MinuteChartContainer::CreateOverlayIndex] can not find index["+i+"]"),null}var h=this.Frame.SubFrame[a];h.Interval=this.OverlayIndexFrameWidth;var u=new G;t.Identify&&(u.Identify=t.Identify);var c=null;if(c="MinuteChartContainer"==this.ClassName?new N:new _,c.Canvas=this.Canvas,c.MainFrame=h.Frame,c.ChartBorder=h.Frame.ChartBorder,c.GlobalOption=this.GlobalOption,!0===t.ShowRightText?c.IsShow=!0:!1===t.ShowRightText&&(c.IsShow=!1),!0===t.IsShareY&&(c.IsShareY=!0),Ee.IsBool(t.IsCalculateYMaxMin)&&(c.IsCalculateYMaxMin=t.IsCalculateYMaxMin),c.YSplitOperator=new Le,c.YSplitOperator.LanguageID=this.LanguageID,c.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),c.YSplitOperator.Frame=c,c.YSplitOperator.ChartBorder=c.ChartBorder,c.YSplitOperator.SplitCount=h.Frame.YSplitOperator.SplitCount,c.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},c.YSplitOperator.HQChart=this,c.YSplitOperator.OverlayIdentify=u.Identify,t.Frame){var d=t.Frame;d.Custom&&(c.YSplitOperator.Custom=d.Custom)}if(u.Frame=c,r){var f=new Ar(r.Name,r.Script,r.Args,t,!0);f.OverlayIndex={IsOverlay:!0,Identify:u.Identify,WindowIndex:a,Frame:u},u.Script=f}else if(n){var p=n;t.Args&&(p.Args=t.Args);var m=new Mr(p.Name,p.Script,p.Args,p);m.OverlayIndex={IsOverlay:!0,Identify:u.Identify,WindowIndex:a,Frame:u},u.Script=m}else{var m=o.Create();m.OverlayIndex={IsOverlay:!0,Identify:u.Identify,WindowIndex:a,Frame:u},m.Create(this,a),u.Script=m}return h.OverlayIndex.push(u),u},this.DeleteOverlayWindowsIndex=function(t){this.DeleteOverlayIndex(t,null)&&(this.Frame.ResetXYSplit(!0),this.Draw())},this.BindAllOverlayIndexData=function(t){if(this.Frame&&this.Frame.SubFrame)for(var e=0;e<this.Frame.SubFrame.length;++e){var i=this.Frame.SubFrame[e];for(var a in i.OverlayIndex){var r=i.OverlayIndex[a];this.BindOverlayIndexData(r,e,t)}}},this.BindOverlayIndexData=function(t,e,i){if(t.Script)return"function"==typeof t.Script.RequestData?void t.Script.RequestData(this,e,i):"function"==typeof t.Script.ExecuteScript?void t.Script.ExecuteScript(this,e,i):void t.Script.BindData(this,e,i)},this.GetChartPaint=function(t){var e=new Array;for(var i in this.ChartPaint)if(!(i<3)){var a=this.ChartPaint[i];a.ChartFrame==this.Frame.SubFrame[t].Frame&&e.push(a)}return e},this.CreateWindowIndex=function(t){this.WindowIndex[t].Create(this,t)},this.GetIndexInfo=function(){var t=[];for(var e in this.WindowIndex){var i=this.WindowIndex[e],a={Name:i.Name};i.ID&&(a.ID=i.ID),t.push(a)}return t},this.OnTouchFinished=function(){if(!0===this.CorssCursorTouchEnd)return void this.DrawDynamicInfo()},this.CreateExtendChart=function(t,e){var i;switch(t){case"MinuteTooltip":return i=e.Create&&"function"==typeof e.Create?e.Create():new fe,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,e.LanguageID=this.LanguageID,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"MinutePCTooltip":return i=e.Create&&"function"==typeof e.Create?e.Create():new pe,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,e.LanguageID=this.LanguageID,i.SetOption(e),this.ExtendChartPaint.push(i),i;case"画图工具":return i=new ve,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.Left=this.Frame.ChartBorder.Right,i.SetOption(e),this.ExtendChartPaint.push(i),this.Frame.ChartBorder.Right+=i.Width,i;case"MinuteBackgroundPaint":return i=new Ie,i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,e.LanguageID=this.LanguageID,i.SetOption(e),this.ExtendChartPaint.push(i),i;default:return(i=to.Create(t))?(i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.HQChart=this,i.SetOption(e),this.ExtendChartPaint.push(i),i):null}},this.SetMinuteInfo=function(t,e){this.ChartInfo=[];for(var i in t){var a=Ga.Get(t[i]);if(a){var r=a.Create();this.ChartInfo.push(r)}}1==e&&this.RequestMinuteInfoData()},this.GetChartMinuteInfo=function(){return this.ChartInfoPaint},this.CreateMinuteInfo=function(t){var e=new Pt;return e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.HQChartBorder=this.Frame.ChartBorder,e.ChartMinutePrice=this.ChartPaint[0],t&&e.SetOption&&e.SetOption(t),this.ChartInfoPaint=e,e},this.RequestMinuteInfoData=function(){if(!(this.ChartInfo.length<=0)){var t=this.GetChartMinuteInfo();t||(t=this.CreateMinuteInfo(null)),t.SourceData=this.SourceData;for(var e in this.ChartInfo)this.ChartInfo[e].RequestData(this)}},this.UpdataChartInfo=function(){var t=this.GetChartMinuteInfo();if(t){var e=new Mn.default;for(var i in this.ChartInfo){var a=this.ChartInfo[i].Data;for(var r in a){var n=a[r],o=n.Date+" "+n.Time;e.has(o)?e.get(o).Data.push(n):e.set(o,{Data:new Array(n)})}}t.Data=e}},this.RecvWindowIndex=function(t,e){var i=this.WindowIndex[t];if(i&&"function"==typeof i.RecvSubscribeData){var a=this.SourceData;i.RecvSubscribeData(e,this,t,a)}},this.UpdateWindowIndex=function(t){if(!(t<2)){var e=this.SourceData;this.BindIndexData(t,e),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw()}},this.CreateChartDrawPicture=function(t,e,i){var a=null,r=ai.GetDrawPictureByName(t);if(r&&(a=r.Create(),"ChartDrawPictureText"==a.ClassName&&(a.HQChart=this)),!a&&ai.MapIonFont.has(t)){var n=ai.MapIonFont.get(t);a=new bi,a.FontOption.Family=n.Family,a.Text=n.Text,n.Color&&(a.LineColor=n.Color)}if(!a)return!1;a.Canvas=this.Canvas,a.Status=0,a.Symbol=this.Symbol,a.Period=888888888,a.Option=this.ChartDrawOption,i&&(a.FinishedCallback=i),e&&a.SetOption(e);var o=this;return a.Update=function(){o.DrawDynamicInfo()},a.GetActiveDrawPicture=function(){return o.GetActiveDrawPicture()},this.CurrentChartDrawPicture=a,Nn.Chart.Log("[MinuteChartContainer::CreateChartDrawPicture] ",t,this.CurrentChartDrawPicture),!0},this.AddChartDrawPicture=function(t){if(!t)return null;if(t.FrameID<0||t.FrameID>=this.Frame.SubFrame.length)return null;var e=this,i=ai.GetDrawPictureByClassName(t.ClassName);if(!i)return null;var a=i.Create();return a.Canvas=this.Canvas,a.Status=10,a.Frame=this.Frame.SubFrame[t.FrameID].Frame,a.Symbol=this.Symbol,a.Period=888888888,t.Value&&(a.Value=t.Value),t.Guid&&(a.Guid=t.Guid),a.ImportStorageData&&a.ImportStorageData(t),a.SetOption(t),t.EnableUpdateXValue&&a.UpdateXValue(),a.ValueToPoint(),a.GetActiveDrawPicture=function(){return e.GetActiveDrawPicture()},"ChartDrawPictureText"===a.ClassName&&(a.IsInitialized=!0),this.ChartDrawPicture.push(a),1==t.Draw&&this.DrawDynamicInfo(),a},this.ReloadChartDrawPicture=function(){this.ChartDrawPicture=[],this.ChartDrawStorageCache,this.ChartDrawStorage&&(this.ChartDrawStorageCache=this.ChartDrawStorage.GetDrawData({Symbol:this.Symbol,Period:888888888}))},this.CreateChartDrawPictureByStorage=function(){if(this.ChartDrawStorageCache&&!(this.ChartDrawStorageCache.length<=0)){for(var t in this.ChartDrawStorageCache){var e=this.ChartDrawStorageCache[t];if(!(e.FrameID<0||!this.Frame.SubFrame||this.Frame.SubFrame.length<e.FrameID)){var i=ai.CreateChartDrawPicture(e);i&&(i.Canvas=this.Canvas,i.Status=10,i.Frame=this.Frame.SubFrame[e.FrameID].Frame,i.UpdateXValue(),i.ValueToPoint(),"ChartDrawPictureText"===i.ClassName&&(i.IsInitialized=!0),this.ChartDrawPicture.push(i))}}this.ChartDrawStorageCache=null}},this.SetSizeChange=function(t){this.Frame.SetSizeChage(t);for(var e in this.ExtendChartPaint){this.ExtendChartPaint[e].SizeChange=t}},this.SetSizeChage=this.SetSizeChange,this.GetDataIndexByPoint=function(t){var e=this.Frame;if(this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&(e=this.Frame.SubFrame[0].Frame),e){var i=e.GetXData(t);return parseInt(i.toFixed(0))}},this.GetSelectRectData=function(t){if(Math.abs(t.XStart-t.XEnd)<5)return!1;var e=this.PtInClient(t.XStart,t.YStart),i=this.PtInClient(t.XEnd,t.YEnd);t.StartClientPos=e,t.EndClientPos=i;var a=this.SourceData;if(!a)return!1;if(!Ee.IsNonEmptyArray(a.Data))return!1;var r=this.GetDataIndexByPoint(t.XStart),n=this.GetDataIndexByPoint(t.XEnd);if(Math.abs(r-n)<2)return!1;t.Data=a;var o=a.DataOffset;r+=o,n+=o,r>n?(t.Start=n,t.End=r):(t.Start=r,t.End=n);var s=a.Data.length;return t.End>=s&&(t.End=s-1),!0},this.Super_UpdateFrameMaxMin=this.UpdateFrameMaxMin,this.UpdateFrameMaxMin=function(){if(this.Super_UpdateFrameMaxMin(),1==this.DayCount){var t=this.Frame.SubFrame[1];t.Frame&&(t.Frame.XYSplit=!0)}},this.ExportMainData=function(t,e){return t.ExportMinuteData(e)},this.DisplayLatest=function(){var t=this.GetEventCallback(Rn.ON_DISPLAY_LATEST);if(t){var e={PreventDefault:!1};if(t.Callback(t,e,this),e.PreventDefault)return}this.CursorIndex=null,this.LastPoint.X=0,this.LastPoint.Y=0,this.GlobalOption.IsDisplayLatest=!0,this.DrawDynamicInfo()},this.TryClickIndexTitle=function(t,e){for(var i=0;i<this.TitlePaint.length;++i){var a=this.TitlePaint[i];if(a.IsClickTitle&&a.IsClickTitle(t,e)){var r={Point:{X:t,Y:e},Title:a.Title,FrameID:a.Frame.Identify};Nn.Chart.Log("[MinuteChartContainer::TryClickIndexTitle] click title ",r);var n=this.GetEventCallback(Rn.ON_CLICK_INDEXTITLE);return n&&n.Callback&&n.Callback(n,r,this),!0}}return!1}}function ha(t){this.newMethod=la,this.newMethod(t),delete this.newMethod,this.HistoryMinuteApiUrl="http://127.0.0.1:8080/cache/minuteday/day/",this.ClassName="HistoryMinuteChartContainer",this.CreateMainKLine=function(){var t=new Ot;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="Minute-Line",t.Color=lo.Minute.PriceColor,this.ChartPaint[0]=t;var e=new ct;e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[0].Frame,e.Name="Minute-Average-Line",e.Color=lo.Minute.AvPriceColor,this.ChartPaint[1]=e;var e=new ht;e.Color=lo.Minute.VolBarColor,e.Canvas=this.Canvas,e.ChartBorder=this.Frame.SubFrame[1].Frame.ChartBorder,e.ChartFrame=this.Frame.SubFrame[1].Frame,e.Name="Minute-Vol-Bar",this.ChartPaint[2]=e,this.TitlePaint[0]=new ti,this.TitlePaint[0].Frame=this.Frame.SubFrame[0].Frame,this.TitlePaint[0].Canvas=this.Canvas,this.TitlePaint[0].IsShowDate=!0},this.ChangeTradeDate=function(t){t&&(this.TradeDate=t,this.RequestData())},this.RequestData=function(){var t=new Date;1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()==this.TradeDate?this.RequestMinuteData():this.RequestHistoryMinuteData()},this.RequestHistoryMinuteData=function(){var t=this,e=this.HistoryMinuteApiUrl+this.TradeDate.toString()+"/"+this.Symbol+".json";n.HttpRequest({url:e,type:"get",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteData(e)},error:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryMinuteError(e)}})},this.RecvHistoryMinuteError=function(t){if(404==t.status){var e=new Q;this.SourceData=e;for(var i in this.ChartPaint)this.ChartPaint[i].Data=e,0==i&&(this.ChartPaint[i].NotSupportMessage="没有权限访问!");this.TitlePaint[0].Data=this.SourceData,this.TitlePaint[0].Symbol=this.Symbol,this.TitlePaint[0].Name=null,this.Draw()}},this.RecvHistoryMinuteData=function(t){var e=ha.JsonDataToMinuteData(t),i=new Q;if(i.Data=e,this.TradeDate=t.date,this.SourceData=i,this.Symbol=t.symbol,this.Name=t.name,this.BindMainData(i,t.day.yclose),this.Frame.SubFrame.length>2){var a=new Q;a.Data=e;for(var r=2;r<this.Frame.SubFrame.length;++r)this.BindIndexData(r,a)}this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}function ua(t){this.newMethod=sa,this.newMethod(t),delete this.newMethod,this.ClassName="CustomKLineChartContainer",this.CustomKLineApiUrl=lo.Domain+"/API/IndexCalculate",this.CustomStock,this.QueryDate={Start:20180101,End:20180627},this.RequestHistoryData=function(){var t=this;this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.Draw(),n.HttpRequest({url:this.CustomKLineApiUrl,data:{stock:t.CustomStock,Name:t.Symbol,date:{startdate:t.QueryDate.Start,enddate:t.QueryDate.End}},type:"post",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvHistoryData(e)}})},this.RecvHistoryData=function(t){var e=sa.JsonDataToHistoryData(t),i=new Q;i.Data=e,i.DataType=0;var a=new Q;if(a.Data=e,a.Right=this.Right,a.Period=this.Period,a.DataType=0,a.Right>0){var r=a.GetRightData(a.Right,{AlgorithmType:this.RightFormula});a.Data=r}if(Q.IsDayPeriod(this.Period,!1)){var n=i.GetPeriodData(a.Period);a.Data=n}this.SourceData=i,this.Name=t.name,this.BindMainData(a,this.PageSize);for(var o=0;o<this.Frame.SubFrame.length;++o)this.BindIndexData(o,a);this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}function ca(t,e){!0===e?(this.newMethod=fa,this.newMethod(t),delete this.newMethod):(this.newMethod=sa,this.newMethod(t),delete this.newMethod),this.BuySellPaint,this.TrainDataCount=300,this.TrainStartDate,this.AutoRunTimer=null,this.BuySellData=[],this.TrainCallback,this.DragMode=1,this.IsAutoUpdate=!1,this.KLineSourceData,this.TrainInfo={Start:{},End:{}},this.Super_RecvFlowCapitalData=this.RecvFlowCapitalData,this.CreateBuySellPaint=function(){var t=new ne;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.SubFrame[0].Frame.ChartBorder,t.ChartFrame=this.Frame.SubFrame[0].Frame,t.Name="KLine-Train-BuySell",this.ChartPaintEx[0]=t},this.GetKDataIndexByDateTime=function(t,e){if(!e||!t)return-1;for(var i=0;i<t.length;++i){var a=t[i];if(Q.IsMinutePeriod(this.Period,!0)){if(Ee.IsNumber(this.TrainStartDate.Time)){if(a.Date>=this.TrainStartDate.Date&&a.Time>=this.TrainStartDate.Time)return i}else if(a.Date>=this.TrainStartDate.Date)return i}else if((Q.IsDayPeriod(this.Period,!0)||Q.IsTickPeriod(this.Period))&&a.Date>=this.TrainStartDate.Date)return i}return-1},this.AfterBindMainData=function(t){this.ChartPaintEx[0]||this.CreateBuySellPaint();var e=this.ChartPaint[0].Data;this.ChartPaintEx[0].Data=e;var i=e.Data[e.Data.length-1];this.TrainInfo.LastShowData=i,this.TrainInfo.LastData=this.SourceData.Data[this.SourceData.Data.length-1],"Update"!=t&&this.UpdateTrainUICallback("开始")},this.BeforeBindMainData=function(t){if("Update"!=t){this.KLineSourceData=new Q,this.KLineSourceData.Data=this.SourceData.Data.slice(0);var e=this.SourceData.Data.length,i=e-this.TrainDataCount-20,a=this.GetKDataIndexByDateTime(this.SourceData.Data,this.TrainStartDate);a>=0&&(i=a+1,e-i<this.TrainDataCount&&(this.TrainDataCount=e-i));var r=i-1,n=this.SourceData.Data[r];this.TrainInfo.Start.Index=r,this.TrainInfo.Start.Date=n.Date,this.TrainInfo.Start.Time=n.Time,this.TrainInfo.End.Index=r,this.TrainInfo.End.Date=n.Date,this.TrainInfo.End.Time=n.Time,this.TrainInfo.LastData=n,this.SourceData.Data.length=i}},this.Run=function(t){if(!(this.AutoRunTimer||this.TrainDataCount<=0)){var e=this;this.AutoRunTimer=setInterval(function(){e.MoveNextKLineData(t)||clearInterval(e.AutoRunTimer)},1e3)}},this.MoveNextKLineData=function(t){if(this.TrainDataCount<=0)return!1;var e=1;t&&t.Step>1&&(e=t.Step);for(var i=0,a=0;a<e;++a){var r=this.TrainInfo.End.Index+1;if(r>=this.KLineSourceData.Data.length)break;var n=this.KLineSourceData.Data[r];if(this.SourceData.Data.push(n),this.TrainInfo.End.Index=r,this.TrainInfo.End.Date=n.Date,this.TrainInfo.End.Time=n.Time,--this.TrainDataCount,++i,this.TrainDataCount<=0)break}if(0==i)return!1;var o=this.Frame.GetCurrentPageSize();return Ee.IsNumber(o)&&(this.PageSize=o-this.RightSpaceCount),t&&t.PageSize>0&&(this.PageSize=t.PageSize),this.Update(),this.TrainDataCount<=0?(this.FinishTrainData(),this.UpdateTrainUICallback("结束"),!1):(this.UpdateTrainUICallback("训练中"),!0)},this.UpdateTrainUICallback=function(t){if(this.mapEvent.has(Rn.RECV_TRAIN_MOVE_STEP)){var e=this.mapEvent.get(Rn.RECV_TRAIN_MOVE_STEP);if(e.Callback){var i={TrainDataCount:this.TrainDataCount,BuySellData:this.BuySellData,KLine:{Start:{Index:this.TrainInfo.Start.Index,Date:this.TrainInfo.Start.Date},End:{Index:this.TrainInfo.End.Index,Date:this.TrainInfo.End.Date}},LastData:this.TrainInfo.LastData,LastShowData:this.TrainInfo.LastShowData};Ee.IsNumber(this.TrainInfo.Start.Time)&&(i.KLine.Start.Time=this.TrainInfo.Start.Time),Ee.IsNumber(this.TrainInfo.End.Time)&&(i.KLine.End.Time=this.TrainInfo.End.Time),t&&(i.Description=t),this.TrainDataCount<=0&&(i.Symbol=this.Symbol,i.Name=this.Name),e.Callback(e,i,this)}}},this.FinishTrainData=function(){Nn.Chart.Log("[KLineTrainChartContainer::FinishTrainData] trian end ")},this.Stop=function(){null!=this.AutoRunTimer&&clearInterval(this.AutoRunTimer),this.AutoRunTimer=null},this.BuyOrSell=function(t,e){if(!this.TrainInfo.LastShowData)return!1;var i=this.ChartPaintEx[0];if(!i)return!1;var a=this.ChartPaint[0].Data;if(!a||a.Data.length<=0)return!1;var r=a.Data.length-1,n={Date:this.TrainInfo.End.Date,Time:this.TrainInfo.End.Time,Price:t.Price,Vol:t.Vol,Op:0,ID:t.ID};1==t.Op&&(n.Op=1);var o=r;n.Key=o,this.BuySellData.push(n),i.AddTradeItem(n),1==e&&this.Draw()},this.RestartTrain=function(t){Nn.Chart.Log("[KLineTrainChartContainer::RestartTrain] option ",t),this.TrainInfo={Start:{},End:{}},this.BuySellData=[],this.KLineSourceData=null;var e=this.ChartPaintEx[0];e&&(e.Data=null,e.ClearTradeData()),t.Symbol&&(this.Symbol=t.Symbol),Ee.IsNumber(t.Period)&&(this.Period=t.Period),Ee.IsNumber(t.Right)&&(this.Right=t.Right),t.Train&&(t.Train.DataCount>1&&(this.TrainDataCount=t.Train.DataCount),t.Train.DateTime&&(this.TrainStartDate=t.Train.DateTime));var i=this.Symbol;this.ChangeSymbol(i)},this.RecvFlowCapitalData=function(t){if(t.stock&&1==t.stock.length){var e=t.stock[0],i=new Array;for(var a in e.stockday){var r=e.stockday[a],n=new J;n.Date=r.date;var o=r.capital;o&&(o.a>0&&(n.Value=o.a,i.push(n)))}if(Q.IsMinutePeriod(this.Period,!0)){var s=this.SourceData.GetMinuteFittingFinanceData(i);for(var l in this.SourceData.Data){var r=this.SourceData.Data[l];s[l]&&(r.FlowCapital=s[l].Value)}var h=this.ChartPaint[0].Data,u=new Q;if(u.Data=this.SourceData.Data,Q.IsMinutePeriod(h.Period,!1)){var c=u.GetPeriodData(h.Period);u.Data=c}h.Data=u.Data;var s=this.KLineSourceData.GetMinuteFittingFinanceData(i);for(var d in this.KLineSourceData.Data){var r=this.KLineSourceData.Data[d];s[d]&&(r.FlowCapital=s[d].Value)}}else{var s=this.SourceData.GetFittingFinanceData(i);for(var f in this.SourceData.Data){var r=this.SourceData.Data[f];s[f]&&(r.FlowCapital=s[f].Value)}var h=this.ChartPaint[0].Data,u=new Q;if(u.Data=this.SourceData.Data,h.Right>0){var p=u.GetRightData(h.Right,{AlgorithmType:this.RightFormula});u.Data=p}if(Q.IsDayPeriod(h.Period,!1)){var c=u.GetPeriodData(h.Period);u.Data=c}h.Data=u.Data;var s=this.KLineSourceData.GetFittingFinanceData(i);for(var m in this.KLineSourceData.Data){var r=this.KLineSourceData.Data[m];s[m]&&(r.FlowCapital=s[m].Value)}}this.FlowCapitalReady=!0;var C=!1;for(var v in this.ExtendChartPaint){var r=this.ExtendChartPaint[v];if("StockChip"==r.ClassName){C=!0;break}}C&&this.Draw()}},this.AutoUpdate()}function da(t,e){this.newMethod=ca,this.newMethod(t,e),delete this.newMethod,this.IsHScreen=e,this.IsZoomLockRight=!0,this.RightSpaceCount=0,this.RecvFlowCapitalData=function(t){this.Super_RecvFlowCapitalData(t)},this.BeforeBindMainData=function(t){},this.UpdateLastDataIcon=function(){if(this.ChartPaintEx[0]){this.ChartPaintEx[0].LastDataIndex=this.TrainInfo.End.Index}},this.AfterBindMainData=function(t){if(this.ChartPaintEx[0]||(this.CreateBuySellPaint(),this.ChartPaintEx[0].LastDataDrawType=1),"Update"!=t){var e=this.ChartOperator_Temp_GetHistroyData();if(!e)return!1;var i=e.Data.length,a=i-this.TrainDataCount-20,r=this.Frame.SubFrame[0].Frame.XPointCount,n=this.GetKDataIndexByDateTime(e.Data,this.TrainStartDate);n>=0&&(a=n+1,i-a<this.TrainDataCount&&(this.TrainDataCount=i-a));var o=a-r;e.DataOffset=o;var s=a-1,l=e.Data[s];this.TrainInfo.LastShowData=l,this.TrainInfo.LastData=l,this.TrainInfo.Start.Index=s,this.TrainInfo.Start.Date=l.Date,this.TrainInfo.Start.Time=l.Time,this.TrainInfo.End.Index=s,this.TrainInfo.End.Date=l.Date,this.TrainInfo.End.Time=l.Time,this.UpdateLastDataIcon(),this.UpdateTrainUICallback("开始")}},this.Super_UpdataDataoffset=this.UpdataDataoffset,this.UpdataDataoffset=function(){this.Super_UpdataDataoffset();var t=this.ChartPaint[0].Data;this.ChartPaintEx[0].Data=t},this.MoveNextKLineData=function(t){if(this.TrainDataCount<=0)return!1;var e=this.ChartOperator_Temp_GetHistroyData();if(!e)return!1;var i=1;t&&t.Step>1&&(i=t.Step);for(var a=e.Data.length,r=0,n=0;n<i;++n){var o=this.TrainInfo.End.Index+1;if(o>=a)break;var s=e.Data[o];if(this.TrainInfo.End.Index=o,this.TrainInfo.End.Date=s.Date,this.TrainInfo.End.Time=s.Time,--this.TrainDataCount,++r,this.TrainDataCount<=0)break}if(0==r)return!1;this.TrainInfo.LastShowData=s,this.TrainInfo.LastData=s;var l=this.TrainInfo.End.Index,h=this.Frame.SubFrame[0].Frame.XPointCount,u=l-h+1;return e.DataOffset=u,this.UpdateLastDataIcon(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.TrainDataCount<=0?(this.FinishTrainData(),this.UpdateTrainUICallback("结束"),!1):(this.UpdateTrainUICallback("训练中"),!0)},this.BuyOrSell=function(t,e){if(!this.TrainInfo.LastShowData)return!1;var i=this.ChartPaintEx[0];if(!i)return!1;var a=this.ChartPaint[0].Data;if(!a||a.Data.length<=0)return!1;var r=this.TrainInfo.End.Index,n={Date:this.TrainInfo.End.Date,Time:this.TrainInfo.End.Time,Price:t.Price,Vol:t.Vol,Op:0,ID:t.ID};1==t.Op&&(n.Op=1);var o=r;n.Key=o,this.BuySellData.push(n),i.AddTradeItem(n),1==e&&this.Draw()},this.DataMove=function(t,e){var i=this.GetMoveOneStepWidth(),a=t;if((t=parseInt(t/i))<=0)return!1;var r=this.ChartOperator_Temp_GetHistroyData();if(!r)return!1;var n=0;if(!(n=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount))return!1;if(this.Frame.SubFrame&&this.Frame.SubFrame.length>0&&this.Frame.SubFrame[0].Frame){var o=this.Frame.SubFrame[0].Frame;(o.DataWidth<=1||o.DistanceWidth<=1)&&Ee.IsPlusNumber(this.StepPixel)&&(t=a*this.StepPixel)}if(e){if(this.RightSpaceCount>0){if(n+r.DataOffset>=r.Data.length+this.RightSpaceCount-1)return!1;r.DataOffset+=t,r.DataOffset+n>=r.Data.length+this.RightSpaceCount&&(r.DataOffset=r.Data.length-(n-this.RightSpaceCount))}else{var s=this.TrainInfo.End.Index+1;if(n+r.DataOffset>=s)return!1;r.DataOffset+=t,r.DataOffset+n>=s&&(r.DataOffset=s-n)}return!0}return!(r.DataOffset<=0)&&(r.DataOffset-=t,r.DataOffset<0&&(r.DataOffset=0),!0)},this.DataMoveRight=function(){var t=this.ChartOperator_Temp_GetHistroyData();if(!t)return!1;var e=0;if(!(e=this.Frame.XPointCount?this.Frame.XPointCount:this.Frame.SubFrame[0].Frame.XPointCount))return!1;var i=this.TrainInfo.End.Index+1;return!(e+t.DataOffset>=i)&&(++t.DataOffset,!0)}}function fa(t){this.newMethod=sa,this.newMethod(t),delete this.newMethod,this.ClassName="KLineChartHScreenContainer",this.OnMouseMove=function(t,e,i,a){this.LastPoint.X=t,this.LastPoint.Y=e,this.CursorIndex=this.Frame.GetXData(e);var r={ParentFunction:"OnMouseMove",Point:{X:t,Y:e},IsPhone:!0===a};this.DrawDynamicInfo(r)},t.onmousedown=function(e){if(this.JSChartContainer&&0!=this.JSChartContainer.DragMode){var i=c();if(this.JSChartContainer.TryClickLock){var a=(e.clientX-this.getBoundingClientRect().left)*i,r=(e.clientY-this.getBoundingClientRect().top)*i;if(this.JSChartContainer.TryClickLock(a,r))return}var n={Click:{},LastMove:{}};n.Click.X=e.clientX,n.Click.Y=e.clientY,n.LastMove.X=e.clientX,n.LastMove.Y=e.clientY,this.JSChartContainer.MouseDrag=n,document.JSChartContainer=this.JSChartContainer,this.JSChartContainer.SelectChartDrawPicture=null,t.ondblclick=function(t){var e=t.clientX-this.getBoundingClientRect().left,i=t.clientY-this.getBoundingClientRect().top;this.JSChartContainer&&this.JSChartContainer.OnDoubleClick(e,i,t)},document.onmousemove=function(t){if(this.JSChartContainer&&(!this.JSChartContainer.ChartSplashPaint||1!=this.JSChartContainer.ChartSplashPaint.IsEnableSplash)){var e=this.JSChartContainer.MouseDrag;if(e){var i=Math.abs(e.LastMove.Y-t.clientY);if(1==this.JSChartContainer.DragMode){if(i<5)return;if(i<this.JSChartContainer.GetMoveOneStepWidth())return;var a=!0;e.LastMove.Y<t.clientY&&(a=!1),this.JSChartContainer.DataMove(i,a)&&(this.JSChartContainer.UpdataDataoffset(),this.JSChartContainer.UpdatePointByCursorIndex(),this.JSChartContainer.UpdateFrameMaxMin(),this.JSChartContainer.ResetFrameXYSplit(),this.JSChartContainer.Draw()),e.LastMove.X=t.clientX,e.LastMove.Y=t.clientY}}}},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null,this.JSChartContainer.MouseDrag=null,this.JSChartContainer.CurrentChartDrawPicture=null,this.JSChartContainer=null}}},this.OnTouchStart=function(e){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){this.PhonePinch=null,this.IsOnTouch=!0,this.TouchDrawCount=0,this.StopDragTimer();var i=this.IsSingleTouch(e);if(e.cancelable&&e.preventDefault(),this.IsPhoneDragging(e)){var a=this.GetToucheData(e,!1),r=this.PointAbsoluteToRelative(a[0].clientX,a[0].clientY,!0);if(this.TryClickLock||this.TryClickIndexTitle){var n=r.X,o=r.Y;if(this.TryClickLock&&this.TryClickLock(n,o))return;if(this.TryClickIndexTitle&&this.TryClickIndexTitle(n,o))return}if(this.ClickFrameButton){var s=this.Frame.PtInButtons(r.X,r.Y);if(s)return void this.ClickFrameButton(s,e)}this.EnableVerticalDrag&&(this.VerticalDrag={IsDrag:!1},this.Frame.PtInFrameVertical(r.X,r.Y)&&(this.VerticalDrag.IsDrag=!0));var l=!0;this.ChartDrawOption.IsLockScreen?l=!1:this.DragMode==kn.CLICK_TOUCH_MODE_ID?1==this.TouchStatus.CorssCursorShow&&(l=!1):this.DragMode==kn.DISABLE_DRAG_ID?l=!1:i||(l=!1),this.VerticalDrag&&(l=!1);var h={Click:{},LastMove:{}};if(h.Click.X=a[0].clientX,h.Click.Y=a[0].clientY,h.LastMove.X=a[0].clientX,h.LastMove.Y=a[0].clientY,this.MouseDrag=h,this.PhoneTouchInfo={Start:{X:a[0].clientX,Y:a[0].clientY},End:{X:a[0].clientX,Y:a[0].clientY}},this.SelectChartDrawPicture&&(this.SelectChartDrawPicture.IsSelected=!1),this.SelectChartDrawPicture=null,this.CurrentChartDrawPicture){return 2==this.CurrentChartDrawPicture.Status?this.SetChartDrawPictureThirdPoint(h.Click.X,h.Click.Y,!0):(this.SetChartDrawPictureFirstPoint(h.Click.X,h.Click.Y,!0),this.FinishChartDrawPicturePoint()&&this.DrawDynamicInfo({Corss:!1,Tooltip:!1})),void(e.cancelable&&e.preventDefault())}var u={};c();if(u.X=a[0].clientX-t.getBoundingClientRect().left,u.Y=a[0].clientY-t.getBoundingClientRect().top,this.GetChartDrawPictureByPoint(u)){u.ChartDrawPicture.Status=20,u.ChartDrawPicture.ValueToPoint(),u.ChartDrawPicture.MovePointIndex=u.PointIndex,u.ChartDrawPicture.IsSelected=!0,this.CurrentChartDrawPicture=u.ChartDrawPicture,this.SelectChartDrawPicture=u.ChartDrawPicture;var d=this.GetEventCallback(Rn.ON_CLICK_DRAWPICTURE);if(d&&d.Callback){var f={DrawPicture:u.ChartDrawPicture};d.Callback(d,f,this)}return void(e.cancelable&&e.preventDefault())}if(l){var p=this;this.DragTimer=setTimeout(function(){if(h.Click.X==h.LastMove.X&&h.Click.Y==h.LastMove.Y){p.MouseDrag;p.MouseDrag=null,p.MoveCorssCursor(h.Click,e)}},p.PressTime)}this.ChartDrawOption.IsLockScreen?this.MouseDrag=null:this.DragMode==kn.CLICK_TOUCH_MODE_ID||(this.DragMode==kn.DISABLE_DRAG_ID?(this.MouseDrag=null,this.MoveCorssCursor(h.Click,e)):this.VerticalDrag?this.VerticalDrag.IsDrag||this.MoveCorssCursor(h.Click,e):this.IsClickShowCorssCursor&&this.MoveCorssCursor(h.Click,e))}else if(this.IsPhonePinching(e)){var m={Start:{},Last:{}},a=this.GetToucheData(e,!1);m.Start={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},m.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},this.PhonePinch=m,this.SelectChartDrawPicture=null}this.TouchEvent({EventID:Rn.ON_PHONE_TOUCH,FunctionName:"OnTouchStart"},e)}},this.OnTouchMove=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){t.cancelable&&t.preventDefault();var e=this.GetToucheData(t,!1);if(this.IsPhoneDragging(t)){var i=this.MouseDrag;if(null==i)this.ChartDrawOption.IsLockScreen||this.MoveCorssCursor({X:e[0].clientX,Y:e[0].clientY},t);else{var a=Math.abs(i.LastMove.Y-e[0].clientY),r=Math.abs(i.LastMove.X-e[0].clientX),n=this.DragMode==kn.CLICK_TOUCH_MODE_ID&&1==this.TouchStatus.CorssCursorShow;if(this.VerticalDrag&&(n=!0!==this.VerticalDrag.IsDrag),this.CurrentChartDrawPicture){var o=this.CurrentChartDrawPicture;if(1==o.Status||2==o.Status){if(a<5&&r<5)return;this.SetChartDrawPictureSecondPoint(e[0].clientX,e[0].clientY,!0)&&this.DrawDynamicInfo()}else if(3==o.Status)this.SetChartDrawPictureThirdPoint(e[0].clientX,e[0].clientY,!0)&&this.DrawDynamicInfo();else if(20==o.Status){if(a<5&&r<5)return;this.MoveChartDrawPicture(e[0].clientX-i.LastMove.X,e[0].clientY-i.LastMove.Y,!0)&&this.DrawDynamicInfo()}i.LastMove.X=e[0].clientX,i.LastMove.Y=e[0].clientY}else if(n){this.MouseDrag;this.MouseDrag=null,this.MoveCorssCursor(i.Click,t)}else if(1==this.DragMode||0==n){if(a<5)return;var s=this.GetMoveOneStepWidth();if(a<s)return;if(this.EnableVerticalDrag){if(!this.VerticalDrag)return;if(!this.VerticalDrag.IsDrag)return}var l=!0;i.LastMove.Y<e[0].clientY&&(l=!1),this.DataMove(a,l)?(this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.ResetFrameXYSplit(),this.Draw(),this.OnKLinePageChange("OnTouchMove")):this.DragDownloadData&&this.DragDownloadData(),i.LastMove.X=e[0].clientX,i.LastMove.Y=e[0].clientY}}this.PhoneTouchInfo&&(this.PhoneTouchInfo.End.X=e[0].clientX,this.PhoneTouchInfo.End.Y=e[0].clientY)}else if(this.IsPhonePinching(t)){if(this.DragMode==kn.DISABLE_DRAG_ID)return;var h=this.PhonePinch;if(!h)return;var u=Math.abs(e[0].pageX-e[1].pageX),c=Math.abs(h.Last.X-h.Last.X2),d=u-c;if(Math.abs(d)<5)return;if(d>0){var f={};if(f.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomUp(f))return;this.CursorIndex=f.Index,this.UpdatePointByCursorIndex(),this.UpdataDataoffset(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("OnTouchMove")}else{var f={};if(f.Index=parseInt(Math.abs(this.CursorIndex-.5).toFixed(0)),!this.Frame.ZoomDown(f))return;this.CursorIndex=f.Index,this.UpdataDataoffset(),this.UpdatePointByCursorIndex(),this.UpdateFrameMaxMin(),this.Draw(),this.ShowTooltipByKeyDown(),this.OnKLinePageChange("OnTouchMove")}h.Last={X:e[0].pageX,Y:e[0].pageY,X2:e[1].pageX,Y2:e[1].pageY}}}},this.OnTouchEnd=function(t){if(Nn.Chart.Log("[KLineChartHScreenContainer:OnTouchEnd]",t),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){if(this.CurrentChartDrawPicture){var e=this.CurrentChartDrawPicture;2==e.Status||1==e.Status||3==e.Status?(e.PointStatus=e.Status,this.FinishChartDrawPicturePoint()?this.DrawDynamicInfo():!1):20==e.Status&&this.FinishMoveChartDrawPicture()&&this.DrawDynamicInfo()}this.IsOnTouch=!1,this.VerticalDrag=null,this.StopDragTimer(),this.TouchEvent({EventID:Rn.ON_PHONE_TOUCH,FunctionName:"OnTouchEnd"},t),this.OnTouchFinished(),this.TouchDrawCount=0}},this.Create=function(t){var e=this;this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new Re,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=no.Create("CorssCursor_XStringFormat"),this.ChartCorssCursor.StringFormatX.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY=no.Create("CorssCursor_YStringFormat"),this.ChartCorssCursor.StringFormatY.LanguageID=this.LanguageID,this.ChartCorssCursor.StringFormatY.ExtendChartPaint=this.ExtendChartPaint,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new Y,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine();for(var i in this.Frame.SubFrame){var a=new ii;a.Frame=this.Frame.SubFrame[i].Frame,a.Canvas=this.Canvas,a.LanguageID=this.LanguageID,a.GetEventCallback=function(t){return e.GetEventCallback(t)},a.SelectedChart=this.SelectedChart,this.TitlePaint.push(a)}this.UIElement.addEventListener("keydown",f,!0)},this.CreateChildWindow=function(t){for(var e=this,i=0;i<t;++i){var a=new w;a.UIElement=this.UIElement;var r=Yn.Create("KLineHScreenFrame",{ID:i});if(r.Canvas=this.Canvas,r.ChartBorder=a,r.Identify=i,r.RightSpaceCount=this.RightSpaceCount,this.ModifyIndexDialog&&(r.ModifyIndexEvent=this.ModifyIndexDialog.DoModal),this.ChangeIndexDialog&&(r.ChangeIndexEvent=this.ChangeIndexDialog.DoModal),r.HorizontalMax=20,r.HorizontalMin=10,0==i){r.YSplitOperator=new Fe,r.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),r.YSplitOperator.FrameSplitData2=this.FrameSplitData.get("double"),r.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)};var n=c();a.TopSpace=12*n,a.BottomSpace=12*n}else r.YSplitOperator=new Le,r.YSplitOperator.LanguageID=this.LanguageID,r.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double");r.YSplitOperator.Frame=r,r.YSplitOperator.ChartBorder=a,r.XSplitOperator=new Me,r.XSplitOperator.Frame=r,r.XSplitOperator.ChartBorder=a,r.XSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},i!=t-1&&(r.XSplitOperator.ShowText=!1);for(var o=r.HorizontalMin;o<=r.HorizontalMax;o+=1)r.HorizontalInfo[o]=new T,r.HorizontalInfo[o].Value=o,0==i&&o==r.HorizontalMin||(r.HorizontalInfo[o].Message[1]=o.toString(),r.HorizontalInfo[o].Font="14px 微软雅黑");var s=new V;s.Frame=r,s.Height=0==i?20:10,this.Frame.SubFrame[i]=s}}}function pa(t){this.newMethod=la,this.newMethod(t),delete this.newMethod,this.ClassName="MinuteChartHScreenContainer",this.OnMouseMove=function(t,e,i,a){this.LastPoint.X=t,this.LastPoint.Y=e,this.CursorIndex=this.Frame.GetXData(e);var r=this.PtInClient(t,e),n={ParentFunction:"OnMouseMove",Point:{X:t,Y:e},IsPhone:!0===a,ClientPos:r};this.DrawDynamicInfo(n)},this.Create=function(t){var e=this;this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new Re,this.ChartCorssCursor.PtInClient=function(t,i){return e.PtInClient(t,i)},this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.StringFormatX=no.Create("CorssCursor_Minute_XStringFormat"),this.ChartCorssCursor.StringFormatX.GetEventCallback=function(t){return e.GetEventCallback(t)},this.ChartCorssCursor.StringFormatY=no.Create("CorssCursor_YStringFormat"),this.ChartCorssCursor.StringFormatY.GetEventCallback=function(t){return e.GetEventCallback(t)},this.ChartCorssCursor.CallAcutionXOperator=new Pe,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.HQChart=this,this.Frame=new Y,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=25,this.Frame.ChartBorder.Left=50,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor.Frame=this.Frame,this.ChartSplashPaint.Frame=this.Frame,this.CreateChildWindow(t),this.CreateMainKLine();for(var i in this.Frame.SubFrame){var a=new ii;a.Frame=this.Frame.SubFrame[i].Frame,a.Canvas=this.Canvas,a.LanguageID=this.LanguageID,a.GetEventCallback=function(t){return e.GetEventCallback(t)},a.SelectedChart=this.SelectedChart,this.TitlePaint.push(a)}this.ChartCorssCursor.StringFormatX.Frame=this.Frame.SubFrame[0].Frame,this.ChartCorssCursor.StringFormatY.Frame=this.Frame,this.ChartCorssCursor.CallAcutionXOperator.Frame=this.Frame.SubFrame[0].Frame,this.UIElement.addEventListener("keydown",f,!0)},this.CreateChildWindow=function(t){for(var e=this,i=0;i<t;++i){var a=new w;a.UIElement=this.UIElement;var r=new O;r.Canvas=this.Canvas,r.ChartBorder=a,r.Identify=i,i<2&&(r.ChartBorder.TitleHeight=0),r.XPointCount=243;var n=[9,8,7,6,5,4,3,2,1];r.HorizontalMax=n[0],r.HorizontalMin=n[n.length-1],0==i?(r.YSplitOperator=new Ae,r.YSplitOperator.FrameSplitData=this.FrameSplitData.get("price"),r.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},r.YSplitOperator.DayOffset=this.DayOffset,r.YSplitOperator.HQChart=this):(r.YSplitOperator=new Le,r.YSplitOperator.LanguageID=this.LanguageID,r.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),r.YSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)}),r.YSplitOperator.Frame=r,r.YSplitOperator.ChartBorder=a,r.XSplitOperator=new Oe,r.XSplitOperator.Frame=r,r.XSplitOperator.ChartBorder=a,r.XSplitOperator.DayOffset=this.DayOffset,r.XSplitOperator.GetEventCallback=function(t){return e.GetEventCallback(t)},i!=t-1&&(r.XSplitOperator.ShowText=!1),r.XSplitOperator.Operator();for(var o in n)r.HorizontalInfo[o]=new T,r.HorizontalInfo[o].Value=n[o],0==i&&o==r.HorizontalMin||(r.HorizontalInfo[o].Message[1]=n[o].toString(),r.HorizontalInfo[o].Font="14px 微软雅黑");var s=new V;s.Frame=r,s.Height=0==i?20:10,this.Frame.SubFrame[i]=s}}}function ma(t){this.newMethod=u,this.newMethod(t),delete this.newMethod,this.ClassName="DepthChartContainer",this.Symbol,this.MapAsk=new Mn.default,this.MapBid=new Mn.default,this.IsAutoUpdate=!1,this.AutoUpdateFrequency=3e4,this.AutoUpdateTimer,this.DefaultZoom=.8,this.MaxVolRate=1.1,this.Create=function(t){var e=this;this.UIElement.JSChartContainer=this,this.ChartCorssCursor=new Be,this.ChartCorssCursor.Canvas=this.Canvas,this.ChartCorssCursor.HQChart=this,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.Frame=new X,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.ChartBorder.TitleHeight=0,this.Frame.Canvas=this.Canvas,this.Frame.Identify=0;var i=new Le;i.FrameSplitData=this.FrameSplitData.get("double"),i.LanguageID=this.LanguageID,i.Frame=this.Frame,i.SplitCount=5,i.LineType=3,i.IgnoreYValue=[0],i.ChartBorder=this.Frame.ChartBorder,i.GetEventCallback=function(t){return e.GetEventCallback(t)},this.Frame.YSplitOperator=i;var a=new _e;a.Frame=this.Frame,a.ChartBorder=this.Frame.ChartBorder,a.LanguageID=this.LanguageID,a.LineType=3,a.GetEventCallback=function(t){return e.GetEventCallback(t)},this.Frame.XSplitOperator=a,this.ChartCorssCursor&&(this.ChartCorssCursor.Frame=this.Frame),this.ChartSplashPaint.Frame=this.Frame;var r=new oe;r.Canvas=this.Canvas,r.ChartBorder=this.Frame.ChartBorder,r.ChartFrame=this.Frame,r.Name="深度图",this.ChartPaint.push(r);var n=!0;t&&!1===t.Wheel&&(n=!1,Nn.Chart.Log("[DepthChartContainer::Create] not register wheel event.")),this.UIElement.addEventListener("keydown",function(t){e.OnKeyDown(t)},!0),n&&this.UIElement.addEventListener("wheel",function(t){e.OnWheel(t)},!0)},this.OnWheel=function(t){Nn.Chart.Log("[KLineChartContainer::OnWheel]",t);var e=t.clientX-this.UIElement.getBoundingClientRect().left,i=t.clientY-this.UIElement.getBoundingClientRect().top,a=!1;this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),a=this.Canvas.isPointInPath(e,i);var r=t.wheelDelta;Ee.IsObjectExist(t.wheelDelta)||(r=-.01*t.deltaY);var n=!0;this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Wheel&&(n=!1),a&&r<0&&n?this.Frame.ZoomDown()&&(this.UpdateFrameMaxMin(),this.Draw()):a&&r>0&&n&&this.Frame.ZoomUp()&&(this.UpdateFrameMaxMin(),this.Draw()),t.preventDefault?t.preventDefault():t.returnValue=!1},this.UIOnMouseDown=function(t){},this.OnTouchStart=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){this.IsOnTouch=!0,this.TouchDrawCount=0,this.PhonePinch=null;var e=this.IsSingleTouch(t);if(0!=this.EnableScrollUpDown&&e||t.cancelable&&t.preventDefault(),this.IsPhoneDragging(t)){var i={Click:{},LastMove:{}},a=this.GetToucheData(t,this.IsForceLandscape);i.Click.X=a[0].clientX,i.Click.Y=a[0].clientY,i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY,this.MouseDrag=i,this.MoveCorssCursor(i.Click,t)}else if(this.IsPhonePinching(t)){var r={Start:{},Last:{}},a=this.GetToucheData(t,this.IsForceLandscape);r.Start={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},r.Last={X:a[0].pageX,Y:a[0].pageY,X2:a[1].pageX,Y2:a[1].pageY},this.PhonePinch=r}}},this.OnTouchMove=function(e){var i=this.GetToucheData(e,!1);if(this.IsPhoneDragging(e)){var a=this.MouseDrag;if(null==a){var r=c(),n=i[0].clientX-t.getBoundingClientRect().left*r,o=i[0].clientY-t.getBoundingClientRect().top*r;this.OnMouseMove(n,o,e)}else{var s=this.GetMoveAngle(a.LastMove,{X:i[0].clientX,Y:i[0].clientY}),l=Math.abs(a.LastMove.X-i[0].clientX),h=Math.abs(a.LastMove.Y-i[0].clientY);if(l=parseInt(l),(h>0&&l<=3||s<=this.TouchMoveMinAngle)&&1==this.EnableScrollUpDown)return;this.PreventTouchEvent(e),this.MouseDrag=null;var r=c(),n=i[0].clientX-t.getBoundingClientRect().left*r,o=i[0].clientY-t.getBoundingClientRect().top*r;this.OnMouseMove(n,o,e)}}else if(this.IsPhonePinching(e)){this.PreventTouchEvent(e);var u=this.PhonePinch;if(!u)return;if(this.EnableZoomUpDown&&!1===this.EnableZoomUpDown.Touch)return;var d=Math.abs(i[0].pageY-i[1].pageY),f=Math.abs(u.Last.Y-u.Last.Y2),p=d-f,m=Math.abs(i[0].pageX-i[1].pageX),C=Math.abs(u.Last.X-u.Last.X2),v=m-C,D=this.ZoomStepPixel;if(Math.abs(p)<D&&Math.abs(v)<D)return;var g=p;if(Math.abs(p)<D&&(g=v),g>0){if(!this.Frame.ZoomUp())return;this.UpdateFrameMaxMin(),this.Draw()}else{if(!this.Frame.ZoomDown())return;this.UpdateFrameMaxMin(),this.Draw()}u.Last={X:i[0].pageX,Y:i[0].pageY,X2:i[1].pageX,Y2:i[1].pageY}}this.PreventTouchEvent(e)},this.OnTouchEnd=function(t){Nn.Chart.Log("[DepthChartContainer::OnTouchEnd]",t),this.IsOnTouch=!1,this.OnTouchFinished(),this.TouchDrawCount=0},this.OnTouchFinished=function(){if(!0===this.CorssCursorTouchEnd)return void this.DrawDynamicInfo()},this.ChangeSymbol=function(t){this.CancelAutoUpdate(),this.Symbol=t,this.MapBid=new Mn.default,this.MapAsk=new Mn.default,this.Frame.VerticalRange.Differ=null,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.Draw(),this.RequestDepthData()},this.RequestDepthData=function(){var t=this;if(this.NetworkFilter){var e={Name:"DepthChartContainer::RequestDepthData",Explain:"深度图数据",Request:{Data:{symbol:t.Symbol}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvDepthData(e),t.AutoUpdate()}),1==e.PreventDefault)return}},this.RecvDepthData=function(t){this.UpdateAskAndBid(t);var e=(0,Dn.default)(this.MapAsk.values());e.sort(function(t,e){return t.Price-e.Price});var i=0;for(var a in e){var r=e[a];i+=r.Vol,e[a]={Price:r.Price,Vol:i}}var n=(0,Dn.default)(this.MapBid.values());n.sort(function(t,e){return e.Price-t.Price});var i=0;for(var a in n){var r=n[a];i+=r.Vol,n[a]={Price:r.Price,Vol:i}}var o={Asks:e,Bids:n};this.ChartPaint[0].Data=o,this.Frame.XSplitOperator.Symbol=this.Symbol,this.ChartCorssCursor.Data=o,this.ChartCorssCursor.Symbol=this.Symbol,this.UpdateFramePriceList(),this.UpdateFrameMaxMin(),this.Draw()},this.UpdateAskAndBid=function(t){"snapshot"==t.datatype&&(this.MapBid=new Mn.default,this.MapAsk=new Mn.default);for(var e in t.asks){var i=t.asks[e],a=parseFloat(i[0]),r=parseFloat(i[1]);if(this.MapAsk.has(a)){var n=this.MapAsk.get(a);r<=0?this.MapAsk.delete(a):n.Vol=r}else r>0&&this.MapAsk.set(a,{Price:a,Vol:r})}for(var e in t.bids){var i=t.bids[e],a=parseFloat(i[0]),r=parseFloat(i[1]);if(this.MapBid.has(a)){var n=this.MapBid.get(a);r<=0?this.MapBid.delete(a):n.Vol=r}else r>0&&this.MapBid.set(a,{Price:a,Vol:r})}},this.UpdateFramePriceList=function(){var t=(0,Dn.default)(this.MapAsk.keys()),e=(0,Dn.default)(this.MapBid.keys());t.sort(function(t,e){return t-e}),e.sort(function(t,e){return t-e});var i={Max:88,Min:8};if(t.length>1&&e.length>1){var a=t[0],r=t[t.length-1],n=e[0],o=e[e.length-1],s=r-a,l=o-n,h=Math.max(s,l),u={Min:a,Max:a+h},c={Max:o,Min:o-h};i={Max:u.Max,Min:c.Min}}this.Frame.SetPriceList(t,e);var d=this.Frame.VerticalRange;d.Max=i.Max,d.Center=i.Min+(i.Max-i.Min)/2,d.Min=i.Min,d.MaxDiffer=h,d.Ask=u,d.Bid=c,Ee.IsNumber(d.Differ)||(d.Differ=h*this.DefaultZoom),d.Min=d.Center-d.Differ,d.Max=d.Center+d.Differ},this.UpdateFrameMaxMin=function(){var t=this.ChartPaint[0].GetMaxMin();this.Frame.HorizontalMax=t.Max*this.MaxVolRate,this.Frame.HorizontalMin=0,this.Frame.XYSplit=!0},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=void 0)},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.AutoUpdate=function(){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var t=this,e=po.GetMarketStatus(this.Symbol);if(0!=e&&3!=e){var i=this.AutoUpdateFrequency;1==e?this.AutoUpdateTimer=setTimeout(function(){t.AutoUpdate()},i):2==e&&(this.AutoUpdateTimer=setTimeout(function(){t.RequestDepthData()},i))}}}}function Ca(t){this.newMethod=u,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new W,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartCorssCursor&&(this.ChartCorssCursor.Frame=this.Frame),this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart(),this.UIElement.addEventListener("keydown",f,!0)},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl){for(var t in this.MainDataControl.DataType){var e=this.MainDataControl.DataType[t];if("BAR"==e.Type){var i=new Bt;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.Name=e.Name,e.Color&&(i.UpBarColor=e.Color),e.Color2&&(i.DownBarColor=e.Color2),this.ChartPaint.push(i)}else if("LINE"==e.Type){var i=new ct;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.Name=e.Name,e.Color&&(i.Color=e.Color),this.ChartPaint.push(i)}}this.Frame.YSplitOperator=new Le,this.Frame.YSplitOperator.FrameSplitData=this.FrameSplitData.get("double"),this.Frame.YSplitOperator.Frame=this.Frame,this.Frame.YSplitOperator.ChartBorder=this.Frame.ChartBorder,this.Frame.XSplitOperator=new Ne,this.Frame.XSplitOperator.Frame=this.Frame,this.Frame.XSplitOperator.ChartBorder=this.Frame.ChartBorder}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){var e=0;for(var i in t.Data){var a=new Q;a.Data=t.Data[i],this.ChartPaint[i].Data=a,e<a.Data.length&&(e=a.Data.length)}this.Frame.XPointCount=e,this.Frame.Data=this.ChartPaint[0].Data,this.Frame.XData=t.XData,this.UpdateFrameMaxMin(),this.Frame.SetSizeChage(!0),this.Draw()}}function va(t){this.Radius,this.newMethod=u,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.OnMouseMove=function(t,e,i){},this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new L,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart()},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl)for(var t in this.MainDataControl.DataType){var e=this.MainDataControl.DataType[t];if("PIE"==e.Type){var i=new se;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.Name=e.Name,this.Radius&&(i.Radius=this.Radius),this.ChartPaint.push(i)}else if("RADAR"==e.Type){var i=new le;i.Canvas=this.Canvas,i.ChartBorder=this.Frame.ChartBorder,i.ChartFrame=this.Frame,i.Name=e.Name,e.StartAngle&&(i.StartAngle=e.StartAngle),this.ChartPaint.push(i)}}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){for(var e in t.Data){var i=new Q;i.Data=t.Data[e],this.ChartPaint[e].Data=i}this.Frame.SetSizeChage(!0),this.Draw()}}function Da(t){this.newMethod=u,this.newMethod(t),delete this.newMethod,this.MainDataControl,this.OnMouseMove=function(t,e,i){},this.Create=function(){this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.Frame=new L,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame,this.CreateMainChart()},this.SetMainDataConotrl=function(t){t&&(this.MainDataControl=t,this.ChartPaint=[],this.CreateMainChart(),this.Draw(),this.RequestData())},this.CreateMainChart=function(){if(this.MainDataControl){var t=new he;t.Canvas=this.Canvas,t.ChartBorder=this.Frame.ChartBorder,t.ChartFrame=this.Frame,t.Name=this.MainDataControl.DataType[0].Name,this.Radius&&(t.Radius=this.Radius),this.ChartPaint.push(t)}},this.RequestData=function(){this.MainDataControl&&(this.MainDataControl.JSChartContainer=this,this.MainDataControl.RequestData())},this.UpdateMainData=function(t){this.ChartPaint[0].Data=t.Data[0],this.Frame.SetSizeChage(!0),this.Draw()}}function ga(t,e){this.Name=t,this.Param=e,this.LineColor,this.ReqeustData=null}function Sa(t){this.Index,this.Name=t,this.Script=null,this.ClassName="BaseIndex",this.OverlayIndex=null,this.GetEventCallback,this.Status=0,this.Guid=m(),this.Create=function(t,e){},this.NotSupport=function(t,e,i){if(!this.IsOverlay()){t.DeleteIndexPaint(e);var a=t.Frame.SubFrame[e].Frame,r=new ut;r.Canvas=t.Canvas,r.ChartBorder=a.ChartBorder,r.ChartFrame=a,r.NotSupportMessage=i,t.ChartPaint.push(r)}},this.FormatIndexTitle=function(){var t=this.Name,e=null;for(var i in this.Index){var a=this.Index[i];null!=a.Param&&(e?e+=","+a.Param.toString():e=a.Param.toString())}return e&&(t+="("+e+")"),t},this.IsOverlay=function(){return!(!this.OverlayIndex||1!=this.OverlayIndex.IsOverlay)},this.CreateChart=function(t){return new ct},this.CreatePaints=function(t,e){var i=null,a=this.IsOverlay();a?(i=this.OverlayIndex.Frame.Frame,this.OverlayIndex.Frame.ChartPaint=[]):(i=t.Frame.SubFrame[e].Frame,t.DeleteIndexPaint(e));var r=[];for(var n in this.Index){var o=this.CreateChart(n);o.Color=this.Index[n].LineColor,o.Canvas=t.Canvas,o.Name=this.Name+"-"+n.toString(),o.ChartBorder=i.ChartBorder,o.ChartFrame=i,a?this.OverlayIndex.Frame.ChartPaint.push(o):t.ChartPaint.push(o),r.push(o)}return r},this.SendEvent=function(t,e,i,a){if(t.GetIndexEvent){var r=t.GetIndexEvent();if(r){var n={Data:this.GetOutData(),WindowIndex:e,Name:this.Name,HistoryData:i,Stock:{Symbol:t.Symbol,Name:t.Name}};a&&(n.Error=a),r.Callback(r,n,self)}}},this.GetOutData=function(){return null}}function xa(){this.newMethod=Sa,this.newMethod("OX"),delete this.newMethod,this.ClassName="JSIndex_OX",this.IsUsePageData=!0,this.BlockSize=.5,this.Arguments=[{Name:"Reversal",Value:3}],this.SetArgs=function(t){if(t&&Ee.IsNonEmptyArray(t))for(var e=0;e<t.length;++e){var i=t[e];"Reversal"==i.Name&&this.SetParamValue(i.Name,i.Value)}},this.SetParamValue=function(t,e){for(var i=0;i<this.Arguments.length;++i){var a=this.Arguments[i];a.Name==t&&(a.Value=e)}},this.GetParamValue=function(t){for(var e=0;e<this.Arguments.length;++e){var i=this.Arguments[e];if(i.Name==t)return i.Value}},this.RequestData=function(t,e,i){return this.BindData(t,e,i),t.UpdataDataoffset(),t.UpdateFrameMaxMin(),t.Draw(),!0},this.CreatePaints=function(t,e){var i=null,a=this.IsOverlay();a?(i=this.OverlayIndex.Frame.Frame,this.OverlayIndex.Frame.ChartPaint=[]):(i=t.Frame.SubFrame[e].Frame,t.DeleteIndexPaint(e));var r=[],n=new ee;return n.Canvas=t.Canvas,n.Name=this.Name+"-0",n.ChartBorder=i.ChartBorder,n.ChartFrame=i,a?this.OverlayIndex.Frame.ChartPaint.push(n):t.ChartPaint.push(n),r.push(n),r},this.CalculateBlockSize=function(t,e){var i=t-e;return i<=5?.25:i<=20?.5:i<=100?1:i<=200?2:i<=500?5:i<=1e3?10:50},this.Calculate=function(t,e){if(!t.ChartPaint[0])return null;var i=t.ChartPaint[0].ShowRange;if(!i)return null;if(!Ee.IsNonEmptyArray(e.Data))return null;for(var a=null,r=null,n=null,o=i.Start;o<=i.End&&o<e.Data.length;++o){var s=e.Data[o];null==a?Ee.IsNumber(s.High)&&(a=s.High):Ee.IsNumber(s.High)&&a<s.High&&(a=s.High),null==r?Ee.IsNumber(s.Low)&&(r=s.Low):Ee.IsNumber(s.Low)&&r>s.Low&&(r=s.Low),null==n&&Ee.IsNumber(s.High)&&(n=s.High)}var l=this.GetParamValue("Reversal"),h=this.CalculateBlockSize(a,r);this.BlockSize=h;for(var u={Max:a+h,Min:r-h,StartPrice:n,Data:[],BlockSize:h},c=1,d=n,f={Type:0,Data:[],Start:null,End:null},o=i.Start,p=0;o<=i.End&&o<e.Data.length;++o){var s=e.Data[o];if(1==c){if(s.High>=d+h){var m=parseInt((s.High-d)/h);for(p=0;p<m;++p)d+=h,f.Data.push(d)}else if(s.Low<=d-h*l){c=0,f&&Ee.IsNonEmptyArray(f.Data)&&u.Data.push(f),f={Type:1,Data:[],Start:null,End:null};var m=parseInt((d-s.Low)/h);for(p=0;p<m;++p)d-=h,f.Data.push(d)}}else if(s.Low<=d-h){var m=parseInt((d-s.Low)/h);for(p=0;p<m;++p)d-=h,f.Data.push(d)}else if(s.High>=d+h*l){c=1,f&&Ee.IsNonEmptyArray(f.Data)&&u.Data.push(f),f={Type:0,Data:[],Start:null,End:null};var m=parseInt((s.High-d)/h);for(p=0;p<m;++p)d+=h,f.Data.push(d)}null==f.Start&&(f.Start=s),f.End=s}return f&&Ee.IsNonEmptyArray(f.Data)&&u.Data.push(f),u},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),r=this.IsOverlay(),n=t.GetEventCallback(Rn.ON_CALCULATE_INDEX_OX);if(n&&n.Callback){var o={HQChart:t,WidnowIndex:e,HisData:i,OXData:null};n.Callback(n,o,this),a[0].OXData=o.OXData}else a[0].OXData=this.Calculate(t,i);var s=this.BlockSize,l=this.GetParamValue("Reversal"),h=this.Name+" BlockSize="+s+" Reversal="+l,u=e+1;if(r){var c=t.TitlePaint[u],d={Data:[],Title:""};c.OverlayIndex.set(this.OverlayIndex.Identify,d)}else t.TitlePaint[u].Title=h;return!0}}function ba(t){this.newMethod=Sa,this.newMethod("VRVR"),delete this.newMethod,this.ClassName="VolProfileVisibleRangeIndex",this.IsUsePageData=!0,this.ChartVolProfile,this.HQChart,this.WindowIndex,this.RequestTimer=null,this.DelayRequestFrequency=500,this.VolType=0,this.BarPosition=1,this.BarWidthRate=.3,this.Arguments=[{Name:"VAVol",Value:70},{Name:"BarPosition",Value:0}],this.SetArgs=function(t){if(t&&Ee.IsNonEmptyArray(t))for(var e=0;e<t.length;++e){var i=t[e];"VAVol"==i.Name?this.SetParamValue(i.Name,i.Value):"BarPosition"==i.Name&&this.SetParamValue(i.Name,i.Value)}},this.SetParamValue=function(t,e){for(var i=0;i<this.Arguments.length;++i){var a=this.Arguments[i];a.Name==t&&(a.Value=e)}},t&&(Ee.IsNumber(t.VolType)&&(this.VolType=t.VolType),Ee.IsNumber(t.BarWidthRate)&&(this.BarWidthRate=t.BarWidthRate),Ee.IsNumber(t.DelayRequestFrequency)&&(this.DelayRequestFrequency=t.DelayRequestFrequency),t.Args&&this.SetArgs(t.Args),Ee.IsNumber(t.BarPosition)&&(this.BarPosition=t.BarPosition,this.SetParamValue("BarPosition",this.BarPosition))),this.GetParamValue=function(t){for(var e=0;e<this.Arguments.length;++e){var i=this.Arguments[e];if(i.Name==t)return i.Value}},this.Create=function(t,e){this.HQChart=t,this.WindowIndex=e},this.CreateChart=function(t,e){var i=null,a=this.IsOverlay();a?(i=this.OverlayIndex.Frame.Frame,this.OverlayIndex.Frame.ChartPaint=[]):(i=t.Frame.SubFrame[e].Frame,t.DeleteIndexPaint(e));var r=[],n=new ie;return n.Canvas=t.Canvas,n.Name=this.Name+"-0",n.ChartBorder=i.ChartBorder,n.ChartFrame=i,n.HQChart=this.HQChart,n.Identify=this.Guid,n.SetOption(this),a?this.OverlayIndex.Frame.ChartPaint.push(n):t.ChartPaint.push(n),r.push(n),this.ChartVolProfile=n,r},this.CancelRequestTimer=function(){this.RequestTimer&&(clearTimeout(this.RequestTimer),this.RequestTimer=null)},this.RequestData=function(t,e,i,a){var r=this;this.CancelRequestTimer();var n=function(){var e=t.ChartPaint[0],i=e.Data;if(i&&!Ee.IsNonEmptyArray(!i.Data)){var a=e.DrawKRange;if(a&&Ee.IsNumber(a.Start)&&Ee.IsNumber(a.End)){var n=i.Data[a.Start],o=i.Data[a.End],s={Start:{Date:n.Date,DataIndex:a.Start},End:{Date:o.Date,DataIndex:a.End},Chart:r};Ee.IsNumber(n.Time)&&(s.Start.Time=n.Time),Ee.IsNumber(o.Time)&&(s.End.Time=o.Time),s.ValueAreaVol=r.Arguments[0].Value,r.Arguments[1].Value>0?r.BarPosition=1:r.BarPosition=0,r.ChartVolProfile&&r.ChartVolProfile.SetOption({BarPosition:r.BarPosition}),r.DataStatus=0,t&&t.RequestVolumeProfileData&&t.RequestVolumeProfileData(s)}}};return a&&1==a.Type?this.RequestTimer=setTimeout(function(){n()},this.DelayRequestFrequency):n(),!0},this.OnRecvVolumeProfileData=function(t){return this.BindData(t),this.HQChart.UpdataDataoffset(),this.HQChart.UpdateFrameMaxMin(),this.HQChart.Draw(),!0},this.BindData=function(t){this.ChartVolProfile&&1!=this.ChartVolProfile.IsDestroy||this.CreateChart(this.HQChart,this.WindowIndex);var e=this.ChartVolProfile;if(e.Data=null,t&&Ee.IsNonEmptyArray(t.Data)&&Ee.IsNumber(t.MaxPrice)&&Ee.IsNumber(t.MinPrice)){for(var i=0,a=0,r=null,n=0,o=0;n<t.Data.length;++n){var s=t.Data[n];for(a=0,o=0;o<s.Vol.length;++o){var l=s.Vol[o];Ee.IsNumber(l.Value)&&(a+=l.Value)}i<a&&(i=a,r=s.Price)}if(!(this.maxVolPrice<=0||this.maxVol<=0)){e.MaxVolPrice=r,e.MaxVol=i,e.MaxPrice=t.MaxPrice,e.MinPrice=t.MinPrice,e.Data=t;var h=this.WindowIndex+1;this.HQChart.TitlePaint[h].Title="VPVR",this.HQChart.TitlePaint[h].Identify=this.Guid;var u=new ei(e.Data,"VPVR",e.Data);u.ChartClassName="ChartVolProfileVisibleRange",u.Chart=e,this.HQChart.TitlePaint[h].Data[0]=u}}}}function Ia(){this.newMethod=Sa,this.newMethod("CJL"),delete this.newMethod,this.Index=new Array(new ga("VOL",null),new ga("OPID",null)),this.Index[0].LineColor=lo.Index.LineColor[0],this.Index[1].LineColor=lo.Index.LineColor[1],this.CreateChart=function(t){if(0==t){var e=new bt;return e}if(1==t){var e=new pt;return e.LineWidth=1*c(),e}},this.RequestData=function(t,e,i){return this.BindData(t,e,i),t.UpdataDataoffset(),t.UpdateFrameMaxMin(),t.Draw(),!0},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),r=this.IsOverlay();if(a.length!=this.Index.length)return!1;var n=i.GetVol(),o=i.GetPosition();a[0].HistoryData=i,a[0].Data.Data=n,a[1].Data.Data=o;var s=e+1;if(r){var l=t.TitlePaint[s],h={Data:[],Title:""};l.OverlayIndex.set(this.OverlayIndex.Identify,h);for(var u in a){var c=new ei(a[u].Data,this.Index[u].Name,this.Index[u].LineColor);l.OverlayIndex.get(this.OverlayIndex.Identify).Data[u]=c}}else t.TitlePaint[s].Data[0]=new ei(a[0].Data,this.Index[0].Name,this.Index[0].LineColor),t.TitlePaint[s].Data[1]=new ei(a[1].Data,this.Index[1].Name,this.Index[1].LineColor),t.TitlePaint[s].Title=this.Name;return!0}}function Ta(){this.newMethod=Sa,this.newMethod("Long-Short"),delete this.newMethod,this.Index=new Array(new ga("多头区域",null),new ga("空头区域",null),new ga("市场多空指标",null)),this.Index[0].LineColor=lo.UpBarColor,this.Index[1].LineColor=lo.DownBarColor,this.Index[2].LineColor=lo.Index.LineColor[0],this.LongShortData,this.CreateChart=function(t){if(2==t){var e=new ct;return e.LineWidth=2,e}return new Mt},this.GetOutData=function(){return{LongShortData:this.LongShortData}},this.RequestData=function(t,e,i){var a=this,r={HQChart:t,WindowIndex:e,HistoryData:i};return this.LongShortData=[],r.HQChart.Period>0?(this.NotSupport(r.HQChart,r.WindowIndex,"不支持周期切换"),r.HQChart.Draw(),this.SendEvent(t,e,i,"不支持周期切换"),!1):(n.HttpRequest({url:lo.Index.MarketLongShortApiUrl,data:{},type:"post",dataType:"json",async:!0,success:function(n){a.RecvData(n,r),a.SendEvent(t,e,i)}}),!0)},this.RecvData=function(t,e){if(!(t.data.length<=0)){var i=new Array;for(var a in t.data){var r=t.data[a],n=new J;n.Date=r[0],n.Value=r[1],i.push(n)}var o=e.HistoryData.GetFittingData(i),s=new Q;s.Data=o,s.Period=e.HQChart.Period,s.Right=e.HQChart.Right,this.LongShortData=s.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),r=this.IsOverlay();if(a.length!=this.Index.length)return!1;a[2].Data.Data=this.LongShortData,a[0].Data.Data[0]=8,a[1].Data.Data[0]=1;var n=e+1;if(r){this.OverlayIndex.Frame.Frame.YSpecificMaxMin={Max:9,Min:0,Count:3};var o=t.TitlePaint[n],s={Data:[],Title:""};o.OverlayIndex.set(this.OverlayIndex.Identify,s);for(var l in a){var h=new ei(a[l].Data,this.Index[l].Name,this.Index[l].LineColor);2!=l&&(h.DataType="StraightLine"),o.OverlayIndex.get(this.OverlayIndex.Identify).Data[l]=h}}else{t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:9,Min:0,Count:3};for(var l in a)t.TitlePaint[n].Data[l]=new ei(a[l].Data,this.Index[l].Name,this.Index[l].LineColor),2!=l&&(t.TitlePaint[n].Data[l].DataType="StraightLine")}return!0}}function ya(){this.newMethod=Sa,this.newMethod("Market-Timing"),delete this.newMethod,this.Index=new Array(new ga("因子择时",null)),this.TimingData,this.TitleColor=lo.FrameSplitTextColor,this.CreateChart=function(t){return new Rt},this.GetOutData=function(){return{TimingData:this.TimingData}},this.RequestData=function(t,e,i){var a=this,r={HQChart:t,WindowIndex:e,HistoryData:i};return this.LongShortData=[],r.HQChart.Period>0?(this.NotSupport(r.HQChart,r.WindowIndex,"不支持周期切换"),r.HQChart.Draw(),this.SendEvent(t,e,i,"不支持周期切换"),!1):(n.HttpRequest({url:lo.Index.MarketLongShortApiUrl,data:{},type:"post",dataType:"json",async:!0,success:function(n){a.RecvData(n,r),a.SendEvent(t,e,i)}}),!0)},this.RecvData=function(t,e){if(!(t.data.length<=0)){var i=new Array;for(var a in t.data){var r=t.data[a],n=new J;n.Date=r[0],n.Value=r[2],i.push(n)}var o=e.HistoryData.GetFittingData(i),s=new Q;s.Data=o,s.Period=e.HQChart.Period,s.Right=e.HQChart.Right,this.TimingData=s.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),r=this.IsOverlay();if(a.length!=this.Index.length)return!1;a[0].Data.Data=this.TimingData,a[0].NotSupportMessage=null;var n=e+1;if(r){var o=t.TitlePaint[n],s={Data:[],Title:""};o.OverlayIndex.set(this.OverlayIndex.Identify,s);for(var l in a){var h=new ei(a[l].Data,this.Index[l].Name,this.Index[l].LineColor);h.StringFormat=so.THOUSANDS,h.FloatPrecision=0,o.OverlayIndex.get(this.OverlayIndex.Identify).Data[l]=h}}else for(var l in a)t.TitlePaint[n].Data[l]=new ei(a[l].Data,this.Index[l].Name,this.TitleColor),t.TitlePaint[n].Data[l].StringFormat=so.THOUSANDS,t.TitlePaint[n].Data[l].FloatPrecision=0;return!0}}function wa(){this.newMethod=Sa,this.newMethod("Market-Attention"),delete this.newMethod,this.Index=new Array(new ga("市场关注度",null)),this.Data,this.TitleColor=lo.FrameSplitTextColor,this.ApiUrl=lo.Index.MarketAttentionApiUrl,this.CreateChart=function(t){return new Rt},this.GetOutData=function(){return{Data:this.Data}},this.SetFrame=function(t,e,i){this.IsOverlay()?this.OverlayIndex.Frame.Frame.YSpecificMaxMin={Max:6,Min:0,Count:3}:t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:6,Min:0,Count:3}},this.RequestData=function(t,e,i){var a=this,r={HQChart:t,WindowIndex:e,HistoryData:i};return this.Data=[],r.HQChart.Period>0?(this.NotSupport(r.HQChart,r.WindowIndex,"不支持周期切换"),r.HQChart.Draw(),this.SendEvent(t,e,i,"不支持周期切换"),!1):(n.HttpRequest({url:this.ApiUrl,data:{symbol:r.HQChart.Symbol,startdate:20100101},type:"post",dataType:"json",async:!0,success:function(n){a.RecvData(n,r),a.SendEvent(t,e,i)}}),!0)},this.RecvData=function(t,e){if(!(t.date.length<0)){var i=new Array;for(var a in t.date){var r=new J;r.Date=t.date[a],r.Value=t.value[a],i.push(r)}var n=e.HistoryData.GetFittingData(i),o=new Q;o.Data=n,o.Period=e.HQChart.Period,o.Right=e.HQChart.Right,this.Data=o.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),this.SetFrame(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),r=this.IsOverlay();if(a.length!=this.Index.length)return!1;a[0].Data.Data=this.Data,a[0].NotSupportMessage=null;var n=e+1;if(r){var o=t.TitlePaint[n],s={Data:[],Title:""};o.OverlayIndex.set(this.OverlayIndex.Identify,s);for(var l in a){var h=new ei(a[l].Data,this.Index[l].Name,this.Index[l].LineColor);h.StringFormat=so.THOUSANDS,h.FloatPrecision=0,o.OverlayIndex.get(this.OverlayIndex.Identify).Data[l]=h}}else for(var l in a)t.TitlePaint[n].Data[l]=new ei(a[l].Data,this.Index[l].Name,this.TitleColor),t.TitlePaint[n].Data[l].StringFormat=so.THOUSANDS,t.TitlePaint[n].Data[l].FloatPrecision=0;return!0}}function Ea(){this.newMethod=Sa,this.newMethod("Market-Heat"),delete this.newMethod,this.Index=new Array(new ga("热度",5),new ga("MA",10),new ga("MA",null)),this.Data,this.ApiUrl=lo.Index.MarketHeatApiUrl,this.Index[0].LineColor=lo.FrameSplitTextColor,this.Index[1].LineColor=lo.Index.LineColor[0],this.Index[2].LineColor=lo.Index.LineColor[1],this.CreateChart=function(t){return 0==t?new Rt:new ct},this.RequestData=function(t,e,i){var a=this,r={HQChart:t,WindowIndex:e,HistoryData:i};return this.Data=[],r.HQChart.Period>0?(this.NotSupport(r.HQChart,r.WindowIndex,"不支持周期切换"),r.HQChart.Draw(),!1):(n.HttpRequest({url:this.ApiUrl,data:{symbol:r.HQChart.Symbol,startdate:20100101},type:"post",dataType:"json",async:!0,success:function(t){a.RecvData(t,r)}}),!0)},this.RecvData=function(t,e){if(!(t.date.length<0)){var i=new Array;for(var a in t.date){var r=new J;r.Date=t.date[a],r.Value=t.value[a],i.push(r)}var n=e.HistoryData.GetFittingData(i),o=new Q;o.Data=n,o.Period=e.HQChart.Period,o.Right=e.HQChart.Right,this.Data=o.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e),r=this.IsOverlay();if(a.length!=this.Index.length)return!1;a[0].Data.Data=this.Data,a[0].NotSupportMessage=null;var n=ia.MA(this.Data,this.Index[0].Param);a[1].Data.Data=n;var o=ia.MA(this.Data,this.Index[1].Param);a[2].Data.Data=o;var s=e+1;if(r){var l=t.TitlePaint[s],h={Data:[],Title:""};l.OverlayIndex.set(this.OverlayIndex.Identify,h);for(var u in a){var c="";c=0==u?t.Name+this.Index[u].Name:"MA"+this.Index[u-1].Param;var d=new ei(a[u].Data,c,this.Index[u].LineColor);d.StringFormat=so.DEFAULT,d.FloatPrecision=2,l.OverlayIndex.get(this.OverlayIndex.Identify).Data[u]=d}}else for(var u in a){var c="";c=0==u?t.Name+this.Index[u].Name:"MA"+this.Index[u-1].Param,t.TitlePaint[s].Data[u]=new ei(a[u].Data,c,this.Index[u].LineColor),t.TitlePaint[s].Data[u].StringFormat=so.DEFAULT,t.TitlePaint[s].Data[u].FloatPrecision=2}return!0}}function Fa(){this.newMethod=Sa,this.newMethod("Market-Heat"),delete this.newMethod,this.Index=new Array(new ga("区域",3),new ga("热度指数",10),new ga("MA",5),new ga("MA",10)),this.Data,this.ApiUrl=lo.Index.CustomIndexHeatApiUrl,this.Index[1].LineColor=lo.Index.LineColor[1],this.Index[2].LineColor=lo.Index.LineColor[2],this.Index[3].LineColor=lo.Index.LineColor[3],this.Create=function(t,e){for(var i in this.Index){var a=null;0==i?a=new At:(a=new ct,a.Color=this.Index[i].LineColor),a.Canvas=t.Canvas,a.Name=this.Name+"-"+i.toString(),a.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,a.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint.push(a)}},this.RequestData=function(t,e,i){var a=this,r={HQChart:t,WindowIndex:e,HistoryData:i};return this.Data=[],r.HQChart.Period>0?(this.NotSupport(r.HQChart,r.WindowIndex,"不支持周期切换"),r.HQChart.Draw(),!1):(n.HttpRequest({url:this.ApiUrl,data:{stock:r.HQChart.CustomStock,date:{startdate:r.HQChart.QueryDate.Start,enddate:r.HQChart.QueryDate.End},day:[this.Index[0].Param,this.Index[1].Param]},type:"post",dataType:"json",async:!0,success:function(t){a.RecvData(t,r)}}),!0)},this.RecvData=function(t,e){if(!(null==t.data||t.data.length<0)){var i=new Array;for(var a in t.data){var r=t.data[a],n=new J;n.Date=r[0],n.Value=r[1],i.push(n)}var o=e.HistoryData.GetFittingData(i),s=new Q;s.Data=o,s.Period=e.HQChart.Period,s.Right=e.HQChart.Right,this.Data=s.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=t.GetChartPaint(e);if(a.length!=this.Index.length)return!1;a[0].NotSupportMessage=null,a[0].Data.Data=[{Value:0,Value2:.2,Color:"rgb(50,205,50)",Title:"热度1",TitleColor:"rgb(245,255 ,250)"},{Value:.2,Value2:.4,Color:"rgb(255,140,0)",Title:"热度2",TitleColor:"rgb(245,255 ,250)"},{Value:.4,Value2:.8,Color:"rgb(255,106,106)",Title:"热度3",TitleColor:"rgb(245,255 ,250)"},{Value:.8,Value2:1,Color:"rgb(208, 32 ,144)",Title:"热度4",TitleColor:"rgb(245,255 ,250)"}],a[1].Data.Data=this.Data;var r=ia.MA(this.Data,this.Index[2].Param);a[2].Data.Data=r;var n=ia.MA(this.Data,this.Index[3].Param);a[3].Data.Data=n,t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:1,Min:0,Count:3};for(var o=e+1,s=1;s<a.length;++s){var l=this.Index[s].Name;"MA"==l&&(l="MA"+this.Index[s].Param),t.TitlePaint[o].Data[s]=new ei(a[s].Data,l,this.Index[s].LineColor),t.TitlePaint[o].Data[s].StringFormat=so.DEFAULT,t.TitlePaint[o].Data[s].FloatPrecision=2}return t.TitlePaint[o].Title="热度("+this.Index[0].Param+","+this.Index[1].Param+","+this.Index[2].Param+","+this.Index[3].Param+")",!0}}function La(){this.newMethod=Sa,this.newMethod("财务粉饰"),delete this.newMethod,this.Index=new Array(new ga("区域",null),new ga("系数",null)),this.Data,this.ApiUrl=lo.Index.StockHistoryDayApiUrl,this.Index[0].LineColor=lo.Index.LineColor[0],this.Index[1].LineColor="rgb(105,105,105)",this.CreateChart=function(t){return 0==t?new At:new yt},this.GetOutData=function(){return{Data:this.Data}},this.RequestData=function(t,e,i){var a=this,r={HQChart:t,WindowIndex:e,HistoryData:i};if(this.Data=[],2!=r.HQChart.Period)return this.NotSupport(r.HQChart,r.WindowIndex,"只支持月线"),r.HQChart.Draw(),this.SendEvent(t,e,i,"只支持月线"),!1;var o=["finance.benford","announcement2.quarter","announcement1.quarter","announcement3.quarter","announcement4.quarter"],s=[{item:["date","int32","gte","20130101"]},{item:["announcement1.year","int32","gte",0,"announcement2.year","int32","gte",0,"announcement3.year","int32","gte",0,"announcement4.year","int32","gte",0,"or"]}];return n.HttpRequest({url:this.ApiUrl,data:{symbol:[r.HQChart.Symbol],field:o,condition:s},type:"post",dataType:"json",async:!0,success:function(n){a.RecvData(n,r),a.SendEvent(t,e,i)}}),!0},this.JsonDataToMapSingleData=function(t){var e=t.stock[0].stockday,i=new Mn.default;for(var a in e){var r=e[a],n=new J;if(n.Date=r.date,n.Value=new Array,null!=r.finance1&&null!=r.announcement1){var o=r.announcement1.year,s=r.announcement1.quarter,l=r.finance1.benford;n.Value.push({Year:o,Quarter:s,Value:l})}if(null!=r.finance2&&null!=r.announcement2){var h=r.announcement2.year,u=r.announcement2.quarter,c=r.finance2.benford;n.Value.push({Year:h,Quarter:u,Value:c})}if(null!=r.finance3&&null!=r.announcement3){var d=r.announcement3.year,f=r.announcement3.quarter,p=r.finance3.benford;n.Value.push({Year:d,Quarter:f,Value:p})}if(null!=r.finance4&&null!=r.announcement4){var m=r.announcement4.year,C=r.announcement4.quarter,v=r.finance4.benford;n.Value.push({Year:m,Quarter:C,Value:v})}i.set(n.Date,n)}var D=new Array,g=!0,S=!1,x=void 0;try{for(var b,I=(0,Fn.default)(i);!(g=(b=I.next()).done);g=!0){var r=b.value;D.push(r[1])}}catch(t){S=!0,x=t}finally{try{!g&&I.return&&I.return()}finally{if(S)throw x}}return D},this.RecvData=function(t,e){if(Nn.Chart.Log(t),!(null==t.stock||t.stock.length<=0)){var i=this.JsonDataToMapSingleData(t),a=e.HistoryData.GetFittingMonthData(i),r=new Q;r.Data=a,r.Period=e.HQChart.Period,r.Right=e.HQChart.Right,this.Data=r.GetValue(),this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()}},this.BindData=function(t,e,i){var a=this.CreatePaints(t,e);if(a.length!=this.Index.length)return!1;a[0].NotSupportMessage=null,a[0].Data.Data=[{Value:0,Value2:.2,Color:"rgb(50,205,50)",Title:"安全区",TitleColor:"rgb(245,255 ,250)"},{Value:.2,Value2:.4,Color:"rgb(255,140,0)",Title:"预警区",TitleColor:"rgb(245,255 ,250)"},{Value:.4,Value2:1,Color:"rgb(255,106,106)",Title:"警示区",TitleColor:"rgb(245,255 ,250)"}],a[1].Data.Data=this.Data,t.Frame.SubFrame[e].Frame.YSpecificMaxMin={Max:1,Min:0,Count:3};var r=e+1;return t.TitlePaint[r].Data[1]=new ei(a[1].Data,this.Index[1].Name,this.Index[1].LineColor),t.TitlePaint[r].Data[1].DataType="MultiReport",t.TitlePaint[r].Title=this.FormatIndexTitle(),!0}}function Ma(t,e,i,a){this.newMethod=Sa,this.newMethod(t),delete this.newMethod,this.Script=e,this.Arguments=[],this.OutVar=[],this.ApiUrl=lo.PyIndexDomain+"/hq/code",i&&(this.Arguments=i),this.RequestData=function(t,e,i){this.OutVar=[];var a=this,r={HQChart:t,WindowIndex:e,HistoryData:i},o="";for(var s in this.Arguments){o.length>0&&(o+=",");var l=this.Arguments[s];o+='"'+l.Name+'":'+l.Value}o="{"+o+"}";var h=JSON.parse(o),u=(0,wn.default)({code:this.Script,symbol:r.HQChart.Symbol,period:r.HQChart.Period,right:r.HQChart.Right,params:h,numcount:t.MaxRequestDataCount});return n.HttpRequest({url:this.ApiUrl,data:u,type:"post",dataType:"json",contentType:" application/json; charset=utf-8",async:!0,success:function(t){a.RecvData(t,r)},complete:function(t){},error:function(t,e){a.RecvError(t,e,r)}}),!0},this.RecvError=function(t,e,i){Nn.Chart.Log("[PyScriptIndex::RecvError] error",e),i.HQChart.ScriptErrorCallback&&i.HQChart.ScriptErrorCallback(e)},this.RecvData=function(t,e){if(0!=t.code)return Nn.Chart.Log("[PyScriptIndex::RecvData] failed.",t),void(e.HQChart.ScriptErrorCallback&&e.HQChart.ScriptErrorCallback(t.msg));Nn.Chart.Log("[PyScriptIndex::RecvData] recv data.",t);var i=t.date;for(var a in t.data){for(var r=t.data[a],n=[],o=0;o<i.length&&o<i.length;++o)if(!(o>=r.data.length)){var s=new J;s.Date=i[o],s.Value=r.data[o],n.push(s)}var l=e.HistoryData.GetFittingData(n),h=new Q;h.Data=l,h.Period=e.HQChart.Period,h.Right=e.HQChart.Right;var u={Name:r.name,Type:r.graph,LineWidth:r.width,Data:h.GetValue(),Color:r.color};this.OutVar.push(u)}this.BindData(e.HQChart,e.WindowIndex,e.HistoryData),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw()},this.BindData=function(t,e,i){t.DeleteIndexPaint(e);for(var a in this.OutVar){var r=this.OutVar[a];switch(r.Type){case"line":this.CreateLine(t,e,r,a);break;case"colorstick":this.CreateColorStock(t,e,r,a)}}var n=e+1;t.TitlePaint[n].Title=this.Name;var o="";for(var s in this.Arguments){var l=this.Arguments[s];o.length>0&&(o+=","),o+=l.Value.toString()}return o.length>0&&(t.TitlePaint[n].Title=this.Name+"("+o+")"),!0},this.CreateLine=function(t,e,i,a){var r=new ct;r.Canvas=t.Canvas,r.DrawType=1,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=i.Color:r.Color=this.GetDefaultColor(a),i.LineWidth>0&&(r.LineWidth=i.LineWidth),0==i.IsShow&&(r.IsShow=!1);var n=e+1;r.Data.Data=i.Data,t.TitlePaint[n].Data[a]=new ei(r.Data,i.Name,r.Color),t.ChartPaint.push(r)},this.CreateColorStock=function(t,e,i,a){var r=new Rt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame;var n=e+1;r.Data.Data=i.Data,t.TitlePaint[n].Data[a]=new ei(r.Data,i.Name,this.GetDefaultColor(a)),t.ChartPaint.push(r)},this.GetDefaultColor=function(t){var e=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"];return e[parseInt(t)%(e.length-1)]}}function Aa(t,e,i,a){this.newMethod=Ma,this.newMethod(t),delete this.newMethod,this.JsonData,a.JsonData&&(this.JsonData=a.JsonData),this.RequestData=function(t,e,i){if(this.JsonData){var a={HQChart:t,WindowIndex:e,HistoryData:i};this.JsonData.code=0;var r=this.JsonData;this.RecvData(r,a)}else console.warn("[PyScriptIndex::RequestData] JsonData is null"),a.HQChart.ScriptErrorCallback&&a.HQChart.ScriptErrorCallback("json 数据不能为空")}}function Oa(){}function Na(){this.MaxRequestDataCount=1e3,this.StartDate=20160101,this.Data,this.ClassName="IKLineInfo",this.Explain="IKLineInfo",this.GetToday=function(){var t=new Date;return 1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate()},this.GetRequestData=function(t){var e={Symbol:t.Symbol,MaxRequestDataCount:t.MaxRequestDataCount,MaxRequestMinuteDayCount:t.MaxRequestMinuteDayCount,Period:t.Period},i=null;return t.ChartOperator_Temp_GetHistroyData&&(i=t.ChartOperator_Temp_GetHistroyData()),i&&(e.DateRange=i.GetDateRange()),e},this.NetworkFilter=function(t,e){if(!t.NetworkFilter)return!1;var i=this,a={HQChart:t},r={Name:this.ClassName+"::RequestData",Explain:this.Explain,Request:this.GetRequestData(t),Self:this,HQChart:t,PreventDefault:!1};return e&&(1==e.Update&&(r.Update={Start:{Date:e.StartDate}},a.Update={Start:{Date:e.StartDate}}),r.CallFunctionName=e.FunctionName),t.NetworkFilter(r,function(t){i.RecvData(t,a)}),1==r.PreventDefault}}function _a(){this.newMethod=Na,this.newMethod(),delete this.newMethod,this.ClassName="InvestorInfo",this.Explain="互动易",this.RequestData=function(t,e){var i=this,a={HQChart:t};if(this.Data=[],!this.NetworkFilter(t,e)){var r={filed:["question","answerdate","symbol","id"],symbol:[a.HQChart.Symbol],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},start:0,end:this.MaxRequestDataCount},o=lo.Domain+lo.KLine.Info.Investor.ApiUrl;return n.HttpRequest({url:o,data:r,type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)}}),!0}},this.RecvData=function(t,e){if(!(t.list.length<=0)){for(var i in t.list){var a=t.list[i],r=new q;r.Date=a.answerdate,r.Title=a.question,r.InfoType=Xn.INVESTOR,this.Data.push(r)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function Pa(){this.newMethod=Na,this.newMethod(),delete this.newMethod,this.ClassName="AnnouncementInfo",this.Explain="公告",this.ApiType=1,this.RequestData=function(t,e){var i=this,a={HQChart:t};if(e&&!0===e.Update||(this.Data=[]),!this.NetworkFilter(t,e))if(1==this.ApiType){var r=lo.CacheDomain+"/cache/analyze/shszreportlist/"+a.HQChart.Symbol+".json";n.HttpRequest({url:r,type:"get",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)},error:function(t,e){i.RecvError(t,e,a)}})}else{var r=lo.Domain+lo.KLine.Info.Announcement.ApiUrl;n.HttpRequest({url:r,data:{filed:["title","releasedate","symbol","id"],symbol:[a.HQChart.Symbol],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},start:0,end:this.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)},error:function(t,e){i.RecvError(t,e,a)}})}},this.RecvData=function(t,e){if(Ee.IsNonEmptyArray(t.report)){for(var i=[],a=0;a<t.report.length;++a){var r=t.report[a],n=new q;n.Date=r.releasedate,n.Title=r.title,n.InfoType=Xn.ANNOUNCEMENT,Ee.IsNumber(r.time)&&(n.Time=r.time);for(var o in r.type){switch(r.type[o]){case"一季度报告":n.InfoType=Xn.ANNOUNCEMENT_QUARTER_1;break;case"半年度报告":n.InfoType=Xn.ANNOUNCEMENT_QUARTER_2;break;case"三季度报告":n.InfoType=Xn.ANNOUNCEMENT_QUARTER_3;break;case"年度报告":n.InfoType=Xn.ANNOUNCEMENT_QUARTER_4}}for(var o in r.typeex){var s=r.typeex[o];n.InfoType=Xn.ANNOUNCEMENT_EX_START+s;break}i.push(n)}!0===t.Update&&this.Data.length>0?this.UpdateData(i):this.Data=i,e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}},this.UpdateData=function(t){if(t&&!(t.length<=0)){var e=new Tn.default;for(var i in this.Data){var a=this.Data[i],r=a.Date+"-"+a.Time+"-"+a.InfoType+"-"+a.Title;e.add(r)}var n=0;for(var i in t){var a=t[i],r=a.Date+"-"+a.Time+"-"+a.InfoType+"-"+a.Title;e.has(r)||(this.Data.push(a),++n)}Nn.Chart.Log("[AnnouncementInfo::UpdateData] add new count="+n)}},this.RecvError=function(t,e,i){console.warn("[AnnouncementInfo::RecvError] error, http ",e,t)}}function Ra(){this.newMethod=Na,this.newMethod(),delete this.newMethod,this.ClassName="PforecastInfo",this.RequestData=function(t,e){var i=this,a={HQChart:t};this.Data=[];var r=lo.Domain+lo.KLine.Info.Pforecast.ApiUrl;return n.HttpRequest({url:r,data:{field:["pforecast.type","pforecast.reportdate","fweek"],condition:[{item:["pforecast.reportdate","int32","gte",this.StartDate]}],symbol:[a.HQChart.Symbol],start:0,end:this.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(1==t.stock.length&&!(t.stock[0].stockday.length<=0)){for(var i in t.stock[0].stockday){var a=t.stock[0].stockday[i];if(a.pforecast.length>0){var r=a.pforecast[0],n=new q;n.Date=a.date,n.Title=r.type,n.InfoType=Xn.PFORECAST,n.ExtendData={Type:r.type,ReportDate:r.reportdate},a.fweek&&(n.ExtendData.FWeek={},null!=a.fweek.week1&&(n.ExtendData.FWeek.Week1=a.fweek.week1),null!=a.fweek.week4&&(n.ExtendData.FWeek.Week4=a.fweek.week4)),this.Data.push(n)}}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function Ba(){this.newMethod=Na,this.newMethod(),delete this.newMethod,this.ClassName="ResearchInfo",this.RequestData=function(t,e){var i=this,a={HQChart:t};this.Data=[];var r=lo.Domain+lo.KLine.Info.Research.ApiUrl;return n.HttpRequest({url:r,data:{filed:["releasedate","researchdate","level","symbol","id","type"],querydate:{StartDate:this.StartDate,EndDate:this.GetToday()},symbol:[a.HQChart.Symbol],start:0,end:this.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(!(t.list.length<=0)){for(var i in t.list){var a=t.list[i],r=new q;r.ID=a.id,r.Date=a.researchdate,r.InfoType=Xn.RESEARCH,r.ExtendData={Level:a.level,Type:a.type},this.Data.push(r)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function ka(){this.newMethod=Na,this.newMethod(),delete this.newMethod,this.ClassName="BlockTrading",this.RequestData=function(t,e){var i=this,a={HQChart:t};this.Data=[];var r=lo.Domain+lo.KLine.Info.BlockTrading.ApiUrl;return n.HttpRequest({url:r,data:{field:["blocktrading.price","blocktrading.vol","blocktrading.premium","fweek","price"],condition:[{item:["date","int32","gte",this.StartDate]},{item:["blocktrading.vol","int32","gte","0"]}],symbol:[a.HQChart.Symbol],start:0,end:this.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(1==t.stock.length&&!(t.stock[0].stockday.length<=0)){for(var i in t.stock[0].stockday){var a=t.stock[0].stockday[i],r=new q;r.Date=a.date,r.InfoType=Xn.BLOCKTRADING,r.ExtendData={Price:a.blocktrading.price,Premium:a.blocktrading.premium,Vol:a.blocktrading.vol,ClosePrice:a.price},a.fweek&&(r.ExtendData.FWeek={},null!=a.fweek.week1&&(r.ExtendData.FWeek.Week1=a.fweek.week1),null!=a.fweek.week4&&(r.ExtendData.FWeek.Week4=a.fweek.week4)),this.Data.push(r)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function Va(){this.newMethod=Na,this.newMethod(),delete this.newMethod,this.ClassName="TradeDetail",this.RequestData=function(t,e){var i=this,a={HQChart:t};this.Data=[];var r=lo.Domain+lo.KLine.Info.TradeDetail.ApiUrl;return n.HttpRequest({url:r,data:{field:["tradedetail.typeexplain","tradedetail.type","fweek"],condition:[{item:["date","int32","gte",this.StartDate]},{item:["tradedetail.type","int32","gte","0"]}],symbol:[a.HQChart.Symbol],start:0,end:this.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,a)}}),!0},this.RecvData=function(t,e){if(1==t.stock.length&&!(t.stock[0].stockday.length<=0)){for(var i in t.stock[0].stockday){var a=t.stock[0].stockday[i],r=new q;r.Date=a.date,r.InfoType=Xn.TRADEDETAIL,r.ExtendData={Detail:new Array};for(var n in a.tradedetail){var o=a.tradedetail[n];r.ExtendData.Detail.push({Type:o.type,TypeExplain:o.typeexplain})}a.fweek&&(r.ExtendData.FWeek={},null!=a.fweek.week1&&(r.ExtendData.FWeek.Week1=a.fweek.week1),null!=a.fweek.week4&&(r.ExtendData.FWeek.Week4=a.fweek.week4)),this.Data.push(r)}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}}function Ga(){}function Ha(){this.Data,this.ClassName="IMinuteInfo"}function Ya(){this.newMethod=Ha,this.newMethod(),delete this.newMethod,this.ClassName="MarketEventInfo",this.RequestData=function(t){var e=this;this.Data=[];var i={HQChart:t},a=lo.CacheDomain+"/cache/analyze/shszevent/marketevent/concept/"+t.TradeDate+".json";if(t.NetworkFilter){var r={Name:"MarketEventInfo::RequestData",Explain:"大盘异动",Request:{Url:a,Type:"Get",Data:{Date:t.TradeDate,Symbol:t.Symbol}},Self:this,PreventDefault:!1};if(t.NetworkFilter(r,function(t){e.RecvData(t,i),i.HQChart.UpdataChartInfo(),i.HQChart.Draw()}),1==r.PreventDefault)return}return n.HttpRequest({url:a,type:"get",dataType:"json",async:!0,success:function(t){e.RecvData(t,i)},error:function(t,e){console.warn("[MarketEventInfo::RequestData] error, http ",e,t)}}),!0},this.RecvData=function(t,e){for(var i in t.event){var a=t.event[i];for(var r in a.data){var n=a.data[r];if(Array.isArray(n)){if(n.length<2)continue;var o={Date:a.date,Time:n[0],Title:n[1],Type:0};n.length>=3&&n[2]&&"string"==typeof n[2]&&(o.Color=n[2]),n.length>=4&&n[3]&&"string"==typeof n[3]&&(o.BGColor=n[3]),this.Data.push(o)}else{if(!Ee.IsNumber(n.Date)||!Ee.IsNumber(n.Time)||!n.Title)continue;var o={Date:n.Date,Time:n.Time,Title:n.Title,Type:0};n.Color&&(o.Color=n.Color),n.BGColor&&(o.BGColor=n.BGColor),Ee.IsNumber(n.Price)&&(o.Price=n.Price),n.Content&&(o.Content=n.Content),n.Link&&(o.Link=n.Link),this.Data.push(o)}}}e.HQChart.UpdataChartInfo(),e.HQChart.Draw()}}function Xa(){this.DataMap=new Mn.default([["ChartPictureSettingMenu",{Create:function(t){return new er(t)}}],["ChartPictureTextSettingMenu",{Create:function(t){return new ir(t)}}]]),this.Create=function(t,e){return this.DataMap.has(t)?this.DataMap.get(t).Create(e):(Nn.Warn("[DialogFactory::Create] can't find class="+t+"."),null)},this.Add=function(t,e){this.DataMap.set(t,{Create:e.Create})}}function Wa(t){this.DivElement=t,this.ID=null,this.TimeOut=null,this.Hide=function(){(0,On.default)("#"+this.ID).hide()},this.Show=function(t,e,i,a){var r={display:"block"};Ee.IsNumber(t)&&(r.left=t+"px"),Ee.IsNumber(e)&&(r.top=e+"px"),Ee.IsNumber(i)&&(r.width=i+"px"),Ee.IsNumber(a)&&(r.height=a+"px"),(0,On.default)("#"+this.ID).css(r)}}function Ua(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.Title={ID:m()},this.ParamList={ID:m()},this.ParamData=[],this.Identify,this.HQChart,this.IsOverlay=!1,this.IndexScript,this.Create=function(){this.ID=m();var t=document.createElement("div");t.className="jchart-modifyindex-box",t.id=this.ID,t.innerHTML="<div class='parameter'>            <div class='parameter-header'>                <span></span>                <strong id='close' class='icon iconfont icon-close'></strong>            </div>            <div class='parameter-content'><input/>MA</div>            <div class='parameter-footer'>                <button class='submit' >确定</button>                <button class='cancel' >取消</button>            </div>        </div>",this.DivElement.appendChild(t),(0,On.default)("#"+this.ID+" .submit").click({divBox:this},function(t){t.data.divBox.Hide()}),t.getElementsByTagName("span")[0].id=this.Title.ID,t.getElementsByClassName("parameter-content")[0].id=this.ParamList.ID},this.SetTitle=function(t){(0,On.default)("#"+this.Title.ID).html(t)},this.ClearParamList=function(){(0,On.default)("#"+this.ParamList.ID).empty(),this.ParamData=[]},this.BindParam=function(){for(var t=0;t<this.IndexScript.Arguments.length;++t){var e=this.IndexScript.Arguments[t];if(null==e.Name||isNaN(e.Value))break;var i=m(),a='<input class="row-line" id="'+i+'" value="'+e.Value+'" type="number" step="1"/>'+e.Name+"<br>";(0,On.default)("#"+this.ParamList.ID).append(a),this.ParamData.push({ID:i,Value:e.Value})}for(var r=this,t=0;t<this.ParamData.length;++t){var e=this.ParamData[t];(0,On.default)("#"+e.ID).mouseup({ParamIndex:t},function(t){var e=parseInt((0,On.default)(this).val());if(!Ee.IsNumber(e))return void alert("参数不能为空");var i=r.HQChart,a=r.Identify,n=t.data.ParamIndex,o=r.IndexScript,s=r.IsOverlay;o.Arguments[n].Value=e,s?i.UpdateOverlayIndex(a):i.UpdateWindowIndex(a)}),(0,On.default)("#"+e.ID).keyup({ParamIndex:t},function(t){var e=parseInt((0,On.default)(this).val());if(!Ee.IsNumber(e))return void alert("参数不能为空");var i=r.HQChart,a=r.Identify,n=t.data.ParamIndex,o=r.IndexScript,s=r.IsOverlay;o.Arguments[n].Value=e,s?i.UpdateOverlayIndex(a):i.UpdateWindowIndex(a)})}},this.BindCancel=function(){var t=this;(0,On.default)("#"+this.ID+" .cancel");(0,On.default)("#"+this.ID+" .cancel").unbind("click").click(function(e){var i=t.HQChart,a=t.Identify;t.RestoreParam(),t.IsOverlay?i.UpdateOverlayIndex(a):i.UpdateWindowIndex(a),t.IndexScript=null,t.Hide()}),(0,On.default)("#"+this.ID+" #close").unbind("click").click(function(e){var i=t.HQChart,a=t.Identify,r=t.IsOverlay;t.RestoreParam(),r?i.UpdateOverlayIndex(a):i.UpdateWindowIndex(a),t.IndexScript=null,t.Hide()})},this.RestoreParam=function(){if(this.IndexScript)for(var t=0;t<this.ParamData.length;++t){var e=this.ParamData[t];this.IndexScript.Arguments[t].Value=e.Value}},this.DoModal=function(t){var e=t.data.Chart,i=t.data.Identify,a=e.ModifyIndexDialog,r=!0===t.data.IsOverlay;if(a){if(null==a.ID&&a.Create(),a.Identify=i,a.HQChart=e,a.IsOverlay=r,r){var n=e.GetOverlayIndexByIdentify(i);if(!n||!n.OverlayItem.Script)return;a.IndexScript=n.OverlayItem.Script,a.SetTitle(a.IndexScript.Name+" 叠加指标参数设置")}else a.IndexScript=e.WindowIndex[i],a.SetTitle(a.IndexScript.Name+" 指标参数设置");a.ClearParamList(),a.BindParam(e,i),a.BindCancel(),a.Show()}}}function za(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.DivElement=t,this.IsOverlayIndex=!1,this.Create=function(){var t=document.createElement("div");t.className="jchart-changeindex-box",t.id=this.ID=m(),t.innerHTML='<div class="target-panel">\n            <div class="target-header">\n                <span>换指标</span>\n                <strong class="close-tar icon iconfont icon-close"></strong>\n            </div>\n            <div class="target-content">\n                <div class="target-left">\n                    <input type="text">\n                    <ul></ul>\n                </div>\n                <div class="target-right">\n                    <ul></ul>\n                </div>\n            </div>\n        </div>',this.DivElement.appendChild(t)},this.GetMenuData=function(){return{name:"页面通用版指标树",list:[{node:"超买超卖型",list:[{name:"ADTM 动态买卖气指标",id:"ADTM"},{name:"BIAS 乖离率",id:"BIAS"},{name:"BIAS36 三六乖离",id:"BIAS36"},{name:"BIAS_QL 乖离率-传统版",id:"BIAS_QL"},{name:"CCI 商品路径指标",id:"CCI"},{name:"FSL 分水岭",id:"FSL"},{name:"KDJ 随机指标",id:"KDJ"},{name:"MTM 动量线",id:"MTM"},{name:"OSC 变动速率线",id:"OSC"},{name:"RSI 相对强弱指标",id:"RSI"},{name:"ROC 变动率指标",id:"ROC"},{name:"WR 威廉指标",id:"WR"}]},{node:"趋势型",list:[{name:"CHO 济坚指数",id:"CHO"},{name:"DMA 平均差",id:"DMA"},{name:"DMI 趋向指标",id:"DMI"},{name:"EMV 简易波动指标",id:"EMV"},{name:"MACD 平滑异同平均",id:"MACD"},{name:"TRIX 三重指数平均线",id:"TRIX"},{name:"UOS 终极指标",id:"UOS"},{name:"TRIX 三重指数平均线",id:"TRIX"}]},{node:"成交量型",list:[{name:"HSL 换手率",id:"HSL"},{name:"OBV 累积能量线",id:"OBV"},{name:"NVI 负成交量",id:"NVI"},{name:"PVI 正成交量",id:"PVI"},{name:"VOL 成交量",id:"VOL"}]},{node:"均线型",list:[{name:"MA 均线",id:"均线"},{name:"BBI 多空线",id:"BBI"}]},{node:"路径型",list:[{name:"BOLL 布林线",id:"BOLL"},{name:"BOLL副图 布林线",id:"BOLL副图"},{name:"MIKE 麦克支撑压力",id:"MIKE"},{name:"ENE 轨道线",id:"ENE"}]},{node:"能量型",list:[{name:"BRAR 情绪指标",id:"BRAR"},{name:"CYR 市场强弱",id:"CYR"},{name:"MASS 梅斯线",id:"MASS"},{name:"PSY 心理线",id:"PSY"},{name:"CR 带状能量线",id:"CR"},{name:"VR 成交量变异率",id:"VR"},{name:"WAD 威廉多空力度线",id:"WAD"}]}]}},this.ReqeustData=function(){if((0,On.default)("#"+this.ID+" .target-left ul li").length>0)return!1;var t=this.GetMenuData(),e=t.list;!function(t){(0,On.default)(".target-left ul").html(""),On.default.each(t,function(t,e){var i;i="<li>"+e.node+"</li>",(0,On.default)(".target-left ul").append(i)}),(0,On.default)(".target-left ul li:first-child").addClass("active-list")}(e),function(t){var e,i=[];On.default.each(t,function(t,e){i.push(e.list)}),On.default.each(i[0],function(t,i){e="<li id="+i.id+">"+i.name+"</li>",(0,On.default)(".target-right ul").append(e)}),(0,On.default)(".target-left ul").delegate("li","click",function(){(0,On.default)(this).addClass("active-list").siblings().removeClass("active-list");var t=(0,On.default)(this).index();(0,On.default)(".target-right ul").html(""),On.default.each(i[t],function(t,i){e="<li id="+i.id+">"+i.name+"</li>",(0,On.default)(".target-right ul").append(e)})})}(e)},this.BindClose=function(t){(0,On.default)("#"+this.ID+" .close-tar").click({Chart:t},function(t){t.data.Chart.ChangeIndexDialog.Hide()})},this.BindSearch=function(t){(0,On.default)(".target-left input").on("input",{Chart:t},function(t){var e=new s,i=e.Search(t.target.value);(0,On.default)(".target-right ul").html("");for(var a in i){var r=i[a],n="<li id="+r+">"+r+"</li>";(0,On.default)(".target-right ul").append(n)}})},this.DoModal=function(t){var e=t.data.Chart,i=t.data.Identify,a=e.ChangeIndexDialog,r=t.data.IsOverlay;a&&(null==a.ID&&a.Create(),a.IsOverlayIndex=r,a.ReqeustData(),function(){(0,On.default)(".target-right ul").undelegate().delegate("li","click",function(){var t=(0,On.default)(this).attr("id");r?e.AddOverlayIndex({WindowIndex:i,IndexName:t}):e.ChangeIndex(i,t),(0,On.default)(this).addClass("active-list").siblings().removeClass("active-list")})}(),a.BindSearch(e),a.BindClose(e),a.Show())}}function Ka(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.JSChart=null,this.Height=500,this.Width=600,this.Symbol,this.TradeDate,this.HistoryData,this.Show=function(t,e,i,a){var r=document.getElementById(this.ID);if(!r)return!1;var n=r.getElementsByClassName("minute-hqchart");if(!n||1!=n.length)return!1;var o=n[0];Ee.IsNumber(i)&&(r.style.width=i+"px"),Ee.IsNumber(a)&&(r.style.height=a+"px"),Ee.IsNumber(t)&&(r.style.left=t+"px"),Ee.IsNumber(e)&&(r.style.top=e+"px"),r.style.display="block";var s=o.offsetWidth,l=o.offsetTop;o.style.width=s+"px",o.style.height=a-l-5+"px"},this.Create=function(){this.ID=m();var t=document.createElement("div");t.className="jchart-kline-minute-box",t.id=this.ID;var e=m();t.innerHTML="<div><div class='minute-dialog-title'><span></span><strong class='close-munite icon iconfont icon-close'></strong></div><div class='minute-hqchart' id='"+e+"' ></div></div>",t.style.width=this.Height+"px",t.style.height=this.Width+"px",this.DivElement.appendChild(t),this.JSChart=l.Init(document.getElementById(e));var i={Type:"历史分钟走势图",Symbol:this.Symbol,IsAutoUpdate:!1,IsShowRightMenu:!1,HistoryMinute:{TradeDate:this.TradeDate,IsShowName:!1,IsShowDate:!1}};this.JSChart.SetOption(i)},this.BindClose=function(t){(0,On.default)("#"+this.ID+" .close-munite").click({Chart:t},function(t){t.data.Chart.MinuteDialog.Hide()})},this.DoModal=function(t){this.UpColor=lo.UpTextColor,this.DownColor=lo.DownTextColor,this.UnchagneColor=lo.UnchagneTextColor;var e=t.data.Chart,i=t.data.Tooltip,a=e.MinuteDialog;if(a.Symbol=e.Symbol,a.TradeDate=i.Data.Date,a){null==a.ID?a.Create():(a.JSChart.JSChartContainer.TradeDate=a.TradeDate,a.JSChart.ChangeSymbol(this.Symbol));var r=(t.clientX,t.clientY,c());a.Show(500/r,100/r,600,500),a.JSChart.OnSize(),this.BindClose(e),this.GetColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor};var n=t.data.Chart.Name,o=t.data.Tooltip.Data,s=(new Date(parseInt(o.Date/1e4),o.Date/100%100-1,o.Date%100),o.Date.toString()),l=s.substring(0,4)+"-"+s.substring(4,6)+"-"+s.substring(6,8),h="<span>"+n+"</span><span>"+l+"</span>&nbsp;<span style='color:"+this.GetColor(o.Open,o.YClose)+";'>开:"+o.Open.toFixed(2)+"</span><span style='color:"+this.GetColor(o.High,o.YClose)+";'>高:"+o.High.toFixed(2)+"</span><span style='color:"+this.GetColor(o.Low,o.YClose)+";'>低:"+o.Low.toFixed(2)+"</span><span style='color:"+this.GetColor(o.Close,o.YClose)+";'>收:"+o.Close.toFixed(2)+"</span><span style='color:"+this.VolColor+";'>量:"+Ee.FormatValueString(o.Vol,2)+"</span><span style='color:"+this.AmountColor+";'>额:"+Ee.FormatValueString(o.Amount,2)+"</span>";(0,On.default)(".minute-dialog-title span").html(h)}}}function $a(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.SelectData,this.Dialog,this.HQChart,this.RectSelectPaint,this.Close=function(){this.Dialog&&(this.DivElement.removeChild(this.Dialog),this.Dialog=null,this.ID=null),this.RectSelectPaint&&(this.RectSelectPaint.PreventClose=!1)},this.Create=function(){this.ID=m();var t=document.createElement("div");t.className="jchart-select-statistics-box",t.id=this.ID,t.innerHTML="<div class='parameter jchart-select-section'>            <div class='parameter-header'>                <span>分时图区间统计</span>                <strong id='close' class='icon iconfont icon-close'></strong>            </div>            <div class='parameter-content'>统计数据</div>        <div class='parameter-footer'>            <button id='close' class='submit' >确定</button>        </div>        </div>",this.DivElement.appendChild(t),this.Dialog=t,(0,On.default)("#"+this.ID+" #close").click({divBox:this},function(t){t.data.divBox.Close()})},this.BindData=function(){var t=this.SelectData.Data,e=this.SelectData.Start,i=this.SelectData.End;this.HQChart.UpdateSelectRect(e,i),this.RectSelectPaint&&(this.RectSelectPaint.PreventClose=!0);for(var a={Open:0,Close:0,High:0,Low:0,Vol:0,Amount:0,Date:{Start:{Time:null,Date:null},End:{Time:null,Date:null}},Count:0},r=e;r<=i&&r<t.Data.length;++r){var n=t.Data[r];r==e&&(a.Date.Start.Date=n.Date,a.Date.Start.Time=n.Time,a.Open=n.Close,a.High=n.High,a.Low=n.Low),a.Date.End.Date=n.Date,a.Date.End.Time=n.Time,a.Close=n.Close,a.Vol+=n.Vol,a.Amount+=n.Amount,++a.Count,a.High<n.High&&(a.High=n.High),a.Low>n.Low&&(a.Low=n.Low)}a.Vol>0&&(a.AvPrice=a.Amount/a.Vol),n.Open>0&&(a.Increase=(a.Close-a.Open)/a.Open*100,a.Amplitude=(a.High-a.Low)/a.Open*100);var o=pr(this.SelectData.Symbol),s=Ee.FormatDateString(a.Date.Start.Date),l=Ee.FormatDateString(a.Date.End.Date);s+=" "+Ee.FormatTimeString(a.Date.Start.Time,"HH:MM"),l+=" "+Ee.FormatTimeString(a.Date.End.Time,"HH:MM");var h="",u="",c="",d="";e<=0&&(h="BtnBackground"),e>=i&&(u="BtnBackground",c="BtnBackground"),i>=t.Data.length-1&&(d="BtnBackground");var f=document.createElement("div");f.className="jchart-select-table-right",f.innerHTML='<div class="jchart-select-date">\n            <span>开始: '+s+'<i class="start-date-left '+h+'"><</i><i class="start-date-right '+u+'">></i></span>\n            <span>结束: '+l+'<i class="end-date-left '+c+'"><</i><i class="end-date-right '+d+'">></i></span>\n            <span>总个数: '+a.Count+"</span>\n        </div>\n        <table>\n            <tr><td><strong>起始价: </strong><span>"+a.Open.toFixed(o)+"</span></td>               <td><strong>终止价: </strong><span>"+a.Close.toFixed(o)+"</span></td>               <td><strong>均价: </strong><span>"+(Ee.IsNumber(a.AvPrice)?a.AvPrice.toFixed(o):"--.--")+"</span></td></tr>\n            <tr><td><strong>最低价: </strong><span>"+a.Low.toFixed(o)+"</span></td>               <td><strong>最高价: </strong><span>"+a.High.toFixed(o)+'</span></td>               <td><strong>涨跌幅: </strong><span class="'+Ee.FormatValueColor(a.Increase)+'">'+a.Increase.toFixed(2)+"%</span></td></tr>\n            <tr><td><strong>振幅: </strong><span>"+a.Amplitude.toFixed(2)+"%</span></td>               <td><strong>成交量: </strong><span>"+Ee.FormatValueString(a.Vol,2)+"股</span></td>               <td><strong>金额: </strong><span>"+Ee.FormatValueString(a.Amount,2)+"元</span></td></tr>\n        </table>",(0,On.default)(".parameter-content").html(f),this.BindEvent()},this.BindEvent=function(){var t=this;t.SelectData.Start>0&&(0,On.default)(".jchart-select-date .start-date-left").click(function(){t.SelectData.Start--,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)}),t.SelectData.Start<t.SelectData.End&&((0,On.default)(".jchart-select-date .start-date-right").click(function(){t.SelectData.Start++,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)}),(0,On.default)(".jchart-select-date .end-date-left").click(function(){t.SelectData.End--,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)})),t.SelectData.End<t.SelectData.Data.Data.length-1&&(0,On.default)(".jchart-select-date .end-date-right").click(function(){t.SelectData.End++,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)})},this.DoModal=function(t){var e=t.data.Chart;null==this.ID&&this.Create(),this.SelectData=t.data.SelectData,this.RectSelectPaint=t.data.RectSelectPaint,this.HQChart=e,this.HQChart.HideSelectRect(),this.BindData(),this.Show()}}function ja(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.SelectData,this.Dialog,this.HQChart,this.RectSelectPaint,this.Close=function(){this.Dialog&&(this.DivElement.removeChild(this.Dialog),this.Dialog=null),this.RectSelectPaint&&(this.RectSelectPaint.PreventClose=!1)},this.Create=function(){this.ID=m();var t=document.createElement("div");t.className="jchart-select-statistics-box",t.id=this.ID,t.innerHTML="<div class='parameter jchart-select-section'>            <div class='parameter-header'>                <span>区间统计</span>                <strong id='close' class='icon iconfont icon-close'></strong>            </div>            <div class='parameter-content'>统计数据</div>        <div class='parameter-footer'>            <button id='close' class='submit' >确定</button>            <button id='match' class='submit' >形态匹配</button>        </div>        </div>",this.DivElement.appendChild(t),this.Dialog=t,(0,On.default)("#"+this.ID+" #close").click({divBox:this},function(t){t.data.divBox.Close()}),(0,On.default)("#"+this.ID+" #match").click({divBox:this},function(t){t.data.divBox.KLineMatch()})},this.BindData=function(){var t=this.SelectData.Data,e=this.SelectData.Start,i=this.SelectData.End;this.HQChart.UpdateSelectRect(e,i),this.RectSelectPaint&&(this.RectSelectPaint.PreventClose=!0);for(var a={Open:0,Close:0,High:0,Low:0,YClose:0,Vol:0,Amount:0,Date:{Start:{Time:null,Date:null},End:{Time:null,Date:null}},Count:0,KLine:{Up:0,Down:0,Unchanged:0}},r=e;r<=i&&r<t.Data.length;++r){var n=t.Data[r];r==e&&(a.Date.Start.Date=n.Date,a.Date.Start.Time=n.Time,a.Open=n.Open,a.High=n.High,a.Low=n.Low,a.YClose=n.YClose),a.Date.End.Date=n.Date,a.Date.End.Time=n.Time,a.Close=n.Close,a.Vol+=n.Vol,a.Amount+=n.Amount,++a.Count,a.High<n.High&&(a.High=n.High),a.Low>n.Low&&(a.Low=n.Low),n.Close>n.Open?++a.KLine.Up:n.Close<n.Open?++a.KLine.Down:++a.KLine.Unchanged}a.Vol>0&&(a.AvPrice=a.Amount/a.Vol),n.YClose>0&&(a.Increase=(a.Close-a.YClose)/a.YClose*100,a.Amplitude=(a.High-a.Low)/a.YClose*100);var o=pr(this.SelectData.Symbol),s=Ee.FormatDateString(a.Date.Start.Date),l=Ee.FormatDateString(a.Date.End.Date);Q.IsMinutePeriod(this.HQChart.Period)?(s+=" "+Ee.FormatTimeString(a.Date.Start.Time,"HH:MM"),l+=" "+Ee.FormatTimeString(a.Date.End.Time,"HH:MM")):(Q.IsSecondPeriod(this.HQChart.Period)||Q.IsTickPeriod(this.HQChart.Period))&&(s+=" "+Ee.FormatTimeString(a.Date.Start.Time,"HH:MM:SS"),l+=" "+Ee.FormatTimeString(a.Date.End.Time,"HH:MM:SS"));var h="",u="",c="",d="";e<=0&&(h="BtnBackground"),e>=i&&(u="BtnBackground",c="BtnBackground"),i>=t.Data.length-1&&(d="BtnBackground");var f=document.createElement("div");f.className="jchart-select-table-right",f.innerHTML='<div class="jchart-select-date">\n            <span>开始: '+s+'<i class="start-date-left '+h+'"><</i><i class="start-date-right '+u+'">></i></span>\n            <span>结束: '+l+'<i class="end-date-left '+c+'"><</i><i class="end-date-right '+d+'">></i></span>\n            <span>总个数: '+a.Count+"</span>\n        </div>\n        <table>\n            <tr><td><strong>起始价: </strong><span>"+a.YClose.toFixed(o)+"</span></td>               <td><strong>最终价: </strong><span>"+a.Close.toFixed(o)+"</span></td>               <td><strong>均价: </strong><span>"+(Ee.IsNumber(a.AvPrice)?a.AvPrice.toFixed(o):"--.--")+"</span></td></tr>\n            <tr><td><strong>最低价: </strong><span>"+a.Low.toFixed(o)+"</span></td>               <td><strong>最高价: </strong><span>"+a.High.toFixed(o)+'</span></td>               <td><strong>涨跌幅: </strong><span class="'+Ee.FormatValueColor(a.Increase)+'">'+a.Increase.toFixed(2)+"%</span></td></tr>\n            <tr><td><strong>振幅: </strong><span>"+a.Amplitude.toFixed(2)+"%</span></td>               <td><strong>成交量: </strong><span>"+Ee.FormatValueString(a.Vol,2)+"股</span></td>               <td><strong>金额: </strong><span>"+Ee.FormatValueString(a.Amount,2)+"元</span></td></tr>\n            <tr><td><strong>阴线: </strong><span>"+a.KLine.Up+"</span></td>               <td><strong>阳线: </strong><span>"+a.KLine.Down+"</span></td>               <td><strong>平线: </strong><span>"+a.KLine.Unchanged+"</span></td></tr>\n        </table>",(0,On.default)(".parameter-content").html(f),this.BindEvent()},this.BindEvent=function(){var t=this;t.SelectData.Start>0&&(0,On.default)(".jchart-select-date .start-date-left").click(function(){t.SelectData.Start--,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)}),t.SelectData.Start<t.SelectData.End&&((0,On.default)(".jchart-select-date .start-date-right").click(function(){t.SelectData.Start++,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)}),(0,On.default)(".jchart-select-date .end-date-left").click(function(){t.SelectData.End--,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)})),t.SelectData.End<t.SelectData.Data.Data.length-1&&(0,On.default)(".jchart-select-date .end-date-right").click(function(){t.SelectData.End++,t.BindData(),t.HQChart.UpdateSelectRect(t.SelectData.Start,t.SelectData.End)})},this.DoModal=function(t){var e=t.data.Chart;null==this.ID&&this.Create(),this.SelectData=t.data.SelectData,this.RectSelectPaint=t.data.RectSelectPaint,this.HQChart=e,this.HQChart.HideSelectRect(),this.BindData(),this.Show()},this.KLineMatch=function(t){var e=new qa(this.DivElement);e.DoModal({data:{Title:"计算中......",Chart:this.HQChart}}),this.Close();var i=this.HQChart,a={Scope:{Plate:["CNA.ci"],Minsimilar:.9},WaitDialog:e};i.RequestKLineMatch(this.SelectData,a)}}function Ja(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.MatchData,this.Sample,this.Dialog,this.HQChart,this.PageData,this.Close=function(){this.DivElement.removeChild(this.Dialog)},this.Create=function(){this.ID=m();var t=document.createElement("div");t.className="jchart-kline-match-box",t.id=this.ID,t.innerHTML="<div class='parameter jchart-kline-match-box'>\n            <div class='parameter-header'>\n                <span>形态匹配</span>\n                <strong id='close' class='icon iconfont icon-close'></strong>\n            </div>\n            <div class='parameter-content'>\n                <p class='dataCount'></p>\n                <table class='matchTable'>\n                    <thead>\n                        <tr>\n                            <td>股票名称</td>\n                            <td>匹配度</td>\n                            <td>时间段</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                </table>\n                <div class='pagination' data-current='1'></div>\n            </div>\n            <div class='parameter-footer'>\n                <button id='close' class='submit' >确定</button>\n            </div>\n        </div>".trim(),this.DivElement.appendChild(t),this.Dialog=t,(0,On.default)("#"+this.ID+" #close").click({divBox:this},function(t){t.data.divBox.Close()})},this.BindData=function(){Nn.Chart.Log("[KLineMatchDialog::BindData] 形态源: "+this.Sample.Stock.Name+" 区间:"+this.Sample.Date.Start+" - "+this.Sample.Date.End);var t=this.MatchData.length+1,e={NewData:{},MetaData:[],PageCount:0,Count:t},i=0;(0,On.default)("#"+this.ID+" .dataCount").html("个数："+t);for(var a=0;a<t;a++){var r={};if(0==a)r={Symbol:this.Sample.Stock.Symbol,Name:this.Sample.Stock.Name,Rate:"形态源",Color:"red",Date:this.Sample.Date.Start+"-"+this.Sample.Date.End};else{var n=this.MatchData[a-1];r={Symbol:n.Symbol,Name:n.Name,Rate:Number(100*n.Similar).toFixed(2),Color:"",Date:n.Start+"-"+n.End}}e.MetaData.push(r)}i=e.Count%10==0?e.Count/10:Math.floor(e.Count/10)+1,e.PageCount=i,this.PaginationMetaData(e),this.PageData=e,Nn.Chart.Log("[KLineMatchDialog::DoModal pageData]",e),this.RenderDom(1),this.PaginationInit("#"+this.ID,e.PageCount,this.paginationCallback)},this.RenderDom=function(t){var e=this.PageData.NewData[t];Nn.Chart.Log("[KLineMatchDialog::RenderDom currentPageData]",e);for(var i="",a=0;a<e.length;a++)i+=("<tr>\n                        <td class="+e[a].Color+">"+e[a].Name+"</td>\n                        <td class="+e[a].Color+">"+e[a].Rate+"</td>\n                        <td class="+e[a].Color+">"+e[a].Date+"</td>\n                    </tr>").trim();(0,On.default)("#"+this.ID+" .matchTable tbody").html(i)};var e=this;this.paginationCallback=function(t){e.RenderDom(t),e.PaginationInit("#"+e.ID,e.PageData.PageCount,e.paginationCallback)},this.PaginationInit=function(t,e,i){var a="",r=(0,On.default)(t+" .pagination").data("current"),n=0;if(r<5)if(e>=5)for(var o=0;o<5;o++)a+=o+1!=r?"<span>"+(o+1)+"</span>":"<span class='active'>"+(o+1)+"</span>";else for(var o=0;o<e;o++)a+=o+1!=r?"<span>"+(o+1)+"</span>":"<span class='active'>"+(o+1)+"</span>";else{n=r+1>e?r:r+1;for(var s=r-3;s<=n;s++)a+=s!=r?"<span>"+s+"</span>":"<span class='active'>"+s+"</span>"}a="<span class='beforePage'>上一页</span>"+a+"<span class='nextPage'>下一页</span>",(0,On.default)(t+" .pagination").html(a),(0,On.default)(t+" .pagination span").bind("click",{maxpage:e,Callback:i},this.PaginationCurrentIndex)},this.PaginationCurrentIndex=function(t){var e=(0,On.default)(this).text();Nn.Chart.Log("[::PaginationCurrentIndex text]",e);var i=Number((0,On.default)(this).parent().data("current")),a=t.data.maxpage,r=t.data.Callback,n=1;n="上一页"===e?1===i?i:i-1:"下一页"===e?i===a?i:i+1:Number(e),(0,On.default)(this).parent().data("current",n),r(n)},this.PaginationMetaData=function(t){for(var e={},i=t.MetaData,a=t.PageCount,r=0;r<a;r++){for(var n=[],o=0;o<10;o++){var s=10*r+o;if(!(s<=i.length-1))break;var l=i[s];n.push(l)}e[r+1]=n}t.NewData=e},this.DoModal=function(t){var e=t.data.Chart;null==this.ID&&this.Create(),this.MatchData=t.data.MatchData,this.Sample=t.data.Sample,this.HQChart=e,this.BindData();var i=e.Frame.ChartBorder,a=(C(),i.GetWidth()/2),r=i.GetHeight()/2;this.Show(a,r,200,200)}}function qa(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.Title="加载中......",this.Dialog,this.Close=function(){this.Dialog&&(this.DivElement.removeChild(this.Dialog),this.Dialog=null)},this.SetTitle=function(t){this.Title=t,this.Dialog},this.Create=function(){this.ID=m();var t=document.createElement("div");t.className="jchart-wait-box",t.id=this.ID,t.innerHTML=("<div class='parameter jchart-kline-match-box'>\n            <div class='parameter-header'>\n                <span>"+this.Title+"</span>\n            </div>\n        </div>").trim(),this.DivElement.appendChild(t),this.Dialog=t},this.DoModal=function(t){this.Title=t.data.Title;var e=t.data.Chart;null==this.ID&&this.Create();var i=e.Frame.ChartBorder,a=(C(),i.GetWidth()/2),r=i.GetHeight()/2;this.Show(a,r,200,40)}}function Za(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.option={},this.Create=function(){var t=this;this.ID=m(),t.BindData(),t.BindEvent()},this.BindData=function(){var t=this,e=this.DivElement.id,i=(0,On.default)("#"+e);i.find("div[id^='topMenu_']").remove(),i.find("div[id^='childMenu_']").remove();var a=(0,On.default)("<div />");a.attr("id","topMenu_"+t.ID).addClass("context-menu-wrapper topmenu").hide(),i.append(a);var r=(0,On.default)("<table />");r.attr({id:"topTable_"+t.ID,cellspacing:"0",cellpadding:"0"}).addClass("context-menu"),a.append(r),r.append(t.childrenList(t.option.data));for(var n=0;n<t.option.data.length;n++){if(void 0!==t.option.data[n].children){var o=(0,On.default)("<div />");o.attr({id:"childMenu_"+t.ID+n,"data-index":n}).addClass("context-menu-wrapper").hide(),i.append(o);var s=(0,On.default)("<table />");s.attr({id:"childTable_"+t.ID+n,cellspacing:"0",cellpadding:"0"}).addClass("context-menu"),o.append(s),s.append(t.childrenList(t.option.data[n].children))}}},this.Update=function(){var t=this;t.BindData(),t.BindEvent()},this.childrenList=function(t){for(var e=[],i=0;i<t.length;i++){var a=void 0!==t[i].isBorder&&t[i].isBorder,r=(0,On.default)("<tr />");r.addClass("font_Arial context-menu"),a&&r.addClass("border");var n=(0,On.default)("<td />");t[i].selected?n.addClass("spacer context-menu").html("√"):n.addClass("spacer context-menu");var o=(0,On.default)("<td />");o.addClass("text").html(t[i].text);var s=(0,On.default)("<td />");s.addClass("right shortcut");var l=(0,On.default)("<td />");l.addClass(void 0!==t[i].children?"submenu-arrow":"context-menu spacer"),r.append(n).append(o).append(s).append(l),e.push(r)}return e},this.Show=function(t){var e=this;On.default.extend(e.option,t),e.ID?e.Update():e.Create();var i=(0,On.default)("#topMenu_"+e.ID),a=i.outerWidth(),r=i.outerHeight(),n=e.option.x,o=e.option.y;a>e.option.position.X+e.option.position.W-n&&(n-=a),r>e.option.position.Y+e.option.position.H-o&&(o-=r),i.hide(),i.css({position:"absolute",left:n+"px",top:o+"px"}).show(),this.isInit=!0},this.Hide=function(){var t=this;void 0!==On.default&&((0,On.default)("#topMenu_"+t.ID).hide(),(0,On.default)("[id^='childMenu_"+t.ID+"']").hide())},this.BindEvent=function(){var t=this,e=(0,On.default)("[id^='childMenu_"+t.ID+"']");(0,On.default)("#topTable_"+t.ID).find("tr").mouseenter(function(){var i=(0,On.default)(this),a=i.index(),r=(0,On.default)("#topMenu_"+t.ID),n=(0,On.default)("#childMenu_"+t.ID+a),o=i.outerWidth(),s=i.outerHeight(),l=r.position().left+o+1,h=r.position().top+s*a;o>t.option.position.X+t.option.position.W-l&&(l=l-o-r.outerWidth()-2),n.outerHeight()>t.option.position.Y+t.option.position.H-h&&(h=r.position().top+r.outerHeight()-n.outerHeight()),e.hide(),n.css({left:l+"px",top:h+"px"}).show()}).mouseleave(function(){var e=(0,On.default)(this).index();setTimeout(function(){1!=(0,On.default)("#childMenu_"+t.ID+e).attr("data-isShow")&&(0,On.default)("#childMenu_"+t.ID+e).hide()},10)}).click(function(){var e=(0,On.default)(this),i=e.index();"function"==On.default.type(t.option.data[i].click)&&(t.option.data[i].click(t.option.returnData),e.hide())}).contextmenu(function(){return!1}),e.mouseenter(function(){(0,On.default)(this).attr("data-isShow","1")}).mouseleave(function(){(0,On.default)(this).attr("data-isShow","0")}).contextmenu(function(){return!1}),e.find("tr").click(function(){var i=(0,On.default)(this),a=parseInt(i.closest("div").attr("data-index")),r=i.index();"function"==On.default.type(t.option.data[a].children[r].click)&&(t.option.data[a].children[r].click(t.option.windowIndex||1),e.hide())})},this.GetPeriod=function(t){var e=[{text:"日线",Value:0,click:function(){t.ChangePeriod(0)}},{text:"周线",Value:1,click:function(){t.ChangePeriod(1)}},{text:"双周线",Value:21,click:function(){t.ChangePeriod(21)}},{text:"月线",Value:2,click:function(){t.ChangePeriod(2)}},{text:"季线",Value:9,click:function(){t.ChangePeriod(9)}},{text:"半年",Value:22,click:function(){t.ChangePeriod(22)}},{text:"年线",Value:3,click:function(){t.ChangePeriod(3)}},{text:"1分",Value:4,click:function(){t.ChangePeriod(4)}},{text:"5分",Value:5,click:function(){t.ChangePeriod(5)}},{text:"15分",Value:6,click:function(){t.ChangePeriod(6)}},{text:"30分",Value:7,click:function(){t.ChangePeriod(7)}},{text:"60分",Value:8,click:function(){t.ChangePeriod(8)}},{text:"2小时",Value:11,click:function(){t.ChangePeriod(11)}},{text:"4小时",Value:12,click:function(){t.ChangePeriod(12)}},{text:"分笔",Value:10,click:function(){t.ChangePeriod(10)}},{text:"自定义周期:3分钟",Value:20003,click:function(){t.ChangePeriod(20003)}},{text:"自定义周期:35分钟",Value:20035,click:function(){t.ChangePeriod(20035)}},{text:"自定义周期:8日",Value:40008,click:function(){t.ChangePeriod(40008)}}];for(var i in e){var a=e[i];if(a.Value==t.Period){a.selected=!0;break}}return e},this.GetRight=function(t){var e=[{text:"不复权",click:function(){t.ChangeRight(0)}},{text:"前复权",click:function(){t.ChangeRight(1)}},{text:"后复权",click:function(){t.ChangeRight(2)}}];return t.Right>=0&&t.Right<e.length&&(e[t.Right].selected=!0),e},this.GetIndex=function(t){return[{text:"均线",click:function(e){t.ChangeIndex(e,"均线")}},{text:"BOLL",click:function(e){t.ChangeIndex(e,"BOLL")},isBorder:!0},{text:"MACD",click:function(e){t.ChangeIndex(e,"MACD")}},{text:"KDJ",click:function(e){t.ChangeIndex(e,"KDJ")}},{text:"VOL",click:function(e){t.ChangeIndex(e,"VOL")}},{text:"RSI",click:function(e){t.ChangeIndex(e,"RSI")}},{text:"BRAR",click:function(e){t.ChangeIndex(e,"BRAR")}},{text:"WR",click:function(e){t.ChangeIndex(e,"WR")}},{text:"BIAS",click:function(e){t.ChangeIndex(e,"BIAS")}},{text:"OBV",click:function(e){t.ChangeIndex(e,"OBV")}},{text:"DMI",click:function(e){t.ChangeIndex(e,"DMI")}},{text:"CR",click:function(e){t.ChangeIndex(e,"CR")}},{text:"PSY",click:function(e){t.ChangeIndex(e,"PSY")}},{text:"CCI",click:function(e){t.ChangeIndex(e,"CCI")}},{text:"DMA",click:function(e){t.ChangeIndex(e,"DMA")}},{text:"TRIX",click:function(e){t.ChangeIndex(e,"TRIX")}},{text:"VR",click:function(e){t.ChangeIndex(e,"VR")}},{text:"EMV",click:function(e){t.ChangeIndex(e,"EMV")}},{text:"ROC",click:function(e){t.ChangeIndex(e,"ROC")}},{text:"MIM",click:function(e){t.ChangeIndex(e,"MIM")}},{text:"FSL",click:function(e){t.ChangeIndex(e,"FSL")}}]},this.GetColorIndex=function(t){var e=[{text:"十字星",click:function(e){t.ChangeInstructionIndex("五彩K线-十字星")}},{text:"早晨之星",click:function(e){t.ChangeInstructionIndex("五彩K线-早晨之星")}},{text:"垂死十字",click:function(e){t.ChangeInstructionIndex("五彩K线-垂死十字")}},{text:"三只乌鸦",click:function(e){t.ChangeInstructionIndex("五彩K线-三只乌鸦")}},{text:"光脚阴线",click:function(e){t.ChangeInstructionIndex("五彩K线-光脚阴线")}},{text:"黄昏之星",click:function(e){t.ChangeInstructionIndex("五彩K线-黄昏之星")}}];return t.ColorIndex&&(e[e.length-1].isBorder=!0,e.push({text:"删除五彩K线",click:function(e){t.CancelInstructionIndex()}})),e},this.GetTradeIndex=function(t){var e=[{text:"BIAS",click:function(e){t.ChangeInstructionIndex("交易系统-BIAS")}},{text:"CCI",click:function(e){t.ChangeInstructionIndex("交易系统-CCI")}},{text:"DMI",click:function(e){t.ChangeInstructionIndex("交易系统-DMI")}},{text:"KD",click:function(e){t.ChangeInstructionIndex("交易系统-KD")}},{text:"BOLL",click:function(e){t.ChangeInstructionIndex("交易系统-BOLL")}},{text:"KDJ",click:function(e){t.ChangeInstructionIndex("交易系统-KDJ")}}];return t.TradeIndex&&(e[e.length-1].isBorder=!0,e.push({text:"删除专家系统",click:function(e){t.CancelInstructionIndex()}})),e},this.GetOverlay=function(t){var e=[{text:"上证指数",click:function(){t.OverlaySymbol("000001.sh")}},{text:"深证成指",click:function(){t.OverlaySymbol("399001.sz")}},{text:"中小板指",click:function(){t.OverlaySymbol("399005.sz")}},{text:"创业板指",click:function(){t.OverlaySymbol("399006.sz")}},{text:"沪深300",click:function(){t.OverlaySymbol("000300.sh")}}];for(var i in t.OverlayChartPaint){var a=t.OverlayChartPaint[i],r=a.Symbol,n=new Mn.default([["000001.sh",0],["399001.sz",1],["399005.sz",2],["399006.sz",3],["000300.sh",4]]);if(n.has(r)){var o;!function(){o=e[n.get(r)];var i=r;o.selected=!0,o.click=function(){t.DeleteOverlaySymbol(i)}}()}}return t.OverlayChartPaint&&t.OverlayChartPaint.length>0&&(e[e.length-1].isBorder=!0,e.push({text:"取消叠加",click:function(){t.ClearOverlaySymbol()}})),e},this.GetKLineType=function(t){var e=[{text:"K线(空心阳线)",click:function(){t.ChangeKLineDrawType(3)}},{text:"K线(实心阳线)",click:function(){t.ChangeKLineDrawType(0)}},{text:"美国线",click:function(){t.ChangeKLineDrawType(2,!0,{IsThinAKBar:!1})}},{text:"收盘线",click:function(){t.ChangeKLineDrawType(1)}},{text:"收盘面积",click:function(){t.ChangeKLineDrawType(4)}},{text:"K线(空心阳线阴线)",click:function(){t.ChangeKLineDrawType(6)}},{text:"Heikin Ashi",click:function(){t.ChangeKLineDrawType(11)}},{text:"Line Break",click:function(){t.ChangeKLineDrawType(12)}},{text:"High-low",click:function(){t.ChangeKLineDrawType(13)}},{text:"HLC Area",click:function(){t.ChangeKLineDrawType(15)}}];switch(t.KLineDrawType){case 0:e[1].selected=!0;break;case 1:e[3].selected=!0;break;case 2:e[2].selected=!0;break;case 3:e[0].selected=!0;break;case 4:e[4].selected=!0;break;case 6:e[5].selected=!0;break;case 11:e[6].selected=!0;break;case 12:e[7].selected=!0;break;case 13:e[8].selected=!0;break;case 15:e[9].selected=!0}return e},this.GetIndexWindowCount=function(t){var e=[{text:"1个窗口",click:function(){t.ChangeIndexWindowCount(1)}},{text:"2个窗口",click:function(){t.ChangeIndexWindowCount(2)}},{text:"3个窗口",click:function(){t.ChangeIndexWindowCount(3)}},{text:"4个窗口",click:function(){t.ChangeIndexWindowCount(4)}},{text:"5个窗口",click:function(){t.ChangeIndexWindowCount(5)}}],i=t.Frame.SubFrame.length;return i-1>=0&&i-1<e.length&&(e[i-1].selected=!0),e},this.GetCoordinateType=function(t){var e=[{text:"普通坐标",click:function(){t.ChangeCoordinateType({Type:0})}},{text:"百分比坐标",click:function(){t.ChangeCoordinateType({Type:1})}},{text:"反转坐标",click:function(){t.ChangeCoordinateType({IsReverse:!0})}},{text:"对数坐标",click:function(){t.ChangeCoordinateType({Type:2})}},{text:"等比坐标",click:function(){t.ChangeCoordinateType({Type:3})}},{text:"等分坐标",click:function(){t.ChangeCoordinateType({Type:4})}},{text:"黄金分割",click:function(){t.ChangeCoordinateType({Type:5})}}];return t.Frame&&t.Frame.SubFrame&&t.Frame.SubFrame.length>0&&(1==t.Frame.SubFrame[0].Frame.CoordinateType&&(e[2].selected=!0,e[2].click=function(){t.ChangeCoordinateType({IsReverse:!1})}),1==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[1].selected=!0:0==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[0].selected=!0:2==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[3].selected=!0:3==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[4].selected=!0:4==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType?e[5].selected=!0:5==t.Frame.SubFrame[0].Frame.YSplitOperator.CoordinateType&&(e[6].selected=!0)),e},this.GetDragModeType=function(t){var e=[{text:"禁止拖拽",click:function(){t.DragMode=0}},{text:"启动拖拽",click:function(){t.DragMode=1}},{text:"区间选择",click:function(){t.DragMode=2}}];return t.DragMode>=0&&t.DragMode<e.length&&(e[t.DragMode].selected=!0),e},this.GetTools=function(t){var e=[],i=t.GetExtendChartByClassName("DrawToolsButton");i?e.push({text:"关闭画图工具",click:function(){for(var e=i.Chart.Width,a=parseInt(i.Index),r=a+1;r<t.ExtendChartPaint.length;++r){var n=t.ExtendChartPaint[r];"StockChip"==n.ClassName&&(n.Left-=e)}t.DeleteExtendChart(i),t.Frame.ChartBorder.Right-=e,t.SetSizeChange(!0),t.Draw()}}):e.push({text:"画图工具",click:function(){var e={Name:"画图工具",Top:t.Frame.ChartBorder.Top};t.CreateExtendChart(e.Name,e);t.SetSizeChange(!0),t.Draw()}});var a=t.GetExtendChartByClassName("StockChip");return a?e.push({text:"关闭移动筹码",click:function(){for(var e=a.Chart.Width,i=parseInt(a.Index),r=i+1;r<t.ExtendChartPaint.length;++r){var n=t.ExtendChartPaint[r];"DrawToolsButton"==n.ClassName&&(n.Left-=e)}t.DeleteExtendChart(a),t.Frame.ChartBorder.Right-=e,t.SetSizeChange(!0),t.Draw()}}):e.push({text:"移动筹码",click:function(){var e={Name:"筹码分布",ShowType:1,Width:230};t.CreateExtendChart(e.Name,e);t.SetSizeChange(!0),t.Draw()}}),e},this.GetKLineInfo=function(t){var e=new Tn.default;for(var i in t.ChartInfo){var a=t.ChartInfo[i];e.add(a.ClassName)}var r=["公告","业绩预告","调研","大宗交易","龙虎榜","互动易"],n=[];for(var i in r){var o=r[i],s=Oa.GetClassInfo(o);if(s){var a=this.CreateKlineInfoItem(o,e.has(s.ClassName),t);n.push(a)}}if(t.ChartInfo.length>0){n[n.length-1].isBorder=!0;var a={text:"删除所有",click:function(){t.ClearKLineInfo()}};n.push(a)}return n},this.CreateKlineInfoItem=function(t,e,i){var a={text:t,selected:e};return a.click=e?function(){i.DeleteKLineInfo(t)}:function(){i.AddKLineInfo(t,!0)},a},this.DoModal=function(t){var e=t.data.Chart,i=e.RightMenu,a=t.offsetX,r=t.offsetY,n=[{text:"分析周期",children:this.GetPeriod(e)},{text:"复权处理",children:this.GetRight(e)},{text:"指标切换",children:this.GetIndex(e)},{text:"五彩K线",children:this.GetColorIndex(e)},{text:"专家系统",children:this.GetTradeIndex(e)},{text:"信息地雷",children:this.GetKLineInfo(e)},{text:"叠加品种",children:this.GetOverlay(e)},{text:"主图线型",children:this.GetKLineType(e)},{text:"坐标类型",children:this.GetCoordinateType(e)},{text:"指标窗口个数",children:this.GetIndexWindowCount(e)},{text:"鼠标拖拽",children:this.GetDragModeType(e)},{text:"工具",children:this.GetTools(e)}],o=e.Symbol.toUpperCase();(po.IsSHSZIndex(e.Symbol)||po.IsBIT(o))&&n.splice(1,1);var s=t.data.FrameID,l=this.GetOverlayIndex(e,s);if(l&&l.length>0){var h={text:"删除叠加指标",children:this.GetDeleteOverlayIndex(e,l)};n.splice(3,0,h)}Nn.Chart.Log("[KLineRightMenu::DoModal]",s),i.Show({windowIndex:s,x:a+e.UIElement.offsetLeft,y:r+e.UIElement.offsetTop,position:e.Frame.Position,data:n}),(0,On.default)(document).click(function(){i.Hide()})},this.GetOverlayIndex=function(t,e){if(e>=t.Frame.SubFrame.length||e<0)return[];var i=[],a=t.Frame.SubFrame[e];for(var r in a.OverlayIndex){var n=a.OverlayIndex[r];i.push({Name:n.Script.Name,Identify:n.Identify})}return i},this.GetDeleteOverlayIndex=function(t,e){var i=[];for(var a in e)!function(){var r=e[a].Identify;i.push({text:e[a].Name,click:function(){t.DeleteOverlayWindowsIndex(r)}})}();return i}}function Qa(t){this.newMethod=Za,this.newMethod(t),delete this.newMethod,this.DoModal=function(e){var i=e.data.Chart,a=this,r=e.data.X,n=e.data.Y,o=[{text:"区间统计",click:function(){Nn.Chart.Log("[KLineSelectRightMenu::click] 区间统计"),a.Hide(),new ja(t).DoModal(e)}},{text:"区间放大",click:function(){Nn.Chart.Log("[KLineSelectRightMenu::click] 区间放大"),e.data.Chart.ShowSelectData(e.data.SelectData)}}];a.Show({x:r,y:n,position:i.Frame.Position,data:o})},this.Show=function(t){var e=this;On.default.extend(e.option,t),e.ID||e.Create();var i="topMenu_"+e.ID;document.getElementById(i)||e.Create();var a=(0,On.default)("#topMenu_"+e.ID),r=a.outerWidth(),n=a.outerHeight();a.contextmenu(function(){return!1});var o=e.option.x,s=e.option.y;r>e.option.position.X+e.option.position.W-o&&(o-=r),n>e.option.position.Y+e.option.position.H-s&&(s-=n),a.hide(),a.css({position:"absolute",left:o+"px",top:s+"px"}).show(),(0,On.default)("#topMenu_"+e.ID).find("tr").show(),this.isInit=!0}}function tr(t){this.newMethod=Za,this.newMethod(t),delete this.newMethod,this.DoModal=function(t){var e=t.data.Chart,i=e.RightMenu,a=t.offsetX,r=t.offsetY,n=[{text:"叠加品种",children:this.GetOverlay(e)},{text:"多日分时图",children:this.GetDayCount(e)},{text:"指标窗口个数",children:this.GetIndexWindowCount(e)},{text:"副图指标切换",children:this.GetIndex(e)},{text:"区间选择",children:this.GetSelectRect(e)}],o=e.Symbol;po.IsSHSZStockA(o)&&n.push({text:"集合竞价",children:this.GetShowBeforeData(e)}),n.push({text:"工具",children:this.GetTools(e)});var s=t.data.FrameID,l=this.GetOverlayIndex(e,s);if(l&&l.length>0){var h={text:"删除叠加指标",children:this.GetDeleteOverlayIndex(e,l)};n.splice(3,0,h)}var s=t.data.FrameID;Nn.Chart.Log("[MinuteRightMenu::DoModal]",s),i.Show({windowIndex:s,x:a+e.UIElement.offsetLeft,y:r+e.UIElement.offsetTop,position:e.Frame.Position,data:n}),(0,On.default)(document).click(function(){i.Hide()})},this.GetDayCount=function(t){var e=[{text:"当日分时图",click:function(){t.ChangeDayCount(1)},isBorder:!0},{text:"最近2日",click:function(){t.ChangeDayCount(2)}},{text:"最近3日",click:function(){t.ChangeDayCount(3)}},{text:"最近4日",click:function(){t.ChangeDayCount(4)}},{text:"最近5日",click:function(){t.ChangeDayCount(5)}},{text:"最近6日",click:function(){t.ChangeDayCount(6)}}];return t.DayCount-1>=0&&t.DayCount-1<e.length&&(e[t.DayCount-1].selected=!0),e},this.GetIndex=function(t){return[{text:"MACD",click:function(e){t.ChangeIndex(e,"MACD")}},{text:"DMI",click:function(e){t.ChangeIndex(e,"DMI")}},{text:"DMA",click:function(e){t.ChangeIndex(e,"DMA")}},{text:"BRAR",click:function(e){t.ChangeIndex(e,"BRAR")}},{text:"KDJ",click:function(e){t.ChangeIndex(e,"KDJ")}},{text:"RSI",click:function(e){t.ChangeIndex(e,"RSI")}},{text:"WR",click:function(e){t.ChangeIndex(e,"WR")}},{text:"CCI",click:function(e){t.ChangeIndex(e,"CCI")}},{text:"TRIX",click:function(e){t.ChangeIndex(e,"TRIX")}}]},this.GetShowBeforeData=function(t){if(t.IsShowBeforeData){var e=[{text:"隐藏",click:function(){t.ShowCallAuctionData({Left:!1,MultiDay:{Left:!1}})}}];return e}var e=[{text:"显示",click:function(){t.ShowCallAuctionData({Left:!0,MultiDay:{Left:!0}})}}];return e},this.GetSelectRect=function(t){if(t.EnableSelectRect){var e=[{text:"禁用区间选择",click:function(){t.EnableSelectRect=!1}}];return e}var e=[{text:"启动区间选择",click:function(){t.EnableSelectRect=!0}}];return e},this.GetIndexWindowCount=function(t){var e=[{text:"1个窗口",click:function(){t.ChangeIndexWindowCount(2)}},{text:"2个窗口",click:function(){t.ChangeIndexWindowCount(3)}},{text:"3个窗口",click:function(){t.ChangeIndexWindowCount(4)}},{text:"4个窗口",click:function(){t.ChangeIndexWindowCount(5)}},{text:"5个窗口",click:function(){t.ChangeIndexWindowCount(6)}}],i=t.Frame.SubFrame.length-1;return i-1>=0&&i-1<e.length&&(e[i-1].selected=!0),e},this.GetTools=function(t){var e=[],i=t.GetExtendChartByClassName("DrawToolsButton");return i?e.push({text:"关闭画图工具",click:function(){var e=i.Chart.Width;parseInt(i.Index);t.DeleteExtendChart(i),t.Frame.ChartBorder.Right-=e,t.SetSizeChange(!0),t.Draw()}}):e.push({text:"画图工具",click:function(){var e={Name:"画图工具",Top:t.Frame.ChartBorder.Top};t.CreateExtendChart(e.Name,e);t.SetSizeChange(!0),t.Draw()}}),e}}function er(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.HQChart,this.ChartPicture,this.SubToolsDiv,this.SettingMenu,this.SettingPV,this.DoModal=function(t){if(!this.SubToolsDiv){this.ID=m();var e=document.createElement("div");e.className="subTolls",e.id=this.ID,this.DivElement.appendChild(e),this.SubToolsDiv=e}this.HQChart=t.data.HQChart,this.ChartPicture=t.data.ChartPicture;var i=c(),a=this.HQChart.Frame.SubFrame[0].Frame,r=a.ChartBorder.Top+40,n=a.ChartBorder.Right,o=a.ChartBorder.GetLeft(),s=this.ChartPicture.ClassName,l=this.ChartPicture.LineColor;0!=l.indexOf("rgb(")&&0!=l.indexOf("RGB(")||(l=ai.RGBToHex(l.toLowerCase()));var h="";h="ChartDrawPictureText"===s?'<span class="changes-color" title="改变图形颜色"><i class="iconfont icon-bianji"></i><input type="color" name="color" id="color" class="change-color" value="'+l+'"></span>\n<span class="subtool-set" title="设置"><i class="iconfont icon-shezhi"></i></span><span class="subtool-del"><i class="iconfont icon-recycle_bin"></i></span>':"ChartDrawVolProfile"==s?'<span class="vp-set" title="设置"><i class="iconfont icon-shezhi"></i></span><span class="subtool-del"><i class="iconfont icon-recycle_bin"></i></span>':'<p class="changes-color" title="改变图形颜色"><i class="iconfont icon-bianji"></i><input type="color" name="color" id="color" class="change-color" value="'+l+'"></p>\n        <p class="subtool-del"><i class="iconfont icon-recycle_bin"></i></p>',this.SubToolsDiv.style.right=n/i+"px",this.SubToolsDiv.style.top=r/i+"px",this.SubToolsDiv.innerHTML=h,this.SubToolsDiv.style.position="absolute",this.SubToolsDiv.style.display="block";var u=this.HQChart,d=this.ChartPicture;this.SubToolsDiv;(0,On.default)(".subtool-del").click(function(){u.SelectChartDrawPicture=null,u.ClearChartDrawPicture(d),(0,On.default)(".subTolls").css("display","none")});var f=this;(0,On.default)(".subtool-set").click(function(){(0,On.default)(f.SubToolsDiv).hide(),f.SettingMenu||(f.SettingMenu=new ir(a.ChartBorder.UIElement.parentNode)),f.SettingMenu.ChartPicture=d,f.SettingMenu.HQChart=u,f.SettingMenu.Position={Left:n+80,Top:r+20},f.SettingMenu.DoModal()}),(0,On.default)(".changes-color").click(function(){document.getElementById("color").click(),(0,On.default)(".change-color").change(function(){var t=(0,On.default)(".change-color").val();d.LineColor=t,d.PointColor=t,u.ChartDrawStorage&&u.ChartDrawStorage.SaveDrawData(d)})}),(0,On.default)(".vp-set").click(function(){f.SettingPV||(f.SettingPV=new ar(a.ChartBorder.UIElement.parentNode)),f.SettingPV.ChartPicture=d,f.SettingPV.HQChart=u,f.SettingPV.Position={Left:n+80,Top:r+20},f.SettingPV.DoModal()}),Nn.Chart.Log("[ChartPictureSettingMenu::DoModal]",{Top:r,Left:o,Right:n})}}function ir(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.ChartPicture,this.SettingDiv,this.Position,this.BackupData,this.Close=function(){this.SettingDiv&&this.DivElement.removeChild(this.SettingDiv)},this.DoModal=function(){var t=this.ChartPicture.Text,e=this.ChartPicture.FontOption,i=this.ChartPicture.LineColor;this.BackupData={Text:t,LineColor:i,FontOption:{Family:e.Family,Size:e.Size,Weight:e.Weight,Style:e.Style}},Nn.Chart.Log("[ChartPictureTextSettingMenu::DoModal] picture info",this.BackupData);var a=this,r=this.DivElement.getElementsByClassName("chartpicture-text-setting")[0];r?this.SettingDiv=r:(r=document.createElement("div"),r.className="chartpicture-text-setting",this.DivElement.appendChild(r),this.SettingDiv=r);var n=[10,11,12,14,16,20,24,28,32,40],o=["微软雅黑","宋体","Arial","仿宋"],s="",l="";o.forEach(function(t,e){l+=0!==e?"<p>"+t+"</P>":'<p class="active">'+t+"</P>"}),n.forEach(function(t,e){s+=5!==e?"<p>"+t+"</P>":'<p class="active">'+t+"</P>"});var h='<div class="contentWrap"><div class="styleOptions"><span class="colorPicker"><input type="color" id="fontColor" value="#1e90ff"></span><div class="likeSelect fontSelect"><span class="choicedText">微软雅黑</span><div class="selectList">'+l+'</div><i class="iconfont icon-xia"></i></div><div class="likeSelect fontSizeSelect"><span class="choicedText">20</span><div class="selectList">'+s+'</div><i class="iconfont icon-xia"></i></div><span class="strongFont likeBtn"><i class="iconfont icon-jiacu"></i></span><span class="italicsFont likeBtn"><i class="iconfont icon-qingxieL"></i></span></div><textarea class="tArea" id="tArea" placeholder="Text"></textarea></div>',u=c(),d='<div class="titleWrap"><span class="titleName">样式设置</span><i class="closeBtn iconfont icon-close"></i></div>'+h+'<div class="btnsContainer"><span class="okBtn btn">确认</span><span class="cancelBtn btn">取消</span></div>';this.SettingDiv.style.left=this.Position.Left/u+"px",this.SettingDiv.style.top=this.Position.Top/u+"px",this.SettingDiv.innerHTML=d,this.SettingDiv.style.position="absolute",this.SettingDiv.style.display="block",(0,On.default)(".chartpicture-text-setting .colorPicker").css({borderColor:a.ChartPicture.LineColor,"background-color":a.ChartPicture.LineColor});var f=this.ChartPicture.FontOption.Family;(0,On.default)(".chartpicture-text-setting .fontSelect .choicedText").html(f),o.forEach(function(t,e){t==f&&((0,On.default)(".chartpicture-text-setting .fontSelect p").removeClass("active"),(0,On.default)(".chartpicture-text-setting .fontSelect p").eq(e).addClass("active"))});var p=this.ChartPicture.FontOption.Size;(0,On.default)(".chartpicture-text-setting .fontSizeSelect .choicedText").html(p),n.forEach(function(t,e){t==p&&((0,On.default)(".chartpicture-text-setting .fontSizeSelect p").removeClass("active"),(0,On.default)(".chartpicture-text-setting .fontSizeSelect p").eq(e).addClass("active"))});var m=this.ChartPicture.FontOption.Weight;null!=m&&"bold"==m&&(0,On.default)(".chartpicture-text-setting .strongFont").addClass("hot");var C=this.ChartPicture.FontOption.Style;null!=C&&"italic"==C&&(0,On.default)(".chartpicture-text-setting .italicsFont").addClass("hot");var t=this.ChartPicture.Text;(0,On.default)(".chartpicture-text-setting .tArea").val(t);(0,On.default)(".chartpicture-text-setting #fontColor").change({Picture:this.ChartPicture},function(t){var e=(0,On.default)(this).val();(0,On.default)(this).parent().css({borderColor:e,"background-color":e});var i=t.data.Picture;i.LineColor=e,i.Update&&i.Update()}),(0,On.default)(".chartpicture-text-setting .fontSelect,.chartpicture-text-setting .fontSizeSelect").click(function(){(0,On.default)(this).find(".selectList").toggle(),(0,On.default)(this).toggleClass("hot")}),(0,On.default)(".chartpicture-text-setting .fontSelect p").click({Picture:this.ChartPicture},function(t){var e=(0,On.default)(this).closest(".fontSelect").find(".choicedText").html(),i=t.currentTarget.innerHTML;if(e!==i){(0,On.default)(this).closest(".fontSelect").find(".choicedText").html(i),(0,On.default)(this).siblings().removeClass("active"),(0,On.default)(this).addClass("active");var a=t.data.Picture;a.FontOption.Family=i,a.Update&&a.Update()}}),(0,On.default)(".chartpicture-text-setting .fontSizeSelect p").click({Picture:this.ChartPicture},function(t){var e=(0,On.default)(this).closest(".fontSizeSelect").find(".choicedText").html(),i=t.currentTarget.innerHTML;if(e!==i){(0,On.default)(this).closest(".fontSizeSelect").find(".choicedText").html(i),(0,On.default)(this).siblings().removeClass("active"),(0,On.default)(this).addClass("active");var a=t.data.Picture;a.FontOption.Size=Number(i),a.Update&&a.Update()}}),(0,On.default)(".chartpicture-text-setting .strongFont").click({Picture:this.ChartPicture},function(t){if((0,On.default)(this).toggleClass("hot"),(0,On.default)(this).attr("class").indexOf("hot")>0){var e=t.data.Picture;e.FontOption.Weight="bold",e.Update&&e.Update()}}),(0,On.default)(".chartpicture-text-setting .italicsFont").click({Picture:this.ChartPicture},function(t){if((0,On.default)(this).toggleClass("hot"),(0,On.default)(this).attr("class").indexOf("hot")>0){var e=t.data.Picture;e.FontOption.Style="italic",e.Update&&e.Update()}}),(0,On.default)(".chartpicture-text-setting .titleWrap .closeBtn,.chartpicture-text-setting .btnsContainer .cancelBtn").click({Picture:this.ChartPicture},function(t){var e=t.data.Picture;e.Text=a.BackupData.Text,e.LineColor=a.BackupData.LineColor,e.FontOption=a.BackupData.FontOption,e.Update&&e.Update(),a.Close()}),(0,On.default)(".chartpicture-text-setting .tArea").keyup({Picture:this.ChartPicture},function(t){Nn.Chart.Log('[ChartPictureTextSettingMenu::DoModal] $(".chartpicture-text-setting .tArea").keyup()');var e=(0,On.default)(this).val(),i=t.data.Picture;i.Text=e,i.Update&&i.Update()}),(0,On.default)(".chartpicture-text-setting .btnsContainer .okBtn").click(function(){a.Close(),a.HQChart&&a.HQChart.ChartDrawStorage&&a.HQChart.ChartDrawStorage.SaveDrawData(a.ChartPicture)})}}function ar(t){this.newMethod=Wa,this.newMethod(t),delete this.newMethod,this.ChartPicture,this.SettingDiv,this.Position,this.ID=m(),this.Close=function(){this.SettingDiv&&this.DivElement.removeChild(this.SettingDiv)},this.DoModal=function(){var t=this.ChartPicture.VAVol,e=this.ChartPicture.BarPosition,i=this,a=document.getElementById(this.ID);a?this.SettingDiv=a:(a=document.createElement("div"),a.className="jchart-modifyindex-box",a.id=this.ID,this.DivElement.appendChild(a),this.SettingDiv=a),a.innerHTML="<div class='parameter'>            <div class='parameter-header'>                <span>固定范围成交量分布设置</span>                <strong id='close' class='icon iconfont icon-close'></strong>            </div>            <div class='parameter-content'>\n                <input class='row-line' value="+t+" />VAVol <br>\n                <input class='row-line' value="+e+" />BarPosition\n            </div>            <div class='parameter-footer'>                <button class='submit' >确定</button>                <button class='cancel' >取消</button>            </div>        </div>";var r=c(),n=this.HQChart.Frame.SubFrame[0].Frame,o=n.ChartBorder.Top+40,s=n.ChartBorder.Right;n.ChartBorder.GetLeft();this.SettingDiv.style.right=s/r+"px",this.SettingDiv.style.top=o/r+"px",this.SettingDiv.style.position="absolute",this.SettingDiv.style.display="block",a.getElementsByClassName("cancel")[0].onclick=function(){i.Close()},a.getElementsByClassName("icon iconfont icon-close")[0].onclick=function(){i.Close()},a.getElementsByClassName("submit")[0].onclick=function(){var t=a.getElementsByClassName("row-line")[0].value;i.ChartPicture.VAVol=parseFloat(t);var t=parseInt(a.getElementsByClassName("row-line")[1].value);i.ChartPicture.BarPosition=t>0?1:0,i.ChartPicture.RequestVolumeProfileData(),i.Close()}}}function rr(){this.SHSZ=null,this.BJ=null,this.SHO=null,this.HK=null,this.Futures=new Mn.default,this.USA=null,this.FTSE=null,this.FHK=null,this.ForeEx=null,this.BIT=null,this.TW=null,this.JP=null,this.HSX=null,this.HNX=null,this.UPCOM=null,this.Initialize=function(){},this.GetET=function(t){throw{Name:"MinuteTimeStringData::GetET",Error:"not implement"}},this.GetSHSZ=function(t){return this.SHSZ||(this.SHSZ=this.CreateSHSZData()),this.SHSZ},this.GetBJ=function(t){return this.BJ||(this.BJ=this.CreateBJData()),this.BJ},this.GetSHO=function(){return this.SHO||(this.SHO=this.CreateSHOData()),this.SHO},this.GetHK=function(t){return this.HK||(this.HK=this.CreateHKData()),this.HK},this.GetTW=function(t){return this.TW&&(this.TW=this.CreateTWData()),this.TW},this.GetJP=function(t){return this.JP&&(this.JP=this.CreateJPData()),this.JP},this.GetHSX=function(t){return this.HSX&&(this.HSX=this.CreateHSXData()),this.HSX},this.GetHNX=function(t){return this.HNX&&(this.HSX=this.CreateHNXData()),this.HNX},this.GetUPCOM=function(t){return this.UPCOM&&(this.UPCOM=this.CreateUPCOMData()),this.UPCOM},this.GetFutures=function(t){if(!this.Futures.has(t.Name)){var e=this.CreateTimeData(t.Data);this.Futures.set(t.Name,e)}return this.Futures.get(t.Name)},this.GetUSA=function(){return this.USA||(this.USA=this.CreateUSAData(0)),this.USA},this.GetFTSE=function(){return this.FTSE||(this.FTSE=this.CreateFTSEData()),this.FTSE},this.GetFHK=function(){return this.FHK||(this.FHK=this.CreateFHKData()),this.FHK},this.GetForeignExchange=function(t){return this.ForeEx||(this.ForeEx=this.CreateForeignExchangeData()),this.ForeEx},this.GetBIT=function(t){return this.BIT||(this.BIT=this.CreateBITData()),this.BIT},this.CreateSHSZData=function(){var t=[{Start:925,End:925},{Start:930,End:1130},{Start:1300,End:1500}];return this.CreateTimeData(t)},this.CreateBJData=function(){var t=[{Start:925,End:925},{Start:930,End:1130},{Start:1300,End:1500}];return this.CreateTimeData(t)},this.CreateSHOData=function(){var t=[{Start:930,End:1129},{Start:1300,End:1500}];return this.CreateTimeData(t)},this.CreateHKData=function(){var t=[{Start:930,End:1200},{Start:1300,End:1600}];return this.CreateTimeData(t)},this.CreateTWData=function(){var t=[{Start:900,End:1330}];return this.CreateTimeData(t)},this.CreateJPData=function(){var t=[{Start:900,End:1130},{Start:1230,End:1500}];return this.CreateTimeData(t)},this.CreateFTSEData=function(){var t=[{Start:1700,End:2359},{Start:0,End:445},{Start:900,End:1630}];return this.CreateTimeData(t)},this.CreateFHKData=function(){var t=[{Start:1715,End:2359},{Start:0,End:300},{Start:915,End:1200},{Start:1300,End:1630}];return this.CreateTimeData(t)},this.CreateHSXData=function(){throw{Name:"MinuteTimeStringData::CreateHSXData",Error:"not implement"}},this.CreateHNXData=function(){throw{Name:"MinuteTimeStringData::CreateHNXData",Error:"not implement"}},this.CreateUPCOMData=function(){throw{Name:"MinuteTimeStringData::CreateUPCOMData",Error:"not implement"}},this.CreateUSAData=function(t){if(1==t){var e=[{Start:2130,End:2359},{Start:0,End:400}];return this.CreateTimeData(e)}if(2==t){var i=[{Start:2230,End:2359},{Start:0,End:500}];return this.CreateTimeData(i)}var a=[{Start:930,End:1600}];return this.CreateTimeData(a)},this.CreateForeignExchangeData=function(){var t=[{Start:600,End:2359},{Start:0,End:559}];return this.CreateTimeData(t)},this.CreateBITData=function(){var t=[{Start:600,End:2359},{Start:0,End:559}];return this.CreateTimeData(t)},this.CreateTimeData=function(t){var e=[];for(var i in t)for(var a=t[i],r=a.Start;r<=a.End;++r)r%100>=60||e.push(r);return e},this.GetTimeData=function(t){if(!t)return this.SHSZ;var e=t.toLocaleUpperCase();if(po.IsSH(e)||po.IsSZ(e))return this.GetSHSZ(e);if(po.IsBJ(e))return this.GetBJ(e);if(po.IsSHO(e)||po.IsSZO(e))return this.GetSHO();if(po.IsHK(e))return this.GetHK(e);if(po.IsTW(e))return this.GetTW(e);if(po.IsJP(e))return this.GetJP(e);if(po.IsUSA(e))return this.GetUSA(!0);if(po.IsCFFEX(e)||po.IsCZCE(e)||po.IsDCE(e)||po.IsSHFE(e)||po.IsGZFE(e)){var i=vo.GetSplitData(e);return i?this.GetFutures(i):null}if(po.IsFTSE(e))return this.GetFTSE();if(po.IsFHK(e))return this.GetFHK();if(po.IsForeignExchange(e))return this.GetForeignExchange(e);if(po.IsET(e))return this.GetET(e);if(po.IsBIT(e))return this.GetBIT(e);if(po.IsHSX(e))return this.GetHSX(e);if(po.IsHNX(e))return this.GetHNX(e);if(po.IsUPCOM(e))return this.GetUPCOM(e);if(po.IsNYMEX(e)){var i=Do.GetSplitData(e);return i?this.GetFutures(i):null}if(po.IsCOMEX(e)){var i=go.GetSplitData(e);return i?this.GetFutures(i):null}if(po.IsNYBOT(e)){var i=So.GetSplitData(e);return i?this.GetFutures(i):null}if(po.IsCBOT(e)){var i=xo.GetSplitData(e);return i?this.GetFutures(i):null}if(po.IsLME(e)){var i=bo.GetSplitData(e);return i?this.GetFutures(i):null}if(po.IsTOCOM(e)){var i=Io.GetSplitData(e);return i?this.GetFutures(i):null}if(po.IsIPE(e)){var i=To.GetSplitData(e);return i?this.GetFutures(i):null}}}function nr(){var t={Full:[[0,0,"rgb(200,200,200)","09:30"],[31,0,"RGB(200,200,200)","10:00"],[61,0,"RGB(200,200,200)","10:30"],[91,0,"RGB(200,200,200)","11:00"],[122,1,"RGB(200,200,200)","13:00"],[152,0,"RGB(200,200,200)","13:30"],[182,0,"RGB(200,200,200)","14:00"],[212,0,"RGB(200,200,200)","14:30"],[242,1,"RGB(200,200,200)","15:00"]],Simple:[[0,0,"rgb(200,200,200)","09:30"],[61,0,"RGB(200,200,200)","10:30"],[122,1,"RGB(200,200,200)","13:00"],[182,0,"RGB(200,200,200)","14:00"],[242,1,"RGB(200,200,200)","15:00"]],Min:[[0,0,"rgb(200,200,200)","09:30"],[122,1,"RGB(200,200,200)","13:00"],[242,1,"RGB(200,200,200)","15:00"]],Count:243,MiddleCount:122,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},e={Full:[[0,0,"rgb(200,200,200)","09:30"],[30,0,"RGB(200,200,200)","10:00"],[60,0,"RGB(200,200,200)","10:30"],[90,0,"RGB(200,200,200)","11:00"],[120,1,"RGB(200,200,200)","13:00"],[150,0,"RGB(200,200,200)","13:30"],[180,0,"RGB(200,200,200)","14:00"],[210,0,"RGB(200,200,200)","14:30"],[240,1,"RGB(200,200,200)","15:00"]],Simple:[[0,0,"rgb(200,200,200)","09:30"],[60,0,"RGB(200,200,200)","10:30"],[120,1,"RGB(200,200,200)","13:00"],[180,0,"RGB(200,200,200)","14:00"],[240,1,"RGB(200,200,200)","15:00"]],Min:[[0,0,"rgb(200,200,200)","09:30"],[120,1,"RGB(200,200,200)","13:00"],[240,1,"RGB(200,200,200)","15:00"]],Count:241,MiddleCount:120,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},i={Full:[[0,1,"RGB(200,200,200)","09:30"],[30,0,"RGB(200,200,200)","10:00"],[60,1,"RGB(200,200,200)","10:30"],[90,0,"RGB(200,200,200)","11:00"],[120,1,"RGB(200,200,200)","11:30"],[151,0,"RGB(200,200,200)","13:00"],[181,1,"RGB(200,200,200)","13:30"],[211,0,"RGB(200,200,200)","14:00"],[241,1,"RGB(200,200,200)","14:30"],[271,0,"RGB(200,200,200)","15:00"],[301,1,"RGB(200,200,200)","15:30"],[331,1,"RGB(200,200,200)","16:00"]],Simple:[[0,1,"RGB(200,200,200)","09:30"],[60,1,"RGB(200,200,200)","10:30"],[120,1,"RGB(200,200,200)","11:30"],[211,0,"RGB(200,200,200)","14:00"],[271,0,"RGB(200,200,200)","15:00"],[331,1,"RGB(200,200,200)","16:00"]],Min:[[0,1,"RGB(200,200,200)","09:30"],[151,0,"RGB(200,200,200)","13:00"],[331,1,"RGB(200,200,200)","16:00"]],Count:332,MiddleCount:151,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},a={Full:[[0,0,"rgb(200,200,200)","9:30"],[30,0,"RGB(200,200,200)","10:00"],[90,1,"RGB(200,200,200)","11:00"],[150,0,"RGB(200,200,200)","12:00"],[210,0,"RGB(200,200,200)","13:00"],[270,0,"RGB(200,200,200)","14:00"],[330,0,"RGB(200,200,200)","15:00"],[390,0,"RGB(200,200,200)","16:00"]],Simple:[[30,0,"rgb(200,200,200)","10:00"],[150,1,"RGB(200,200,200)","12:00"],[270,0,"RGB(200,200,200)","14:00"],[390,0,"RGB(200,200,200)","16:00"]],Min:[[30,0,"rgb(200,200,200)","10:00"],[210,1,"RGB(200,200,200)","13:00"],[390,0,"RGB(200,200,200)","16:00"]],Count:391,MiddleCount:211,GetData:function(t){return t<200?this.Min:t<400?this.Simple:this.Full}},r={Full:[[0,1,"RGB(200,200,200)","17:00"],[120,1,"RGB(200,200,200)","19:00"],[240,1,"RGB(200,200,200)","21:00"],[360,1,"RGB(200,200,200)","23:00"],[480,1,"RGB(200,200,200)","01:00"],[600,1,"RGB(200,200,200)","03:00"],[706,1,"RGB(200,200,200)","09:00"],[826,1,"RGB(200,200,200)","11:00"],[946,1,"RGB(200,200,200)","13:00"],[1066,1,"RGB(200,200,200)","15:00"],[1156,1,"RGB(200,200,200)","16:30"]],Simple:[[0,1,"RGB(200,200,200)","17:00"],[240,1,"RGB(200,200,200)","21:00"],[480,1,"RGB(200,200,200)","01:00"],[706,1,"RGB(200,200,200)","09:00"],[946,1,"RGB(200,200,200)","13:00"],[1156,1,"RGB(200,200,200)","16:30"]],Min:[[0,1,"RGB(200,200,200)","17:00"],[706,1,"RGB(200,200,200)","09:00"],[1156,1,"RGB(200,200,200)","16:30"]],Count:1157,MiddleCount:707,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},n={Full:[[0,1,"RGB(200,200,200)","17:15"],[105,1,"RGB(200,200,200)","19:00"],[225,1,"RGB(200,200,200)","21:00"],[345,1,"RGB(200,200,200)","23:00"],[586,0,"RGB(200,200,200)","09:15"],[691,1,"RGB(200,200,200)","11:00"],[812,1,"RGB(200,200,200)","14:00"],[963,1,"RGB(200,200,200)","16:30"]],Simple:[[0,1,"RGB(200,200,200)","17:15"],[225,1,"RGB(200,200,200)","21:00"],[586,0,"RGB(200,200,200)","09:15"],[752,1,"RGB(200,200,200)","13:00"],[963,1,"RGB(200,200,200)","16:30"]],Min:[[0,1,"RGB(200,200,200)","17:15"],[586,0,"RGB(200,200,200)","09:15"],[963,1,"RGB(200,200,200)","16:30"]],Count:963,MiddleCount:526,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},o={Full:[[0,1,"RGB(200,200,200)","06:00"],[120,1,"RGB(200,200,200)","08:00"],[240,1,"RGB(200,200,200)","10:00"],[360,1,"RGB(200,200,200)","12:00"],[480,0,"RGB(200,200,200)","14:00"],[600,1,"RGB(200,200,200)","16:00"],[720,1,"RGB(200,200,200)","18:00"],[840,1,"RGB(200,200,200)","20:00"],[960,1,"RGB(200,200,200)","22:00"],[1080,1,"RGB(200,200,200)","0:00"],[1200,1,"RGB(200,200,200)","02:00"],[1320,1,"RGB(200,200,200)","04:00"]],Simple:[[0,1,"RGB(200,200,200)","06:00"],[240,1,"RGB(200,200,200)","10:00"],[480,0,"RGB(200,200,200)","14:00"],[720,1,"RGB(200,200,200)","18:00"],[960,1,"RGB(200,200,200)","22:00"],[1200,1,"RGB(200,200,200)","02:00"]],Min:[[0,1,"RGB(200,200,200)","06:00"],[480,0,"RGB(200,200,200)","14:00"],[960,1,"RGB(200,200,200)","22:00"]],Count:1440,MiddleCount:600,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}},s={Full:[[0,1,"RGB(200,200,200)","09:00"],[30,0,"RGB(200,200,200)","09:30"],[60,1,"RGB(200,200,200)","10:00"],[90,0,"RGB(200,200,200)","10:30"],[120,1,"RGB(200,200,200)","11:00"],[150,0,"RGB(200,200,200)","11:30"],[180,1,"RGB(200,200,200)","12:00"],[210,0,"RGB(200,200,200)","12:30"],[240,1,"RGB(200,200,200)","13:00"],[270,0,"RGB(200,200,200)","13:30"]],Simple:[[0,1,"RGB(200,200,200)","09:00"],[60,1,"RGB(200,200,200)","10:00"],[120,1,"RGB(200,200,200)","11:00"],[180,1,"RGB(200,200,200)","12:00"],[270,0,"RGB(200,200,200)","13:30"]],Min:[[0,1,"RGB(200,200,200)","09:00"],[60,1,"RGB(200,200,200)","11:00"],[270,0,"RGB(200,200,200)","13:30"]],Count:271,MiddleCount:151,GetData:function(t){return t<200?this.Min:t<450?this.Simple:this.Full}};this.GetCoordinateData=function(e,i){var a=null;if(e){var r=e.toLocaleUpperCase();if(po.IsSH(r)||po.IsSZ(r)||po.IsSHSZIndex(r))a=this.GetSHSZData(r,i);else if(po.IsBJ(r))a=this.GetBJData(r,i);else if(po.IsSHO(r)||po.IsSZO(r))a=this.GetSHOData(r,i);else if(po.IsHK(r))a=this.GetHKData(r,i);else if(po.IsTW(r))a=this.GetTWData(r,i);else if(po.IsJP(r))a=this.GetJPData(r,i);else{if(po.IsCFFEX(r)||po.IsCZCE(r)||po.IsDCE(r)||po.IsSHFE(r)||po.IsGZFE(r))return this.GetChinatFuturesData(r,i);if(po.IsUSA(r))a=this.GetUSAData(r,i);else if(po.IsFTSE(r))a=this.GetFTSEData(r,i);else if(po.IsFHK(r))a=this.GetFHKData(r,i);else if(po.IsForeignExchange(r))a=this.GetForeignExchangeData(r);else if(po.IsBIT(r,i))a=this.GetBITData(r,i);else if(po.IsET(r))a=this.GetETData(r,i);else{if(po.IsNYMEX(r))return a=this.GetNYMEXData(r,i);if(po.IsCOMEX(r))return a=this.GetCOMEXData(r,i);if(po.IsNYBOT(r))return a=this.GetNYBOTData(r,i);if(po.IsCBOT(r))return a=this.GetCBOTData(r,i);if(po.IsLME(r))return a=this.GetLMEData(r,i);if(po.IsTOCOM(r))return a=this.GetTOCOMData(r,i);if(po.IsIPE(r))return a=this.GetIPEData(r,i);if(po.IsHSX(r))return a=this.GetHSXData(r,i);if(po.IsHNX(r))return a=this.GetHNXData(r,i);if(po.IsUPCOM(r))return a=this.GetUPCOMData(r,i)}}}else a=t;return{Count:a.Count,MiddleCount:a.MiddleCount,Data:a.GetData(i)}},this.GetSHSZData=function(e,i){return t},this.GetBJData=function(e,i){return t},this.GetUSAData=function(t,e){return a},this.GetHKData=function(t,e){return i},this.GetTWData=function(t,e){return s},this.GetSHOData=function(t,i){return e},this.GetFuturesData=function(t,e,i){var a=i.GetSplitData(t);if(!a)return null;var r=mo.GetFutures(a);if(!r)return null;var n={Count:r.length},o=null;o=e<200?a.Coordinate.Min:e<480?a.Coordinate.Simple:a.Coordinate.Full;for(var s=[],l=0;l<r.length;++l)for(var h=r[l],u=0;u<o.length;++u){var c=o[u];if(h==c.Value){var d=[l,0,"RGB(200,200,200)",c.Text];s.push(d);break}}return n.Data=s,n},this.GetChinatFuturesData=function(t,e){return this.GetFuturesData(t,e,vo)},this.GetNYMEXData=function(t,e){return this.GetFuturesData(t,e,Do)},this.GetCOMEXData=function(t,e){return this.GetFuturesData(t,e,go)},this.GetNYBOTData=function(t,e){return this.GetFuturesData(t,e,So)},this.GetCBOTData=function(t,e){return this.GetFuturesData(t,e,xo)},this.GetLMEData=function(t,e){return this.GetFuturesData(t,e,bo)},this.GetTOCOMData=function(t,e){return this.GetFuturesData(t,e,Io)},this.GetIPEData=function(t,e){return this.GetFuturesData(t,e,To)},this.GetFTSEData=function(t,e){return r},this.GetFHKData=function(t,e){return n},this.GetForeignExchangeData=function(t,e){return o},this.GetBITData=function(t,e){return o},this.GetETData=function(t,e){throw{Name:"MinuteCoordinateData::GetETData",Error:"not implement"}},this.GetJPData=function(t,e){throw{Name:"MinuteCoordinateData::GetJPData",Error:"not implement"}},this.GetHSXData=function(t,e){throw{Name:"MinuteCoordinateData::GetHSXData",Error:"not implement"}},this.GetHNXData=function(t,e){throw{Name:"MinuteCoordinateData::GetHNXData",Error:"not implement"}},this.GetUPCOMData=function(t,e){throw{Name:"MinuteCoordinateData::GetUPCOMData",Error:"not implement"}}}function or(){this.TIME_SPLIT=[{Name:"9:00-10:15,10:31-11:30,13:31-15:00",Data:[{Start:900,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1e3,Text:"10:00"},{Value:1330,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Min:[{Value:900,Text:"9:00"},{Value:1330,Text:"13:30"},{Value:1500,Text:"15:00"}]}},{Name:"9:30-11:30,13:01-15:15",Data:[{Start:930,End:1130},{Start:1301,End:1515}],Coordinate:{Full:[{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1515,Text:"15:15"}],Simple:[{Value:930,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1300,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1515,Text:"15:15"}],Min:[{Value:930,Text:"9:30"},{Value:1300,Text:"13:00"},{Value:1515,Text:"15:15"}]}},{Name:"9:30-11:30,13:00-15:00",Data:[{Start:930,End:1130},{Start:1301,End:1500}],Coordinate:{Full:[{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:930,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1300,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1500,Text:"15:00"}],Min:[{Value:930,Text:"9:30"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-23:30,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2330},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-1:00,9:01-10:15,10:31-11:30,13:31-15:00",Data:[{Start:2100,End:2359},{Start:0,End:100},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-2:30,9:01-10:15,10:31-11:30,13:31-15:00",Data:[{Start:2100,End:2359},{Start:0,End:230},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-23:00,9:01-10:15,10:30-11:30,13:31-15:00",Data:[{Start:2100,End:2300},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:1030,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1500,Text:"15:00"}]}},{Name:"9:00-11:30,13:00-15:00",Data:[{Start:900,End:1130},{Start:1300,End:1500}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1e3,Text:"10:00"},{Value:1300,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1500,Text:"15:00"}],Min:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:00-23:00,9:00-10:15,10:30-11:30,13:30-15:00",Data:[{Start:2100,End:2300},{Start:900,End:1015},{Start:1030,End:1130},{Start:1330,End:1500}],Coordinate:{Full:[{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:1030,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1500,Text:"15:00"}]}},{Name:"9:01-10:15,10:31-11:30,13:31-15:00",Data:[{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:901,Text:"9:00"},{Value:930,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:901,Text:"9:00"},{Value:1e3,Text:"10:00"},{Value:1330,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Min:[{Value:901,Text:"9:00"},{Value:1330,Text:"13:30"},{Value:1500,Text:"15:00"}]}},{Name:"21:01-1:00,9:01-10:15,10:31-11:30,13:31-15:00",Data:[{Start:2101,End:2359},{Start:0,End:100},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2101,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2101,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2101,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:01-23:00,9:01-10:15,10:30-11:30,13:31-15:00",Data:[{Start:2101,End:2300},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2101,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:1030,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2101,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Min:[{Value:2101,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1500,Text:"15:00"}]}},{Name:"21:01-2:30,9:01-10:15,10:31-11:30,13:31-15:00",Data:[{Start:2101,End:2359},{Start:0,End:230},{Start:901,End:1015},{Start:1031,End:1130},{Start:1331,End:1500}],Coordinate:{Full:[{Value:2101,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:901,Text:"9:00"},{Value:1031,Text:"10:30"},{Value:1331,Text:"13:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:2101,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:901,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"}],Min:[{Value:2101,Text:"21:00"},{Value:901,Text:"9:00"},{Value:1500,Text:"15:00"}]}},{Name:"9:30-11:30,13:01-15:15",Data:[{Start:931,End:1130},{Start:1301,End:1515}],Coordinate:{Full:[{Value:931,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1301,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1515,Text:"15:15"}],Simple:[{Value:931,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1301,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1515,Text:"15:15"}],Min:[{Value:931,Text:"9:30"},{Value:1301,Text:"13:00"},{Value:1515,Text:"15:15"}]}},{Name:"9:31-11:30,13:01-15:00",Data:[{Start:931,End:1130},{Start:1301,End:1500}],Coordinate:{Full:[{Value:931,Text:"9:30"},{Value:1e3,Text:"10:00"},{Value:1030,Text:"10:30"},{Value:1100,Text:"11:00"},{Value:1301,Text:"13:00"},{Value:1330,Text:"13:30"},{Value:1400,Text:"14:00"},{Value:1430,Text:"14:30"},{Value:1500,Text:"15:00"}],Simple:[{Value:931,Text:"9:30"},{Value:1030,Text:"10:30"},{Value:1301,Text:"13:00"},{Value:1400,Text:"14:00"},{Value:1500,Text:"15:00"}],Min:[{Value:931,Text:"9:30"},{Value:1301,Text:"13:00"},{Value:1500,Text:"15:00"}]}}],this.MAP_TWOWORDS=new Mn.default([[po.DCE+"-JD",{Time:0,Decimal:0,Name:"鸡蛋"}],[po.DCE+"-FB",{Time:0,Decimal:2,Name:"纤板"}],[po.DCE+"-BB",{Time:0,Decimal:2,Name:"胶板"}],[po.DCE+"-PP",{Time:6,Decimal:0,Name:"丙烯"}],[po.DCE+"-JM",{Time:6,Decimal:1,Name:"焦煤"}],[po.DCE+"-EG",{Time:6,Decimal:0,Name:"乙二醇"}],[po.DCE+"-EB",{Time:6,Decimal:0,Name:"苯乙烯"}],[po.DCE+"-CS",{Time:6,Decimal:0,Name:"淀粉"}],[po.DCE+"-PG",{Time:6,Decimal:0,Name:"液化气"}],[po.DCE+"-RR",{Time:6,Decimal:0,Name:"梗米"}],[po.DCE+"-LH",{Time:0,Decimal:0,Name:"生猪"}],[po.SHFE+"-CU",{Time:4,Decimal:0,Name:"铜"}],[po.SHFE+"-AL",{Time:4,Decimal:0,Name:"铝"}],[po.SHFE+"-NI",{Time:4,Decimal:0,Name:"镍"}],[po.SHFE+"-SN",{Time:4,Decimal:0,Name:"沪锡"}],[po.SHFE+"-ZN",{Time:4,Decimal:0,Name:"沪锌"}],[po.SHFE+"-PB",{Time:4,Decimal:0,Name:"沪铅"}],[po.SHFE+"-RU",{Time:6,Decimal:0,Name:"天然橡胶"}],[po.SHFE+"-FU",{Time:6,Decimal:0,Name:"燃料油"}],[po.SHFE+"-RB",{Time:6,Decimal:0,Name:"螺纹钢"}],[po.SHFE+"-BU",{Time:6,Decimal:0,Name:"石油沥青"}],[po.SHFE+"-HC",{Time:6,Decimal:0,Name:"热轧卷板"}],[po.SHFE+"-SP",{Time:6,Decimal:0,Name:"纸浆"}],[po.SHFE+"-WR",{Time:0,Decimal:0,Name:"线材"}],[po.SHFE+"-AG",{Time:5,Decimal:0,Name:"白银"}],[po.SHFE+"-AU",{Time:5,Decimal:2,Name:"黄金"}],[po.SHFE+"-SS",{Time:4,Decimal:0,Name:"不锈钢"}],[po.SHFE+"-AO",{Time:4,Decimal:0,Name:"氧化铝"}],[po.SHFE+"-BR",{Time:6,Decimal:0,Name:"合成橡胶"}],[po.SHFE+"-NR",{Time:6,Decimal:1,Name:"20号胶"}],[po.SHFE+"-SC",{Time:5,Decimal:1,Name:"原油"}],[po.SHFE+"-LU",{Time:6,Decimal:0,Name:"低硫燃油"}],[po.SHFE+"-BC",{Time:4,Decimal:0,Name:"国际铜"}],[po.CZCE+"-CF",{Time:6,Decimal:0,Name:"棉花"}],[po.CZCE+"-SR",{Time:6,Decimal:0,Name:"白糖"}],[po.CZCE+"-MA",{Time:6,Decimal:0,Name:"甲醇"}],[po.CZCE+"-ZC",{Time:6,Decimal:1,Name:"动力煤"}],[po.CZCE+"-TA",{Time:6,Decimal:0,Name:"精对苯二甲酸(PTA)"}],[po.CZCE+"-RM",{Time:6,Decimal:0,Name:"菜籽粕"}],[po.CZCE+"-OI",{Time:6,Decimal:0,Name:"菜籽油"}],[po.CZCE+"-ME",{Time:3,Decimal:0,Name:"甲醇(老)"}],[po.CZCE+"-FG",{Time:6,Decimal:0,Name:"平板玻璃"}],[po.CZCE+"-WS",{Time:0,Decimal:0}],[po.CZCE+"-WT",{Time:0,Decimal:0}],[po.CZCE+"-GN",{Time:0,Decimal:0}],[po.CZCE+"-RO",{Time:0,Decimal:0}],[po.CZCE+"-RS",{Time:0,Decimal:0,Name:"菜籽"}],[po.CZCE+"-ER",{Time:0,Decimal:0}],[po.CZCE+"-RI",{Time:0,Decimal:0,Name:"早籼稻"}],[po.CZCE+"-WH",{Time:0,Decimal:0,Name:"强麦"}],[po.CZCE+"-AP",{Time:0,Decimal:0,Name:"苹果"}],[po.CZCE+"-PM",{Time:0,Decimal:0,Name:"普麦"}],[po.CZCE+"-QM",{Time:0,Decimal:0}],[po.CZCE+"-TC",{Time:0,Decimal:0}],[po.CZCE+"-JR",{Time:0,Decimal:0,Name:"粳稻"}],[po.CZCE+"-LR",{Time:0,Decimal:0,Name:"晚籼稻"}],[po.CZCE+"-SF",{Time:0,Decimal:0,Name:"硅铁"}],[po.CZCE+"-SM",{Time:0,Decimal:0,Name:"锰硅"}],[po.CZCE+"-CJ",{Time:0,Decimal:2,Name:"红枣"}],[po.CZCE+"-CY",{Time:6,Decimal:0,Name:"棉纱"}],[po.CZCE+"-UR",{Time:0,Decimal:0,Name:"尿素"}],[po.CZCE+"-SA",{Time:6,Decimal:0,Name:"纯碱"}],[po.CZCE+"-PF",{Time:6,Decimal:0,Name:"短纤"}],[po.CZCE+"-PK",{Time:0,Decimal:0,Name:"花生"}],[po.CFFEX+"-TF",{Time:1,Decimal:3,Name:"二债"}],[po.CFFEX+"-TS",{Time:1,Decimal:3,Name:"五债"}],[po.CFFEX+"-IH",{Time:2,Decimal:1,Name:"上证股指期货"}],[po.CFFEX+"-IC",{Time:2,Decimal:1,Name:"中证股指期货"}],[po.CFFEX+"-IF",{Time:2,Decimal:1,Name:"沪深股指期货"}],[po.CFFEX+"-IM",{Time:2,Decimal:1,Name:"中证1000股指期货"}],[po.GZFE+"-SI",{Time:0,Decimal:2,Name:"工业硅"}],[po.GZFE+"-LC",{Time:0,Decimal:2,Name:"碳酸锂"}]]),this.MAP_ONEWORD=new Mn.default([[po.DCE+"-C",{Time:6,Decimal:0,Name:"玉米"}],[po.DCE+"-L",{Time:6,Decimal:0,Name:"乙烯"}],[po.DCE+"-V",{Time:6,Decimal:0,Name:"PVC"}],[po.DCE+"-A",{Time:6,Decimal:0,Name:"豆一"}],[po.DCE+"-B",{Time:6,Decimal:0,Name:"豆二"}],[po.DCE+"-M",{Time:6,Decimal:0,Name:"豆粕"}],[po.DCE+"-Y",{Time:6,Decimal:0,Name:"豆油"}],[po.DCE+"-P",{Time:6,Decimal:0,Name:"棕榈"}],[po.DCE+"-J",{Time:6,Decimal:1,Name:"焦炭"}],[po.DCE+"-I",{Time:6,Decimal:1,Name:"铁矿"}],[po.CFFEX+"-T",{Time:1,Decimal:3,Name:"十债"}]]),this.AddNewFutures=function(t){if(t){var e=t.Suffix+"-"+t.Symbol,i={Time:t.Time,Decimal:t.Decimal,Name:t.Name};1==t.Symbol.length?this.MAP_ONEWORD.set(e,i):2==t.Symbol.length&&this.MAP_TWOWORDS.set(e,i)}},this.GetData=function(t){var e=t.charAt(0),i=t.substr(0,2),a=null,r=null;return po.IsDCE(t)?(a=po.DCE+"-"+e,r=po.DCE+"-"+i):po.IsSHFE(t)?(a=po.SHFE+"-"+e,r=po.SHFE+"-"+i):po.IsCFFEX(t)?(a=po.CFFEX+"-"+e,r=po.CFFEX+"-"+i):po.IsCZCE(t)?(a=po.CZCE+"-"+e,r=po.CZCE+"-"+i):po.IsGZFE(t)&&(a=po.GZFE+"-"+e,r=po.GZFE+"-"+i),this.MAP_TWOWORDS.has(r)?this.MAP_TWOWORDS.get(r):this.MAP_ONEWORD.has(a)?this.MAP_ONEWORD.get(a):null},this.GetSplitData=function(t){var e=this.GetData(t);return e?this.TIME_SPLIT[e.Time]:null},this.GetDecimal=function(t){var e=this.GetData(t);return e?e.Decimal:2}}function sr(){this.TIME_SPLIT=[{Name:"6:00-5:00",Data:[{Start:600,End:2359},{Start:0,End:500}],Coordinate:{Full:[{Value:600,Text:"6:00"},{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"}],Simple:[{Value:600,Text:"6:00"},{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:600,Text:"6:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.TIME_SPLIT2=[{Name:"7:00-6:00",Data:[{Start:700,End:2359},{Start:0,End:600}],Coordinate:{Full:[{Value:700,Text:"7:00"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"}],Simple:[{Value:700,Text:"7:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:300,Text:"3:00"}],Min:[{Value:700,Text:"7:00"},{Value:1900,Text:"19:00"},{Value:500,Text:"5:00"}]}}],this.FUTURES_LIST=[{Symbol:"CL",Decimal:2,Time:0,Name:"原油"},{Symbol:"NG",Decimal:3,Time:0,Name:"天然气"},{Symbol:"RB",Decimal:4,Time:0,Name:"汽油"},{Symbol:"PL",Decimal:1,Time:0,Name:"铂金"},{Symbol:"PA",Decimal:2,Time:0,Name:"钯金"},{Symbol:"HR",Decimal:0,Time:0,Name:"热轧钢卷"},{Symbol:"QM",Decimal:3,Time:0,Name:"迷你原油"},{Symbol:"HO",Decimal:4,Time:0,Name:"燃油"}],this.MarketSuffix=".NYMEX",this.TimeType=0,this.GetFuturesInfo=function(t){if(t.indexOf(this.MarketSuffix)<=0)return null;for(var e in this.FUTURES_LIST){var i=this.FUTURES_LIST[e];if(0==t.indexOf(i.Symbol))return i}return null},this.GetSplitData=function(t){var e=0==this.TimeType?this.TIME_SPLIT:this.TIME_SPLIT2,i=this.GetFuturesInfo(t);return i?e[i.Time]:e[0]},this.GetDecimal=function(t){var e=this.GetFuturesInfo(t);return e?e.Decimal:3},this.GetMarketStatus=function(t){var e=mr(-4),i=new Date,a=e.getDay(),r=100*i.getHours()+i.getMinutes();return 6==a||0==a?0:r>430&&r<730?1:2},this.AddNewFutures=function(t){if(t){for(var e={Symbol:t.Symbol,Time:t.Time,Decimal:t.Decimal,Name:t.Name},i=0;i<this.FUTURES_LIST.length;++i){if(this.FUTURES_LIST[i].Symbol==e.Symbol)return void(this.FUTURES_LIST[i]=e)}this.FUTURES_LIST.push(e)}}}function lr(){this.newMethod=sr,this.newMethod(),delete this.newMethod,this.FUTURES_LIST=[{Symbol:"GC",Decimal:1,Time:0,Name:"COMEX黄金"},{Symbol:"QO",Decimal:2,Time:0,Name:"迷你黄金"},{Symbol:"MG",Decimal:1,Time:0,Name:"微型黄金"},{Symbol:"QI",Decimal:4,Time:0,Name:"迷你白银"},{Symbol:"SI",Decimal:3,Time:0,Name:"COMEX白银"},{Symbol:"HG",Decimal:4,Time:0,Name:"COMEX铜"}],this.MarketSuffix=".COMEX"}function hr(){this.newMethod=sr,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"9:00-2:20",Data:[{Start:900,End:2359},{Start:0,End:220}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1700,Text:"17:00"},{Value:100,Text:"1:00"}]}},{Name:"15:30-1:00",Data:[{Start:1530,End:2359},{Start:0,End:100}],Coordinate:{Full:[{Value:1600,Text:"16:00"},{Value:1700,Text:"17:00"},{Value:1800,Text:"18:00"},{Value:1900,Text:"19:00"},{Value:2e3,Text:"20:00"},{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:0,Text:"0:00"},{Value:100,Text:"1:00"}],Simple:[{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"}],Min:[{Value:1600,Text:"16:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}]}}],this.TIME_SPLIT2=[{Name:"10:00-3:20",Data:[{Start:1e3,End:2359},{Start:0,End:320}],Coordinate:{Full:[{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:1e3,Text:"10:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"16:30-2:00",Data:[{Start:1630,End:2359},{Start:0,End:200}],Coordinate:{Full:[{Value:1700,Text:"17:00"},{Value:1800,Text:"18:00"},{Value:1900,Text:"19:00"},{Value:2e3,Text:"20:00"},{Value:2100,Text:"21:00"},{Value:2200,Text:"22:00"},{Value:2300,Text:"23:00"},{Value:0,Text:"0:00"},{Value:100,Text:"1:00"},{Value:200,Text:"2:00"}],Simple:[{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"}],Min:[{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:200,Text:"2:00"}]}}],this.FUTURES_LIST=[{Symbol:"SB",Decimal:2,Time:1},{Symbol:"CT",Decimal:2,Time:0}],this.MarketSuffix=".NYBOT",this.GetMarketStatus=function(t){var e=mr(-4),i=e.getDay(),a=100*e.getHours()+e.getMinutes();if(6==i||0==i)return 0;var r=this.GetFuturesInfo(t);if(!r)return 2;if("SB"==r.Symbol){if(a>300&&a<1400)return 2}else if("CT"==r.Symbol)return a>=0&&a<=1500||a>=2e3&&a<=2359?2:1;return 0}}function ur(){this.newMethod=sr,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"8:00-2:20",Data:[{Start:800,End:2359},{Start:0,End:220}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"8:00-2:45",Data:[{Start:800,End:2359},{Start:0,End:245}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"6:00-5:00",Data:[{Start:600,End:2359},{Start:0,End:500}],Coordinate:{Full:[{Value:600,Text:"6:00"},{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"}],Simple:[{Value:600,Text:"6:00"},{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:600,Text:"6:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}},{Name:"08:00-20:45 21:31-02:20",Data:[{Start:800,End:2045},{Start:2131,End:2359},{Start:0,End:220}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"8:00-2:45",Data:[{Start:800,End:2045},{Start:2131,End:2359},{Start:0,End:245}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}},{Name:"06:00-04:15 04:31-05:00",Data:[{Start:600,End:2359},{Start:0,End:415},{Start:431,End:500}],Coordinate:{Full:[{Value:600,Text:"6:00"},{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"}],Simple:[{Value:600,Text:"6:00"},{Value:1e3,Text:"10:00"},{Value:1400,Text:"14:00"},{Value:1800,Text:"18:00"},{Value:2200,Text:"22:00"},{Value:200,Text:"2:00"}],Min:[{Value:600,Text:"6:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.TIME_SPLIT2=[{Name:"9:00-3:20",Data:[{Start:900,End:2359},{Start:0,End:320}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"9:00-3:45",Data:[{Start:900,End:2359},{Start:0,End:345}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"7:00-6:00",Data:[{Start:700,End:2359},{Start:0,End:600}],Coordinate:{Full:[{Value:700,Text:"7:00"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"}],Simple:[{Value:700,Text:"7:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:300,Text:"3:00"}],Min:[{Value:700,Text:"7:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}},{Name:"09:00-21:45 22:31-03:20",Data:[{Start:900,End:2145},{Start:2231,End:2359},{Start:0,End:320}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"09:00-21:45 22:31-03:45",Data:[{Start:900,End:2145},{Start:2231,End:2359},{Start:0,End:345}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1900,Text:"19:00"},{Value:300,Text:"3:00"}]}},{Name:"07:00-05:15 05:31-06:00",Data:[{Start:700,End:2359},{Start:0,End:515},{Start:531,End:600}],Coordinate:{Full:[{Value:700,Text:"7:00"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"}],Simple:[{Value:700,Text:"7:00"},{Value:1100,Text:"11:00"},{Value:1500,Text:"15:00"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:300,Text:"3:00"}],Min:[{Value:700,Text:"7:00"},{Value:1800,Text:"18:00"},{Value:500,Text:"5:00"}]}}],this.FUTURES_LIST=[{Symbol:"ZC",Decimal:2,Time:0,Name:"玉米"},{Symbol:"XC",Decimal:2,Time:1,Name:"迷你玉米"},{Symbol:"ZS",Decimal:2,Time:0,Name:"大豆"},{Symbol:"XK",Decimal:2,Time:1,Name:"迷你大豆"},{Symbol:"ZL",Decimal:2,Time:0,Name:"豆油"},{Symbol:"ZR",Decimal:2,Time:0,Name:"稻谷"},{Symbol:"ZO",Decimal:2,Time:0,Name:"燕麦"},{Symbol:"ZW",Decimal:2,Time:0,Name:"小麦"},{Symbol:"XW",Decimal:2,Time:1,Name:"迷你小麦"},{Symbol:"ZM",Decimal:1,Time:0,Name:"豆粕"},{Symbol:"EH",Decimal:3,Time:2},{Symbol:"YM",Decimal:0,Time:2,Name:"小型道指"},{Symbol:"ES",Decimal:2,Time:2,Name:"小型标普"},{Symbol:"NQ",Decimal:2,Time:2,Name:"小型纳指"},{Symbol:"TY",Decimal:4,Time:2,Name:"10年美国债"},{Symbol:"TU",Decimal:4,Time:2,Name:"2年美国债"},{Symbol:"FV",Decimal:4,Time:2,Name:"5年美国债"},{Symbol:"US",Decimal:4,Time:2,Name:"30年美国债"},{Symbol:"UL",Decimal:4,Time:2,Name:"超国债"}],this.MarketSuffix=".CBOT"}function cr(){this.newMethod=sr,this.newMethod(),delete this.newMethod,this.TIME_SPLIT=[{Name:"LME 9:00-3:00",Data:[{Start:900,End:2359},{Start:0,End:300}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:300,Text:"3:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:100,Text:"1:00"}],Min:[{Value:900,Text:"9:00"},{Value:1800,Text:"18:00"},{Value:300,Text:"3:00"}]}}],this.TIME_SPLIT=[{Name:"LME 8:00-2:00",Data:[{Start:800,End:2359},{Start:0,End:200}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"}],Min:[{Value:800,Text:"8:00"},{Value:1800,Text:"18:00"},{Value:200,Text:"2:00"}]}}],this.FUTURES_LIST=[{Symbol:"SN",Decimal:0,Time:0,Name:"LME锡"},{Symbol:"AH",Decimal:2,Time:0,Name:"LME铝"},{Symbol:"PB",Decimal:2,Time:0,Name:"LME铅"},{Symbol:"ZS",Decimal:2,Time:0,Name:"LME锌"},{Symbol:"CA",Decimal:2,Time:0,Name:"LME铜"},{Symbol:"NI",Decimal:0,Time:0,Name:"LME镍"}],this.MarketSuffix=".LME"}function dr(){this.newMethod=sr,this.newMethod(),delete this.newMethod,this.TimeType=0,this.TIME_SPLIT=[{Name:"15:30-04:30 07:46-14:15",Data:[{Start:1530,End:2359},{Start:0,End:430},{Start:746,End:1415}],Coordinate:{Full:[{Value:1530,Text:"15:30"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:300,Text:"3:00"},{Value:430,Text:"4:30"},{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1415,Text:"14:15"}],Simple:[{Value:1530,Text:"15:30"},{Value:1900,Text:"19:00"},{Value:2300,Text:"23:00"},{Value:100,Text:"1:00"},{Value:430,Text:"4:30"},{Value:1100,Text:"11:00"},{Value:1415,Text:"14:15"}],Min:[{Value:1530,Text:"15:30"},{Value:100,Text:"1:00"},{Value:1415,Text:"14:15"}]}}],this.FUTURES_LIST=[{Symbol:"JRV",Decimal:0,Time:0,Name:"东京TSR20橡胶"},{Symbol:"JPL",Decimal:0,Time:0,Name:"东京铂金"},{Symbol:"JAU",Decimal:0,Time:0,Name:"东京黄金"},{Symbol:"JCO",Decimal:0,Time:0,Name:"中东原油"},{Symbol:"JRU",Decimal:1,Time:0,Name:"东京RSS3橡胶橡胶"},{Symbol:"JAG",Decimal:1,Time:0,Name:"日白银"},{Symbol:"JPA",Decimal:1,Time:0,Name:"日钯金"}],this.MarketSuffix=".TOCOM"}function fr(){this.newMethod=sr,this.newMethod(),delete this.newMethod,this.MarketSuffix=".IPE",this.TIME_SPLIT=[{Name:"8:00-6:00",Data:[{Start:800,End:2359},{Start:0,End:600}],Coordinate:{Full:[{Value:800,Text:"8:00"},{Value:1e3,Text:"10:00"},{Value:1200,Text:"12:00"},{Value:1400,Text:"14:00"},{Value:1600,Text:"16:00"},{Value:1800,Text:"18:00"},{Value:2e3,Text:"20:00"},{Value:2200,Text:"22:00"},{Value:0,Text:"0:00"},{Value:200,Text:"2:00"},{Value:400,Text:"4:00"},{Value:600,Text:"6:00"}],Simple:[{Value:800,Text:"8:00"},{Value:1200,Text:"12:00"},{Value:1600,Text:"16:00"},{Value:2e3,Text:"20:00"},{Value:0,Text:"0:00"},{Value:400,Text:"4:00"},{Value:600,Text:"6:00"}],Min:[{Value:800,Text:"8:00"},{Value:2e3,Text:"20:00"},{Value:600,Text:"6:00"}]}}],this.TIME_SPLIT2=[{Name:"09:00-07:00",Data:[{Start:900,End:2359},{Start:0,End:700}],Coordinate:{Full:[{Value:900,Text:"9:00"},{Value:1100,Text:"11:00"},{Value:1300,Text:"13:00"},{Value:1500,Text:"15:00"},{Value:1700,Text:"17:00"},{Value:1900,Text:"19:00"},{Value:2100,Text:"21:00"},{Value:2300,Text:"23:00"},{Value:1,Text:"1:00"},{Value:300,Text:"3:00"},{Value:500,Text:"5:00"},{Value:700,Text:"7:00"}],Simple:[{Value:900,Text:"9:00"},{Value:1300,Text:"13:00"},{Value:1700,Text:"17:00"},{Value:2100,Text:"21:00"},{Value:1,Text:"1:00"},{Value:500,Text:"5:00"},{Value:700,Text:"7:00"}],Min:[{Value:900,Text:"9:00"},{Value:2100,Text:"21:00"},{Value:700,Text:"7:00"}]}}],this.FUTURES_LIST=[{Symbol:"RC",Decimal:2,Time:0,Name:"罗布斯塔咖啡"},{Symbol:"W",Decimal:2,Time:0,Name:"白糖"},{Symbol:"C",Decimal:2,Time:0,Name:"伦敦可可"},{Symbol:"R",Decimal:2,Time:0,Name:"长期英国国债"},{Symbol:"L",Decimal:2,Time:0,Name:"3个月英镑利率"},{Symbol:"T",Decimal:2,Time:0,Name:"WTI原油"},{Symbol:"G",Decimal:2,Time:0,Name:"低硫柴油"},{Symbol:"B",Decimal:2,Time:0,Name:"布伦特原油"}]}function pr(t){var e=2;if(!t)return e;var i=t.toUpperCase();return"function"==typeof po.GetCustomDecimal?po.GetCustomDecimal(i):e=po.IsSHSZFund(i)?3:po.IsSHO(i)||po.IsSZO(i)?po.GetSHODecimal(i):po.IsChinaFutures(i)?vo.GetDecimal(i):po.IsFHK(i)?po.GetFHKDecimal(i):po.IsFTSE(i)?po.GetFTSEDecimal(i):po.IsBIT(i)?po.GetBITDecimal(i):po.IsET(i)?po.GetETDecimal(i):po.IsForeignExchange(i)?po.GetForeignExchangeDecimal(i):po.IsNYMEX(i)?Do.GetDecimal(i):po.IsCOMEX(i)?go.GetDecimal(i):po.IsNYBOT(i)?So.GetDecimal(i):po.IsCBOT(i)?xo.GetDecimal(i):po.IsLME(i)?bo.GetDecimal(i):po.IsTOCOM(i)?Io.GetDecimal(i):po.IsIPE(i)?To.GetDecimal(i):po.IsHK(i)?po.GetHKDecimal(i):po.IsTW(i)?po.GetTWDecimal(i):po.IsJP(i)?po.GetJPDecimal(i):po.IsHSX(i)?po.GetHSXDecimal(i):po.IsHNX(i)?po.GetHNXDecimal(i):po.IsUPCOM(i)?po.GetUPCOMDecimal(i):po.GetDefaultDecimal(i)}function mr(t){if("number"==typeof t){var e=new Date,i=e.getTime(),a=6e4*e.getTimezoneOffset(),r=i+a;return new Date(r+36e5*t)}}function Cr(){}function vr(){this.Error=[],this.RecordError=function(t){this.Error.push(t)},this.ConstructError=function(t,e){var i=new Error(t);try{throw i}catch(t){Cn.default&&pn.default&&(i=(0,Cn.default)(t),i.Column=e)}return i},this.CreateError=function(t,e,i,a,r){var n="Line "+e+": "+a,o=this.ConstructError(n,i);return o.Index=t,o.LineNumber=e,o.Description=a,o.Word=r,o},this.ThrowError=function(t,e,i,a,r){throw this.CreateError(t,e,i,a,r)},this.ThrowDownloadJob=function(t,e,i,a,r){var n=this.CreateError(t,e,i,a);throw n.Job=r,n}}function Dr(t,e){this.Source=t,this.ErrorHandler=e,this.Length=t.length,this.Index=0,this.LineNumber=t.length>0?1:0,this.LineStart=0,this.CurlyStack=[],this.SaveState=function(){return{Index:this.Index,LineNumber:this.LineNumber,LineStart:this.LineStart}},this.RestoreState=function(t){this.Index=t.Index,this.LineNumber=t.LineNumber,this.LineStart=t.LineStart},this.IsEOF=function(){return this.Index>=this.Length},this.IsKeyword=function(t){return!1},this.CodePointAt=function(t){var e=this.Source.charCodeAt(t);if(e>=55296&&e<=56319){var i=this.Source.charCodeAt(t+1);if(i>=56320&&i<=57343){e=1024*(e-55296)+i-56320+65536}}return e},this.Lex=function(){if(this.IsEOF())return{Type:2,Value:"",LineNumber:this.LineNumber,LineStart:this.LineStart,Start:this.Index,End:this.Index};var t=this.Source.charCodeAt(this.Index);return Fo.IsIdentifierStart(t)?this.ScanIdentifier():40===t||41===t||59===t?this.ScanPunctuator():39===t||34===t?this.ScanStringLiteral():46==t?Fo.IsDecimalDigit(this.Source.charCodeAt(this.Index+1))?this.ScanNumericLiteral():this.ScanPunctuator():Fo.IsDecimalDigit(t)?this.ScanNumericLiteral():t>=55296&&t<57343&&Fo.IsIdentifierStart(this.CodePointAt(this.Index))?this.ScanIdentifier():this.ScanPunctuator()},this.ScanIdentifier=function(){var t=void 0,e=this.Index,i=92===this.Source.charCodeAt(e)?this.GetComplexIdentifier():this.GetIdentifier();if(3!=(t=i.length?3:this.IsKeyword(i)?4:null==i?5:"true"==i||"false"==i?1:3)&&e+i.length!=this.Index){this.Index;throw this.Index=e,wo.InvalidEscapedReservedWord}return"AND"!=i&&"OR"!=i||(t=7),{Type:t,Value:i,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:e,End:this.Index}},this.GetIdentifier=function(){for(var t=this.Index++;!this.IsEOF();){var e=this.Source.charCodeAt(this.Index);if(92==e)return this.Index=t,this.GetComplexIdentifier();if(e>=55296&&e<57343)return this.Index=t,this.GetComplexIdentifier();if(!Fo.IsIdentifierPart(e))break;++this.Index}return this.Source.slice(t,this.Index)},this.ScanPunctuator=function(){var t=this.Index,e=this.Source[this.Index];switch(e){case"(":++this.Index;break;case")":case";":case",":case".":++this.Index;break;default:e=this.Source.substr(this.Index,3),"AND"==e?this.Index+=3:(e=this.Source.substr(this.Index,2),"&&"===e||"||"===e||"=="===e||"!="===e||"<="===e||">="===e||"=>"===e||":="==e||"OR"==e||"<>"==e?this.Index+=2:(e=this.Source[this.Index],"<>=!+-*%&|^/:".indexOf(e)>=0&&++this.Index))}return this.Index==t&&this.ThrowUnecpectedToken(),{Type:7,Value:e,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanStringLiteral=function(){var t=this.Index,e=this.Source[this.Index];++this.Index;for(var i="";!this.IsEOF();){var a=this.Source[this.Index++];if(a==e){e="";break}if("\\"==a)throw"not complete";if(Fo.IsLineTerminator(a.charCodeAt(0)))break;i+=a}return""!=e&&(this.Index=t,this.ThrowUnecpectedToken()),{Type:8,Value:i,LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanNumericLiteral=function(){var t=this.Index,e=this.Source[this.Index],i="";if("."!=e){if(i=this.Source[this.Index++],e=this.Source[this.Index],"0"==i&&("x"==e||"X"==e))return++this.Index,this.ScanHexLiteral(t);for(;Fo.IsDecimalDigit(this.Source.charCodeAt(this.Index));)i+=this.Source[this.Index++];e=this.Source[this.Index]}if("."==e){for(i+=this.Source[this.Index++];Fo.IsDecimalDigit(this.Source.charCodeAt(this.Index));)i+=this.Source[this.Index++];e=this.Source[this.Index]}if("e"==e||"E"==e)if(i+=this.Source[this.Index++],e=this.Source[this.Index],"+"!=e&&"-"!=e||(i+=this.Source[this.Index]),Fo.IsDecimalDigit(this.Source.charCodeAt(this.Index)))for(;Fo.IsDecimalDigit(this.Source.charCodeAt(this.Index));)i+=this.Source[this.Index++];else this.ThrowUnecpectedToken();return Fo.IsIdentifierStart(this.Source.charCodeAt(this.Index))&&this.ThrowUnecpectedToken(),{Type:6,Value:parseFloat(i),LineNumber:this.LineNumber,LineStart:this.LineStart,Start:t,End:this.Index}},this.ScanComments=function(){for(this.Index;!this.IsEOF();){var t=this.Source.charCodeAt(this.Index);if(Fo.IsWhiteSpace(t))++this.Index;else if(Fo.IsLineTerminator(t))++this.Index,13==t&&10==this.Source.charCodeAt(this.Index)&&++this.Index,++this.LineNumber,this.LineStart=this.Index,!0;else if(47==t){if(47!=(t=this.Source.charCodeAt(this.Index+1)))break;this.Index+=2;this.SkipSingleLineComment(2);!0}else{if(123!=t)break;this.Index+=1;this.SkipMultiLineComment()}}},this.SkipMultiLineComment=function(){for(var t=[];!this.IsEOF();){var e=this.Source.charCodeAt(this.Index);if(Fo.IsLineTerminator(e))++this.LineNumber,++this.Index,this.LineStart=this.Index;else{if(125==e)return this.Index+=1,t;++this.Index}}return t},this.SkipSingleLineComment=function(t){for(var e=[];!this.IsEOF();){var i=this.Source.charCodeAt(this.Index);if(++this.Index,Fo.IsLineTerminator(i))return 13===i&&10===this.Source.charCodeAt(this.Index)&&++this.Index,++this.LineNumber,this.LineStart=this.Index,e}return e},this.ThrowUnecpectedToken=function(t,e){return t||(t=wo.UnexpectedTokenIllegal),this.ErrorHandler.ThrowError(this.Index,this.LineNumber,this.Index-this.LineStart+1,t,e)}}function gr(t){this.ErrorHandler=new vr,this.Scanner=new Dr(t,this.ErrorHandler),this.Buffer=[],this.GetNextToken=function(){if(0==this.Buffer.length){this.Scanner.ScanComments();if(!this.Scanner.IsEOF()){var t=this.Scanner.Lex(),e={Type:Lo[t.Type],Value:this.Scanner.Source.slice(t.Start,t.End)};this.Buffer.push(e)}}return this.Buffer.shift()}}function Sr(t){this.IsNeedIndexData=!1,this.IsNeedLatestIndexData=!1,this.IsNeedSymbolData=!1,this.IsNeedMarginData=new Tn.default,this.IsNeedNewsAnalysisData=new Tn.default,this.NeedBlockIncreaseData=[],this.IsNeedSymbolExData=new Tn.default,this.NeedHK2SHSZData=[],this.IsNeedSectionFinance=new Mn.default,this.FunctionData=[],this.Dynainfo=[],this.IsAPIData=[],this.ExecuteIndex=[],this.OtherSymbolData=[],this.PeriodSymbolData=[],this.ErrorHandler=t,this.GetDataJobList=function(){var t=[];this.IsNeedSymbolData&&t.push({ID:No.JOB_DOWNLOAD_SYMBOL_DATA}),this.IsNeedIndexData&&t.push({ID:No.JOB_DOWNLOAD_INDEX_DATA}),this.IsNeedLatestIndexData&&t.push({ID:No.JOB_DOWNLOAD_LATEST_INDEX_DATA});for(var e=0;e<this.Dynainfo.length;++e){var i=this.Dynainfo[e];t.push(i)}for(var e in this.NeedBlockIncreaseData)t.push(this.NeedBlockIncreaseData[e]);var a=!0,r=!1,n=void 0;try{for(var o,s=(0,Fn.default)(this.IsNeedMarginData);!(a=(o=s.next()).done);a=!0){var l=o.value;t.push({ID:l})}}catch(t){r=!0,n=t}finally{try{!a&&s.return&&s.return()}finally{if(r)throw n}}for(var e in this.NeedHK2SHSZData)t.push(this.NeedHK2SHSZData[e]);var h=!0,u=!1,c=void 0;try{for(var d,f=(0,Fn.default)(this.IsNeedNewsAnalysisData);!(h=(d=f.next()).done);h=!0){var l=d.value;t.push({ID:l})}}catch(t){u=!0,c=t}finally{try{!h&&f.return&&f.return()}finally{if(u)throw c}}var p=!0,m=!1,C=void 0;try{for(var v,D=(0,Fn.default)(this.IsNeedSymbolExData);!(p=(v=D.next()).done);p=!0){var l=v.value;t.push({ID:l})}}catch(t){m=!0,C=t}finally{try{!p&&D.return&&D.return()}finally{if(m)throw C}}var g=!0,S=!1,x=void 0;try{for(var b,I=(0,Fn.default)(this.IsNeedSectionFinance);!(g=(b=I.next()).done);g=!0){var i=b.value;t.push({ID:No.JOB_DOWNLOAD_SECTION_SF,SF:i})}}catch(t){S=!0,x=t}finally{try{!g&&I.return&&I.return()}finally{if(S)throw x}}for(var e in this.IsAPIData){var i=this.IsAPIData[e];t.push(i)}for(var e in this.ExecuteIndex){var i=this.ExecuteIndex[e];t.push(i)}for(var e in this.OtherSymbolData){var i=this.OtherSymbolData[e];t.push(i)}for(var e in this.PeriodSymbolData){var i=this.PeriodSymbolData[e];t.push(i)}for(var e in this.FunctionData){var i=this.FunctionData[e];t.push(i)}return t},this.VerifySymbolVariable=function(t,e){if(new Tn.default(["INDEXA","INDEXC","INDEXH","INDEXL","INDEXO","INDEXV","INDEXDEC","INDEXADV"]).has(t))return void(this.IsNeedIndexData=!0);if(new Tn.default(["CLOSE","C","VOL","V","OPEN","O","HIGH","H","LOW","L","AMOUNT","AMO","VOLINSTK"]).has(t))return void(this.IsNeedSymbolData=!0);if("VOLR"===t&&(this.IsNeedSymbolExData.has(No.JOB_DOWNLOAD_VOLR_DATA)||this.IsNeedSymbolExData.add(No.JOB_DOWNLOAD_VOLR_DATA)),new Tn.default(["CAPITAL","TOTALCAPITAL","EXCHANGE","HYBLOCK","DYBLOCK","GNBLOCK","FGBLOCK","ZSBLOCK","ZHBLOCK","ZDBLOCK","HYZSCODE","GNBLOCKNUM","FGBLOCKNUM","ZSBLOCKNUM","ZHBLOCKNUM","ZDBLOCKNUM","HYSYL","HYSJL"]).has(t)){var i={ID:No.JOB_DOWNLOAD_VARIANT,VariantName:t};return e&&(i.Token={Index:e.Start,Line:e.LineNumber}),void this.FunctionData.push(i)}if("FROMOPEN"==t)return void(this.IsNeedLatestIndexData=!0);if("ADVANCE"==t||"DECLINE"==t){var i={ID:No.JOB_DOWNLOAD_INDEX_INCREASE_DATA,IsSelfSymbol:!0,FunctionName:t};return e&&(i.Token={Index:e.Start,Line:e.LineNumber}),void this.NeedBlockIncreaseData.push(i)}if(t.indexOf("#")>0){var a=t.split("#");if(2!=a.length){var r=t+", 跨周期语法错误, 变量名#周期";this.ThrowUnexpectedToken(e,r)}else{if(["C","CLOSE","O","OPEN","H","HIGH","L","LOW","AMOUNT","AMO","VOL","V","VOLINSTK"].indexOf(a[0])<0){var r=t+", 跨周期语法错误, 数据只支持'OPEN,HIGH,LOW,CLOSE,VOL,AMOUNT,VOLINSTK'";this.ThrowUnexpectedToken(e,r)}if(["MIN1","MIN5","MIN15","MIN30","MIN60","MIN120","MIN240","DAY","WEEK","MONTH","SEASON","YEAR","HALFYEAR","WEEK2","MULTIDAY","DAY2","DAY3","DAY4","DAY5","DAY6","DAY7","DAY8","DAY9","DAY10","DAY11","DAY12","DAY13","DAY14","DAY15"].indexOf(a[1])<0){var r=t+", 跨周期语法错误， 周期只支持'MIN1,MIN5,MIN15,MIN30,MIN60,DAY,WEEK,MONTH,SEASON,YEAR'";this.ThrowUnexpectedToken(e,r)}var i={ID:No.JOB_DOWNLOAD_SYMBOL_PERIOD_DATA,VarName:t,ValueName:a[0],PeriodName:a[1]};e&&(i.Token={Index:e.Start,Line:e.LineNumber}),this.PeriodSymbolData.push(i)}}else if(yo.IsCustomVariant(t)){var i={VariantName:t,ID:No.JOB_CUSTOM_VARIANT_DATA};return e&&(i.Token={Index:e.Start,Line:e.LineNumber}),void this.FunctionData.push(i)}},this.VerifySymbolLiteral=function(t,e){if(Ee.IsString(t)&&t.indexOf("$")>0){if(2!=t.split("$").length)return;var i={Literal:t,ID:No.JOB_DOWNLOAD_OTHER_SYMBOL_DATA};e&&(i.Token={Index:e.Start,Line:e.LineNumber}),this.OtherSymbolData.push(i)}},this.VerifySymbolFunction=function(t,e,i){if(yo.IsCustomFunction(t.Name)){var a={FunctionName:t.Name,ID:No.JOB_CUSTOM_FUNCTION_DATA,Args:e};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a)}if("DYNAINFO"==t.Name){var a={ID:No.JOB_DOWNLOAD_SYMBOL_LATEST_DATA,Args:e,FunctionName:t.Name};return void this.Dynainfo.push(a)}if("FINANCE"==t.Name){var a={ID:No.JOB_DOWNLOAD_FINANCE,Args:e,FunctionName:t.Name};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a)}if("FINVALUE"==t.Name){var a={ID:No.JOB_DOWNLOAD_FINVALUE,Args:e,FunctionName:t.Name};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a)}if("FINONE"==t.Name){var a={ID:No.JOB_DOWNLOAD_FINONE,Args:e,FunctionName:t.Name};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a)}if("GPJYVALUE"==t.Name){var a={ID:No.JOB_DOWNLOAD_GPJYVALUE,Args:e,FunctionName:t.Name};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a)}if("SCJYVALUE"==t.Name){var a={ID:No.JOB_DOWNLOAD_SCJYVALUE,Args:e,FunctionName:t.Name};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a)}if("MARGIN"===t.Name){var r=No.GetMarginJobID(e[0].Value);return void(r&&!this.IsNeedMarginData.has(r)&&this.IsNeedMarginData.add(r))}if("NEWS"===t.Name){var n=No.GetNewsAnalysisID(e[0].Value);return void(n&&!this.IsNeedNewsAnalysisData.has(n)&&this.IsNeedNewsAnalysisData.add(n))}if("HK2SHSZ"===t.Name){var a={ID:No.JOB_DOWNLOAD_HK_TO_SHSZ,Args:e,FunctionName:t.Name};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.NeedHK2SHSZData.push(a)}if("COST"==t.Name||"WINNER"==t.Name||"PPART"==t.Name||"COSTEX"==t.Name||"LWINNER"==t.Name||"PWINNER"==t.Name){var a={ID:No.JOB_DOWNLOAD_FINANCE,Args:[7],FunctionName:"FINANCE",FunctionName2:t.Name};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a)}if("INBLOCK"==t.Name){var a={ID:No.JOB_DOWNLOAD_VARIANT,VariantName:"INBLOCK"};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.FunctionData.push(a)}if("BETA"===t.Name)return void(this.IsNeedIndexData=!0);if("UPCOUNT"==t.Name||"DOWNCOUNT"==t.Name){var a={ID:No.JOB_DOWNLOAD_INDEX_INCREASE_DATA,Args:e,FunctionName:t.Name};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.NeedBlockIncreaseData.push(a)}if("STKINDI"==t.Name||"CALCSTOCKINDEX"==t.Name){var a={ID:No.JOB_EXECUTE_INDEX,Args:e,FunctionName:t.Name};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.ExecuteIndex.push(a)}if("COVER_C"==t.Name||"COVER_O"==t.Name||"COVER_H"==t.Name||"COVER_L"==t.Name||"COVER_A"==t.Name||"COVER_V"==t.Name){var o=e[0].Value;if(["MIN1","MIN5","MIN15","MIN30","MIN60","DAY","WEEK","MONTH","SEASON","YEAR"].indexOf(o)<0){var s=t.Name+", 跨周期函数错误， 周期只支持'MIN1,MIN5,MIN15,MIN30,MIN60,DAY,WEEK,MONTH,SEASON,YEAR'";this.ThrowUnexpectedToken(i,s)}var l=Cr.GetConvertValueName(t.Name),a={ID:No.JOB_DOWNLOAD_SYMBOL_PERIOD_DATA,FunctionName:t.Name,ValueName:l,PeriodName:o};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.PeriodSymbolData.push(a)}if("SF"!=t.Name){if("LOADAPIDATA"==t.Name){var a={Name:t.Name,ID:No.JOB_DOWNLOAD_CUSTOM_API_DATA,Args:e};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.IsAPIData.push(a)}if(new Tn.default(["CLOSE","C","VOL","V","OPEN","O","HIGH","H","LOW","L","AMOUNT","AMO","VOLINSTK"]).has(t.Name)){var a={Name:t.Name,ID:No.JOB_DOWNLOAD_OTHER_SYMBOL_DATA,Args:e};return i&&(a.Token={Index:i.Start,Line:i.LineNumber}),void this.OtherSymbolData.push(a)}}else{var h=No.GetSectionReportPeriod(e[0].Value,e[1].Value);if(!h)return;var u=No.GetSectionFinanceID(e[2].Value);if(!u)return;var c=h.Year+"-"+h.Quarter;if(this.IsNeedSectionFinance.has(c)){var d=this.IsNeedSectionFinance.get(c);d.Fields.has(u)||d.Fields.add(u)}else{var d={Period:h,Fields:new Tn.default([u])};this.IsNeedSectionFinance.set(c,d)}}},this.VerifyMemberVariable=function(t,e,i){var a={ID:No.JOB_EXECUTE_INDEX,Member:{Object:t,Property:e}};i&&(a.Token={Index:i.Start,Line:i.LineNumber}),this.ExecuteIndex.push(a)},this.ExpressionStatement=function(t){return{Type:Mo.ExpressionStatement,Expression:t}},this.Script=function(t){return{Type:Mo.Program,Body:t,SourceType:"通达信脚本"}},this.SequenceExpression=function(t){return{Type:Mo.SequenceExpression,Expression:t}},this.BinaryExpression=function(t,e,i){return{Type:"||"===t||"&&"===t||"AND"==t||"OR"==t?Mo.LogicalExpression:Mo.BinaryExpression,Operator:t,Left:e,Right:i}},this.Literal=function(t,e,i){return this.VerifySymbolLiteral(t,i),{Type:Mo.Literal,Value:t,Raw:e}},this.Identifier=function(t,e){return this.VerifySymbolVariable(t,e),{Type:Mo.Identifier,Name:t}},this.MemberIdentifier=function(t,e){return{Type:Mo.Identifier,Name:t}},this.AssignmentExpression=function(t,e,i){return{Type:Mo.AssignmentExpression,Operator:t,Left:e,Right:i}},this.UnaryExpression=function(t,e){return{Type:Mo.UnaryExpression,Operator:t,Argument:e,Prefix:!0}},this.EmptyStatement=function(){return{Type:Mo.EmptyStatement}},this.CallExpression=function(t,e,i){return this.VerifySymbolFunction(t,e,i),{Type:Mo.CallExpression,Callee:t,Arguments:e}},this.StaticMemberExpression=function(t,e,i){return this.VerifyMemberVariable(t,e,i),{Type:Mo.MemberExpression,Computed:!1,Object:t,Property:e}},this.Directive=function(t,e){return{Type:Mo.ExpressionStatement,Expression:t,Directive:e}},this.ThrowUnexpectedToken=function(t,e){throw this.UnexpectedTokenError(t,e)},this.UnexpectedTokenError=function(t,e){var i=e||wo.UnexpectedToken,a="ILLEGAL";if(t&&(a=t.Value),i=i.replace("%0",a),t&&"number"==typeof t.LineNumber){var r=t.Start,n=t.LineNumber;return this.ErrorHandler.CreateError(r,n,-1,i)}}}function xr(t){this.ErrorHandler=new vr,this.Scanner=new Dr(t,this.ErrorHandler),this.Node=new Sr(this.ErrorHandler),this.LookAhead={Type:2,Value:"",LineNumber:this.Scanner.LineNumber,LineStart:0,Start:0,End:0},this.HasLineTerminator=!1,this.Context={IsModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,FirstCoverInitializedNameError:null,IsAssignmentTarget:!1,IsBindingElement:!1,InFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},Strict:!1},this.PeratorPrecedence={")":0,";":0,",":0,"]":0,"||":1,OR:1,"&&":2,AND:2,"|":3,"^":4,"&":5,"==":6,"=":6,"!=":6,"<>":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.StartMarker={Index:0,Line:this.Scanner.LineNumber,Column:0},this.LastMarker={Index:0,Line:this.Scanner.LineNumber,Column:0},this.Initialize=function(){this.NextToken(),this.LastMarker={Index:this.Scanner.Index,Line:this.Scanner.LineNumber,Column:this.Scanner.Index-this.Scanner.LineStart}},this.CreateNode=function(){return{Index:this.StartMarker.Index,Line:this.StartMarker.Line,Column:this.StartMarker.Column}},this.StartNode=function(t,e){void 0==e&&(e=0);var i=t.Start-t.LineStart,a=t.LineNumber;return i<0&&(i+=e,a--),{Index:t.Start,Line:a,Column:i}},this.Match=function(t){return 7==this.LookAhead.Type&&this.LookAhead.Value==t},this.Expect=function(t){var e=this.NextToken();7==e.Type&&e.Value==t||this.ThrowUnexpectedToken(e)},this.MatchAssign=function(){if(7!=this.LookAhead.Type)return!1;var t=this.LookAhead.Value;return":"==t||":="==t},this.GetTokenRaw=function(t){return this.Scanner.Source.slice(t.Start,t.End)},this.NextToken=function(){var t=this.LookAhead;this.LastMarker.Index=this.Scanner.Index,this.LastMarker.Line=this.Scanner.LineNumber,this.LastMarker.Column=this.Scanner.Index-this.Scanner.LineStart,this.CollectComments(),this.Scanner.Index!==this.StartMarker.Index&&(this.StartMarker.Index=this.Scanner.Index,this.StartMarker.Line=this.Scanner.LineNumber,this.StartMarker.Column=this.Scanner.Index-this.Scanner.LineStart);var e=this.Scanner.Lex();return this.HasLineTerminator=t.LineNumber!=e.LineNumber,e&&this.Context.Strict&&e.Type,this.LookAhead=e,t},this.CollectComments=function(){this.Scanner.ScanComments()},this.ParseScript=function(){for(var t=this.CreateNode(),e=this.ParseDirectivePrologues();2!=this.LookAhead.Type;)e.push(this.ParseStatementListItem());return this.Finalize(t,this.Node.Script(e))},this.ParseDirective=function(){var t=this.LookAhead,e=this.CreateNode(),i=this.ParseExpression(),a=i.Type===Mo.Literal?this.GetTokenRaw(t).slice(1,-1):null;return this.ConsumeSemicolon(),this.Finalize(e,a?this.Node.Directive(i,a):this.Node.ExpressionStatement(i))},this.ParseDirectivePrologues=function(){for(var t=[];;){if(8!=this.LookAhead.Type)break;var e=this.ParseDirective();t.push(e)}return t},this.ParseStatementListItem=function(){var t=void 0;return this.Context.IsAssignmentTarget=!0,this.Context.IsBindingElement=!0,4==this.LookAhead.Type||(t=this.ParseStatement()),t},this.ParseStatement=function(){var t=void 0;switch(this.LookAhead.Type){case 1:case 5:case 6:case 8:case 10:case 9:t=this.ParseExpressionStatement();break;case 7:var e=this.LookAhead.Value;t="("===e?this.ParseExpressionStatement():";"===e?this.ParseEmptyStatement():this.ParseExpressionStatement();break;case 3:t=this.ParseLabelledStatement();break;case 4:break;default:t="error"}return t},this.ParseEmptyStatement=function(){var t=this.CreateNode();return this.Expect(";"),this.Finalize(t,this.Node.EmptyStatement())},this.ParseLabelledStatement=function(){var t=this.CreateNode(),e=this.ParseExpression();this.ConsumeSemicolon();var i=new this.Node.ExpressionStatement(e);return this.Finalize(t,i)},this.ParseExpression=function(){var t=this.LookAhead,e=this.IsolateCoverGrammar(this.ParseAssignmentExpression);if(this.Match(",")){var i=[];for(i.push(e);2!=this.LookAhead.Type&&this.Match(",");)this.NextToken(),i.push(this.IsolateCoverGrammar(this.ParseAssignmentExpression));e=this.Finalize(this.StartNode(t),this.Node.SequenceExpression(i))}return e},this.ParseAssignmentExpression=function(){var t=void 0,e=this.LookAhead,i=e;if(t=this.ParseConditionalExpression(),this.MatchAssign()){if(!this.Context.IsAssignmentTarget){var a=t.Marker;this.ThrowUnexpectedError(a.Index,a.Line,a.Column,wo.InvalidLHSInAssignment)}this.Match("=")||this.Match(":")?this.ReinterpretExpressionAsPattern(t):(this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1),i=this.NextToken();var r=i.Value,n=this.IsolateCoverGrammar(this.ParseAssignmentExpression);t=this.Finalize(this.StartNode(e),this.Node.AssignmentExpression(r,t,n)),this.Context.FirstCoverInitializedNameError=null}return t},this.ParseConditionalExpression=function(){this.LookAhead;return this.InheritCoverGrammar(this.ParseBinaryExpression)},this.ParseBinaryExpression=function(){var t=this.LookAhead,e=this.InheritCoverGrammar(this.ParseExponentiationExpression),i=this.LookAhead,a=this.BinaryPrecedence(i);if(a>0){this.NextToken(),this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1;for(var r=[t,this.LookAhead],n=e,o=this.IsolateCoverGrammar(this.ParseExponentiationExpression),s=[n,i.Value,o],l=[a];;){if((a=this.BinaryPrecedence(this.LookAhead))<=0)break;for(;s.length>2&&a<=l[l.length-1];){o=s.pop();var h=s.pop();l.pop(),n=s.pop(),r.pop();var u=this.StartNode(r[r.length-1]);s.push(this.Finalize(u,this.Node.BinaryExpression(h,n,o)))}s.push(this.NextToken().Value),l.push(a),r.push(this.LookAhead),s.push(this.IsolateCoverGrammar(this.ParseExponentiationExpression))}var c=s.length-1;e=s[c];for(var d=r.pop();c>1;){var f=r.pop(),p=d&&d.LineStart,m=this.StartNode(f,p),C=s[c-1];e=this.Finalize(m,this.Node.BinaryExpression(C,s[c-2],e)),c-=2,d=f}}return e},this.ParseExponentiationExpression=function(){this.LookAhead;return this.InheritCoverGrammar(this.ParseUnaryExpression)},this.ParseUnaryExpression=function(){var t=void 0;if(this.Match("+")||this.Match("-")){var e=this.StartNode(this.LookAhead),i=this.NextToken();t=this.InheritCoverGrammar(this.ParseUnaryExpression),t=this.Finalize(e,this.Node.UnaryExpression(i.Value,t)),this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1}else t=this.ParseUpdateExpression();return t},this.ParseUpdateExpression=function(){this.LookAhead;return this.InheritCoverGrammar(this.ParseLeftHandSideExpressionAllowCall)},this.ParseLeftHandSideExpressionAllowCall=function(){var t=this.LookAhead,e=void 0;for(e=this.InheritCoverGrammar(this.ParsePrimaryExpression);;)if(this.Match(".")){this.Context.IsBindingElement=!1,this.Context.IsAssignmentTarget=!0,this.Expect(".");var i=this.ParseMemberIdentifierName();e=this.Finalize(this.StartNode(t),this.Node.StaticMemberExpression(e,i,t))}else{if(!this.Match("("))break;this.Context.IsBindingElement=!1,this.Context.IsAssignmentTarget=!1;var a=this.ParseArguments();e=this.Finalize(this.StartNode(t),this.Node.CallExpression(e,a,t))}return e},this.IsIdentifierName=function(t){return 3===t.Type||4===t.Type||1===t.Type||5===t.Type},this.ParseIdentifierName=function(){var t=this.CreateNode(),e=this.NextToken();return this.IsIdentifierName(e)||this.ThrowUnexpectedToken(e),this.Finalize(t,this.Node.Identifier(e.Value,e))},this.ParseMemberIdentifierName=function(){var t=this.CreateNode(),e=this.NextToken();return this.IsIdentifierName(e)||this.ThrowUnexpectedToken(e),this.Finalize(t,this.Node.MemberIdentifier(e.Value,e))},this.ParseArguments=function(){this.Expect("(");var t=[];if(!this.Match(")"))for(;;){var e=this.IsolateCoverGrammar(this.ParseAssignmentExpression);if(t.push(e),this.Match(")"))break;if(this.ExpectCommaSeparator(),this.Match(")"))break}return this.Expect(")"),t},this.ExpectCommaSeparator=function(){this.Expect(",")},this.ParsePrimaryExpression=function(){var t,e,i=this.CreateNode(),a=void 0;switch(this.LookAhead.Type){case 3:t=this.NextToken(),a=this.Finalize(i,this.Node.Identifier(t.Value,t));break;case 6:case 8:this.Context.IsAssignmentTarget=!1,this.Context.IsBindingElement=!1,t=this.NextToken(),e=this.GetTokenRaw(t),a=this.Finalize(i,this.Node.Literal(t.Value,e,t));break;case 7:switch(this.LookAhead.Value){case"(":this.Context.IsBindingElement=!1,a=this.InheritCoverGrammar(this.ParseGroupExpression);break;default:a=this.ThrowUnexpectedToken(this.NextToken())}break;default:a=this.ThrowUnexpectedToken(this.NextToken())}return a},this.ParseGroupExpression=function(){var t=void 0;if(this.Expect("("),this.Match(")"))this.NextToken();else{this.LookAhead;if(this.Context.IsBindingElement=!0,t=this.InheritCoverGrammar(this.ParseAssignmentExpression),this.Match(",")){var e=[];for(this.Context.IsAssignmentTarget=!1,e.push(t);2!=this.LookAhead.Type&&this.Match(",");)this.NextToken(),this.Match(")")}this.Expect(")"),this.Context.IsBindingElement=!1}return t},this.ParseExpressionStatement=function(){var t=this.CreateNode(),e=this.ParseExpression();return this.ConsumeSemicolon(),this.Finalize(t,this.Node.ExpressionStatement(e))},this.ConsumeSemicolon=function(){this.Match(";")?this.NextToken():this.HasLineTerminator||(this.LastMarker.Index=this.StartMarker.Index,this.LastMarker.Line=this.StartMarker.Line,this.LastMarker.Column=this.StartMarker.Column)},this.ReinterpretExpressionAsPattern=function(t){switch(t.Type){case Mo.Identifier:case Mo.MemberExpression:case Mo.AssignmentExpression:}},this.Finalize=function(t,e){return e.Marker={Line:t.Line,Column:t.Column,Index:t.Index},e},this.BinaryPrecedence=function(t){var e=t.Value;return 7===t.Type?this.PeratorPrecedence[e]||0:0},this.IsolateCoverGrammar=function(t){var e=this.Context.IsBindingElement,i=this.Context.IsAssignmentTarget,a=this.Context.FirstCoverInitializedNameError;this.Context.IsBindingElement=!0,this.Context.IsAssignmentTarget=!0,this.Context.FirstCoverInitializedNameError=null;var r=t.call(this);return this.Context.FirstCoverInitializedNameError,this.Context.IsBindingElement=e,this.Context.IsAssignmentTarget=i,this.Context.FirstCoverInitializedNameError=a,r},this.InheritCoverGrammar=function(t){var e=this.Context.IsBindingElement,i=this.Context.IsAssignmentTarget,a=this.Context.FirstCoverInitializedNameError;this.Context.IsBindingElement=!0,this.Context.IsAssignmentTarget=!0,this.Context.FirstCoverInitializedNameError=null;var r=t.call(this);return this.Context.IsBindingElement=this.Context.IsBindingElement&&e,this.Context.IsAssignmentTarget=this.Context.IsAssignmentTarget&&i,this.Context.FirstCoverInitializedNameError=a||this.Context.FirstCoverInitializedNameError,r},this.ThrowUnexpectedToken=function(t,e){throw this.UnexpectedTokenError(t,e)},this.ThrowUnexpectedError=function(t,e,i,a){var r=a||"执行异常";return this.ErrorHandler.ThrowError(t,e,i,r)},this.UnexpectedTokenError=function(t,e){var i=e||wo.UnexpectedToken,a="ILLEGAL";if(t&&(a=t.Value),i=i.replace("%0",a),t&&"number"==typeof t.LineNumber){var r=t.Start,n=t.LineNumber,o=this.LastMarker.Index-this.LastMarker.Column,s=t.Start-o+1;return this.ErrorHandler.CreateError(r,n,s,i)}var l=this.LastMarker.Index,h=this.LastMarker.Line,u=this.LastMarker.Column+1;return this.ErrorHandler.CreateError(l,h,u,i)}}function br(t,e){this.ErrorHandler=t,this.SymbolData=e,this.Add=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t+e;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&this.IsNumber(t[o])&&this.IsNumber(e[o])&&(r[o]=t[o]+e[o]);return r}var s=void 0,l=void 0;i?(s=t,l=e):(s=e,l=t);for(var h in l)r[h]=null,this.IsNumber(l[h])&&this.IsNumber(s)&&(r[h]=s+l[h]);return r},this.Subtract=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t-e;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&this.IsNumber(t[o])&&this.IsNumber(e[o])&&(r[o]=t[o]-e[o]);return r}if(i)for(var s in e)r[s]=null,this.IsNumber(t)&&this.IsNumber(e[s])&&(r[s]=t-e[s]);else for(var l in t)r[l]=null,this.IsNumber(t[l])&&this.IsNumber(e)&&(r[l]=t[l]-e);return r},this.Multiply=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t*e;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&this.IsNumber(t[o])&&this.IsNumber(e[o])&&(r[o]=t[o]*e[o]);return r}var s=void 0,l=void 0;i?(s=t,l=e):(s=e,l=t);for(var h in l)r[h]=null,this.IsNumber(l[h])&&this.IsNumber(s)&&(r[h]=s*l[h]);return r},this.Divide=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return 0==e?null:t/e;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&this.IsNumber(t[o])&&this.IsDivideNumber(e[o])&&(r[o]=t[o]/e[o]);return r}if(i)for(var s in e)r[s]=null,this.IsNumber(t)&&this.IsDivideNumber(e[s])&&(r[s]=t/e[s]);else for(var l in t)r[l]=null,this.IsNumber(t[l])&&this.IsDivideNumber(e)&&(r[l]=t[l]/e);return r},this.GT=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t>e?1:0;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(r[o]=t[o]>e[o]?1:0));return r}if(i)for(var s in e)r[s]=null,isNaN(t)||isNaN(e[s])||(r[s]=t>e[s]?1:0);else for(var l in t)r[l]=null,isNaN(t[l])||isNaN(e)||(r[l]=t[l]>e?1:0);return r},this.GTE=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t>=e?1:0;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(r[o]=t[o]>=e[o]?1:0));return r}if(i)for(var s in e)r[s]=null,isNaN(t)||isNaN(e[s])||(r[s]=t>=e[s]?1:0);else for(var l in t)r[l]=null,isNaN(t[l])||isNaN(e)||(r[l]=t[l]>=e?1:0);return r},this.LT=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t<e?1:0;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(r[o]=t[o]<e[o]?1:0));return r}if(i)for(var s in e)r[s]=null,isNaN(t)||isNaN(e[s])||(r[s]=t<e[s]?1:0);else for(var l in t)r[l]=null,isNaN(t[l])||isNaN(e)||(r[l]=t[l]<e?1:0);return r},this.LTE=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t>=e?1:0;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(r[o]=t[o]<=e[o]?1:0));return r}if(i)for(var s in e)r[s]=null,isNaN(t)||isNaN(e[s])||(r[s]=t<=e[s]?1:0);else for(var l in t)r[l]=null,isNaN(t[l])||isNaN(e)||(r[l]=t[l]<=e?1:0);return r},this.EQ=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t==e?1:0;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(r[o]=t[o]==e[o]?1:0));return r}if(i)for(var s in e)r[s]=null,isNaN(t)||isNaN(e[s])||(r[s]=t==e[s]?1:0);else for(var l in t)r[l]=null,isNaN(t[l])||isNaN(e)||(r[l]=t[l]==e?1:0);return r},this.NEQ=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t!=e?1:0;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(r[o]=t[o]!=e[o]?1:0));return r}if(i)for(var s in e)r[s]=null,isNaN(t)||isNaN(e[s])||(r[s]=t!=e[s]?1:0);else for(var l in t)r[l]=null,isNaN(t[l])||isNaN(e)||(r[l]=t[l]!=e?1:0);return r},this.And=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t&&e?1:0;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(r[o]=t[o]&&e[o]?1:0));return r}if(i)for(var s in e)r[s]=null,isNaN(t)||isNaN(e[s])||(r[s]=t&&e[s]?1:0);else for(var l in t)r[l]=null,isNaN(t[l])||isNaN(e)||(r[l]=t[l]&&e?1:0);return r},this.Or=function(t,e){var i="number"==typeof t,a="number"==typeof e;if(i&&a)return t||e?1:0;var r=[];if(!i&&!a){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)r[o]=null,o<t.length&&o<e.length&&(isNaN(t[o])||isNaN(e[o])||(r[o]=t[o]||e[o]?1:0));return r}if(i)for(var s in e)r[s]=null,isNaN(t)||isNaN(e[s])||(r[s]=t||e[s]?1:0);else for(var l in t)r[l]=null,isNaN(t[l])||isNaN(e)||(r[l]=t[l]||e?1:0);return r},this.IF=function(t,e,i){var a=this.IsNumber(t),r=this.IsNumber(e),n=this.IsNumber(i),o=Array.isArray(e),s=Array.isArray(i);if(a)return t?e:i;var l=[];for(var h in t)t[h]?l[h]=r?e:o?e[h]:null:l[h]=n?i:s?i[h]:null;return l},this.IFN=function(t,e,i){return this.IF(t,i,e)},this.REF=function(t,e){var i=[];if("number"==typeof e){if(t.length<=0)return i;if(e>=t.length)return i;i=t.slice(0,t.length-e);for(var a=t[0],r=0;r<e;++r)i.unshift(a)}else for(var n=0;n<t.length;++n)if(i[n]=null,!(n>=e.length)){var o=e[n];i[n]=o>=0&&o<=n?t[n-o]:n?i[n-1]:t[n]}return i},this.REFV=function(t,e){var i=[];if("number"==typeof e){if(t.length<=0)return i;if(e>=t.length)return i;i=t.slice(0,t.length-e);for(var a=0;a<e;++a)i.unshift(null)}else for(var r=0;r<t.length;++r)if(i[r]=null,!(r>=e.length)){var n=e[r];n>=0&&n<=r&&(i[r]=t[r-n])}return i},this.REFX=function(t,e){var i=[];if("number"==typeof e){if(t.length<=0)return i;if(e>=t.length)return t.length>0?t[t.length-1]:i;i=t.slice(e,t.length);for(var a=t[t.length-1],r=0;r<e;++r)i.push(a)}else for(var n=t.length,o=0;o<t.length;++o)if(i[o]=null,!(o>=e.length)){var s=e[o];i[o]=s>=0&&s+o<n?t[o+s]:o?i[o-1]:t[o]}return i},this.REFXV=function(t,e){var i=[];if("number"==typeof e){if(t.length<=0)return i;if(e>=t.length)return i;i=t.slice(e,t.length);for(var a=0;a<e;++a)i.push(null)}else for(var r=t.length,n=0;n<t.length;++n)if(i[n]=null,!(n>=e.length)){var o=e[n];o>=0&&o+n<r&&(i[n]=t[n+o])}return i},this.MAX=function(t,e){if(0==t.length&&this.ThrowUnexpectedNode(e,"MAX() Error: 参数个数不能为0"),1==t.length)return t[0];var i=[],a=[];for(var r in t){var n=t[r];Ee.IsNumber(n)?a.push(n):Array.isArray(n)&&i.push(n)}var o=null;if(a.length>0){o=a[0];for(var r=1;r<a.length;++r)o=Math.max(o,a[r])}var s=null;if(i.length>0){s=i[0].slice(0);for(var r=1;r<i.length;++r){var l=i[r];for(var h in l){var u=s[h],n=l[h];Ee.IsNumber(u)&&(Ee.IsNumber(n)?s[h]=Math.max(u,n):s[h]=null)}}}if(null==s&&null!=o)return o;if(s&&null==o)return s;for(var r in s)Ee.IsNumber(s[r])&&(s[r]=Math.max(s[r],o));return s},this.MIN=function(t,e){if(0==t.length&&this.ThrowUnexpectedNode(e,"MIN() Error: 参数个数不能为0"),1==t.length)return t[0];var i=[],a=[];for(var r in t){var n=t[r];Ee.IsNumber(n)?a.push(n):Array.isArray(n)&&i.push(n)}var o=null;if(a.length>0){o=a[0];for(var r=1;r<a.length;++r)o=Math.min(o,a[r])}var s=null;if(i.length>0){s=i[0].slice(0);for(var r=1;r<i.length;++r){var l=i[r];for(var h in l){var u=s[h],n=l[h];Ee.IsNumber(u)&&(Ee.IsNumber(n)?s[h]=Math.min(u,n):s[h]=null)}}}if(null==s&&null!=o)return o;if(s&&null==o)return s;for(var r in s)Ee.IsNumber(s[r])&&(s[r]=Math.min(s[r],o));return s},this.ABS=function(t){var e=[];for(var i in t)e[i]=null,isNaN(t[i])||(e[i]=Math.abs(t[i]));return e},this.MA=function(t,e){var i=[];if(e<=0)return i;if(Array.isArray(e)){for(var a=0;a<t.length;++a)if(i[a]=null,!(a>=e.length)){var r=e[a];if(this.IsNumber(r)&&!(r<=0)){for(var n=0,o=0,s=a,l=0;s>=0&&l<r;--s,++l)n+=t[s],++o;o>0&&(i[a]=n/o)}}}else{if(e<=0&&(e=1),!t||!t.length)return i;for(var a=0;a<t.length&&(i[a]=null,!this.IsNumber(t[a]));++a);for(var t=t.slice(0),h=0;a<t.length;++a,++h)if(h<e-1)i[a]=null;else{for(var u=t[a-(e-1)],c=0,d=e-1;d>=0;--d){var f=t[a-d];this.IsNumber(f)?u=f:(f=u,t[a-d]=f),c+=f}i[a]=c/e}}return i},this.EMA=function(t,e){var i=[];if(t.length<=0)return i;if(Array.isArray(e))for(var a=0;a<e.length;++a){var r=e[a];if(this.IsNumber(r)&&!((r=parseInt(r))<=0)){r>a+1&&(r=a+1);for(var n=[2/(r+1),(r-1)/(r+1)],o=null,s=null,l=0;l<r;++l){var h=a-(r-l-1),u=t[h];this.IsNumber(u)||coninue,null==s?(o=u,s=o):(o=n[0]*u+n[1]*s,s=o)}i[a]=o}}else{if(e<=0)return i;for(var c=0;c<t.length&&(null==t[c]||isNaN(t[c]));++c);var d=c,f=c+1;i[d]=t[d];for(var a=c+1;a<t.length;++a,++d,++f)i[f]=(2*t[f]+(e-1)*i[d])/(e+1)}return i},this.XMA=function(t,e){for(var i=[],a=0;a<t.length&&!this.IsNumber(t[a]);++a);for(var r=parseInt((e-2)/2),n=0,o=0,s=0,l=0,h=a,u=0;h<t.length;++h){for(s=h-r-1,l=h+(e-r)-1,u=s;u<l;++u)u>=0&&u<t.length&&this.IsNumber(t[u])&&(n+=t[u],++o);i[h]=0!=o?n/o:null,n=0,o=0}return i},this.SMA=function(t,e,i){var a=[];if(Array.isArray(e))for(var r=0;r<e.length;++r){var n=e[r];if(this.IsNumber(n)&&!((n=parseInt(n))<=0)){n>r+1&&(n=r+1);for(var o=null,s=null,l=0;l<n;++l){var h=r-(n-l-1),u=t[h];this.IsNumber(u)&&(null==o?(o=u,s=u):(s=(i*u+(n-i)*o)/n,o=s))}a[r]=s}}else{for(var r=0,c=null;r<t.length;++r)if(null!=t[r]&&!isNaN(t[r])){c=t[r],a[r]=c;break}for(++r;r<t.length;++r)a[r]=(i*t[r]+(e-i)*c)/e,c=a[r]}return a},this.DMA=function(t,e){var i=[];if(t.length<0||t.length!=e.length)return i;for(var a=0;a<t.length;++a)if(null!=t[a]&&!isNaN(t[a])&&null!=e[a]&&!isNaN(e[a])){i[a]=t[a];break}for(a+=1;a<t.length;++a)null==t[a]||null==e[a]?i[a]=null:e[a]<1?i[a]=e[a]*t[a]+(1-e[a])*i[a-1]:i[a]=t[a];return i},this.WMA=function(t,e){var i=[];if(!t||!t.length)return i;if(Array.isArray(e)){for(d=0;d<e.length&&d<t.length;++d){i[d]=null;var a=e[d];if(!(a<=0)){for(var r=0,n=0,o=0,s=0,l=0;l<a;++l)if(o=d-(a-l-1),n=t[o],r=l,this.IsNumber(n)){s=n;break}if(!(r>=a)){for(var h=0,u=0,l=r,c=1;l<a;++l,++c)o=d-(a-l-1),n=t[o],this.IsNumber(n)?s=n:n=s,u+=c,h+=n*c;i[d]=h/u}}}return i}if(e<=0)return[];var d=0;for(d=0;d<t.length&&!this.IsNumber(t[d]);++d)i[d]=null;for(var t=t.slice(0),f=0;d<t.length;++d,++f)if(f<e-1)i[d]=null;else{for(var s=t[d-(e-1)],h=0,u=0,l=e-1;l>=0;--l){var n=t[d-l];this.IsNumber(n)?s=n:(n=s,t[d-l]=n),u+=e-l,h+=n*(e-l)}i[d]=h/u}return i},this.MEMA=function(t,e){var i=[];if(!t||!t.length)return i;var a=0,r=0;for(r=0;r<t.length&&!this.IsNumber(t[r]);++r)i[r]=null;if(a=r,e<1||a+e>=t.length)return i;for(var n=0,t=t.slice(0);a<r+e;++a)i[a]=null,!this.IsNumber(t[a])&&a-1>=0&&(t[a]=t[a-1]),n+=t[a];for(i[a-1]=n/e;a<t.length;++a)this.IsNumber(i[a-1])&&this.IsNumber(t[a])?i[a]=(t[a]+i[a-1]*(e-1))/e:a-1>-1&&this.IsNumber(i[a-1])?i[a]=i[a-1]:i[a]=null;return i},this.EXPMA=function(t,e){var i=[];if(e>=t.length)return i;for(var a=e;a<t.length;++a)if(null!=t[a]){i[a]=t[a];break}for(a+=1;a<t.length;++a)null!=i[a-1]&&null!=t[a]?i[a]=(2*t[a]+(e-1)*i[a-1])/(e+1):null!=i[a-1]&&(i[a]=i[a-1]);return i},this.EXPMEMA=function(t,e){var i=[];if(e>=t.length)return i;for(var a=0;a<t.length&&(!t[a]||isNaN(t[a]));++a);for(var r=0,n=0;a<t.length&&n<e;++n,++a)t[a]&&!isNaN(t[a])?r+=t[a]:r+=t[a-1];for(i[a-1]=r/e;a<t.length;++a)null!=i[a-1]&&null!=t[a]?i[a]=(2*t[a]+(e-1)*i[a-1])/(e+1):null!=i[a-1]&&(i[a]=i[a-1]);return i},this.SUMBARS=function(t,e){var i=[];if(!(t&&t.length&&e&&e.length))return i;for(var a=0,r=0,n=0;a<t.length&&!this.IsNumber(t[a]);++a)i[a]=null;for(r=t.length-1;r>=a;--r){var o=0;for(n=r,o=0;n>=a&&o<e[r];--n)o+=t[n];i[r]=n<a?null:r-n}for(r=a+1;r<t.length;++r)null==i[r]&&(i[r]=i[r-1]);return i},this.REVERSE=function(t){if(this.IsNumber(t))return 0-t;for(var e=[],i=0;i<t.length&&!this.IsNumber(t[i]);++i)e[i]=null;for(;i<t.length;++i)this.IsNumber(t[i])?e[i]=0-t[i]:e[i]=null;return e},this.COUNT=function(t,e){if(Array.isArray(e)){for(var i=null,a=t.length,r=0;r<a;++r)if(this.IsNumber(t[r])){i=r;break}if(null==i)return[];for(var n=[],o=0,r=0;r<e.length;++r){var s=e[r];if(Ee.IsNumber(s)){s<1&&(s=r+1),o=0;for(var l=r,h=0;l>=0&&h<s;--l,++h)t[l]&&++o;n[r]=o}}return n}for(var s=e,a=t.length,s=s<1?a:s,r=0,l=0;r<a&&!this.IsNumber(t[r]);++r);for(var n=[],u=0;r<a&&l<s;++r,++l)u=t[r]?u+1:u,n[r]=u;for(;r<a;++r)t[r-s]&&u&&u--,u=t[r]?u+1:u,n[r]=u;return n},this.HHV=function(t,e){var i=[];if(Array.isArray(e)){for(var a=null,r=0,n=0;r<t.length;++r)if(i[r]=null,!(r>=e.length)){a=null;var o=e[r];if(o>0&&o<=r)for(n=r-o;n<=r;++n)(null==a||a<t[n])&&(a=t[n]);else for(o=r,n=0;n<=r;++n)(null==a||a<t[n])&&(a=t[n]);i[r]=a}}else{if(!Ee.IsNonEmptyArray(t))return i;e<=0?e=t.length:e>t.length&&(e=t.length);var s=this.GetFirstVaildIndex(t);if(s>=t.length)return i;var l=s;l<t.length&&(i[l]=t[l]);for(var r=l+1,n=2;r<t.length&&n<e;++r,++n)t[r]>=t[l]&&(l=r),i[r]=t[l];for(;r<t.length;++r){if(r-l<e)l=t[r]<t[l]?l:r;else for(n=l=r-e+1;n<=r;++n)l=t[n]<t[l]?l:n;i[r]=t[l]}}return i},this.HV=function(t,e){var i=this.HHV(t,e);return this.REF(i,1)},this.LLV=function(t,e){var i=[];if(Array.isArray(e)){for(var a=0;a<t.length;++a)if(i[a]=null,!(a>=e.length)){var r=null,n=e[a];if(n>0&&n<=a)for(var o=a-n;o<=a;++o)(null==r||r>t[o])&&(r=t[o]);else{n=a;for(var o=0;o<=a;++o)(null==r||r>t[o])&&(r=t[o])}i[a]=r}}else{if(!Ee.IsNonEmptyArray(t))return i;e<=0?e=t.length:e>t.length&&(e=t.length);var s=this.GetFirstVaildIndex(t);if(s>=t.length)return i;var l=s;l<t.length&&(i[l]=t[l]);for(var a=l+1,o=2;a<t.length&&o<e;++a,++o)t[a]<=t[l]&&(l=a),i[a]=t[l];for(;a<t.length;++a){if(a-l<e)l=t[a]>t[l]?l:a;else for(o=l=a-e+1;o<=a;++o)l=t[o]>t[l]?l:o;i[a]=t[l]}}return i},this.LV=function(t,e){var i=this.LLV(t,e);return this.REF(i,1)},this.STD=function(t,e){var i=[];if(!Array.isArray(t))return i;var a=this.GetFirstVaildIndex(t);if(!Ee.IsNumber(e))return i;if(a+e>t.length||e<1)return i;var r=a,n=0,o=!0,s=0,l=0;for(r+=e-1;r<t.length;++r){if(s=0,o){for(o=!1,n=r-e+1;n<=r;++n)l+=t[n];l/=e}else l+=(t[r]-t[r-e])/e;for(n=r-e+1;n<=r;++n)s+=(t[n]-l)*(t[n]-l);i[r]=Math.sqrt(s/(e-1))}return i},this.AVEDEV=function(t,e){for(var i=[],a=0,r=[],n=e-1;n<t.length;++n){a=0;for(var o=0;o<e;++o)a+=t[n-o];r[n]=a/e}for(var n=e-1;n<t.length;++n){a=0;for(var o=0;o<e;++o)a+=Math.abs(t[n-o]-r[n]);i[n]=a/e}return i},this.CROSS=function(t,e){var i=[];if(Array.isArray(t)&&Array.isArray(e)){if(t.length!=e.length)return i=[];for(var a=0;a<t.length&&(!this.IsNumber(t[a])||!this.IsNumber(e[a]));++a);for(++a;a<t.length;++a)i[a]=t[a]>e[a]&&t[a-1]<e[a-1]?1:0}else if(Array.isArray(t)&&"number"==typeof e){for(var a=0;a<t.length&&!this.IsNumber(t[a]);++a);for(++a;a<t.length;++a)i[a]=t[a]>e&&t[a-1]<e?1:0}else if("number"==typeof t&&Array.isArray(e)){for(var a=0;a<e.length&&!this.IsNumber(e[a]);++a);for(++a;a<e.length;++a)i[a]=e[a]<t&&e[a-1]>t?1:0}return i},this.CROSSDOWN=function(t,e){return this.CROSS(e,t)},this.CROSSUP=function(t,e){return this.CROSS(t,e)},this.MULAR=function(t,e){var i=[];if(Array.isArray(e))for(var a=0;a<t.length;++a){i[a]=null;var r=e[a];if(this.IsNumber(r)&&!((r=parseInt(r))<0))for(var n=a,o=0;n>=0&&o<r;--n,++o)0==o?i[a]=t[n]:i[a]*=t[n]}else{if(t.length<e)return i;if(0==e){for(var s=e;s<t.length;++s)if(this.IsNumber(t[s])){i[s]=t[s];break}for(++s;s<t.length;++s)i[s]=i[s-1]*t[s]}else for(var a=e-1,n=0;a<t.length;++a,++n)for(var o=0;o<e;++o)0==o?i[a]=t[o+n]:i[a]*=t[o+n]}return i},this.SUM=function(t,e){var i=[];if(Array.isArray(e))for(var a=0;a<t.length;++a){i[a]=null;var r=e[a];if(r>0)for(var n=a,o=0;n>=0&&o<r;--n,++o)0==o?i[a]=t[n]:i[a]+=t[n]}else if(0==e){i[0]=t[0];for(var a=1;a<t.length;++a)i[a]=i[a-1]+t[a]}else for(var a=e-1,n=0;a<t.length;++a,++n)for(var o=0;o<e;++o)0==o?i[a]=t[o+n]:i[a]+=t[o+n];return i},this.BARSCOUNT=function(t){var e=[],i=null;for(var a in t){if(e[a]=0,null==i){if(!this.IsNumber(t[a]))continue;i=0}e[a]=i,++i}return e},this.DEVSQ=function(t,e){if(this.IsNumber(t)&&this.IsNumber(e))return 0;var i=[];if(Array.isArray(t)){var a=null;if(Array.isArray(e)){for(var r=e.length-1;r>=0;--r)if(this.IsNumber(e[r])){a=parseInt(e[r]);break}}else a=parseInt(e);if(!this.IsNumber(a))return i;var n=t.length,r=0,o=0,s=0,l=0,h=0;for(r=0;r<n&&!this.IsNumber(t[r]);++r)i[r]=null;if(a<1||r+a>n)return i;for(l=0;r<n&&o<a;++r,++o)l+=t[r]/a;if(o==a){for(h=0,r--;s<a;s++)h+=(t[r-s]-l)*(t[r-s]-l);i[r]=h,r++}for(;r<n;++r){for(l+=(t[r]-t[r-a])/a,h=0,s=0;s<a;++s)h+=(t[r-s]-l)*(t[r-s]-l);i[r]=h}}return i},this.NOT=function(t){if("number"==typeof t)return t?0:1;var e=[];for(var i in t)e[i]=null,this.IsNumber(t[i])&&(e[i]=t[i]?0:1);return e},this.FORCAST=function(t,e){var i=[];"number"!=typeof e&&(e=parseInt(e));var a=e,r=t.length;if(a<1||a>=r)return i;var n,o,s,l,h,u=0,c=0,d=0,f=0;for(l=0;l<r&&!this.IsNumber(t[l]);++l)i[l]=null;for(s=l+a-1;s<r;++s){for(u=c=d=f=0,l=0,h=a;l<a&&l<=s;++l,--h)u+=h,c+=t[s-l];for(u/=a,c/=a,l=0,h=a;l<a&&l<=s;++l,--h)d+=(h-u)*(t[s-l]-c),f+=(h-u)*(h-u);o=d/f,n=c-u*o,i[s]=o*a+n}return i},this.TSMA=function(t,e){var i=[];"number"!=typeof e&&(e=parseInt(e));var a=e,r=t.length;if(a<1||a>=r)return i;var n,o,s,l,h,u=0,c=0,d=0,f=0;for(l=0;l<r&&!this.IsNumber(t[l]);++l)i[l]=null;for(s=l+a-1;s<r;++s){for(u=c=d=f=0,l=0,h=a;l<a&&l<=s;++l,--h)u+=h,c+=t[s-l];for(u/=a,c/=a,l=0,h=a;l<a&&l<=s;++l,--h)d+=(h-u)*(t[s-l]-c),f+=(h-u)*(h-u);o=d/f,n=c-u*o,i[s]=o*a+n+o}return i},this.SLOPE=function(t,e){var i=[];if("number"!=typeof e&&(e=parseInt(e)),e<1||!t.length)return i;if(e>=t.length)return i;for(var a=0,r=0;r<t.length&&(i[r]=null,!this.IsNumber(t[r]));++r,++a);for(var n=void 0,o=void 0,s=void 0,l=void 0,h=a+e-1;h<t.length;++h){i[h]=null,n=o=s=l=0;for(var u=0;u<e&&u<=h;++u)n+=h-u,o+=t[h-u];for(n/=e,o/=e,u=0;u<e&&u<=h;++u)s+=(h-u-n)*(t[h-u]-o),l+=(h-u-n)*(h-u-n);l?i[h]=s/l:h&&(i[h]=i[h-1])}return i},this.STDP=function(t,e){var i=[];if(!Array.isArray(t))return i;var a=this.GetFirstVaildIndex(t);if(!Ee.IsNumber(e))return i;if(a+e>t.length||e<1)return i;var r=a,n=0,o=!0,s=0,l=0;for(r+=e-1;r<t.length;++r){if(s=0,o){for(o=!1,n=r-e+1;n<=r;++n)l+=t[n];l/=e}else l+=(t[r]-t[r-e])/e;for(n=r-e+1;n<=r;++n)s+=(t[n]-l)*(t[n]-l);i[r]=Math.sqrt(s/e)}return i},this.VAR=function(t,e){if(this.IsNumber(t)&&this.IsNumber(e))return 0;var i=[];if(Array.isArray(t)&&this.IsNumber(e)){var a=parseInt(e),r=t.length;if(a<=0||a>=r)return i;var n,o;for(n=0;n<r&&!this.IsNumber(t[n]);++n)i[n]=null;var s,l;for(o=0,n=n+a-1;n<r;++n){for(s=l=0,o=0;o<a&&o<=n;++o)s+=t[n-o]*t[n-o],l+=t[n-o];i[n]=(a*s-l*l)/a*(a-1)}}else if(Array.isArray(t)&&Array.isArray(e))for(var h=this.GetFirstVaildIndex(t),n=h;n<t.length;++n){var s=l=0;if(this.IsNumber(e[n])){var a=parseInt(e[n]);if(!(a<=0||n-(a-1)<0)){for(var o=0;o<a;++o)s+=t[n-o]*t[n-o],l+=t[n-o];i[n]=(a*s-l*l)/a*(a-1)}}}return i},this.VARP=function(t,e){var i=[];"number"!=typeof e&&(e=parseInt(e));var a=e,r=t.length;if(a<1||a>=r)return i;var n=0,o=0;for(n=0;n<r&&!this.IsNumber(t[n]);++n)i[n]=null;for(var s=0,l=0;n<r&&o<a;++n,++o)s+=t[n]*t[n],l+=t[n];for(o==a&&(i[n-1]=(a*s-l*l)/(a*a));n<r;++n)s+=t[n]*t[n]-t[n-a]*t[n-a],l+=t[n]-t[n-a],i[n]=(a*s-l*l)/(a*a);return i},this.RANGE=function(t,e,i){var a="number"==typeof t,r="number"==typeof e,n="number"==typeof i;if(a&&r&&n)return t>Math.min(e,i)&&t<Math.max(e,i)?1:0;for(var o=[],s=void 0,l=void 0,h=0;h<t.length;++h)if(o[h]=null,s=t[h],this.IsNumber(s)){if(r)l=e;else{if(h>=e.length)continue;l=e[h]}if(this.IsNumber(l)){if(n)rangeValue2=i;else{if(h>=i.length)continue;rangeValue2=i[h]}this.IsNumber(rangeValue2)&&(o[h]=s>Math.min(l,rangeValue2)&&s<Math.max(l,rangeValue2)?1:0)}}return o},this.EXIST=function(t,e){if("number"==typeof t)return 0;if(Array.isArray(e)){var i=[];if(t.length<=0)return i;for(var a in t)i[a]=0;for(var a=0;a<e.length&&a<t.length;++a){var r=e[a];if(this.IsNumber(r)&&!((r=parseInt(r))<=0)){r>a+1&&(r=a+1);for(var n=!1,o=0,s=0;s<r;++s)if(a-(r-s-1),o=t[a],this.IsNumber(o)&&o>0){n=!0;break}i[a]=n?1:0}}return i}e=parseInt(e);for(var o,l=null,i=[],h=0;h<t.length;++h)i[h]=null,o=t[h],this.IsNumber(o)&&o>0&&(l=h),i[h]=null!=l&&h-l<e?1:0;return i},this.TFILTER=function(t,e,i){if(!this.IsNumber(i))return[];if(1==i)return this.And(t,this.EQ(this.COUNT(t,this.BARSLAST(e)),1));if(2==i)return this.And(e,this.EQ(this.COUNT(e,this.BARSLAST(t)),1));if(0==i){for(var a=this.And(e,this.EQ(this.COUNT(e,this.BARSLAST(t)),1)),r=this.And(e,this.EQ(this.COUNT(e,this.BARSLAST(t)),1)),n=0;n<a.length;++n){r[n]>0&&(a[n]=2)}return a}return[]},this.FILTER=function(t,e){for(var i=[],a=0,r=0;a<t.length;++a)if(t[a]){for(i[a]=1,r=0;r<e&&r+a+1<t.length;++r)i[r+a+1]=0;a+=e}else i[a]=0;return i},this.BARSLAST=function(t){var e=[];if(!t)return e;for(var i=null,a=0;a<t.length;++a)e[a]=null,t[a]>0?i=0:null!=i&&++i,null!=i&&(e[a]=i);return e},this.BARSSINCEN=function(t,e){var i=[];if(this.IsNumber(e)&&Array.isArray(t)){var a=e;a<1&&(a=t.length);var r=this.GetFirstVaildIndex(t);if(r>=t.length)return i;var n=0;for(n=r<=a-1?a-1:r,i[n]=n-r;n<t.length;++n)if(this.IsNumber(i[n-1])){if(i[n-1]+1<a)i[n]=i[n-1]+1;else for(var o=n-a+1;o<=n;++o)if(!(Math.abs(t[o])<1e-6)){i[n]=n-o;break}}else Math.abs(t[n])<1e-6||(i[n]=0)}return i},this.BARSSINCE=function(t){for(var e=[],i=null,a=0;a<t.length;++a)e[a]=null,null==i?t[a]&&(i=0):++i,i&&(e[a]=i);return e},this.Trigonometric=function(t,e){if(Array.isArray(t)){var i=[];for(var a in t){var r=t[a];this.IsNumber(r)?i[a]=e(r):i[a]=null}return i}return this.IsNumber(t)?e(t):null},this.ASIN=function(t){if(Array.isArray(t)){var e=[];for(var i in t){var a=t[i];if(e[i]=null,this.IsNumber(a))if(a>=-1&&a<=1)e[i]=Math.asin(a);else if(i-1>=0){var r=e[i-1];this.IsNumber(r)&&(e[i]=r)}}return e}return this.IsNumber(t)?Math.acos(t):null},this.ACOS=function(t){if(Array.isArray(t)){var e=[];for(var i in t){var a=t[i];if(e[i]=null,this.IsNumber(a))if(a>=-1&&a<=1)e[i]=Math.acos(a);else if(i-1>=0){var r=e[i-1];this.IsNumber(r)&&(e[i]=r)}}return e}return this.IsNumber(t)?Math.acos(t):null},this.LAST=function(t,e,i){if(!Array.isArray(t))return[];for(var a=[],r=t.length,n=e,o=i,s=0,l=0,h=0,u=0;s<r&&!t[s];++s);for(l=s,u=s-o+1;l<r;++l,++u){for(h=0==n?s:Math.max(s,l-n);h<u&&!(t[h]<=0);++h);a[l]=h<u?0:1}return a},this.ZIG=function(t,e){var i=this.SymbolData.Data,a=[];if("number"==typeof t)switch(t){case 0:t=i.GetOpen();break;case 1:t=i.GetHigh();break;case 2:t=i.GetLow();break;case 3:t=i.GetClose();break;default:return a}return this.ZIG_Calculate(t,e)},this.GetFirstVaildIndex=function(t){for(var e=0;e<t.length;++e)if(this.IsNumber(t[e]))return e;return t.length},this.ZIG_Calculate=function(t,e){var i=[],a=t.length,r=this.GetFirstVaildIndex(t),n=0,o=0,s=0,l=0,h=0;for(n=r+1,o=s=r;n<a-1&&s==r;++n)s=100*Math.abs(t[n]-t[r])>=e*t[r]?t[n]>t[r]?n:-n:r;for(;n<a-1;++n)if(t[n]>=t[n-1]&&t[n]>=t[n+1])if(s<0){if(100*(t[n]-t[-s])<e*t[-s])continue;for(h=(t[o]-t[l=-s])/(-s-o),i[l--]=t[-s];l>=o;l--)i[l]=t[-s]+(-s-l)*h;o=-s,s=n}else t[n]>t[s]&&(s=n);else if(t[n]<=t[n-1]&&t[n]<=t[n+1])if(s>0){if(100*(t[s]-t[n])<e*t[s])continue;for(h=(t[s]-t[l=o])/(s-o),i[l++]=t[o];l<=s;++l)i[l]=t[o]+(l-o)*h;o=s,s=-n}else t[n]<t[-s]&&(s=-n);if(Math.abs(s)>=a-2&&(s>0&&t[a-1]>=t[s]&&(s=a-1),s<0&&t[a-1]<=t[-s]&&(s=1-a)),s>0)for(h=(t[s]-t[l=o])/(s-o),i[l++]=t[o];l<=s;++l)i[l]=t[o]+(l-o)*h;else for(h=(t[o]-t[l=-s])/(-s-o),i[l--]=t[-s];l>=o;l--)i[l]=t[-s]+(-s-l)*h;if((s=Math.abs(s))<a-1)if(t[a-1]>=t[s])for(h=(t[a-1]-t[l=s])/(a-s),i[l++]=t[s];l<a;++l)i[l]=t[s]+(l-s)*h;else for(h=(t[s]-t[l=a-1])/(a-s),i[l--]=t[a-1];l>=s;l--)i[l]=t[a-1]+(a-l)*h;return i},this.JSDraw=null,this.CalculateZIGLine=function(t,e,i,a,r){null==this.JSDraw&&(this.JSDraw=new Ir(this.ErrorHandler));var n=e.Up,o=t;if(n)for(var s=t.ID+1;s<i.ID;++s){var l=a[s];this.IsNumber(l)&&(o.Value<l&&(o={ID:s,Value:l}))}else for(var s=t.ID+1;s<i.ID;++s){var l=a[s];this.IsNumber(l)&&(o.Value>l&&(o={ID:s,Value:l}))}e.Value=o.Value,e.ID=o.ID;var h={Start:{ID:t.ID,Value:t.Value},End:{ID:e.ID,Value:e.Value}},u=this.JSDraw.CalculateDrawLine(h);for(var s in u){var c=u[s];r[c.ID]=c.Value}if(i.ID==a.length-1){h={Start:{ID:e.ID,Value:e.Value},End:{ID:i.ID,Value:i.Value}},u=this.JSDraw.CalculateDrawLine(h);for(var s in u){var c=u[s];r[c.ID]=c.Value}}else t.ID=e.ID,t.Value=e.Value,e.ID=i.ID,e.Value=i.Value,e.Up=t.Value<e.Value},this.TROUGHBARS=function(t,e,i){var a=this.ZIG(t,e),r=[],n=i;if(n<1)return r;for(var o=a.length,s=[],l=0;l<n;++l)s[l]=0;var h=0,l=this.GetFirstVaildIndex(a)+1;for(n--;l<o&&a[l]>a[l-1];++l);for(;l<o&&a[l]<a[l-1];++l);for(s[0]=--l;l<o-1;++l){if(a[l]<a[l+1]){if(h){if(n)for(var u=s.slice(0),c=0;c<n;++c)s[c+1]=u[c];s[h=0]=l}}else h=1;s[n]&&(r[l]=l-s[n])}return s[n]&&(r[l]=l-s[n]),r},this.TROUGH=function(t,e,i){var a=this.ZIG(t,e),r=[],n=i;if(n<1)return r;for(var o=a.length,s=[],l=0;l<n;++l)s[l]=0;var l=1,h=0,l=this.GetFirstVaildIndex(a)+1;for(n--;l<o&&a[l]>a[l-1];++l);for(;l<o&&a[l]<a[l-1];++l);for(s[0]=--l;l<o-1;++l){if(a[l]<a[l+1]){if(h){if(n)for(var u=s.slice(0),c=0;c<n;++c)s[c+1]=u[c];s[h=0]=l}}else h=1;s[n]&&(r[l]=a[s[n]])}return s[n]&&(r[l]=a[s[n]]),r},this.PEAKBARS=function(t,e,i){var a=this.ZIG(t,e),r=[],n=a.length,o=i;if(o<1)return r;for(var s=[],l=0;l<o;++l)s[l]=0;var h=0,l=this.GetFirstVaildIndex(a)+1;for(o--;l<n&&a[l]<a[l-1];++l);for(;l<n&&a[l]>a[l-1];++l);for(s[0]=--l;l<n-1;++l){if(a[l]>a[l+1]){if(h){if(o)for(var u=s.slice(0),c=0;c<o;++c)s[c+1]=u[c];s[h=0]=l}}else h=1;s[o]&&(r[l]=l-s[o])}return s[o]&&(r[l]=l-s[o]),r},this.PEAK=function(t,e,i){var a=this.ZIG(t,e),r=[],n=a.length,o=i;if(o<1)return r;for(var s=0,l=[],h=0;h<o;++h)l[h]=0;var h=this.GetFirstVaildIndex(a)+1;for(o--;h<n&&a[h]<a[h-1];++h);for(;h<n&&a[h]>a[h-1];++h);for(l[0]=--h;h<n-1;++h){if(a[h]>a[h+1]){if(s){if(o)for(var u=l.slice(0),c=0;c<o;++c)l[c+1]=u[c];l[s=0]=h}}else s=1;l[o]&&(r[h]=a[l[o]])}return l[o]&&(r[h]=a[l[o]]),r},this.EVERY=function(t,e){var i=[];if(e<1)return i;if(Ee.IsNumber(e)){e=parseInt(e);for(var a=0;a<t.length&&(i[a]=null,!this.IsNumber(t[a]));++a);for(var r=0;a<t.length;++a)t[a]?r+=1:r=0,r==e?(i[a]=1,--r):i[a]=0}else if(Array.isArray(e))for(var a=0;a<e.length;++a){var n=e[a];if(i[a]=null,Ee.IsPlusNumber(n)){n=parseInt(n);for(var r=0,o=a,s=0;o>=0&&s<n;--o,++s)t[o]&&++r;i[a]=r==n?1:0}}return i},this.COST=function(t,e){var i=[],a=t/100;if(a<1e-6||a>1)return i;var r=this.SymbolData.Data.Data;if(!r||r.length<=0)return i;for(var n=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:e}),o=r[0].High,s=r[0].Low,l=0;l<r.length;++l){var h=r[l];s=Math.min(s,h.Low),o=Math.max(o,h.High)}(s>2e3||s<0||o>2e3||s<0)&&this.ThrowUnexpectedNode(e,"COST() 历史K线最大最小值错误, 超出(0,1000)范围");var u=parseInt(100*o+1),c=parseInt(100*s-1),d=0,f=0,p=0;o=u/100,s=c/100;var m=u-c+1;if(m<1)return i;for(var C=[],v=[],l=0;l<m;++l)C[l]=0,v[l]=0;for(var D=0,g=0,S=0,x=0,l=0;l<r.length;++l)if(!(l>=n.length)){if(n[l]>1){var b=r[l];D=b.Vol/n[l];for(var I=0;I<m;I++)C[I]*=1-D;d=parseInt(Math.min(u,Math.max(c,100*b.Low)))-c,f=parseInt(Math.min(u,Math.max(c,100*b.High)))-c,p=parseInt(Math.min(u,Math.max(c,100*b.Close)))-c;for(var I=0;I<m;++I)v[I]=0;var T=parseInt((d+f+2*p)/4);if(T==f||T==d)v[T]+=b.Vol;else{for(var y=b.Vol/(T-d),w=d;w<T;++w)v[w]+=y/(T-d)*(w-d);for(w;w<=f;++w)v[w]+=y/(T-f)*(w-f)}for(var g=0,I=d;I<=f;I++)C[I]+=v[I];for(var I=0;I<m;I++)g+=C[I];for(I=0,x=S=0;I<m;++I)if((S+=C[I])>=g*a){x=(o-s)*I/m+s;break}}i[l]=x}return i},this.WINNER=function(t,e){var i=[],a=this.SymbolData.Data.Data;if(!a||a.length<=0)return i;for(var r=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:e}),n=a[0].High,o=a[0].Low,s=0;s<a.length;++s){var l=a[s];o=Math.min(o,l.Low),n=Math.max(n,l.High)}(o>5e3||o<0||n>5e3||o<0)&&this.ThrowUnexpectedNode(e,"WINNER() 历史K线最大最小值错误, 超出(0,5000)范围");var h=parseInt(100*n+1),u=parseInt(100*o-1),c=0,d=0,f=0;n=h/100,o=u/100;var p=h-u+1;if(p<1)return i;for(var m=[],C=[],s=0;s<p;++s)m[s]=0,C[s]=0;for(var v=0,D=0,g=0,s=0;s<a.length;++s)if(!(s>=r.length)&&r[s]>1){var S=a[s];v=S.Vol/r[s];for(var x=0;x<p;x++)m[x]*=1-v;c=parseInt(Math.min(h,Math.max(u,100*S.Low)))-u,d=parseInt(Math.min(h,Math.max(u,100*S.High)))-u,f=parseInt(Math.min(h,Math.max(u,100*S.Close)))-u;for(var x=0;x<p;++x)C[x]=0;var b=parseInt((c+d+2*f)/4);if(b==d||b==c)C[b]+=S.Vol;else{for(var I=S.Vol/(b-c),T=c;T<b;++T)C[T]+=I/(b-c)*(T-c);for(T;T<=d;++T)C[T]+=I/(b-d)*(T-d)}for(var D=0,x=c;x<=d;x++)m[x]+=C[x];for(var x=0;x<p;x++)D+=m[x];d=Array.isArray(t)?parseInt(Math.min(100*t[s]-u,p-1)):parseInt(Math.min(100*t-u,p-1));for(var x=0,g=0;x<=d;x++)g+=m[x];D>0?i[s]=g/D:s-1>=0&&(i[s]=i[s-1])}return i},this.COSTEX=function(t,e,i){var a=[],r=this.SymbolData.Data.Data;if(!r||r.length<=0)return a;for(var n=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:i}),o=r[0].High,s=r[0].Low,l=0;l<r.length;++l){var h=r[l];s=Math.min(s,h.Low),o=Math.max(o,h.High)}(s>5e3||s<0||o>5e3||s<0)&&this.ThrowUnexpectedNode(i,"COSTEX() 历史K线最大最小值错误, 超出(0,5000)范围");var u=parseInt(100*o+1),c=parseInt(100*s-1),d=0,f=0,p=0;o=u/100,s=c/100;var m=u-c+1;if(m<1)return a;for(var C=[],v=[],l=0;l<m;++l)C[l]=0,v[l]=0;for(var D=0,g=0,S=0,x=0,b=0,I=0,T=0,l=0,y=0;l<r.length;++l)if(!(l>=n.length)&&n[l]>1){var w=r[l];D=w.Vol/n[l];for(var y=0;y<m;y++)C[y]*=1-D;d=parseInt(Math.min(u,Math.max(c,100*w.Low)))-c,f=parseInt(Math.min(u,Math.max(c,100*w.High)))-c,p=parseInt(Math.min(u,Math.max(c,100*w.Close)))-c;for(var y=0;y<m;++y)v[y]=0;var E=parseInt((d+f+2*p)/4);if(E==f||E==d)v[E]+=w.Vol;else{for(var F=w.Vol/(E-d),L=d;L<E;++L)v[L]+=F/(E-d)*(L-d);for(L;L<=f;++L)v[L]+=F/(E-f)*(L-f)}g=0;for(var y=d;y<=f;y++)C[y]+=v[y];for(var y=0;y<m;y++)g+=C[y];for(f=Array.isArray(t)?parseInt(Math.min(100*t[l]-c,m-1)):parseInt(Math.min(100*t-c,m-1)),y=0,x=0,b=0;y<=f;y++)x+=C[y],b+=.01*(y+c)*C[y];for(f=Array.isArray(e)?parseInt(Math.min(100*e[l]-c,m-1)):parseInt(Math.min(100*e-c,m-1)),y=0,I=0,T=0;y<=f;y++)I+=C[y],T+=.01*(y+c)*C[y];S=x-I,dPerVolRange=b-T,Math.abs(dPerVolRange)>.001&&0!=S?a[l]=dPerVolRange/S:l-1>=0&&(a[l]=a[l-1])}return a},this.PPART=function(t,e){var i=[],a=t;if(a<0)return i;var r=this.SymbolData.Data.Data;if(!r||r.length<=0)return i;for(var n=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:e}),o=a,s=0;o<r.length;++o){var l=o-a;if(!(l<0)){var h=0;for(s=0;s<a;++s){h+=r[s+l].Vol}if(o<n.length&&n[o]>0){var u=1-h/n[o];i[o]=u}}}return i},this.LWINNER=function(t,e,i){var a=t;a<=0&&this.ThrowUnexpectedNode(i,"LWINNER() 第1个参数错误");var r=[],n=this.SymbolData.Data.Data;if(!n||n.length<=0)return r;for(var o=this.SymbolData.GetStockCacheData({FunctionName:"FINANCE",Args:[7],ArgCount:1,Node:i}),s=0,l=0,h=a-1,u=0,c=0;h<n.length;++h){for(var d=h-a+1,f=n[d].High,p=n[d].Low,u=0;u<a;++u){var m=n[d+u];p=Math.min(p,m.Low),f=Math.max(f,m.High)}(p>5e3||p<0||f>5e3||p<0)&&this.ThrowUnexpectedNode(i,"LWINNER() 历史K线最大最小值错误, 超出(0,5000)范围");var C=parseInt(100*f+1),v=parseInt(100*p-1),D=0,g=0,S=0;f=C/100,p=v/100;var x=C-v+1;if(x<1)return r;for(var b=[],I=[],u=0;u<x;++u)b[u]=0,I[u]=0;for(u=0;u<a;++u){var T=o[d+u];if(!(T<1)){var y=n[d+u],w=y.Vol/T;for(c=0;c<x;c++)b[c]*=1-w;D=parseInt(Math.min(C,Math.max(v,100*y.Low)))-v,g=parseInt(Math.min(C,Math.max(v,100*y.High)))-v,S=parseInt(Math.min(C,Math.max(v,100*y.Close)))-v;for(var c=0;c<x;++c)I[c]=0;var E=parseInt((D+g+2*S)/4);if(E==g||E==D)I[E]+=y.Vol;else{for(var F=y.Vol/(E-D),L=D;L<E;++L)I[L]+=F/(E-D)*(L-D);for(var M;M<=g;++M)I[M]+=F/(E-g)*(M-g)}s=0;for(var c=D;c<=g;c++)b[c]+=I[c]}}for(var u=0;u<x;u++)s+=b[u];for(g=Array.isArray(e)?parseInt(Math.min(100*e[h]-v,x-1)):parseInt(Math.min(100*e-v,x-1)),l=0,c=0;c<=g;c++)l+=b[c];s>0&&l>0&&l<=s?r[h]=l/s:h-1>=0&&(r[h]=r[h-1])}return r},this.PWINNER=function(t,e,i){return[]},this.CalculateChip=function(t,e,i,a){for(var r={Min:null,Max:null,Data:[]},n=1,o=null,s=null,l=t;l>=0;--l){var h={},u=i[l];h.Vol=l==t?u.Vol*e[l]:u.Vol*n,h.Date=u.Date,h.High=u.High,h.Low=u.Low,null==o?o=h.High:o<h.High&&(o=h.High),null==s?s=h.Low:s<h.Low&&(s=h.Low),r.Data[l]=h,n*=1-e[l]/100*a}return r.Max=o,r.Min=s,r},this.UPNDAY=function(t,e){var i=[];if(e<1)return i;if(null==t||e>t.length)return i;for(var a=0,r=0;r<t.length;++r)i[r]=0,r-1<0||(this.IsNumber(t[r])&&this.IsNumber(t[r-1])?(t[r]>t[r-1]?++a:a=0,a==e&&(i[r]=1,--a)):a=0);return i},this.DOWNNDAY=function(t,e){var i=[];if(e<1)return i;if(null==t||e>t.length)return i;for(var a=0,r=0;r<t.length;++r)i[r]=0,r-1<0||(this.IsNumber(t[r])&&this.IsNumber(t[r-1])?(t[r]<t[r-1]?++a:a=0,a==e&&(i[r]=1,--a)):a=0);return i},this.NDAY=function(t,e,i){var a=[];if(i<1)return a;if(!Array.isArray(t)&&!Array.isArray(e))return a;if(null==t||null==e)return a;if(Array.isArray(t)&&Array.isArray(e)){if(i>=t.length||i>=e.length)return a;for(var r=Math.max(t.length,e.length),n=0,o=0;o<r;++o)a[o]=0,o>=t.length||o>=e.length||(this.IsNumber(t[o])&&this.IsNumber(e[o])?(t[o]>e[o]?++n:n=0,n==i&&(a[o]=1,--n)):n=0)}else if(Array.isArray(t)&&!Array.isArray(e)){if(i>=t.length||!this.IsNumber(e))return;var n=0;for(var s in t)a[s]=0,this.IsNumber(t[s])?(t[s]>e?++n:n=0,n==i&&(a[s]=1,--n)):n=0}else if(!Array.isArray(t)&&Array.isArray(e)){if(i>=e.length||!this.IsNumber(t))return;var n=0;for(var l in e)a[l]=0,this.IsNumber(e[l])?(t>e[l]?++n:n=0,n==i&&(a[l]=1,--n)):n=0}return a},this.LONGCROSS=function(t,e,i){for(var a=[],r=Math.max(t.length,e.length),n=0;n<r;++n)a[n]=0,n-1<0||n>=t.length||n>=e.length||this.IsNumber(t[n])&&this.IsNumber(e[n])&&this.IsNumber(t[n-1])&&this.IsNumber(e[n-1])&&t[n]>e[n]&&t[n-1]<e[n-1]&&(a[n]=1);for(var o=0,s=0;o<r;++o)if(a[o])for(s=1;s<=i&&o-s>=0;++s)if(t[o-s]>=e[o-s]){a[o]=0;break}return a},this.ISVALID=function(t){if(Array.isArray(t)){for(var e=[],i=0;i<t.length;++i){var a=t[i];e[i]=a?1:0}return e}return t?1:0},this.EXISTR=function(t,e,i){var a=[];if(!Array.isArray(t))return a;if(e=parseInt(e),i=parseInt(i),e<=0&&(e=t.length),i<=0&&(i=1),i>e)return a;for(var r,a=[],n=0,o=0;n<t.length;++n)if(a[n]=null,!(n-e<0||n-i<0))for(a[n]=0,o=e;o>=i;--o){var r=t[n-o];if(this.IsNumber(r)&&r){a[n]=1;break}}return a},this.RELATE=function(t,e,i){var a=[];if(i<1&&(i=1),!Array.isArray(t)||!Array.isArray(e))return a;for(var r=this.CalculateAverage(t,i),n=this.CalculateAverage(e,i),o=Math.max(t.length,e.length),s=0,l=0;s<o;++s)if(a[s]=null,!(s>=t.length||s>=e.length||s>=r.length||s>=n.length)){var h=r[s],u=n[s],c=0,d=0,f=0;for(l=s-i+1;l<=s;++l)c+=(t[l]-h)*(e[l]-u),d+=Math.pow(t[l]-h,2),f+=Math.pow(e[l]-u,2);a[s]=c/i/(Math.sqrt(d/i)*Math.sqrt(f/i))}return a},this.CalculateAverage=function(t,e){var i=[];if(e<1)return i;for(var a=0,r=0;r<t.length&&!this.IsNumber(t[r]);++r);for(;r<t.length&&r<e;++r){i[r]=null;var n=t[r];this.IsNumber(n)&&(a+=n)}for(i[r-1]=a/e;r<t.length;++r){var n=t[r],o=t[r-e];this.IsNumber(n)||(n=0),this.IsNumber(o)||(o=0),a=a-o+n,i[r]=a/e}return i},this.COVAR=function(t,e,i){if(this.IsNumber(t)||this.IsNumber(e))return 0;var a=[];if(i<1&&(i=1),!Array.isArray(t)||!Array.isArray(e))return a;for(var r=this.CalculateAverage(t,i),n=this.CalculateAverage(e,i),o=Math.max(t.length,e.length),o=Math.max(t.length,e.length),s=0,l=0;s<o;++s)if(a[s]=null,!(s>=t.length||s>=e.length||s>=r.length||s>=n.length)){var h=r[s],u=n[s],c=0;for(l=s-i+1;l<=s;++l)c+=(t[l]-h)*(e[l]-u);a[s]=c/i}return a},this.HHVBARS=function(t,e){var i=[];if(!Array.isArray(t))return i;if(Array.isArray(e))for(var a=0;a<e.length;++a){i[a]=null;var r=e[a];if(this.IsNumber(r)){var n=a-r;n<0&&(n=0);for(var o=null,s=n;s<t.length;++s)if(this.IsNumber(t[s])){o=s;break}for(var l=0;s<t.length&&l<r;++l,++s)t[s]>=t[o]&&(o=s);null!=o&&(i[a]=a-o)}}else{e<1&&(e=t.length);for(var o=null,a=0;a<t.length;++a)if(i[a]=null,this.IsNumber(t[a])){o=a;break}var s=0;for(a=o+1;a<t.length&&s<e;++a,++s)t[a]>=t[o]&&(o=a),e==t.length&&(i[a]=a-o);for(;a<t.length;++a){if(a-o<e)t[a]>=t[o]&&(o=a);else for(o=a-e+1,s=o;s<=a;++s)t[s]>=t[o]&&(o=s);i[a]=a-o}}return i},this.LLVBARS=function(t,e){var i=[];if(!Array.isArray(t))return i;if(Array.isArray(e))for(var a=0;a<e.length;++a){i[a]=null;var r=e[a];if(this.IsNumber(r)){var n=a-r;n<0&&(n=0);for(var o=null,s=n;s<t.length;++s)if(this.IsNumber(t[s])){o=s;break}for(var l=0;s<t.length&&l<r;++l,++s)t[s]<=t[o]&&(o=s);null!=o&&(i[a]=a-o)}}else{e<1&&(e=t.length);for(var o=null,a=0;a<t.length;++a)if(i[a]=null,this.IsNumber(t[a])){o=a;break}var s=0;for(a=o+1;a<t.length&&s<e;++a,++s)t[a]<=t[o]&&(o=a),e==t.length&&(i[a]=a-o);for(;a<t.length;++a){if(a-o<e)t[a]<=t[o]&&(o=a);else for(o=a-e+1,s=o;s<=a;++s)t[s]<=t[o]&&(o=s);i[a]=a-o}}return i},this.BETA=function(t){var e=[],i=this.SymbolData.Data,a=this.SymbolData.IndexData;t<=0&&(t=1);for(var r=[],n=[],o=0;o<i.Data.length;++o){r[o]=0,n[o]=0;var s=i.Data[o],l=a.Data[o];s.Close>0&&s.YClose>0&&(r[o]=(s.Close-s.YClose)/s.YClose),l.Close>0&&l.YClose>0&&(n[o]=(l.Close-l.YClose)/l.YClose)}for(var h=this.CalculateAverage(r,t),u=this.CalculateAverage(n,t),c=0,d=0;c<i.Data.length;++c)if(e[c]=null,!(c>=r.length||c>=n.length||c>=h.length||c>=u.length)){var f=h[c],p=u[c],m=0,C=0;for(d=c-t+1;d<=c;++d){var v=n[d]-p,D=r[d]-f;m+=v*D,C+=v*v}this.IsDivideNumber(C)&&this.IsNumber(m)&&(e[c]=m/C)}return e},this.BETA2=function(t,e,i){var a=[];i<=0&&(i=1);for(var r=[null],n=[null],o=Math.max(t.length,e.length),s={X:t[0],Y:e[0]},l=1;l<o;++l){r[l]=0,n[l]=0;var h=t[l],u=e[l];s.X>0&&(r[l]=(h-s.X)/s.X),s.Y>0&&(n[l]=(u-s.Y)/s.Y),s={X:h,Y:u}}for(var c=this.CalculateAverage(r,i),d=this.CalculateAverage(n,i),l=0,f=0;l<o;++l)if(a[l]=null,!(l>=r.length||l>=n.length||l>=c.length||l>=d.length)){var p=c[l],m=d[l],C=0,v=0;for(f=l-i+1;f<=l;++f){var D=r[f]-p,g=n[f]-m;C+=D*g,v+=D*D}this.IsDivideNumber(v)&&this.IsNumber(C)&&(a[l]=C/v)}return a},this.SAR=function(t,e,i){var a=[],r=this.SymbolData.Data;if(t>=r.Data.length)return a;for(var n=null,o=null,s=0;s<t;++s){var l=r.Data[s];null==n?n=l.High:n<l.High&&(n=l.High),null==o?o=l.Low:o>l.Low&&(o=l.Low)}var h=0;a[t-1]=o;for(var u=o,c=r.Data[0].High,d=e/100,s=t;s<r.Data.length;++s){var f=c,l=r.Data[s],p=r.Data[s-1];0==h?l.Low<a[s-1]?(h=1,c=l.Low,d=e/100,u=Math.max(l.High,p.High),u=Math.max(u,f+d*(c-f))):(h=0,l.High>f&&(c=l.High,d=Math.min(d+e/100,i/100)),u=Math.min(l.Low,p.Low),u=Math.min(u,a[s-1]+d*(c-a[s-1]))):1==h&&(l.High>a[s-1]?(h=0,c=l.High,d=e/100,u=Math.min(l.Low,p.Low),u=Math.min(u,a[s-1]+d*(c-f))):(h=1,l.Low<f&&(c=l.Low,d=Math.min(d+e/100,i/100)),u=Math.max(l.High,p.High),u=Math.max(u,a[s-1]+d*(c-a[s-1])))),a[s]=u}return a},this.SARTURN=function(t,e,i){var a=[],r=this.SAR(t,e,i),n=this.SymbolData.Data,o=0;for(o=0;o<r.length&&!this.IsNumber(r[o]);++o);var s=0;o<n.Data.length&&(s=n.Data[o].Close>r[o]);for(var l=o+1;l<n.Data.length;++l){var h=n.Data[l];h.Close<r[l]&&s?a[l]=-1:a[l]=h.Close>r[l]&&!s?1:0,s=h.Close>r[l]}return a},this.BACKSET=function(t,e){var i=[];if(!t)return i;var a=t.length;if(!this.IsNumber(a)||a<=0)return i;if(Array.isArray(e)){for(var r=0;r<a;++r)i[r]=0;for(var r=0;r<a;++r){var n=t[r],o=e[r];if(this.IsNumber(n)&&n&&this.IsNumber(o))for(var s=r,l=0;s>=0&&l<o;--s,++l)i[s]=1}}else{for(var r=0;r<a;++r)i[r]=0;for(var h=0;h<a&&!this.IsNumber(t[h]);++h);if(h==a)return i;for(var u=Math.min(a-h,Math.max(e,1)),r=a-1,s=0;r>=0;--r){var n=t[r];if(this.IsNumber(n)&&n)for(s=r;s>r-u;--s)i[s]=1}if(t[r])for(s=r;s>=h;--s)i[s]=1}return i},this.BETWEEN=function(t,e,i){var a=[],r="number"==typeof t,n="number"==typeof e,o="number"==typeof i;if(r&&n&&o)return t>=e&&t<=i?1:0;for(var s in t){a[s]=0;var l=t[s],h=null,u=null;n?h=e:s<e.length-1&&(h=e[s]),o?u=i:s<i.length-1&&(u=i[s]),null!=h&&null!=u&&(h>u?l>=u&&l<=h&&(a[s]=1):l<=u&&l>=h&&(a[s]=1))}return a},this.STRCAT=function(t,e){var i=[];return Ee.IsString(t)&&Ee.IsString(e)&&(i=t+e),i},this.VARCAT=function(t,e){var i=[];if(Array.isArray(t)&&Array.isArray(e))for(var a=Math.max(t.length,e.length),r="",n=0;n<a;++n){if(i[n]=null,r="",n<t.length){var o=t[n];Ee.IsString(o)&&(r+=o)}if(n<e.length){var o=e[n];Ee.IsString(o)&&(r+=o)}""!=r&&(i[n]=r)}else if(Ee.IsString(t)&&Array.isArray(e))for(var n=0;n<e.length;++n){i[n]=null;var o=e[n];Ee.IsString(o)&&(i[n]=t+o)}else if(Array.isArray(t)&&Ee.IsString(e))for(var n=0;n<t.length;++n){i[n]=null;var o=t[n];Ee.IsString(o)&&(i[n]=o+e)}else Ee.IsString(t)&&Ee.IsString(e)&&(i=t+e);return i},this.FINDSTR=function(t,e){var i,a,r=[];if(i=Ee.IsNumber(t)?t.toString():t,a=Ee.IsNumber(e)?e.toString():e,Ee.IsString(i)&&Ee.IsString(a))return i.indexOf(a)>=0?1:0;if(Array.isArray(t)&&Ee.IsString(a))for(var n=0;n<t.length;++n){var o=t[n];Ee.IsString(o)?r[n]=o.indexOf(a)>=0?1:0:Ee.IsNumber(o)?(i=o.toString(),r[n]=i.indexOf(a)>=0?1:0):r[n]=0}return r},this.STRLEN=function(t){if(Ee.IsString(t))return t.length;if(Array.isArray(t)){for(var e=[],i=0;i<t.length;++i){var a=t[i];Ee.IsString(a)?e[i]=a.length:e[i]=null}return e}return null},this.STRCMP=function(t,e){return Ee.IsString(t)&&Ee.IsString(e)?t==e?1:0:null},this.STRSPACE=function(t){var e=[];if(Array.isArray(t))for(var i=0;i<t.length;++i){e[i]=null;var a=t[i];Ee.IsString(a)&&(e[i]=a+" ")}else Ee.IsString(t)&&(e=t+" ");return e},this.CON2STR=function(t,e){var i=[];if(Array.isArray(t))for(var a=t.length-1;a>=0;--a){var r=t[a];if(this.IsNumber(r))return i=r.toFixed(e)}else this.IsNumber(t)&&(i=t.toFixed(e));return i},this.VAR2STR=function(t,e){var i=[];if(Array.isArray(t))for(var a=0;a<t.length;++a){i[a]=null;var r=t[a];this.IsNumber(r)&&(i[a]=r.toFixed(e))}else this.IsNumber(t)&&(i=t.toFixed(e));return i},this.MOD=function(t,e){var i=[],a="number"==typeof t,r="number"==typeof e;if(a&&r)return br.MOD(t,e);if(!a&&!r){for(var n=Math.max(t.length,e.length),o=0;o<n;++o)i[o]=null,o<t.length&&o<e.length&&this.IsNumber(t[o])&&this.IsNumber(e[o])&&(i[o]=br.MOD(t[o],e[o]));return i}if(a&&!r){for(var s in e)i[s]=null,this.IsNumber(t)&&this.IsNumber(e[s])&&(i[s]=br.MOD(t,e[s]));return i}if(!a&&r){for(var s in t)i[s]=null,this.IsNumber(t[s])&&this.IsNumber(e)&&(i[s]=br.MOD(t[s],e));return i}return i},this.POW=function(t,e){var i=[];if(Array.isArray(t)&&Array.isArray(e))for(var a=0;a<t.length;++a){var r=t[a],n=e[a];this.IsNumber(r)&&this.IsNumber(n)?i[a]=Math.pow(r,n):i[a]=null}else if(Ee.IsNumber(t)&&Array.isArray(e))for(var a=0;a<e.length;++a){var o=e[a];this.IsNumber(o)?i[a]=Math.pow(t,o):i[a]=null}else{if(Ee.IsNumber(t)&&Ee.IsNumber(e))return Math.pow(t,e);if(Array.isArray(t)&&Ee.IsNumber(e))for(var a=0;a<t.length;++a){var o=t[a];this.IsNumber(o)?i[a]=Math.pow(o,e):i[a]=null}}return i},this.CEILING=function(t){if("number"==typeof t)return parseInt(t);var e=[];for(var i in t){var a=t[i];this.IsNumber(a)?e[i]=parseInt(a):e[i]=null}return e},this.FLOOR=function(t){if("number"==typeof t)return parseInt(t-1);var e=[];for(var i in t){var a=t[i];this.IsNumber(a)?e[i]=parseInt(a-1):e[i]=null}return e},this.ZTPRICE=function(t,e){if(!this.IsNumber(e))return null;if(Array.isArray(t)){var i=[];for(var a in t){var r=t[a];this.IsNumber(r)?i[a]=(1+e)*r:i[a]=null}return i}if(this.IsNumber(t)){var i=(1+e)*t;return i}},this.DTPRICE=function(t,e){if(!this.IsNumber(e))return null;if(Array.isArray(t)){var i=[];for(var a in t){var r=t[a];this.IsNumber(r)?i[a]=(1-e)*r:i[a]=null}return i}if(this.IsNumber(t)){var i=(1-e)*t;return i}},this.FRACPART=function(t){if(Array.isArray(t)){var e=[],i=0;for(var a in t){var r=t[a];this.IsNumber(r)?(i=parseInt(r),e[a]=r-i):e[a]=null}return e}if(this.IsNumber(t)){i=parseInt(t);var e=t-i;return e}},this.SIGN=function(t){if(Array.isArray(t)){for(var e=[],i=0;i<t.length;++i){var a=t[i];e[i]=null,Ee.IsNumber(a)&&(e[i]=a>0?1:0==a?0:-1)}return e}return t>0?1:0==t?0:-1},this.BARSLASTCOUNT=function(t){var e=null;if(Array.isArray(t)){if(e=[],t.length>0)for(var i=0,a=t.length-1;a>=0;--a){i=0;for(var r=a;r>=0&&t[r];--r)++i;e[a]=i}}else e=t?1:0;return e},this.INTPART=function(t){var e=null;if(Array.isArray(t)){e=[];for(var i in t){var a=t[i];this.IsNumber(a)?e[i]=parseInt(a):e[i]=null}}else this.IsNumber(t)&&(e=parseInt(t));return e},this.CONST=function(t){if(Array.isArray(t)){var e=t.length;return e>0?t[e-1]:null}return t},this.TOPRANGE=function(t){if(this.IsNumber(t))return 0;var e=[];if(Array.isArray(t))for(var i=t.length,a=i-1;a>=0;--a){e[a]=0;var r=t[a];if(this.IsNumber(r)){for(var n=0,o=a-1;o>=0&&!(t[o]>r);--o)++n;e[a]=n}}return e},this.LOWRANGE=function(t){if(this.IsNumber(t))return 0;var e=[];if(Array.isArray(t))for(var i=t.length,a=i-1;a>=0;--a){e[a]=0;var r=t[a];if(this.IsNumber(r)){for(var n=0,o=a-1;o>=0&&!(t[o]<r);--o)++n;e[a]=n}}return e},this.FINDLOW=function(t,e,i,a){if(this.IsNumber(t))return t;var r=[];if(Array.isArray(t))for(var n=t.length,o=n-1;o>=0;--o){r[o]=null;for(var s=[],l=e;l<i;++l){var h=o-l;if(h<0)break;var u=t[h];this.IsNumber(u)&&s.push(u)}if(s.length>0){s.sort(function(t,e){return t-e});var h=a-1;h<0?h=0:h>=s.length&&(h=s.length-1),r[o]=s[h]}}return r},this.FINDHIGH=function(t,e,i,a){if(this.IsNumber(t))return t;var r=[];if(Array.isArray(t))for(var n=t.length,o=n-1;o>=0;--o){r[o]=null;for(var s=[],l=e;l<i;++l){var h=o-l;if(h<0)break;var u=t[h];this.IsNumber(u)&&s.push(u)}if(s.length>0){s.sort(function(t,e){return e-t});var h=a-1;h<0?h=0:h>=s.length&&(h=s.length-1),r[o]=s[h]}}return r},this.FINDHIGHBARS=function(t,e,i,a){if(this.IsNumber(t))return i-e-a;var r=[];if(Array.isArray(t))for(var n=t.length,o=n-1;o>=0;--o){r[o]=null;for(var s=[],l=e;l<i;++l){var h=o-l;if(h<0)break;var u=t[h];this.IsNumber(u)&&s.push({Value:u,Period:l})}if(s.length>0){s.sort(function(t,e){return e.Value-t.Value});var h=a-1;h<0?h=0:h>=s.length&&(h=s.length-1),r[o]=s[h].Period}}return r},this.FINDLOWBARS=function(t,e,i,a){if(this.IsNumber(t))return i-e-a;var r=[];if(Array.isArray(t))for(var n=t.length,o=n-1;o>=0;--o){r[o]=null;for(var s=[],l=e;l<i;++l){var h=o-l;if(h<0)break;var u=t[h];this.IsNumber(u)&&s.push({Value:u,Period:l})}if(s.length>0){s.sort(function(t,e){return t.Value-e.Value});var h=a-1;h<0?h=0:h>=s.length&&(h=s.length-1),r[o]=s[h].Period}}return r},this.HOD=function(t,e){var i=[];if(Ee.IsNumber(t))return 1;if(Array.isArray(t))for(var a=t.length,r=a-1;r>=0;--r){var n=t[r];if(Ee.IsNumber(n)){if(Array.isArray(e))var o=parseInt(e[r]);else var o=parseInt(e);e<=0&&(o=r);for(var s=1,l=r-1,h=1;l>=0&&h<o;--l,++h){var u=t[l];Ee.IsNumber(u)&&u>n&&++s}i[r]=s}}return i},this.LOD=function(t,e){var i=[];if(Ee.IsNumber(t))return 1;if(Array.isArray(t))for(var a=t.length,r=a-1;r>=0;--r){var n=t[r];if(Ee.IsNumber(n)){if(Array.isArray(e))var o=parseInt(e[r]);else var o=parseInt(e);e<=0&&(o=r);for(var s=1,l=r-1,h=1;l>=0&&h<o;--l,++h){var u=t[l];Ee.IsNumber(u)&&u<n&&++s}i[r]=s}}return i},this.BARSNEXT=function(t){if(!Array.isArray(t))return 0;for(var e=[],i=0;i<t.length;++i){e[i]=0;for(var a=i,r=0;a<t.length;++a,++r){if(t[a]>0){e[i]=r;break}}}return e},this.RAND=function(t){if(Array.isArray(t)){var e=[];for(var i in t){e[i]=null;var a=t[i],r=parseInt(a);r<=0||(e[i]=Math.ceil(Math.random()*r))}return e}var r=parseInt(t);if(r<=0)return null;for(var n=this.SymbolData.Data,o=n.Data.length,e=[],i=0;i<o;++i)e[i]=Math.ceil(Math.random()*r);return e},this.AMA=function(t,e){var i,a=[];if(Array.isArray(e)){for(var r=t.length-1;r>=0;--r)if(this.IsNumber(e[r])){i=e[r];break}}else i=e;if(this.IsNumber(i)){if(i>1)return a;var n=0,o=0;for(n;n<t.length;++n)if(a[n]=null,this.IsNumber(t[n])){o=t[n],a[n]=o;break}for(var r=n+1;r<t.length;++r){var s=t[r];a[r]=a[r-1]+i*(s-a[r-1])}}return a},this.TMA=function(t,e,i){var a=[];if(this.IsNumber(e)&&e<=1&&this.IsNumber(i)&&i<1){var r=!1;for(var n in t)if(a[n]=null,0==r){var o=t[n];this.IsNumber(o)&&(a[n]=o,a[n],r=!0)}else{var o=t[n];if(!this.IsNumber(o))continue;a[n]=e*a[n-1]+i*o,a[n]}}return a},this.ROUND=function(t){if(this.IsNumber(t))return Math.round(t);var e=[];if(Array.isArray(t))for(var i in t){var a=t[i];this.IsNumber(a)?e[i]=Math.round(a):e[i]=null}return e},this.ROUND2=function(t,e){var i=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12],a=0;if(this.IsNumber(e)&&(a=parseInt(e)),e<0?a=0:e>=i.length&&(a=i.length-1),this.IsNumber(t))return Math.round(t*i[a])/i[a];var r=[];if(Array.isArray(t))for(var n in t){var o=t[n];this.IsNumber(o)?r[n]=Math.round(o*i[a])/i[a]:r[n]=null}return r},this.TRMA=function(t,e){if(!this.IsNumber(e)||e<=0)return[];e=parseInt(e);var i=0,a=0;e%2==0?(i=parseInt(e/2),a=i+1):(i=parseInt((e+1)/2),a=i);var r=this.MA(t,i);return this.MA(r,a)},this.VALUEWHEN=function(t,e){if(Array.isArray(t)){var i=[];if(Array.isArray(e)){var a=null;for(var r in t)if(r>=e.length)i[r]=a;else{var n=e[r];t[r]?(i[r]=n,a=n):i[r]=a}}else{var a=null;for(var r in t)t[r]?(i[r]=e,a=e):i[r]=a}return i}return t?1:0},this.HARMEAN=function(t,e){var i=[];if(Array.isArray(t))if(Array.isArray(e))for(var a=0;a<t.length;++a)if(a>=e.length)i[a]=null;else{var r=parseInt(e[a]);if(r<=0||r>a)i[a]=null;else{for(var n=0,o=0;o<r;++o){var s=t[a-o];if(!this.IsNumber(s)||0==s){n=null;break}n+=1/s}i[a]=null==n?null:1/(n/r)}}else if(this.IsNumber(e)){if((e=parseInt(e))<=0)return i;for(var a=0;a<t.length;++a)if(e>a)i[a]=null;else{for(var n=0,o=0;o<e;++o){var s=t[a-o];if(!this.IsNumber(s)||0==s){n=null;break}n+=1/s}i[a]=null==n?null:1/(n/e)}}return i},this.DATETODAY=function(t){var e=[],i=new Date("1990-12-19");if(Array.isArray(t))for(var a in t){e[a]=null;var r=t[a];if(this.IsNumber(r)){var n=r+19e6;if(!(n<19901219)){var o=parseInt(n/1e4),s=parseInt(n%1e4/100),l=parseInt(n%100),h=new Date(o+"-"+s+"-"+l);e[a]=Math.round((h-i)/864e5)}}}else if(this.IsNumber(t)){var n=t+19e6;if(n>=19901219){var o=parseInt(n/1e4),s=parseInt(n%1e4/100),l=parseInt(n%100),h=new Date(o+"-"+s+"-"+l);return Math.round((h-h)/864e5)}}return e},this.DAYTODATE=function(t){var e=new Date("1990-12-19"),i=[];if(Array.isArray(t))for(var a in t){i[a]=null;var r=t[a];if(this.IsNumber(r)){e.setDate(e.getDate()+r);var n=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();n-=19e6,i[a]=n,e.setDate(e.getDate()-r)}}else if(this.IsNumber(t)){e.setDate(e.getDate()+t);var n=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();return n-=19e6}return i},this.TIMETOSEC=function(t){return 60*parseInt(t/1e4)*60+60*parseInt(t%1e4/100)+t%100},this.SECTOTIME=function(t){Math.floor(t/86400);return 1e4*Math.floor(t%86400/3600)+100*Math.floor(t%3600/60)+t%60},this.ANY=function(t,e){e<=0&&(e=1);var i=[];if(Array.isArray(t)){if(e>=t.length)return 0;for(var a=e,r=0;a<t.length;++a){var n=0;for(r=0;r<e;++r){if(t[a-r]>0){n=1;break}}i[a]=n}return i}if(Ee.IsNumber(t)){if(t<=0)return 0;if(e>=this.SymbolData.Data.Data.length)return 0;for(var a=e;a<this.SymbolData.Data.Data.length;++a)i[a]=1;return i}return 0},this.ALL=function(t,e){e<=0&&(e=1);var i=[];if(Array.isArray(t)){if(e>=t.length)return 0;for(var a=e,r=0;a<t.length;++a){var n=1;for(r=0;r<e;++r){if(!(t[a-r]>0)){n=0;break}}i[a]=n}return i}if(Ee.IsNumber(t)){if(t<=0)return 0;if(e>=this.SymbolData.Data.Data.length)return 0;for(var a=e;a<this.SymbolData.Data.Data.length;++a)i[a]=1;return i}return 0},this.TESTSKIP=function(t,e){if(Array.isArray(t)){if(t.length<=0)return!1;return!!t[t.length-1]}return Ee.IsNumber(t)?!(t<=0):!!t},this.IFC=function(t){if(Array.isArray(t)){var e=t[t.length-1];return!!Ee.IsNumber(e)&&e>0}return!!Ee.IsNumber(t)&&t>0},this.ALIGNRIGHT=function(t){if(Array.isArray(t)){for(var e=[],i=t.length-1,a=t.length-1;a>=0;--a){var r=t[a];(Ee.IsNumber(r)||Ee.IsString(r))&&(e[i]=r,--i)}for(var a=i;a>=0;--a)e[a]=null;return e}return t},this.SUMBARS=function(t,e){var i=Array.isArray(t),a=Array.isArray(e),r=Ee.IsNumber(t),n=Ee.IsNumber(e),o=[];if(i&&n)for(var s=0,l=0;s<t.length;++s){for(var h=0,l=0,u=s-1;u>=0;--u,++l){var c=t[s];if(Ee.IsNumber(c)&&(h+=t[u])>e)break}o[s]=l}else if(i&&a)for(var d=Math.max(t.length,e.length),s=0;s<d;++s){o[s]=null;var h=0,l=0,f=e[s];if(Ee.IsNumber(f)){for(var u=s-1;u>=0;--u,++l){var c=t[s];if(Ee.IsNumber(c)&&(h+=t[u])>f)break}o[s]=l}}else if(r&&a)for(var s=0;s<e.length;++s){o[s]=null;var h=0,l=0,f=e[s];if(Ee.IsNumber(f)){for(var u=s-1;u>=0&&!((h+=t)>f);--u,++l);o[s]=l}}return o},this.STRFORMAT=function(t,e,i){var a=t.match(/{\d+}/g);if(!Ee.IsNonEmptyArray(a))return null;for(var r=new Mn.default,n=-1,o=0;o<a.length;++o){var s=a[o];if(!(s.length<3)){var l=s.slice(1,s.length-1),h=parseInt(l),u={Src:s,Index:h,Text:null};n<h&&(n=h),r.set(h,u)}}for(var c=!1,d=0,o=1;o<e.length;++o){var s=e[o];Array.isArray(s)&&(c=!0,d<s.length&&(d=s.length))}if(c){for(var f=[],o=0;o<d;++o){var p=t,m=!0,C=!1,v=void 0;try{for(var D,g=(0,Fn.default)(r);!(m=(D=g.next()).done);m=!0){var s=D.value,S=s[1],u=e[S.Index+1],x="null";if(u)if(Array.isArray(u)){var l=u[o];l&&(x=""+l)}else x=""+u;p=p.replace(S.Src,x)}}catch(t){C=!0,v=t}finally{try{!m&&g.return&&g.return()}finally{if(C)throw v}}f[o]=p}return f}var f=t,b=!0,I=!1,T=void 0;try{for(var y,w=(0,Fn.default)(r);!(b=(y=w.next()).done);b=!0){var s=y.value,S=s[1],u=e[S.Index+1],x="null";u&&(x=""+u),f=f.replace(S.Src,x)}}catch(t){I=!0,T=t}finally{try{!b&&w.return&&w.return()}finally{if(I)throw T}}return f},this.CallFunction=function(t,e,i,a){switch(t){case"MAX":case"MAX6":return this.MAX(e,i);case"MIN":case"MIN6":return this.MIN(e,i);case"REF":return this.REF(e[0],e[1]);case"REFV":return this.REFV(e[0],e[1]);case"REFX":return this.REFX(e[0],e[1]);case"REFXV":return this.REFXV(e[0],e[1]);case"REFX1":return this.REFX(e[0],e[1]);case"ABS":return this.ABS(e[0]);case"MA":return this.MA(e[0],e[1]);case"EMA":return this.EMA(e[0],e[1]);case"SMA":return this.SMA(e[0],e[1],e[2]);case"DMA":return this.DMA(e[0],e[1]);case"XMA":return this.XMA(e[0],e[1]);case"EXPMA":return this.EXPMA(e[0],e[1]);case"EXPMEMA":return this.EXPMEMA(e[0],e[1]);case"COUNT":return this.COUNT(e[0],e[1]);case"LLV":return this.LLV(e[0],e[1]);case"LV":return this.LV(e[0],e[1]);case"LLVBARS":return this.LLVBARS(e[0],e[1]);case"HHV":return this.HHV(e[0],e[1]);case"HV":return this.HV(e[0],e[1]);case"HHVBARS":return this.HHVBARS(e[0],e[1]);case"MULAR":return this.MULAR(e[0],e[1]);case"CROSS":return this.CROSS(e[0],e[1]);case"LONGCROSS":return this.LONGCROSS(e[0],e[1],e[2]);case"ISVALID":return this.ISVALID(e[0]);case"CROSSDOWN":return this.CROSSDOWN(e[0],e[1]);case"CROSSUP":return this.CROSSUP(e[0],e[1]);case"AVEDEV":return this.AVEDEV(e[0],e[1]);case"STD":return this.STD(e[0],e[1]);case"IF":case"IFF":case"IFELSE":return this.IF(e[0],e[1],e[2]);case"IFN":return this.IFN(e[0],e[1],e[2]);case"NOT":return this.NOT(e[0]);case"SUM":return this.SUM(e[0],e[1]);case"RANGE":return this.RANGE(e[0],e[1],e[2]);case"EXIST":return this.EXIST(e[0],e[1]);case"EXISTR":return this.EXISTR(e[0],e[1],e[2]);case"FILTER":return this.FILTER(e[0],e[1]);case"TFILTER":return this.TFILTER(e[0],e[1],e[2]);case"SLOPE":return this.SLOPE(e[0],e[1]);case"BARSLAST":return this.BARSLAST(e[0]);case"BARSCOUNT":return this.BARSCOUNT(e[0]);case"BARSSINCEN":return this.BARSSINCEN(e[0],e[1]);case"BARSSINCE":return this.BARSSINCE(e[0]);case"LAST":return this.LAST(e[0],e[1],e[2]);case"EVERY":return this.EVERY(e[0],e[1]);case"DEVSQ":return this.DEVSQ(e[0],e[1]);case"ZIG":return this.ZIG(e[0],e[1]);case"TROUGHBARS":return this.TROUGHBARS(e[0],e[1],e[2]);case"TROUGH":return this.TROUGH(e[0],e[1],e[2]);case"PEAKBARS":return this.PEAKBARS(e[0],e[1],e[2]);case"PEAK":return this.PEAK(e[0],e[1],e[2]);case"COST":return this.COST(e[0]);case"WINNER":return this.WINNER(e[0],i);case"PPART":return this.PPART(e[0],i);case"COSTEX":return this.COSTEX(e[0],e[1],i);case"LWINNER":return this.LWINNER(e[0],e[1],i);case"PWINNER":return this.PWINNER(e[0],e[1],i);case"FORCAST":return this.FORCAST(e[0],e[1]);case"TSMA":return this.TSMA(e[0],e[1]);case"STDP":return this.STDP(e[0],e[1]);case"VAR":return this.VAR(e[0],e[1]);case"VARP":return this.VARP(e[0],e[1]);case"UPNDAY":return this.UPNDAY(e[0],e[1]);case"DOWNNDAY":return this.DOWNNDAY(e[0],e[1]);case"NDAY":return this.NDAY(e[0],e[1],e[2]);case"RELATE":return this.RELATE(e[0],e[1],e[2]);case"COVAR":return this.COVAR(e[0],e[1],e[2]);case"BETA":return this.BETA(e[0]);case"BETA2":return this.BETA2(e[0],e[1],e[2]);case"WMA":return this.WMA(e[0],e[1]);case"MEMA":return this.MEMA(e[0],e[1]);case"SUMBARS":return this.SUMBARS(e[0],e[1]);case"REVERSE":return this.REVERSE(e[0]);case"SAR":return this.SAR(e[0],e[1],e[2]);case"SARTURN":return this.SARTURN(e[0],e[1],e[2]);case"BACKSET":return this.BACKSET(e[0],e[1]);case"BETWEEN":return this.BETWEEN(e[0],e[1],e[2]);case"STRCAT":return this.STRCAT(e[0],e[1]);case"CON2STR":return this.CON2STR(e[0],e[1]);case"VAR2STR":return this.VAR2STR(e[0],e[1]);case"VARCAT":return this.VARCAT(e[0],e[1]);case"STRSPACE":return this.STRSPACE(e[0]);case"FINDSTR":return this.FINDSTR(e[0],e[1]);case"STRCMP":return this.STRCMP(e[0],e[1]);case"STRLEN":return this.STRLEN(e[0]);case"STRFORMAT":return this.STRFORMAT(e[0],e,i);case"DTPRICE":return this.DTPRICE(e[0],e[1]);case"ZTPRICE":return this.ZTPRICE(e[0],e[1]);case"MOD":return this.MOD(e[0],e[1]);case"POW":return this.POW(e[0],e[1]);case"CEILING":return this.CEILING(e[0]);case"FLOOR":return this.FLOOR(e[0]);case"FRACPART":return this.FRACPART(e[0]);case"SIGN":return this.SIGN(e[0]);case"BARSLASTCOUNT":return this.BARSLASTCOUNT(e[0]);case"INTPART":return this.INTPART(e[0]);case"CONST":return this.CONST(e[0]);case"TOPRANGE":return this.TOPRANGE(e[0]);case"LOWRANGE":return this.LOWRANGE(e[0]);case"FINDLOW":return this.FINDLOW(e[0],e[1],e[2],e[3]);case"FINDLOWBARS":return this.FINDLOWBARS(e[0],e[1],e[2],e[3]);case"FINDHIGH":return this.FINDHIGH(e[0],e[1],e[2],e[3]);case"FINDHIGHBARS":return this.FINDHIGHBARS(e[0],e[1],e[2],e[3]);case"BARSNEXT":return this.BARSNEXT(e[0]);case"HOD":return this.HOD(e[0],e[1]);case"LOD":return this.LOD(e[0],e[1]);case"AMA":return this.AMA(e[0],e[1]);case"TMA":return this.TMA(e[0],e[1],e[2]);case"ROUND":return this.ROUND(e[0]);case"ROUND2":return this.ROUND2(e[0],e[1]);case"TRMA":return this.TRMA(e[0],e[1]);case"VALUEWHEN":return this.VALUEWHEN(e[0],e[1]);case"HARMEAN":return this.HARMEAN(e[0],e[1]);case"DATETODAY":return this.DATETODAY(e[0]);case"DAYTODATE":return this.DAYTODATE(e[0]);case"TIMETOSEC":return this.TIMETOSEC(e[0]);case"SECTOTIME":return this.SECTOTIME(e[0]);case"ANY":return this.ANY(e[0],e[1]);case"ALL":return this.ALL(e[0],e[1]);case"TESTSKIP":return this.TESTSKIP(e[0],i);case"SUMBARS":return this.SUMBARS(e[0],e[1]);case"ALIGNRIGHT":return this.ALIGNRIGHT(e[0]);case"ATAN":return this.Trigonometric(e[0],Math.atan);case"ACOS":return this.ACOS(e[0]);case"ASIN":return this.ASIN(e[0]);case"COS":return this.Trigonometric(e[0],Math.cos);case"SIN":return this.Trigonometric(e[0],Math.sin);case"TAN":return this.Trigonometric(e[0],Math.tan);case"LN":return this.Trigonometric(e[0],Math.log);case"LOG":return this.Trigonometric(e[0],dn.default);case"EXP":return this.Trigonometric(e[0],Math.exp);case"SQRT":return this.Trigonometric(e[0],Math.sqrt);case"RAND":return this.RAND(e[0]);default:this.ThrowUnexpectedNode(i,"函数"+t+"不存在",t)}},this.CallCustomFunction=function(t,e,i,a){var r=yo.CustomFunction.Data.get(t),n=i.GetStockCacheData({CustomName:t,Node:a});if(!r.Invoke)return{Out:n};Nn.Complier.Log("[JSAlgorithm::CallCustomFunction] call custom function functionInfo=",r);var o=this,s={Name:t,Args:e,Symbol:i.Symbol,Period:i.Period,Right:i.Right,KData:i.Data,DownloadData:n,ThrowError:function(t){o.ThrowUnexpectedNode(a,t)}};return r.Invoke(s)},this.ThrowUnexpectedNode=function(t,e,i){var a=t.Marker,r=e||"执行异常";return this.ErrorHandler.ThrowError(a.Index,a.Line,a.Column,r,i)}}function Ir(t,e){this.ErrorHandler=t,this.SymbolData=e,this.DRAWTEXT=function(t,e,i){var a=[],r={DrawData:a,DrawType:"DRAWTEXT",Text:i};if(Array.isArray(t)){if(t.length<=0)return r;var n=this.IsNumber(e),o=!1;"TOP"!==e&&"BOTTOM"!==e||(r.FixedPosition=e,o=!0);for(var s in t)a[s]=null,!isNaN(t[s])&&t[s]&&(n||o?a[s]=e:this.IsNumber(e[s])&&(a[s]=e[s]))}else if(this.IsNumber(t)&&t){var n=this.IsNumber(e),o=!1;"TOP"!==e&&"BOTTOM"!==e||(r.FixedPosition=e,o=!0);for(var s=0;s<this.SymbolData.Data.Data.length;++s)n||o?a[s]=e:this.IsNumber(e[s])&&(a[s]=e[s])}return r},this.DRAWTEXT_FIX=function(t,e,i,a,r){var n={Value:[],Text:[]},o={DrawData:n,DrawType:"DRAWTEXT_FIX",Text:null,Position:{X:e,Y:i,Type:a}};if(t.length<=0)return o;if(Array.isArray(t))for(var s in t)n.Text[s]=null,n.Value[s]=0,!isNaN(t[s])&&t[s]&&(n.Value[s]=1,n.Text[s]=r);else if(t)for(var s=0;s<this.SymbolData.Data.Data.length;++s)n.Text[s]=r,n.Value[s]=1;return o},this.SUPERDRAWTEXT=function(t,e,i,a,r){var n=[],o={DrawData:n,DrawType:"SUPERDRAWTEXT",Text:i,YOffset:r,Direction:a,TextAlign:"center"};if(t.length<=0)return o;var s="number"==typeof e;for(var l in t)n[l]=null,!isNaN(t[l])&&t[l]&&(s?n[l]=e:this.IsNumber(e[l])&&(n[l]=e[l]));return o},this.STICKLINE=function(t,e,i,a,r){var n=[],o={DrawData:n,DrawType:"STICKLINE",Width:a,Type:r};o.Width<0&&(o.Width=3);var s="number"==typeof e,l="number"==typeof i;if(Array.isArray(t)){if(t.length<=0)return o;for(var h in t)if(n[h]=null,!isNaN(t[h])&&t[h])if(s&&l)n[h]={Value:e,Value2:i};else if(s&&!l){if(isNaN(i[h]))continue;n[h]={Value:e,Value2:i[h]}}else if(!s&&l){if(isNaN(e[h]))continue;n[h]={Value:e[h],Value2:i}}else{if(isNaN(e[h])||isNaN(i[h]))continue;n[h]={Value:e[h],Value2:i[h]}}}else{if(!t)return o;for(var h=0;h<this.SymbolData.Data.Data.length;++h)if(n[h]=null,s&&l)n[h]={Value:e,Value2:i};else if(s&&!l){if(!Ee.IsNumber(i[h]))continue;n[h]={Value:e,Value2:i[h]}}else if(!s&&l){if(!Ee.IsNumber(e[h]))continue;n[h]={Value:e[h],Value2:i}}else{if(!Ee.IsNumber(e[h])||!Ee.IsNumber(i[h]))continue;n[h]={Value:e[h],Value2:i[h]}}}return o},this.DRAWLINE=function(t,e,i,a,r){var n=[],o={DrawData:n,DrawType:"DRAWLINE",Expand:r};if(t.length<=0)return o;for(var s=Math.max(t.length,i.length),l=!1,h=!1,u={Start:{},End:{},List:new Array},c=0;c<s;++c){if(n[c]=null,c<t.length&&c<i.length)if(0==l&&0==h){if(null==t[c]||!t[c])continue;l=!0,u.Start={ID:c,Value:e[c]}}else if(1==l&&0==h){var d=null!=i[c]&&i[c];if(!d){t[c]&&(u.Start={ID:c,Value:e[c]});continue}d&&(h=!0,u.End={ID:c,Value:a[c]})}else if(1==l&&1==h){var d=null!=i[c]&&i[c];if(d)u.End={ID:c,Value:a[c]};else if(t[c]){var f=this.CalculateDrawLine(u);for(var p in f){var m=f[p];n[m.ID]=m.Value}1==r&&this.CalculateDrawDataExtendLine(n,u.Start.ID-2),l=h=!1,u={Start:{},End:{}},l=!0,h=!1,u.Start={ID:c,Value:e[c]}}}if(1==l&&1==h){var C=this.CalculateDrawLine(u);for(var v in C){var D=C[v];n[D.ID]=D.Value}}}return 1==r&&this.CalculateDrawDataExtendLine(n),o},this.DRAWBAND=function(t,e,i,a){Ee.IsNumber(e)&&(e="rgb("+e+",0,0)"),Ee.IsNumber(a)&&(a="rgb("+a+",0,0)");var r=[],n={DrawData:r,DrawType:"DRAWBAND",Color:[null,null]};e&&(n.Color[0]=e.toLowerCase()),a&&(n.Color[1]=a.toLowerCase());var o=Ee.IsNumber(t),s=Ee.IsNumber(i);if(o||s){if(o&&!s)for(var l=i.length,h=0;h<l;++h){var u={Value:t,Value2:null};h<i.length&&(u.Value2=i[h]),r.push(u)}else if(!o&&s)for(var l=t.length,h=0;h<l;++h){var u={Value:null,Value2:i};h<t.length&&(u.Value=t[h]),r.push(u)}else if(o&&s)for(var l=this.SymbolData.Data.Data.length,h=0;h<l;++h){var u={Value:t,Value2:i};r.push(u)}}else for(var l=Math.max(t.length,i.length),h=0;h<l;++h){var u={Value:null,Value2:null};h<t.length&&(u.Value=t[h]),h<i.length&&(u.Value2=i[h]),r.push(u)}return n},this.GetDataByIndex=function(t,e){var i={Result:!1,Data:null};return this.IsNumber(t)?(i.Result=!0,i.Data=t):e<t.length?(i.Result=!0,i.Data=t[e]):i.Result=!1,i},this.FILLRGN=function(t,e,i){var a=[],r={DrawData:a,DrawType:"FILLRGN"};this.IsNumber(e),this.IsNumber(i);if(Array.isArray(t))for(var n in t){a[n]=null;var o=t[n];if(o){var s=this.GetDataByIndex(e,n);if(s.Result){var l=this.GetDataByIndex(i,n);if(l.Result){var h={Value:s.Data,Value2:l.Data};a[n]=h}}}}else if(t)for(var n=0;n<this.SymbolData.Data.Data.length;++n){a[n]=null;var s=this.GetDataByIndex(e,n);if(s.Result){var l=this.GetDataByIndex(i,n);if(l.Result){var h={Value:s.Data,Value2:l.Data};a[n]=h}}}return r},this.DRAWKLINE=function(t,e,i,a){for(var r=[],n={DrawData:r,DrawType:"DRAWKLINE"},o=Math.max(t.length,e.length,i.length,a.length),s=0;s<o;++s){var l={Open:null,High:null,Low:null,Close:null};s<t.length&&s<e.length&&s<i.length&&s<a.length&&(l.Open=e[s],l.High=t[s],l.Low=i[s],l.Close=a[s]),r[s]=l}return n},this.DRAWKLINE_IF=function(t,e,i,a,r){for(var n=[],o={DrawData:n,DrawType:"DRAWKLINE_IF"},s=Math.max(t.length,e.length,i.length,a.length,r.length),l=0;l<s;++l){var h={Open:null,High:null,Low:null,Close:null};l<e.length&&l<i.length&&l<a.length&&l<r.length&&l<t.length&&t[l]&&(h.Open=i[l],h.High=e[l],h.Low=a[l],h.Close=r[l]),n[l]=h}return o},this.DRAWCOLORKLINE=function(t,e,i){var a=[],r={DrawData:a,DrawType:"DRAWCOLORKLINE",IsEmptyBar:!(0==i),Color:e};if(Array.isArray(t))for(var n=0;n<t.length&&n<this.SymbolData.Data.Data.length;++n){a[n]=null;var o=t[n];if(o){var s=this.SymbolData.Data.Data[n];s&&(a[n]={Open:s.Open,High:s.High,Low:s.Low,Close:s.Close})}}else if(t)for(var n=0;n<this.SymbolData.Data.Data.length;++n){a[n]=null;var s=this.SymbolData.Data.Data[n];s&&(a[n]={Open:s.Open,High:s.High,Low:s.Low,Close:s.Close})}return r},this.POLYLINE=function(t,e){var i=[],a={DrawData:i,DrawType:"POLYLINE"},r="number"==typeof e,n=!1;if(r)if(this.IsNumber(t)){if(t)for(var o=this.SymbolData.Data.Data.length,s=0;s<o;++s)i[s]=e}else{var l=!1;for(var s in t)if(i[s]=null,l)i[s]=e;else{if(!t[s])continue;l=!0,i[s]=e}}else{var h={Start:{},End:{},List:new Array};for(var u in t)if(i[u]=null,0==n){if(null==t[u]||!t[u])continue;if(u>=e.length||!this.IsNumber(e[u]))continue;n=!0,h.Start={ID:parseInt(u),Value:e[u]}}else if(1==n){if(null==t[u]||!t[u])continue;if(u>=e.length||!this.IsNumber(e[u]))continue;h.End={ID:parseInt(u),Value:e[u]};var c=this.CalculateDrawLine(h);for(var d in c){var f=c[d];i[f.ID]=f.Value}var p={ID:h.End.ID,Value:h.End.Value};h={Start:p,End:{}}}this.CalculateDrawDataExtendLine(i)}return a},this.CalculateDrawDataExtendLine=function(t,e){if(!(e<0)){var i=null,a=t.length;this.IsNumber(e)&&e<a&&(a=e);for(var r=a-1;r>=0;--r)if(this.IsNumber(t[r])){i=r;break}if(null!=i&&i-1>=0)for(var n=i-1,r=i+1;r<a;++r){var o=t[n],s=t[i],l=(o-s)*(r-n)/(i-n);if(o-l<0)break;t[r]=o-l}}},this.DRAWNUMBER=function(t,e,i,a){var r={Value:[],Text:[]},n={DrawData:r,DrawType:"DRAWNUMBER"},o=2;Ee.IsNumber(a)&&(o=a);var s={DataType:0,SingleValue:null,ArrayValue:null};Array.isArray(e)?(s.ArrayValue=e,s.DataType=2):("TOP"!==e&&"BOTTOM"!==e||(n.FixedPosition=e),s.SingleValue=e,s.DataType=1);var l={DataType:0,SingleValue:null,ArrayValue:null};if(Array.isArray(i)?(l.ArrayValue=i,l.DataType=2):(l.SingleValue=i,l.DataType=1,Ee.IsNumber(i)&&(Ee.IsInteger(i)?l.SingleValue=i.toString():text=i.toFixed(o))),Array.isArray(t))for(var h=0;h<t.length;++h)r.Value[h]=null,t[h]&&(r.Value[h]=this.DRAWNUMBER_Temp_PriceItem(h,s),r.Text[h]=this.DRAWNUMBER_Temp_NumberItem(h,l,o));else if(this.IsNumber(t)&&t)for(var h=0;h<this.SymbolData.Data.Data.length;++h)r.Value[h]=this.DRAWNUMBER_Temp_PriceItem(h,s),r.Text[h]=this.DRAWNUMBER_Temp_NumberItem(h,l,o);return n},this.DRAWNUMBER_Temp_PriceItem=function(t,e){return e?1==e.DataType?e.SingleValue:Ee.IsNonEmptyArray(e.ArrayValue)?e.ArrayValue[t]:null:null},this.DRAWNUMBER_Temp_NumberItem=function(t,e,i){if(!e)return null;if(1==e.DataType)return e.SingleValue;if(!Ee.IsNonEmptyArray(e.ArrayValue))return null;var a=e.ArrayValue[t];return this.IsNumber(a)?Ee.IsInteger(a)?a.toString():a.toFixed(i):a.toString()},this.DRAWNUMBER_FIX=function(t,e,i,a,r){var n={Value:[],Text:[]},o={DrawData:n,DrawType:"DRAWNUMBER_FIX",Position:{X:e,Y:i,Type:a}},s=Ee.IsNumber(r);if(Array.isArray(t)){for(var l in t)if(n.Text[l]=null,n.Value[l]=null,t[l])if(s)n.Text[l]=this.RemoveZero(r.toFixed(2)),n.Value[l]=r;else{if(l>=r.length||!Ee.IsNumber(r[l]))continue;var h=r[l];n.Text[l]=this.RemoveZero(h.toFixed(2)),n.Value[l]=h}}else if(t)for(var l=0;l<this.SymbolData.Data.Data.length;++l)if(s)n.Text[l]=this.RemoveZero(r.toFixed(2)),n.Value[l]=r;else{if(l>=r.length||!Ee.IsNumber(r[l]))continue;var h=r[l];n.Text[l]=this.RemoveZero(h.toFixed(2)),n.Value[l]=h}else;return o},this.DRAWICON=function(t,e,i){if(Ee.IsString(i)){var a=i.replace("ICO","");i=parseInt(a)}var r=yo.GetDrawIcon(i);r||yo.GetDrawTextIcon(i),r||(r={Symbol:"🚩"});var n=[],o={DrawData:n,DrawType:"DRAWICON",Icon:r,IconType:i};if(t.length<=0)return o;var s="number"==typeof e;if("number"==typeof t){if(!t)return o;for(var l=0;l<this.SymbolData.Data.Data.length;++l)s?n[l]=e:l<e.length&&this.IsNumber(e[l])?n[l]=e[l]:n[l]=null;return o}for(var l in t)n[l]=null,t[l]&&(s?n[l]=e:this.IsNumber(e[l])&&(n[l]=e[l]));return o},this.ICON=function(t,e){if(Ee.IsString(e)){var i=e.replace("ICO","");e=parseInt(i)}var a=yo.GetDrawIcon(e);a||yo.GetDrawTextIcon(e),a||(a={Symbol:"🚩"});for(var r=[],n={DrawData:r,DrawType:"ICON",Icon:a},o=0;o<this.SymbolData.Data.Data.length;++o){var s=this.SymbolData.Data.Data[o];s&&(0==t?r[o]=s.Low:1==t&&(r[o]=s.High))}return n},this.TIPICON=function(t,e,i,a){if(Ee.IsString(i)){var r=i.replace("ICO","");i=parseInt(r)}var n=yo.GetDrawIcon(i),o=[],s={DrawData:o,DrawType:"TIPICON",Icon:n,IconType:i,Text:a};if(t.length<=0)return s;var l="number"==typeof e;if(Ee.IsNumber(t)){if(!t)return s;for(var h=0;h<this.SymbolData.Data.Data.length;++h)l?o[h]=e:h<e.length&&Ee.IsNumber(e[h])?o[h]=e[h]:o[h]=null}else if(Array.isArray(t))for(var h=0;h<t.length;++h)o[h]=null,t[h]&&(l?o[h]=e:Ee.IsNumber(e[h])&&(o[h]=e[h]));return s},this.DRAWCHANNEL=function(t,e,i,a,r,n,o){var s=[],l={DrawData:s,DrawType:"DRAWCHANNEL",Border:{}};if(t.length<=0)return l;if(a&&(l.Border.Color=a),o&&(l.AreaColor=o),r>0&&(l.Border.Width=r),n)if("0"==n)l.Border.Dotted=[];else{var h=n.split(",");l.Border.Dotted=[];for(var u in h){var c=h[u];if(c){var d=parseInt(h[u]);Ee.IsNumber(d)&&(d<=0||l.Border.Dotted.push(d))}}l.Border.Dotted.length<=0&&(l.Border.Dotted=null)}var f="number"==typeof e,p="number"==typeof i;if("number"==typeof t){if(!t)return l;for(var u=0;u<this.SymbolData.Data.Data.length;++u)if(s[u]=null,f&&p)s[u]={Value:e,Value2:i};else if(f&&!p){if(isNaN(i[u]))continue;s[u]={Value:e,Value2:i[u]}}else if(!f&&p){if(isNaN(e[u]))continue;s[u]={Value:e[u],Value2:i}}else{if(isNaN(e[u])||isNaN(i[u]))continue;s[u]={Value:e[u],Value2:i[u]}}}else for(var u=0;u<t.length;++u)if(s[u]=null,!isNaN(t[u])&&t[u])if(f&&p)s[u]={Value:e,Value2:i};else if(f&&!p){if(isNaN(i[u]))continue;s[u]={Value:e,Value2:i[u]}}else if(!f&&p){if(isNaN(e[u]))continue;s[u]={Value:e[u],Value2:i}}else{if(isNaN(e[u])||isNaN(i[u]))continue;s[u]={Value:e[u],Value2:i[u]}}return l},this.RGB=function(t,e,i){return"RGB("+t+","+e+","+i+")"},this.RGBA=function(t,e,i,a){return"RGB("+t+","+e+","+i+","+a+")"},this.UPCOLOR=function(t){return t},this.DOWNCOLOR=function(t){return t},this.XMOVE=function(t){return t},this.YMOVE=function(t){return t},this.SOUND=function(t){return{Name:"SOUND",Value:t}},this.PLAYSOUND=function(t,e){return null},this.PARTLINE=function(t){var e=[],i={DrawData:e,DrawType:"PARTLINE"};if(t.length<3)return i;for(var a=t[0],r=[],n=1;n<t.length&&n+1<t.length;n+=2)r.push({Cond:t[n],RGB:t[n+1]});for(var n in a){var o={Value:null,RGB:null};e[n]=o;var s=a[n];if(this.IsNumber(s)){var l=null;for(var h in r){var u=r[h];if(Array.isArray(u.Cond)){if(n<u.Cond.length&&u.Cond[n]){l=u.RGB;break}}else if(this.IsNumber(u.Cond)&&u.Cond){l=u.RGB;break}}l&&(o.Value=s,o.RGB=l)}}return i},this.FILLRGN2=function(t){var e=[],i={DrawData:e,DrawType:"FILLRGN2"};if(t.length<4)return i;for(var a=t[0],r=t[1],n=[],o=2;o<t.length&&o+1<t.length;o+=2)n.push({Cond:t[o],Color:t[o+1]});for(var o=0;o<this.SymbolData.Data.Data.length;++o){e[o]=null;var s={Value:null,Value2:null,Color:null};for(var l in n){var h=n[l];if(Array.isArray(h.Cond)){if(o<h.Cond.length&&h.Cond[o]){s.Color=h.Color;break}}else if(this.IsNumber(h.Cond)&&h.Cond){s.Color=h.Color;break}}if(s.Color){if(Array.isArray(a)){if(o>=a.length)continue;if(!this.IsNumber(a[o]))continue;s.Value=a[o]}else{if(!this.IsNumber(a))continue;s.Value=a}if(Array.isArray(r)){if(o>=r.length)continue;if(!this.IsNumber(r[o]))continue;s.Value2=r[o]}else{if(!this.IsNumber(r))continue;s.Value2=r}e[o]=s}}return i},this.FLOATRGN=function(t){var e=[],i={DrawData:e,DrawType:"FLOATRGN"};if(t.length<4)return i;for(var a=t[0],r=t[1],n=[],o=2;o<t.length&&o+1<t.length;o+=2)n.push({Cond:t[o],Color:t[o+1]});for(var o=0;o<this.SymbolData.Data.Data.length;++o){e[o]=null;var s={Value:null,Value2:null,Color:null};for(var l in n){var h=n[l];if(Array.isArray(h.Cond)){if(o<h.Cond.length&&h.Cond[o]){s.Color=h.Color;break}}else if(this.IsNumber(h.Cond)&&h.Cond){s.Color=h.Color;break}}if(s.Color){if(Array.isArray(a)){if(o>=a.length)continue;if(!this.IsNumber(a[o]))continue;s.Value=a[o]}else{if(!this.IsNumber(a))continue;s.Value=a}if(Array.isArray(r)){if(o>=r.length)continue;if(!this.IsNumber(r[o]))continue;s.Value2=r[o]}else{if(!this.IsNumber(r))continue;s.Value2=r}e[o]=s}}return i},this.FILLBGRGN=function(t,e){var i=[],a={DrawData:i,DrawType:1==t?"FILLTOPRGN":"FILLBOTTOMRGN"};if(e.length<3)return a;for(var r=e[0],n=[],o=1;o<e.length&&o+1<e.length;o+=2)n.push({Cond:e[o],Color:e[o+1]});for(var o=0;o<this.SymbolData.Data.Data.length;++o){i[o]=null;var s={Value:null,Color:null};for(var l in n){var h=n[l];if(Array.isArray(h.Cond)){if(o<h.Cond.length&&h.Cond[o]){s.Color=h.Color;break}}else if(this.IsNumber(h.Cond)&&h.Cond){s.Color=h.Color;break}}if(s.Color){if(Array.isArray(r)){if(o>=r.length)continue;if(!this.IsNumber(r[o]))continue;s.Value=r[o]}else{if(!this.IsNumber(r))continue;s.Value=r}i[o]=s}}return a},this.FILLVERTICALRGN=function(t){var e=[],i={DrawData:e,DrawType:"FILLVERTICALRGN"};if(t.length<2)return i;for(var a=[],r=0;r<t.length&&r+1<t.length;r+=2)a.push({Cond:t[r],Color:t[r+1]});for(var r=0;r<this.SymbolData.Data.Data.length;++r){e[r]=null;var n={Color:null};for(var o in a){var s=a[o];if(Array.isArray(s.Cond)){if(r<s.Cond.length&&s.Cond[r]){n.Color=s.Color;break}}else if(this.IsNumber(s.Cond)&&s.Cond){n.Color=s.Color;break}}n.Color&&(e[r]=n)}return i},this.DRAWGBK=function(t,e,i,a){var r={Color:[],Angle:a};e&&r.Color.push(e),i&&r.Color.push(i);var n={DrawData:null,DrawType:"DRAWGBK"};if(Array.isArray(t))for(var o in t){var s=t[o];if(s){n.DrawData=r;break}}else t&&(n.DrawData=r);return n},this.DRAWGBK2=function(t,e,i,a){var r={Color:[],Angle:a};e&&r.Color.push(e),i&&r.Color.push(i);var n={DrawData:null,DrawType:"DRAWGBK2"};if(Array.isArray(t)){r.Data=[];for(var o in t){var s=t[o];r.Data[o]=s?1:0}n.DrawData=r}else t&&(n.DrawData=r,n.DrawType="DRAWGBK");return n},this.DRAWGBK_DIV=function(t,e,i,a,r){var n={AryColor:[e,i],ColorType:a,FillType:r,Data:[]},o={DrawData:n,DrawType:"DRAWGBK_DIV"};if(!this.SymbolData||!this.SymbolData.Data||!Ee.IsNonEmptyArray(this.SymbolData.Data.Data))return o;var s=this.SymbolData.Data.Data;if(Array.isArray(t))for(var l=0;l<s.length;++l){var h=t[l],u=null;if(h){var c=s[l];u=1==r?{AryValue:[c.High,c.Low]}:2==r?{AryValue:[c.Open,c.Close]}:{AryValue:null}}n.Data[l]=u}else if(t)for(var l=0;l<s.length;++l){var c=s[l],u=null;u=1==r?{AryValue:[c.High,c.Low]}:2==r?{AryValue:[c.Open,c.Close]}:{AryValue:null},n.Data[l]=u}return o},this.DRAWTEXT_LINE=function(t,e,i,a,r,n,o){var s={Text:{Title:i,Color:a},Line:{Type:n,Color:o}};r<=0&&(r=12),s.Text.Font=r*c()+"px 微软雅黑";var l={DrawData:null,DrawType:"DRAWTEXT_LINE"};if(Array.isArray(t))for(var h in t){var u=t[h];if(u){Array.isArray(e)?s.Price=e[h]:s.Price=e,l.DrawData=s;break}}else t&&(Array.isArray(e)?s.Price=e[0]:s.Price=e,l.DrawData=s);return l},this.DRAWRECTREL=function(t,e,i,a,r){var n={Rect:{Left:Math.min(t,i),Top:Math.min(e,a),Right:Math.max(i,t),Bottom:Math.max(a,e)},Color:r};return 0==r&&(n.Color=null),{DrawData:n,DrawType:"DRAWRECTREL"}},this.DRAWTEXTREL=function(t,e,i){var a={Point:{X:t,Y:e}};return Ee.IsString(i)?a.Text=i:Ee.IsNonEmptyArray(i)&&(a.Text=i[0]),{DrawData:a,DrawType:"DRAWTEXTREL"}},this.DRAWTEXTABS=function(t,e,i){var a={Point:{X:t,Y:e}};return Ee.IsString(i)?a.Text=i:Ee.IsNonEmptyArray(i)&&(a.Text=i[0]),{DrawData:a,DrawType:"DRAWTEXTABS"}},this.DRAWOVERLAYLINE=function(t,e,i){var a={Data:t,MainData:e};return i&&"string"==typeof i&&(a.Title=i),{DrawData:a,DrawType:"DRAWOVERLAYLINE"}},this.DRAWSL=function(t,e,i,a,r){var n={Data:[],Option:[]},o={DrawData:n,DrawType:"DRAWSL"},s=this.IsNumber(e);if(Array.isArray(t))for(var l in t)n[l]=null,t[l]&&(s?(n.Data[l]=e,n.Option[l]={Slope:i,Length:a,Direct:r}):l<e.length&&this.IsNumber(e[l])&&(n.Data[l]=e[l],n.Option[l]={Slope:i,Length:a,Direct:r}));else if(t)for(var h=this.SymbolData.Data.Data.length,l=0;l<h;++l)n[l]=null,s?(n.Data[l]=e,n.Option[l]={Slope:i,Length:a,Direct:r}):l<e.length&&this.IsNumber(e[l])&&(n.Data[l]=e[l],n.Option[l]={Slope:i,Length:a,Direct:r});return o},this.VERTLINE=function(t,e){var i={Data:[],LineType:e},a={DrawData:i,DrawType:"VERTLINE"};if(Array.isArray(t))for(var r=0;r<t.length;++r){var n=t[r];i.Data[r]=n?1:0}return a},this.HORLINE=function(t,e,i,a){var r={Data:[],LineType:i,Extend:a},n={DrawData:r,DrawType:"HORLINE"};if(Array.isArray(t)&&Array.isArray(e))for(var o=0;o<t.length;++o){var s=t[o];if(r.Data[o]=null,s&&!(o>=e.length)){var l=e[o];Ee.IsNumber(l)&&(r.Data[o]=l)}}else if(Array.isArray(t)&&Ee.IsNumber(e))for(var o=0;o<t.length;++o){var s=t[o];r.Data[o]=null,s&&(r.Data[o]=e)}else if(Ee.IsNumber(t)&&t&&this.SymbolData&&this.SymbolData.Data&&this.SymbolData.Data.Data)if(Array.isArray(e)){for(var h=this.SymbolData.Data.Data.length,o=0;o<h;++o)if(r.Data[o]=null,!(o>=e.length)){var l=e[o];Ee.IsNumber(l)&&(r.Data[o]=l)}}else if(Ee.IsNumber(e))for(var h=this.SymbolData.Data.Data.length,o=0;o<h;++o)r.Data[o]=e;return n},this.BACKGROUND=function(t,e,i,a,r,n){var o={Margin:[0,1,1,1]};return t&&(o.Color=t),e&&(o.Border=e),Ee.IsNumber(i)&&(o.Margin[2]=i),Ee.IsNumber(a)&&(o.Margin[3]=a),Ee.IsNumber(r)&&(o.Margin[0]=r),Ee.IsNumber(n)&&(o.Margin[1]=n),o},this.CKLINE=function(t,e,i,a){var r={Color:t,LineWidth:1,LineType:0,LineDot:[3,3]};if(Ee.IsPlusNumber(e)&&(r.LineWidth=e),Ee.IsPlusNumber(i)&&(r.LineType=i),a){var n=a.split(","),o=[];for(var s in n){var l=n[s];if(l){var h=parseInt(n[s]);h<=0||o.push(h)}}o.length>0&&(r.LineDotted=o)}r.Data=[];for(var s=0;s<this.SymbolData.Data.Data.length;++s){var l=this.SymbolData.Data.Data[s];r.Data[s]={High:l.High,Low:l.Low}}return r}}function Tr(t,e,i){this.AST=t,this.Execute=i,this.Symbol="600000.sh",this.Name,this.Data=null,this.PeriodData=new Mn.default,this.IsApiPeriod=!1,this.SourceData=null,this.MarketValue=null,this.Period=0,this.Right=0,this.DataType=0,this.IsBeforeData=!1,this.DayCount,this.Arguments=[],this.KLineApiUrl=yo.Domain+"/API/KLine2",this.MinuteKLineApiUrl=yo.Domain+"/API/KLine3",this.RealtimeApiUrl=yo.Domain+"/API/stock",this.HistoryMinuteApiUrl=lo.Domain+"/API/StockMinuteData",this.StockHistoryDayApiUrl=yo.Domain+"/API/StockHistoryDay",this.StockHistoryDay3ApiUrl=yo.Domain+"/API/StockHistoryDay3",this.StockHistoryDay2ApiUrl=yo.Domain+"/API/StockHistoryDay2",this.StockNewsAnalysisApiUrl=yo.CacheDomain+"/cache/newsanalyze",this.HKToSHSZApiUrl=[yo.CacheDomain+"/cache/historyday/all/hk2shsz.json",yo.CacheDomain+"/cache/analyze/hk2shsz/hk2shsz.json",yo.Domain+"/API/HKToSHSZMinuteData",yo.CacheDomain+"/cache/analyze/hk2szshanalyze"],this.MaxRequestDataCount=1e3,this.MaxRequestMinuteDayCount=5,this.KLineDateTimeRange,this.LatestData=new Mn.default,this.IndexData,this.LatestIndexData,this.MarginData=new Mn.default,this.HKToSHSZData=new Mn.default,this.NewsAnalysisData=new Mn.default,this.ExtendData=new Mn.default,this.UserData=new Mn.default,this.CustomAPIData=new Mn.default,this.ScriptIndexOutData=new Mn.default,this.OtherSymbolData=new Mn.default,this.StockData=new Mn.default,this.SectionFinanceData=new Mn.default,this.ThrowSFPeirod=new Tn.default,this.NetworkFilter,this.DrawInfo,e&&(e.HQDataType&&(this.DataType=e.HQDataType),e.Data&&(this.Data=e.Data,this.DataType!=_o.MINUTE_ID&&this.DataType!=_o.MULTIDAY_MINUTE_ID&&this.DataType!=_o.HISTORY_MINUTE_ID&&(this.Period=e.Data.Period,this.Right=e.Data.Right)),e.SourceData&&(this.SourceData=e.SourceData),e.Symbol&&(this.Symbol=e.Symbol),e.Name&&(this.Name=e.Name),e.MaxRequestDataCount>0&&(this.MaxRequestDataCount=e.MaxRequestDataCount),e.MaxRequestMinuteDayCount>0&&(this.MaxRequestMinuteDayCount=e.MaxRequestMinuteDayCount),e.KLineApiUrl&&(this.KLineApiUrl=e.KLineApiUrl),e.Right&&(this.Right=e.Right),e.Period&&(this.Period=e.Period),!0===e.IsBeforeData&&(this.IsBeforeData=e.IsBeforeData),e.NetworkFilter&&(this.NetworkFilter=e.NetworkFilter),e.DayCount>0&&(this.DayCount=e.DayCount),e.Arguments&&(this.Arguments=e.Arguments),e.KLineRange&&(this.KLineDateTimeRange=e.KLineRange),e.IsApiPeriod&&(this.IsApiPeriod=e.IsApiPeriod),e.DrawInfo&&(this.DrawInfo=e.DrawInfo)),this.RecvError=function(t){throw Nn.Complier.Log("[JSSymbolData::RecvError] ajax error.",t.status),{FunctionName:"RecvError",Request:t}},this.GetLatestDataKey=function(t){var t="DYNAINFO-"+t;return t},this.GetLatestData=function(t){var e=this.JobArgumentsToArray(t,1),i=e[0],a=this.GetLatestDataKey(i);if(this.LatestData.has(a))return this.Execute.RunNextJob();var r=this;if(this.NetworkFilter){var o={Name:"JSSymbolData::GetLatestData",Explain:"DYNAINFO()",Args:e,Request:{Url:r.RealtimeApiUrl,Type:"POST",Data:{symbol:[this.Symbol],field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","exchangerate","amplitude"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(t){r.RecvLatestData(t),r.Execute.RunNextJob()}),1==o.PreventDefault)return}n.HttpRequest({url:r.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","exchangerate","amplitude"],symbol:[this.Symbol]},type:"post",dataType:"json",async:!0,success:function(t){r.RecvLatestData(t),r.Execute.RunNextJob()},error:function(t){r.RecvError(t)}})},this.RecvLatestData=function(t){if(2==t.ver)return void this.RecvLatestDataVer2(t);if(t.stock&&1==t.stock.length){var e=t.stock[0];e&&(Ee.IsNumber(e.yclose)&&this.LatestData.set(Ao.YCLOSE,e.yclose),Ee.IsNumber(e.open)&&this.LatestData.set(Ao.OPEN,e.open),Ee.IsNumber(e.high)&&this.LatestData.set(Ao.HIGH,e.high),Ee.IsNumber(e.low)&&this.LatestData.set(Ao.LOW,e.low),Ee.IsNumber(e.price)&&this.LatestData.set(Ao.CLOSE,e.price),Ee.IsNumber(e.vol)&&this.LatestData.set(Ao.VOL,e.vol),Ee.IsNumber(e.amount)&&this.LatestData.set(Ao.AMOUNT,e.amount),Ee.IsNumber(e.increase)&&this.LatestData.set(Ao.INCREASE,e.increase),Ee.IsNumber(e.exchangerate)&&this.LatestData.set(Ao.EXCHANGERATE,e.exchangerate),Ee.IsNumber(e.amplitude)&&this.LatestData.set(Ao.AMPLITUDE,e.amplitude),Nn.Complier.Log("[JSSymbolData::RecvLatestData] symbol, LatestData",e.symbol,this.LatestData))}},this.RecvLatestDataVer2=function(t){if(Ee.IsNonEmptyArray(t.data)){for(var e=t.symbol,i=0;i<t.data.length;++i){var a=t.data[i];a&&(Ee.IsNumber(a.id)&&(Ee.IsNumber(a.value)||Ee.IsString(a.value))&&(Nn.Complier.Log("[JSSymbolData::RecvLatestDataVer2] symbol="+e+" DYNAINFO("+a.id+")="+a.value+"."),this.LatestData.set(a.id,a.value)))}Nn.Complier.Log("[JSSymbolData::RecvLatestDataVer2]",this.LatestData)}},this.GetLatestCacheData=function(t){return this.LatestData.has(t)?this.LatestData.get(t):null},this.GetLatestIndexData=function(){if(this.LatestIndexData)return this.Execute.RunNextJob();var t=this;if(this.NetworkFilter){var e={Name:"JSSymbolData::GetLatestIndexData",Explain:"最新大盘数据",Request:{Url:t.RealtimeApiUrl,Type:"POST",Data:{symbol:["000001.sh"],field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","amplitude"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.RecvLatestIndexData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}n.HttpRequest({url:t.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","time","increase","amplitude"],symbol:["000001.sh"]},type:"post",dataType:"json",async:!0,success:function(e){t.RecvLatestIndexData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})},this.RecvLatestIndexData=function(t){if(t.stock&&1==t.stock.length){var e=t.stock[0];this.LatestIndexData={Symbol:e.symbol,Name:e.name,Date:e.date,Time:e.time,YClose:e.yclose,Price:e.price,Open:e.open,High:e.high,Low:e.low,Vol:e.vol,Amount:e.amount,Increase:e.increase,Amplitude:e.amplitude},Nn.Complier.Log("[JSSymbolData::RecvLatestIndexData]",this.LatestIndexData)}},this.GetLatestIndexCacheData=function(t){if(!this.LatestIndexData)return null;switch(t){case"FROMOPEN":var e=parseInt(this.LatestIndexData.Time/100),i=60*parseInt(e/100)+e%100;return i<=565?0:i<570?1:i<=690?i-570+1:i<780?121:i<=900?122+i-780:242;default:return null}},this.GetVolRateData=function(t,e){var i=t.ID.toString()+"-VolRate-"+this.Symbol;if(this.ExtendData.has(i))return this.Execute.RunNextJob();var a=this,r=30;if(this.NetworkFilter){var o=this.Data.GetDateRange(),r=1;this.DataType==_o.MULTIDAY_MINUTE_ID&&(r=this.DayCount);var s={Name:"JSSymbolData::GetVolRateData",Explain:"分时量比数据(成交量)",Request:{Url:a.KLineApiUrl,Type:"POST",Data:{symbol:a.Symbol,dayCount:r,field:["name","symbol","vol"],period:0,right:0,dateRange:o}},Self:this,PreventDefault:!1};if(this.NetworkFilter(s,function(t){a.RecvVolRateData(t,i),a.Execute.RunNextJob()}),1==s.PreventDefault)return}n.HttpRequest({url:a.KLineApiUrl,data:{field:["name","symbol","vol"],symbol:a.Symbol,start:-1,count:r},type:"post",dataType:"json",async:!0,success:function(t){a.RecvVolRateData(t,i),a.Execute.RunNextJob()},error:function(t){a.RecvError(t)}})},this.RecvVolRateData=function(t,e){var i=0,a=0,r=new Mn.default;if(2==t.Ver){if(!Ee.IsNonEmptyArray(t.data))return;for(var n=0;n<t.data.length;++n){var o=t.data[n];Ee.IsNonEmptyArray(o)&&(o.length<2||Ee.IsNumber(o[0])&&Ee.IsPlusNumber(o[1])&&r.set(o[0],{AvgVol5:o[1]}))}}else{if(!Ee.IsNonEmptyArray(t.data))return;var s=241;Ee.IsNumber(t.minutecount)&&(s=t.minutecount);for(var n=0,l=0,h=0;n<t.data.length;++n){for(i=0,l=n,h=0;l>=0&&h<5;--l,++h){var o=t.data[l];Ee.IsNumber(o[6])&&(i+=o[6])}if(h>0){a=i/h/s;var o=t.data[n];r.set(o[0],{AvgVol5:a})}}}r.size>0&&this.ExtendData.set(e,r),Nn.Complier.Log("[JSSymbolData::RecvVolRateData]",r)},this.GetVolRateCacheData=function(t){var e=No.JOB_DOWNLOAD_VOLR_DATA.toString()+"-VolRate-"+this.Symbol;e&&this.ExtendData.has(e)||this.Execute.ThrowUnexpectedNode(t,"不支持VOLR");for(var i=[],a=this.ExtendData.get(e),r=0,n=0,o=null,s=0,l=0;s<this.Data.Data.length;++s){i[s]=null;var h=this.Data.Data[s];if(n!=h.Date){if(o=null,l=0,r=0,a.has(h.Date)){o=a.get(h.Date).AvgVol5}n=h.Date}null!=o&&(r+=h.Vol,i[s]=r/(l+1)/o*100,++l)}return i},this.GetIndexData=function(){if(this.IndexData)return this.Execute.RunNextJob();var t=this;if(Q.IsDayPeriod(this.Period,!0)){if(this.NetworkFilter){var e=this.Data.GetDateRange(),i={Name:"JSSymbolData::GetIndexData",Explain:"大盘数据",Period:t.Period,Request:{Url:t.KLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol","up","down","stop","unchanged"],indexSymbol:"000001.sh",symbol:this.Symbol,period:this.Period,dateRange:e}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.RecvIndexHistroyData(e),t.Execute.RunNextJob()}),1==i.PreventDefault)return}n.HttpRequest({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","up","down","stop","unchanged"],symbol:"000001.sh",start:-1,count:t.MaxRequestDataCount+500},type:"post",dataType:"json",async:!0,success:function(e){t.RecvIndexHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}else if(Q.IsMinutePeriod(this.Period,!0)){if(this.NetworkFilter){var e=this.Data.GetDateRange(),i={Name:"JSSymbolData::GetIndexData",Explain:"大盘数据",Period:t.Period,Request:{Url:t.MinuteKLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],indexSymbol:"000001.sh",symbol:this.Symbol,period:this.Period,dateRange:e}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(e){t.RecvIndexMinuteHistroyData(e),t.Execute.RunNextJob()}),1==i.PreventDefault)return}n.HttpRequest({url:t.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:"000001.sh",start:-1,count:t.MaxRequestMinuteDayCount+5},type:"post",dataType:"json",async:!0,success:function(e){t.RecvIndexMinuteHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}},this.RecvIndexHistroyData=function(t){Nn.Complier.Log("[JSSymbolData::RecvIndexHistroyData] recv data",t);var e=this.JsonDataToHistoryData(t);if(this.IndexData=new Q,this.IndexData.DataType=0,this.IndexData.Data=e,1==this.IsApiPeriod)this.IndexData.Period=this.Period,this.IndexData.Data=this.Data.FixKData(e,this.Period);else{var i=this.SourceData.GetOverlayData(this.IndexData.Data);if(this.IndexData.Data=i,Q.IsDayPeriod(this.Period,!1)){var a=this.IndexData.GetPeriodData(this.Period);this.IndexData.Data=a}}},this.RecvIndexMinuteHistroyData=function(t){Nn.Complier.Log("[JSSymbolData::RecvIndexMinuteHistroyData] recv data",t);var e=this.JsonDataToMinuteHistoryData(t);if(this.IndexData=new Q,this.IndexData.DataType=1,this.IndexData.Data=e,1==this.IsApiPeriod)this.IndexData.Period=this.Period,this.IndexData.Data=this.Data.FixKData(e,this.Period);else if(Q.IsMinutePeriod(this.Period,!1)){var i=this.IndexData.GetPeriodData(this.Period);this.IndexData.Data=i}},this.GetOtherSymbolParam=function(t){var e=t.split("$");if(!new Tn.default(["CLOSE","C","VOL","V","OPEN","O","HIGH","H","LOW","L","AMOUNT","AMO","VOLINSTK"]).has(e[1]))return null;var i=e[0];if(6==i.length)"6"==i[0]||"5"==i[0]||"8"==i[0]||"9"==i[0]?i+=".SH":"0"!=i[0]&&"1"!=i[0]&&"2"!=i[0]&&"3"!=i[0]||(i+=".SZ");else if(0==i.indexOf("SZ"))i=i.substr(2)+".SZ";else if(0==i.indexOf("SH"))i=i.substr(2)+".SH";else{if(!(i.indexOf("_")>0))return null;var a=i.split("_");i=a[1]+"."+a[0]}return{Symbol:i.toLowerCase(),DataName:e[1]}},this.GetOtherSymbolData=function(t){var e=this.Symbol;if(t.Literal){var i=this.GetOtherSymbolParam(t.Literal.toUpperCase());if(!i){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,t.Literal+" Error.")}e=i.Symbol}else{var i=t.Args;if(i.length>0){var r=i[0];if(r.Type==Mo.Literal)e=r.Value;else if(r.Type==Mo.Identifier){var o=!1;for(var s in this.Arguments){var l=this.Arguments[s];if(l.Name==r.Name){e=l.Value,o=!0;break}}if(!o){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,t.FunctionName+"() Error: can't read "+r.Name)}}}}if(t.Symbol=e.toLowerCase(),t.Symbol==this.Symbol)return this.Execute.RunNextJob();if(this.OtherSymbolData.has(t.Symbol))return this.Execute.RunNextJob();var h=this;if(this.DataType==_o.KLINE_ID&&Q.IsDayPeriod(this.Period,!0)){if(this.NetworkFilter){var u=this.Data.GetDateRange(),c={Name:"JSSymbolData::GetOtherSymbolData",Explain:"指定个股数据",Request:{Data:{symbol:t.Symbol,right:h.Right,period:h.Period,dateRange:u}},Self:this,PreventDefault:!1};if(this.NetworkFilter(c,function(e){h.RecvOtherSymbolKData(e,t),h.Execute.RunNextJob()}),1==c.PreventDefault)return}n.HttpRequest({url:h.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:h.MaxRequestDataCount+500},type:"post",dataType:"json",async:!0,success:function(e){h.RecvOtherSymbolKDayData(e,t),h.Execute.RunNextJob()},error:function(t){h.RecvError(t)}})}else if(Q.IsMinutePeriod(this.Period,!0)||this.DataType==_o.MINUTE_ID||this.DataType==_o.MULTIDAY_MINUTE_ID){if(this.NetworkFilter){var u=this.Data.GetDateRange(),c={Name:"JSSymbolData::GetOtherSymbolData",Explain:"指定个股数据",Request:{Data:{symbol:t.Symbol,right:h.Right,period:h.Period,dateRange:u}},Self:this,PreventDefault:!1};if(this.NetworkFilter(c,function(e){h.RecvOtherSymbolKData(e,t),h.Execute.RunNextJob()}),1==c.PreventDefault)return}n.HttpRequest({url:h.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:h.MaxRequestMinuteDayCount+5},type:"post",dataType:"json",async:!0,success:function(e){h.RecvOtherSymbolKMinuteData(e,t),h.Execute.RunNextJob()},error:function(t){h.RecvError(t)}})}},this.RecvOtherSymbolKData=function(t,e){Nn.Complier.Log("[JSSymbolData::RecvOtherSymbolKData] recv data",t);var i=new Q,a=null,r=this.Period;this.DataType==_o.KLINE_ID&&Q.IsDayPeriod(this.Period,!0)?(a=this.JsonDataToHistoryData(t),i.DataType=0):(a=this.JsonDataToMinuteHistoryData(t),i.DataType=1,this.DataType!=_o.MINUTE_ID&&this.DataType!=_o.MULTIDAY_MINUTE_ID||(r=4)),i.Period=this.Period,i.Right=this.Right,i.Data=this.Data.FixKData(a,r),this.OtherSymbolData.set(e.Symbol,i)},this.RecvOtherSymbolKDayData=function(t,e){Nn.Complier.Log("[JSSymbolData::RecvOtherSymbolKDayData] recv data",t);var i=this.JsonDataToHistoryData(t),a=new Q;a.DataType=0,a.Data=i;var r=this.SourceData.GetOverlayData(a.Data);if(a.Data=r,Q.IsDayPeriod(this.Period,!1)){var n=a.GetPeriodData(this.Period);a.Data=n}this.OtherSymbolData.set(e.Symbol,a)},this.RecvOtherSymbolKMinuteData=function(t,e){Nn.Complier.Log("[JSSymbolData::RecvOtherSymbolKMinuteData] recv data",t);var i=this.JsonDataToMinuteHistoryData(t),a=new Q;if(a.DataType=1,a.Data=i,Q.IsMinutePeriod(this.Period,!1)){var r=a.GetPeriodData(this.Period);a.Data=r}this.OtherSymbolData.set(e.Symbol,a)},this.GetOtherSymolCacheData=function(t){var e,i;if(t.FunctionName){i=t.FunctionName;var a=t.Args;if(a.length<=0)return this.GetSymbolCacheData(i);e=a[0].toString().toLowerCase()}else if(t.Literal){var a=this.GetOtherSymbolParam(t.Literal.toUpperCase());if(!a)return[];e=a.Symbol,i=a.DataName}if(e==this.Symbol)return this.GetSymbolCacheData(i);if(!this.OtherSymbolData.has(e))return[];var r=this.OtherSymbolData.get(e),n=e.toUpperCase();switch(i){case"CLOSE":case"C":return r.GetClose();case"VOL":case"V":return po.IsSHSZ(n)?r.GetVol(100):r.GetVol();case"OPEN":case"O":return r.GetOpen();case"HIGH":case"H":return r.GetHigh();case"LOW":case"L":return r.GetLow();case"AMOUNT":case"AMO":return r.GetAmount();case"VOLINSTK":return r.GetPosition()}},this.GetIndexCacheData=function(t){if(!this.IndexData)return new Array;switch(t){case"INDEXA":return this.IndexData.GetAmount();case"INDEXC":return this.IndexData.GetClose();case"INDEXH":return this.IndexData.GetHigh();case"INDEXL":return this.IndexData.GetLow();case"INDEXO":return this.IndexData.GetOpen();case"INDEXV":return this.IndexData.GetVol();case"INDEXADV":return this.IndexData.GetUp();case"INDEXDEC":return this.IndexData.GetDown()}},this.GetBlockSymbol=function(t){var e=new Mn.default([["沪深A股","CNA.ci"],["创业板","GEM.ci"],["沪市A股","SHA.ci"],["中小板","SME.ci"],["深市A股","SZA.ci"]]);if(e.has(t))return e.get(t);if(!t)return null;var i=null,a=t.toUpperCase();if(a.indexOf(".SH")>0||a.indexOf(".SZ")>0){if(!new Tn.default(["000001.SH","000003.SH","000016.SH","000300.SH","000905.SH","399001.SZ"," 399005.SZ","399006.SZ"]).has(a))return null;i=t.replace(".SH",".sh"),i=t.replace(".SZ",".sz")}else t.indexOf(".CI")>0&&(i=t.replace(".CI",".ci"));return i},this.GetIndexIncreaseData=function(t){var e=null;if(t.IsSelfSymbol)e=this.Symbol;else{if(!t.Args||t.Args.length<=0){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,t.FunctionName+" Error: 参数不能为空")}e=t.Args[0].Value}var a=this.GetBlockSymbol(e);if(!a){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,t.FunctionName+" Error: can't support "+e)}var r=t.ID.toString()+"-UpCount-"+a,o=t.ID.toString()+"-DownCount-"+a;if(this.ExtendData.has(r)&&this.ExtendData.has(o))return this.Execute.RunNextJob();var s=this;if(this.NetworkFilter){var l={Type:this.DataType};this.DataType===_o.KLINE_ID&&(l.Period=this.Period);var h=this.Data.GetDateRange(),u={Name:"JSSymbolData::GetIndexIncreaseData",Explain:"涨停家数统计",DateRange:h,DataType:l,Request:{Url:"数据地址",Type:"POST",Data:{symbol:this.Symbol,blocksymbol:a,field:["up","down"]}},Self:this,PreventDefault:!1};if(this.NetworkFilter(u,function(t){this.DataType===_o.KLINE_ID?this.RecvHistoryIncreaseDataV2(t,{UpKey:r,DownKey:o}):this.RecvMinuteIncreaseDataV2(t,{UpKey:r,DownKey:o}),s.Execute.RunNextJob()}),1==u.PreventDefault)return}if(this.DataType===_o.MINUTE_ID||this.DataType===_o.MULTIDAY_MINUTE_ID){var c=yo.CacheDomain+"/cache/analyze/increaseanalyze/"+a+".json";Nn.Complier.Log("[JSSymbolData::GetIndexIncreaseData] minute Get url=",c),n.HttpRequest({url:c,type:"get",dataType:"json",async:!0,success:function(t){s.RecvMinuteIncreaseData(t,{UpKey:r,DownKey:o}),s.Execute.RunNextJob()},error:function(t){s.RecvError(t)}})}else this.DataType===_o.KLINE_ID&&Q.IsDayPeriod(this.Period,!0)?(Nn.Complier.Log("[JSSymbolData::GetIndexIncreaseData] K day Get url=",s.KLineApiUrl),n.HttpRequest({url:s.KLineApiUrl,data:{symbol:a,start:-1,count:s.MaxRequestDataCount,field:["up","down"]},type:"post",dataType:"json",async:!0,success:function(t){s.RecvHistoryIncreaseData(t,{UpKey:r,DownKey:o}),s.Execute.RunNextJob()},error:function(t){s.RecvError(t)}})):this.Execute.RunNextJob()},this.RecvHistoryIncreaseDataV2=function(t,e){Nn.Complier.Log("[JSSymbolData::RecvHistoryIncreaseData] recv data, key",t,e);var i=[],a=[];for(var r in t.data){var n=t.data[r],o=new J,s=new J,l=n[0],h=null;o.Date=l,s.Date=l,Q.IsMinutePeriod(this.Period,!0)&&Ee.IsNumber(n[1])&&(h=n[1],o.Time=h,s.Time=h),o.Value=n[2],i[r]=o,s.Value=n[3],a[r]=s}var u=this.Data.GetFittingData2(i,0),c=this.Data.GetFittingData2(a,0);this.ExtendData.set(e.UpKey,u),this.ExtendData.set(e.DownKey,c)},this.RecvHistoryIncreaseData=function(t,e){Nn.Complier.Log("[JSSymbolData::RecvHistoryIncreaseData] recv data",t);var i=[],a=[];for(var r in t.data){var n=t.data[r],o=new J,s=new J;o.Date=n[0],o.Value=n[8],i[r]=o,s.Date=n[0],s.Value=n[9],a[r]=s}var l,h;l=this.SourceData?this.SourceData.GetFittingData(i):this.Data.GetFittingData(aryData),h=this.SourceData?this.SourceData.GetFittingData(a):this.Data.GetFittingData(aryData),this.ExtendData.set(e.UpKey,l),this.ExtendData.set(e.DownKey,h)},this.RecvMinuteIncreaseDataV2=function(t,e){Nn.Complier.Log("[JSSymbolData::RecvMinuteIncreaseDataV2] recv data, key",t,e)},this.RecvMinuteIncreaseData=function(t,e){if(Nn.Complier.Log("[JSSymbolData::RecvMinuteIncreaseData] recv data",t),t.minute){var i=t.minute;if(i.time&&i.up&&i.down){var a=[],r=[];if(this.IsBeforeData)for(var n=0,o=0;n<this.Data.Data.length;++n){a[n]=null,r[n]=null;var s=this.Data.Data[n];if(!s.Before){var l=s.DateTime;if(l){var h=l.split(" ");if(2==h.length){var u=parseInt(h[0]);u==t.date&&(a[n]=i.up[o],r[n]=i.down[o],++o)}}}}else for(var n=0,o=0;n<this.Data.Data.length;++n){a[n]=null,r[n]=null;var s=this.Data.Data[n],l=s.DateTime;if(l){var h=l.split(" ");if(2==h.length){var u=parseInt(h[0]);u==t.date&&(a[n]=i.up[o],r[n]=i.down[o],++o)}}}this.ExtendData.set(e.UpKey,a),this.ExtendData.set(e.DownKey,r)}}},this.GetIndexIncreaseCacheData=function(t,e,i){var a=this.GetBlockSymbol(e);a||this.Execute.ThrowUnexpectedNode(i,"不支持函数"+t+"("+e+")");var r;if("UPCOUNT"==t||"ADVANCE"==t?r=No.JOB_DOWNLOAD_INDEX_INCREASE_DATA.toString()+"-UpCount-"+a:"DOWNCOUNT"!=t&&"DECLINE"!=t||(r=No.JOB_DOWNLOAD_INDEX_INCREASE_DATA.toString()+"-DownCount-"+a),r&&this.ExtendData.has(r)||this.Execute.ThrowUnexpectedNode(i,"不支持函数"+t+"("+e+")"),this.DataType===_o.MINUTE_ID||this.DataType===_o.MULTIDAY_MINUTE_ID)return this.ExtendData.get(r);if(this.DataType===_o.KLINE_ID&&Q.IsDayPeriod(this.Period,!0)){var n=this.ExtendData.get(r),o=new Q;if(o.Data=n,o.Period=this.Period,o.Period>0){var s=o.GetPeriodSingleData(o.Period);o.Data=s}return o.GetValue()}return null},this.GetSymbolData=function(){if(this.Data)return this.Execute.RunNextJob();var t=this;if(this.DataType===_o.MINUTE_ID)return void n.HttpRequest({url:t.RealtimeApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol","amount","date","minute","time","minutecount"],symbol:[t.Symbol],start:-1},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMinuteData(e),t.Execute.RunNextJob()}});if(this.DataType===_o.MULTIDAY_MINUTE_ID)return void n.HttpRequest({url:t.HistoryMinuteApiUrl,data:{symbol:t.Symbol,daycount:t.DayCount},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMultiDayMinuteData(e),t.Execute.RunNextJob()}});if(Q.IsDayPeriod(this.Period,!0)){if(this.NetworkFilter){var e={Name:"JSSymbolData::GetSymbolData",Explain:"日线数据",Request:{Url:t.RealtimeApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestDataCount,period:this.Period,right:this.Right}},Self:this,PreventDefault:!1};if(this.KLineDateTimeRange&&(e.Request.KLineDataTimeRange={Start:{Date:this.KLineDateTimeRange.Start.Date},End:{Date:this.KLineDateTimeRange.End.Date}},this.IsNumber(this.KLineDateTimeRange.Start.Time)&&(e.Request.KLineDataTimeRange.Start.Time=this.KLineDateTimeRange.Start.Time),this.IsNumber(this.KLineDateTimeRange.End.Time)&&(e.Request.KLineDataTimeRange.End.Time=this.KLineDateTimeRange.End.Time)),this.NetworkFilter(e,function(e){t.RecvHistroyData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}n.HttpRequest({url:t.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(e){t.RecvHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}else if(Q.IsMinutePeriod(this.Period,!0)){if(this.NetworkFilter){var e={Name:"JSSymbolData::GetSymbolData",Explain:"分钟K线数据",Request:{Url:t.MinuteKLineApiUrl,Type:"POST",Data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount,period:this.Period,right:this.Right}},Self:this,PreventDefault:!1};if(this.KLineDateTimeRange&&(e.Request.KLineDataTimeRange={Start:{Date:this.KLineDateTimeRange.Start.Date},End:{Date:this.KLineDateTimeRange.End.Date}},this.IsNumber(this.KLineDateTimeRange.Start.Time)&&(e.Request.KLineDataTimeRange.Start.Time=this.KLineDateTimeRange.Start.Time),this.IsNumber(this.KLineDateTimeRange.End.Time)&&(e.Request.KLineDataTimeRange.End.Time=this.KLineDateTimeRange.End.Time)),this.NetworkFilter(e,function(e){t.RecvMinuteHistroyData(e),t.Execute.RunNextJob()}),1==e.PreventDefault)return}n.HttpRequest({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:t.Symbol,start:-1,count:t.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(e){t.RecvMinuteHistroyData(e),t.Execute.RunNextJob()},error:function(e){t.RecvError(e)}})}},this.RecvHistroyData=function(t){Nn.Complier.Log("[JSSymbolData::RecvHistroyData] recv data",t);var e=this.JsonDataToHistoryData(t);if(this.Data=new Q,this.Data.DataType=0,this.Data.Data=e,this.SourceData=new Q,this.SourceData.Data=e,this.IsApiPeriod);else{if(this.Right>0){var i=this.Data.GetRightData(this.Right);this.Data.Data=i}if(Q.IsDayPeriod(this.Period,!1)){var a=this.Data.GetPeriodData(this.Period);this.Data.Data=a}}this.Data.Right=this.Right,this.Data.Period=this.Period,this.Name=t.name},this.RecvMinuteHistroyData=function(t){Nn.Complier.Log("[JSSymbolData::RecvMinuteHistroyData] recv data",t);var e=this.JsonDataToMinuteHistoryData(t);if(this.Data=new Q,this.Data.DataType=1,this.Data.Data=e,this.SourceData=new Q,this.SourceData.Data=e,this.IsApiPeriod);else if(Q.IsMinutePeriod(this.Period,!1)){var i=this.Data.GetPeriodData(this.Period);this.Data.Data=i}this.Data.Period=this.Period,this.Name=t.name},this.RecvMinuteData=function(t){Nn.Complier.Log("[JSSymbolData::RecvMinuteData] recv data",t);var e=this.JsonDataToMinuteData(t);this.Data=new Q,this.Data.DataType=2,this.Data.Data=e,this.Name=t.stock[0].name},this.RecvMultiDayMinuteData=function(t){var e=this.JsonDataToMultiDayMinuteData(t);this.Data=new Q,this.Data.DataType=2,this.Data.Data=e,this.Name=t.name},this.GetSymbolCacheData=function(t){if(!this.Data)return new Array;var e=this.Symbol.toUpperCase();switch(t){case"CLOSE":case"C":return this.Data.GetClose();case"VOL":case"V":return po.IsSHSZ(e)?this.Data.GetVol(100):this.Data.GetVol();case"OPEN":case"O":return this.Data.GetOpen();case"HIGH":case"H":return this.Data.GetHigh();case"LOW":case"L":return this.Data.GetLow();case"AMOUNT":case"AMO":return this.Data.GetAmount();case"OPI":case"VOLINSTK":return this.Data.GetPosition();case"ZSTJJ":return this.Data.GetAvPrice();case"SETTLE":case"QHJSJ":return this.Data.GetSettlementPrice();case"ISEQUAL":return this.Data.GetIsEqual();case"ISUP":return this.Data.GetIsUp();case"ISDOWN":return this.Data.GetIsDown()}},this.GetSymbolPeriodData=function(t){var e=Cr.GetPeriodInfo({Name:t.PeriodName}).Period,i={PeriodID:e,PeriodName:t.PeriodName};if(e==this.Period&&this.Execute.RunNextJob(),this.IsApiPeriod){if(this.PeriodData.has(t.PeriodName))return this.Execute.RunNextJob()}else if(Q.IsDayPeriod(e,!0)){if(Q.IsDayPeriod(this.Period,!0))return this.Execute.RunNextJob();i={PeriodID:0,PeriodName:"DAY"}}else{if(!Q.IsMinutePeriod(e,!0))return this.Execute.RunNextJob();if(Q.IsMinutePeriod(this.Period,!0))return this.Execute.RunNextJob();i={PeriodID:4,PeriodName:"MIN1"}}var a=this;if(this.NetworkFilter){var r={Name:"JSSymbolData::GetSymbolPeriodData",Explain:"跨周期数据",Request:{Data:{field:["symbol","name",t.ValueName],period:t.PeriodName,symbol:a.Symbol}},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(t){a.RecvSymbolPeriodData(t,i),a.Execute.RunNextJob()}),1==r.PreventDefault)return}if(Q.IsMinutePeriod(e,!0))n.HttpRequest({url:this.MinuteKLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:a.Symbol,start:-1,count:a.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(t){a.RecvSymbolPeriodData(t,i),a.Execute.RunNextJob()},error:function(t){a.RecvError(t)}});else{if(!Q.IsDayPeriod(e,!0))return this.Execute.RunNextJob();n.HttpRequest({url:a.KLineApiUrl,data:{field:["name","symbol","yclose","open","price","high","low","vol"],symbol:a.Symbol,start:-1,count:a.MaxRequestDataCount},type:"post",dataType:"json",async:!0,success:function(t){a.RecvSymbolPeriodData(t,i),a.Execute.RunNextJob()},error:function(t){a.RecvError(t)}})}},this.RecvSymbolPeriodData=function(t,e){if(Nn.Complier.Log("[JSSymbolData::RecvSymbolPeriodData] data, periodInfo ",t,e),Q.IsDayPeriod(e.PeriodID,!0)){var i=this.JsonDataToHistoryData(t),a=new Q;a.DataType=0,a.Data=i,a.Right=0,a.Period=e.PeriodID,this.PeriodData.set(e.PeriodName,a)}else if(Q.IsMinutePeriod(e.PeriodID,!0)){var i=this.JsonDataToMinuteHistoryData(t),r=new Q;r.DataType=1,r.Data=i,r.Right=0,r.Period=e.PeriodID,this.PeriodData.set(e.PeriodName,r)}},this.GetSymbolPeriodCacheData=function(t,e){var i=Cr.GetPeriodInfo({Name:e});if(this.Period==i.Period)return this.GetSymbolCacheData(t);var a=null;if(this.IsApiPeriod){var r=Cr.GetPeriodInfo({PeriodID:this.Period});if(!r)return null;if(r.Order>i.Order)return null;if(!this.PeriodData.has(e))return null;a=this.PeriodData.get(e),a=a.Data}else{var r=Cr.GetPeriodInfo({PeriodID:this.Period});if(!r)return null;if(r.Order>i.Order)return null;if(Q.IsDayPeriod(i.Period,!0)&&Q.IsMinutePeriod(this.Period,!0)){var n=this.PeriodData.get("DAY");a=0==i.Period?n.Data:n.GetPeriodData(i.Period)}else{var o=new Q;if(o.Data=this.SourceData.Data,o.Period=this.Period,o.Right=this.Right,Q.IsDayPeriod(i.Period,!0)&&o.Right>0){var s=o.GetRightData(o.Right);o.Data=s}a=o.GetPeriodData(i.Period)}}var l=this.Data.ConverPeriod(a,this.Period,i.Period),h=new Q;h.Data=l;var u=this.Symbol.toUpperCase();switch(t){case"C":case"CLOSE":return h.GetClose();case"O":case"OPEN":return h.GetOpen();case"H":case"HIGH":return h.GetHigh();case"L":case"LOW":return h.GetLow();case"AMO":case"AMOUNT":return h.GetAmount();case"V":case"VOL":return po.IsSHSZ(u)?h.GetVol(100):h.GetVol();case"VOLINSTK":return h.GetPosition();default:return null}},this.GetSymbolPeriodCacheData2=function(t,e,i){var a=Cr.GetPeriodInfo({Name:e});if(!a)return null;var r=Cr.GetPeriodInfo({PeriodID:this.Period});if(!r)return null;if(r.Order>a.Order)return null;var n;if(r.Period==a.Period)n=this.Data;else{var o;if(this.IsApiPeriod){if(!this.PeriodData.has(e))return null;o=this.PeriodData.get(e)}else if(Q.IsMinutePeriod(r.Period,!0)&&Q.IsDayPeriod(a.Period,!0)){var s=this.PeriodData.get("DAY");o=0==a.Period?s:s.GetPeriodData(a.Period)}else{var l=new Q;if(l.Data=this.SourceData.Data,l.Period=this.Period,l.Right=this.Right,Q.IsDayPeriod(a.Period,!0)&&l.Right>0){var h=l.GetRightData(l.Right);l.Data=h}o=l.GetPeriodData(a.Period)}var u=this.Data.ConverPeriod(o,this.Period,a.Period),n=new Q;n.Data=u}if(Ee.IsPlusNumber(i)){var c=new Q,u=n.GetRef(i);c.Data=u,n=c}var d=this.Symbol.toUpperCase();switch(t){case"C":case"CLOSE":return n.GetClose();case"O":case"OPEN":return n.GetOpen();case"H":case"HIGH":return n.GetHigh();case"L":case"LOW":return n.GetLow();case"AMO":case"AMOUNT":return n.GetAmount();case"V":case"VOL":return po.IsSHSZ(d)?n.GetVol(100):n.GetVol();case"VOLINSTK":return n.GetPosition();default:return null}},this.GetCurrBarsCount=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length,i=e-1;i>=0;--i)t.push(i+1);return t},this.GetBarPos=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length,i=0;i<e;++i)t.push(i+1);return t},this.GetTotalTradeMinuteCount=function(){var t=Co.GetCoordinateData(this.Symbol);return t&&t.Count>0?t.Count-1:242},this.GetTotalBarsCount=function(){return this.Data.Data.length},this.GetIsLastBar=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length,i=0;i<e;++i)i==e-1?t.push(1):t.push(0);return t},this.GetBarStatus=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=this.Data.Data.length,i=0;i<e;++i)t[i]=0==i?1:i==e-1?2:0;return t},this.GetMarginCacheData=function(t,e){var i=No.GetMarginJobID(t);return i||this.Execute.ThrowUnexpectedNode(e,"不支持MARGIN("+t+")"),this.MarginData.has(i)?this.MarginData.get(i):[]},this.GetMarginData=function(t){if(this.MarginData.has(t))return this.Execute.RunNextJob();Nn.Complier.Log("[JSSymbolData::GetMarginData] jobID=",t);var e=this,i=["name","date","symbol"];switch(t){case No.JOB_DOWNLOAD_MARGIN_BALANCE:i.push("margin.balance");break;case No.JOB_DOWNLOAD_MARGIN_RATE:i.push("margin.rate");break;case No.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case No.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case No.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case No.JOB_DOWNLOAD_MARGIN_BUY_NET:i.push("margin.buy");break;case No.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case No.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case No.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case No.JOB_DOWNLOAD_MARGIN_SELL_NET:i.push("margin.sell")}n.HttpRequest({url:this.StockHistoryDayApiUrl,data:{field:i,symbol:[this.Symbol],orderfield:"date"},type:"post",dataType:"json",async:!0,success:function(i){e.RecvMarginData(i,t),e.Execute.RunNextJob()}})},this.RecvMarginData=function(t,e){if(Nn.Complier.Log(t),t.stock&&1==t.stock.length){var i=t.stock[0],a=new Array,r=[],n=[],o=[];for(var s in i.stockday){var l=i.stockday[s],h=l.margin;if(h){var u=new J;switch(u.Date=l.date,e){case No.JOB_DOWNLOAD_MARGIN_BALANCE:if(!this.IsNumber(h.balance))continue;u.Value=h.balance,a.push(u);break;case No.JOB_DOWNLOAD_MARGIN_RATE:if(!this.IsNumber(h.rate))continue;u.Value=h.rate,a.push(u);break;case No.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case No.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case No.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case No.JOB_DOWNLOAD_MARGIN_BUY_NET:var c=h.buy;if(!c)continue;if(!(this.IsNumber(c.balance)&&this.IsNumber(c.amount)&&this.IsNumber(c.repay)&&this.IsNumber(c.net)))continue;u.Value=c.balance;var d=new J;d.Date=l.date,d.Value=c.amount;var f=new J;f.Date=l.date,f.Value=c.repay;var p=new J;p.Date=l.date,p.Value=c.net,a.push(u),r.push(d),n.push(f),o.push(p);break;case No.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case No.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case No.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case No.JOB_DOWNLOAD_MARGIN_SELL_NET:var m=h.sell;if(!m)continue;if(!(this.IsNumber(m.balance)&&this.IsNumber(m.volume)&&this.IsNumber(m.repay)&&this.IsNumber(m.net)))continue;u.Value=c.balance;var d=new J;d.Date=l.date,d.Value=c.volume;var f=new J;f.Date=l.date,f.Value=c.repay;var p=new J;p.Date=l.date,p.Value=c.net,a.push(u),r.push(d),n.push(f),o.push(p);break;default:continue}}}var C=[];e===No.JOB_DOWNLOAD_MARGIN_BALANCE||e===No.JOB_DOWNLOAD_MARGIN_RATE?C.push({JobID:e,Data:a}):e===No.JOB_DOWNLOAD_MARGIN_BUY_BALANCE||e===No.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT||e===No.JOB_DOWNLOAD_MARGIN_BUY_REPAY||e===No.JOB_DOWNLOAD_MARGIN_BUY_NET?(C.push({JobID:No.JOB_DOWNLOAD_MARGIN_BUY_BALANCE,Data:a}),C.push({JobID:No.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT,Data:r}),C.push({JobID:No.JOB_DOWNLOAD_MARGIN_BUY_REPAY,Data:n}),C.push({JobID:No.JOB_DOWNLOAD_MARGIN_BUY_NET,Data:o})):e!==No.JOB_DOWNLOAD_MARGIN_SELL_BALANCE&&e!==No.JOB_DOWNLOAD_MARGIN_SELL_VOLUME&&e!==No.JOB_DOWNLOAD_MARGIN_SELL_REPAY&&e!==No.JOB_DOWNLOAD_MARGIN_SELL_NET||(C.push({JobID:No.JOB_DOWNLOAD_MARGIN_SELL_BALANCE,Data:a}),C.push({JobID:No.JOB_DOWNLOAD_MARGIN_SELL_VOLUME,Data:r}),C.push({JobID:No.JOB_DOWNLOAD_MARGIN_SELL_REPAY,Data:n}),C.push({JobID:No.JOB_DOWNLOAD_MARGIN_SELL_NET,Data:o}));for(var v in C){var D=this.SourceData.GetFittingData(C[v].Data),g=new Q;if(g.Data=D,g.Period=this.Period,g.Period>0){var S=g.GetPeriodSingleData(g.Period);g.Data=S}var x=g.GetValue();this.MarginData.set(C[v].JobID,x)}}},this.GetNewsAnalysisCacheData=function(t,e){var i=No.GetNewsAnalysisID(t);return i||this.Execute.ThrowUnexpectedNode(e,"不支持NEWS("+t+")"),this.NewsAnalysisData.has(i)?this.NewsAnalysisData.get(i):[]},this.GetHKToSHSZData=function(t){var e=t.Args,i=this.Symbol;if(e.length>0){var a=e[0];if(a.Type==Mo.Literal)i=a.Value;else if(a.Type==Mo.Identifier){var r=!1;for(var n in this.Arguments){var o=this.Arguments[n];if(o.Name==a.Name){i=o.Value,r=!0;break}}if(!r){var s=t.Token;this.Execute.ErrorHandler.ThrowError(s.Index,s.Line,0,"HK2SHSZ() Error: can't read "+a.Name)}}}t.Symbol=i,1==i||2==i||3==i?this.GetHKToSHSZMarketData(i,t):this.GetHKToSHSZStockData(i,t)},this.GetHKToSHSZStockData=function(t,e){if(this.HKToSHSZData.has(t))return this.Execute.RunNextJob();var i=t.toLowerCase(),a=this,r=this.HKToSHSZApiUrl[3]+"/"+i+".json";n.HttpRequest({url:r,type:"get",dataType:"json",async:!0,success:function(t){a.RecvHKToSHSZStockData(t,e),a.Execute.RunNextJob()},error:function(t){console.warn("[JSSymbolData::GetHKToSHSZStockData] request url="+r+" failed. error="+t.status),a.RecvHKToSHSZStockData(null,e),a.Execute.RunNextJob()}})},this.RecvHKToSHSZStockData=function(t,e){if(t){for(var i=t.symbol,a=i.toUpperCase(),r=[],n=0;n<t.date.length;++n){var o=new J;o.Date=t.date[n],o.Value=t.vol[n],r.push(o)}var s=this.Data.GetFittingData(r),l=new Q;if(l.Data=s,l.Period=this.Period,l.Period>0){var h=l.GetPeriodSingleData(l.Period);l.Data=h}var t=l.GetValue();this.HKToSHSZData.set(a,t)}},this.GetHKToSHSZMarketData=function(t,e){if(this.HKToSHSZData.has(t))return this.Execute.RunNextJob();var i,a=0;this.DataType===_o.MINUTE_ID?a=1:this.DataType==_o.MULTIDAY_MINUTE_ID?a=2:this.Period<=3&&(a=0),i=this.HKToSHSZApiUrl[a];var r=this;Nn.Complier.Log("[JSSymbolData::GetHKToSHSZMarketData] code="+t+" url="+i+", dataType="+a),2===a?n.HttpRequest({url:i,data:{symbol:this.Symbol,daycount:this.MaxRequestMinuteDayCount},type:"post",dataType:"json",async:!0,success:function(t){r.RecvMulitMinuteHKToSHSZData(t,e),r.Execute.RunNextJob()}}):n.HttpRequest({url:i,type:"get",dataType:"json",async:!0,success:function(t){0==a?r.RecvHKToSHSZData(t,e):1==a&&r.RecvMinuteHKToSHSZData(t,e),r.Execute.RunNextJob()}})},this.RecvMinuteHKToSHSZData=function(t,e){var i=[],a=[],r=[];if(this.IsBeforeData){for(o in this.SourceData.Data){var n=this.SourceData.Data[o];if(!n.Before)break;i.push(null),a.push(null),r.push(null)}for(var o=0;o<t.time.length;++o){if(925!==t.time[o]){var s=t.hk2sh[o],l=t.hk2sz[o],h=s+l;i.push(h),a.push(s),r.push(l)}}}else for(var o=0;o<t.time.length;++o){var s=(t.time[o],t.hk2sh[o]),l=t.hk2sz[o],h=s+l;i.push(h),a.push(s),r.push(l)}var u=[{Data:i,ID:1},{Data:a,ID:2},{Data:r,ID:3}];for(var o in u){var n=u[o];this.HKToSHSZData.set(n.ID,n.Data)}},this.RecvHKToSHSZData=function(t,e){for(var i=[],a=[],r=[],n=0;n<t.date.length;++n){var o=t.date[n],s=1e6*t.hk2sh[n],l=1e6*t.hk2sz[n],h=s+l,u=new J;u.Date=o,u.Value=h;var c=new J;c.Date=o,c.Value=s;var d=new J;d.Date=o,d.Value=l,i.push(u),a.push(c),r.push(d)}var f=[{Data:i,ID:1},{Data:a,ID:2},{Data:r,ID:3}];for(var p in f){var m=this.Data.GetFittingData(f[p].Data),C=new Q;if(C.Data=m,C.Period=this.Period,C.Period>0){var v=C.GetPeriodSingleData(C.Period);C.Data=v}var D=C.GetValue();this.HKToSHSZData.set(f[p].ID,D)}},this.RecvMulitMinuteHKToSHSZData=function(t,e){if(t.data&&!(t.data.length<=0)){for(var i=[],a=[],r=[],n=0,o=0;n<this.Data.Data.length&&o<t.data.length;){i[n]=null,a[n]=null,r[n]=null;var s=this.Data.Data[n],l=s.DateTime;if(l){var h=l.split(" ");if(2==h.length){var u=parseInt(h[0]),c=t.data[o];if(!c.minute||c.minute.length<=0)++o;else if(c.date>u)++n;else if(c.date<u)++o;else{for(var d in c.minute){var f=c.minute[d],p=f[1],m=f[2],C=p+m;i[n]=C,a[n]=p,r[n]=m,++n}++o}}else++n}else++n}var v=[{Data:i,ID:1},{Data:a,ID:2},{Data:r,ID:3}];for(var n in v){var s=v[n];this.HKToSHSZData.set(s.ID,s.Data)}}},this.GetHKToSHSZCacheData=function(t,e){return t||(t=this.Symbol),"string"==typeof t&&(t=t.toUpperCase()),this.HKToSHSZData.has(t)?this.HKToSHSZData.get(t):[]},this.GetNewsAnalysisData=function(t){if(this.NewsAnalysisData.has(t))return this.Execute.RunNextJob();var e=this,i=new Mn.default([[No.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE,"negative"],[No.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH,"research"],[No.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT,"interact"],[No.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE,"holderchange"],[No.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2,"holderchange"],[No.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER,"trustholder"],[No.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING,"Blocktrading"],[No.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS,"companynews"],[No.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS,"topmanagers"],[No.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE,"Pledge"]]);if(!i.has(t))return void this.Execute.RunNextJob();var a=i.get(t),r=this.StockNewsAnalysisApiUrl+"/"+a+"/"+this.Symbol+".json";n.HttpRequest({url:r,type:"get",dataType:"json",async:!0,success:function(i){e.RecvNewsAnalysisData(i,t),e.Execute.RunNextJob()},error:function(i,a){e.RecvNewsAnalysisDataError(i,a,t),e.Execute.RunNextJob()}})},this.RecvNewsAnalysisDataError=function(t,e,i){Nn.Complier.Log("[JSSymbolData::RecvNewsAnalysisDataError] ajax error.",t.status);for(var a=[],r=0;r<this.Data.Data.length;++r){var n=new J;n.Date=this.Data.Data[r].Date,n.Value=0,a.push(n)}var o=new Q;o.Data=a,this.NewsAnalysisData.set(i,o.GetValue())},this.RecvNewsAnalysisData=function(t,e){if(t.data&&t.date&&!(t.data.length<=0||t.data.length!=t.date.length))if(Nn.Complier.Log("[JSSymbolData::RecvNewsAnalysisData] jobID",e,t.update),e==No.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE||e==No.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2){for(var i=[],a=[],r=0;r<t.data.length;++r){var n=new J;n.Date=t.date[r],n.Value=t.data[r],this.IsNumber(n.Value)&&i.push(n),r<t.data2.length&&(n=new J,n.Date=t.date[r],n.Value=t.data2[r],this.IsNumber(n.Value)&&a.push(n))}var o=this.Data.GetFittingData2(i,0),s=new Q;s.Data=o,this.NewsAnalysisData.set(No.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE,s.GetValue()),o=this.Data.GetFittingData2(a,0),s=new Q,s.Data=o,this.NewsAnalysisData.set(No.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2,s.GetValue())}else{for(var i=[],r=0;r<t.data.length;++r){var n=new J;n.Date=t.date[r],n.Value=t.data[r],i.push(n)}var l=this.Data.GetFittingData2(i,0),s=new Q;s.Data=l,this.NewsAnalysisData.set(e,s.GetValue())}},this.GetSectionFinanceData=function(t){var e=t.SF[0],i=t.SF[1].Period;if(this.SectionFinanceData.has(e))return this.Execute.RunNextJob();Nn.Complier.Log("[JSSymbolData::GetSectionFinanceData] "+i.Year+"-"+i.Quarter);var a="announcement"+i.Quarter,r=this,o=["name","date","symbol",a,"finance"+i.Quarter],s=[a+".year","int32","eq",i.Year.toString()];n.HttpRequest({url:this.StockHistoryDayApiUrl,data:{field:o,symbol:[this.Symbol],condition:[{item:s}]},type:"post",dataType:"json",async:!0,success:function(e){r.RecvSectionFinanceData(e,t),r.Execute.RunNextJob()}})},this.RecvSectionFinanceData=function(t,e){if(t.stock&&1==t.stock.length){var i=t.stock[0];if(i.stockday&&!(i.stockday.length<=0)){var a=i.stockday[0],r=e.SF[1].Period,n=null;if(1===r.Quarter?n=a.finance1:2===r.Quarter?n=a.finance2:3===r.Quarter?n=a.finance3:4===r.Quarter&&(n=a.finance4),n){var t=new Mn.default([[No.JOB_DOWNLOAD_SECTION_F_01,n.currentassets],[No.JOB_DOWNLOAD_SECTION_F_02,n.monetaryfunds],[No.JOB_DOWNLOAD_SECTION_F_03,n.inventory],[No.JOB_DOWNLOAD_SECTION_F_04,n.currentliabilities],[No.JOB_DOWNLOAD_SECTION_F_05,n.ncurrentliabilities],[No.JOB_DOWNLOAD_SECTION_F_06,n.expenses3],[No.JOB_DOWNLOAD_SECTION_F_07,n.investmentincome],[No.JOB_DOWNLOAD_SECTION_F_08,n.pcnprofit],[No.JOB_DOWNLOAD_SECTION_F_09,n.nnetprofit],[No.JOB_DOWNLOAD_SECTION_F_10,n.npersearning],[No.JOB_DOWNLOAD_SECTION_F_11,n.woewa],[No.JOB_DOWNLOAD_SECTION_F_12,n.inprocess],[No.JOB_DOWNLOAD_SECTION_F_13,n.accdepreciation],[No.JOB_DOWNLOAD_SECTION_F_14,n.mholderprofit],[No.JOB_DOWNLOAD_SECTION_F_15,n.lossexchange],[No.JOB_DOWNLOAD_SECTION_F_16,n.baddebts],[No.JOB_DOWNLOAD_SECTION_F_17,n.fixedassets],[No.JOB_DOWNLOAD_SECTION_F_18,n.curdepreciation],[No.JOB_DOWNLOAD_SECTION_F_19,n.orevenues],[No.JOB_DOWNLOAD_SECTION_F_20,n.moprofit],[No.JOB_DOWNLOAD_SECTION_F_21,n.oprofit],[No.JOB_DOWNLOAD_SECTION_F_22,n.nprofit],[No.JOB_DOWNLOAD_SECTION_F_23,n.areceivable],[No.JOB_DOWNLOAD_SECTION_F_24,n.financialcost],[No.JOB_DOWNLOAD_SECTION_F_25,n.ccfo],[No.JOB_DOWNLOAD_SECTION_F_26,n.totalassets],[No.JOB_DOWNLOAD_SECTION_F_27,n.totalliabilities],[No.JOB_DOWNLOAD_SECTION_F_28,n.totalownersequity],[No.JOB_DOWNLOAD_SECTION_F_29,n.grossmargin],[No.JOB_DOWNLOAD_SECTION_F_30,n.percreserve],[No.JOB_DOWNLOAD_SECTION_F_31,n.peruprofit],[No.JOB_DOWNLOAD_SECTION_F_32,n.persearning],[No.JOB_DOWNLOAD_SECTION_F_33,n.pernetasset],[No.JOB_DOWNLOAD_SECTION_F_34,n.perccfo],[No.JOB_DOWNLOAD_SECTION_F_38,n.alratio],[No.JOB_DOWNLOAD_SECTION_F_39,n.profityoy]]);4===r.Quarter&&(t.set(No.JOB_DOWNLOAD_SECTION_F_35,n.nnprofitincrease),t.set(No.JOB_DOWNLOAD_SECTION_F_36,n.nnprofitspeed),t.set(No.JOB_DOWNLOAD_SECTION_F_37,n.nprofitincrease));var o=e.SF[0];this.SectionFinanceData.set(o,t)}}}},this.GetSectionFinanceCacheData=function(t,e,i,a){var r=No.GetSectionReportPeriod(t,e);r||this.Execute.ThrowUnexpectedNode(a,"不支持FS("+t+", "+e+", '"+i+"') 报告期错误");var n=No.GetSectionFinanceID(i);n||this.Execute.ThrowUnexpectedNode(a,"不支持FS("+t+", "+e+",'"+i+"') 财务数据字段名称错误");var o=r.Year+"-"+r.Quarter;if(!this.SectionFinanceData.has(o)&&!this.ThrowSFPeirod.has(o)){this.ThrowSFPeirod.add(o);var s={ID:No.JOB_DOWNLOAD_SECTION_SF,SF:[o,{Period:r,Fields:new Tn.default([n])}]};this.Execute.ThrowDownloadSF(a,s,"FS("+t+", "+e+", '"+i+"') 动态下载")}if(!this.SectionFinanceData.has(o))return this.Execute.ThrowUnexpectedNode(a,"不支持FS("+t+", "+e+", '"+i+"') 没有这期财务数据");var l=this.SectionFinanceData.get(o);return l.has(n)||this.Execute.ThrowUnexpectedNode(a,"不支持FS("+t+", "+e+", '"+i+"') 没有这期财务数据字段"),l.get(n)},this.GetFinOne=function(t){var e=this.JobArgumentsToArray(t,3),i=this.GetStockDataKey(t,e);if(this.StockData.has(i))return this.Execute.RunNextJob();var a=this;if(this.NetworkFilter){var r=this.Data.GetDateRange(),n={Name:"JSSymbolData::GetFinOne",Explain:"财务数据FINONE(ID,Y,MMDD)",JobID:t.ID,Request:{Url:a.StockHistoryDayApiUrl,Type:"POST",Data:{Args:e,symbol:this.Symbol,daterange:r}},Self:this,PreventDefault:!1};if(this.NetworkFilter(n,function(e){a.RecvStockValue(e,t,i,1),a.Execute.RunNextJob()}),1==n.PreventDefault)return}new Pr({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:i,Callback:function(t,e,i){a.RecvStockValue(t,e,i,1),a.Execute.RunNextJob()},ErrorCallback:function(t){a.AddStockValueError(i,t)}}).Download()},this.GetStockDataKey=function(t,e){var i=t.FunctionName;if(e.length>0){i+="(";for(var a=0;a<e.length;++a)a>0&&(i+=","),i+=e[a].toString();i+=")"}return i},this.GetFinValue=function(t){var e=this.JobArgumentsToArray(t,1),i=e[0],a=this.GetStockDataKey(t,e);if(this.StockData.has(a))return this.Execute.RunNextJob();var r=this;if(this.NetworkFilter){var n=this.Data.GetDateRange(),o={Name:"JSSymbolData::GetFinValue",Explain:"财务数据FINVALUE(ID)",JobID:t.ID,Request:{Url:r.StockHistoryDayApiUrl,Type:"POST",Data:{id:i,symbol:this.Symbol,daterange:n}},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(e){r.RecvStockValue(e,t,a,0),r.Execute.RunNextJob()}),1==o.PreventDefault)return}new _r({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:a,Callback:function(t,e,i){r.RecvStockValue(t,e,i,0),r.Execute.RunNextJob()},ErrorCallback:function(t){r.AddStockValueError(a,t)}}).Download()},this.GetFinance=function(t){var e=this.JobArgumentsToArray(t,1),i=e[0],a=this.GetStockDataKey(t,e);if(this.StockData.has(a))return this.Execute.RunNextJob();var r=this;if(this.NetworkFilter){var n=this.Data.GetDateRange(),o={Name:"JSSymbolData::GetFinance",Explain:"财务数据FINANCE(ID)",JobID:t.ID,Request:{Url:r.RealtimeApiUrl,Type:"POST",Data:{id:i,symbol:this.Symbol,daterange:n}},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(e){r.RecvStockValue(e,t,a,0),r.Execute.RunNextJob()}),1==o.PreventDefault)return}new Rr({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,RealtimeUrl:this.RealtimeApiUrl,Args:e,DataKey:a,Callback:function(t,e,i){r.RecvStockValue(t,e,i,0),r.Execute.RunNextJob()},ErrorCallback:function(t){r.AddStockValueError(a,t)}}).Download()},this.GetGPJYValue=function(t){var e=this.JobArgumentsToArray(t,3),i=this.GetStockDataKey(t,e);if(this.StockData.has(i))return this.Execute.RunNextJob();var a=this,r=1==e[2]?0:2;if(this.NetworkFilter){var n=this.Data.GetDateRange(),o={Name:"JSSymbolData::GetGPJYValue",Explain:"股票交易类数据GPJYVALUE(ID,N,TYPE)",JobID:t.ID,Request:{Url:a.StockHistoryDayApiUrl,Type:"POST",Data:{Args:e,symbol:this.Symbol,daterange:n}},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(e){a.RecvStockValue(e,t,i,r),a.Execute.RunNextJob()}),1==o.PreventDefault)return}new Br({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:i,Callback:function(t,e,i){a.RecvStockValue(t,e,i,r),a.Execute.RunNextJob()},ErrorCallback:function(t){a.AddStockValueError(i,t)}}).Download()},this.GetSCJYValue=function(t){var e=this.JobArgumentsToArray(t,3),i=this.GetStockDataKey(t,e);if(this.StockData.has(i))return this.Execute.RunNextJob();var a=this,r=1==e[2]?0:2;if(this.NetworkFilter){var n=this.Data.GetDateRange(),o={Name:"JSSymbolData::GetSCJYValue",Explain:"股票交易类数据SCJYVALUE(ID,N,TYPE)",JobID:t.ID,Request:{Url:a.StockHistoryDayApiUrl,Type:"POST",Data:{Args:e,symbol:this.Symbol,daterange:n}},Self:this,PreventDefault:!1};if(this.NetworkFilter(o,function(e){a.RecvStockValue(e,t,i,r),a.Execute.RunNextJob()}),1==o.PreventDefault)return}new kr({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,Args:e,DataKey:i,Callback:function(t,e,i){a.RecvStockValue(t,e,i,r),a.Execute.RunNextJob()},ErrorCallback:function(t){a.AddStockValueError(i,t)}}).Download()},this.GetVariantData=function(t){var e=t.VariantName;if(this.StockData.has(e))return this.Execute.RunNextJob();var i=this;if(this.NetworkFilter){var a=this.Data.GetDateRange(),r={Name:"JSSymbolData::GetVariantData",Explain:"变量数据下载",JobID:t.ID,Request:{Url:"数据地址",Type:"POST",Data:{VariantName:t.VariantName,symbol:this.Symbol,daterange:a}},Self:this,PreventDefault:!1};if(this.NetworkFilter(r,function(a){if(a.Error)i.AddStockValueError(e,a.Error);else{var r=0;Ee.IsNumber(a.DataType)&&(r=a.DataType),i.RecvStockValue(a.Data,t,e,r)}i.Execute.RunNextJob()}),1==r.PreventDefault)return}var n,o=function(t){i.AddStockValueError(e,t)};if("CAPITAL"==t.VariantName||"TOTALCAPITAL"==t.VariantName||"EXCHANGE"==t.VariantName){var s=function(t,e,a){i.RecvStockValue(t,e,a,0),i.Execute.RunNextJob()};n=new Rr({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,RealtimeUrl:this.RealtimeApiUrl,Args:[t.VariantName],DataKey:e,Callback:s,ErrorCallback:o})}else{if("HYBLOCK"!=t.VariantName&&"DYBLOCK"!=t.VariantName&&"GNBLOCK"!=t.VariantName){if("INBLOCK"==t.VariantName){var l=t.VariantName+", 请对接外部数据.";return this.AddStockValueError(e,l),void this.Execute.RunNextJob()}var l="不支持变量"+t.VariantName+", 请对接外部数据.";return this.AddStockValueError(e,l),void this.Execute.RunNextJob()}var s=function(t,e,a,r){i.RecvStockValue(t,e,a,r),i.Execute.RunNextJob()};n=new Vr({Job:t,Symbol:this.Symbol,Url:this.StockHistoryDayApiUrl,RealtimeUrl:this.RealtimeApiUrl,Args:[t.VariantName],DataKey:e,Callback:s,ErrorCallback:o})}n.Download()},this.GetCustomVariantData=function(t){var e=t.VariantName;if(this.StockData.has(e))return this.Execute.RunNextJob();var i=yo.CustomVariant.Data.get(e),a=this;if(this.NetworkFilter){var r=this.Data.GetDateRange(),n={Name:"JSSymbolData::GetCustomVariantData",Explain:"自定义变量数据下载",JobID:t.ID,Request:{Url:"数据地址",Type:"POST",Data:{VariantName:t.VariantName,symbol:this.Symbol,daterange:r,period:this.Period}},Self:this,VariantInfo:i,PreventDefault:!1};this.NetworkFilter(n,function(i){i.Error?a.AddStockValueError(e,i.Error):a.RecvStockValue(i.Data,t,e,i.DataType),a.Execute.RunNextJob()})}else this.AddStockValueError(e,"自定义变量"+e+"下载失败"),this.Execute.RunNextJob()},this.GetCustomFunctionData=function(t){var e=t.FunctionName,i=yo.CustomFunction.Data.get(e);if(!i.IsDownload)return this.Execute.RunNextJob();if(this.StockData.has(e))return this.Execute.RunNextJob();var a=this;if(this.NetworkFilter){var r=this.Data.GetDateRange(),n={Name:"JSSymbolData::GetCustomFunctionData",Explain:"自定义函数数据下载",JobID:t.ID,Request:{Url:"数据地址",Type:"POST",Data:{FunctionName:t.FunctionName,symbol:this.Symbol,daterange:r,JobItem:t}},Self:this,FunctionInfo:i,PreventDefault:!1};this.NetworkFilter(n,function(i){i.Error?a.AddStockValueError(e,i.Error):a.RecvStockValue(i.Data,t,e,i.DataType),a.Execute.RunNextJob()})}else this.AddStockValueError(e,"自定义函数"+e+"下载失败"),this.Execute.RunNextJob()},this.RecvStockValue=function(t,e,i,a){if(!t)return void Nn.Complier.Log("[JSSymbolData::RecvStockValue] key="+i+" data is null");if(0==a)if(Array.isArray(t)){var r,n=this.Data;if(this.DataType==_o.KLINE_ID)if(Q.IsDayPeriod(this.Period,!0))r=n.GetFittingFinanceData(t);else{if(!Q.IsMinutePeriod(this.Period,!0))return;r=n.GetMinuteFittingFinanceData(t)}else r=n.GetMinuteFittingFinanceData(t);var o=new Q;o.Data=r;var s=o.GetValue();if("EXCHANGE"==i)for(var l in s){var h=n.Data[l];Ee.IsPlusNumber(s[l])&&(s[l]=h.Vol/s[l]*100)}this.StockData.set(i,{Data:s})}else this.StockData.set(i,{Data:t.Value});else if(1==a)this.StockData.set(i,{Data:t.Value});else if(2==a){var r,n=this.Data;if(this.DataType==_o.KLINE_ID)if(Q.IsDayPeriod(this.Period,!0))r=n.GetFittingTradeData(t,0);else if(Q.IsMinutePeriod(this.Period,!0))r=n.GetMinuteFittingTradeData(t,0);else{if(!Q.IsTickPeriod(this.Period))return;r=n.GetMinuteFittingTradeData(t,0)}else r=n.GetMinuteFittingTradeData(t,0);var o=new Q;o.Data=r;var s=o.GetValue();this.StockData.set(i,{Data:s})}},this.AddStockValueError=function(t,e){this.StockData.set(t,{Error:e})},this.GetStockCacheData=function(t){var e;if(t.FunctionName)e=this.GetStockDataKey({FunctionName:t.FunctionName},t.Args);else if(t.VariantName)e=t.VariantName;else{if(!t.CustomName)return null;e=t.CustomName}if(!this.StockData.has(e))return null;var i=this.StockData.get(e);return i.Error&&this.Execute.ThrowUnexpectedNode(t.Node,i.Error),i.Data},this.IsInBlock=function(t,e){var i=this.GetStockCacheData({VariantName:"INBLOCK",Node:e});if(!i)return 0;for(var a=i.split("|"),r=0;r<a.length;++r){if(a[r]==t)return 1}return 0},this.JobArgumentsToArray=function(t,e){var i=t.Args;if(i.length!=e){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,t.FunctionName+"() Error: argument count error.")}for(var r=[],n=0;n<i.length;++n){var o=i[n];if(Ee.IsNumber(o))r.push(o);else if(o.Type==Mo.Literal)r.push(o.Value);else if(o.Type==Mo.Identifier){var s=!1;for(var l in this.Arguments){var h=this.Arguments[l];if(h.Name==o.Name){r.push(h.Value),s=!0;break}}if(!s){var a=t.Token;this.Execute.ErrorHandler.ThrowError(a.Index,a.Line,0,t.FunctionName+"() Error: can't read "+o.Name)}}}return r},this.DownloadCustomAPIData=function(t){if(!this.NetworkFilter)return this.Execute.RunNextJob();var e=[];for(var i in t.Args){var a=t.Args[i];if(a.Type==Mo.Literal)e.push(a.Value);else{if(a.Type!=Mo.Identifier)return this.Execute.RunNextJob();var r=!1;for(var n in this.Arguments){var o=this.Arguments[n];if(o.Name==a.Name){e.push(o.Value),r=!0;break}}if(!r){var s=t.Token;this.Execute.ErrorHandler.ThrowError(s.Index,s.Line,0,"LoadAPIData() Error: can't read "+a.Name)}}}var l=this,h={Name:"JSSymbolData::DownloadCustomAPIData",Explain:"下载自定义api数据",Period:this.Period,Right:this.Right,Symbol:this.Symbol,KData:this.Data,Cache:this.CustomAPIData,Args:e,Self:this,PreventDefault:!1};this.NetworkFilter(h,function(t){l.RecvCustomAPIData(t,e),l.Execute.RunNextJob()}),1!=h.PreventDefault&&this.Execute.RunNextJob()},this.RecvCustomAPIData=function(t,e){t&&(1==t.Type?this.RecvCustomAPISingleData(t,e):this.RecvCustomAPIGroupData(t,e))},this.RecvCustomAPIGroupData=function(t,e){if(t&&t.data){var i=t.data,a=this.GenerateCustomAPIKey(e);if(Q.IsMinutePeriod(this.Period,!0)){if(!i.date||!i.time)return;var r=i.date;i.time;for(var n in i)if("date"!=n&&"time"!=n)var o=i[n]}else if(Q.IsDayPeriod(this.Period,!0)){if(!i.date)return;var r=i.date,s={__Type__:"Object"};for(var n in i)if("date"!=n){var o=i[n];if(Array.isArray(o)){var l=this.FittingCustomAPIArray(o,r);s[n]=l}else this.IsNumber(o)&&(s[n]=o)}this.CustomAPIData.set(a,s)}}},this.RecvCustomAPISingleData=function(t,e){var i=t.data,a=this.GenerateCustomAPIKey(e);if(Q.IsMinutePeriod(this.Period,!0)){if(!i.date||!i.time)return;var r=i.date;i.time;for(var n in i)if("date"!=n&&"time"!=n){i[n]}}else if(Q.IsDayPeriod(this.Period,!0)){if(!i.date)return;var r=i.date,o=i.value,s=null;s=Array.isArray(o)?1==t.DataType?this.FittingCustomAPIFinanceArray(o,r):this.FittingCustomAPIArray(o,r):o,this.CustomAPIData.set(a,s)}},this.FittingCustomAPIFinanceArray=function(t,e,i){var a=this.Data,r=[];for(var n in t){var o=t[n],s=new J;s.Date=e[n],i&&n<i.length&&(s.Time=i[n]),s.Value=o,r.push(s)}var l;if(Q.IsDayPeriod(this.Period,!0))l=a.GetFittingFinanceData(r);else{if(!Q.IsMinutePeriod(this.Period,!0))return null;l=a.GetMinuteFittingFinanceData(r)}var h=new Q;return h.Data=l,h.GetValue()},this.FittingCustomAPIArray=function(t,e,i){var a=this.Data,r=[];for(var n in t){var o=t[n],s=new J;s.Date=e[n],i&&n<i.length&&(s.Time=i[n]),s.Value=o,r.push(s)}var l;if(Q.IsDayPeriod(this.Period,!0))l=a.GetFittingData(r);else{if(!Q.IsMinutePeriod(this.Period,!0))return null;l=a.GetMinuteFittingData(r)}var h=new Q;return h.Data=l,h.GetValue()},this.GenerateCustomAPIKey=function(t){if(t.length<=0)return"__12_EMPTY_ARGS__";var e="";for(var i in t)e.length>0&&(e+=","),e+=t[i];return e},this.GetCustomApiData=function(t){var e=this.GenerateCustomAPIKey(t);return this.CustomAPIData.has(e)?this.CustomAPIData.get(e):(Nn.Complier.Log("[JSSymbolData::GetCustomApiData] can't find api data key=["+e+"]"),null)},this.ReadArgumentValue=function(t,e){if(e.Name=t.Name,t.Type==Mo.Literal)return e.Value=t.Value,!0;if(t.Type==Mo.Identifier){var i=!1;for(var a in this.Arguments){var r=this.Arguments[a];if(r.Name==t.Name)return e.Value=r.Value,i=!0,!0}if(!i)return e.Error="can't read "+t.Name,!1}return e.Error="can't read "+t.Name+", type error.",!1},this.ReadIndexFunctionOut=function(t,e){var i={};if("object"===(void 0===t?"undefined":(0,Sn.default)(t))){if(!this.ReadArgumentValue(t,i))return e.Error=i.Error,!1}else i.Value=t;return e.OutIndex=i.Value,e.Out=null,!0},this.ReadIndexFunctionValue=function(t,e){var i={};if("object"===(void 0===t?"undefined":(0,Sn.default)(t))){if(!this.ReadArgumentValue(t,i))return e.Error=i.Error,!1}else i.Value=t;var a=i.Value.indexOf(".");if(-1!=a){e.Name=i.Value.slice(0,a);var r=i.Value.indexOf("#",a+1);-1!=r?(e.Out=i.Value.slice(a+1,r),e.Period=i.Value.slice(r+1)):e.Out=i.Value.slice(a+1)}else{var r=i.Value.indexOf("#");-1!=r?(e.Name=i.Value.slice(0,r),e.Period=i.Value.slice(r+1)):e.Name=i.Value}var n=new Mn.default([["DAY",0],["WEEK",1],["MONTH",2],["SEASON",9],["YEAR",3],["HALFYEAR",22],["WEEK2",21],["MIN1",4],["MIN5",5],["MIN15",6],["MIN30",7],["MIN60",8],["MIN120",11],["MIN240",12],["DAY2",40002],["MULTIDAY",40002],["DAY3",40003],["DAY4",40004],["DAY5",40005],["DAY6",40006],["DAY7",40007],["DAY8",40008],["DAY9",40009],["DAY10",40010],["DAY11",40011],["DAY12",40012],["DAY13",40013],["DAY14",40014],["DAY15",40015]]);if(e.Period){if(!n.has(e.Period))return e.Error=e.Period+", 周期错误",!1;e.PeriodID=n.get(e.Period)}return!0},this.ReadSymbolArgumentValue=function(t,e){var i={};if("object"===(void 0===t?"undefined":(0,Sn.default)(t))){if(!this.ReadArgumentValue(t,i))return e.Error=i.Error,!1}else i.Value=t;""==i.Value&&(i.Value=this.Symbol);var a=i.Value;return a.indexOf(".SH")>0?e.Symbol=a.replace(".SH",".sh"):a.indexOf(".SZ")>0?e.Symbol=a.replace(".SZ",".sz"):0==a.indexOf("SH")?e.Symbol=a.slice(2)+".sh":0==a.indexOf("SZ")?e.Symbol=a.slice(2)+".sz":e.Symbol=a,!0},this.ReadIndexArgumentValue=function(t,e){e.Args=[];for(var i in e.SytemIndex.Args){var a=e.SytemIndex.Args[i];e.Args.push({Value:a.Value,Name:a.Name})}if(t.length>2&&e.SytemIndex.Args&&e.SytemIndex.Args.length>0)for(var i=2,r=0;i<t.length&&r<e.SytemIndex.Args.length;++i,++r){var n={},a=t[i];if("object"===(void 0===a?"undefined":(0,Sn.default)(a))){if(!this.ReadArgumentValue(a,n))return e.Error=n.Error,!1}else n.Value=a;e.Args[r].Value=n.Value}return!0},this.GenerateScriptIndexKey=function(t){var e="",i=t.Args;for(var a in i){e.length>0&&(e+=",");e+=i[a].Value.toString()}var r="ALL";return t.Out?r=t.Out:Ee.IsPlusNumber(t.OutIndex)&&(r="Out["+(t.OutIndex-1)+"]"),"("+t.Symbol+","+t.PeriodID+"), "+t.Name+"("+e+")=>"+r},this.CallMemberScriptIndex=function(t){var e=this;if(t.Member.Object.Type!=Mo.Identifier||t.Member.Property.Type!=Mo.Identifier){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallMemberScriptIndex() Error: 参数错误")}var a=t.Member.Object.Name,r=t.Member.Property.Name;if(""==r||null==r){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallMemberScriptIndex() Error: "+a+"."+r+" 指标输出变量错误")}if(this.Execute.VarTable.has(a)){if(this.Execute.VarTable.get(a).hasOwnProperty(r))return Nn.Complier.Log("[JSSymbolData::CallMemberScriptIndex] index data "+a+"."+r+" in cache."),this.Execute.RunNextJob()}var n=a+"."+r,o={Job:t,PeriodID:this.Period,Symbol:this.Symbol};if(!this.ReadIndexFunctionValue(n,o)){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallMemberScriptIndex() Error: '"+n+"' "+o.Error)}var l=new s,h=l.Get(o.Name);if(!h){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallMemberScriptIndex() Error: '"+n+"' "+o.Name+" 指标不存在")}if(Array.isArray(h.Args)&&h.Args.length>0){o.Args=[];for(var u in h.Args){var c=h.Args[u];o.Args.push({Value:c.Value,Name:c.Name})}}Nn.Complier.Log("[JSSymbolData::CallMemberScriptIndex] call script index",o);var d=this.Data.GetDateRange(),f={HQDataType:this.DataType,Symbol:o.Symbol,Name:"",Right:this.Right,Period:o.PeriodID,Data:null,SourceData:null,Callback:function(t,i,a){e.RecvMemberScriptIndexData(t,i,a),e.Execute.RunNextJob()},CallbackParam:o,Async:!0,MaxRequestDataCount:this.MaxRequestDataCount+60,MaxRequestMinuteDayCount:this.MaxRequestMinuteDayCount+2,Arguments:o.Args,IsBeforeData:this.IsBeforeData,NetworkFilter:this.NetworkFilter,IsApiPeriod:this.IsApiPeriod,KLineRange:d};Er.Execute(h.Script,f,function(t,i){e.ExecuteScriptIndexError(t,i)})},this.CallScriptIndex=function(t){var e=this;if(t.Member)return this.CallMemberScriptIndex(t);if(!(t.Args&&t.Args.length>=2)){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() Error: "+t.FunctionName+" 参数错误")}var a={Job:t,PeriodID:this.Period};if(!this.ReadSymbolArgumentValue(t.Args[0],a)){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() Error: "+a.Error)}if(!this.ReadIndexFunctionValue(t.Args[1],a)){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() Error: "+a.Error)}if("CALCSTOCKINDEX"==t.FunctionName&&!this.ReadIndexFunctionOut(t.Args[2],a)){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() Error: "+a.Error)}var r=new s,n=r.Get(a.Name);if(!n){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() "+a.Name+" 指标不存在")}if(a.SytemIndex=n,!this.ReadIndexArgumentValue(t.Args,a)){var i=t.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() "+a.Name+" 指标参数错误 : "+a.Error+" ")}Nn.Complier.Log("[JSSymbolData::CallScriptIndex] call script index",a);var o=null;if(this.Data&&this.Data.Data.length>0){var l=this.Data.Data[0],h=this.Data.Data[this.Data.Data.length-1];o={Start:{Date:l.Date,Time:l.Time},End:{Date:h.Date,Time:h.Time}}}var u={HQDataType:this.DataType,Symbol:a.Symbol,Name:"",Right:this.Right,Period:a.PeriodID,Data:null,SourceData:null,Callback:function(t,i,a){e.RecvScriptIndexData(t,i,a),e.Execute.RunNextJob()},CallbackParam:a,Async:!0,MaxRequestDataCount:this.MaxRequestDataCount+60,MaxRequestMinuteDayCount:this.MaxRequestMinuteDayCount+2,Arguments:a.Args,IsBeforeData:this.IsBeforeData,NetworkFilter:this.NetworkFilter,IsApiPeriod:this.IsApiPeriod,KLineRange:o};Er.Execute(a.SytemIndex.Script,u,function(t,i){e.ExecuteScriptIndexError(t,i)})},this.RecvMemberScriptIndexData=function(t,e,i){Nn.Complier.Log("[JSSymbolData::RecvMemberScriptIndexData] ",t,e,i);var a=i.Data.Data,r=t,n=this.Data.FitKLineIndex(a,r,this.Period,e.PeriodID),o=e.Job.Member,s=o.Object.Name,l=(o.Property.Name,{});this.Execute.VarTable.has(s)?l=this.Execute.VarTable.get(s):this.Execute.VarTable.set(s,l);for(var h in n){var u=t[h].Name;e.Period&&(u+="#"+e.Period),l[u]=n[h].Data}},this.RecvScriptIndexData=function(t,e,i){var a=this.GenerateScriptIndexKey(e);Nn.Complier.Log("[JSSymbolData::RecvScriptIndexData] ",t,e,i,a);var r=i.Data.Data,n=t;if(e.Out){for(var o=0;o<t.length;++o){var s=t[o];if(s.Name==e.Out){n=[s];break}}var l=this.Data.FitKLineIndex(r,n,this.Period,e.PeriodID);this.ScriptIndexOutData.set(a,l[0].Data)}else if(Ee.IsPlusNumber(e.OutIndex)){var h=e.OutIndex-1;n=[t[h]];var l=this.Data.FitKLineIndex(r,n,this.Period,e.PeriodID);this.ScriptIndexOutData.set(a,l[0].Data)}else{var l=this.Data.FitKLineIndex(r,n,this.Period,e.PeriodID),u={__Type__:"Object"};for(var o in l){var s=l[o];u[s.Name]=s.Data}this.ScriptIndexOutData.set(a,u)}},this.ExecuteScriptIndexError=function(t,e){var i=e.Job.Token;this.Execute.ErrorHandler.ThrowError(i.Index,i.Line,0,"CallScriptIndex() "+e.Name+" 指标执行错误 : "+t+" ")},this.GetScriptIndexOutData=function(t,e,i){var a={PeriodID:this.Period};this.ReadSymbolArgumentValue(t[0],a)||this.Execute.ThrowUnexpectedNode(e,i+"() 股票代码错误: "+a.Error),this.ReadIndexFunctionValue(t[1],a)||this.Execute.ThrowUnexpectedNode(e,i+"() 指标错误: "+a.Error),"CALCSTOCKINDEX"==i&&(this.ReadIndexFunctionOut(t[2],a)||this.Execute.ThrowUnexpectedNode(e,i+"() Error: "+a.Error));var r=new s,n=r.Get(a.Name);n||this.Execute.ThrowUnexpectedNode(e,i+"() 指标错误: "+a.Name+" 指标不存在"),a.SytemIndex=n,this.ReadIndexArgumentValue(t,a)||this.Execute.ThrowUnexpectedNode(e,i+"()  指标参数错误: "+a.Error);var o=this.GenerateScriptIndexKey(a);return this.ScriptIndexOutData.has(o)?this.ScriptIndexOutData.get(o):null},this.JsonDataToHistoryData=function(t){for(var e=t.data,i=new Array,a=0;a<e.length;++a){var r=new U;r.Date=e[a][0],r.Open=e[a][2],r.YClose=e[a][1],r.Close=e[a][5],r.High=e[a][3],r.Low=e[a][4],r.Vol=e[a][6],r.Amount=e[a][7],e[a].length>8&&(r.Up=e[a][8]),e[a].length>9&&(r.Down=e[a][9]),e[a].length>10&&(r.Stop=e[a][10]),e[a].length>11&&(r.Unchanged=e[a][11]),isNaN(r.Open)||r.Open<=0||i.push(r)}return i},this.JsonDataToMinuteHistoryData=function(t){for(var e=t.data,i=new Array,a=0;a<e.length;++a){var r=new U;r.Date=e[a][0],r.Open=e[a][2],r.YClose=e[a][1],r.Close=e[a][5],r.High=e[a][3],r.Low=e[a][4],r.Vol=e[a][6],r.Amount=e[a][7],r.Time=e[a][8],i.push(r)}for(var n=0;n<i.length;++n){var o=i[n];if(null==o&&coninue,isNaN(o.Open)||o.Open<=0||isNaN(o.High)||o.High<=0||isNaN(o.Low)||o.Low<=0||isNaN(o.Close)||o.Close<=0||isNaN(o.YClose)||o.YClose<=0)if(0==n)o.YClose>0&&(o.Open=o.YClose,o.High=o.YClose,o.Low=o.YClose,o.Close=o.YClose);else for(var s=n-1;s>=0;--s){var l=i[s];if(null==l&&coninue,l.Open>0&&l.High>0&&l.Low>0&&l.Close>0){o.YClose<=0&&(o.YClose=l.Close),o.Open=l.Open,o.High=l.High,o.Low=l.Low,o.Close=l.Close;break}}}return i},this.JsonDataToMinuteData=function(t){var e=new Array;for(var i in t.stock[0].minute){var a=t.stock[0].minute[i],r=new z;r.Close=a.price,r.Open=a.open,r.High=a.high,r.Low=a.low,r.Vol=a.vol,r.Amount=a.amount,r.DateTime=0==i?t.stock[0].date.toString()+" 0925":t.stock[0].date.toString()+" "+a.time.toString(),r.Date=t.stock[0].date,r.Time=a.time,r.Increase=a.increase,r.Risefall=a.risefall,r.AvPrice=a.avprice,e[i]=r}return e},this.JsonDataToMultiDayMinuteData=function(t){var e=t.symbol,i=e.toUpperCase(),a=po.IsSHSZ(i),r=(po.IsChinaFutures(i),[]);for(var n in t.data){var o=[],s=t.data[n],l=s.date,h=s.yclose,u=h,c=null;for(var d in s.minute){var f=s.minute[d];f[2]&&(u=f[2]);var p=new z;p.Close=f[2],p.Open=f[1],p.High=f[3],p.Low=f[4],p.Vol=f[5]/100,p.Amount=f[6],7<f.length&&f[7]>0&&(p.AvPrice=f[7],c=f[7]),p.DateTime=l.toString()+" "+f[0].toString(),p.Date=l,p.Time=f[0],p.Close||(p.Close=u,p.Open=p.High=p.Low=p.Close),!p.AvPrice&&c&&(p.AvPrice=c),p.Close&&h?p.Increase=(p.Close-h)/h*100:p.Increase=null,0==d&&(a&&(p.DateTime=l.toString()+" 0925"),p.IsFristData=!0),p.Open<=0&&(p.Open=null),p.Close<=0&&(p.Close=null),p.AvPrice<=0&&(p.AvPrice=null),p.High<=0&&(p.High=null),p.Low<=0&&(p.Low=null),p.AvPrice<=0&&(p.AvPrice=null),o[d]=p}var m=new Q;m.Data=o,m.YClose=h,m.Close=s.close,m.Date=l,r.push(m)}for(var o=[],n=r.length-1;n>=0;--n){var p=r[n];for(var d in p.Data)o.push(p.Data[d])}return o},this.CODELIKE=function(t){return this.Symbol&&0==this.Symbol.indexOf(t)?1:0},this.NAMELIKE=function(t){return this.Name&&0==this.Name.indexOf(t)?1:0},this.SETCODE=function(){return this.Symbol.indexOf(".sh")?1:(this.Symbol.indexOf(".sz"),0)},this.GetSymbol=function(){return this.Symbol},this.GetName=function(){return this.Name},this.DATE=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];t[e]=i.Date-19e6}return t},this.YEAR=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];this.IsNumber(i.Date)?t[e]=parseInt(i.Date/1e4):t[e]=null}return t},this.DAY=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];this.IsNumber(i.Date)?t[e]=parseInt(i.Date%100):t[e]=null}return t},this.MONTH=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];this.IsNumber(i.Date)?t[e]=parseInt(i.Date%1e4/100):t[e]=null}return t},this.TIME=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=0;e<this.Data.Data.length;++e){var i=this.Data.Data[e];this.IsNumber(i.Time)?t[e]=i.Time:t[e]=0}return t},this.TIME2=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=0;e<this.Data.Data.length;++e){var i=this.Data.Data[e];this.IsNumber(i.Time)?t[e]=100*i.Time:t[e]=0}return t},this.DateTime=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=Q.IsMinutePeriod(this.Period,!0),i=0;i<this.Data.Data.length;++i){var a=this.Data.Data[i];t[i]=e?1e4*a.Date+a.Time:a.Date}return t},this.WEEK=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;var e=new Date;for(var i in this.Data.Data){var a=this.Data.Data[i];if(t[i]=null,this.IsNumber(a.Date)){var r=parseInt(a.Date/1e4),n=parseInt(a.Date%1e4/100),o=a.Date%100;e.setFullYear(r,n-1,o),t[i]=e.getDay()}}return t},this.DAYSTOTODAY=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e=new Date,i=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=0;a<this.Data.Data.length;++a){var r=this.Data.Data[a];if(t[a]=null,this.IsNumber(r.Date)){var n=parseInt(r.Date/1e4),o=parseInt(r.Date%1e4/100),s=r.Date%100,l=new Date(n,o-1,s),h=Math.ceil((i-l)/864e5);t[a]=h}}return t},this.WEEKOFYEAR=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data){var i=this.Data.Data[e];if(t[e]=null,this.IsNumber(i.Date)){var a=parseInt(i.Date/1e4),r=parseInt(i.Date%1e4/100),n=i.Date%100,o=new Date(a,r-1,n),s=new Date(a,0,1),l=Math.ceil((o-s)/864e5);l+=s.getDay()+1-1;var h=Math.ceil(l/7),u=h;t[e]=u}}return t},this.GetYearWeek=function(t){var e=new Date(t.getFullYear(),0,1),i=t.getDay();0==i&&(i=7);var a=e.getDay();0==a&&(a=7);var r=t.getTime()-e.getTime(),n=Math.floor((r+864e5*(a-i))/864e5);return Math.ceil(n/7)+1},this.REFDATE=function(t,e){var i=null;if(Array.isArray(e)?e.length>0&&(i=e[e.length-1]):this.IsNumber(e)&&(i=e),null==i)return null;i<5e6&&(i+=19e6);var a=null;for(var r in this.Data.Data)if(this.Data.Data[r].Date==i){a=parseInt(r);break}return null==a||a>=t.length?null:t[a]},this.PERIOD=function(){var t=[5,6,7,11,0,1,2,3,4,5,9];return this.Period>=0&&this.Period<=t.length-1?t[this.Period]:this.Period},this.GetDrawNull=function(){var t=[];if(!this.Data||!this.Data.Data||!this.Data.Data.length)return t;for(var e in this.Data.Data)t[e]=null;return t},this.SysParam=function(t,e){if(!this.DrawInfo)return[];if(2==t){if(e.IsUsePageData=!0,Ee.IsNumber(this.DrawInfo.Start))return this.DrawInfo.Start+1}else if(3==t){if(e.IsUsePageData=!0,Ee.IsNumber(this.DrawInfo.End))return this.DrawInfo.End+1}else{if(4==t){if(e.IsUsePageData=!0,!Ee.IsNumber(this.DrawInfo.End)||!Ee.IsNumber(this.DrawInfo.Start))return[];if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return[];for(var i=null,a=this.DrawInfo.Start;a<=this.DrawInfo.End&&a<this.Data.Data.length;++a){var r=this.Data.Data[a];Ee.IsNumber(r.High)&&(null==i?i=r.High:i<r.High&&(i=r.High))}return i}if(5==t){if(e.IsUsePageData=!0,!Ee.IsNumber(this.DrawInfo.End)||!Ee.IsNumber(this.DrawInfo.Start))return[];if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return[];for(var n=null,a=this.DrawInfo.Start;a<=this.DrawInfo.End&&a<this.Data.Data.length;++a){var r=this.Data.Data[a];Ee.IsNumber(r.Low)&&(null==n?n=r.Low:n>r.Low&&(n=r.Low))}return n}}return[]}}function yr(t,e){var i=this;this.AST=t,this.ErrorHandler=new vr,this.VarTable=new Mn.default,this.VarDrawTable=new Mn.default,this.OutVarTable=[],this.Arguments=[],this.ErrorCallback,this.GetEventCallback,this.IsUsePageData=!1,this.IndexCtrl,this.Debug=0,this.DebugFilter,this.Interrupt={Exit:!1},this.ConstVarTable=new Mn.default([["CLOSE",null],["VOL",null],["OPEN",null],["HIGH",null],["LOW",null],["AMOUNT",null],["C",null],["V",null],["O",null],["H",null],["L",null],["AMO",null],["VOLR",null],["VOLINSTK",null],["OPI",null],["QHJSJ",null],["SETTLE",null],["ZSTJJ",null],["ISEQUAL",null],["ISUP",null],["ISDOWN"],["DATE",null],["YEAR",null],["MONTH",null],["PERIOD",null],["WEEK",null],["TIME",null],["DAY",null],["DATETIME",null],["TIME2",null],["WEEKOFYEAR",null],["DAYSTOTODAY",null],["INDEXA",null],["INDEXC",null],["INDEXH",null],["INDEXL",null],["INDEXO",null],["INDEXV",null],["INDEXADV",null],["INDEXDEC",null],["ADVANCE",null],["DECLINE",null],["FROMOPEN",null],["TOTALFZNUM",null],["CURRBARSCOUNT",null],["TOTALBARSCOUNT",null],["ISLASTBAR",null],["BARSTATUS",null],["BARPOS",null],["CAPITAL",null],["TOTALCAPITAL",null],["EXCHANGE",null],["SETCODE",null],["CODE",null],["STKNAME",null],["TQFLAG",null],["HYBLOCK",null],["DYBLOCK",null],["GNBLOCK",null],["FGBLOCK",null],["ZSBLOCK",null],["ZHBLOCK",null],["ZDBLOCK",null],["HYZSCODE",null],["GNBLOCKNUM",null],["FGBLOCKNUM",null],["ZSBLOCKNUM",null],["ZHBLOCKNUM",null],["ZDBLOCKNUM",null],["HYSYL",null],["HYSJL",null],["DRAWNULL",null],["NULL",null],["MACHINEDATE",null],["MACHINETIME",null],["MACHINEWEEK",null]]),this.SymbolData=new Tr(this.AST,e,this),this.Algorithm=new br(this.ErrorHandler,this.SymbolData),this.Draw=new Ir(this.ErrorHandler,this.SymbolData),this.JobList=[],this.UpdateUICallback=null,this.CallbackParam=null,this.IsSectionMode=!1,e&&(e.Callback&&(this.UpdateUICallback=e.Callback),e.CallbackParam&&(this.CallbackParam=e.CallbackParam,this.CallbackParam.HQChart&&(this.GetEventCallback=function(t){return i.CallbackParam.HQChart.GetEventCallback(t)})),e.Arguments&&(this.Arguments=e.Arguments),e.IsSectionMode&&(this.IsSectionMode=e.IsSectionMode),e.Self&&(this.IndexCtrl=e.Self),Ee.IsNumber(e.Debug)&&(this.Debug=e.Debug),e.DebugFilter&&(this.DebugFilter=e.DebugFilter)),this.Execute=function(){this.OutVarTable=[],this.VarTable=new Mn.default,this.VarDrawTable=new Mn.default,Nn.Complier.Log("[JSExecute::Execute] Load Arguments",this.Arguments);for(var t in this.Arguments){var e=this.Arguments[t];this.VarTable.set(e.Name,e.Value)}this.RunNextJob()},this.RunNextJob=function(){if(!(this.JobList.length<=0)){Nn.Complier.Log("[JSExecute::Execute] JobList",this.JobList);var t=this.JobList.shift();switch(t.ID){case No.JOB_DOWNLOAD_SYMBOL_DATA:return this.SymbolData.GetSymbolData();case No.JOB_DOWNLOAD_SYMBOL_PERIOD_DATA:return this.SymbolData.GetSymbolPeriodData(t);case No.JOB_DOWNLOAD_INDEX_DATA:return this.SymbolData.GetIndexData();case No.JOB_DOWNLOAD_LATEST_INDEX_DATA:return this.SymbolData.GetLatestIndexData();case No.JOB_DOWNLOAD_INDEX_INCREASE_DATA:return this.SymbolData.GetIndexIncreaseData(t);case No.JOB_DOWNLOAD_SYMBOL_LATEST_DATA:return this.SymbolData.GetLatestData(t);case No.JOB_DOWNLOAD_VOLR_DATA:return this.SymbolData.GetVolRateData(t);case No.JOB_DOWNLOAD_OTHER_SYMBOL_DATA:return this.SymbolData.GetOtherSymbolData(t);case No.JOB_DOWNLOAD_RELEASE_DATE_DATA:return this.SymbolData.GetCompanyReleaseDate(t.ID);case No.JOB_DOWNLOAD_MARGIN_BALANCE:case No.JOB_DOWNLOAD_MARGIN_RATE:case No.JOB_DOWNLOAD_MARGIN_BUY_BALANCE:case No.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:case No.JOB_DOWNLOAD_MARGIN_BUY_REPAY:case No.JOB_DOWNLOAD_MARGIN_BUY_NET:case No.JOB_DOWNLOAD_MARGIN_SELL_BALANCE:case No.JOB_DOWNLOAD_MARGIN_SELL_VOLUME:case No.JOB_DOWNLOAD_MARGIN_SELL_REPAY:case No.JOB_DOWNLOAD_MARGIN_SELL_NET:return this.SymbolData.GetMarginData(t.ID);case No.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE:case No.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH:case No.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT:case No.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE:case No.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2:case No.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER:case No.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING:case No.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS:case No.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS:case No.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE:return this.SymbolData.GetNewsAnalysisData(t.ID);case No.JOB_DOWNLOAD_HK_TO_SHSZ:return this.SymbolData.GetHKToSHSZData(t);case No.JOB_DOWNLOAD_SECTION_SF:return this.SymbolData.GetSectionFinanceData(t);case No.JOB_DOWNLOAD_FINONE:return this.SymbolData.GetFinOne(t);case No.JOB_DOWNLOAD_FINVALUE:return this.SymbolData.GetFinValue(t);case No.JOB_DOWNLOAD_FINANCE:return this.SymbolData.GetFinance(t);case No.JOB_DOWNLOAD_GPJYVALUE:return this.SymbolData.GetGPJYValue(t);case No.JOB_DOWNLOAD_SCJYVALUE:return this.SymbolData.GetSCJYValue(t);case No.JOB_DOWNLOAD_VARIANT:return this.SymbolData.GetVariantData(t);case No.JOB_CUSTOM_VARIANT_DATA:return this.SymbolData.GetCustomVariantData(t);case No.JOB_CUSTOM_FUNCTION_DATA:return this.SymbolData.GetCustomFunctionData(t);case No.JOB_DOWNLOAD_CUSTOM_API_DATA:return this.SymbolData.DownloadCustomAPIData(t);case No.JOB_EXECUTE_INDEX:return this.SymbolData.CallScriptIndex(t);case No.JOB_RUN_SCRIPT:return 1===this.Debug&&this.DebugFilter?this.DebugRun():this.Run()}}},this.ReadSymbolData=function(t,e){switch(t){case"CLOSE":case"C":case"VOL":case"V":case"OPEN":case"O":case"HIGH":case"H":case"LOW":case"L":case"AMOUNT":case"AMO":case"OPI":case"VOLINSTK":case"SETTLE":case"QHJSJ":case"ZSTJJ":case"ISEQUAL":case"ISUP":case"ISDOWN":return this.SymbolData.GetSymbolCacheData(t);case"VOLR":return this.SymbolData.GetVolRateCacheData(e);case"INDEXA":case"INDEXC":case"INDEXH":case"INDEXH":case"INDEXO":case"INDEXV":case"INDEXL":case"INDEXADV":case"INDEXDEC":return this.SymbolData.GetIndexCacheData(t);case"CURRBARSCOUNT":return this.SymbolData.GetCurrBarsCount();case"BARPOS":return this.SymbolData.GetBarPos();case"TOTALBARSCOUNT":return this.SymbolData.GetTotalBarsCount();case"TOTALFZNUM":return this.SymbolData.GetTotalTradeMinuteCount();case"ISLASTBAR":return this.SymbolData.GetIsLastBar();case"BARSTATUS":return this.SymbolData.GetBarStatus();case"TOTALCAPITAL":case"CAPITAL":case"EXCHANGE":case"HYBLOCK":case"DYBLOCK":case"GNBLOCK":case"FGBLOCK":case"ZSBLOCK":case"ZHBLOCK":case"ZDBLOCK":case"HYZSCODE":case"GNBLOCKNUM":case"FGBLOCKNUM":case"ZSBLOCKNUM":case"ZHBLOCKNUM":case"ZDBLOCKNUM":case"HYSYL":case"HYSJL":return this.SymbolData.GetStockCacheData({VariantName:t,Node:e});case"SETCODE":return this.SymbolData.SETCODE();case"CODE":return this.SymbolData.GetSymbol();case"STKNAME":return this.SymbolData.GetName();case"TIME":return this.SymbolData.TIME();case"TIME2":return this.SymbolData.TIME2();case"DATE":return this.SymbolData.DATE();case"DATETIME":return this.SymbolData.DateTime();case"YEAR":return this.SymbolData.YEAR();case"MONTH":return this.SymbolData.MONTH();case"WEEK":return this.SymbolData.WEEK();case"DAY":return this.SymbolData.DAY();case"PERIOD":return this.SymbolData.PERIOD();case"FROMOPEN":return this.SymbolData.GetLatestIndexCacheData("FROMOPEN");case"DRAWNULL":case"NULL":return this.SymbolData.GetDrawNull();case"ADVANCE":case"DECLINE":return this.SymbolData.GetIndexIncreaseCacheData(t,this.SymbolData.Symbol,e);case"TQFLAG":return this.SymbolData.Right;case"MACHINEDATE":var i=new Date;return 1e4*i.getFullYear()+1*i.getMonth()*100+i.getDate()-19e6;case"MACHINETIME":var i=new Date;return 1e4*i.getHours()+1*i.getMinutes()*100+i.getSeconds();case"MACHINEWEEK":var i=new Date;return i.getDay();case"WEEKOFYEAR":return this.SymbolData.WEEKOFYEAR();case"DAYSTOTODAY":return this.SymbolData.DAYSTOTODAY()}},this.ReadCustomVariant=function(t,e){return this.SymbolData.GetStockCacheData({VariantName:t,Node:e})},this.ReadVariable=function(t,e){if(this.ConstVarTable.has(t)){var i=this.ConstVarTable.get(t);return null==i&&(i=this.ReadSymbolData(t,e),this.ConstVarTable.set(t,i)),i}if(yo.IsCustomVariant(t))return this.ReadCustomVariant(t,e);if(this.VarTable.has(t))return this.VarTable.get(t);if(t.indexOf("#")>0){var a=t.split("#");return this.SymbolData.GetSymbolPeriodCacheData(a[0],a[1])}if(0==t.indexOf("COLOR")){var r=Er.ColorVarToRGB(t);if(r)return r}return this.ThrowUnexpectedNode(e,"变量"+t+"不存在",t),null},this.ReadMemberVariable=function(t){var e=t.Object,i=t.Property,a=void 0;if(!(a=e.Type==Mo.BinaryExpression||e.Type==Mo.LogicalExpression?this.VisitBinaryExpression(e):e.Type==Mo.CallExpression?this.VisitCallExpression(e):this.GetNodeValue(e)))return null;var r=a[i.Name];return r||null},this.SingleDataToArrayData=function(t){for(var e=this.SymbolData.Data.Data.length,i=[],a=0;a<e;++a)i[a]=t;return i},this.RunAST=function(){this.AST||this.ThrowError(),this.AST.Body||this.ThrowError();for(var t=0;t<this.AST.Body.length;++t){var e=this.AST.Body[t];if(this.RunASTNode(e,t),this.Interrupt&&this.Interrupt.Exit){Nn.Complier.Log("[JSExecute::RunAST] Interrupt",this.Interrupt);break}}return Nn.Complier.Log("[JSExecute::RunAST]",this.VarTable),this.OutVarTable},this.RunASTNode=function(t,e){this.VisitNode(t);var i=e;if(t.Type==Mo.ExpressionStatement&&t.Expression)if(t.Expression.Type==Mo.AssignmentExpression){if(":"==t.Expression.Operator&&t.Expression.Left){var a=t.Expression,r=a.Left.Name,n=this.VarTable.get(r);if(this.VarDrawTable.has(r)){var o=this.VarDrawTable.get(r);this.OutVarTable.push({Name:o.Name,Draw:o,Type:1})}else{var s=0;if(n&&"object"==(void 0===n?"undefined":(0,Sn.default)(n))&&"Object"==n.__Type__)s=1e3;else if(!this.IsSectionMode&&!Array.isArray(n))if("string"==typeof n){var l=parseFloat(n);Ee.IsNumber(l)?n=this.SingleDataToArrayData(l):(n=this.SingleDataToArrayData(n),s=1001)}else n=this.SingleDataToArrayData(n);this.OutVarTable.push({Name:r,Data:n,Type:s})}}}else if(t.Expression.Type==Mo.CallExpression){var h=t.Expression;if(this.Draw.IsDrawFunction(h.Callee.Name)){var u=h.Draw;u.Name=h.Callee.Name,this.OutVarTable.push({Name:u.Name,Draw:u,Type:1})}else if("IFC"===h.Callee.Name&&h.Draw){var c=h.Draw;c.Name=c.DrawType,this.OutVarTable.push({Name:c.Name,Draw:c,Type:1})}else{var d=h.Out;C="__temp_c_"+h.Callee.Name+"_"+i+"__";var s=0;Array.isArray(d)||(d=this.SingleDataToArrayData(d)),this.OutVarTable.push({Name:C,Data:d,Type:s,NoneName:!0})}}else if(t.Expression.Type==Mo.Identifier){var f=t.Expression.Name,p=this.ReadVariable(f,t.Expression),s=0;p&&"object"==(void 0===p?"undefined":(0,Sn.default)(p))&&"Object"==p.__Type__?s=1e3:this.IsSectionMode||Array.isArray(p)||(p="string"==typeof p?this.SingleDataToArrayData(parseFloat(p)):this.SingleDataToArrayData(p)),f="__temp_i_"+i+"__",this.OutVarTable.push({Name:f,Data:p,Type:s,NoneName:!0})}else if(t.Expression.Type==Mo.Literal){var m=t.Expression.Value;Ee.IsString(m)&&m.indexOf("$")>0&&(m=this.SymbolData.GetOtherSymolCacheData({Literal:m})),C="__temp_li_"+i+"__";var s=0;this.OutVarTable.push({Name:C,Data:m,Type:s,NoneName:!0})}else if(t.Expression.Type==Mo.BinaryExpression){var C="__temp_b_"+i+"__",v=t.Expression.Out,s=0;Array.isArray(v)||(v=this.SingleDataToArrayData(v)),this.OutVarTable.push({Name:C,Data:v,Type:s,NoneName:!0})}else if(t.Expression.Type==Mo.LogicalExpression){var C="__temp_l_"+i+"__",D=t.Expression.Out,s=0;Array.isArray(D)||(D=this.SingleDataToArrayData(D)),this.OutVarTable.push({Name:C,Data:D,Type:s,NoneName:!0})}else if(t.Expression.Type==Mo.SequenceExpression){for(var g=void 0,S=void 0,x=void 0,b=void 0,I=void 0,T=void 0,y=!1,w=!1,E=!1,F=!1,L=!1,M=!1,A=!1,O=!1,N=!1,_=!0,P=!1,R=!1,B=!1,k=!1,V=!0,G=!1,H=!1,Y=!1,X=-1,W=-1,U=-1,z=null,K=null,$=null,j=null,J=0;J<t.Expression.Expression.length;++J){var q=t.Expression.Expression[J];if(q.Type==Mo.AssignmentExpression&&":"==q.Operator&&q.Left){if(0==J){g=q.Left.Name;var Z=this.VarTable.get(g);this.VarDrawTable.has(g)?S=this.VarDrawTable.get(g):Array.isArray(Z)||(Z=this.SingleDataToArrayData(Z),this.VarTable.set(g,Z))}}else if(q.Type==Mo.Identifier){var Q=q.Name;if("COLORSTICK"===Q)y=!0;else if("POINTDOT"===Q)w=!0;else if("CIRCLEDOT"===Q)F=!0;else if("DOTLINE"===Q)R=!0;else if("UPDOWNDOT"==Q)E=!0;else if("LINESTICK"===Q)L=!0;else if("STICK"===Q)M=!0;else if("VOLSTICK"===Q)A=!0;else if("LINEAREA"==Q)O=!0;else if("DRAWABOVE"===Q)G=!0;else if("DRAWCENTER"===Q)H=!0;else if("DRAWBELOW"==Q)Y=!0;else if("STEPLINE"==Q)N=!0;else if(0==Q.indexOf("COLOR"))x=Q;else if(0==Q.indexOf("RGBX")&&10==Q.length)x=Q;else if(0==Q.indexOf("LINETHICK"))T=Q;else if("ALIGN0"==Q)X=0;else if("ALIGN1"==Q)X=1;else if("ALIGN2"==Q)X=2;else if("VALIGN0"==Q)W=0;else if("VALIGN1"==Q)W=1;else if("VALIGN2"==Q)W=2;else if(0==Q.indexOf("NODRAW"))_=!1;else if(0==Q.indexOf("EXDATA"))P=!0;else if(0==Q.indexOf("LINEOVERLAY"))B=!0;else if(0==Q.indexOf("NOTEXT")||0==Q.indexOf("NOTITLE"))V=!1;else if(0==Q.indexOf("FONTSIZE")){var tt=Q.replace("FONTSIZE","");U=parseInt(tt)}else if(0==J){g=q.Name;var et=this.ReadVariable(g,q);Array.isArray(et)||(et=this.SingleDataToArrayData(et)),g="__temp_si_"+i+"__",k=!0,this.VarTable.set(g,et)}}else if(q.Type==Mo.Literal){if(0==J){var it=this.SingleDataToArrayData(q.Value);g=q.Value.toString(),this.VarTable.set(g,it)}}else if(q.Type==Mo.CallExpression)if(0==J)if(this.Draw.IsDrawFunction(q.Callee.Name))S=q.Draw,S.Name=q.Callee.Name;else{var at=q.Out;g="__temp_sc_"+q.Callee.Name+"_"+i+"__",k=!0,this.VarTable.set(g,at)}else if("RGB"==q.Callee.Name||"RGBA"==q.Callee.Name)x=q.Out;else if("UPCOLOR"==q.Callee.Name)b=q.Out;else if("DOWNCOLOR"==q.Callee.Name)I=q.Out;else if("XMOVE"==q.Callee.Name)$=q.Out;else if("YMOVE"==q.Callee.Name)j=q.Out;else if("SOUND"==q.Callee.Name){this.GetSoundEvent();g=null}else if("ICON"==q.Callee.Name){var rt=this.VarTable.get(g);rt&&(S=this.GetOutIconData(rt,q.Draw))&&(S.Name=q.Callee.Name),g=null}else"BACKGROUND"==q.Callee.Name?(z=q.Draw,g=null):"CKLINE"==q.Callee.Name&&(K=q.Draw,g=null);else if(q.Type==Mo.BinaryExpression&&0==J){g="__temp_sb_"+i+"__";var nt=q.Out;k=!0,this.VarTable.set(g,nt)}}if(w&&g){var ot=this.VarTable.get(g);Array.isArray(ot)||(ot=this.SingleDataToArrayData(ot));var st={Name:g,Data:ot,Radius:lo.POINTDOT.Radius,Type:3};x&&(st.Color=x),T&&(st.LineWidth=T),this.OutVarTable.push(st)}else if(F&&g){var lt=this.VarTable.get(g);Array.isArray(lt)||(lt=this.SingleDataToArrayData(lt));var ht={Name:g,Data:lt,Radius:lo.CIRCLEDOT.Radius,Type:3};x&&(ht.Color=x),T&&(ht.LineWidth=T),this.OutVarTable.push(ht)}else if(E&&g){var ut=this.VarTable.get(g);Array.isArray(ut)||(ut=this.SingleDataToArrayData(ut));var ct={Name:g,Data:ut,Radius:lo.CIRCLEDOT.Radius,Type:3,UpDownDot:!0};x&&(ct.Color=x),T&&(ct.LineWidth=T),this.OutVarTable.push(ct)}else if(L&&g){var dt=this.VarTable.get(g),ft={Name:g,Data:dt,Type:4};x&&(ft.Color=x),T&&(ft.LineWidth=T),this.OutVarTable.push(ft)}else if(M&&g){var pt=this.VarTable.get(g),mt={Name:g,Data:pt,Type:5};x&&(mt.Color=x),T&&(mt.LineWidth=T),this.OutVarTable.push(mt)}else if(A&&g){var Ct=this.VarTable.get(g),vt={Name:g,Data:Ct,Type:6};x&&(vt.Color=x),b&&(vt.UpColor=b),I&&(vt.DownColor=I),this.OutVarTable.push(vt)}else if(O&&g){var Dt=this.VarTable.get(g),gt={Name:g,Data:Dt,Type:9};x&&(gt.Color=x),b&&(gt.UpColor=b),I&&(gt.DownColor=I),T&&(gt.LineWidth=T),this.OutVarTable.push(gt)}else if(y&&g){var St=this.VarTable.get(g),xt={Name:g,Data:St,Color:x,Type:2};T&&(xt.LineWidth=T),x&&(xt.Color=x),b&&(xt.UpColor=b),I&&(xt.DownColor=I),this.OutVarTable.push(xt)}else if(g&&x&&!S){var bt=this.VarTable.get(g);Array.isArray(bt)||(bt=this.SingleDataToArrayData(bt));var It={Name:g,Data:bt,Color:x,Type:0};T&&(It.LineWidth=T),0==_&&(It.IsShow=!1),1==P&&(It.IsExData=!0),1==R&&(It.IsDotLine=!0),1==B&&(It.IsOverlayLine=!0),1==k&&(It.NoneName=!0),0==V&&(It.IsShowTitle=!1),1==N&&(It.Type=7),this.OutVarTable.push(It)}else if(S){var Tt={Name:S.Name,Draw:S,Type:1};x&&(Tt.Color=x),1==R&&(Tt.IsDotLine=!0),T&&(Tt.LineWidth=T),G&&(Tt.IsDrawAbove=!0),H&&(Tt.IsDrawCenter=!0),Y&&(Tt.IsDrawBelow=!0),X>=0&&(Tt.DrawAlign=X),W>=0&&(Tt.DrawVAlign=W),U>0&&(Tt.DrawFontSize=U),z&&(Tt.Background=z),K&&(Tt.VerticalLine=K),Ee.IsNumber($)&&(Tt.XOffset=$),Ee.IsNumber(j)&&(Tt.YOffset=j),this.OutVarTable.push(Tt)}else if(g){var yt=this.VarTable.get(g),wt={Name:g,Data:yt,Type:0};x&&(wt.Color=x),T&&(wt.LineWidth=T),0==_&&(wt.IsShow=!1),1==P&&(wt.IsExData=!0),1==R&&(wt.IsDotLine=!0),1==B&&(wt.IsOverlayLine=!0),0==V&&(wt.IsShowTitle=!1),1==N&&(wt.Type=7),this.OutVarTable.push(wt)}}},this.GetOutIconData=function(t,e){if(Array.isArray(t)){for(var i=0;i<t.length&&i<e.DrawData.length;++i){t[i]<=0&&(e.DrawData[i]=null)}return e}return t?e:null},this.GetSoundEvent=function(){return this.GetEventCallback?this.GetEventCallback(Rn.ON_PLAY_SOUND):null},this.Run=function(){try{var t=this.RunAST();Nn.Complier.Log("[JSComplier.Run] execute finish",t),this.IndexCtrl&&(this.IndexCtrl.Status=0),this.UpdateUICallback&&(Nn.Complier.Log("[JSComplier.Run] invoke UpdateUICallback."),this.CallbackParam&&this.CallbackParam.Job&&this.CallbackParam.Job.ID==No.JOB_EXECUTE_INDEX?this.UpdateUICallback(t,this.CallbackParam,this.SymbolData):(this.CallbackParam&&this.CallbackParam.Self&&"ScriptIndexConsole"===this.CallbackParam.Self.ClassName&&(this.CallbackParam.JSExecute=this),1==this.IsUsePageData&&(this.CallbackParam.Self.IsUsePageData=!0),this.UpdateUICallback(t,this.CallbackParam)))}catch(t){Nn.Complier.Log(t),t.Job?(Nn.Complier.Log("[JSComplier.Run] download job and reexectue",t.Job),this.JobList.push(t.Job),this.JobList.push({ID:No.JOB_RUN_SCRIPT}),this.Execute()):this.ErrorCallback&&(this.IndexCtrl&&(this.IndexCtrl.Status=0),this.ErrorCallback(t,this.CallbackParam))}},this.DebugRun_End=function(){var t=this.OutVarTable;Nn.Complier.Log("[JSComplier.DebugRun_End] execute finish",t),this.IndexCtrl&&(this.IndexCtrl.Status=0),this.UpdateUICallback&&(Nn.Complier.Log("[JSComplier.DebugRun_End] invoke UpdateUICallback."),this.CallbackParam&&this.CallbackParam.Job&&this.CallbackParam.Job.ID==No.JOB_EXECUTE_INDEX?this.UpdateUICallback(t,this.CallbackParam,this.SymbolData):(this.CallbackParam&&this.CallbackParam.Self&&"ScriptIndexConsole"===this.CallbackParam.Self.ClassName&&(this.CallbackParam.JSExecute=this),1==this.IsUsePageData&&(this.CallbackParam.Self.IsUsePageData=!0),this.UpdateUICallback(t,this.CallbackParam)))},this.DebugRun_Next=function(t){var e=this;if(t.ExeLine<t.LineCount){var i=this.AST.Body[t.ExeLine];this.RunASTNode(i),++t.ExeLine,this.DebugFilter(t,function(){e.DebugRun_Next(t)})}else this.DebugRun_End(),t.Status=2,this.DebugFilter(t,null)},this.DebugRun=function(){var t=this;try{this.AST||this.ThrowError(),this.AST.Body||this.ThrowError();var e={LineCount:this.AST.Body.length,ExeLine:0,Self:this,Status:1};this.DebugFilter(e,function(){t.DebugRun_Next(e)})}catch(t){this.ErrorCallback&&(this.IndexCtrl&&(this.IndexCtrl.Status=0),this.ErrorCallback(t,this.CallbackParam))}},this.VisitNode=function(t){switch(t.Type){case Mo.SequenceExpression:this.VisitSequenceExpression(t);break;case Mo.ExpressionStatement:this.VisitNode(t.Expression);break;case Mo.AssignmentExpression:this.VisitAssignmentExpression(t);break;case Mo.BinaryExpression:case Mo.LogicalExpression:this.VisitBinaryExpression(t);break;case Mo.CallExpression:this.VisitCallExpression(t)}},this.VisitSequenceExpression=function(t){for(var e in t.Expression){var i=t.Expression[e];this.VisitNode(i)}},this.VisitCallExpression=function(t){for(var e=t.Callee.Name,i=[],a=0;a<t.Arguments.length;++a){var r,n=t.Arguments[a];if("IFC"===e&&a>=1)break;r=n.Type==Mo.BinaryExpression||n.Type==Mo.LogicalExpression?this.VisitBinaryExpression(n):n.Type==Mo.CallExpression?this.VisitCallExpression(n):this.GetNodeValue(n),i.push(r)}if("IFC"===e){var r,o=this.Algorithm.IFC(i[0]),n=o?t.Arguments[1]:t.Arguments[2];return r=n.Type==Mo.BinaryExpression||n.Type==Mo.LogicalExpression?this.VisitBinaryExpression(n):n.Type==Mo.CallExpression?this.VisitCallExpression(n):this.GetNodeValue(n),t.Out=r,n.Draw&&(t.Draw=n.Draw),t.Out}if(yo.IsCustomFunction(e)){var s=this.Algorithm.CallCustomFunction(e,i,this.SymbolData,t);return t.Out=[],t.Draw=null,s&&(s.Out&&(t.Out=s.Out),s.Draw&&(t.Draw=s.Draw)),t.Out}switch(e){case"DYNAINFO":t.Out=this.SymbolData.GetLatestCacheData(i[0]);break;case"STICKLINE":t.Draw=this.Draw.STICKLINE(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWTEXT":t.Draw=this.Draw.DRAWTEXT(i[0],i[1],i[2]),t.Out=[];break;case"DRAWTEXT_FIX":t.Draw=this.Draw.DRAWTEXT_FIX(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"SUPERDRAWTEXT":t.Draw=this.Draw.SUPERDRAWTEXT(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWICON":t.Draw=this.Draw.DRAWICON(i[0],i[1],i[2]),t.Out=[];break;case"ICON":t.Draw=this.Draw.ICON(i[0],i[1]),t.Out=[];break;case"TIPICON":t.Draw=this.Draw.TIPICON(i[0],i[1],i[2],i[3]),t.Out=[];break;case"BACKGROUND":t.Draw=this.Draw.BACKGROUND(i[0],i[1],i[2],i[3],i[4],i[5]),t.Out=[];break;case"CKLINE":t.Draw=this.Draw.CKLINE(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWLINE":t.Draw=this.Draw.DRAWLINE(i[0],i[1],i[2],i[3],i[4]),t.Out=t.Draw.DrawData;break;case"DRAWBAND":t.Draw=this.Draw.DRAWBAND(i[0],i[1],i[2],i[3]),t.Out=[];break;case"FILLRGN":i.length>=4?t.Draw=this.Draw.FILLRGN2(i):t.Draw=this.Draw.FILLRGN(i[0],i[1],i[2]),t.Out=[];break;case"FLOATRGN":t.Draw=this.Draw.FLOATRGN(i),t.Out=[];break;case"FILLTOPRGN":t.Draw=this.Draw.FILLBGRGN(1,i),t.Out=[];break;case"FILLBOTTOMRGN":t.Draw=this.Draw.FILLBGRGN(0,i),t.Out=[];break;case"FILLVERTICALRGN":t.Draw=this.Draw.FILLVERTICALRGN(i),t.Out=[];break;case"DRAWKLINE":case"DRAWKLINE1":t.Draw=this.Draw.DRAWKLINE(i[0],i[1],i[2],i[3]),t.Out=[];break;case"DRAWKLINE_IF":t.Draw=this.Draw.DRAWKLINE_IF(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWCOLORKLINE":t.Draw=this.Draw.DRAWCOLORKLINE(i[0],i[1],i[2]),t.Out=[];break;case"PLOYLINE":case"POLYLINE":t.Draw=this.Draw.POLYLINE(i[0],i[1]),t.Out=t.Draw.DrawData;break;case"DRAWNUMBER":t.Draw=this.Draw.DRAWNUMBER(i[0],i[1],i[2],i[3]),t.Out=t.Draw.DrawData.Value;break;case"DRAWNUMBER_FIX":t.Draw=this.Draw.DRAWNUMBER_FIX(i[0],i[1],i[2],i[3],i[4]),t.Out=t.Draw.DrawData.Value;break;case"DRAWCHANNEL":t.Draw=this.Draw.DRAWCHANNEL(i[0],i[1],i[2],i[3],i[4],i[5],i[6]),t.Out=[];break;case"RGB":t.Out=this.Draw.RGB(i[0],i[1],i[2]);break;case"RGBA":t.Out=this.Draw.RGBA(i[0],i[1],i[2],i[3]);break;case"UPCOLOR":t.Out=this.Draw.UPCOLOR(i[0]);break;case"DOWNCOLOR":t.Out=this.Draw.DOWNCOLOR(i[0]);break;case"XMOVE":t.Out=this.Draw.XMOVE(i[0]);break;case"YMOVE":t.Out=this.Draw.YMOVE(i[0]);break;case"PARTLINE":t.Draw=this.Draw.PARTLINE(i),t.Out=[];break;case"DRAWGBK":t.Draw=this.Draw.DRAWGBK(i[0],i[1],i[2],i[3]),t.Out=[];break;case"DRAWGBK2":t.Draw=this.Draw.DRAWGBK2(i[0],i[1],i[2],i[3]),t.Out=[];break;case"DRAWGBK_DIV":t.Draw=this.Draw.DRAWGBK_DIV(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWTEXT_LINE":t.Draw=this.Draw.DRAWTEXT_LINE(i[0],i[1],i[2],i[3],i[4],i[5],i[6]),t.Out=[];break;case"DRAWRECTREL":t.Draw=this.Draw.DRAWRECTREL(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"DRAWTEXTREL":t.Draw=this.Draw.DRAWTEXTREL(i[0],i[1],i[2]),t.Out=[];break;case"DRAWTEXTABS":t.Draw=this.Draw.DRAWTEXTABS(i[0],i[1],i[2]),t.Out=[];break;case"DRAWOVERLAYLINE":t.Draw=this.Draw.DRAWOVERLAYLINE(i[0],i[1],i[2]),t.Out=t.Draw.DrawData.Data;break;case"DRAWSL":t.Draw=this.Draw.DRAWSL(i[0],i[1],i[2],i[3],i[4]),t.Out=[];break;case"VERTLINE":t.Draw=this.Draw.VERTLINE(i[0],i[1]),t.Out=t.Draw.DrawData.Data;break;case"HORLINE":t.Draw=this.Draw.HORLINE(i[0],i[1],i[2],i[3]),t.Out=t.Draw.DrawData.Data;break;case"CODELIKE":t.Out=this.SymbolData.CODELIKE(i[0]);break;case"NAMELIKE":case"NAMEINCLUDE":t.Out=this.SymbolData.NAMELIKE(i[1]);break;case"REFDATE":t.Out=this.SymbolData.REFDATE(i[0],i[1]);break;case"FINANCE":case"FINVALUE":t.Out=this.SymbolData.GetStockCacheData({FunctionName:e,Args:i,ArgCount:1,Node:t});break;case"FINONE":case"GPJYVALUE":case"SCJYVALUE":t.Out=this.SymbolData.GetStockCacheData({FunctionName:e,Args:i,ArgCount:3,Node:t});break;case"MARGIN":t.Out=this.SymbolData.GetMarginCacheData(i[0],t);break;case"HK2SHSZ":t.Out=this.SymbolData.GetHKToSHSZCacheData(i[0],t);break;case"NEWS":t.Out=this.SymbolData.GetNewsAnalysisCacheData(i[0],t);break;case"UPCOUNT":case"DOWNCOUNT":t.Out=this.SymbolData.GetIndexIncreaseCacheData(e,i[0],t);break;case"SF":t.Out=this.SymbolData.GetSectionFinanceCacheData(i[0],i[1],i[2],t);break;case"LOADAPIDATA":t.Out=this.SymbolData.GetCustomApiData(i);break;case"STKINDI":case"CALCSTOCKINDEX":t.Out=this.SymbolData.GetScriptIndexOutData(i,t,e);break;case"SOUND":t.Draw=this.Draw.SOUND(i[0]),t.Out=[];break;case"PLAYSOUND":t.Draw=this.Draw.PLAYSOUND(i[0],i[1]),t.Out=[];break;case"CLOSE":case"C":case"VOL":case"V":case"OPEN":case"O":case"HIGH":case"H":case"LOW":case"L":case"AMOUNT":case"AMO":t.Out=this.SymbolData.GetOtherSymolCacheData({FunctionName:e,Args:i});break;case"INBLOCK":t.Out=this.SymbolData.IsInBlock(i[0],t);break;case"COVER_C":case"COVER_O":case"COVER_H":case"COVER_L":case"COVER_A":case"COVER_V":return 2==i.length?this.SymbolData.GetSymbolPeriodCacheData2(Cr.GetConvertValueName(e),i[0],i[1]):this.SymbolData.GetSymbolPeriodCacheData(Cr.GetConvertValueName(e),i[0]);case"SYSPARAM":return this.SymbolData.SysParam(i[0],this);case"TESTSKIP":var l=this.Algorithm.TESTSKIP(i[0],t);if(t.Out=null,l&&(this.Interrupt.Exit=!0,t&&t.Marker)){var h=t.Marker;this.Interrupt.Line=h.Line,this.Interrupt.Index=h.Index,this.Interrupt.Column=h.Column}break;default:t.Out=this.Algorithm.CallFunction(e,i,t,this.SymbolData)}return t.Out},this.VisitAssignmentExpression=function(t){var e=t.Left;e.Type!=Mo.Identifier&&this.ThrowUnexpectedNode(t);var i=e.Name,a=t.Right,r=null,n=null;if(a.Type==Mo.BinaryExpression||a.Type==Mo.LogicalExpression)r=this.VisitBinaryExpression(a);else if(a.Type==Mo.CallExpression)r=this.VisitCallExpression(a),a.Draw&&(n=a.Draw);else if(a.Type==Mo.Literal)r=a.Value,Ee.IsString(r)&&a.Value.indexOf("$")>0&&(r=this.SymbolData.GetOtherSymolCacheData({Literal:r}));else if(a.Type==Mo.Identifier)r=this.ReadVariable(a.Name,a);else if(a.Type==Mo.MemberExpression)r=this.ReadMemberVariable(a);else if(a.Type==Mo.UnaryExpression)if("-"==a.Operator){var o=this.GetNodeValue(a.Argument);r=this.Algorithm.Subtract(0,o)}else r=a.Argument.Value;Oo&&Nn.Complier.Log("[JSExecute::VisitAssignmentExpression]",i," = ",r),n&&this.VarDrawTable.set(i,n),this.VarTable.set(i,r)},this.VisitBinaryExpression=function(t){var e=[];e.push(t);for(var i=null;0!=e.length;)if(i=e[e.length-1],i.Left&&t!=i.Left&&t!=i.Right)e.push(i.Left);else if(i.Right&&t!=i.Right)e.push(i.Right);else{var a=e.pop();if(a.Type==Mo.BinaryExpression){var r=this.GetNodeValue(a.Left),n=this.GetNodeValue(a.Right);switch(Oo&&Nn.Complier.Log("[JSExecute::VisitBinaryExpression] BinaryExpression",a,r,n),a.Out=null,a.Operator){case"-":a.Out=this.Algorithm.Subtract(r,n);break;case"*":a.Out=this.Algorithm.Multiply(r,n);break;case"/":a.Out=this.Algorithm.Divide(r,n);break;case"+":a.Out=this.Algorithm.Add(r,n);break;case">":a.Out=this.Algorithm.GT(r,n);break;case">=":a.Out=this.Algorithm.GTE(r,n);break;case"<":a.Out=this.Algorithm.LT(r,n);break;case"<=":a.Out=this.Algorithm.LTE(r,n);break;case"==":case"=":a.Out=this.Algorithm.EQ(r,n);break;case"!=":case"<>":a.Out=this.Algorithm.NEQ(r,n)}Oo&&Nn.Complier.Log("[JSExecute::VisitBinaryExpression] BinaryExpression",a)}else if(a.Type==Mo.LogicalExpression){var o=this.GetNodeValue(a.Left),s=this.GetNodeValue(a.Right);switch(Oo&&Nn.Complier.Log("[JSExecute::VisitBinaryExpression] LogicalExpression",a,o,s),a.Out=null,a.Operator){case"&&":case"AND":a.Out=this.Algorithm.And(o,s);break;case"||":case"OR":a.Out=this.Algorithm.Or(o,s)}Oo&&Nn.Complier.Log("[JSExecute::VisitBinaryExpression] LogicalExpression",a)}t=i}return t.Out},this.GetNodeValue=function(t){switch(t.Type){case Mo.Literal:return t.Value;case Mo.UnaryExpression:if("-"==t.Operator){var e=this.GetNodeValue(t.Argument);return this.Algorithm.Subtract(0,e)}return t.Argument.Value;case Mo.Identifier:return this.ReadVariable(t.Name,t);case Mo.BinaryExpression:case Mo.LogicalExpression:return t.Out;case Mo.CallExpression:return this.VisitCallExpression(t);case Mo.MemberExpression:return this.ReadMemberVariable(t);default:this.ThrowUnexpectedNode(t)}},this.ThrowUnexpectedNode=function(t,e,i){var a=t.Marker,r=e||"执行异常";return this.ErrorHandler.ThrowError(a.Index,a.Line,a.Column,r,i)},this.ThrowDownloadSF=function(t,e,i){var a=t.Marker,r=i;return this.ErrorHandler.ThrowDownloadJob(a.Index,a.Line,a.Column,r,e)},this.ThrowError=function(){}}function wr(t,e){this.AST=t,this.ErrorHandler=new vr,this.ErrorCallback,this.UpdateUICallback,this.CallbackParam,this.JobList=[],this.VarTable=new Mn.default,this.OutVarTable=[],this.ConstVarTable=new Mn.default([["CLOSE","收盘价"],["VOL","成交量"],["OPEN","开盘价"],["HIGH","最高价"],["LOW","最低价"],["AMOUNT","成交量"],["C","收盘价"],["V","成交量"],["O","开盘价"],["H","最高价"],["L","最低价"],["AMO","成交量"],["VOLR","量比"],["VOLINSTK","持仓量"],["OPI","持仓量"],["ZSTJJ","均价"],["QHJSJ","结算价"],["SETTLE","结算价"],["DATE","日期"],["YEAR","年份"],["MONTH","月份"],["PERIOD","周期"],["WEEK","星期"],["TIME","时间"],["INDEXA","大盘成交额"],["INDEXC","大盘收盘价"],["INDEXH","大盘最高价"],["INDEXL","大盘最低价"],["INDEXO","大盘开盘价"],["INDEXV","大盘成交量"],["INDEXADV","大盘上涨家数"],["INDEXDEC","´大盘下跌家数"],["ADVANCE","上涨家数"],["DECLINE","下跌家数"],["FROMOPEN","当前离开盘分钟数"],["TOTALFZNUM","总分钟数"],["CURRBARSCOUNT","到最后交易的周期"],["TOTALBARSCOUNT","总的周期数"],["ISLASTBAR","是否是最后一个周期"],["BARSTATUS","数据位置状态"],["CAPITAL","当前流通股本(手)"],["TOTALCAPITAL","当前总股本(手)"],["EXCHANGE","换手率"],["SETCODE","市场类型"],["CODE","品种代码"],["STKNAME","品种名称"],["TQFLAG","当前复权状态"],["HYBLOCK","所属行业"],["DYBLOCK","所属地域"],["GNBLOCK","所属概念"],["FGBLOCK","所属风格板块"],["ZSBLOCK","所属指数板块"],["ZHBLOCK","所属组合板块"],["ZDBLOCK","所属自定义板块"],["HYZSCODE","所属行业的板块指数代码"],["GNBLOCKNUM","所属概念板块的个数"],["FGBLOCKNUM","所属风格板块的个数"],["ZSBLOCKNUM","所属指数板块的个数"],["ZHBLOCKNUM","所属组合板块的个数"],["ZDBLOCKNUM","所属自定义板块的个数"],["HYSYL","指数市盈率或个股所属行业的市盈率"],["HYSJL","指数市净率或个股所属行业的市净率"],["DRAWNULL","无效数据"]]),e&&(e.Callback&&(this.UpdateUICallback=e.Callback),e.CallbackParam&&(this.CallbackParam=e.CallbackParam),e.Arguments&&(this.Arguments=e.Arguments)),this.Run=function(){try{this.OutVarTable=[],this.VarTable=new Mn.default,Nn.Complier.Log("[JSExecute::JSExplainer] Load Arguments",this.Arguments);for(var t in this.Arguments){var e=this.Arguments[t];this.VarTable.set(e.Name,e.Value)}var i=this.RunAST();Nn.Complier.Log("[JSExplainer.Run] explain finish",i),this.UpdateUICallback&&(Nn.Complier.Log("[JSExplainer.Run] invoke UpdateUICallback."),this.UpdateUICallback(i))}catch(t){Nn.Complier.Log("[JSExplainer.Run] throw error ",t),this.ErrorCallback&&this.ErrorCallback(t,this.OutVarTable)}},this.RunAST=function(){this.AST||this.ThrowError(),this.AST.Body||this.ThrowError();for(var t in this.AST.Body){var e=this.AST.Body[t];if(this.VisitNode(e),e.Type==Mo.ExpressionStatement&&e.Expression)if(e.Expression.Type==Mo.AssignmentExpression){if(":"==e.Expression.Operator&&e.Expression.Left){var i=e.Expression,a=i.Left.Name,r="输出"+a+": "+this.VarTable.get(a);this.OutVarTable.push({Name:a,Data:r,Type:0})}else if(":="==e.Expression.Operator&&e.Expression.Left){var n=e.Expression,o=n.Left.Name,s="赋值"+o+": "+this.VarTable.get(o);this.OutVarTable.push({Name:o,Data:s,Type:0,IsOut:!1})}}else if(e.Expression.Type==Mo.CallExpression){var l=e.Expression;if(this.IsDrawFunction(l.Callee.Name)){var h=l.Out,u=l.Callee.Name;this.OutVarTable.push({Name:u,Draw:"输出: "+h,Type:1})}else{var c=l.Out;m="__temp_c_"+l.Callee.Name+"_"+t+"__",this.OutVarTable.push({Name:m,Data:"输出: "+c,Type:0,NoneName:!0})}}else if(e.Expression.Type==Mo.Identifier){var d=e.Expression.Name,f=this.ReadVariable(d,e.Expression);d="__temp_i_"+t+"__",this.OutVarTable.push({Name:d,Data:"输出: "+f,Type:0,NoneName:!0})}else if(e.Expression.Type==Mo.Literal){var p=e.Expression.Value;Ee.IsString(p)&&p.indexOf("$")>0&&(p=this.GetOtherSymbolExplain({Literal:p},e)),m="__temp_li_"+t+"__";this.OutVarTable.push({Name:m,Data:"输出: "+p,Type:0,NoneName:!0})}else if(e.Expression.Type==Mo.BinaryExpression){var m="__temp_b_"+t+"__",C=e.Expression.Out;this.OutVarTable.push({Name:m,Data:"输出: "+C,Type:0,NoneName:!0})}else if(e.Expression.Type==Mo.LogicalExpression){var m="__temp_l_"+t+"__",v=e.Expression.Out;this.OutVarTable.push({Name:m,Data:"输出: "+v,Type:0,NoneName:!0})}else if(e.Expression.Type==Mo.SequenceExpression){var D=void 0,g=void 0,S=void 0,x=void 0,b=void 0,I=!1,T=!1,y=!1,w=!1,E=!1,F=!1,L=!0,M=!1,A=!1,O=!1;for(var N in e.Expression.Expression){var _=e.Expression.Expression[N];if(_.Type==Mo.AssignmentExpression&&":"==_.Operator&&_.Left){D=_.Left.Name;var P=this.VarTable.get(D);this.VarTable.set(D,P)}else if(_.Type==Mo.Identifier){var R=_.Name;if("COLORSTICK"===R)I=!0;else if("POINTDOT"===R)T=!0;else if("CIRCLEDOT"===R)y=!0;else if("DOTLINE"===R)M=!0;else if("LINESTICK"===R)w=!0;else if("STICK"===R)E=!0;else if("VOLSTICK"===R)F=!0;else if("DRAWABOVE"===R)O=!0;else if(0==R.indexOf("COLOR"))x=R;else if(0==R.indexOf("LINETHICK"))b=R;else if(0==R.indexOf("NODRAW"))L=!1;else if(0==R.indexOf("EXDATA"))!0;else if(0==R.indexOf("LINEOVERLAY"))!0;else{D=_.Name;var B=this.ReadVariable(D,_);D="__temp_si_"+t+"__",A=!0,this.VarTable.set(D,B)}}else if(_.Type==Mo.Literal){var k=_.Value;D=_.Value.toString(),A=!0,this.VarTable.set(D,k)}else if(_.Type==Mo.CallExpression)if(this.IsDrawFunction(_.Callee.Name))S=_.Out,g=_.Callee.Name;else{var V=_.Out;D="__temp_sc_"+_.Callee.Name+"_"+t+"__",A=!0,this.VarTable.set(D,V)}else if(_.Type==Mo.BinaryExpression){D="__temp_sb_"+t+"__";var G=_.Out;A=!0,this.VarTable.set(D,G)}}var H;if(H=S?"输出: "+S:A?"输出: "+this.VarTable.get(D):"输出"+D+": "+this.VarTable.get(D),x&&(H+=",颜色"+this.GetColorExplain(x)),b&&(H+=",线段粗细"+this.GetLineWidthExplain(b)),0==L&&(H+=",不显示"),1==M&&(H+=",画虚线"),1==O&&(H+=",显示在位置之上"),T&&D){H+=",画小圆点线";var Y={Name:D,Data:H,Radius:lo.POINTDOT.Radius,Type:3};this.OutVarTable.push(Y)}else if(y&&D){H+=",画小圆圈线";var X={Name:D,Data:H,Radius:lo.CIRCLEDOT.Radius,Type:3};this.OutVarTable.push(X)}else if(w&&D){H+=",画出柱状线和指标线";var W={Name:D,Data:H,Type:4};this.OutVarTable.push(W)}else if(E&&D){H+=",画柱状线";var U={Name:D,Data:H,Type:5};this.OutVarTable.push(U)}else if(F&&D){H+=",画成交量柱状线";var z={Name:D,Data:H,Type:6};this.OutVarTable.push(z)}else if(D&&x){var K={Name:D,Data:H,Color:x,Type:0};this.OutVarTable.push(K)}else if(S){var $={Name:g,Data:H,Type:1};this.OutVarTable.push($)}else if(I&&D){H+=",画彩色柱状线";var j={Name:D,Data:H,Color:x,Type:2};this.OutVarTable.push(j)}else if(D){var J={Name:D,Data:H,Type:0};this.OutVarTable.push(J)}}}return Nn.Complier.Log("[JSExplainer::Run]",this.VarTable),this.OutVarTable},this.VisitNode=function(t){switch(t.Type){case Mo.SequenceExpression:this.VisitSequenceExpression(t);break;case Mo.ExpressionStatement:this.VisitNode(t.Expression);break;case Mo.AssignmentExpression:this.VisitAssignmentExpression(t);break;case Mo.BinaryExpression:case Mo.LogicalExpression:this.VisitBinaryExpression(t);break;case Mo.CallExpression:this.VisitCallExpression(t)}},this.VisitSequenceExpression=function(t){for(var e in t.Expression){var i=t.Expression[e];this.VisitNode(i)}},this.VisitCallExpression=function(t){var e=t.Callee.Name,i=[];for(var a in t.Arguments){var r=t.Arguments[a],n=void 0;n=r.Type==Mo.BinaryExpression||r.Type==Mo.LogicalExpression?this.VisitBinaryExpression(r):r.Type==Mo.CallExpression?this.VisitCallExpression(r):this.GetNodeValue(r),i.push(n)}if(Nn.Complier.Log("[JSExplainer::VisitCallExpression]",e,"(",i.toString(),")"),yo.IsCustomFunction(e)){var o=this.Algorithm.CallCustomFunction(e,i,this.SymbolData,t);return t.Out=[],t.Draw=null,o&&(o.Out&&(t.Out=o.Out),o.Draw&&(t.Draw=o.Draw)),t.Out}return t.Out=this.CallFunctionExplain(e,i,t),t.Out},this.FUNCTION_INFO_LIST=new Mn.default([["REF",{Name:"REF",Param:{Count:2},ToString:function(t){return t[1]+"日前的"+t[0]}}],["REFX",{Name:"REFX",Param:{Count:2},ToString:function(t){return t[1]+"日后的"+t[0]}}],["REFV",{Name:"REFV",Param:{Count:2},ToString:function(t){return t[1]+"日前的(未作平滑处理)"+t[0]}}],["REFXV",{Name:"REFXV",Param:{Count:2},ToString:function(t){return t[1]+"日后的(未作平滑处理)"+t[0]}}],["REFDATE",{Name:"REFDATE",Param:{Count:2},ToString:function(t){return t[1]+"日"+t[0]}}],["COUNT",{Name:"COUNT",Param:{Count:2},ToString:function(t){return"统计"+t[1]+"日中满足"+t[0]+"的天数"}}],["BARSLASTCOUNT",{Name:"BARSLASTCOUNT",Param:{Count:1},ToString:function(t){return"条件"+t[0]+"连续成立次数"}}],["BARSCOUNT",{Name:"BARSCOUNT",Param:{Count:1},ToString:function(t){return t[0]+"有效数据周期数"}}],["BARSLAST",{Name:"BARSLAST",Param:{Count:1},ToString:function(t){return"上次"+t[0]+"不为0距今天数"}}],["BARSNEXT",{Name:"BARSNEXT",Param:{Count:1},ToString:function(t){return"下次"+t[0]+"不为0距今天数"}}],["BARSSINCEN",{Name:"BARSSINCEN",Param:{Count:2},ToString:function(t){return"在"+t[1]+"周期内首次"+t[0]+"距今天数"}}],["BARSSINCE",{Name:"BARSSINCE",Param:{Count:1},ToString:function(t){return"首次"+t[0]+"距今天数"}}],["HHV",{Name:"HHV",Param:{Count:2},ToString:function(t){return t[1]+"日内"+t[0]+"的最高值"}}],["LLV",{Name:"LLV",Param:{Count:2},ToString:function(t){return t[1]+"日内"+t[0]+"的最低值"}}],["ZTPRICE",{Name:"ZTPRICE",Param:{Count:2},ToString:function(t){return"计算涨停价"}}],["DTPRICE",{Name:"DTPRICE",Param:{Count:2},ToString:function(t){return"计算跌停价"}}],["BACKSET",{Name:"BACKSET",Param:{Count:2},ToString:function(t){return"若"+t[0]+"则将最近"+t[1]+"周期置为1"}}],["HOD",{Name:"HOD",Param:{Count:2},ToString:function(t){return t[1]+"日内"+t[0]+"的高值名次"}}],["LOD",{Name:"LOD",Param:{Count:2},ToString:function(t){return t[1]+"日内"+t[0]+"的低值名次"}}],["REVERSE",{Name:"REVERSE",Param:{Count:1},ToString:function(t){return t[0]+"的相反数"}}],["FILTER",{Name:"FILTER",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日过滤"}}],["FILTERX",{Name:"FILTERX",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日反向过滤"}}],["TFILTER",{Name:"TFILTER",Param:{Count:3},ToString:function(t){return"信号过滤(多头)"}}],["SUMBARS",{Name:"SUMBARS",Param:{Count:2},ToString:function(t){return t[0]+"累加至"+t[1]+"的天数"}}],["MA",{Name:"MA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日简单移动平均"}}],["SMA",{Name:"SMA",Param:{Count:3},ToString:function(t){return t[0]+"的"+t[1]+"日["+t[2]+"日权重]移动平均"}}],["MEMA",{Name:"MEMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日平滑移动平均"}}],["EMA",{Name:"EMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日指数移动平均"}}],["EXPMA",{Name:"EXPMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日指数移动平均"}}],["EXPMEMA",{Name:"EXPMEMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日指数平滑移动平均"}}],["WMA",{Name:"WMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日加权移动平均"}}],["DMA",{Name:"DMA",Param:{Count:2},ToString:function(t){return"以"+t[1]+"为权重"+t[0]+"的动态移动平均"}}],["XMA",{Name:"XMA",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日偏移移动平均"}}],["RANGE",{Name:"RANGE",Param:{Count:3},ToString:function(t){return t[0]+"位于"+t[1]+"和"+t[2]+"之间"}}],["CONST",{Name:"CONST",Param:{Count:1},ToString:function(t){return t[0]+"的最后一日值"}}],["TOPRANGE",{Name:"TOPRANGE",Param:{Count:1},ToString:function(t){return"当前值是近"+t[0]+"周期的最大值"}}],["LOWRANGE",{Name:"LOWRANGE",Param:{Count:1},ToString:function(t){return"当前值是近"+t[0]+"周期的最小值"}}],["FINDHIGH",{Name:"FINDHIGH",Param:{Count:4},ToString:function(t){return t[0]+"在"+t[1]+"日前的"+t[2]+"天内第"+t[3]+"个最高价"}}],["FINDHIGHBARS",{Name:"FINDHIGHBARS",Param:{Count:4},ToString:function(t){return t[0]+"在"+t[1]+"日前的"+t[2]+"天内第"+t[3]+"个最高价到当前周期的周期数"}}],["FINDLOW",{Name:"FINDLOW",Param:{Count:4},ToString:function(t){return t[0]+"在"+t[1]+"日前的"+t[2]+"天内第"+t[3]+"个最低价"}}],["FINDLOWBARS",{Name:"FINDLOWBARS",Param:{Count:2},ToString:function(t){return t[0]+"在"+t[1]+"日前的"+t[2]+"天内第"+t[3]+"个最低价到当前周期的周期数"}}],["SUM",{Name:"SUM",Param:{Count:2},ToString:function(t){return""+t[0]+t[1]+"日累加"}}],["MULAR",{Name:"MULAR",Param:{Count:2},ToString:function(t){return t[0]+"和"+t[1]+"日累乘"}}],["AMA",{Name:"AMA",Param:{Count:2},ToString:function(t){return"以"+t[1]+"为权重"+t[0]+"的自适应均线"}}],["TMA",{Name:"TMA",Param:{Count:3},ToString:function(t){return t[0]+"的"+t[1]+"日["+t[2]+"日权重]移动平均"}}],["CROSS",{Name:"CROSS",Param:{Count:2},ToString:function(t){return t[0]+"上穿"+t[1]}}],["LONGCROSS",{Name:"LONGCROSS",Param:{Count:3},ToString:function(t){return t[0]+"小于"+t[1]+"保持"+t[2]+"个交易日后交叉上穿"}}],["UPNDAY",{Name:"UPNDAY",Param:{Count:2},ToString:function(t){return"最近"+t[1]+"日"+t[0]+"连涨"}}],["DOWNNDAY",{Name:"DOWNNDAY",Param:{Count:2},ToString:function(t){return"最近"+t[1]+"日"+t[0]+"连跌"}}],["NDAY",{Name:"NDAY",Param:{Count:3},ToString:function(t){return"最近"+t[2]+"日"+t[0]+"一直大于"+t[1]}}],["EXIST",{Name:"EXIST",Param:{Count:2},ToString:function(t){return"最近"+t[1]+"日存在"+t[0]}}],["EXISTR",{Name:"EXISTR",Param:{Count:3},ToString:function(t){return"从前"+t[1]+"日到前"+t[2]+"日存在"+t[0]}}],["EVERY",{Name:"EVERY",Param:{Count:2},ToString:function(t){return"最近"+t[1]+"日一直存在"+t[0]}}],["LAST",{Name:"LAST",Param:{Count:3},ToString:function(t){return"从前"+t[1]+"日到前"+t[2]+"日持续"+t[0]}}],["NOT",{Name:"NOT",Param:{Count:1},ToString:function(t){return t[0]+"取反"}}],["IF",{Name:"IF",Param:{Count:3},ToString:function(t){return"如果"+t[0]+",返回"+t[1]+",否则返回"+t[2]}}],["IFF",{Name:"IFF",Param:{Count:3},ToString:function(t){return"如果"+t[0]+",返回"+t[1]+",否则返回"+t[2]}}],["IFN",{Name:"IFN",Param:{Count:3},ToString:function(t){return"如果"+t[0]+",返回"+t[1]+",否则返回"+t[2]}}],["IFC",{Name:"IFC",Param:{Count:3},ToString:function(t){return"如果"+t[0]+",返回"+t[1]+",否则返回"+t[2]}}],["TESTSKIP",{Name:"TESTSKIP",Param:{Count:1},ToString:function(t){return"如果满足条件"+t[0]+",公式返回"}}],["VALUEWHEN",{Name:"VALUEWHEN",Param:{Count:2},ToString:function(t){return"如果"+t[0]+",返回"+t[1]+",否则返回上个输出值 "}}],["MAX",{Name:"MAX",Param:{Count:2},ToString:function(t){return t[0]+"和"+t[1]+"的较大值"}}],["MIN",{Name:"MIN",Param:{Count:2},ToString:function(t){return t[0]+"和"+t[1]+"的较小值"}}],["ACOS",{Name:"ACOS",Param:{Count:1},ToString:function(t){return t[0]+"的反余弦"}}],["ASIN",{Name:"ASIN",Param:{Count:1},ToString:function(t){return t[0]+"的反正弦"}}],["ATAN",{Name:"ATAN",Param:{Count:1},ToString:function(t){return t[0]+"的反正切"}}],["COS",{Name:"COS",Param:{Count:1},ToString:function(t){return t[0]+"的余弦"}}],["SIN",{Name:"SIN",Param:{Count:1},ToString:function(t){return t[0]+"的正弦"}}],["TAN",{Name:"TAN",Param:{Count:1},ToString:function(t){return t[0]+"的正切"}}],["EXP",{Name:"EXP",Param:{Count:1},ToString:function(t){return t[0]+"的指数"}}],["LN",{Name:"LN",Param:{Count:1},ToString:function(t){return t[0]+"的自然对数"}}],["LOG",{Name:"LOG",Param:{Count:1},ToString:function(t){return t[0]+"的对数"}}],["SQRT",{Name:"SQRT",Param:{Count:1},ToString:function(t){return t[0]+"的开方"}}],["ABS",{Name:"ABS",Param:{Count:1},ToString:function(t){return t[0]+"的绝对值"}}],["POW",{Name:"POW",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"乘幂"}}],["CEILING",{Name:"CEILING",Param:{Count:1},ToString:function(t){return t[0]+"的向上舍入"}}],["FLOOR",{Name:"FLOOR",Param:{Count:1},ToString:function(t){return t[0]+"的向上舍入"}}],["INTPART",{Name:"INTPART",Param:{Count:1},ToString:function(t){return t[0]+"的整数部分"}}],["BETWEEN",{Name:"BETWEEN",Param:{Count:3},ToString:function(t){return t[0]+"位于"+t[1]+"和"+t[2]+"之间"}}],["FRACPART",{Name:"FRACPART",Param:{Count:1},ToString:function(t){return t[0]+"的小数部分"}}],["ROUND",{Name:"ROUND",Param:{Count:1},ToString:function(t){return"对"+t[0]+"(进行)四舍五入"}}],["ROUND2",{Name:"ROUND2",Param:{Count:2},ToString:function(t){return"对"+t[0]+"(进行)四舍五入"}}],["SIGN",{Name:"SIGN",Param:{Count:1},ToString:function(t){return t[0]+"的符号"}}],["MOD",{Name:"MOD",Param:{Count:2},ToString:function(t){return t[0]+"关于"+t[1]+"的模"}}],["RAND",{Name:"RAND",Param:{Count:1},ToString:function(t){return"随机正整数"}}],["AVEDEV",{Name:"AVEDEV",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日平均绝对偏差"}}],["DEVSQ",{Name:"DEVSQ",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日数据偏差平方和"}}],["FORCAST",{Name:"FORCAST",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日线性回归预测值"}}],["TSMA",{Name:"TSMA",Param:{Count:2},ToString:function(t){return t[0]+"在"+t[1]+"个周期内的时间序列三角移动平均"}}],["SLOPE",{Name:"SLOPE",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日线性回归斜率"}}],["STD",{Name:"STD",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日估算标准差"}}],["STDP",{Name:"STDP",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日总体标准差"}}],["STDDEV",{Name:"STDDEV",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日标准偏差"}}],["VAR",{Name:"VAR",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日估算样本方差"}}],["VARP",{Name:"VARP",Param:{Count:2},ToString:function(t){return t[0]+"的"+t[1]+"日总体样本方差"}}],["COVAR",{Name:"COVAR",Param:{Count:3},ToString:function(t){return t[0]+"和"+t[1]+"的"+t[2]+"周期的协方差"}}],["RELATE",{Name:"RELATE",Param:{Count:3},ToString:function(t){return t[0]+"和"+t[1]+"的"+t[0]+"周期的相关系数"}}],["BETA",{Name:"BETA",Param:{Count:1},ToString:function(t){return"β(Beta)系数"}}],["BETAEX",{Name:"BETAEX",Param:{Count:3},ToString:function(t){return t[0]+"和"+t[1]+"的"+t[2]+"周期的相关放大系数"}}],["COST",{Name:"COST",Param:{Count:1},ToString:function(t){return"获利盘为"+t[0]+"%的成本分布"}}],["WINNER",{Name:"WINNER",Param:{Count:1},ToString:function(t){return"以"+t[0]+"计算的获利盘比例"}}],["LWINNER",{Name:"LWINNER",Param:{Count:2},ToString:function(t){return"最近"+t[0]+"日那部分成本以"+t[1]+"价格卖出的获利盘比例"}}],["PWINNER",{Name:"PWINNER",Param:{Count:2},ToString:function(t){return t[0]+"日前那部分成本以"+t[1]+"价格卖出的获利盘比例"}}],["COSTEX",{Name:"COSTEX",Param:{Count:2},ToString:function(t){return"位于价格"+t[0]+"和"+t[1]+"间的成本"}}],["PPART",{Name:"PPART",Param:{Count:2},ToString:function(t){return t[0]+"日前那部分成本占总成本的比例"}}],["SAR",{Name:"SAR",Param:{Count:3},ToString:function(t){return"步长为"+t[1]+"极限值为"+t[0]+"的"+t[2]+"日抛物转向"}}],["SARTURN",{Name:"SARTURN",Param:{Count:3},ToString:function(t){return"步长为"+t[1]+"极限值为"+t[0]+"的"+t[2]+"日抛物转向点"}}],["CON2STR",{Name:"CON2STR",Param:{Count:2},ToString:function(t){return t[0]+"转为字符串"}}],["VAR2STR",{Name:"VAR2STR",Param:{Count:2},ToString:function(t){return t[0]+"转为字符串"}}],["STR2CON",{Name:"STR2CON",Param:{Count:1},ToString:function(t){return t[0]+"转为数字"}}],["STRLEN",{Name:"STRLEN",Param:{Count:1},ToString:function(t){return"得到"+t[0]+"字符串长度"}}],["STRCAT",{Name:"STRCAT",Param:{Count:2},ToString:function(t){return"字符串相加"}}],["VARCAT",{Name:"VARCAT",Param:{Count:2},ToString:function(t){return"字符串相加"}}],["STRSPACE",{Name:"STRSPACE",Param:{Count:1},ToString:function(t){return"字符串"+t[0]+"加一空格"}}],["SUBSTR",{Name:"SUBSTR",Param:{Count:3},ToString:function(t){return"字符串"+t[0]+"中取一部分"}}],["STRCMP",{Name:"STRCMP",Param:{Count:2},ToString:function(t){return"字符串"+t[0]+"和字符串"+t[1]+"比较"}}],["FINDSTR",{Name:"FINDSTR",Param:{Count:2},ToString:function(t){return"字符串"+t[0]+"中查找字符串"+t[1]}}],["NAMEINCLUD",{Name:"NAMEINCLUD",Param:{Count:1},ToString:function(t){return"查找品种名称中包含"+t[0]}}],["CODELIKE",{Name:"CODELIKE",Param:{Count:1},ToString:function(t){return"查找品种名称中包含"+t[0]}}],["INBLOCK",{Name:"AVEDEV",Param:{Count:1},ToString:function(t){return"属于"+t[0]+"板块"}}],["STKINDI",{Name:"STKINDI",Param:{Dynamic:!0},ToString:function(t){return"指标引用"}}],["HHVBARS",{Name:"HHVBARS",Param:{Count:2},ToString:function(t){return 0==t[1]?"历史"+t[0]+"新高距今天数":t[1]+"日内"+t[0]+"新高距今天数"}}],["LLVBARS",{Name:"LLVBARS",Param:{Count:2},ToString:function(t){return 0==t[1]?"历史"+t[0]+"新低距今天数":t[1]+"日内"+t[0]+"新低距今天数"}}]]),this.CallFunctionExplain=function(t,e,i){if(this.FUNCTION_INFO_LIST.has(t)){var a=this.FUNCTION_INFO_LIST.get(t);return!0===a.Param.Dynamic||a.Param.Count!=e.length&&this.ThrowUnexpectedNode(i,"函数"+t+"参数个数不正确. 需要"+a.Param.Count+"个参数"),a.ToString(e)}switch(t){case"CALCSTOCKINDEX":return"引用"+e[0]+"的"+e[1]+"指标第"+e[2]+"个输出值";case"PEAK":case"PEAKBARS":case"ZIG":case"ZIGA":case"TROUGH":case"TROUGHBARS":return this.GetZIGExplain(t,e);case"FINANCE":return this.GetFinanceExplain(e);case"DYNAINFO":return this.GetDynainfoExplain(e);case"CLOSE":case"C":case"VOL":case"V":case"OPEN":case"O":case"HIGH":case"H":case"LOW":case"L":case"AMOUNT":case"AMO":return this.GetOtherSymbolExplain({FunctionName:t,Args:e},i);case"PLOYLINE":return"当满足条件"+e[0]+"时以"+e[1]+"位置为顶点画折线连接";case"DRAWLINE":return"当满足条件"+e[0]+"时,在"+e[1]+"位置画直线起点，当满足条件"+e[2]+"时,在"+e[3]+"位置画直线终点,"+e[4]+"表示是否延长";case"DRAWSL":return"当满足条件"+e[0]+"时,在"+e[1]+"位置画斜线线性回归,"+e[2]+"斜率,"+e[3]+"长度,"+e[4]+"方向";case"DRAWKLINE":case"DRAWKLINE1":return"K线";case"DRAWICON":return"当满足条件"+e[0]+"时,在"+e[1]+"位置画"+e[2]+"号图标";case"DRAWTEXT":return"当满足条件"+e[0]+"时,在"+e[1]+"位置书写文字";case"DRAWTEXT_FIX":return"当满足条件"+e[0]+"时,在横轴"+e[1]+"纵轴"+e[2]+"位置书写文字";case"DRAWNUMBER":return"当满足条件"+e[0]+"时,在"+e[1]+"位置书写数字";case"DRAWNUMBER_FIX":return"当满足条件"+e[0]+"时,在横轴"+e[1]+"纵轴"+e[2]+"位置书写数字";case"RGB":return"自定色["+e[0]+","+e[1]+","+e[2]+"]";case"DRAWBAND":return"画带状线";case"DRAWRECTREL":return"相对位置上画矩形.";case"DRAWGBK":return"填充背景";case"STICKLINE":var r="";return r=-1==e[4]?"虚线空心柱":0==e[4]?"实心柱":"实线空心柱","当满足条件"+e[0]+"时, 在"+e[1]+"和"+e[2]+"位置之间画柱状线,宽度为"+e[3]+","+r;default:this.ThrowUnexpectedNode(i,"函数"+t+"不存在")}},this.GetDynainfoExplain=function(t){var e=new Mn.default([[3,"前收盘价"],[4,"开盘价"],[5,"最高价"],[6,"最低价"],[7,"现价"],[8,"总量"],[9,"现量"],[10,"总金额"],[11,"均价"],[12,"日涨跌"],[13,"振幅"],[14,"涨幅"],[15,"开盘时的成交金额"],[16,"前5日每分钟均量"],[17,"量比"],[18,"上涨家数"],[19,"下跌家数"]]),i=t[0];return e.has(i)?e.get(i):"即时行情["+i+"]"},this.GetFinanceExplain=function(t){var e=new Mn.default([[1,"总股本"],[2,"市场类型"],[3,"沪深品种类型"],[4,"沪深行业代码"],[5,"B股"],[6,"H股"],[7,"流通股本[股]"],[8,"股东人数[户]"],[9,"资产负债率%"],[10,"总资产"],[11,"流动资产"],[12,"固定资产"],[13,"无形资产"],[15,"流动负债"],[16,"少数股东权益"]]),i=t[0];return e.has(i)?e.get(i):"财务数据["+i+"]"},this.GetZIGExplain=function(t,e){var i=e[0];switch(0==i?i="开盘价":1==i?i="最高价":2==i?i="最低价":3==i&&(i="收盘价"),t){case"PEAK":return i+"的"+e[1]+"%之字转向的前"+e[2]+"个波峰值";case"PEAKBARS":return i+"的"+e[1]+"5%之字转向的前"+e[2]+"个波峰位置";case"ZIG":return i+"的"+e[1]+"的之字转向";case"ZIGA":return i+"变化"+e[1]+"的之字转向";case"TROUGH":return i+"的"+e[1]+"%之字转向的前"+e[2]+"个波谷值";case"TROUGHBARS":return i+"的"+e[1]+"%之字转向的前"+e[2]+"个波谷位置"}},this.GetColorExplain=function(t){var e=new Mn.default([["COLORBLACK","黑色"],["COLORBLUE","蓝色"],["COLORGREEN","绿色"],["COLORCYAN","青色"],["COLORRED","红色"],["COLORMAGENTA","洋红色"],["COLORBROWN","棕色"],["COLORLIGRAY","淡灰色"],["COLORGRAY","深灰色"],["COLORLIBLUE","淡蓝色"],["COLORLIGREEN","淡绿色"],["COLORLICYAN","淡青色"],["COLORLIRED","淡红色"],["COLORLIMAGENTA","淡洋红色"],["COLORWHITE","白色"],["COLORYELLOW","黄色"]]);return e.has(t)?e.get(t):0==t.indexOf("COLOR")?"#"+t.substr(5):"rgb(30,144,255)"},this.GetLineWidthExplain=function(t){var e=parseInt(t.replace("LINETHICK",""));return Ee.IsPlusNumber(e)?e:1},this.SymbolPeriodExplain=function(t,e){var i=new Mn.default([["CLOSE","收盘价"],["C","收盘价"],["VOL","成交量"],["V","成交量"],["OPEN","开盘价"],["O","开盘价"],["HIGH","最高价"],["H","最高价"],["LOW","最低价"],["L","最低价"],["AMOUNT","成交金额"],["AMO","成交金额"],["VOLINSTK","持仓量"]]),a=new Mn.default([["MIN1","1分钟"],["MIN5","5分钟"],["MIN15","15分钟"],["MIN30","30分钟"],["MIN60","60分钟"],["DAY","日"],["WEEK","周"],["MONTH","月"],["SEASON","季"],["YEAR","年"],["WEEK2","双周"],["HALFYEAR","半年"]]),r=t;i.has(t)&&(r=i.get(t));var n=e;return a.has(e)&&(n=a.get(e)),r+"[取"+n+"数据]"},this.GetOtherSymbolExplain=function(t,e){var i=new Mn.default([["CLOSE","收盘价"],["C","收盘价"],["VOL","成交量"],["V","成交量"],["OPEN","开盘价"],["O","开盘价"],["HIGH","最高价"],["H","最高价"],["LOW","最低价"],["L","最低价"],["AMOUNT","成交金额"],["AMO","成交金额"],["VOLINSTK","持仓量"]]);if(t.FunctionName){var a=t.Args,r=i.get(t.FunctionName);return"["+a[0]+"]"+r}if(t.Literal){var n=t.Literal.toUpperCase(),a=n.split("$");if(!i.has(a[1]))return"";var o=a[0],r=i.get(a[1]);return"["+o+"]"+r}},this.IsDrawFunction=function(t){return!!new Tn.default(["STICKLINE","DRAWTEXT","SUPERDRAWTEXT","DRAWLINE","DRAWBAND","DRAWKLINE","DRAWKLINE1","DRAWKLINE_IF","PLOYLINE","POLYLINE","DRAWNUMBER","DRAWNUMBER_FIX","DRAWICON","DRAWCHANNEL","PARTLINE","DRAWTEXT_FIX","DRAWGBK","DRAWTEXT_LINE","DRAWRECTREL","DRAWTEXTABS","DRAWOVERLAYLINE","FILLRGN","FILLRGN2","FILLTOPRGN","FILLBOTTOMRGN","FILLVERTICALRGN","FLOATRGN","DRAWSL","DRAWGBK2"]).has(t)},this.VisitAssignmentExpression=function(t){var e=t.Left;e.Type!=Mo.Identifier&&this.ThrowUnexpectedNode(t);var i=e.Name,a=t.Right,r=null;if(a.Type==Mo.BinaryExpression||a.Type==Mo.LogicalExpression)r=this.VisitBinaryExpression(a);else if(a.Type==Mo.CallExpression)r=this.VisitCallExpression(a);else if(a.Type==Mo.Literal)r=a.Value,Ee.IsString(r)&&a.Value.indexOf("$")>0&&(r=this.GetOtherSymbolExplain({Literal:r},t));else if(a.Type==Mo.Identifier)r=this.ReadVariable(a.Name,a);else if(a.Type==Mo.MemberExpression)r=this.ReadMemberVariable(a);else if(a.Type==Mo.UnaryExpression)if("-"==a.Operator){var n=this.GetNodeValue(a.Argument);r="-"+n}else r=a.Argument.Value;Nn.Complier.Log("[JSExplainer::VisitAssignmentExpression]",i," = ",r),this.VarTable.set(i,r)},this.ReadMemberVariable=function(t){var e=t.Object,i=t.Property,a=void 0;if(e.Type==Mo.BinaryExpression||e.Type==Mo.LogicalExpression)a=this.VisitBinaryExpression(e);else{if(e.Type!=Mo.CallExpression){if(i.Name.indexOf("#")>0)var r=i.Name.split("#"),n=e.Name+"的"+r[0]+"[周期"+r[1]+"]";else var n=e.Name+"的"+i.Name;return n}a=this.VisitCallExpression(e)}if(!a)return null;var n=a[i.Name];return n||null},this.VisitBinaryExpression=function(t){var e=[];e.push(t);for(var i=null;0!=e.length;)if(i=e[e.length-1],i.Left&&t!=i.Left&&t!=i.Right)e.push(i.Left);else if(i.Right&&t!=i.Right)e.push(i.Right);else{var a=e.pop();if(a.Type==Mo.BinaryExpression){var r=this.GetNodeValue(a.Left),n=this.GetNodeValue(a.Right);Nn.Complier.Log("[JSExplainer::VisitBinaryExpression] BinaryExpression",a,r,n),a.Out=null,a.Out="("+r+" "+a.Operator+" "+n+")","收盘价"==r&&"开盘价"==n?">"==a.Operator?a.Out="(收阳线)":"<"==a.Operator?a.Out="(收阴线)":"="==a.Operator&&(a.Out="(平盘)"):"开盘价"==r&&"收盘价"==n&&("<"==a.Operator?a.Out="(收阳线)":">"==a.Operator?a.Out="(收阴线)":"="==a.Operator&&(a.Out="(平盘)")),Nn.Complier.Log("[JSExplainer::VisitBinaryExpression] BinaryExpression",a)}else if(a.Type==Mo.LogicalExpression){var o=this.GetNodeValue(a.Left),s=this.GetNodeValue(a.Right);switch(Nn.Complier.Log("[JSExecute::VisitBinaryExpression] LogicalExpression",a,o,s),a.Out=null,a.Operator){case"&&":case"AND":a.Out="("+o+" 并且 "+s+")";break;case"||":case"OR":a.Out="("+o+" 或者 "+s+")"}Nn.Complier.Log("[JSExplainer::VisitBinaryExpression] LogicalExpression",a)}t=i}return t.Out},this.GetNodeValue=function(t){switch(t.Type){case Mo.Literal:return t.Value;case Mo.UnaryExpression:if("-"==t.Operator){return"-"+this.GetNodeValue(t.Argument)}return t.Argument.Value;case Mo.Identifier:return this.ReadVariable(t.Name,t);case Mo.BinaryExpression:case Mo.LogicalExpression:return t.Out;case Mo.CallExpression:return this.VisitCallExpression(t);default:this.ThrowUnexpectedNode(t)}},this.ReadVariable=function(t,e){if(this.ConstVarTable.has(t)){return this.ConstVarTable.get(t)}if(yo.IsCustomVariant(t))return this.ReadCustomVariant(t,e);if(this.VarTable.has(t))return this.VarTable.get(t);if(t.indexOf("#")>0){var i=t.split("#");return this.SymbolPeriodExplain(i[0],i[1])}return this.ThrowUnexpectedNode(e,"变量"+t+"不存在"),t},this.ThrowUnexpectedNode=function(t,e){var i=t.Marker,a=e||"执行异常";return this.ErrorHandler.ThrowError(i.Index,i.Line,i.Column,a)},this.ThrowError=function(){}}function Er(){}function Fr(){this.DataMap=new Mn.default,this.Add=function(t,e){this.DataMap.set(t,{MinuteFittingCallback:e.MinuteFittingCallback,KLineFittingCallback:e.KLineFittingCallback,CreateChartCallback:e.CreateChartCallback,FormatTitleCallback:e.FormatTitleCallback})},this.Get=function(t){return this.DataMap.has(t)?this.DataMap.get(t):null},this.Has=function(t){return this.DataMap.has(t)}}function Lr(t,e,i,a){this.newMethod=Sa,this.newMethod(t),delete this.newMethod,this.ClassName="ScriptIndex",this.Script=e,this.Arguments=[],this.OutVar=[],this.ID,this.FloatPrecision=2,this.StringFormat,this.KLineType=null,this.InstructionType,this.YSpecificMaxMin=null,this.YSplitScale=null,this.Condition=null,this.OutName=null,this.YSplitType,this.IsLocked=!1,this.LockCallback=null,this.LockID=null,this.LockBG=null,this.LockTextColor=null,this.LockText=null,this.LockFont=null,this.LockCount=20,this.LockMinWidth=null,this.TitleFont=lo.TitleFont,this.IsShortTitle=!1,this.IsUsePageData=!1,this.Debug,this.IsSync=!1,this.IsShow=!0,a&&(a.FloatPrecision>=0&&(this.FloatPrecision=a.FloatPrecision),a.StringFormat>0&&(this.StringFormat=a.StringFormat),a.ID&&(this.ID=a.ID),(a.KLineType>=0||-1===a.KLineType)&&(this.KLineType=a.KLineType),a.InstructionType&&(this.InstructionType=a.InstructionType),a.YSpecificMaxMin&&(this.YSpecificMaxMin=a.YSpecificMaxMin),a.YSplitScale&&(this.YSplitScale=a.YSplitScale),a.Condition&&(this.Condition=a.Condition),a.TitleFont&&(this.TitleFont=a.TitleFont),a.IsShortTitle&&(this.IsShortTitle=a.IsShortTitle),a.OutName&&(this.OutName=a.OutName),Ee.IsNumber(a.YSplitType)&&(this.YSplitType=a.YSplitType),Ee.IsBool(a.IsSync)&&(this.IsSync=a.IsSync),a.Debug&&Ee.IsPlusNumber(a.Debug.Count)&&a.Debug.Callback&&(this.Debug={Count:a.Debug.Count,Callback:a.Debug.Callback})),a&&a.Lock&&(1==a.Lock.IsLocked&&(this.IsLocked=!0),a.Lock.Callback&&(this.LockCallback=a.Lock.Callback),a.Lock.ID&&(this.LockID=a.Lock.ID),a.Lock.BG&&(this.LockBG=a.Lock.BG),a.Lock.TextColor&&(this.LockTextColor=a.Lock.TextColor),a.Lock.Text&&(this.LockText=a.Lock.Text),a.Lock.Font&&(this.LockFont=a.Lock.Font),a.Lock.Count&&(this.LockCount=a.Lock.Count),a.Lock.MinWidth&&(this.LockMinWidth=a.Lock.MinWidth*c())),i&&(this.Arguments=i),this.CopyTo=function(t){t.FloatPrecision=this.FloatPrecision,t.StringFormat=this.StringFormat,t.KLineType=this.KLineType,t.InstructionType=this.InstructionType,t.Condition=this.Condition,t.TitleFont=this.TitleFont,t.IsShortTitle=this.IsShortTitle,t.OutName=this.OutName,t.Arguments=this.Arguments,t.Script=this.Script,t.Name=this.Name,t.ID=this.ID},this.SetLock=function(t){1==t.IsLocked?(this.IsLocked=!0,t.Callback&&(this.LockCallback=t.Callback),t.ID&&(this.LockID=t.ID),t.BG&&(this.LockBG=t.BG),t.TextColor&&(this.LockTextColor=t.TextColor),t.Text&&(this.LockText=t.Text),t.Font&&(this.LockFont=t.Font),t.Count&&(this.LockCount=t.Count),t.MinWidth&&(this.LockMinWidth=t.MinWidth*c())):(this.IsLocked=!1,this.LockCallback=null,this.LockID=null,this.LockBG=null,this.LockTextColor=null,this.LockText=null,this.LockFont=null,this.LockCount=20)},this.ExecuteScript=function(t,e,i){this.OutVar=[];var a={HQChart:t,WindowIndex:e,HistoryData:i,Self:this},r=_o.KLINE_ID;"MinuteChartContainer"===t.ClassName||"MinuteChartHScreenContainer"===t.ClassName?r=t.DayCount>1?_o.MULTIDAY_MINUTE_ID:_o.MINUTE_ID:"HistoryMinuteChartContainer"===t.ClassName&&(r=_o.HISTORY_MINUTE_ID);var n={HQDataType:r,Symbol:t.Symbol,Name:t.Name,Data:i,SourceData:t.SourceData,Callback:this.RecvResultData,CallbackParam:a,Async:!0,MaxRequestDataCount:t.MaxRequestDataCount,MaxRequestMinuteDayCount:t.MaxRequestMinuteDayCount,Arguments:this.Arguments,Condition:this.Condition,IsBeforeData:t.IsBeforeData,IsApiPeriod:t.IsApiPeriod,DrawInfo:null,Self:this};if(this.Debug&&Ee.IsPlusNumber(this.Debug.Count)&&this.Debug.Callback&&(--this.Debug.Count,n.Debug=1,n.DebugFilter=this.Debug.Callback),t&&t.ChartPaint[0]){var o=t.ChartPaint[0];o&&o.DrawKRange&&(n.DrawInfo={Start:o.DrawKRange.Start,End:o.DrawKRange.End})}if(r===_o.HISTORY_MINUTE_ID&&(n.TrateDate=t.TradeDate),r===_o.MULTIDAY_MINUTE_ID&&(n.DayCount=t.DayCount),t.NetworkFilter&&(n.NetworkFilter=t.NetworkFilter),this.Condition&&!this.IsMeetCondition(a,n))return void this.ShowConditionError(a,this.Condition.Message);var s=this.Script;Er.Execute(s,n,t.ScriptErrorCallback)},this.IsMeetCondition=function(t,e){if(Nn.Complier.Log("[ScriptIndex::IsMeetCondition] ",this.Condition),this.Condition.Period){if(!this.IsMeetPeriodCondition(t,e))return!1;if(!this.IsMeetIncludeCondition(t,e))return!1}return!0},this.IsMeetPeriodCondition=function(t,e){if(!this.Condition.Period)return!0;for(var i in this.Condition.Period){var a=this.Condition.Period[i];switch(a){case _n.MINUTE_ID:if(e.HQDataType==_o.MINUTE_ID)return!0;break;case _n.MULTIDAY_MINUTE_ID:if(e.HQDataType==_o.MULTIDAY_MINUTE_ID)return!0;break;case _n.KLINE_DAY_ID:case _n.KLINE_WEEK_ID:case _n.KLINE_MONTH_ID:case _n.KLINE_YEAR_ID:case _n.KLINE_TWOWEEK_ID:case _n.KLINE_QUARTER_ID:case _n.KLINE_MINUTE_ID:case _n.KLINE_5_MINUTE_ID:case _n.KLINE_15_MINUTE_ID:case _n.KLINE_30_MINUTE_ID:case _n.KLINE_60_MINUTE_ID:if(t.HQChart.Period==a)return!0}}return!1},this.IsMeetIncludeCondition=function(t,e){if(!this.Condition.Include||this.Condition.Include.length<=0)return!0;var i=t.HQChart.Symbol;i&&(i=i.toUpperCase());for(var a in this.Condition.Include){if(i==this.Condition.Include[a])return!0}return!1},this.ShowConditionError=function(t,e){var i=t.HQChart,a=t.WindowIndex;i.DeleteIndexPaint(a),0==a&&i.ShowKLine(!0);var r="指标不支持当前品种或周期";e&&(r=e);var n=new ct;n.Canvas=i.Canvas,n.ChartBorder=i.Frame.SubFrame[a].Frame.ChartBorder,n.ChartFrame=i.Frame.SubFrame[a].Frame,n.NotSupportMessage=r,i.ChartPaint.push(n),i.UpdataDataoffset(),i.UpdateFrameMaxMin(),i.Draw()},this.RecvResultData=function(t,e){var i=e.HQChart,a=e.WindowIndex,r=e.HistoryData;if(e.Self.OutVar=t,e.Self.BindData(i,a,r),0==e.Self.IsLocked)e.HQChart.Frame.SubFrame[a].Frame.SetLock(null);else{var n={IsLocked:!0,Callback:e.Self.LockCallback,IndexName:e.Self.Name,ID:e.Self.LockID,BG:e.Self.LockBG,Text:e.Self.LockText,TextColor:e.Self.LockTextColor,Font:e.Self.LockFont,Count:e.Self.LockCount,MinWidth:e.Self.LockMinWidth};e.HQChart.Frame.SubFrame[a].Frame.SetLock(n)}if(e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),!1===e.Self.IsSync&&e.HQChart.Draw(),i.GetIndexEvent){var o=i.GetIndexEvent();if(o){var s=e.Self,l={OutVar:s.OutVar,WindowIndex:a,Name:s.Name,Arguments:s.Arguments,HistoryData:r,Stock:{Symbol:i.Symbol,Name:i.Name}};o.Callback(o,l,s)}}},this.SetChartIndexName=function(t){this.Name?t.IndexName=this.Name:this.ID&&(t.IndexName,this.ID),this.ID&&(t.IndexID=this.ID),t.Script=this},this.SetTitleData=function(t,e){t.ChartClassName=e.ClassName,t.IsVisible=e.IsVisible},this.ReloadChartResource=function(t,e,i){var a=t.GetEventCallback(Rn.ON_RELOAD_INDEX_CHART_RESOURCE);if(a&&a.Callback){var r={Chart:i,IndexName:this.Name,IndexID:this.ID,HQChart:t,WindowIndex:e};a.Callback(a,r,this)}},this.CreateLine=function(t,e,i,a,r){if(7==r)var n=new vt;else var n=new ct;if(n.Canvas=t.Canvas,n.DrawType=1,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.Identify=this.Guid,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),8==r&&(n.DrawType=2,n.BreakPoint=i.BreakPoint),i.LineWidth){var o=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(n.LineWidth=o)}i.IsDotLine&&(n.IsDotLine=!0),0==i.IsShow&&(n.IsShow=!1);var s=e+1;n.Data.Data=i.Data,this.ReloadChartResource(t,e,n),!1===i.IsShowTitle||Ee.IsString(i.Name)&&0==i.Name.indexOf("NOTEXT")||(i.NoneName?t.TitlePaint[s].Data[a]=new ei(n.Data,null,n.Color):t.TitlePaint[s].Data[a]=new ei(n.Data,i.Name,n.Color),this.SetTitleData(t.TitlePaint[s].Data[a],n)),this.SetChartIndexName(n),t.ChartPaint.push(n)},this.CreateArea=function(t,e,i,a){var r=new dt;if(r.Canvas=t.Canvas,r.DrawType=1,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Identify=this.Guid,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.DownColor?r.AreaColor=i.DownColor:i.UpColor&&(r.AreaColor=i.UpColor,r.AreaDirection=1),i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));Ee.IsPlusNumber(n)&&(r.LineWidth=n)}Ee.IsNonEmptyArray(i.LineDash)&&(r.LineDash=i.LineDash),0==i.IsShow&&(r.IsShow=!1);var o=e+1;r.Data.Data=i.Data,!1===i.IsShowTitle||Ee.IsString(i.Name)&&0==i.Name.indexOf("NOTEXT")||(i.NoneName?t.TitlePaint[o].Data[a]=new ei(r.Data,null,r.Color):t.TitlePaint[o].Data[a]=new ei(r.Data,i.Name,r.Color),t.TitlePaint[o].Data[a].ChartClassName=r.ClassName),this.SetChartIndexName(r),t.ChartPaint.push(r)},this.CreateOverlayLine=function(t,e,i,a,r){if(7==r)var n=new vt;var n=new pt;if(n.Canvas=t.Canvas,n.DrawType=1,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.LineWidth){var o=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(n.LineWidth=o)}i.IsDotLine&&(n.IsDotLine=!0),0==i.IsShow&&(n.IsShow=!1);var s=e+1;n.Data.Data=i.Data,t.TitlePaint[s].Data[a]=new ei(n.Data,i.Name,n.Color),t.TitlePaint[s].Data[a].ChartClassName=n.ClassName,t.ChartPaint.push(n)},this.CreateBar=function(t,e,i,a){var r=new wt;r.Canvas=t.Canvas,i.Draw.Width>0?r.Width=i.Draw.Width:r.Width=0,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a);r.Data.Data=i.Draw.DrawData,r.BarType=i.Draw.Type,this.SetChartIndexName(r),t.ChartPaint.push(r)},this.CreateText=function(t,e,i,a,r){var n=new Et;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.ReloadResource(),i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),!0===i.IsDrawCenter&&(n.TextAlign="center"),!0===i.IsDrawAbove&&(n.Direction=1),!0===i.IsDrawBelow&&(n.Direction=2);i.Draw.Position&&(n.Position=i.Draw.Position),i.Draw.DrawData&&(n.Data.Data=i.Draw.DrawData),n.Text=i.Draw.Text,i.Draw.Direction>0&&(n.Direction=i.Draw.Direction),i.Draw.YOffset>0&&(n.YOffset=i.Draw.YOffset),i.Draw.TextAlign&&(n.TextAlign=i.Draw.TextAlign),i.DrawVAlign>=0&&(0==i.DrawVAlign?n.Direction=1:1==i.DrawVAlign?n.Direction=0:2==i.DrawVAlign&&(n.Direction=2)),i.DrawAlign>=0&&(0==i.DrawAlign?n.TextAlign="left":1==i.DrawAlign?n.TextAlign="center":2==i.DrawAlign&&(n.TextAlign="right")),i.DrawFontSize>0&&(n.FixedFontSize=i.DrawFontSize),i.Background&&(n.TextBG=i.Background),t.ChartPaint.push(n)},this.CreateDrawNumber=function(t,e,i,a){var r=new Lt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.ReloadResource(),i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),!0===i.IsDrawCenter&&(r.TextAlign="center"),!0===i.IsDrawAbove&&(r.TextBaseline="bottom"),!0===i.IsDrawBelow&&(r.TextBaseline="top"),r.Data.Data=i.Draw.DrawData.Value,r.Text=i.Draw.DrawData.Text,i.Draw.Direction>0&&(r.Direction=i.Draw.Direction),i.Draw.YOffset>0&&(r.YOffset=i.Draw.YOffset),i.Draw.TextAlign&&(r.TextAlign=i.Draw.TextAlign),"TOP"===i.Draw.FixedPosition?r.FixedPosition=1:"BOTTOM"===i.Draw.FixedPosition&&(r.FixedPosition=2),i.DrawVAlign>=0&&(0==i.DrawVAlign?r.TextBaseline="top":1==i.DrawVAlign?r.TextBaseline="middle":2==i.DrawVAlign&&(r.TextBaseline="bottom")),i.DrawAlign>=0&&(0==i.DrawAlign?r.TextAlign="left":1==i.DrawAlign?r.TextAlign="center":2==i.DrawAlign&&(r.TextAlign="right")),i.DrawFontSize>0&&(r.FixedFontSize=i.DrawFontSize),i.Background&&(r.TextBG=i.Background),i.VerticalLine&&(r.VerticalLine=i.VerticalLine);t.ChartPaint.push(r)},this.CreateDrawTextV2=function(t,e,i,a){var r=new Ft;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.ReloadResource(),i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),!0===i.IsDrawCenter&&(r.TextAlign="center"),!0===i.IsDrawAbove&&(r.TextBaseline="bottom"),!0===i.IsDrawBelow&&(r.TextBaseline="top"),i.Draw.DrawData&&(r.Data.Data=i.Draw.DrawData),r.Text=i.Draw.Text,i.Draw.Direction>0&&(r.Direction=i.Draw.Direction),i.Draw.YOffset>0&&(r.YOffset=i.Draw.YOffset),i.Draw.TextAlign&&(r.TextAlign=i.Draw.TextAlign),"TOP"===i.Draw.FixedPosition?r.FixedPosition=1:"BOTTOM"===i.Draw.FixedPosition&&(r.FixedPosition=2),i.DrawVAlign>=0&&(0==i.DrawVAlign?r.TextBaseline="top":1==i.DrawVAlign?r.TextBaseline="middle":2==i.DrawVAlign&&(r.TextBaseline="bottom")),i.DrawAlign>=0&&(0==i.DrawAlign?r.TextAlign="left":1==i.DrawAlign?r.TextAlign="center":2==i.DrawAlign&&(r.TextAlign="right")),i.DrawFontSize>0&&(r.FixedFontSize=i.DrawFontSize),i.Background&&(r.TextBG=i.Background),i.VerticalLine&&(r.VerticalLine=i.VerticalLine),Ee.IsNumber(i.YOffset)&&(r.ShowOffset.Y=i.YOffset),Ee.IsNumber(i.XOffset)&&(r.ShowOffset.X=i.XOffset);t.ChartPaint.push(r)},this.CreateMACD=function(t,e,i,a){var r=new Rt;if(r.Canvas=t.Canvas,r.Identify=this.Guid,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}var o=e+1;r.Data.Data=i.Data;var s=this.GetDefaultColor(a);i.Color&&(s=this.GetColor(i.Color)),i.UpColor&&(r.UpColor=i.UpColor),i.DownColor&&(r.DownColor=i.DownColor),this.ReloadChartResource(t,e,r),t.TitlePaint[o].Data[a]=new ei(r.Data,i.Name,s),this.SetChartIndexName(r),t.ChartPaint.push(r)},this.CreatePointDot=function(t,e,i,a,r){var n=new gt;if(n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.Radius&&(n.Radius=i.Radius),i.LineWidth){var o=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(o)&&o>0&&(n.Radius=o)}Ee.IsBool(i.UpDownDot)&&(n.EnableUpDownColor=i.UpDownDot,n.HistoryData=r);var s=e+1;n.Data.Data=i.Data,t.TitlePaint[s].Data[a]=new ei(n.Data,i.Name,n.Color),t.ChartPaint.push(n)},this.CreateStick=function(t,e,i,a){var r=new St;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}var o=e+1;r.Data.Data=i.Data,this.ReloadChartResource(t,e,r),t.TitlePaint[o].Data[a]=new ei(r.Data,i.Name,r.Color),this.SetChartIndexName(r),t.ChartPaint.push(r)},this.CreateLineStick=function(t,e,i,a){var r=new xt;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}var o=e+1;r.Data.Data=i.Data,t.TitlePaint[o].Data[a]=new ei(r.Data,i.Name,r.Color),t.ChartPaint.push(r)},this.CreateStraightLine=function(t,e,i,a){var r=new ct;if(r.DrawType=1,r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}var o=e+1;r.Data.Data=i.Draw.DrawData,"DRAWLINE"==i.Name&&(t.TitlePaint[o].Data[a]=new ei(r.Data,null,r.Color)),t.ChartPaint.push(r)},this.CreateVolStick=function(t,e,i,a,r){var n=new bt;n.Canvas=t.Canvas,n.Name=i.Name,n.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,n.ChartFrame=t.Frame.SubFrame[e].Frame,n.KLineDrawType=t.KLineDrawType,n.Identify=this.Guid,i.Color?n.Color=this.GetColor(i.Color):n.Color=this.GetDefaultColor(a),i.UpColor&&(n.UpColor=i.UpColor),i.DownColor&&(n.DownColor=i.DownColor);var o=e+1;n.Data.Data=i.Data,n.HistoryData=r,this.ReloadChartResource(t,e,n);var s=new ei(n.Data,i.Name,n.Color);t.TitlePaint[o].Data[a]=s,this.SetTitleData(s,n),this.SetChartIndexName(n),t.ChartPaint.push(n)},this.CreateBand=function(t,e,i,a){var r=new kt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.FirstColor=i.Draw.Color[0],r.SecondColor=i.Draw.Color[1],r.Data.Data=i.Draw.DrawData,t.ChartPaint.push(r)},this.CreateFillRGN=function(t,e,i,a){var r=new Vt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=i.Draw.DrawData,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),t.ChartPaint.push(r)},this.CreateFillRGN2=function(t,e,i,a){var r=new Gt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=i.Draw.DrawData,t.ChartPaint.push(r)},this.CreateFillBGRGN=function(t,e,i,a){var r=new Yt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=i.Draw.DrawData,t.ChartPaint.push(r)},this.CreateFLOATRGN=function(t,e,i,a){var r=new Ht;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=i.Draw.DrawData,t.ChartPaint.push(r)},this.CreateKLine=function(t,e,i,a){var r=new rt;r.Canvas=t.Canvas,r.Name=i.Name,r.Identify=this.Guid,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=i.Draw.DrawData,r.IsShowMaxMinPrice=!1,r.IsShowKTooltip=!1,i.Color&&(r.UnchagneColor=r.DownColor=r.UpColor=this.GetColor(i.Color)),t.ChartPaint.push(r)},this.CreateDrawColorKLine=function(t,e,i,a){var r=new nt;r.Canvas=t.Canvas,r.Name=i.Name,r.DrawName="DRAWCOLORKLINE",r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data.Data=i.Draw.DrawData,Ee.IsBool(i.Draw.IsEmptyBar)&&(r.IsEmptyBar=i.Draw.IsEmptyBar),i.Draw.Color&&(r.Color=i.Draw.Color),t.ChartPaint.push(r)},this.CreatePolyLine=function(t,e,i,a){var r=new ct;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.IsDotLine&&(r.IsDotLine=!0),i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}var o=e+1;r.Data.Data=i.Draw.DrawData,t.TitlePaint[o].Data[a]=new ei(r.Data," ",r.Color),t.ChartPaint.push(r)},this.CreateChartSlopeLine=function(t,e,i,a){var r=new Dt;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.IsDotLine&&(r.IsDotLine=!0),i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}var o=e+1;r.Data.Data=i.Draw.DrawData.Data,r.Option=i.Draw.DrawData.Option,t.TitlePaint[o].Data[a]=new ei(r.Data,null,r.Color),t.ChartPaint.push(r)},this.CreateChartVericaltLine=function(t,e,i,a){var r=new It;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}this.SetChartLineDash(r,i.Draw.DrawData),r.Data.Data=i.Draw.DrawData.Data,t.ChartPaint.push(r)},this.SetChartLineDash=function(t,e){if(Ee.IsNumber(e.LineType)){var i=e.LineType,a=c();switch(i){case 1:t.LineType=[10*a,10*a];break;case 2:t.LineType=[0,10*a],t.LineCap="square";break;case 3:t.LineType=[10*a,3*a,3*a,3*a];break;case 4:t.LineType=[10*a,3*a,3*a,3*a,3*a,3*a]}}else if(Ee.IsString(e.LineType)){for(var r=e.LineType.split(","),n=[],o=0;o<r.length;++o)n.push(parseInt(r[o]));t.LineType=n}},this.CreateChartHorizontalLine=function(t,e,i,a){var r=new Tt;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}this.SetChartLineDash(r,i.Draw.DrawData),r.ExtendType=i.Draw.DrawData.Extend,r.Data.Data=i.Draw.DrawData.Data,t.ChartPaint.push(r)},this.CreateBackgroud=function(t,e,i,a){var r=new Wt;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Draw&&i.Draw.DrawData){var n=i.Draw.DrawData;r.Color=n.Color,r.ColorAngle=n.Angle,n.Data&&(r.Data.Data=n.Data)}t.ChartPaint.push(r)},this.CreateBackgroundDiv=function(t,e,i,a){var r=new Ut;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Draw&&i.Draw.DrawData){var n=i.Draw.DrawData;r.AryColor=n.AryColor,r.ColorType=n.ColorType,n.Data&&(r.Data.Data=n.Data)}t.ChartPaint.push(r)},this.CreateLineMultiData=function(t,e,i,a){var r=new yt;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Draw&&i.Draw.DrawData){var n=i.Draw.DrawData;r.Color=n.Color,n.PointColor&&(r.PointColor=n.PointColor),Ee.IsPlusNumber(n.PointRadius)&&(r.PointRadius=n.PointRadius),Ee.IsPlusNumber(n.LineWidth)&&(r.LineWidth=n.LineWidth),n.Data&&(r.Data.Data=n.Data)}var o=e+1,s=new ei(r.Data,i.Name,r.Color);s.DataType="MULTI_POINT_LINE",t.TitlePaint[o].Data[a]=s,t.ChartPaint.push(r)},this.CreateTextLine=function(t,e,i,a){var r=new Kt;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Draw&&i.Draw.DrawData){var n=i.Draw.DrawData;r.Text=n.Text,r.Line=n.Line,r.Price=n.Price}t.ChartPaint.push(r)},this.CreateNumberText=function(t,e,i,a){var r=new Et;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.ReloadResource(),r.TextAlign="center",i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.IsDrawAbove?r.Direction=1:r.Direction=2,i.Draw.Position&&(r.Position=i.Draw.Position);r.Data.Data=i.Draw.DrawData.Value,r.Text=i.Draw.DrawData.Text,t.ChartPaint.push(r)},this.CreateDrawText=function(t,e,i,a){var r=new Et;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.ReloadResource(),i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.IsDrawAbove?r.Direction=1:r.Direction=0,i.DrawFontSize>0&&(r.TextFont=i.DrawFontSize*c()+"px 微软雅黑");r.DrawData=i.Draw.DrawData,t.ChartPaint.push(r)},this.CreateIcon=function(t,e,i,a){var r=new Et;r.Canvas=t.Canvas,r.TextAlign="center",r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Direction=2,i.IsDrawAbove&&(r.Direction=1),i.DrawVAlign>=0&&(0==i.DrawVAlign?r.Direction=1:1==i.DrawVAlign?r.Direction=0:2==i.DrawVAlign&&(r.Direction=2)),i.DrawAlign>=0&&(0==i.DrawAlign?r.TextAlign="left":1==i.DrawAlign?r.TextAlign="center":2==i.DrawAlign&&(r.TextAlign="right"));r.Data.Data=i.Draw.DrawData;var n=i.Draw.Icon;1==n.IconFont?(r.IconFont={Family:n.Family,Text:n.Symbol,Color:n.Color},i.Color&&(r.IconFont.Color=this.GetColor(i.Color))):(r.Text=n.Symbol,i.Color?r.Color=this.GetColor(i.Color):n.Color?r.Color=n.Color:r.Color="rgb(0,0,0)"),i.DrawFontSize>0&&(r.FixedFontSize=i.DrawFontSize),Ee.IsNumber(i.XOffset)&&(r.ShowOffset.X=i.XOffset),Ee.IsNumber(i.YOffset)&&(r.ShowOffset.Y=i.YOffset),t.ChartPaint.push(r)},this.CreateTipIcon=function(t,e,i,a){var r=new te;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint[0].IsMinuteFrame()?r.Data=t.SourceData:r.Data=t.ChartPaint[0].Data,r.Family=i.Draw.Icon.Family,r.TextFont=lo.TIPICON.TextFont;var n=lo.TIPICON.Size,o=lo.TIPICON.Color,s=0,l=2;if(Ee.IsNumber(i.YOffset)&&(s=i.YOffset),i.Color&&(o=this.GetColor(i.Color)),i.DrawFontSize>0&&(n=i.DrawFontSize),i.DrawVAlign>=0&&(l=i.DrawVAlign),i.Draw&&Ee.IsNonEmptyArray(i.Draw.DrawData)&&i.Draw.Icon){var h=i.Draw.DrawData,u=[],c=Array.isArray(i.Draw.Text),d=null;!c&&i.Draw.Text&&(d={Text:i.Draw.Text});for(var f=0;f<h.length;++f){var p=h[f];if(Ee.IsNumber(p)){var m={Index:f,Value:p,SVG:{Symbol:i.Draw.Icon.Symbol,Size:n,Color:o,YOffset:s,VAlign:l}};if(c){var C=i.Draw.Text[f];C&&(m.Tooltip={Text:C})}else m.Tooltip=d;u.push(m)}}r.Texts=u}t.ChartPaint.push(r)},this.CreateChannel=function(t,e,i,a){var r=new Xt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Draw.AreaColor?r.AreaColor=i.Draw.AreaColor:i.Color?r.AreaColor=this.GetColor(i.Color):r.AreaColor=this.GetDefaultColor(a),i.Draw.Border.Color?r.LineColor=i.Draw.Border.Color:r.LineColor=null,i.Draw.Border.Dotted&&(r.LineDotted=i.Draw.Border.Dotted),i.Draw.Border.Width>0&&(r.LineWidth=i.Draw.Border.Width),r.Data.Data=i.Draw.DrawData,t.ChartPaint.push(r)},this.CreatePartLine=function(t,e,i,a){var r=new Ct;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));Ee.IsPlusNumber(n)&&(r.LineWidth=n)}r.Data.Data=i.Draw.DrawData,this.SetChartIndexName(r),t.ChartPaint.push(r)},this.CreateMultiLine=function(t,e,i,a){var r=new jt;if(r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Lines=i.Draw.DrawData,i.Draw.Name&&(r.Name=i.Draw.Name),i.Draw.LineDash&&(r.LineDash=i.Draw.LineDash),Ee.IsNumber(i.Draw.LineWidth)&&(r.LineWidth=i.Draw.LineWidth),Ee.IsBool(i.Draw.IsFullRangeMaxMin)&&(r.IsFullRangeMaxMin=i.Draw.IsFullRangeMaxMin),i.Draw.Arrow){var n=i.Draw.Arrow;1==n.Start&&(r.Arrow.Start=!0),1==n.End&&(r.Arrow.End=!0),Ee.IsNumber(n.Angle)&&(r.ArrawAngle=n.Angle),Ee.IsNumber(n.Length)&&(r.ArrawLength=n.Length),Ee.IsNumber(n.LineWidth)&&(r.ArrawLineWidth=n.LineWidth)}t.ChartPaint.push(r);var o=e+1,s=new ei(r.Data,r.Name,null);s.DataType="ChartMultiLine",s.Lines=r.Lines,t.TitlePaint[o].Data[a]=s},this.CreateMultiPoint=function(t,e,i,a){var r=new Jt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.PointGroup=i.Draw.DrawData,i.Draw.Name&&(r.Name=i.Draw.Name),t.ChartPaint.push(r);var n=e+1,o=new ei(r.Data,r.Name,null);o.DataType="ChartMultiPoint",o.PointGroup=r.PointGroup,t.TitlePaint[n].Data[a]=o},this.CreateMultiBar=function(t,e,i,a){var r=new $t;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Bars=i.Draw.DrawData;var n=e+1,o=new ei({KData:r.Data,BarData:r.Bars},i.Name,null);o.IsShow=!1,o.DataType="MULTI_BAR",t.TitlePaint[n].Data[a]=o,t.ChartPaint.push(r)},this.CreateMultiText=function(t,e,i,a){var r=new qt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Texts=i.Draw.DrawData,t.ChartPaint.push(r)},this.CreateMultiSVGIcon=function(t,e,i,a){var r=new Zt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.Family=i.Draw.DrawData.Family,r.Icon=i.Draw.DrawData.Icon,t.ChartPaint.push(r)},this.CreateChartDrawSVG=function(t,e,i,a){var r=new te;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,t.ChartPaint[0].IsMinuteFrame()?r.Data=t.SourceData:r.Data=t.ChartPaint[0].Data,Ee.IsBool(i.Draw.DrawData.EnableTooltip)&&(r.EnableTooltip=i.Draw.DrawData.EnableTooltip),Ee.IsBool(i.Draw.DrawData.IsDrawFirst)&&(r.IsDrawFirst=i.Draw.DrawData.IsDrawFirst),r.Family=i.Draw.DrawData.Family,r.TextFont=i.Draw.DrawData.TextFont,r.Texts=i.Draw.DrawData.Data,t.ChartPaint.push(r)},this.CreateMulitHtmlDom=function(t,e,i,a){var r=new Qt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.HQChart=t,r.Data=t.ChartPaint[0].Data,r.Texts=i.Draw.DrawData,r.DrawCallback=i.Draw.Callback,t.ChartPaint.push(r)},this.CreateStackedBar=function(t,e,i,a){var r=new ae;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.HQChart=t,r.Identify=this.Guid,r.Data.Data=i.Draw.DrawData,Ee.IsNonEmptyArray(i.Draw.BarColor)&&(r.BarColor=i.Draw.BarColor),Ee.IsNonEmptyArray(i.Draw.BarName)&&(r.BarName=i.Draw.BarName),Ee.IsNumber(i.Draw.LineWidth)&&(r.LineWidth=i.Draw.LineWidth),Ee.IsNumber(i.Draw.BarType)&&(r.BarType=i.Draw.BarType),t.ChartPaint.push(r);var n=e+1,o=new ei(r.Data,r.BarName,r.BarColor);o.DataType="ChartStackedBar",t.TitlePaint[n].Data[a]=o},this.CreateKLineTable=function(t,e,i,a){var r=new lt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.HQChart=t,r.Identify=this.Guid,r.Data.Data=i.Draw.DrawData,Ee.IsNumber(i.Draw.RowCount)&&(r.RowCount=i.Draw.RowCount),Ee.IsBool(i.Draw.IsShowRowName)&&(r.IsShowRowName=i.Draw.IsShowRowName),Ee.IsNonEmptyArray(i.Draw.RowName)&&(r.RowName=i.Draw.RowName),i.Draw.BGColor&&(r.BGColor=i.Draw.BGColor),t.ChartPaint.push(r);var n=e+1,o=new ei(r.Data,r.BarName,r.BarColor);o.DataType="ChartKLineTable",t.TitlePaint[n].Data[a]=o},this.CreateScatterPlot=function(t,e,i,a){var r=new ft;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.HQChart=t,r.Identify=this.Guid,r.Data.Data=i.Draw.DrawData,r.Color=i.Draw.Color,r.Radius=i.Draw.Radius,t.ChartPaint.push(r)},this.CreateColorKLine=function(t,e,i,a){var r=new nt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Data=t.ChartPaint[0].Data,r.KLineColor=i.Draw.DrawData.KLine,i.Color&&(r.Color=i.Color),t.ChartPaint.push(r)},this.CreateRectangle=function(t,e,i,a){var r=new zt;r.Canvas=t.Canvas,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,r.Color=[i.Draw.DrawData.Color],r.Rect=i.Draw.DrawData.Rect,i.Color&&(r.BorderColor=this.GetColor(i.Color)),t.ChartPaint.push(r)},this.CreateScriptOverlayLine=function(t,e,i,a){var r=new mt;if(r.Canvas=t.Canvas,r.DrawType=1,r.Name=i.Name,r.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,r.ChartFrame=t.Frame.SubFrame[e].Frame,i.Color?r.Color=this.GetColor(i.Color):r.Color=this.GetDefaultColor(a),i.LineWidth){var n=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(n)&&n>0&&(r.LineWidth=n)}i.IsDotLine&&(r.IsDotLine=!0),0==i.IsShow&&(r.IsShow=!1);var o=e+1;r.Data.Data=i.Draw.DrawData.Data,r.MainData.Data=i.Draw.DrawData.MainData,i.Draw.DrawData.Title&&(t.TitlePaint[o].Data[a]=new ei(r.Data,i.Draw.DrawData.Title,r.Color)),t.ChartPaint.push(r)},this.CreateSelfKLine=function(t,e,i){var a=new rt;a.Canvas=t.Canvas,a.Name="Self Kline",a.Identify=this.Guid,a.ChartBorder=t.Frame.SubFrame[e].Frame.ChartBorder,a.ChartFrame=t.Frame.SubFrame[e].Frame,a.Data=i,a.IsShowMaxMinPrice=!1,a.IsShowKTooltip=!1,a.DrawType=this.KLineType,t.ChartPaint.push(a)},this.BindInstructionData=function(t,e,i){if(!(null==this.OutVar||this.OutVar.length<0)){var a="";for(var r in this.Arguments){var n=this.Arguments[r];a.length>0&&(a+=","),a+=n.Value.toString()}if(a.length>0&&(a="("+a+")"),2==this.InstructionType){var o=this.OutVar[this.OutVar.length-1];return t.SetInstructionData(this.InstructionType,{Data:o.Data,Name:this.Name,Param:a,ID:this.ID}),!0}if(1==this.InstructionType){var s,l;for(var h in this.OutVar){var u=this.OutVar[h];"ENTERLONG"==u.Name?s=u.Data:"EXITLONG"==u.Name&&(l=u.Data)}return t.SetInstructionData(this.InstructionType,{Buy:s,Sell:l,Name:this.Name,Param:a,ID:this.ID}),!0}}},this.BindData=function(t,e,i){if(0==e&&this.InstructionType)return void this.BindInstructionData(t,e,i);if(t.DeleteIndexPaint(e),0==e&&t.ShowKLine(!0),!(null==this.OutVar||this.OutVar.length<0)){null!=this.KLineType&&(0===this.KLineType||1===this.KLineType||2===this.KLineType?this.CreateSelfKLine(t,e,i):-1===this.KLineType&&0==e&&t.ShowKLine(!1)),e>=1&&t.Frame&&(t.Frame.SubFrame[e].Frame.YSplitOperator.FloatPrecision=this.FloatPrecision,this.YSpecificMaxMin&&(t.Frame.SubFrame[e].Frame.YSpecificMaxMin=this.YSpecificMaxMin),this.YSplitScale&&(t.Frame.SubFrame[e].Frame.YSplitScale=this.YSplitScale)),Ee.IsNumber(this.YSplitType)&&(t.Frame.SubFrame[e].Frame.YSplitOperator.SplitType=this.YSplitType);for(var a in this.OutVar){var r=this.OutVar[a];if(!0!==r.IsExData&&(1e3!=r.Type&&1001!=r.Type)){if(0==r.Type)r.IsOverlayLine?this.CreateOverlayLine(t,e,r,a,r.Type):this.CreateLine(t,e,r,a,r.Type);else if(1==r.Type)switch(r.Draw.DrawType){case"STICKLINE":this.CreateBar(t,e,r,a);break;case"DRAWTEXT":this.CreateDrawTextV2(t,e,r,a);break;case"SUPERDRAWTEXT":this.CreateText(t,e,r,a);break;case"DRAWLINE":this.CreateStraightLine(t,e,r,a);break;case"DRAWBAND":this.CreateBand(t,e,r,a);break;case"FILLRGN":this.CreateFillRGN(t,e,r,a);break;case"FILLRGN2":this.CreateFillRGN2(t,e,r,a);break;case"FILLTOPRGN":case"FILLBOTTOMRGN":case"FILLVERTICALRGN":this.CreateFillBGRGN(t,e,r,a);break;case"FLOATRGN":this.CreateFLOATRGN(t,e,r,a);break;case"DRAWKLINE":case"DRAWKLINE1":this.CreateKLine(t,e,r,a);break;case"DRAWCOLORKLINE":this.CreateDrawColorKLine(t,e,r,a);break;case"DRAWKLINE_IF":this.CreateKLine(t,e,r,a);break;case"POLYLINE":this.CreatePolyLine(t,e,r,a);break;case"DRAWGBK":case"DRAWGBK2":this.CreateBackgroud(t,e,r,a);break;case"DRAWGBK_DIV":this.CreateBackgroundDiv(t,e,r,a);break;case"DRAWTEXT_LINE":this.CreateTextLine(t,e,r,a);break;case"DRAWNUMBER":this.CreateDrawNumber(t,e,r,a);break;case"DRAWNUMBER_FIX":case"DRAWTEXT_FIX":this.CreateNumberText(t,e,r,a);break;case"DRAWICON":case"ICON":this.CreateIcon(t,e,r,a);break;case"TIPICON":this.CreateTipIcon(t,e,r,a);break;case"DRAWCHANNEL":this.CreateChannel(t,e,r,a);break;case"PARTLINE":this.CreatePartLine(t,e,r,a);break;case"DRAWRECTREL":this.CreateRectangle(t,e,r,a);break;case"DRAWTEXTABS":case"DRAWTEXTREL":this.CreateDrawText(t,e,r,a);break;case"DRAWOVERLAYLINE":this.CreateScriptOverlayLine(t,e,r,a);break;case"DRAWSL":this.CreateChartSlopeLine(t,e,r,a);break;case"VERTLINE":this.CreateChartVericaltLine(t,e,r,a);break;case"HORLINE":this.CreateChartHorizontalLine(t,e,r,a);break;case"MULTI_LINE":this.CreateMultiLine(t,e,r,a);break;case"MULTI_POINT":this.CreateMultiPoint(t,e,r,a);break;case"MULTI_BAR":this.CreateMultiBar(t,e,r,a);break;case"MULTI_TEXT":this.CreateMultiText(t,e,r,a);break;case"MULTI_SVGICON":this.CreateMultiSVGIcon(t,e,r,a);break;case"DRAWSVG":this.CreateChartDrawSVG(t,e,r,a);break;case"MULTI_HTMLDOM":this.CreateMulitHtmlDom(t,e,r,a);break;case"COLOR_KLINE":this.CreateColorKLine(t,e,r,a);break;case"KLINE_BG":this.CreateBackgroud(t,e,r,a);break;case"MULTI_POINT_LINE":this.CreateLineMultiData(t,e,r,a);break;case Po.OVERLAY_BARS:this.CreateStackedBar(t,e,r,a);break;case Po.KLINE_TABLE:this.CreateKLineTable(t,e,r,a);break;case Po.SCATTER_PLOT:this.CreateScatterPlot(t,e,r,a);break;default:var n=Ro.Get(r.Draw.DrawType);n&&n.CreateChartCallback&&n.CreateChartCallback(t,e,r,a,this)}else 2==r.Type?this.CreateMACD(t,e,r,a):3==r.Type?this.CreatePointDot(t,e,r,a,i):4==r.Type?this.CreateLineStick(t,e,r,a):5==r.Type?this.CreateStick(t,e,r,a):6==r.Type?this.CreateVolStick(t,e,r,a,i):7==r.Type?this.CreateLine(t,e,r,a,r.Type):8==r.Type?this.CreateLine(t,e,r,a,r.Type):9==r.Type&&this.CreateArea(t,e,r,a);var o=t.TitlePaint[e+1];o&&o.Data&&a<o.Data.length&&(this.StringFormat>0&&(o.Data[a].StringFormat=this.StringFormat),this.FloatPrecision>=0&&(o.Data[a].FloatPrecision=this.FloatPrecision),this.OutName&&this.OutName.length>0&&this.Arguments&&this.Arguments.length>0&&o.SetDynamicTitle(this.OutName,this.Arguments))}}var s=e+1;if(t.TitlePaint[s].Title=this.Name,t.TitlePaint[s].Identify=this.Guid,t.TitlePaint[s].ArgumentsText=null,t.TitlePaint[s].Script=this,!this.IsShortTitle){for(var l="",h=0;h<this.Arguments.length;++h){var u=this.Arguments[h];l.length>0&&(l+=","),l+=u.Value.toString()}l.length>0&&(t.TitlePaint[s].ArgumentsText="("+l+")")}return this.TitleFont&&(t.TitlePaint[s].Font=this.TitleFont),!0}},this.GetDefaultColor=function(t){var e=null;return lo&&lo.Index&&lo.Index.LineColor&&(e=lo.Index.LineColor),e&&Array.isArray(e)||(e=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"]),e[parseInt(t)%(e.length-1)]},this.GetColor=function(t){if(0==t.indexOf("RGB("))return t.toLowerCase();if(0==t.indexOf("rgb("))return t;if(0==t.indexOf("RGBA("))return t.toLowerCase();if(0==t.indexOf("rgba("))return t;var e=Er.ColorVarToRGB(t);return e||"rgb(30,144,255)"}}function Mr(t,e,i,a){this.newMethod=Lr,this.newMethod(t,e,i,a),delete this.newMethod,this.ClassName="OverlayScriptIndex",this.OverlayIndex=null,this.ShowConditionError=function(t,e){var i=t.HQChart,a=(t.WindowIndex,"指标不支持当前品种或周期");e&&(a=e);var r=this.OverlayIndex,n=r.Frame;n.ChartPaint=[];var o=new ct;o.Canvas=i.Canvas,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.NotSupportMessage=a,n.ChartPaint.push(o),i.Draw()},this.BindData=function(t,e,i){if(this.OverlayIndex&&1==this.OverlayIndex.IsOverlay&&(this.OverlayIndex.Frame.ChartPaint=[],Ee.IsNonEmptyArray(this.OutVar))){Ee.IsNumber(this.YSplitType)&&(this.OverlayIndex.Frame.Frame.YSplitOperator.SplitType=this.YSplitType);var a={Data:[],Title:this.Name,Frame:this.OverlayIndex.Frame.Frame,Script:this},r="";for(var n in this.Arguments){var o=this.Arguments[n];r.length>0&&(r+=","),r+=o.Value.toString()}r.length>0&&(a.Title=this.Name+"("+r+")");var s=e+1,l=t.TitlePaint[s];l.OverlayIndex.set(this.OverlayIndex.Identify,a),this.OverlayIndex.Frame.Frame.Title=a.Title,this.OutName&&this.OutName.length>0&&this.Arguments&&this.Arguments.length>0&&l.SetDynamicTitle(this.OutName,this.Arguments,this.OverlayIndex.Identify);for(var n=0;n<this.OutVar.length;++n){var h=this.OutVar[n];if(!0!==h.IsExData){if(0==h.Type)this.CreateLine(t,e,h,n,h.Type);else if(1==h.Type)switch(h.Draw.DrawType){case"STICKLINE":this.CreateBar(t,e,h,n);break;case"DRAWTEXT":this.CreateDrawTextV2(t,e,h,n);break;case"SUPERDRAWTEXT":this.CreateText(t,e,h,n);break;case"DRAWLINE":this.CreateStraightLine(t,e,h,n);break;case"DRAWBAND":this.CreateBand(t,e,h,n);break;case"DRAWKLINE":case"DRAWKLINE_IF":this.CreateKLine(t,e,h,n);break;case"POLYLINE":this.CreatePolyLine(t,e,h,n);break;case"DRAWNUMBER":case"DRAWNUMBER_FIX":case"DRAWTEXT_FIX":this.CreateNumberText(t,e,h,n);break;case"DRAWICON":this.CreateIcon(t,e,h,n);break;case"DRAWCHANNEL":this.CreateChannel(t,e,h,n);break;case"DRAWTEXT_LINE":this.CreateTextLine(t,e,h,n);break;case"VERTLINE":this.CreateChartVericaltLine(t,e,h,n);break;case"HORLINE":this.CreateChartHorizontalLine(t,e,h,n);break;case"MULTI_LINE":this.CreateMultiLine(t,e,h,n);break;case"MULTI_POINT":this.CreateMultiPoint(t,e,h,n);break;case"MULTI_BAR":this.CreateMultiBar(t,e,h,n);break;case"MULTI_TEXT":this.CreateMultiText(t,e,h,n);break;case"MULTI_SVGICON":this.CreateMultiSVGIcon(t,e,h,n);break;case"DRAWSVG":this.CreateChartDrawSVG(t,e,h,n);break;case"MULTI_HTMLDOM":this.CreateMulitHtmlDom(t,e,h,n);break;case"KLINE_BG":this.CreateBackgroud(t,e,h,n);break;case"PARTLINE":this.CreatePartLine(t,e,h,n);break;case Po.OVERLAY_BARS:this.CreateStackedBar(t,e,h,n);break;default:var u=Ro.Get(h.Draw.DrawType);u&&u.CreateChartCallback&&u.CreateChartCallback(t,e,h,n,this)}else 2==h.Type?this.CreateMACD(t,e,h,n):3==h.Type?this.CreatePointDot(t,e,h,n,i):4==h.Type?this.CreateLineStick(t,e,h,n):5==h.Type?this.CreateStick(t,e,h,n):6==h.Type?this.CreateVolStick(t,e,h,n,i):7==h.Type?this.CreateLine(t,e,h,n,h.Type):8==h.Type&&this.CreateLine(t,e,h,n,h.Type);var c=a.Data[n];c&&this.FloatPrecision>=0&&(c.FloatPrecision=this.FloatPrecision)}}return!0}},this.RecvResultData=function(t,e){var i=e.HQChart,a=e.WindowIndex,r=e.HistoryData;e.Self.OutVar=t,e.Self.BindData(i,a,r),e.HQChart.UpdataDataoffset(),e.HQChart.UpdateFrameMaxMin(),e.HQChart.Draw();var n=i.GetOverlayIndexEvent();if(n){var o=e.Self,s={OutVar:o.OutVar,WindowIndex:a,Name:o.Name,Arguments:o.Arguments,HistoryData:r,Identify:o.OverlayIndex.Identify,Stock:{Symbol:i.Symbol,Name:i.Name}};n.Callback(n,s,o)}},this.ReloadChartResource=function(t,e,i){var a=t.GetEventCallback(Rn.ON_RELOAD_OVERLAY_INDEX_CHART_RESOURCE);if(a&&a.Callback){var r=this.OverlayIndex,n=r.Frame,o=n.Script,s={Chart:i,IndexName:o.Name,IndexID:o.ID,HQChart:t,WindowIndex:e,Guid:r.Identify};a.Callback(a,s,this)}},this.CreateLine=function(t,e,i,a,r){var n=this.OverlayIndex,o=n.Frame;if(7==r)var s=new vt;else var s=new ct;if(s.Canvas=t.Canvas,s.DrawType=1,s.Name=i.Name,s.ChartBorder=o.Frame.ChartBorder,s.ChartFrame=o.Frame,s.Identify=n.Identify,i.Color?s.Color=this.GetColor(i.Color):s.Color=this.GetDefaultColor(a),8==r&&(s.DrawType=2,s.BreakPoint=i.BreakPoint),i.LineWidth){var l=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(l)&&l>0&&(s.LineWidth=l)}0==i.IsShow&&(s.IsShow=!1),s.Data.Data=i.Data,this.ReloadChartResource(t,e,s);var h=e+1,u=t.TitlePaint[h],c=new ei(s.Data,i.Name,s.Color);this.SetTitleData(c,s),u.OverlayIndex.get(n.Identify).Data[a]=c,this.SetChartIndexName(s),o.ChartPaint.push(s)},this.CreateBar=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new wt;o.Canvas=t.Canvas,i.Draw.Width>0?o.Width=i.Draw.Width:o.Width=1,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a);o.Data.Data=i.Draw.DrawData,this.SetChartIndexName(o),n.ChartPaint.push(o)},this.CreateDrawTextV2=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Ft;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.ReloadResource(),i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),!0===i.IsDrawCenter&&(o.TextAlign="center"),!0===i.IsDrawAbove&&(o.TextBaseline="bottom"),!0===i.IsDrawBelow&&(o.TextBaseline="top"),i.Draw.DrawData&&(o.Data.Data=i.Draw.DrawData),o.Text=i.Draw.Text,i.Draw.Direction>0&&(o.Direction=i.Draw.Direction),i.Draw.YOffset>0&&(o.YOffset=i.Draw.YOffset),i.Draw.TextAlign&&(o.TextAlign=i.Draw.TextAlign),"TOP"===i.Draw.FixedPosition?o.FixedPosition=1:"BOTTOM"===i.Draw.FixedPosition&&(o.FixedPosition=2),i.DrawVAlign>=0&&(0==i.DrawVAlign?o.TextBaseline="top":1==i.DrawVAlign?o.TextBaseline="middle":2==i.DrawVAlign&&(o.TextBaseline="bottom")),i.DrawAlign>=0&&(0==i.DrawAlign?o.TextAlign="left":1==i.DrawAlign?o.TextAlign="center":2==i.DrawAlign&&(o.TextAlign="right")),i.DrawFontSize>0&&(o.FixedFontSize=i.DrawFontSize),i.Background&&(o.TextBG=i.Background),i.VerticalLine&&(o.VerticalLine=i.VerticalLine),Ee.IsNumber(i.XOffset)&&(o.ShowOffset.X=i.XOffset),Ee.IsNumber(i.YOffset)&&(o.ShowOffset.Y=i.YOffset),n.ChartPaint.push(o)},this.CreateText=function(t,e,i,a,r){var n=this.OverlayIndex,o=n.Frame,s=new Et;s.Canvas=t.Canvas,s.Name=i.Name,s.ChartBorder=o.Frame.ChartBorder,s.ChartFrame=o.Frame,s.Identify=n.Identify,s.ReloadResource(),i.Color?s.Color=this.GetColor(i.Color):s.Color=this.GetDefaultColor(a);i.Draw.Position&&(s.Position=i.Draw.Position),i.Draw.DrawData&&(s.Data.Data=i.Draw.DrawData),s.Text=i.Draw.Text,i.Draw.Direction>0&&(s.Direction=i.Draw.Direction),i.Draw.YOffset>0&&(s.YOffset=i.Draw.YOffset),i.Draw.TextAlign&&(s.TextAlign=i.Draw.TextAlign),o.ChartPaint.push(s)},this.CreateMACD=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Rt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify;var s=e+1;o.Data.Data=i.Data;var l=t.TitlePaint[s],h=this.GetDefaultColor(a);i.Color&&(h=this.GetColor(i.Color)),i.UpColor&&(o.UpColor=i.UpColor),i.DownColor&&(o.DownColor=i.DownColor),this.ReloadChartResource(t,e,o),l.OverlayIndex.get(r.Identify).Data[a]=new ei(o.Data,i.Name,h),n.ChartPaint.push(o)},this.CreatePointDot=function(t,e,i,a,r){var n=this.OverlayIndex,o=n.Frame,s=new gt;if(s.Canvas=t.Canvas,s.Name=i.Name,s.ChartBorder=o.Frame.ChartBorder,s.ChartFrame=o.Frame,s.Identify=n.Identify,i.Color?s.Color=this.GetColor(i.Color):s.Color=this.GetDefaultColor(a),i.Radius&&(s.Radius=i.Radius),i.LineWidth){var l=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(l)&&l>0&&(s.Radius=l)}Ee.IsBool(i.UpDownDot)&&(s.EnableUpDownColor=i.UpDownDot,s.HistoryData=r);var h=e+1;s.Data.Data=i.Data,t.TitlePaint[h].OverlayIndex.get(n.Identify).Data[a]=new ei(s.Data,i.Name,s.Color),o.ChartPaint.push(s)},this.CreateStick=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new St;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}var l=e+1;o.Data.Data=i.Data,this.ReloadChartResource(t,e,o),t.TitlePaint[l].OverlayIndex.get(r.Identify).Data[a]=new ei(o.Data,i.Name,o.Color),n.ChartPaint.push(o)},this.CreateLineStick=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new xt;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}var l=e+1;o.Data.Data=i.Data,t.TitlePaint[l].OverlayIndex.get(r.Identify).Data[a]=new ei(o.Data,i.Name,o.Color),n.ChartPaint.push(o)},this.CreateStraightLine=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new ct;if(o.DrawType=1,o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}o.Data.Data=i.Draw.DrawData,n.ChartPaint.push(o)},this.CreateVolStick=function(t,e,i,a,r){var n=this.OverlayIndex,o=n.Frame,s=new bt;s.Canvas=t.Canvas,s.Name=i.Name,s.ChartBorder=o.Frame.ChartBorder,s.ChartFrame=o.Frame,s.Identify=n.Identify,s.KLineDrawType=t.KLineDrawType,i.Color?s.Color=this.GetColor(i.Color):s.Color=this.GetDefaultColor(a),i.UpColor&&(s.UpColor=i.UpColor),i.DownColor&&(s.DownColor=i.DownColor);var l=e+1;s.Data.Data=i.Data,s.HistoryData=r,this.ReloadChartResource(t,e,s),t.TitlePaint[l].OverlayIndex.get(n.Identify).Data[a]=new ei(s.Data,i.Name,s.Color),this.SetTitleData(titleData,s),this.SetChartIndexName(s),o.ChartPaint.push(s)},this.CreateBand=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new kt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.FirstColor=i.Draw.Color[0],o.SecondColor=i.Draw.Color[1],o.Data.Data=i.Draw.DrawData,n.ChartPaint.push(o)},this.CreateKLine=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new rt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.Data.Data=i.Draw.DrawData,o.IsShowMaxMinPrice=!1,o.IsShowKTooltip=!1,i.Color&&(o.UnchagneColor=o.DownColor=o.UpColor=this.GetColor(i.Color)),n.ChartPaint.push(o)},this.CreatePolyLine=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new ct;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}var l=e+1;o.Data.Data=i.Draw.DrawData,t.TitlePaint[l].OverlayIndex.get(r.Identify).Data[a]=new ei(line.Data," ",line.Color),n.ChartPaint.push(o)},this.CreateNumberText=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Et;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.ReloadResource(),o.TextAlign="center",i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.IsDrawAbove?o.Direction=1:o.Direction=2,i.Draw.Position&&(o.Position=i.Draw.Position);o.Data.Data=i.Draw.DrawData.Value,o.Text=i.Draw.DrawData.Text,n.ChartPaint.push(o)},this.CreateTextLine=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Kt;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,i.Draw&&i.Draw.DrawData){var s=i.Draw.DrawData;o.Text=s.Text,o.Line=s.Line,o.Price=s.Price}n.ChartPaint.push(o)},this.CreateStackedBar=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new ae;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,Ee.IsNonEmptyArray(i.Draw.BarColor)&&(o.BarColor=i.Draw.BarColor),Ee.IsNonEmptyArray(i.Draw.BarName)&&(o.BarName=i.Draw.BarName),Ee.IsNumber(i.Draw.LineWidth)&&(o.LineWidth=i.Draw.LineWidth),Ee.IsNumber(i.Draw.BarType)&&(o.BarType=i.Draw.BarType),o.Data.Data=i.Draw.DrawData;var s=e+1,l=t.TitlePaint[s],h=new ei(o.Data,o.BarName,o.BarColor);h.DataType="ChartStackedBar",l.OverlayIndex.get(r.Identify).Data[a]=h,n.ChartPaint.push(o)},this.CreateIcon=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Et;o.Canvas=t.Canvas,o.TextAlign="center",o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,i.DrawVAlign>=0&&(0==i.DrawVAlign?o.Direction=1:1==i.DrawVAlign?o.Direction=0:2==i.DrawVAlign&&(o.Direction=2)),i.DrawAlign>=0&&(0==i.DrawAlign?o.TextAlign="left":1==i.DrawAlign?o.TextAlign="center":2==i.DrawAlign&&(o.TextAlign="right")),Ee.IsNumber(i.XOffset)&&(o.ShowOffset.X=i.XOffset),Ee.IsNumber(i.YOffset)&&(o.ShowOffset.Y=i.YOffset),o.Data.Data=i.Draw.DrawData;var s=i.Draw.Icon;1==s.IconFont?o.IconFont={Family:s.Family,Text:s.Symbol,Color:s.Color}:(o.Text=s.Symbol,i.Color?o.Color=this.GetColor(i.Color):s.Color?o.Color=s.Color:o.Color="rgb(0,0,0)"),n.ChartPaint.push(o)},this.CreateChannel=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Xt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,i.Draw.AreaColor?o.AreaColor=i.Draw.AreaColor:i.Color?o.AreaColor=this.GetColor(i.Color):o.AreaColor=this.GetDefaultColor(a),i.Draw.Border.Color?o.LineColor=i.Draw.Border.Color:o.LineColor=null,i.Draw.Border.Dotted&&(o.LineDotted=i.Draw.Border.Dotted),i.Draw.Border.Width>0&&(o.LineWidth=i.Draw.Border.Width),o.Data.Data=i.Draw.DrawData,n.ChartPaint.push(o)},this.CreatePartLine=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Ct;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));Ee.IsPlusNumber(s)&&(o.LineWidth=s)}o.Data.Data=i.Draw.DrawData,this.SetChartIndexName(o),n.ChartPaint.push(o)},this.CreateMultiLine=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new jt;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.Data=t.ChartPaint[0].Data,o.Lines=i.Draw.DrawData,i.Draw.LineDash&&(o.LineDash=i.Draw.LineDash),Ee.IsNumber(i.Draw.LineWidth)&&(o.LineWidth=i.Draw.LineWidth),Ee.IsBool(i.Draw.IsFullRangeMaxMin)&&(o.IsFullRangeMaxMin=i.Draw.IsFullRangeMaxMin),i.Draw.Arrow){var s=i.Draw.Arrow;1==s.Start&&(o.Arrow.Start=!0),1==s.End&&(o.Arrow.End=!0),Ee.IsNumber(s.Angle)&&(o.ArrawAngle=s.Angle),Ee.IsNumber(s.Length)&&(o.ArrawLength=s.Length),Ee.IsNumber(s.LineWidth)&&(o.ArrawLineWidth=s.LineWidth)}n.ChartPaint.push(o)},this.CreateMultiPoint=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Jt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.Data=t.ChartPaint[0].Data,o.PointGroup=i.Draw.DrawData,n.ChartPaint.push(o)},this.CreateBackgroud=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Wt;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,i.Draw&&i.Draw.DrawData){var s=i.Draw.DrawData;o.Color=s.Color,o.ColorAngle=s.Angle,s.Data&&(o.Data.Data=s.Data)}n.ChartPaint.push(o)},this.CreateMultiBar=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new $t;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.Data=t.ChartPaint[0].Data,o.Bars=i.Draw.DrawData;var s=e+1,l=t.TitlePaint[s],h=new ei({KData:o.Data,BarData:o.Bars},i.Name,null);h.IsShow=!1,h.DataType="MULTI_BAR",l.OverlayIndex.get(r.Identify).Data[a]=h,n.ChartPaint.push(o)},this.CreateMultiText=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new qt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.Data=t.ChartPaint[0].Data,o.Texts=i.Draw.DrawData,n.ChartPaint.push(o)},this.CreateMultiSVGIcon=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Zt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.Data=t.ChartPaint[0].Data,o.Family=i.Draw.DrawData.Family,o.Icon=i.Draw.DrawData.Icon,n.ChartPaint.push(o)},this.CreateChartDrawSVG=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new te;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,t.ChartPaint[0].IsMinuteFrame()?o.Data=t.SourceData:o.Data=t.ChartPaint[0].Data,Ee.IsBool(i.Draw.DrawData.EnableTooltip)&&(o.EnableTooltip=i.Draw.DrawData.EnableTooltip),Ee.IsBool(i.Draw.DrawData.IsDrawFirst)&&(o.IsDrawFirst=i.Draw.DrawData.IsDrawFirst),o.Family=i.Draw.DrawData.Family,o.TextFont=i.Draw.DrawData.TextFont,o.Texts=i.Draw.DrawData.Data,this.ReloadChartResource(t,e,o),n.ChartPaint.push(o)},this.CreateMulitHtmlDom=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Qt;o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.HQChart=t,o.Data=t.ChartPaint[0].Data,o.Texts=i.Draw.DrawData,o.DrawCallback=i.Draw.Callback,n.ChartPaint.push(o)},this.CreateChartVericaltLine=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new It;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.HQChart=t,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}this.SetChartLineDash(o,i.Draw.DrawData),o.Data.Data=i.Draw.DrawData.Data,n.ChartPaint.push(o)},this.CreateChartHorizontalLine=function(t,e,i,a){var r=this.OverlayIndex,n=r.Frame,o=new Tt;if(o.Canvas=t.Canvas,o.Name=i.Name,o.ChartBorder=n.Frame.ChartBorder,o.ChartFrame=n.Frame,o.Identify=r.Identify,o.HQChart=t,i.Color?o.Color=this.GetColor(i.Color):o.Color=this.GetDefaultColor(a),i.LineWidth){var s=parseInt(i.LineWidth.replace("LINETHICK",""));!isNaN(s)&&s>0&&(o.LineWidth=s)}this.SetChartLineDash(o,i.Draw.DrawData),o.ExtendType=i.Draw.DrawData.Extend,o.Data.Data=i.Draw.DrawData.Data,n.ChartPaint.push(o)},this.CreateSelfKLine=function(t,e,i){var a=this.OverlayIndex,r=a.Frame,n=new rt;n.Canvas=t.Canvas,n.Name="Self Kline",n.ChartBorder=r.Frame.ChartBorder,n.ChartFrame=r.Frame,n.Identify=a.Identify,n.Data=i,n.IsShowMaxMinPrice=!1,n.IsShowKTooltip=!1,n.DrawType=this.KLineType,r.ChartPaint.push(n)},this.GetDefaultColor=function(t){var e=["rgb(24,71,178)","rgb(42,230,215)","rgb(252,96,154)","rgb(0,128,255)","rgb(229,0,79)","rgb(68,114,196)","rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)"];return e[parseInt(t)%(e.length-1)]}}function Ar(t,e,i,a,r){this.newMethod=r?Mr:Lr,this.newMethod(t,e,i,a),delete this.newMethod,this.ClassName="APIScriptIndex",this.IsOverlayIndex=1==r,this.ApiUrl,this.HQDataType,this.Version=1,a&&a.API&&(a.API.Url&&(this.ApiUrl=a.API.Url),a.API.Name&&(this.Name=this.ID=a.API.Name),a.API.ID&&(this.ID=a.API.ID),a.API.Version>0&&(this.Version=a.API.Version),!0===a.API.IsUsePageData&&(this.IsUsePageData=a.API.IsUsePageData)),this.Super_CopyTo=this.CopyTo,this.CopyTo=function(t){this.Super_CopyTo(t),t.ApiUrl=this.ApiUrl,t.Version=this.Version,t.IsOverlayIndex=this.IsOverlayIndex},this.RecvSubscribeData=function(t,e,i,a){2==this.Version?this.RecvAPIData2(t,e,i,a):this.RecvAPIData(t,e,i,a)},this.ExecuteScript=function(t,e,i){Nn.Complier.Log("[APIScriptIndex::ExecuteScript] name, Arguments ",this.Name,this.Arguments);var a=_o.KLINE_ID,r=null;"MinuteChartContainer"===t.ClassName||"MinuteChartHScreenContainer"===t.ClassName?(a=t.DayCount>1?_o.MULTIDAY_MINUTE_ID:_o.MINUTE_ID,r=i.GetDateRange()):"HistoryMinuteChartContainer"===t.ClassName?a=_o.HISTORY_MINUTE_ID:r=i.GetDateRange();var o=[];if(this.Arguments)for(var s in this.Arguments){var l=this.Arguments[s];o.push({name:l.Name,value:l.Value})}var h;t.GetRequestDataCount&&(h=t.GetRequestDataCount());var u=this,c={indexname:this.ID,symbol:t.Symbol,script:this.Script,args:o,period:t.Period,right:t.Right,hqdatatype:a};if(r&&(c.DateRange=r),h&&(c.maxdatacount=h.MaxRequestDataCount,c.maxminutedaycount=h.MaxRequestMinuteDayCount),a!=_o.MULTIDAY_MINUTE_ID&&a!=_o.MINUTE_ID||(c.daycount=t.DayCount),this.HQDataType=a,t.NetworkFilter){var d={Name:"APIScriptIndex::ExecuteScript",Explain:"指标计算",Request:{Url:u.ApiUrl,Type:"POST",Data:c},Self:this,HQChart:t,PreventDefault:!1};if(t.NetworkFilter(d,function(a){2==u.Version?u.RecvAPIData2(a,t,e,i):u.RecvAPIData(a,t,e,i)}),1==d.PreventDefault)return}n.HttpRequest({url:u.ApiUrl,data:c,type:"post",dataType:"json",async:!0,success:function(a){u.RecvAPIData(a,t,e,i)},error:function(t){u.RecvError(t)}})},this.RecvAPIData2=function(t,e,i,a){if(Nn.Complier.Log("[APIScriptIndex::RecvAPIData2] recv data ",this.Name,t),this.HQDataType==_o.KLINE_ID?(this.OutVar=this.ConvertToLocalData(t,e),Nn.Complier.Log("[APIScriptIndex::RecvAPIData2] conver to OutVar ",this.OutVar)):this.HQDataType==_o.MINUTE_ID?(this.OutVar=this.ConvertToLocalData(t,e),Nn.Complier.Log("[APIScriptIndex::RecvAPIData2] conver to OutVar ",this.OutVar)):this.HQDataType==_o.MULTIDAY_MINUTE_ID&&(this.OutVar=this.ConvertToLocalData(t,e),Nn.Complier.Log("[APIScriptIndex::RecvAPIData2] conver to OutVar ",this.OutVar)),this.BindData(e,i,a),e.UpdataDataoffset(),e.UpdateFrameMaxMin(),e.Draw(),e.GetIndexEvent){var r=e.GetIndexEvent();if(r){var t={OutVar:this.OutVar,WindowIndex:i,Name:this.Name,Arguments:this.Arguments,HistoryData:a,Stock:{Symbol:e.Symbol,Name:e.Name}};r.Callback(r,t,this)}}},this.ConvertToLocalData=function(t,e){var i=t.OutVar;if("MinuteChartContainer"==e.ClassName||"MinuteChartHScreenContainer"==e.ClassName)var a=e.SourceData,r=a.GetAPIDataIndex(t.Date,t.Time);else{var a=e.ChartPaint[0].Data;if(Q.IsDayPeriod(t.Period,!0))var r=a.GetAPIDataIndex(t.Date);else var r=a.GetAPIDataIndex(t.Date,t.Time)}var n=[];for(var o in i){var s=i[o],l={Type:s.Type,Name:s.Name};if(0==s.Type){l.Data=[];for(var h=0;h<r.length;++h){var u=r[h];u.Index<0?l.Data[h]=null:l.Data[h]=s.Data[u.Index]}l.Name&&l.Name.indexOf("@NODRAW@")>=0&&(l.Name=l.Name.replace("@NODRAW@",""))}else{if(1!=s.Type)continue;l.Name=s.DrawType,l.Draw={DrawType:s.DrawType};var c=s.Draw;switch(s.DrawType){case"STICKLINE":for(var d=[],h=0;h<r.length;++h){d[h]=null;var u=r[h],f=u.Index;if(!(f<0)){var p=c.Price[f],m=c.Price2[f];Ee.IsNumber(p)&&Ee.IsNumber(m)&&(d[h]={Value:p,Value2:m})}}l.Draw.DrawData=d,l.Draw.Width=c.Width,l.Draw.Type=c.Empty;break;case"DRAWTEXT":for(var d=[],C=[],h=0;h<r.length;++h){d[h]=null;var u=r[h],f=u.Index;if(!(f<0)){var p=c.Price[f];if(Ee.IsNumber(p)&&(d[h]=p),Array.isArray(c.Text)){var s=c.Text[f];Ee.IsString(s)&&(C[h]=s)}}}Array.isArray(c.Text)?l.Draw.Text=C:l.Draw.Text=c.Text,l.Draw.DrawData=d;break;case"DRAWNUMBER":for(var d={Value:[],Text:[]},h=0;h<r.length;++h){d.Value[h]=null,d.Text[h]=null;var u=r[h],f=u.Index;if(!(f<0)){var p=c.Price[f],v=c.Number[f];Ee.IsNumber(p)&&Ee.IsNumber(v)&&(d.Value[h]=p,d.Text[h]=v.toFixed(2))}}l.Draw.DrawData=d;break;case"DRAWBAND":for(var d=[],h=0;h<r.length;++h){d[h]=null;var u=r[h],f=u.Index;if(!(f<0)){var p=c.Val1[f],m=c.Val2[f];Ee.IsNumber(p)&&Ee.IsNumber(m)&&(d[h]={Value:p,Value2:m})}}l.Draw.DrawData=d,l.Draw.Color=[null,null],c.Color1&&(l.Draw.Color[0]=c.Color1.toLowerCase()),c.Color2&&(l.Draw.Color[1]=c.Color2.toLowerCase());break;case"DRAWKLINE":for(var d=[],h=0;h<r.length;++h){var s={Open:null,High:null,Low:null,Close:null};d[h]=s;var u=r[h],f=u.Index;if(!(f<0)){var D=c.High[f],g=c.Low[f],S=c.Open[f],x=c.Close[f];Ee.IsPlusNumber(D)&&Ee.IsPlusNumber(g)&&Ee.IsPlusNumber(S)&&Ee.IsPlusNumber(x)&&(s.Open=S,s.Close=x,s.High=D,s.Low=g)}}l.Draw.DrawData=d;break;case"DRAWTEXT_FIX":for(var d={Value:[],Text:[]},h=0;h<r.length;++h){d.Value[h]=0,d.Text[h]=null;var u=r[h],f=u.Index;if(!(f<0)){c.Cond[f]&&(d.Value[h]=1,d.Text[h]=c.Text)}}l.Draw.DrawData=d,l.Draw.Position={X:c.X,Y:c.Y,Type:c.Type};break;case"DRAWNUMBER_FIX":for(var d={Value:[],Text:[]},h=0;h<r.length;++h){d.Value[h]=null,d.Text[h]=null;var u=r[h],f=u.Index;if(!(f<0)){var b=c.Number[f];Ee.IsNumber(b)&&(d.Value[h]=b,d.Text[h]=Ee.RemoveZero(b.toFixed(2)))}}l.Draw.DrawData=d,l.Draw.Position={X:c.X,Y:c.Y,Type:c.Type};break;case"DRAWICON":var I=yo.GetDrawIcon(c.Type);I||yo.GetDrawTextIcon(c.Type),I||(I={Symbol:"🚩"}),l.Draw.Icon=I;for(var d=[],h=0;h<r.length;++h){d[h]=null;var u=r[h],f=u.Index;if(!(f<0)){var b=c.Price[f];Ee.IsNumber(b)&&(d[h]=b)}}l.Draw.DrawData=d;break;case"PARTLINE":for(var d=[],h=0;h<r.length;++h){d[h]={Value:null,RGB:null};var u=r[h],f=u.Index;if(!(f<0)){var T=c.Color[f];if(Ee.IsString(T)){var b=c.Price[f];Ee.IsNumber(b)&&(d[h].Value=b,d[h].RGB=T)}}}l.Draw.DrawData=d;break;case"FILLRGN":for(var d=[],h=0;h<r.length;++h){d[h]=null;var u=r[h],f=u.Index;if(!(f<0)){var T=c.Color[f];if(Ee.IsString(T)){var b=c.Price[f];if(Ee.IsNumber(b)){var y=c.Price2[f];Ee.IsNumber(y)&&(d[h]={Value:b,Value2:y,Color:T})}}}}l.Draw.DrawData=d,l.Draw.DrawType="FILLRGN2";break;default:continue}}for(var o in s.Attribute){var w=s.Attribute[o];switch(w){case"COLORSTICK":l.Type=2;break;case"POINTDOT":l.Radius=lo.POINTDOT.Radius,l.Type=3;break;case"CIRCLEDOT":l.Radius=lo.CIRCLEDOT.Radius,l.Type=3;break;case"DOTLINE":l.IsDotLine=!0;break;case"DRAWABOVE":l.IsDrawAbove=!0;break;case"LINESTICK":l.Type=4;break;case"STICK":l.Type=5;break;case"VOLSTICK":l.Type=6;break;case"LINEAREA":l.Type=9;break;case"NODRAW":l.IsShow=!1;break;case"NONE_OUT_NAME":l.NoneName=!0;break;case"NOTEXT":l.IsShowTitle=!1}0==w.indexOf("COLOR")?l.Color=w:0==w.indexOf("LINETHICK")&&(l.LineWidth=w)}n.push(l)}return n},this.RecvAPIData=function(t,e,i,a){if(Nn.Complier.Log("[APIScriptIndex::RecvAPIData] recv data ",this.Name,t),0==t.code){if(e.EnableVerifyRecvData&&(!t.stock||e.Symbol!=t.stock.symbol))return void Nn.Chart.Warn("[APIScriptIndex::RecvAPIData] recv data symbol not match. HQChart["+e.Symbol+"]");if(t.error&&Ee.IsString(t.error.message)){var r={HQChart:e,WindowIndex:i,HistoryData:a,Self:this};return void this.ShowConditionError(r,t.error.message)}if(t.outdata&&t.outdata.name&&(this.Name=t.outdata.name),t.outdata.args){this.Arguments=[];for(var n in t.outdata.args){var o=t.outdata.args[n];this.Arguments.push({Name:o.name,Value:o.value})}}if(this.HQDataType==_o.KLINE_ID?(this.OutVar=this.FittingData(t.outdata,e),Nn.Complier.Log("[APIScriptIndex::RecvAPIData] conver to OutVar ",this.OutVar)):this.OutVar=this.FittingMinuteData(t.outdata,e),this.BindData(e,i,a),0==this.IsLocked)e.Frame.SubFrame[i].Frame.SetLock(null);else{var s={IsLocked:!0,Callback:this.LockCallback,IndexName:this.Name,ID:this.LockID,BG:this.LockBG,Text:this.LockText,TextColor:this.LockTextColor,Font:this.LockFont,Count:this.LockCount,MinWidth:this.LockMinWidth};e.Frame.SubFrame[i].Frame.SetLock(s)}if(e.UpdataDataoffset(),e.UpdateFrameMaxMin(),!1===t.Redraw||e.Draw(),e.GetIndexEvent){var l=e.GetIndexEvent();if(l){var t={OutVar:this.OutVar,WindowIndex:i,Name:this.Name,Arguments:this.Arguments,HistoryData:a,Stock:{Symbol:e.Symbol,Name:e.Name}};l.Callback(l,t,this)}}}},this.FittingArray=function(t,e,i,a,r){var n=a.ChartPaint[0].Data,o=[];for(var s in t){var l=t[s],h=new J;h.Date=e[s],i&&s<i.length&&(h.Time=i[s]),h.Value=l,o.push(h)}var u;u=Q.IsDayPeriod(a.Period,!0)?n.GetFittingData(o):n.GetMinuteFittingData(o);var c=new Q;c.Data=u;return 1==r?c.GetObject():c.GetValue()},this.FittingMultiLine=function(t,e,i,a){var r=a.ChartPaint[0].Data;if(Q.IsDayPeriod(a.Period,!0)){var r=a.ChartPaint[0].Data,n=[];for(var o in t){var s=t[o];for(var l in s.Point){var h=s.Point[l];n.push(h)}}return n.sort(function(t,e){return t.Date-e.Date}),r.GetDateIndex(n),t}if(Q.IsMinutePeriod(a.Period,!0)||Q.IsTickPeriod(a.Period)||Q.IsSecondPeriod(a.Period)){var r=a.ChartPaint[0].Data,n=[];for(var o in t){var s=t[o];for(var l in s.Point){var h=s.Point[l];n.push(h)}}return n.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date}),r.GetDateTimeIndex(n),t}if(this.HQDataType==_o.MINUTE_ID||this.HQDataType==_o.MULTIDAY_MINUTE_ID){var u=a.SourceData,n=[];for(var o in t){var s=t[o];for(var l in s.Point){var h=s.Point[l];n.push(h)}}return n.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date}),u.GetDateTimeIndex(n),t}return null},this.FittingMultiText=function(t,e,i,a){if(Q.IsDayPeriod(a.Period,!0)){var r=a.ChartPaint[0].Data;return t.sort(function(t,e){return t.Date-e.Date}),r.GetDateIndex(t),t}if(Q.IsMinutePeriod(a.Period,!0)||Q.IsTickPeriod(a.Period)||Q.IsSecondPeriod(a.Period)){var r=a.ChartPaint[0].Data;return t.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date}),r.GetDateTimeIndex(t),t}if(this.HQDataType==_o.MINUTE_ID||this.HQDataType==_o.MULTIDAY_MINUTE_ID){var n=a.SourceData;return t.sort(function(t,e){return t.Date==e.Date?t.Time-e.Time:t.Date-e.Date}),n.GetDateTimeIndex(t),t}return null},this.FittingData=function(t,e){var i=t.outvar,a=t.date,r=t.time,n=(e.ChartPaint[0].Data,[]);if(!i)return n;for(var o=0;o<i.length;++o){var s=i[o],l={Name:s.name,Type:s.type};if(s.color&&(l.Color=s.color),s.data)l.Data=this.FittingArray(s.data,a,r,e),s.color&&(l.Color=s.color),s.linewidth&&(l.LineWidth=s.linewidth),0==s.isshow&&(l.IsShow=!1),1==s.isexdata&&(l.IsExData=!0),s.BreakPoint&&(l.BreakPoint=s.BreakPoint),n.push(l);else if(s.Draw){var h=s.Draw,u={};if("DRAWICON"==h.DrawType)u.Icon=h.Icon,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingArray(h.DrawData,a,r,e),l.Draw=u,n.push(l);else if("DRAWTEXT"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingArray(h.DrawData,a,r,e),l.Draw=u,n.push(l);else if("STICKLINE"==h.DrawType)u.Name=h.Name,u.Type=h.Type,u.Width=h.Width,u.DrawType=h.DrawType,u.DrawData=this.FittingArray(h.DrawData,a,r,e,1),l.Draw=u,n.push(l);else if("DRAWBAND"==h.DrawType)u.Name=h.Name,u.Type=h.Type,u.DrawType=h.DrawType,u.DrawData=this.FittingArray(h.DrawData,a,r,e,1),u.Color=h.Color,l.Draw=u,n.push(l);else if("MULTI_LINE"==h.DrawType){if(u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMultiLine(h.DrawData,a,r,e),Ee.IsNonEmptyArray(u.DrawData))for(var c=0;c<u.DrawData.length;++c)this.GetKLineData(u.DrawData[c].Point,e);l.Draw=u,h.LineDash&&(u.LineDash=h.LineDash),Ee.IsBool(h.IsFullRangeMaxMin)&&(u.IsFullRangeMaxMin=h.IsFullRangeMaxMin),h.Arrow&&(u.Arrow=h.Arrow),Ee.IsNumber(h.LineWidth)&&(u.LineWidth=h.LineWidth),n.push(l)}else if("MULTI_POINT"==h.DrawType){if(u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMultiLine(h.DrawData,a,r,e),Ee.IsNonEmptyArray(u.DrawData))for(var c=0;c<u.DrawData.length;++c)this.GetKLineData(u.DrawData[c].Point,e);l.Draw=u,n.push(l)}else if("MULTI_BAR"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMultiLine(h.DrawData,a,r,e),l.Draw=u,n.push(l);else if(h.DrawType==Po.OVERLAY_BARS)u.Name=h.Name,u.Type=h.Type,u.DrawType=h.DrawType,u.BarName=h.BarName,u.BarColor=h.BarColor,u.LineWidth=h.LineWidth,u.BarType=h.BarType,u.DrawData=this.FittingArray(h.DrawData,a,r,e,1),l.Draw=u,n.push(l);else if(h.DrawType==Po.SCATTER_PLOT)u.Name=h.Name,u.Type=h.Type,u.DrawType=h.DrawType,u.DrawData=this.FittingArray(h.DrawData,a,r,e,1),u.Color=h.Color,u.Radius=h.Radius,l.Draw=u,n.push(l);else if(h.DrawType==Po.KLINE_TABLE)u.Name=h.Name,u.Type=h.Type,u.DrawType=h.DrawType,u.DrawData=this.FittingArray(h.DrawData,a,r,e,1),u.RowCount=h.RowCount,u.RowName=h.RowName,u.IsShowRowName=h.IsShowRowName,u.BGColor=h.BGColor,l.Draw=u,n.push(l);else if("MULTI_TEXT"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMultiText(h.DrawData,a,r,e),this.GetKLineData(u.DrawData,e),l.Draw=u,n.push(l);else if("MULTI_SVGICON"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData={Icon:this.FittingMultiText(h.DrawData.Icon,a,r,e),Family:h.DrawData.Family},this.GetKLineData(u.DrawData.Icon,e),l.Draw=u,n.push(l);else if("DRAWSVG"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData={Data:this.FittingMultiText(h.Data,a,r,e),Family:h.Family,TextFont:h.TextFont,EnableTooltip:h.EnableTooltip,IsDrawFirst:h.IsDrawFirst},this.GetKLineData(u.DrawData.Data,e),l.Draw=u,n.push(l);else if("MULTI_HTMLDOM"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.Callback=h.Callback,u.DrawData=this.FittingMultiText(h.DrawData,a,r,e),this.GetKLineData(u.DrawData,e),l.Draw=u,n.push(l);else if("COLOR_KLINE"==h.DrawType){u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType;var d=this.FittingMultiText(h.DrawData.KLine,a,r,e),f=new Mn.default;for(var o in d){var s=d[o];f.set(s.Index,s)}u.DrawData={KLine:f},h.Color&&(l.Color=h.Color),l.Draw=u,n.push(l)}else if("KLINE_BG"==h.DrawType)u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData={},u.DrawData.Color=h.Color,u.DrawData.Angle=h.Angle,2==h.Ver?u.DrawData.Data=this.FittingKLineBG_V2(h.DrawData,e):u.DrawData.Data=this.FittingKLineBG(h.DrawData,e),l.Draw=u,l.Name=h.DrawType,n.push(l);else if("MULTI_POINT_LINE"==h.DrawType)u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData={},u.DrawData.Color=h.Color,u.DrawData.PointRadius=h.PointRadius,u.DrawData.PointColor=h.PointColor,u.DrawData.LineWidth=h.LineWidth,u.DrawData.Data=this.FittingMultiPointLine(h.DrawData,e),l.Draw=u,n.push(l);else if("PARTLINE"==h.DrawType)u.Name=h.Name,u.Type=h.Type,u.DrawType=h.DrawType,u.DrawData=this.FittingArray(h.DrawData,a,r,e,1),l.Draw=u,h.LineWidth&&(l.LineWidth=h.LineWidth),n.push(l);else{var p=Ro.Get(h.DrawType);p&&p.KLineFittingCallback&&p.KLineFittingCallback(s,l,{Date:a,Time:r,HQChart:e},this)&&n.push(l)}}}return n},this.GetKLineData=function(t,e){if(t&&Array.isArray(t)){if(this.HQDataType==_o.MINUTE_ID||this.HQDataType==_o.MULTIDAY_MINUTE_ID)var i=e.SourceData;else var i=e.ChartPaint[0].Data;for(var a in t){var r=t[a];if(Ee.IsString(r.Value)&&(Ee.IsNumber(r.Index)&&!(r.Index<0||r.Index>=i.Data.length))){var n=r.Value.toUpperCase(),o=i.Data[r.Index];switch(n){case"HIGH":case"H":r.Value=o.High;break;case"L":case"LOW":r.Value=o.Low;break;case"C":case"CLOSE":r.Value=o.Close}}}}},this.FittingKLineBG=function(t,e){var i=e.ChartPaint[0].Data,a=[];if(Q.IsDayPeriod(e.Period,!0)){for(var r=!1,n=0,o=0;n<i.Data.length;){a[n]=0;var s=i.Data[n];if(o>=t.length)++n;else{var l=t[o];l.Date<s.Date?++o:l.Date>s.Date?++n:(r=!0,a[n]=1,++o,++n)}}if(r)return a}else if(Q.IsMinutePeriod(e.Period,!0)){for(var r=!1,n=0,o=0;n<i.Data.length;){a[n]=0;var s=i.Data[n];if(o>=t.length)++n;else{var l=t[o];l.Date<s.Date||l.Date==s.Date&&l.Time<s.Time?++o:l.Date>s.Date||l.Date==s.Date&&l.Time>s.Time?++n:(r=!0,a[n]=1,++o,++n)}}if(r)return a}return null},this.FittingKLineBG_V2=function(t,e){var i=e.ChartPaint[0].Data,a=[];if(Q.IsDayPeriod(e.Period,!0)){for(var r=!1,n=0,o=0;n<i.Data.length;++n){a[n]=0;var s=i.Data[n],l=s.Date;for(o=0;o<t.length;++o){var h=t[o];if(l>=h.Start.Date&&l<=h.End.Date){a[n]=1,r=!0;break}}}if(r)return a}else if(Q.IsMinutePeriod(e.Period,!0)){for(var u=[],n=0;n<t.length;++n){var c=t[n],d=1e4*c.Start.Date;Ee.IsNumber(c.Start.Time)&&(d+=c.Start.Time);var f=1e4*c.End.Date;Ee.IsNumber(c.End.Time)&&(f+=c.End.Time),u.push({Start:d,End:f})}for(var r=!1,n=0,o=0;n<i.Data.length;++n){a[n]=0;var s=i.Data[n],l=1e4*s.Date+s.Time;for(o=0;o<u.length;++o){var h=u[o];if(l>=h.Start&&l<=h.End){a[n]=1,r=!0;break}}}if(r)return a}return null},this.FittingMinuteData=function(t,e){for(var i=t.outvar,a=t.date,r=t.time,n=[],o=0;o<i.length;++o){var s=i[o],l={Name:s.name,Type:s.type};if(s.data)l.Data=this.FittingMinuteArray(s.data,a,r,e),s.color&&(l.Color=s.color),s.linewidth>=1&&(l.LineWidth=s.linewidth),0==s.isshow&&(l.IsShow=!1),1==s.isexdata&&(l.IsExData=!0),s.BreakPoint&&(l.BreakPoint=s.BreakPoint),n.push(l);else if(s.Draw){var h=s.Draw,u={};if("DRAWICON"==h.DrawType)u.Icon=h.Icon,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMinuteArray(h.DrawData,a,r,e),l.Draw=u,n.push(l);else if("DRAWTEXT"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMinuteArray(h.DrawData,a,r,e),l.Draw=u,n.push(l);else if("STICKLINE"==h.DrawType)u.Name=h.Name,u.Type=h.Type,u.Width=h.Width,u.DrawType=h.DrawType,u.DrawData=this.FittingMinuteArray(h.DrawData,a,r,e,1),l.Draw=u,n.push(l);else if(h.DrawType==Po.OVERLAY_BARS)u.Name=h.Name,u.Type=h.Type,u.DrawType=h.DrawType,u.BarName=h.BarName,u.BarColor=h.BarColor,u.LineWidth=h.LineWidth,u.DrawData=this.FittingMinuteArray(h.DrawData,a,r,e,1),l.Draw=u,n.push(l);else if("MULTI_LINE"==h.DrawType){u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMultiLine(h.DrawData,a,r,e);for(var c in u.DrawData)this.GetKLineData(u.DrawData[c].Point,e);l.Draw=u,h.LineDash&&(u.LineDash=h.LineDash),h.Arrow&&(u.Arrow=h.Arrow),n.push(l)}else if("MULTI_POINT"==h.DrawType){if(u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMultiLine(h.DrawData,a,r,e),Ee.IsNonEmptyArray(u.DrawData))for(var c=0;c<u.DrawData.length;++c)this.GetKLineData(u.DrawData[c].Point,e);l.Draw=u,n.push(l)}else if("MULTI_TEXT"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData=this.FittingMultiText(h.DrawData,a,r,e),this.GetKLineData(u.DrawData,e),l.Draw=u,n.push(l);else if("MULTI_SVGICON"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData={Icon:this.FittingMultiText(h.DrawData.Icon,a,r,e),Family:h.DrawData.Family},this.GetKLineData(u.DrawData.Icon,e),l.Draw=u,n.push(l);else if("DRAWSVG"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.DrawData={Data:this.FittingMultiText(h.Data,a,r,e),Family:h.Family,TextFont:h.TextFont,EnableTooltip:h.EnableTooltip,IsDrawFirst:h.IsDrawFirst},this.GetKLineData(u.DrawData.Data,e),l.Draw=u,n.push(l);else if("MULTI_HTMLDOM"==h.DrawType)u.Text=h.Text,u.Name=h.Name,u.DrawType=h.DrawType,u.Callback=h.Callback,u.DrawData=this.FittingMultiText(h.DrawData,a,r,e),this.GetKLineData(u.DrawData,e),l.Draw=u,n.push(l);else{var d=Ro.Get(h.DrawType);d&&d.MinuteFittingCallback&&d.MinuteFittingCallback(s,l,{Date:a,Time:r,HQChart:e},this)&&n.push(l)}}}return n},this.FittingMinuteArray=function(t,e,i,a,r){var n=a.SourceData,o=[];for(var s in t){var l=t[s],h=new J;h.Date=e[s],i&&s<i.length&&(h.Time=i[s]),h.Value=l,o.push(h)}var u;u=5==r?n.GetMinuteFittingDataV2(o):n.GetMinuteFittingData(o);var c=new Q;return c.Data=u,c.GetValue()},this.FittingMultiPointLine=function(t,e){var i=e.Period,a=t.Data,r=[];if(Q.IsDayPeriod(i,!0)){var n=a[0],o=e.ChartPaint[0].Data,s=o.Data[0],l=0,h=0;if(n.Date>s.Date){var u=0;for(l=0;l<o.Data.length;++l){var c=o.Data[l];if(c.Date==n.Date)break;if(c.Date>n.Date){l=u;break}u=l}}else for(h=0;h<a.length;++h){var d=a[h];if(d.Date>=s.Date)break}for(var f=null,p=l,m=h;p<o.Data.length&&m<a.length;){var c=o.Data[p],d=a[m];d.Date<=c.Date?(r[p]||(r[p]=[]),r[p].push({Date:d.Date,Value:d.Value,Data:d.Data,KDate:c.Date,Type:1}),f=d,++m):(f&&!r[p]&&(r[p]={Date:f.Date,Value:f.Value,Type:0}),++p)}if(f)for(;p<o.Data.length;++p)r[p]||(r[p]={Date:f.Date,Value:f.Value,Type:0});return r}if(Q.IsMinutePeriod(i,!0)){var o=e.ChartPaint[0].Data;return r}}}function Or(t,e,a){this.newMethod=Lr,this.newMethod(t,null,e,null),delete this.newMethod,this.JsonData,a.JsonData&&(this.JsonData=a.JsonData),this.RequestData=function(t,e,i){if(!this.JsonData)return console.warn("[LocalJsonDataIndex::RequestData] JsonData is null"),void(param.HQChart.ScriptErrorCallback&&param.HQChart.ScriptErrorCallback("json 数据不能为空"));this.OutVar=this.FittingData(this.JsonData,i),this.BindData(t,e,i)},this.FittingData=function(t,e){outVar=t.OutVar,date=t.Date,time=t.Time,result=[];for(i in outVar)if(item=outVar[i],Nn.Complier.Log("[LocalJsonDataIndex::FittingData] item",item),0==item.Type||3==item.Type){var a=[];outVarItem={Name:item.Name,Type:item.Type};for(j in item.Data){var r=new J;r.Date=date[j],time&&j<time.length&&(r.Time=time[j]),r.Value=item.Data[j],a.push(r)}if(e.Period<4)var n=e.GetFittingData(a);else var n=e.GetMinuteFittingData(a);var o=new Q;o.Data=n,outVarItem.Data=o.GetValue(),result.push(outVarItem)}else console.warn("[LocalJsonDataIndex::FittingData] can't support ",item.Name,item.Type);return result}}function Nr(t){this.ID,this.Name,this.Script,this.Arguments=[],this.ClassName="ScriptIndexConsole",this.ErrorCallback,this.FinishCallback,this.IsSectionMode=!1,this.NetworkFilter,this.IsApiPeriod=!1,t&&(t.Name&&(this.Name=t.Name),t.Script&&(this.Script=t.Script),t.ID&&(this.ID=t.ID),t.Args&&(this.Arguments=t.Args),t.ErrorCallback&&(this.ErrorCallback=t.ErrorCallback),t.FinishCallback&&(this.FinishCallback=t.FinishCallback),t.IsSectionMode&&(this.IsSectionMode=t.IsSectionMode),t.NetworkFilter&&(this.NetworkFilter=t.NetworkFilter),Ee.IsBool(t.IsApiPeriod)&&(this.IsApiPeriod=t.IsApiPeriod)),this.ExecuteScript=function(t){this.OutVar=[];var e={Self:this},i={HQDataType:t.HQDataType,Symbol:t.Stock.Symbol,Name:t.Stock.Name,Period:t.Period,Right:t.Right,Callback:this.RecvResultData,CallbackParam:e,Async:!0,MaxRequestDataCount:t.Request.MaxDataCount,MaxRequestMinuteDayCount:t.Request.MaxMinuteDayCount,Arguments:this.Arguments,IsSectionMode:this.IsSectionMode,ClassName:"ScriptIndexConsole",NetworkFilter:this.NetworkFilter,IsApiPeriod:this.IsApiPeriod,Self:this};t.HQDataType===_o.HISTORY_MINUTE_ID&&(i.TrateDate=t.Request.TradeDate),t.HQDataType==_o.MULTIDAY_MINUTE_ID&&(i.DayCount=t.DayCount),t.Data&&(i.Data=t.Data);var a=this.Script;Er.Execute(a,i,this.ErrorCallback)},this.RecvResultData=function(t,e){var i=e.Self,a=e.JSExecute,r=null;a.SymbolData.Data&&(r=a.SymbolData.Data.GetDate());var n={Out:t,Date:r,Stock:{Name:a.SymbolData.Name,Symbol:a.SymbolData.Symbol},Index:{Name:i.Name,ID:i.ID}};a.SymbolData.DataType==_o.MULTIDAY_MINUTE_ID||a.SymbolData.DataType==_o.MINUTE_ID?n.Time=a.SymbolData.Data.GetTime():a.SymbolData.DataType==_o.KLINE_ID&&Q.IsMinutePeriod(a.SymbolData.Period,!0)&&(n.Time=a.SymbolData.Data.GetTime()),i.FinishCallback&&i.FinishCallback(n,e.JSExecute)}}function _r(t){this.Url=t.Url,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this,e=this.GetFieldList();if(!e)return message=this.Job.FunctionName+"("+this.Args[0]+") can't support.",this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey);n.HttpRequest({url:this.Url,data:{field:e,symbol:[this.Symbol],condition:[{item:["finance","doc","exists","true"]}],start:0,end:200},type:"post",dataType:"json",async:!0,success:function(e){var i=t.ToHQChartData(e);i&&i.sort(function(t,e){return t.Date-e.Date}),t.RecvCallback(i,t.Job,t.DataKey)}})},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],i=new Tn.default,a=t.stock[0];for(var r in a.stockday){var n=a.stockday[r];if(n.announcement1){var o=this.ToHQChartItemData(n.announcement1,n.finance1,n);o&&!i.has(o.Date)&&(e.push(o),i.add(o.Date))}if(n.announcement2){var o=this.ToHQChartItemData(n.announcement2,n.finance2,n);o&&!i.has(o.Date)&&(e.push(o),i.add(o.Date))}if(n.announcement3){var o=this.ToHQChartItemData(n.announcement3,n.finance3,n);o&&!i.has(o.Date)&&(e.push(o),i.add(o.Date))}if(n.announcement4){var o=this.ToHQChartItemData(n.announcement4,n.finance4,n);o&&!i.has(o.Date)&&(e.push(o),i.add(o.Date))}}return e},this.ToHQChartItemData=function(t,e,i){var a=this.Args[0],r=1e4*t.year;switch(t.quarter){case 1:r+=331;break;case 2:r+=630;break;case 3:r+=930;break;case 4:r+=1231;break;default:return null}var n={Date:r,Value:0};switch(a){case 0:n.Value=r%1e6;break;case 1:n.Value=e.persearning;break;case 3:n.Value=e.peruprofit;break;case 4:n.Value=e.pernetasset;break;case 5:n.Value=e.percreserve;break;case 6:n.Value=e.woewa;break;case 7:n.Value=e.perccfo;break;case 8:n.Value=e.monetaryfunds;break;case 11:n.Value=e.areceivable}return n},this.GetFieldList=function(){switch(this.Args[0]){case 0:return["finance.date"];case 1:return["finance.persearning"];case 3:return["finance.peruprofit"];case 4:return["finance.pernetasset"];case 5:return["finance.percreserve"];case 6:return["finance.woewa"];case 7:return["finance.perccfo"];case 8:return["finance.monetaryfunds"];case 11:return["finance.areceivable"];default:return null}}}function Pr(t){this.newMethod=_r,this.newMethod(t),delete this.newMethod,this.Download=function(){var t=this,e=this.GetFieldList();if(!e)return message=this.Job.FunctionName+"("+this.Args[0]+", "+this.Args[1]+", "+this.Args[2]+") can't support.",this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey);var i=[{item:["finance","doc","exists","true"]}],a=this.Args[1],r=this.Args[2],o=0,s=3,l=null;0==a&&0==r||(0==a&&r<300?(o=r,s=200):0==r&&a<1e3?l=a:a>1909&&(331==r?(i=[{item:["announcement1.year","int32","eq",a]},{item:["finance1","doc","exists","true"]}],e.push("announcement1.year"),e.push("announcement1.quarter")):630==r?(i=[{item:["announcement2.year","int32","eq",a]},{item:["finance2","doc","exists","true"]}],e.push("announcement2.year"),e.push("announcement2.quarter")):930==r?(i=[{item:["announcement3.year","int32","eq",a]},{item:["finance3","doc","exists","true"]}],e.push("announcement4.year"),e.push("announcement4.quarter")):(i=[{item:["announcement4.year","int32","eq",a]},{item:["finance4","doc","exists","true"]}],e.push("announcement4.year"),e.push("announcement4.quarter")))),n.HttpRequest({url:this.Url,data:{field:e,symbol:[this.Symbol],condition:i,start:0,end:s},type:"post",dataType:"json",async:!0,success:function(e){var i=t.ToHQChartData(e),a=null;i&&i.length>0&&(i.sort(function(t,e){return e.Date-t.Date}),a=null==l?i[o]:t.GetPreYearData(i,l)),t.RecvCallback(a,t.Job,t.DataKey)}})},this.GetPreYearData=function(t,e){if(331!=e&&630!=e&&930!=e&&1231!=e){for(var i=t[0].Date%1e3,a=1,r=0;a<t.length;++a){var n=t[a];if(n.Date%1e4==i&&++r==e)return n}return null}for(var a in t){var n=t[a];if(n.Date%1e4==e)return n}}}function Rr(t){this.Url=t.Url,this.RealtimeUrl=t.RealtimeUrl,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this.Args[0];switch(t){case 1:case 7:case"EXCHANGE":this.DownloadHistoryData(t);break;case 3:this.GetSymbolType(t);break;case 9:case 18:case 30:case 32:case 33:case 34:case 38:case 40:case 41:case 42:case 43:case"CAPITAL":case"TOTALCAPITAL":case 100:default:this.DownloadRealtimeData(t)}},this.GetSymbolType=function(t){var e=1;po.IsSHSZIndex(this.Symbol)&&(e=0);var i={Date:null,Value:e};this.RecvCallback(i,this.Job,this.DataKey)},this.DownloadRealtimeData=function(t){var e=this,i=this.GetFieldList();if(!i)return this.Job.FunctionName2?message=this.Job.FunctionName2+" can't support.":this.Job.FunctionName?message=this.Job.FunctionName+"("+this.Args[0]+") can't support.":message=this.Args[0]+" can't support.",this.ErrorCallback(message),void e.RecvCallback(null,e.Job,e.DataKey);n.HttpRequest({url:this.RealtimeUrl,data:{field:i,symbol:[this.Symbol],condition:[],start:0,end:10},type:"post",dataType:"json",async:!0,success:function(t){var i=e.RealtimeDataToHQChartData(t);e.RecvCallback(i,e.Job,e.DataKey)}})},this.DownloadHistoryData=function(t){var e=this,i=this.GetFieldList();if(!i)return message=this.Job.FunctionName+"("+this.Args[0]+") can't support.",this.ErrorCallback(message),void e.RecvCallback(null,e.Job,e.DataKey);n.HttpRequest({url:this.Url,data:{field:i,symbol:[this.Symbol],condition:[],start:0,end:200},type:"post",dataType:"json",async:!0,success:function(t){var i=e.ToHQChartData(t);i&&i.sort(function(t,e){return t.Date-e.Date}),e.RecvCallback(i,e.Job,e.DataKey)}})},this.GetFieldList=function(){switch(this.Args[0]){case 1:return["capital.total","capital.date"];case 7:case"EXCHANGE":return["capital.a","capital.date"];case 9:return["finance.peruprofit","symbol","date"];case 18:return["finance.percreserve","symbol","date"];case 30:return["finance.nprofit","symbol","date"];case 32:return["finance.peruprofit","symbol","date"];case 33:return["finance.persearning","symbol","date"];case 34:return["finance.pernetasset","symbol","date"];case 38:return["finance.persearning","symbol","date"];case 40:return["capital.a","capital.date","symbol","date","price"];case 41:return["capital.total","capital.date","symbol","date","price"];case"CAPITAL":return["capital.a","capital.date","symbol","date"];case"TOTALCAPITAL":return["capital.total","capital.date","symbol","date"];case 42:return["company.releasedate","symbol","date"];case 43:return["dividendyield","symbol","date"];case 100:return["shareholder","symbol","date"];default:return null}},this.RealtimeDataToHQChartData=function(t,e){if(!t.stock||1!=t.stock.length)return null;var i=t.stock[0],e=this.Args[0],a=i.date;switch(e){case 9:return i.finance?{Date:a,Value:i.finance.peruprofit}:null;case 18:return i.finance?{Date:a,Value:i.finance.percreserve}:null;case 30:return i.finance?{Date:a,Value:i.finance.nprofit}:null;case 32:return i.finance?{Date:a,Value:i.finance.peruprofit}:null;case 33:return i.finance?{Date:a,Value:i.finance.persearning}:null;case 34:return i.finance?{Date:a,Value:i.finance.pernetasset}:null;case 38:return i.finance?{Date:a,Value:i.finance.persearning}:null;case 40:return i.capital?{Date:a,Value:i.capital.a*i.price}:null;case 41:return i.capital?{Date:a,Value:i.capital.total*i.price}:null;case 42:if(!i.company)return null;var r=i.company.releasedate,n=parseInt(r/1e4),o=parseInt(r%1e4/100),s=r%100,l=new Date(n,o-1,s),h=new Date;return{Date:a,Value:parseInt((h.getTime()-l.getTime())/864e5)+1};case 43:return i.dividendyield?{Date:a,Value:i.dividendyield.quarter4}:null;case 100:return i.shareholder?{Date:a,Value:i.shareholder.count}:null;case"CAPITAL":return i.capital?{Date:a,Value:i.capital.a/100}:null;case"TOTALCAPITAL":return i.capital?{Date:a,Value:i.capital.total/100}:null}},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],i=new Tn.default,a=t.stock[0],r=this.Args[0];for(var n in a.stockday){var o=a.stockday[n],s=this.ToHQChartItemData(o,r);s&&!i.has(s.Date)&&(e.push(s),i.add(s.Date))}return e},this.ToHQChartItemData=function(t,e){if(!t)return null;var i=t.date;switch(e){case 1:return t.capital?{Date:i,Value:t.capital.total}:null;case 7:case"EXCHANGE":return t.capital?{Date:i,Value:t.capital.a}:null;default:return null}}}function Br(t){this.Url=t.Url,this.RealtimeUrl=t.RealtimeUrl,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this,e=this.GetFieldList();if(!e)return message=this.Job.FunctionName+"("+this.Args[0]+", "+this.Args[1]+", "+this.Args[2]+") can't support.",this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey,!0);n.HttpRequest({url:this.Url,data:{field:e,symbol:[this.Symbol],orderfield:"date",order:-1,start:0,end:5},type:"post",dataType:"json",async:!0,success:function(e){var i=t.ToHQChartData(e);i&&i.length>0&&i.sort(function(t,e){return t.Date-e.Date}),t.RecvCallback(i,t.Job,t.DataKey)}})},this.GetFieldList=function(){switch(this.Args[0]){case 1:return["shareholder","date","symbol"];case 2:return["tradedetail.buy","tradedetail.sell","date","symbol"];case 3:return["margin","date","symbol"];case 4:return["blocktrading.amount","blocktrading.price","date","symbol"];default:return null}},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],i=new Tn.default,a=t.stock[0],r=this.Args[0],n=this.Args[1];for(var o in a.stockday){var s=a.stockday[o],l=this.ToHQChartItemData(s,r,n);l&&!i.has(l.Date)&&(e.push(l),i.add(l.Date))}return e},this.ToHQChartItemData=function(t,e,i){if(!t)return null;var a=t.date;switch(e){case 1:return t.shareholder?{Date:a,Value:t.shareholder.count}:null;case 2:return!t.tradedetail&&t.tradedetail[0]?null:0==i?{Date:a,Value:t.tradedetail[0].buy}:{Date:a,Value:t.tradedetail[0].sell};case 3:if(!t.margin)return null;if(0==i){if(t.margin.buy)return{Date:a,Value:t.margin.buy.balance}}else if(t.margin.sell)return{Date:a,Value:t.margin.sell.balance};return null;case 4:return t.blocktrading?0==i?{Date:a,Value:t.blocktrading.price}:{Date:a,Value:t.blocktrading.amount}:null;default:return null}}}function kr(t){this.Url=t.Url,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this,e=this.GetQueryCondtion();if(!e)return message=this.Job.FunctionName+"("+this.Args[0]+", "+this.Args[1]+", "+this.Args[2]+") can't support.",this.ErrorCallback(message),void t.RecvCallback(null,t.Job,t.DataKey,!0);n.HttpRequest({url:this.Url,data:{field:e.Field,symbol:e.Symbol,condition:e.Cond,start:0,end:2e3},type:"post",dataType:"json",async:!0,success:function(e){var i=t.ToHQChartData(e);i&&i.sort(function(t,e){return t.Date-e.Date}),t.RecvCallback(i,t.Job,t.DataKey)}})},this.GetQueryCondtion=function(){var t=new Date,e=1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();t.setDate(t.getDate()-100);var i=1e4*t.getFullYear()+100*(t.getMonth()+1)+t.getDate();switch(this.Args[0]){case 1:return{Symbol:["CNA.ci"],Field:["margin"],Cond:[{item:["date","int32","gte",i.toString(),"lte",e.toString()]},{item:["margin","doc","exists","true"]}]}}},this.ToHQChartData=function(t){if(!t.stock||1!=t.stock.length)return null;var e=[],i=new Tn.default,a=t.stock[0],r=this.Args[0],n=this.Args[1];for(var o in a.stockday){var s=a.stockday[o],l=this.ToHQChartItemData(s,r,n);l&&!i.has(l.Date)&&(e.push(l),i.add(l.Date))}return e},this.ToHQChartItemData=function(t,e,i){if(!t)return null;var a=t.date,r=null;switch(e){case 1:return t.margin?(r=t.margin,1==i?r.buy&&Ee.IsNumber(r.buy.balance)?{Date:a,Value:r.buy.balance}:null:Ee.IsNumber(r.sell.balance)?{Date:a,Value:r.sell.balance}:null):null;default:return null}}}function Vr(t){this.Url=t.Url,this.RealtimeUrl=t.RealtimeUrl,this.Job=t.Job,this.Symbol=t.Symbol,this.Args=t.Args,this.DataKey=t.DataKey,this.RecvCallback=t.Callback,this.ErrorCallback=t.ErrorCallback,this.Download=function(){var t=this.Args[0];switch(t){case"HYBLOCK":case"DYBLOCK":case"GNBLOCK":this.DownloadGroupName(t)}},this.DownloadGroupName=function(t){var e=this,i=["name","symbol"];"HYBLOCK"==t?i.push("industry"):"DYBLOCK"==t?i.push("region"):"GNBLOCK"==t&&i.push("concept"),n.HttpRequest({url:e.RealtimeUrl,data:{field:i,symbol:[this.Symbol]},type:"post",dataType:"json",async:!0,success:function(t){var i=e.RecvGroupName(t);e.RecvCallback(i,e.Job,e.DataKey,1)},error:function(t){e.ErrorCallback(t)}})},this.RecvGroupName=function(t){if(!t.stock||1!=t.stock.length)return null;var e=t.stock[0],i=this.Args[0],a=null;if("HYBLOCK"==i){var r=e.industry;if(!r)return null;var a;for(var n in r){var o=r[n];a=o.name}}else if("DYBLOCK"==i){var s=e.region;if(!s)return null;for(var n in s){var o=s[n];a=o.name}}else if("GNBLOCK"==i){var l=e.concept;if(!l)return null;a="";for(var n in l){var o=l[n];a.length>0&&(a+=" "),a+=o.name}}return{Value:a}}}function Gr(){return{BGColor:"rgb(0,0,0)",TooltipBGColor:"rgb(255, 255, 255)",TooltipAlpha:.92,SelectRectBGColor:"rgba(1,130,212,0.06)",UpBarColor:"rgb(238,21,21)",DownBarColor:"rgb(25,158,0)",UnchagneBarColor:"rgb(228,228,228)",EmptyBarBGColor:"rgb(0,0,0)",HLCArea:{HighLineColor:"rgb(238,21,21)",LowLineColor:"rgb(25,158,0)",CloseLineColor:"rgb(156,156,156)",LineWidth:2*c(),UpAreaColor:"rgba(238,21,21, 0.3)",DownAreaColor:"rgba(25,158,0, 0.3)"},Minute:{VolBarColor:null,PriceColor:"rgb(25,180,231)",AreaPriceColor:"rgba(63,158,255,.3)",AvPriceColor:"rgb(255,236,0)",PositionColor:"rgb(218,165,32)",VolTitleColor:"rgb(190,190,190)",Before:{BGColor:"rgba(105,105,105,0.5)",AvPriceColor:"rgb(248,248,255)",CloseIcon:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"}},After:{BGColor:"rgba(105,105,105,0.5)",AvPriceColor:"rgb(248,248,255)"}},DefaultTextColor:"rgb(101,104,112)",DefaultTextFont:14*c()+"px 微软雅黑",TitleFont:13*c()+"px 微软雅黑",IndexTitleColor:"rgb(190, 190 ,190)",IndexTitleBGColor:"rgb(0,0,0)",IndexTitleBorderColor:"rgb(211, 211, 211)",IndexTitleBorderMoveOnColor:"rgb(30,144,255)",UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(190, 190 ,190)",CloseLineColor:"rgb(178,34,34)",Title:{TradeIndexColor:"rgb(105,105,105)",ColorIndexColor:"rgb(112,128,144)",VolColor:"rgb(190, 190 ,190)",AmountColor:"rgb(190, 190 ,190)",DateTimeColor:"rgb(190, 190 ,190)",SettingColor:"rgb(190, 190 ,190)",NameColor:"rgb(190, 190 ,190)",TurnoverRateColor:"rgb(101,104,112)",PositionColor:"rgb(101,104,112)"},FrameBorderPen:"rgba(236,236,236,0.13)",MultiDayBorderPen:"rgba(236,236,236,0.5)",FrameSplitPen:"rgba(236,236,236,0.13)",FrameSplitTextColor:"rgb(101,104,112)",FrameSplitTextFont:12*c()+"px 微软雅黑",FrameTitleBGColor:"rgb(0,0,0)",OverlayIndexTitleBGColor:"rgba(0,0,0,0.7)",Frame:{XBottomOffset:1*c(),PercentageText:{PriceColor:"rgb(101,104,112)",PercentageColor:"rgb(101,104,112)",SplitColor:"rgb(101,104,112)",Font:14*c()+"px 微软雅黑"}},FrameLatestPrice:{TextColor:"rgb(255,255,255)",UpBarColor:"rgb(238,21,21)",DownBarColor:"rgb(25,158,0)",UnchagneBarColor:"rgb(190,190,190)",BGAlpha:.6,EmptyBGColor:"rgb(0,0,0)"},CorssCursorBGColor:"rgb(43,54,69)",CorssCursorTextColor:"rgb(255,255,255)",CorssCursorTextFont:12*c()+"px 微软雅黑",CorssCursorHPenColor:"rgb(130,130,130)",CorssCursorVPenColor:"rgb(130,130,130)",CorssCursor:{RightButton:{BGColor:"rgb(43,54,69)",PenColor:"rgb(255,255,255)",Icon:{Text:"",Color:"rgb(255,255,255)",Family:"iconfont",Size:18}}},OrderFlow:{UpColor:{BG:"rgb(223,191,180)",Border:"rgb(196,84,86)"},DownColor:{BG:"rgb(176,212,184)",Border:"rgb(66,94,74)"},UnchagneColor:{BG:"rgb(216,221,177)",Border:"rgb(209,172,129)"},Text:{Color:"rgb(248,248,255)",Family:"Arial",FontMaxSize:16,MaxValue:"8888"},Line:{UpDownColor:"rgb(220,220,220)",MiddleColor:"rgb(211,211,211)"}},KLine:{MaxMin:{Font:12*c()+"px 微软雅黑",Color:"rgb(255,250,240)",RightArrow:"→",LeftArrow:"←",HighYOffset:0,LowYOffset:0},Info:{Investor:{ApiUrl:"/API/NewsInteract",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#1c65db"}},Announcement:{ApiUrl:"/API/ReportList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f5a521"},IconFont2:{Family:"iconfont",Text:"",HScreenText:"",Color:"#ed7520"}},Pforecast:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#986cad"}},Research:{ApiUrl:"/API/InvestorRelationsList",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#19b1b7"}},BlockTrading:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#f39f7c"}},TradeDetail:{ApiUrl:"/API/StockHistoryDay",IconFont:{Family:"iconfont",Text:"",HScreenText:"",Color:"#b22626"}}},NumIcon:{Color:"rgb(251,80,80)",Family:"iconfont",Text:["","","","","","","","","","","","","","","","","","","","",""]},TradeIcon:{Family:"iconfont",Buy:{Color:"rgb(255,15,4)",Text:"",HScreenText:""},Sell:{Color:"rgb(64,122,22)",Text:"",HScreenText:""}}},VirtualKLine:{Color:"rgb(119,136,153)",LineDash:[2,2]},Index:{LineColor:["rgb(255,189,09)","rgb(22,198,255)","rgb(174,35,161)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],NotSupport:{Font:14*c()+"px 微软雅黑",TextColor:"rgb(250,250,250)"}},ColorArray:["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"],Buttons:{CloseOverlayIndex:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},CloseWindow:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},ChangeIndex:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},OverlayIndex:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},ModifyIndexParam:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},MaxMinWindow:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},TitleWindow:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"},ExportData:{MoveOnColor:"rgb(255,255,255)",Color:"rgb(156,156,156)"}},DrawPicture:{LineColor:["rgb(41,98,255)"],PointColor:["rgb(41,98,255)","rgb(89,135,255)","rgb(0,0,0)"]},TooltipPaint:{BGColor:"rgba(20,20,20,0.8)",BorderColor:"rgb(210,210,210)",TitleColor:"rgb(210,210,210)",TitleFont:13*c()+"px 微软雅黑",DateTimeColor:"rgb(210,210,210)",VolColor:"rgb(255, 185, 15)",AmountColor:"rgb(210,210,210)"},PCTooltipPaint:{BGColor:"rgba(20,20,20,0.8)",BorderColor:"rgb(210,210,210)",TitleColor:"rgb(210,210,210)",TitleFont:12*c()+"px 微软雅黑",DateTimeColor:"rgb(210,210,210)",VolColor:"rgb(161,154,3)",AmountColor:"rgb(161,154,3)"},MinuteInfo:{TextColor:"rgb(84,143,255)",Font:14*c()+"px 微软雅黑",PointColor:"rgb(38,113,254)",LineColor:"rgb(120,167,255)",TextBGColor:"rgba(255,255,255,1)"},DepthMapPaint:{LineColor:"rgba(255,185,15)",AreaColor:"rgba(255,185,15,0.8)",TextColor:"rgba(255,255,255)",TextBGColor:"rgb(43,54,69)"},KLineYAxisBGPaint:{Font:12*c()+"px 微软雅黑",TextColor:"rgb(255,255,255)",LineColor:"rgb(255,255,255)"},StockChip:{InfoColor:"rgb(255,255,255)",DayInfoColor:"rgb(0,0,0)"},DepthChart:{BidColor:{Line:"rgb(82,176,123)",Area:"rgba(82,176,123,0.5)"},AskColor:{Line:"rgb(207,76,89)",Area:"rgba(207,76,89, 0.5)"},LineWidth:4},DepthCorss:{BidColor:{Line:"rgb(82,176,123)"},AskColor:{Line:"rgb(207,76,89)"},LineWidth:2,LineDash:[3,3],Tooltip:{BGColor:"rgba(54,54,54, 0.8)",TextColor:"rgb(203,215,224)",Border:{Top:5,Left:20,Bottom:5,Center:5},Font:14*c()+"px 微软雅黑",LineHeight:16}},ChartDrawVolProfile:{BGColor:"rgba(244,250,254,0.3)",BorderColor:"rgba(255,255,255)",VolLineColor:"rgb(232,5,9)",UpVolColor:"rgba(103,179,238, 0.24)",DownVolColor:"rgba(237,208,105,0.24)",AreaUpColor:"rgb(103,179,238,0.7)",AreaDonwColor:"rgba(237,208,105,0.7)",Text:{Color:"rgb(0,0,0)",Family:"Arial",FontMaxSize:18,FontMinSize:6}},RectSelect:{LineColor:"rgb(115,83,64)",LineWidth:1*c(),LineDotted:[3,3],AreaColor:"rgba(26,13,7,0.5)"},SelectedChart:{LineWidth:1,LineColor:"rgb(55,100,100)",Radius:4,MinSpace:200,BGColor:"rgb(255,255,255)"},DragMovePaint:{TextColor:"rgb(255,255,255)"},DealList:{BorderColor:"rgb(38,38,41)",Header:{Color:"RGB(245,245,245)",Mergin:{Left:5,Right:5,Top:4,Bottom:2},Font:{Size:12,Name:"微软雅黑"}},Row:{Mergin:{Top:2,Bottom:2},Font:{Size:15,Name:"微软雅黑"},BarMergin:{Top:2,Left:3,Right:3,Bottom:2}},FieldColor:{Vol:"rgb(192,192,0)",Time:"rgb(245,245,245)",Deal:"rgb(111,128,112)",Index:"rgb(245,245,245)",BarTitle:"rgb(245,245,245)",Text:"rgb(245,245,245)"},UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(228,228,228)"},Report:{BorderColor:"rgb(38,38,41)",SelectedColor:"rgb(49,48,56)",Header:{Color:"RGB(245,245,245)",SortColor:"rgb(255,0,0)",Mergin:{Left:5,Right:5,Top:4,Bottom:2},Font:{Size:12,Name:"微软雅黑"}},Item:{Mergin:{Top:2,Bottom:0,Left:5,Right:5},Font:{Size:15,Name:"微软雅黑"},BarMergin:{Top:2,Left:3,Right:3,Bottom:2},NameFont:{Size:14,Name:"微软雅黑"},SymbolFont:{Size:12,Name:"微软雅黑"}},FixedItem:{Font:{Size:15,Name:"微软雅黑"}},LimitBorder:{Color:"rgb(64,64,64)",Mergin:{Top:1,Bottom:1,Left:0,Right:0}},FieldColor:{Index:"rgb(245,245,245)",Symbol:"rgb(255,255,255)",Name:"rgb(255,255,255)",Amount:"rgb(2,226,244)",Vol:"rgb(192,192,0)",BarTitle:"rgb(245,245,245)",Text:"rgb(245,245,245)"},CloseLine:{CloseColor:"rgb(30,144,255)",YCloseColor:"rgba(220,220,220,0.5)",AreaColor:"rgba(220,220,220,0.2)"},KLine:{UpColor:"rgb(255,0,0)",DownColor:"rgb(0,128,0)",UnchagneColor:"rgb(240,240,240)",DataWidth:16,DistanceWidth:3},UpTextColor:"rgb(238,21,21)",DownTextColor:"rgb(25,158,0)",UnchagneTextColor:"rgb(228,228,228)",Tab:{Font:{Size:12,Name:"微软雅黑"},ScrollBarWidth:100,ButtonColor:"rgb(13,12,15)",BarColor:"rgb(48,48,48)",BorderColor:"rgb(48,48,48)",TabTitleColor:"rgb(153,153,153)",TabSelectedTitleColor:"rgb(255,255,255)",TabSelectedBGColor:"rgb(13,12,15)",TabMoveOnTitleColor:"rgb(255,255,255)",TabBGColor:"rgb(28,28,31)"},PageInfo:{Font:{Size:15,Name:"微软雅黑"},TextColor:"rgb(255,255,255)",BGColor:"rgba(49,48,56,0.8)",Mergin:{Left:5,Right:5,Top:4,Bottom:2}},DragRow:{Color:"rgba(255,250, 250,0.8)",TextColor:"rgba(0,0, 0, 0.8)",MoveRowColor:"rgb(135,206,250)",SrcRowColor:"rgb(49,48,56)"}},ScrollBar:{BorderColor:"rgb(38,38,41)",XSplitTextColor:"rgb(240,240,240)",XSplitLineColor:"rgb(38,38,41)",Slider:{DateFont:14*c()+"px 微软雅黑",DateColor:"rgb(240,240,240)",BarColor:"rgb(105,105,105)",BarAreaColor:"rgba(128,128,128,0.65)"},BGChart:{Color:"rgb(105,113,125)",LineWidth:1,AreaColor:"rgba(24,28,42,0.5)"}}}}function Hr(){}function Yr(t){this.DivElement=t,this.JSChartContainer,this.CanvasElement=document.createElement("canvas"),this.CanvasElement.className="jsdeallist-drawing",this.CanvasElement.id=m(),this.CanvasElement.setAttribute("tabindex",0),this.CanvasElement.style&&(this.CanvasElement.style.outline="none"),t.hasChildNodes()&&Nn.Chart.Log("[JSDealChart::JSDealList] divElement hasChildNodes",t.childNodes),t.appendChild(this.CanvasElement),this.OnSize=function(){var t=parseInt(this.DivElement.style.height.replace("px",""));this.CanvasElement.height=t,this.CanvasElement.width=parseInt(this.DivElement.style.width.replace("px","")),this.CanvasElement.style.width=this.CanvasElement.width+"px",this.CanvasElement.style.height=this.CanvasElement.height+"px";var e=c();this.CanvasElement.height*=e,this.CanvasElement.width*=e,Nn.Chart.Log("[JSDealChart::OnSize] devicePixelRatio="+window.devicePixelRatio+", height="+this.CanvasElement.height+", width="+this.CanvasElement.width),this.JSChartContainer&&this.JSChartContainer.OnSize&&this.JSChartContainer.OnSize()},this.SetOption=function(t){var e=this.CreateJSDealChartContainer(t);if(!e)return!1;t.OnCreatedCallback&&t.OnCreatedCallback(e),this.JSChartContainer=e,this.DivElement.JSChart=this,t.Symbol?e.ChangeSymbol(t.Symbol):e.Draw()},this.CreateJSDealChartContainer=function(t){var e=new Xr(this.CanvasElement);if(e.Create(t),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),Ee.IsNonEmptyArray(t.Column)&&e.SetColumn(t.Column),this.SetChartBorder(e,t),null!=t.IsAutoUpdate&&(e.IsAutoUpdate=t.IsAutoUpdate),t.AutoUpdateFrequency>0&&(e.AutoUpdateFrequency=t.AutoUpdateFrequency),Ee.IsBool(t.EnableFilter)&&(e.EnableFilter=t.EnableFilter),t.EventCallback)for(var i=0;i<t.EventCallback.length;++i){var a=t.EventCallback[i];e.AddEventCallback(a)}return e},this.SetChartBorder=function(t,e){if(e.Border){e.Border;Ee.IsNumber(e.Border.Left)&&(t.Frame.ChartBorder.Left=e.Border.Left),Ee.IsNumber(e.Border.Right)&&(t.Frame.ChartBorder.Right=e.Border.Right),Ee.IsNumber(e.Border.Top)&&(t.Frame.ChartBorder.Top=e.Border.Top),Ee.IsNumber(e.Border.Bottom)&&(t.Frame.ChartBorder.Bottom=e.Border.Bottom);var i=c();t.Frame.ChartBorder.Left*=i,t.Frame.ChartBorder.Right*=i,t.Frame.ChartBorder.Top*=i,t.Frame.ChartBorder.Bottom*=i}},this.ChangeSymbol=function(t,e){this.JSChartContainer&&this.JSChartContainer.ChangeSymbol(t,e)},this.SetColumn=function(t,e){this.JSChartContainer&&this.JSChartContainer.SetColumn(t,e)},this.EnableFilter=function(t,e){this.JSChartContainer&&this.JSChartContainer.EnableFilter(t,e)},this.AddEventCallback=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddEventCallback&&(Nn.Chart.Log("[JSDealChart:AddEventCallback] obj=",t),this.JSChartContainer.AddEventCallback(t))},this.ReloadResource=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ReloadResource&&(Nn.Chart.Log("[JSDealChart:ReloadResource] "),this.JSChartContainer.ReloadResource(t))}}function Xr(t){this.ClassName="JSDealChartContainer",this.Frame,this.ChartPaint=[],this.ChartSplashPaint=null,this.LoadDataSplashTitle="数据加载中",this.Canvas=t.getContext("2d"),this.ShowCanvas=null,this.Symbol,this.Name,this.TradeDate,this.NetworkFilter,this.Data={DataOffset:0,Data:[]},this.SourceData={DataOffset:0,Data:[]},this.IsShowLastPage=!0,this.mapEvent=new Mn.default,this.AutoUpdateTimer=null,this.AutoUpdateFrequency=15e3,this.LoadDataSplashTitle="数据加载中",this.UIElement=t,this.LastPoint=new b,this.IsDestroy=!1,this.ChartDestory=function(){this.IsDestroy=!0,this.StopAutoUpdate()},this.EnableFilterData=!1,this.FilterData=function(t){if(!this.EnableFilterData)return t;var e=this.GetEventCallback(Rn.ON_FILTER_DEAL_DATA);if(!e||!e.Callback)return t;var i={Data:t,Result:[]};return e.Callback(e,i,this),i.Result},this.EnableFilter=function(t,e){this.EnableFilterData=t,this.Data.Data=this.FilterData(this.SourceData.Data),this.Data.DataOffset=0,e&&(1==e.GotoLastPage&&this.GotoLastPage(),1==e.Redraw&&this.Draw())},this.CloneArray=function(t){var e=[];if(!Ee.IsNonEmptyArray(t))return e;for(var i=0;i<t.length;++i)e.push(t[i]);return e},this.Create=function(t){var e=this;this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.Frame=new Wr,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame;var i=new Ur;i.Frame=this.Frame,i.ChartBorder=this.Frame.ChartBorder,i.Canvas=this.Canvas,i.GetEventCallback=function(t){return e.GetEventCallback(t)},this.ChartPaint[0]=i,t&&(Ee.IsBool(t.IsSingleTable)&&(i.IsSingleTable=t.IsSingleTable),Ee.IsBool(t.IsShowHeader)&&(i.IsShowHeader=t.IsShowHeader),Ee.IsBool(t.IsShowLastPage)&&(this.IsShowLastPage=t.IsShowLastPage),Ee.IsNumber(t.BorderLine)&&(this.Frame.BorderLine=t.BorderLine));var a=!0,r=!0;t&&(!1===t.KeyDown&&(a=!1,Nn.Chart.Log("[JSDealChartContainer::Create] not register keydown event.")),!1===t.Wheel&&(r=!1,Nn.Chart.Log("[JSDealChartContainer::Create] not register wheel event."))),a&&this.UIElement.addEventListener("keydown",function(t){e.OnKeyDown(t)},!0),r&&this.UIElement.addEventListener("wheel",function(t){e.OnWheel(t)},!0)},this.Draw=function(){if(!(this.UIElement.width<=0||this.UIElement.height<=0)){this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height);var t=c();if(this.Canvas.lineWidth=t,this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return this.Frame.Draw({IsEnableSplash:this.ChartSplashPaint.IsEnableSplash}),void this.ChartSplashPaint.Draw();this.Frame.Draw(),this.Frame.DrawLogo();for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.IsDrawFirst&&i.Draw()}for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.IsDrawFirst||i.Draw()}}},this.ChangeSymbol=function(t,e){this.Symbol=t,this.Data=null,this.SourceData=null;var i=this.ChartPaint[0];if(i&&(i.Data=null),e&&Ee.IsNumber(e.TradeDate)&&(this.TradeDate=e.TradeDate),!this.Symbol)return void this.Draw();this.RequestDealData()},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=null)},this.AutoUpdateEvent=function(t,e){var i=t?Rn.RECV_START_AUTOUPDATE:Rn.RECV_STOP_AUTOUPDATE;if(this.mapEvent.has(i)){var a=this,r=this.mapEvent.get(i),n={Stock:{Symbol:this.Symbol,Name:this.Name,DayCount:this.DayCount},Explain:e};t&&(n.Callback=function(t){a.RecvDealUpdateData(t)}),r.Callback(r,n,this)}},this.RequestDealData=function(){this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.EnableSplash(!0),this.Draw();var t=this;if(this.NetworkFilter){var e={Name:"JSDealChartContainer::RequestDealData",Explain:"成交明细",Request:{Data:{symbol:t.Symbol,tradeDate:t.TradeDate}},Self:this,PreventDefault:!1};if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvDealData(e),t.AutoUpdateEvent(!0,"JSDealChartContainer::RequestDealData"),t.AutoUpdate()}),1==e.PreventDefault)return}var i=lo.CacheDomain+"/cache/dealday/today/"+this.Symbol+".json";n.HttpRequest({url:i,type:"get",dataType:"json",async:!0,success:function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvDealData(e),t.AutoUpdate(1)},error:function(e,i){t.ChartSplashPaint.EnableSplash(!1),t.AutoUpdate()}})},this.RecvDealData=function(t){var e=Xr.JsonDataToDealData(t);this.SourceData={DataOffset:0,Data:e},this.Data={DataOffset:0,Data:this.FilterData(this.CloneArray(e))},this.Symbol=t.symbol,this.Name=t.name;var i=this.ChartPaint[0];if(i.Data=this.Data,i.Symbol=this.Symbol,i.YClose=t.yclose,i.Open=t.open,this.IsShowLastPage){var a=i.GetPageSize(!0),r=e.length-a;r<0&&(r=0),this.Data.DataOffset=r}this.Draw()},this.RequestDealUpdateData=function(){var t=this;if(this.NetworkFilter){var e={Name:"JSDealChartContainer::RequestDealUpdateData",Explain:"增量成交明细",Request:{Data:{symbol:t.Symbol}},Self:this,PreventDefault:!1};if(this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){var i=this.Data.Data[this.Data.Data.length-1];e.LastItem=i}if(this.NetworkFilter(e,function(e){t.RecvDealUpdateData(e),t.AutoUpdate()}),1==e.PreventDefault)return}},this.RecvDealUpdateData=function(t){var e=Xr.JsonDataToDealData(t);Ee.IsNonEmptyArray(e)&&(1===t.UpdateType?(this.SourceData.Data=e,this.Data.Data=this.FilterData(this.CloneArray(e)),this.Data.DataOffset>=this.Data.Data.length&&(this.Data.DataOffset=0)):(this.AddDealData(this.SourceData,e),this.AddDealData(this.Data,this.FilterData(e))),this.Draw())},this.AddDealData=function(t,e){if(t.Data){var i=0,a=this.ChartPaint[0];a&&(i=a.GetPageSize());for(var r=0;r<e.length;++r)t.Data.push(e[r]),t.DataOffset+i<t.Data.length&&++t.DataOffset}else t.Data=e},this.AutoUpdate=function(t){if(this.CancelAutoUpdate(),this.IsAutoUpdate&&this.Symbol){var e=this,i=po.GetMarketStatus(this.Symbol);if(0!=i&&3!=i){var a=this.AutoUpdateFrequency;1==i?this.AutoUpdateTimer=setTimeout(function(){e.AutoUpdate()},a):2==i&&(this.AutoUpdateTimer=setTimeout(function(){e.RequestDealUpdateData()},a))}}},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"JSDealChartContainer::StopAutoUpdate"),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.AddEventCallback=function(t){if(t&&t.event&&t.callback){var e={Callback:t.callback,Source:t};this.mapEvent.set(t.event,e)}},this.RemoveEventCallback=function(t){this.mapEvent.has(t)&&this.mapEvent.delete(t)},this.GetEventCallback=function(t){return this.mapEvent.has(t)?this.mapEvent.get(t):null},this.OnSize=function(){if(this.Frame){this.SetSizeChange(!0);var t=this.ChartPaint[0];if(t&&this.Data&&this.Data.DataOffset>0&&Ee.IsNonEmptyArray(this.Data.Data)){t.GetPageSize(!0)+this.Data.DataOffset>=this.Data.Data.length&&this.GotoLastPage()}this.Draw()}},this.SetSizeChange=function(t){var e=this.ChartPaint[0];e&&(e.SizeChange=t)},this.OnWheel=function(t){if(Nn.Chart.Log("[JSDealChartContainer::OnWheel]",t),(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash)&&this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){var e=t.clientX-this.UIElement.getBoundingClientRect().left,i=t.clientY-this.UIElement.getBoundingClientRect().top;if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(e,i)){if(this.ChartPaint[0]){var a=t.wheelDelta;Ee.IsObjectExist(t.wheelDelta)||(a=-.01*t.deltaY),a<0?this.GotoNextPage()&&this.Draw():a>0&&this.GotoPreviousPage()&&this.Draw(),t.preventDefault?t.preventDefault():t.returnValue=!1}}}},this.OnKeyDown=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){switch(t.keyCode?t.keyCode:t.which){case 38:this.GotoPreviousPage()&&this.Draw();break;case 40:this.GotoNextPage()&&this.Draw()}t.preventDefault?t.preventDefault():t.returnValue=!1}},this.GotoNextPage=function(){if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;var t=this.ChartPaint[0];if(!t)return!1;var e=t.GetPageSize();if(e>this.Data.Data.length)return!1;var i=this.Data.DataOffset+e;return i+e!=this.Data.Data.length-1&&(i+e>this.Data.Data.length?this.Data.DataOffset=this.Data.Data.length-e:this.Data.DataOffset=i,!0)},this.GotoPreviousPage=function(){if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;var t=this.ChartPaint[0];if(!t)return!1;if(this.Data.DataOffset<=0)return!1;var e=t.GetPageSize(),i=this.Data.DataOffset;return i-=e,i<0&&(i=0),this.Data.DataOffset=i,!0},this.GotoLastPage=function(){var t=this.ChartPaint[0];if(t){var e=t.GetPageSize(!0),i=this.Data.Data.length-e;i<0&&(i=0),this.Data.DataOffset=i}},this.SetColumn=function(t,e){var i=this.ChartPaint[0];i&&(i.SetColumn(t),i.SizeChange=!0,e&&e.Redraw&&this.Draw())},this.ReloadResource=function(t){this.Frame.ReloadResource(t);for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.ReloadResource&&i.ReloadResource(t)}t&&t.Redraw&&(this.SetSizeChange(!0),this.Draw())}}function Wr(){this.ChartBorder,this.Canvas,this.BorderColor=lo.DealList.BorderColor,this.LogoTextColor=lo.FrameLogo.TextColor,this.LogoTextFont=lo.FrameLogo.Font,this.ReloadResource=function(t){this.BorderColor=lo.DealList.BorderColor,this.LogoTextColor=lo.FrameLogo.TextColor,this.LogoTextFont=lo.FrameLogo.Font},this.Draw=function(t){var e=v(this.ChartBorder.GetLeft()),i=v(this.ChartBorder.GetTop()),a=v(this.ChartBorder.GetRight()),r=v(this.ChartBorder.GetBottom()),n=a-e,o=r-i;Ee.IsNumber(this.BorderLine)?(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),(1&this.BorderLine)>0&&(this.Canvas.moveTo(e,i),this.Canvas.lineTo(a,i)),(2&this.BorderLine)>0&&(this.Canvas.moveTo(e,r),this.Canvas.lineTo(a,r)),(4&this.BorderLine)>0&&(this.Canvas.moveTo(e,i),this.Canvas.lineTo(e,r)),(8&this.BorderLine)>0&&(this.Canvas.moveTo(a,i),this.Canvas.lineTo(a,r)),this.Canvas.stroke()):(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(e,i,n,o))},this.DrawLogo=function(){var t=lo.FrameLogo.Text;if(Ee.IsString(t)){this.Canvas.fillStyle=this.LogoTextColor,this.Canvas.font=this.LogoTextFont,this.Canvas.textAlign="left",this.Canvas.textBaseline="bottom";var e=this.ChartBorder.GetLeft()+5,i=this.ChartBorder.GetBottom()-5;this.Canvas.fillText(t,e,i)}}}function Ur(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="ChartDealList",this.IsDrawFirst=!1,this.GetEventCallback,this.Data,this.Symbol,this.YClose,this.Open,this.Decimal=2,this.IsSingleTable=!1,this.IsShowHeader=!0,this.SizeChange=!0,this.UpColor=lo.DealList.UpTextColor,this.DownColor=lo.DealList.DownTextColor,this.UnchagneColor=lo.DealList.UnchagneTextColor,this.BorderColor=lo.DealList.BorderColor,this.HeaderFontConfig={Size:lo.DealList.Header.Font.Size,Name:lo.DealList.Header.Font.Name},this.HeaderColor=lo.DealList.Header.Color,this.HeaderMergin={Left:lo.DealList.Header.Mergin.Left,Right:lo.DealList.Header.Mergin.Right,Top:lo.DealList.Header.Mergin.Top,Bottom:lo.DealList.Header.Mergin.Bottom},this.ItemFontConfig={Size:lo.DealList.Row.Font.Size,Name:lo.DealList.Row.Font.Name},this.RowMergin={Top:lo.DealList.Row.Mergin.Top,Bottom:lo.DealList.Row.Mergin.Bottom},this.BarMergin={Top:lo.DealList.Row.BarMergin.Top,Left:lo.DealList.Row.BarMergin.Left,Right:lo.DealList.Row.BarMergin.Right,Bottom:lo.DealList.Row.BarMergin.Bottom},this.HeaderFont=12*c()+"px 微软雅黑",this.ItemFont=15*c()+"px 微软雅黑",this.RowCount=0,this.TableWidth=0,this.TableCount=0,this.HeaderHeight=0,this.Column=[{Type:ko.TIME_ID,Title:"时间",TextAlign:"center",Width:null,TextColor:lo.DealList.FieldColor.Time,MaxText:"88:88:88",Foramt:"HH:MM:SS"},{Type:ko.PRICE_ID,Title:"价格",TextAlign:"center",Width:null,MaxText:"888888.88"},{Type:ko.VOL_ID,Title:"成交",TextAlign:"right",Width:null,TextColor:lo.DealList.FieldColor.Vol,MaxText:"888888"},{Type:ko.BS_ID,Title:"",TextAlign:"right",Width:null,MaxText:"擎"}],this.RectClient={},this.ReloadResource=function(t){this.UpColor=lo.DealList.UpTextColor,this.DownColor=lo.DealList.DownTextColor,this.UnchagneColor=lo.DealList.UnchagneTextColor,this.BorderColor=lo.DealList.BorderColor,this.HeaderFontConfig={Size:lo.DealList.Header.Font.Size,Name:lo.DealList.Header.Font.Name},this.HeaderColor=lo.DealList.Header.Color,this.HeaderMergin={Left:lo.DealList.Header.Mergin.Left,Right:lo.DealList.Header.Mergin.Right,Top:lo.DealList.Header.Mergin.Top,Bottom:lo.DealList.Header.Mergin.Bottom},this.ItemFontConfig={Size:lo.DealList.Row.Font.Size,Name:lo.DealList.Row.Font.Name},this.RowMergin={Top:lo.DealList.Row.Mergin.Top,Bottom:lo.DealList.Row.Mergin.Bottom};for(var e=0;e<this.Column.length;++e){var i=this.Column[e];i.Type==ko.TIME_ID||i.Type==ko.STRING_TIME_ID?i.TextColor=lo.DealList.FieldColor.Time:i.Type==ko.VOL_ID?i.TextColor=lo.DealList.FieldColor.Vol:i.Type==ko.DEAL_ID?i.TextColor=lo.DealList.FieldColor.Deal:i.Type==ko.INDEX_ID&&(i.TextColor=lo.DealList.FieldColor.Index)}},this.SetColumn=function(t){if(Ee.IsNonEmptyArray(t)){this.Column=[];for(var e=0;e<t.length;++e){var i=t[e],a=this.GetDefaultColunm(i.Type);if(a){if(i.Title&&(a.Title=i.Title),i.TextAlign&&(a.TextAlign=i.TextAlign),i.TextColor&&(a.TextColor=i.TextColor),i.MaxText&&(a.MaxText=i.MaxText),i.Type==ko.MULTI_BAR_ID||i.Type==ko.CENTER_BAR_ID){if(!Ee.IsNumber(i.DataIndex))continue;a.DataIndex=i.DataIndex}this.Column.push(a)}}}},this.GetDefaultColunm=function(t){for(var e=[{Type:ko.TIME_ID,Title:"时间",TextAlign:"center",Width:null,TextColor:lo.DealList.FieldColor.Time,MaxText:"88:88:88",Foramt:"HH:MM:SS"},{Type:ko.PRICE_ID,Title:"价格",TextAlign:"center",Width:null,MaxText:"888888.88"},{Type:ko.VOL_ID,Title:"成交",TextAlign:"right",Width:null,TextColor:lo.DealList.FieldColor.Vol,MaxText:"888888"},{Type:ko.BS_ID,Title:"",TextAlign:"right",Width:null,MaxText:"擎"},{Type:ko.DEAL_ID,Title:"笔数",TextAlign:"right",Width:null,TextColor:lo.DealList.FieldColor.Deal,MaxText:"8888"},{Type:ko.UPDOWN_ID,Title:"涨跌",TextAlign:"right",Width:null,MaxText:"-8888.88"},{Type:ko.STRING_TIME_ID,Title:"时间",TextAlign:"center",Width:null,TextColor:lo.DealList.FieldColor.Time,MaxText:"88:88:88"},{Type:ko.INDEX_ID,Title:"序号",TextAlign:"center",Width:null,TextColor:lo.DealList.FieldColor.Index,MaxText:"88888"},{Type:ko.MULTI_BAR_ID,Title:"柱子",TextAlign:"center",Width:null,TextColor:lo.DealList.FieldColor.BarTitle,MaxText:"888888"},{Type:ko.CENTER_BAR_ID,Title:"柱子2",TextAlign:"center",Width:null,TextColor:lo.DealList.FieldColor.BarTitle,MaxText:"888888"},{Type:ko.CUSTOM_TEXT_ID,Title:"自定义",TextAlign:"center",Width:null,TextColor:lo.DealList.FieldColor.Text,MaxText:"擎擎擎擎擎"}],i=0;i<e.length;++i){var a=e[i];if(a.Type==t)return a}return null},this.Draw=function(){this.SizeChange?this.CalculateSize():this.UpdateCacheData(),this.DrawBorder(),this.DrawHeader(),this.DrawBody(),this.SizeChange=!1},this.UpdateCacheData=function(){this.RectClient.Left=this.ChartBorder.GetLeft(),this.RectClient.Right=this.ChartBorder.GetRight(),this.RectClient.Top=this.ChartBorder.GetTop(),this.RectClient.Bottom=this.ChartBorder.GetBottom(),this.Decimal=pr(this.Symbol)},this.GetPageSize=function(t){return t&&this.CalculateSize(),this.TableCount*this.RowCount},this.CalculateSize=function(){this.UpdateCacheData();var t=c();this.HeaderFont=this.HeaderFontConfig.Size*t+"px "+this.HeaderFontConfig.Name,this.ItemFont=this.ItemFontConfig.Size*t+"px "+this.ItemFontConfig.Name,this.Canvas.font=this.ItemFont;for(var e=0,i=0,a=0;a<this.Column.length;++a){var r=this.Column[a];i=this.Canvas.measureText(r.MaxText).width,r.Width=i+4,e+=r.Width}var n=this.RectClient.Right-this.RectClient.Left;this.TableCount=parseInt(n/e),this.IsSingleTable&&(this.TableCount=1),this.TableWidth=n/this.TableCount,this.HeaderHeight=this.GetFontHeight(this.HeaderFont,"擎")+this.HeaderMergin.Top+this.HeaderMergin.Bottom,this.IsShowHeader||(this.HeaderHeight=0),this.RowHeight=this.GetFontHeight(this.ItemFont,"擎")+this.HeaderMergin.Top+this.HeaderMergin.Bottom,this.RowCount=parseInt((this.RectClient.Bottom-this.RectClient.Top-this.HeaderHeight)/this.RowHeight)},this.DrawHeader=function(){if(this.IsShowHeader){var t=this.RectClient.Left+this.HeaderMergin.Left,e=this.RectClient.Top,i=e+this.HeaderMergin.Top+(this.HeaderHeight-this.HeaderMergin.Top-this.HeaderMergin.Bottom)/2;this.Canvas.font=this.HeaderFont,this.Canvas.fillStyle=this.HeaderColor;for(var a=0,r=0;a<this.TableCount;++a){var n=t+this.TableWidth*a,o=n;for(r=0;r<this.Column.length;++r){var s=this.Column[r],l=s.Width;r==this.Column.length-1&&(l=this.TableWidth-(o-n)-this.HeaderMergin.Right-this.HeaderMergin.Left);var h=o;"center"==s.TextAlign?(h=o+l/2,this.Canvas.textAlign="center"):"right"==s.TextAlign?(h=o+l,this.Canvas.textAlign="right"):this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(s.Title,h,i),o+=s.Width}}}},this.DrawBorder=function(){var t=v(this.RectClient.Left),e=v(this.RectClient.Right),i=v(this.RectClient.Top),a=v(this.RectClient.Bottom);this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),this.IsShowHeader&&(this.Canvas.moveTo(t,i+this.HeaderHeight),this.Canvas.lineTo(e,i+this.HeaderHeight));for(var r=v(t+this.TableWidth),n=1;n<this.TableCount;++n)this.Canvas.moveTo(r,i),this.Canvas.lineTo(r,a),r=v(r+this.TableWidth);this.Canvas.stroke()},this.DrawBody=function(){if(this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){this.Canvas.font=this.ItemFont;for(var t=this.RectClient.Top+this.HeaderHeight,e=this.RectClient.Left+this.HeaderMergin.Left,i=this.Data.Data.length,a=this.Data.DataOffset,r=0,n=0;r<this.TableCount;++r){var o=e+this.TableWidth*r,s=o,l=t;for(n=0;n<this.RowCount&&a<i;++n,++a){var h=this.Data.Data[a];this.DrawRow(h,s,l,a),l+=this.RowHeight}}}},this.DrawRow=function(t,e,i,a,r){for(var n=e,o=e+this.TableWidth,s=0;s<this.Column.length;++s){var l=this.Column[s],h=l.TextColor,u=null,c=l.Width,d=l.TextAlign;if(e+c>o)break;if(s==this.Column.length-1&&(c=this.TableWidth-(e-n)-this.HeaderMergin.Right-this.HeaderMergin.Left),l.Type==ko.TIME_ID)u=Ee.FormatTimeString(t.Time,l.Foramt);else if(l.Type==ko.STRING_TIME_ID)u=t.StrTime;else if(l.Type==ko.PRICE_ID)h=t.Price>this.YClose?this.UpColor:t.Price<this.YClose?this.DownColor:this.UnchagneColor,u=t.Price.toFixed(this.Decimal);else if(l.Type==ko.VOL_ID)u=Ee.FormatValueString(t.Vol,0),h=this.GetVolColor(l,t);else if(l.Type==ko.DEAL_ID)u=Ee.FormatValueString(t.Deal,0);else if(l.Type==ko.BS_ID)1==t.BS?(u="B",h=this.UpColor):2==t.BS&&(u="S",h=this.DownColor);else if(l.Type==ko.UPDOWN_ID){if(Ee.IsNumber(this.YClose)){var f=t.Price-this.YClose;u=f.toFixed(2),h=f>0?this.UpColor:f<0?this.DownColor:this.UnchagneColor}}else if(l.Type==ko.INDEX_ID)u=(a+1).toString();else if(l.Type==ko.MULTI_BAR_ID){var p={Left:e,Top:i,Width:c,Height:this.RowHeight};this.DrawMultiBar(l,t,p)}else if(l.Type==ko.CENTER_BAR_ID){var p={Left:e,Top:i,Width:c,Height:this.RowHeight};this.DrawCenterBar(l,t,p)}else if(l.Type==ko.CUSTOM_TEXT_ID){var m={Text:null,TextColor:null,TextAlign:null},p={Left:e,Top:i,Width:c,Height:this.RowHeight};this.DrawCustomText(l,t,p,a,s,m)&&(m.Text&&(u=m.Text),m.TextColor&&(h=m.TextColor),m.TextAlign&&(d=m.TextAlign))}this.DrawItemText(u,h,d,e,i,c),e+=l.Width}},this.DrawItemText=function(t,e,i,a,r,n){var o=a;"center"==i?(o=a+n/2,this.Canvas.textAlign="center"):"right"==i?(o=a+n,this.Canvas.textAlign="right"):this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillStyle=e,t&&this.Canvas.fillText(t,o,r+this.RowHeight/2)},this.DrawMultiBar=function(t,e,i){if(!e.Source||!Ee.IsNonEmptyArray(e.Source))return!1;var a=e.Source[t.DataIndex];if(!a)return!1;if(!Ee.IsNonEmptyArray(a.Value))return!1;for(var r=i.Width-this.BarMergin.Left-this.BarMergin.Right,n=i.Left+this.BarMergin.Left,o=i.Top+this.RowMergin.Top+this.BarMergin.Top,s=i.Height-this.RowMergin.Top-this.RowMergin.Bottom-this.BarMergin.Top-this.BarMergin.Bottom,l=n+r,h=0;h<a.Value.length;++h){var u=a.Value[h];if(!(u<=0)){if(n>=l)break;var c=r*u;c<1&&(c=1),n+c>l&&(c=l-n);var d=h;Ee.IsNonEmptyArray(a.Color)&&h<a.Color.length&&(d=a.Color[h]),this.Canvas.fillStyle=lo.DealList.FieldColor.Bar[d],this.Canvas.fillRect(n,o,c,s),n+=c}}return!0},this.DrawCenterBar=function(t,e,i){if(!e.Source||!Ee.IsNonEmptyArray(e.Source))return!1;var a=e.Source[t.DataIndex];if(!a)return!1;if(!Ee.IsNonEmptyArray(a.Value))return!1;for(var r=(i.Width-this.BarMergin.Left-this.BarMergin.Right)/2,n=i.Left+this.BarMergin.Left,o=n+r,s=i.Top+this.RowMergin.Top+this.BarMergin.Top,l=i.Height-this.RowMergin.Top-this.RowMergin.Bottom-this.BarMergin.Top-this.BarMergin.Bottom,h=0;h<a.Value.length&&h<2;++h){var u=a.Value[h];if(!(u<=0)){u>1&&(u=1);var c=r*u;c<1&&(c=1);var d=h;Ee.IsNonEmptyArray(a.Color)&&h<a.Color.length&&(d=a.Color[h]),this.Canvas.fillStyle=lo.DealList.FieldColor.Bar[d],0==h?this.Canvas.fillRect(o,s,-c,l):this.Canvas.fillRect(o,s,c,l)}}},this.DrawCustomText=function(t,e,i,a,r,n){var o=this.GetEventCallback(Rn.ON_DRAW_DEAL_TEXT);if(!o||!o.Callback)return!1;var s={Data:e,DataIndex:a,ColumnIndex:r,ColumnInfo:t,Out:{Text:null,TextColor:null,TextAlign:null}};return o.Callback(o,s,this),!!s.Out.Text&&(n.Text=s.Out.Text,s.Out.TextColor&&(n.TextColor=s.Out.TextColor),s.Out.TextAlign&&(n.TextAlign=s.Out.TextAlign),!0)},this.GetVolColor=function(t,e){var i=this.GetEventCallback(Rn.ON_DRAW_DEAL_VOL_COLOR);if(i&&i.Callback){var a={Data:e,TextColor:null};if(i.Callback(i,a,this),a.TextColor)return a.TextColor}return t.TextColor},this.GetFontHeight=function(t,e){return d(this.Canvas,t,e)}}function zr(t){this.DivElement=t,this.JSChartContainer,this.CanvasElement=document.createElement("canvas"),this.CanvasElement.className="jsreportlist-drawing",this.CanvasElement.id=m(),this.CanvasElement.setAttribute("tabindex",0),this.CanvasElement.style&&(this.CanvasElement.style.outline="none"),t.hasChildNodes()&&Nn.Chart.Log("[JSReportChart::JSReportChart] divElement hasChildNodes",t.childNodes),t.appendChild(this.CanvasElement),this.OnSize=function(){var t=parseInt(this.DivElement.style.height.replace("px",""));this.CanvasElement.height=t,this.CanvasElement.width=parseInt(this.DivElement.style.width.replace("px","")),this.CanvasElement.style.width=this.CanvasElement.width+"px",this.CanvasElement.style.height=this.CanvasElement.height+"px";var e=c();this.CanvasElement.height*=e,this.CanvasElement.width*=e,Nn.Chart.Log("[JSReportChart::OnSize] devicePixelRatio="+window.devicePixelRatio+", height="+this.CanvasElement.height+", width="+this.CanvasElement.width),this.JSChartContainer&&this.JSChartContainer.OnSize&&this.JSChartContainer.OnSize()},this.SetOption=function(t){var e=this.CreateJSReportChartContainer(t);if(!e)return!1;t.OnCreatedCallback&&t.OnCreatedCallback(e),this.JSChartContainer=e,this.DivElement.JSChart=this,t.Symbol&&(e.Symbol=t.Symbol),t.Name&&(e.Name=t.Name);var i={Callback:null};e.Symbol&&(i.Callback=function(){e.RequestMemberListData()}),e.RequestStockListData(i)},this.CreateJSReportChartContainer=function(t){var e=new $r(this.CanvasElement);if(e.Create(t),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),Ee.IsNonEmptyArray(t.Column)&&e.SetColumn(t.Column),Ee.IsNonEmptyArray(t.Tab)&&e.SetTab(t.Tab),Ee.IsNumber(t.TabSelected)&&e.SetSelectedTab(t.TabSelected),Ee.IsBool(t.EnableDragRow)&&(e.EnableDragRow=t.EnableDragRow),Ee.IsNumber(t.DragRowType)&&(e.DragRowType=t.DragRowType),Ee.IsBool(t.EnableDragHeader)&&(e.EnableDragHeader=t.EnableDragHeader),t.SortInfo){var i=t.SortInfo;Ee.IsNumber(i.Field)&&(e.SortInfo.Field=i.Field),Ee.IsNumber(i.Sort)&&(e.SortInfo.Sort=i.Sort)}if(this.SetChartBorder(e,t),null!=t.IsAutoUpdate&&(e.IsAutoUpdate=t.IsAutoUpdate),t.AutoUpdateFrequency>0&&(e.AutoUpdateFrequency=t.AutoUpdateFrequency),Ee.IsBool(t.EnableFilter)&&(e.EnableFilter=t.EnableFilter),t.EventCallback)for(var a=0;a<t.EventCallback.length;++a){var i=t.EventCallback[a];e.AddEventCallback(i)}return e},this.SetChartBorder=function(t,e){if(e.Border){e.Border;Ee.IsNumber(e.Border.Left)&&(t.Frame.ChartBorder.Left=e.Border.Left),Ee.IsNumber(e.Border.Right)&&(t.Frame.ChartBorder.Right=e.Border.Right),Ee.IsNumber(e.Border.Top)&&(t.Frame.ChartBorder.Top=e.Border.Top),Ee.IsNumber(e.Border.Bottom)&&(t.Frame.ChartBorder.Bottom=e.Border.Bottom);var i=c();t.Frame.ChartBorder.Left*=i,t.Frame.ChartBorder.Right*=i,t.Frame.ChartBorder.Top*=i,t.Frame.ChartBorder.Bottom*=i}},this.ChangeSymbol=function(t,e){this.JSChartContainer&&this.JSChartContainer.ChangeSymbol(t,e)},this.SetColumn=function(t,e){this.JSChartContainer&&this.JSChartContainer.SetColumn(t,e)},this.EnableFilter=function(t,e){this.JSChartContainer&&this.JSChartContainer.EnableFilter(t,e)},this.AddEventCallback=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddEventCallback&&(Nn.Chart.Log("[JSReportChart:AddEventCallback] obj=",t),this.JSChartContainer.AddEventCallback(t))},this.ReloadResource=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ReloadResource&&(Nn.Chart.Log("[JSReportChart:ReloadResource] "),this.JSChartContainer.ReloadResource(t))},this.ChartDestory=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChartDestory&&this.JSChartContainer.ChartDestory()},this.Draw=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.Draw&&(Nn.Chart.Log("[JSReportChart:Draw] "),this.JSChartContainer.Draw())}}function Kr(){this.OriginalSymbol,this.Symbol,this.Name,this.YClose,this.Open,this.Price,this.High,this.Low,this.Amount,this.Vol,this.Increase,this.UpDown,this.Exchange,this.Amplitude,this.BuyPrice,this.BuyVol,this.SellPrice,this.SellVol,this.AvPrice,this.LimitHigh,this.LimitLow,this.VolIn,this.VolOut,this.DealNum,this.OutShares,this.TotalShares,this.MarketValue,this.CircMarketValue,this.CloseLine,this.ExtendData}function $r(t){this.ClassName="JSReportChartContainer",this.Frame,this.ChartPaint=[],this.ChartSplashPaint=null,this.LoadDataSplashTitle="数据加载中",this.SplashTitle={StockList:"下载码表中.....",MemberList:"下载成分中....."},this.Canvas=t.getContext("2d"),this.Tooltip=document.createElement("div"),this.Tooltip.className="jsreport-tooltip",this.Tooltip.style.background=lo.TooltipBGColor,this.Tooltip.style.opacity=lo.TooltipAlpha,this.Tooltip.style["pointer-events"]="none",this.Tooltip.id=m(),t.parentNode.appendChild(this.Tooltip),this.Symbol,this.Name,this.NetworkFilter,this.Data={XOffset:0,YOffset:0,Data:[]},this.SourceData={Data:[]},this.BlockData=new Mn.default,this.MapStockData=new Mn.default,this.FixedRowData={Data:[],Type:0,Symbol:[]},this.FlashBG=new Mn.default,this.FlashBGTimer=null,this.GlobalOption={FlashBGCount:0},this.SortInfo={Field:-1,Sort:0},this.DragRow,this.DragColumnWidth,this.EnableDragRow=!1,this.DragRowType=0,this.AutoDragScrollTimer=null,this.EnablePageScroll=!1,this.DragMove,this.DragHeader,this.EnableDragHeader=!1,this.mapEvent=new Mn.default,this.AutoUpdateTimer=null,this.AutoUpdateFrequency=15e3,this.DelayUpdateTimer=null,this.DelayUpdateFrequency=500,this.UIElement=t,this.LastPoint=new b,this.IsOnTouch=!1,this.TouchDrag,this.TouchMoveMinAngle=70,this.YStepPixel=5*c(),this.XStepPixel=10*c(),this.PageUpDownCycle=!0,this.DragPageCycle=!0,this.DragXScroll=null,this.IsDestroy=!1,this.ChartDestory=function(){this.IsDestroy=!0,this.StopAutoUpdate()},this.StopAutoDragScrollTimer=function(){Nn.Chart.Log("[JSReportChartContainer::StopAutoDragScrollTimer] stop "),this.EnablePageScroll=!1,null!=this.AutoDragScrollTimer&&(clearTimeout(this.AutoDragScrollTimer),this.AutoDragScrollTimer=null)},this.AutoScrollPage=function(t){var e=this;this.AutoDragScrollTimer=setTimeout(function(){e.ChartOperator_Temp_ScrollPage(t)},300)},this.ChartOperator_Temp_ScrollPage=function(t){if(this.EnablePageScroll){var e=this.GetReportChart();if(e){if(t>0){if(e.GetCurrentPageStatus().IsEnd)return;this.MoveYOffset(t,!1),++t}else{if(!(t<0))return;if(this.Data.YOffset<=0)return;this.MoveYOffset(t,!1),--t}this.Draw(),this.EnablePageScroll&&this.AutoScrollPage(t)}}},this.ClearFixedRowData=function(){this.FixedRowData.Data=[],this.FixedRowData.Symbol=[]},this.SetFixedRowCount=function(t){var e=this.GetReportChart();e&&(e.FixedRowCount=t)},this.Create=function(t){var e=this;this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.IsEnableSplash=!0,this.Frame=new jr,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame;var i=new Jr;if(i.Frame=this.Frame,i.ChartBorder=this.Frame.ChartBorder,i.Canvas=this.Canvas,i.UIElement=this.UIElement,i.GetEventCallback=function(t){return e.GetEventCallback(t)},i.GetStockDataCallback=function(t){return e.GetStockData(t)},i.GetBlockDataCallback=function(t){return e.GetBlockData(t)},i.GetFlashBGDataCallback=function(t,i){return e.GetFlashBGData(t,i)},i.Data=this.Data,i.GlobalOption=this.GlobalOption,i.FixedRowData=this.FixedRowData,i.SortInfo=this.SortInfo,i.Tab=new qr,i.Tab.Frame=this.Frame,i.Tab.Canvas=this.Canvas,i.Tab.ChartBorder=this.Frame.ChartBorder,i.Tab.Report=i,this.ChartPaint[0]=i,t&&!0===t.PageInfo){var a=new Zr;a.Frame=this.Frame,a.ChartBorder=this.Frame.ChartBorder,a.Canvas=this.Canvas,a.Report=i,this.ChartPaint[1]=a}if(t&&(Ee.IsBool(t.IsShowHeader)&&(i.IsShowHeader=t.IsShowHeader),Ee.IsNumber(t.FixedColumn)&&(i.FixedColumn=t.FixedColumn),Ee.IsNumber(t.BorderLine)&&(this.Frame.BorderLine=t.BorderLine),Ee.IsBool(t.TabShow)&&(i.Tab.IsShow=t.TabShow),Ee.IsNumber(t.FixedRowCount)&&(i.FixedRowCount=t.FixedRowCount),Ee.IsBool(t.ItemBorder)&&(i.IsDrawBorder=t.ItemBorder),Ee.IsNumber(t.SelectedModel)&&(i.SelectedModel=t.SelectedModel),Ee.IsNonEmptyArray(t.FixedSymbol))){i.FixedRowCount=0,this.FixedRowData.Type=1,this.FixedRowData.Symbol=[];for(var r=t.FixedSymbol,n=0;n<r.length;++n){var o=r[n];this.FixedRowData.Symbol.push(o.Symbol),++i.FixedRowCount}}var s=!0,l=!0;t&&(!1===t.KeyDown&&(s=!1,Nn.Chart.Log("[JSDealChartContainer::Create] not register keydown event.")),!1===t.Wheel&&(l=!1,Nn.Chart.Log("[JSDealChartContainer::Create] not register wheel event."))),s&&this.UIElement.addEventListener("keydown",function(t){e.OnKeyDown(t)},!0),l&&this.UIElement.addEventListener("wheel",function(t){e.OnWheel(t)},!0),this.UIElement.ondblclick=function(t){e.UIOnDblClick(t)},this.UIElement.onmousedown=function(t){e.UIOnMouseDown(t)},this.UIElement.onmouseup=function(t){e.UIOnMounseUp(t)},this.UIElement.oncontextmenu=function(t){e.UIOnContextMenu(t)},this.UIElement.onmousemove=function(t){e.UIOnMouseMove(t)},this.UIElement.onmouseout=function(t){e.UIOnMounseOut(t)},this.UIElement.onmouseleave=function(t){e.UIOnMouseleave(t)},this.UIElement.ontouchstart=function(t){e.OnTouchStart(t)},this.UIElement.ontouchmove=function(t){e.OnTouchMove(t)},this.UIElement.ontouchend=function(t){e.OnTouchEnd(t)}},this.Draw=function(){if(!(this.UIElement.width<=0||this.UIElement.height<=0)){this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height);var t=c();if(this.Canvas.lineWidth=t,this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return this.Frame.Draw({IsEnableSplash:this.ChartSplashPaint.IsEnableSplash}),void this.ChartSplashPaint.Draw();this.Frame.Draw(),this.Frame.DrawLogo();for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.IsDrawFirst&&i.Draw()}for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.IsDrawFirst||i.Draw()}this.GlobalOption.FlashBGCount>0&&this.DelayDraw(500)}},this.DelayDraw=function(t){var e=this;"number"==typeof this.FlashBGTimer&&(clearTimeout(this.FlashBGTimer),this.FlashBGTimer=null),this.FlashBGTimer=setTimeout(function(){e.Draw()},t)},this.ResetReportStatus=function(){this.Data.XOffset=0,this.Data.YOffset=0},this.ResetReportSelectStatus=function(){var t=this.GetReportChart();t&&(t.SelectedRow=-1,t.SelectedFixedRow=-1)},this.ClearData=function(){this.SourceData.Data=[],this.Data.Data=[],this.BlockData=new Mn.default},this.ResetSortStatus=function(){this.SortInfo.Field=-1,this.SortInfo.Sort=0},this.SetSymbolList=function(t,e){if(this.ClearData(),this.ResetReportStatus(),this.ResetSortStatus(),Ee.IsNonEmptyArray(t))for(var i=0;i<t.length;++i)this.Data.Data.push(t[i]);var a=this.ChartPaint[0];a&&(a.Data=this.Data),this.Draw()},this.ChangeSymbol=function(t,e){if(this.Symbol=t,this.ClearData(),this.ResetReportStatus(),this.ResetSortStatus(),this.ResetReportSelectStatus(),e){if(Ee.IsNumber(e.TabSelected)){var i=this.GetTabChart();i&&(i.SelectedTabIndex=e.TabSelected)}if(Array.isArray(e.FixedSymbol)){var a=this.GetReportChart();if(a){a.FixedRowCount=0,this.FixedRowData.Type=1,this.FixedRowData.Symbol=[];for(var r=e.FixedSymbol,n=0;n<r.length;++n){var o=r[n];this.FixedRowData.Symbol.push(o.Symbol),++a.FixedRowCount}this.SetSizeChange(!0)}}if(e.SortInfo){var o=e.SortInfo;Ee.IsNumber(o.Field)&&(this.SortInfo.Field=o.Field),Ee.IsNumber(o.Sort)&&(this.SortInfo.Sort=o.Sort)}}this.RequestMemberListData()},this.RequestMemberListData=function(){var t=this;if(this.NetworkFilter){var e={Name:"JSReportChartContainer::RequestMemberListData",Explain:"板块成分数据",Request:{Data:{symbol:this.Symbol}},Self:this,PreventDefault:!1};if(this.SortInfo.Field>=0&&this.SortInfo.Sort>0){var i=this.GetReportChart();if(i){var a=i.Column[this.SortInfo.Field];e.Sort={Column:a,Field:this.SortInfo.Field,Sort:this.SortInfo.Sort}}}if(this.NetworkFilter(e,function(e){t.ChartSplashPaint.EnableSplash(!1),t.RecvMemberListData(e)}),1==e.PreventDefault)return}throw{Name:"JSReportChartContainer::RequestMemberListData",Error:"(板块成分数据)不提供内置测试数据"}},this.RecvMemberListData=function(t){if(this.ClearData(),Ee.IsNonEmptyArray(t.data))for(var e=0;e<t.data.length;++e)this.Data.Data.push(t.data[e]),this.SourceData.Data.push(t.data[e]);this.Draw(),this.UpdateStockData()},this.AutoUpdateEvent=function(t,e){var i=t?Rn.RECV_START_AUTOUPDATE:Rn.RECV_STOP_AUTOUPDATE;if(this.mapEvent.has(i)){var a=this,r=this.mapEvent.get(i),n={Stock:{Symbol:this.Symbol,Name:this.Name,DayCount:this.DayCount},Explain:e};t&&(n.Callback=function(t){a.RecvDealUpdateData(t)}),r.Callback(r,n,this)}},this.RequestStockListData=function(t){this.ChartSplashPaint.SetTitle(this.SplashTitle.StockList),this.ChartSplashPaint.EnableSplash(!0),this.Draw();var e=this;if(this.NetworkFilter){var i={Name:"JSReportChartContainer::RequestStockListData",Explain:"码表数据",Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(i){e.ChartSplashPaint.EnableSplash(!1),e.RecvStockListData(i,t)}),1==i.PreventDefault)return}throw{Name:"JSReportChartContainer::RequestStockListData",Error:"(码表数据)不提供内置测试数据"}},this.RecvStockListData=function(t,e){if(Ee.IsNonEmptyArray(t.data))for(var i=0;i<t.data.length;++i){var a=t.data[i],r=a[0],n=null;this.MapStockData.has(r)?n=this.MapStockData.get(r):(n=new Kr,n.OriginalSymbol=r,this.MapStockData.set(r,n)),n.Symbol=this.GetSymbolNoSuffix(r),n.Name=a[1],this.ReadStockJsonData(n,a)}if(e&&e.Callback)return void e.Callback();this.Draw(),this.UpdateStockData()},this.UpdateMapStockData=function(t){if(t&&Ee.IsNonEmptyArray(t.data))for(var e=0;e<t.data.length;++e){var i=t.data[e],a=i[0],r=null;this.MapStockData.has(a)?r=this.MapStockData.get(a):(r=new Kr,r.OriginalSymbol=a,this.MapStockData.set(a,r)),r.Symbol=this.GetSymbolNoSuffix(a),r.Name=i[1],this.ReadStockJsonData(r,i)}},this.GetStockData=function(t){return this.MapStockData&&this.MapStockData.has(t)?this.MapStockData.get(t):null},this.GetBlockData=function(t){return this.BlockData&&this.BlockData.has(t)?this.BlockData.get(t):null},this.SetFlashBGItem=function(t,e){var i={ID:e.ID,Color:e.Color,Count:1};if(Ee.IsNumber(e.Count)&&(i.Count=e.Count),Ee.IsNumber(e.Time)?i.Time=e.Time:i.Time=Date.now(),this.FlashBG.has(t)){var a=this.FlashBG.get(t);a.LastTime=i.Time,a.Data.set(i.ID,i)}else{var a={LastTime:i.Time,Data:new Mn.default([[i.ID,i]])};this.FlashBG.set(t,a)}},this.GetFlashBGData=function(t,e){if(!this.FlashBG)return null;if(!this.FlashBG.has(t))return null;var i=this.FlashBG.get(t);if(e-i.LastTime>=3e3)return this.FlashBG.delete(t),null;if(!i.Data||i.Data.size<=0)return this.FlashBG.delete(t),null;var a=[],r=!0,n=!1,o=void 0;try{for(var s,l=(0,Fn.default)(i.Data);!(r=(s=l.next()).done);r=!0){var h=s.value,u=h[1];(e-u.Time>=3e3||u.Count<=0)&&a.push(u.ID)}}catch(t){n=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw o}}if(Ee.IsNonEmptyArray(a)){for(var c=0;c<a.length;++c)i.Data.delete(a[c]);if(i.Data.size<=0)return this.FlashBG.delete(t),null}return i},this.DelayUpdateStockData=function(){var t=this;null!=this.DelayUpdateTimer&&(clearTimeout(this.DelayUpdateTimer),this.DelayUpdateTimer=null);var e=this.DelayUpdateFrequency;this.DelayUpdateTimer=setTimeout(function(){t.UpdateStockData()},e)},this.UpdateStockData=function(){if(Ee.IsNonEmptyArray(this.Data.Data)){var t=this.ChartPaint[0];if(t){if(this.SortInfo&&this.SortInfo.Field>=0&&this.SortInfo.Sort>0){var e=t.Column[this.SortInfo.Field];if(2==e.Sort)return void this.RequestStockSortData(e,this.SortInfo.Field,this.SortInfo.Sort)}var i=t.ShowSymbol;Ee.IsNonEmptyArray(i)&&this.RequestStockData(i)}}},this.RequestStockData=function(t){var e=this;if(this.NetworkFilter){var i={Name:"JSDealChartContainer::RequestStockData",Explain:"报价列表股票数据",Request:{Data:{stocks:t}},Self:this,PreventDefault:!1};if(this.NetworkFilter(i,function(t){e.RecvStockData(t),e.AutoUpdate()}),1==i.PreventDefault)return}throw{Name:"JSReportChartContainer::RequestStockData",Error:"(报价列表股票数据)不提供内置测试数据"}},this.RecvStockData=function(t){var e=new Tn.default;if(Ee.IsNonEmptyArray(t.data))for(var i=0;i<t.data.length;++i){var a=t.data[i],r=a[0];if(r){var n=null;this.MapStockData.has(r)?n=this.MapStockData.get(r):(n=new Kr,n.OriginalSymbol=r,n.Symbol=this.GetSymbolNoSuffix(r),this.MapStockData.set(r,n)),this.ReadStockJsonData(n,a),e.has(r)||e.add(r)}}var o=this.ChartPaint[0];if(o){for(var s=!1,l=o.ShowSymbol,i=0;i<l.length;++i)if(e.has(l[i].Symbol)){s=!0;break}s&&this.Draw()}},this.ReadStockJsonData=function(t,e){Ee.IsString(e[1])&&(t.Name=e[1]),Ee.IsNumber(e[2])&&(t.YClose=e[2]),Ee.IsNumber(e[3])&&(t.Open=e[3]),Ee.IsNumber(e[4])&&(t.High=e[4]),Ee.IsNumber(e[5])&&(t.Low=e[5]),Ee.IsNumber(e[6])&&(t.Price=e[6]),Ee.IsNumber(e[7])&&(t.Vol=e[7]),Ee.IsNumber(e[8])&&(t.Amount=e[8]),Ee.IsNumber(e[9])&&(t.BuyPrice=e[9]),Ee.IsNumber(e[10])&&(t.BuyVol=e[10]),Ee.IsNumber(e[11])&&(t.SellPrice=e[11]),Ee.IsNumber(e[12])&&(t.SellVol=e[12]),Ee.IsNumber(e[13])&&(t.AvPrice=e[13]),Ee.IsNumber(e[14])&&(t.OutShares=e[14]),Ee.IsNumber(e[15])&&(t.TotalShares=e[15]),Ee.IsNumber(e[16])&&(t.LimitHigh=e[16]),Ee.IsNumber(e[17])&&(t.LimitLow=e[17]),Ee.IsNumber(e[18])&&(t.VolIn=e[18]),Ee.IsNumber(e[19])&&(t.VolOut=e[19]),Ee.IsNumber(e[20])&&(t.DealNum=e[20]),Ee.IsNumber(e[21])&&(t.Increase=e[21]),Ee.IsNumber(e[22])&&(t.UpDown=e[22]),Ee.IsNumber(e[23])&&(t.Exchange=e[23]),Ee.IsNumber(e[24])&&(t.Amplitude=e[24]),Ee.IsNumber(e[25])&&(t.CircMarketValue=e[25]),Ee.IsNumber(e[26])&&(t.MarketValue=e[26]),e[27]&&(t.NameEx=e[27]),Ee.IsNumber(e[21])||Ee.IsNumber(t.Price)&&Ee.IsNumber(t.YClose)&&0!=t.YClose&&(t.Increase=(t.Price-t.YClose)/t.YClose*100),Ee.IsNumber(e[22])||Ee.IsNumber(t.Price)&&Ee.IsNumber(t.YClose)&&(t.UpDown=t.Price-t.YClose),Ee.IsNumber(e[23])||Ee.IsNumber(t.Vol)&&Ee.IsNumber(t.OutShares)&&t.OutShares>0&&(t.Exchange=t.Vol/t.OutShares*100),Ee.IsNumber(e[24])||Ee.IsNumber(t.High)&&Ee.IsNumber(t.Low)&&Ee.IsNumber(t.YClose)&&0!=t.YClose&&(t.Amplitude=(t.High-t.Low)/t.YClose*100),Ee.IsNumber(e[25])||Ee.IsNumber(t.OutShares)&&Ee.IsNumber(t.Price)&&(t.CircMarketValue=t.OutShares*t.Price),Ee.IsNumber(e[26])||Ee.IsNumber(t.TotalShares)&&Ee.IsNumber(t.Price)&&(t.MarketValue=t.TotalShares*t.Price),e[30]&&(t.ExtendData=e[30]),e[31]&&this.BlockData.set(t.OriginalSymbol,e[31]),e[32]&&(t.CloseLine=e[32]),e[33]&&(t.KLine=e[33])},this.GetSymbolNoSuffix=function(t){var e=t.lastIndexOf(".");return e>0?t.substring(0,e):t},this.CancelAutoUpdate=function(){"number"==typeof this.AutoUpdateTimer&&(clearTimeout(this.AutoUpdateTimer),this.AutoUpdateTimer=null)},this.AutoUpdate=function(t){if(this.CancelAutoUpdate(),this.IsAutoUpdate){var e=this,i=2,a=this.GetEventCallback(Rn.ON_REPORT_MARKET_STATUS);if(a&&a.Callback){var r={MarketStatus:2};a.Callback(a,r,this),Ee.IsNumber(r.MarketStatus)&&(i=r.MarketStatus)}if(0!=i&&3!=i){var n=this.AutoUpdateFrequency;1==i?this.AutoUpdateTimer=setTimeout(function(){e.AutoUpdate()},n):2==i&&(this.AutoUpdateTimer=setTimeout(function(){e.UpdateStockData()},n))}}},this.StopAutoUpdate=function(){this.CancelAutoUpdate(),this.AutoUpdateEvent(!1,"JSDealChartContainer::StopAutoUpdate"),this.IsAutoUpdate&&(this.IsAutoUpdate=!1)},this.AddEventCallback=function(t){if(t&&t.event&&t.callback){var e={Callback:t.callback,Source:t};this.mapEvent.set(t.event,e)}},this.RemoveEventCallback=function(t){this.mapEvent.has(t)&&this.mapEvent.delete(t)},this.GetEventCallback=function(t){return this.mapEvent.has(t)?this.mapEvent.get(t):null},this.OnSize=function(){this.Frame&&(this.SetSizeChange(!0),this.Draw(),this.DelayUpdateStockData())},this.SetSizeChange=function(t){for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i&&(i.SizeChange=t)}},this.OnWheel=function(t){if(Nn.Chart.Log("[JSReportChartContainer::OnWheel]",t),(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash)&&this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){var e=t.clientX-this.UIElement.getBoundingClientRect().left,i=t.clientY-this.UIElement.getBoundingClientRect().top;if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(e,i)){if(this.ChartPaint[0]){var a=t.wheelDelta;Ee.IsObjectExist(t.wheelDelta)||(a=-.01*t.deltaY),a<0?this.GotoNextPage(this.PageUpDownCycle)&&(this.Draw(),this.DelayUpdateStockData()):a>0&&this.GotoPreviousPage(this.PageUpDownCycle)&&(this.Draw(),this.DelayUpdateStockData()),t.preventDefault?t.preventDefault():t.returnValue=!1}}}},this.OnKeyDown=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){if(this.GetReportChart()){switch(t.keyCode?t.keyCode:t.which){case 33:this.GotoPreviousPage(this.PageUpDownCycle)&&(this.Draw(),this.DelayUpdateStockData());break;case 34:this.GotoNextPage(this.PageUpDownCycle)&&(this.Draw(),this.DelayUpdateStockData());break;case 38:var e=this.MoveSelectedRow(-1);e&&(e.Redraw&&this.Draw(),e.Update&&this.DelayUpdateStockData());break;case 40:var e=this.MoveSelectedRow(1);e&&(e.Redraw&&this.Draw(),e.Update&&this.DelayUpdateStockData());break;case 37:this.MoveXOffset(-1)&&this.Draw();break;case 39:this.MoveXOffset(1)&&this.Draw()}t.preventDefault?t.preventDefault():t.returnValue=!1}}},this.UIOnDblClick=function(t){var e=c(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e,r=this.ChartPaint[0];r&&r.OnDblClick(i,a,t)},this.UIOnMouseDown=function(t){var e=this;this.DragXScroll=null,this.DragHeader=null,this.DragColumnWidth=null,this.DragMove={Click:{X:t.clientX,Y:t.clientY},Move:{X:t.clientX,Y:t.clientY},PreMove:{X:t.clientX,Y:t.clientY}};var i=c(),a=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,r=(t.clientY-this.UIElement.getBoundingClientRect().top)*i,n=this.ChartPaint[0];if(n){var o=n.PtInHeaderDragBorder(a,r);if(o)this.DragColumnWidth={ClickPoint:{X:a,Y:r},LastPoint:{X:a,Y:r},ClickData:o,ColumnWidth:o.Column.Width};else{var s=n.OnMouseDown(a,r,t);if(!s)return;if(2!=s.Type&&4!=s.Type||0!=t.button&&2!=t.button){if(3==s.Type&&0==t.button)this.DragHeader={ClickPoint:{X:a,Y:r},Click:{X:t.clientX,Y:t.clientY},ClickData:s,LastMove:{X:t.clientX,Y:t.clientY},MovePoint:null,MoveToData:null};else if(1==s.Type&&0==t.button){var l=s.Tab;1==l.Type?this.MoveXOffset(-1)&&this.Draw():2==l.Type?this.MoveXOffset(1)&&this.Draw():3==l.Type?this.DragXScroll={Click:{X:a,Y:r},LastMove:{X:a,Y:r}}:4==l.Type?this.SetXOffset(l.Pos)&&this.Draw():5==l.Type&&this.OnClickTab(l,t)}}else 0==t.button&&2==s.Type&&this.EnableDragRow&&this.SortInfo.Sort<=0&&(this.DragRow={Click:{X:t.clientX,Y:t.clientY},LastMove:{X:t.clientX,Y:t.clientY},Data:s}),1==s.Redraw&&this.Draw()}}document.onmousemove=function(t){e.DocOnMouseMove(t)},document.onmouseup=function(t){e.DocOnMouseUp(t)}},this.UIOnMounseUp=function(t){console.log('"UIOnMounseUp')},this.UIOnContextMenu=function(t){t.preventDefault()},this.UIOnMouseMove=function(t){var e=c(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;if(!this.DragRow&&!this.DrawHeader&&!this.DragColumnWidth){var r=this.GetTabChart();if(r){var n=r.PtInTab(i,a);if(n){var o=n.Index;r.MoveOnTabIndex!=o&&(r.MoveOnTabIndex=o,this.Draw())}}var s={Cursor:"default",Name:"Default"},l=this.GetReportChart(),h=null;if(l){var u=l.PtInHeaderDragBorder(i,a);u?(s={Cursor:"col-resize",Name:"DragHeaderWidth"},Nn.Chart.Log("[JSReportChartContainer::UIOnMouseMove] drag column width ",u)):h=l.PtInCell(i,a)}var d=this.GetEventCallback(Rn.ON_REPORT_MOUSE_MOVE);if(d){var f={X:i,Y:a,Cell:h};d.Callback(d,f,this)}s&&(this.UIElement.style.cursor=s.Cursor)}},this.UIOnMounseOut=function(t){var e=this.GetTabChart();e&&e.MoveOnTabIndex>=0&&(e.MoveOnTabIndex=-1,this.Draw())},this.UIOnMouseleave=function(t){var e=this.GetTabChart();e&&e.MoveOnTabIndex>=0&&(e.MoveOnTabIndex=-1,this.Draw())},this.DocOnMouseMove=function(t){if(this.DragMove.PreMove.X=this.DragMove.Move.X,this.DragMove.PreMove.Y=this.DragMove.Move.Y,this.DragMove.Move.X=t.clientX,this.DragMove.Move.Y=t.clientX,this.DragMove.Move.X==this.DragMove.PreMove.X&&this.DragMove.Move.Y==this.DragMove.PreMove.Y||this.StopAutoDragScrollTimer(),!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e=c(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;if(this.DragRow){var r=this.DragRow,n=r.LastMove.Y-t.clientY;if(Math.abs(n)<2)return;var o=this.GetReportChart();if(r.LastMove.X=t.clientX,r.LastMove.Y=t.clientY,r.Inside={X:i,Y:a},o){var s=o.OnDrawgRow(i,a,t);if(s)if(2==s.Type)s.Data.DataIndex!=r.Data.Row.DataIndex&&(r.MoveRow=s);else if(7==s.Type){var l=o.GetCurrentPageStatus();l.IsEnd||(this.MoveYOffset(1,!1),r.MoveRow=null,this.EnablePageScroll=!0,this.AutoScrollPage(2))}else 5==s.Type&&this.Data.YOffset>0&&(this.MoveYOffset(-1,!1),r.MoveRow=null,this.EnablePageScroll=!0,this.AutoScrollPage(-2));o.DragRow=r}this.Draw()}else if(this.DragXScroll){var h=this.ChartPaint[0];if(!h||!h.Tab)return;this.DragXScroll.LastMove.X=i,this.DragXScroll.LastMove.Y=a;var u=h.Tab.GetScrollPostionByPoint(i,a);this.SetXOffset(u)&&this.Draw()}else if(this.DragHeader&&this.DragHeader.ClickData){if(this.DragHeader.ClickData.Header.IsFixed)return;if(!this.EnableDragHeader)return;var d=t.clientX-this.DragHeader.Click.X,f=t.clientY-this.DragHeader.Click.Y;if(Math.abs(f)<=1&&Math.abs(d)<=1)return;this.DragHeader.LastMove.X=t.clientX,this.DragHeader.LastMove.Y=t.clientY,this.DragHeader.MovePoint?(this.DragHeader.MovePoint.X=i,this.DragHeader.MovePoint.Y=a):this.DragHeader.MovePoint={X:i,Y:a},this.OnMoveDragHeader(i,a,t),this.ShowDragHeaderTooltip(i,a,t)}else if(this.DragColumnWidth&&this.DragColumnWidth.ClickData){var d=i-this.DragColumnWidth.ClickPoint.X;if(Math.abs(d)<1)return;var p=this.DragColumnWidth.ColumnWidth+d;if(p<=10)return;var m=this.DragColumnWidth.ClickData.Index,C=this.GetEventCallback(Rn.ON_REPORT_DRAG_COLUMN_WIDTH);if(C&&C.Callback){var v={Index:m,Width:p,PreventDefault:!1};if(this.DragColumnWidth&&this.DragColumnWidth.ClickData&&(v.Column=this.DragColumnWidth.ClickData.Column),C.Callback(C,v,this),v.PreventDefault)return}this.SetColumnFixedWidth(m,p),this.DragColumnWidth.LastPoint.X=i,this.DragColumnWidth.LastPoint.Y=a}}},this.SetColumnFixedWidth=function(t,e){var i=this.ChartPaint[0];if(i){var a=i.Column[t];a&&(a.FixedWidth=e,this.SetSizeChange(!0),this.Draw())}},this.OnMoveDragHeader=function(t,e,i){var a=this.ChartPaint[0];if(a){var r=this.DragHeader.ClickData;if(this.DragHeader.MoveToData=null,!r.Header.IsFixed){var n=this.DragHeader.ClickPoint.Y,o=a.OnMouseDown(t,n,i);if(!o||!o.Header)return;if(o.Header.IsFixed)return;if(o.Header.Index==r.Header.Index)return;this.DragHeader.MoveToData=o,console.log("[JSReportChartContainer::OnMoveDragHeader] Click[Index="+r.Header.Index+", Title="+r.Header.Column.Title+"] => Move[Index="+o.Header.Index+", Title="+o.Header.Column.Title+"]")}}},this.ShowDragHeaderTooltip=function(t,e,i){if(this.DragHeader){var a=this.DragHeader;if(a.ClickData&&a.MovePoint){var r=this.GetEventCallback(Rn.ON_REPORT_DRAG_HEADER_TOOLTIP);if(r){var n={PreventDefault:!1,e:i,X:t,Y:e,DragHeader:this.DragHeader,Tooltip:this.Tooltip};if(r.Callback(r,n,this),n.PreventDefault)return}var o=a.ClickData.Header.Column.Title;this.Tooltip.className="jchart-chartdrawsvg-tooltip",this.Tooltip.style.position="absolute",this.Tooltip.style.left=i.clientX+"px",this.Tooltip.style.top=i.clientY+"px",this.Tooltip.style.width="100px",this.Tooltip.style.height=null,this.Tooltip.innerHTML=o,this.Tooltip.style.display="block"}}},this.HideTooltip=function(){"none"!=this.Tooltip.style.display&&(this.Tooltip.style.display="none")},this.DocOnMouseUp=function(t){document.onmousemove=null,document.onmouseup=null,this.StopAutoDragScrollTimer(),this.HideTooltip();var e=this.GetReportChart(),i={Cursor:"default",Name:"Default"},a=!1;this.DragRow&&(e&&(this.OnDragRow(),e.DragRow=null),a=!0);var r=this.DragHeader;if(this.DragHeader=null,this.DragXScroll=null,this.DragRow=null,this.DragMove=null,this.DragColumnWidth=null,a&&this.Draw(),r){var n=r.ClickData,o=r.MoveToData;n&&o?this.SwapColumn(n.Header.Index,o.Header.Index,{Redraw:!0}):this.OnClickHeader(n,t)}i&&(this.UIElement.style.cursor=i.Cursor)},this.OnDragRow=function(){if(this.SourceData&&Ee.IsNonEmptyArray(this.SourceData.Data)&&this.DragRow&&this.DragRow.MoveRow){var t=this.DragRow,e=t.Data.Row.DataIndex,i=t.MoveRow.Data.DataIndex;if(!(e==i||e<0||i<0)){var a=this.SourceData.Data;if(!(e>=a.length||i>=a.length)){var r=this.GetEventCallback(Rn.ON_REPORT_DRAG_ROW);if(r){var n={Symbol:this.Symbol,Src:{Index:e,Symbol:a[e]},To:{Index:i,Symbol:a[i]},PreventDefault:!1};if(r.Callback(r,n,this),n.PreventDefault)return}if(1==this.DragRowType){var o=a[e];a[e]=a[i],a[i]=o,this.Data.Data=a.slice(0)}else{var s=a[e];a.splice(e,1),a.splice(i,0,s),this.Data.Data=a.slice(0)}var l=this.GetReportChart();l&&(0==l.SelectedModel?l.SelectedRow=t.MoveRow.Data.Index:l.SelectedRow=t.MoveRow.Data.DataIndex)}}}},this.IsPhoneDragging=function(t){var e=t.changedTouches.length,i=t.touches.length;return 1==e&&1==i},this.GetTouchData=function(t){for(var e=[],i=c(),a=0;a<t.touches.length;++a){var r=t.touches[a],n={clientX:r.clientX*i,clientY:r.clientY*i,pageX:r.pageX*i,pageY:r.pageY*i,InsideX:(r.clientX-this.UIElement.getBoundingClientRect().left)*i,InsideY:(r.clientY-this.UIElement.getBoundingClientRect().top)*i};e.push(n)}return e},this.GetMoveAngle=function(t,e){var i=Math.abs(t.X-e.X),a=Math.abs(t.Y-e.Y);return 180*Math.atan(i/a)/Math.PI},this.PreventTouchEvent=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()},this.OnTouchStart=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){this.IsOnTouch=!0;var e=this.GetReportChart();if(e&&this.IsPhoneDragging(t)){var i={Click:{},LastMove:{},InsideClick:{}},a=this.GetTouchData(t);i.Click.X=a[0].clientX,i.Click.Y=a[0].clientY,i.InsideClick.X=a[0].InsideX,i.InsideClick.Y=a[0].InsideY,i.LastMove.X=a[0].clientX,i.LastMove.Y=a[0].clientY,i.IsXMove=!1,i.IsYMove=!1,e.IsPtInBody(i.InsideClick.X,i.InsideClick.Y)&&(this.TouchDrag=i),this.TouchInfo={InsideClick:{X:a[0].InsideX,Y:a[0].InsideY},Click:{X:a[0].clientX,Y:a[0].clientY}},this.PreventTouchEvent(t)}}},this.OnDragYOffset=function(t,e,i,a){if(i<5)return!1;var r=!0;t.LastMove.Y<e[0].clientY&&(r=!1);var n=this.YStepPixel;n<=0&&(n=5);var o=parseInt(i/n);return!(o<=0)&&(0==r&&(o*=-1),this.MoveYOffset(o,this.DragPageCycle)&&(t.IsYMove=!0,this.Draw(),this.DelayUpdateStockData()),!0)},this.OnDragXOffset=function(t,e,i,a){if(i<5)return!1;var r=!0;t.LastMove.X<e[0].clientX&&(r=!1);var n=this.XStepPixel;n<=0&&(n=5);var o=parseInt(i/n);return!(o<=0)&&(r||(o*=-1),this.MoveXOffset(o)&&(t.IsXMove=!0,this.Draw()),!0)},this.OnTouchMove=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){if(this.GetReportChart()){var e=this.GetTouchData(t);if(this.IsPhoneDragging(t)){var i=this.TouchDrag;if(this.TouchInfo.Move={X:e[0].clientX,Y:e[0].clientY},i){this.PreventTouchEvent(t);var a=this.GetMoveAngle(i.LastMove,{X:e[0].clientX,Y:e[0].clientY}),r=Math.abs(i.LastMove.X-e[0].clientX),n=Math.abs(i.LastMove.Y-e[0].clientY);if(1==i.IsYMove){if(this.ShowPageInfo(!0),!this.OnDragYOffset(i,e,n,t))return}else if(1==i.IsXMove){if(!this.OnDragXOffset(i,e,r,t))return}else if(n>0&&a<this.TouchMoveMinAngle){if(this.ShowPageInfo(!0),!this.OnDragYOffset(i,e,n,t))return}else{if(!(r>0&&a>=this.TouchMoveMinAngle))return;if(!this.OnDragXOffset(i,e,r,t))return}i.LastMove.X=e[0].clientX,i.LastMove.Y=e[0].clientY}}}}},this.OnTouchEnd=function(t){Nn.Chart.Log("[JSReportChartContainer:OnTouchEnd]",t),this.ChartSplashPaint&&1==this.ChartSplashPaint.IsEnableSplash||(this.ShowPageInfo(!1),this.OnTouchClick(this.TouchInfo,t),this.IsOnTouch=!1,this.TouchDrag=null,this.TouchInfo=null)},this.OnTouchClick=function(t,e){if(!t||!t.Click)return!1;if(t.Move)return!1;var i=t.InsideClick,a=this.GetReportChart();if(!a)return!1;var r=a.OnMouseDown(i.X,i.Y,e);if(!r)return!1;2==r.Type||4==r.Type?1==r.Redraw&&this.Draw():3==r.Type&&this.OnClickHeader(r,e),Nn.Chart.Log("[JSReportChartContainer:OnTouchClick] clickData",r)},this.GetTabChart=function(){var t=this.ChartPaint[0];return t?t.Tab:null},this.GetReportChart=function(){return this.ChartPaint[0]},this.GotoNextPage=function(t){if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;var e=this.ChartPaint[0];if(!e)return!1;var i=e.GetPageSize();if(i>this.Data.Data.length)return!1;if(this.Data.YOffset+i>=this.Data.Data.length)return!0===t&&(this.Data.YOffset=0,!0);this.Data.YOffset+=i;var a=this.Data.Data.length-this.Data.YOffset;return 0==e.SelectedModel&&e.SelectedRow>a-1&&(e.SelectedRow=a-1),!0},this.GotoPreviousPage=function(t){if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;var e=this.ChartPaint[0];if(!e)return!1;var i=e.GetPageSize();if(i>this.Data.Data.length)return!1;if(this.Data.YOffset<=0)return!0===t&&(this.Data.YOffset=this.Data.Data.length-i,!0);var a=this.Data.YOffset;return a-=i,a<0&&(a=0),this.Data.YOffset=a,!0},this.MoveYOffset=function(t,e){if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;var i=this.ChartPaint[0];if(!i)return!1;var a=i.GetCurrentPageStatus();if(a.IsSinglePage)return!1;if(t>0){var r=this.Data.Data.length,n=a.PageSize,o=this.Data.YOffset;if(e)for(var s=0;s<t;++s)++o+n>r&&(o=0);else{if(o+n>=r)return!1;for(var s=0;s<t&&!(o+n+1>r);++s)++o}return this.Data.YOffset=o,!0}if(t<0){t=Math.abs(t);var o=this.Data.YOffset;if(e)for(var n=a.PageSize,s=0;s<t;++s)--o<0&&(o=this.Data.Data.length-n);else{if(this.Data.YOffset<=0)return!1;for(var s=0;s<t&&!(o-1<0);++s)--o}return this.Data.YOffset=o,!0}return!1},this.MoveSelectedRow=function(t){var e=this.ChartPaint[0];if(!e)return null;if(!Ee.IsNonEmptyArray(this.Data.Data))return null;var i={Redraw:!1,Update:!1};if(0==e.SelectedModel){var a=e.GetCurrentPageStatus(),r=a.End-a.Start+1,n=a.SelectedRow;if(t>0)return n+=t,n%=r,e.SelectedRow=n,e.SelectedFixedRow=-1,i.Redraw=!0,i;if(t<0)return n+=t,n<0&&(n%=r,n=r+n),e.SelectedRow=n,e.SelectedFixedRow=-1,i.Redraw=!0,i}else if(1==e.SelectedModel){var a=e.GetCurrentPageStatus(),r=a.PageSize,n=a.SelectedRow;if(t>0){if(n<0||n<a.Start||n>a.End)return e.SelectedRow=a.Start,i.Redraw=!0,i;for(var o=this.Data.YOffset,s=0;s<t;++s)++n,n>a.End&&++o,n>=this.Data.Data.length&&(n=0,o=0);return i.Redraw=!0,i.Update=o!=this.Data.YOffset,e.SelectedRow=n,this.Data.YOffset=o,i}if(t<0){if(n<0||n<a.Start||n>a.End)return e.SelectedRow=a.End,i.Redraw=!0,i;t=Math.abs(t);for(var o=this.Data.YOffset,s=0;s<t;++s)--n,n<a.Start&&--o,n<0&&(n=this.Data.Data.length-1,(o=this.Data.Data.length-r)<0&&(o=0));return i.Redraw=!0,i.Update=o!=this.Data.YOffset,e.SelectedRow=n,this.Data.YOffset=o,i}}return null},this.MoveXOffset=function(t){var e=this.ChartPaint[0];if(!e)return!1;var i=e.GetXScrollRange();if(i<=0)return!1;if(t>0){if(this.Data.XOffset>=i)return!1;for(var a=0;a<t&&!(this.Data.XOffset>=i);++a)++this.Data.XOffset;return!0}if(t<0){if(this.Data.XOffset<=0)return!1;t=Math.abs(t);for(var a=0;a<t&&!(this.Data.XOffset-1<0);++a)--this.Data.XOffset;return!0}return!1},this.SetXOffset=function(t){if(!Ee.IsNumber(t))return!1;var e=this.ChartPaint[0];if(!e)return!1;var i=e.GetXScrollRange();return t<0&&(t=0),t>i&&(t=i),this.Data.XOffset=t,!0},this.GotoLastPage=function(){var t=this.ChartPaint[0];if(t){var e=t.GetPageSize(!0),i=this.Data.Data.length-e;i<0&&(i=0),this.Data.DataOffset=i}},this.SetColumn=function(t,e){var i=this.ChartPaint[0];i&&(i.SetColumn(t),i.SizeChange=!0,e&&e.Redraw&&this.Draw())},this.SetTab=function(t,e){var i=this.ChartPaint[0];if(i){var a=i.Tab;a&&(a.SetTabList(t),e&&e.Redraw&&this.Draw())}},this.SetSelectedTab=function(t,e){var i=this.ChartPaint[0];if(i){var a=i.Tab;a&&(a.SelectedTabIndex=t)}},this.ReloadResource=function(t){this.Frame.ReloadResource(t);for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.ReloadResource&&i.ReloadResource(t)}t&&t.Redraw&&(this.SetSizeChange(!0),this.Draw())},this.OnClickHeader=function(t,e){var i=this,a=t.Header;if(a.Column&&(1==a.Column.Sort||2==a.Column.Sort)){var r=a.Index,n={Field:this.SortInfo.Field,Sort:this.SortInfo.Sort},o=a.Column.SortType;if(n.Field!=r)n.Field=r,n.Sort=o[0];else if(1==o.length)n.Sort=o[0];else for(var s=0;s<o.length;++s)if(n.Sort==o[s]){n.Sort=o[(s+1)%o.length];break}if(1==a.Column.Sort||2==a.Column.Sort){if(0==n.Sort){this.Data.Data=[];for(var s=0;s<this.SourceData.Data.length;++s)this.Data.Data.push(this.SourceData.Data[s])}else if(1==a.Column.Sort){var l=this.GetEventCallback(Rn.ON_REPORT_LOCAL_SORT);if(l&&l.Callback){var h={Column:a.Column,SortInfo:n,SymbolList:this.Data.Data,Result:null};l.Callback(l,h,this),Array.isArray(h.Result)&&(this.Data.Data=h.Result)}else this.Data.Data.sort(function(t,e){return i.LocalSort(t,e,a.Column,n.Sort)})}else if(2==a.Column.Sort){if(!Ee.IsNonEmptyArray(this.Data.Data))return;return this.SortInfo.Field=n.Field,this.SortInfo.Sort=n.Sort,this.Data.YOffset=0,this.ResetReportSelectStatus(),void this.RequestStockSortData(a.Column,n.Field,n.Sort)}this.Data.YOffset=0,this.ResetReportSelectStatus(),this.SortInfo.Field=n.Field,this.SortInfo.Sort=n.Sort,this.Draw(),this.DelayUpdateStockData()}}},this.OnClickTab=function(t,e){if(t.Tab){var i=!1,a=c(),r=(e.clientX-this.UIElement.getBoundingClientRect().left)*a,n=(e.clientY,this.UIElement.getBoundingClientRect().top,{Left:this.UIElement.getBoundingClientRect().left,Top:this.UIElement.getBoundingClientRect().top});if(t.Tab.IsMenu){var o=this.GetEventCallback(Rn.ON_CLICK_REPORT_TABMENU);if(o&&o.Callback){i=!0;var s=t.Rect,l={Left:s.Left/a,Right:s.Right/a,Top:s.Top/a,Bottom:s.Bottom/a},h={Data:t,IsSide:{X:r,Y:r},UIElement:n,Rect:l,e:e,Redraw:i};o.Callback(o,h,this),Ee.IsBool(h.Redraw)&&(i=h.Redraw)}this.SetSelectedTab(t.Index)}else{var o=this.GetEventCallback(Rn.ON_CLICK_REPORT_TAB);if(o&&o.Callback){var h={Data:t,IsSide:{X:r,Y:r},UIElement:n,e:e,Redraw:i};o.Callback(o,h,this),Ee.IsBool(h.Redraw)&&(i=h.Redraw)}this.SetSelectedTab(t.Index)}i&&this.Draw()}},this.SwapColumn=function(t,e,i){var a=this.GetReportChart();a&&a.SwapColumn(t,e)&&i&&i.Redraw&&(this.SetSizeChange(!0),this.Draw())},this.LocalSort=function(t,e,i,a){switch(i.Type){case Vo.SYMBOL_ID:case Vo.NAME_ID:return this.LocalStringSort(t,e,i,a);case Vo.NAME_EX_ID:return this.LocalNameExSort(t,e,i,a);case Vo.PRICE_ID:case Vo.VOL_ID:case Vo.INCREASE_ID:case Vo.UPDOWN_ID:case Vo.BUY_PRICE_ID:case Vo.SELL_PRICE_ID:case Vo.AMOUNT_ID:case Vo.BUY_VOL_ID:case Vo.SELL_VOL_ID:case Vo.YCLOSE_ID:case Vo.OPEN_ID:case Vo.HIGH_ID:case Vo.LOW_ID:case Vo.AVERAGE_PRICE_ID:case Vo.OUTSTANDING_SHARES_ID:case Vo.TOTAL_SHARES_ID:case Vo.CIRC_MARKET_VALUE_ID:case Vo.MARKET_VALUE_ID:case Vo.EXCHANGE_RATE_ID:case Vo.AMPLITUDE_ID:case Vo.LIMIT_HIGH_ID:case Vo.LIMIT_LOW_ID:case Vo.VOL_IN_ID:case Vo.VOL_OUT_ID:return this.LocalNumberSort(t,e,i,a);case Vo.CUSTOM_NUMBER_TEXT_ID:return this.LoacCustomNumberSort(t,e,i,a);case Vo.CUSTOM_STRING_TEXT_ID:return this.LoacCustomStringSort(t,e,i,a);case Vo.CUSTOM_DATETIME_TEXT_ID:return this.LoacCustomDateTimeSort(t,e,i,a);default:return 0}},this.GetStockExtendData=function(t,e){if(Ee.IsNumber(e.DataIndex)){if(e.DataIndex<0)return null;var i=this.GetStockData(t);return i&&i.ExtendData?i.ExtendData[e.DataIndex]:null}if(Ee.IsNumber(e.BlockIndex)){if(e.BlockIndex<0)return null;var i=this.GetBlockData(t);return i?i[e.BlockIndex]:null}return null},this.LocalNameExSort=function(t,e,i,a){var r=this.GetStockData(t),n=this.GetStockData(e),o="",s="";return 2==a&&(o="啊啊啊啊啊",s="啊啊啊啊啊"),r&&r.Name&&(o=r.Name),n&&n.Name&&(s=n.Name),1==a?s<o?-1:s<o?1:0:o<s?-1:o>s?1:0},this.LocalStringSort=function(t,e,i,a){var r=this.GetStockData(t),n=this.GetStockData(e),o="",s="";2==a&&(o="啊啊啊啊啊",s="啊啊啊啊啊");var l=Go.get(i.Type);return r&&r[l]&&(o=r[l]),n&&n[l]&&(s=n[l]),1==a?s<o?-1:s<o?1:0:o<s?-1:o>s?1:0},this.LocalNumberSort=function(t,e,i,a){var r=this.GetStockData(t),n=this.GetStockData(e),o=-99999999999999,s=-99999999999999;2==a&&(o=s=99999999999999);var l=Go.get(i.Type);return r&&Ee.IsNumber(r[l])&&(o=r[l]),n&&Ee.IsNumber(n[l])&&(s=n[l]),1==a?s<o?-1:s<o?1:0:o<s?-1:o>s?1:0},this.LoacCustomNumberSort=function(t,e,i,a){var r=-99999999999999,n=-99999999999999;2==a&&(r=n=99999999999999);var o=this.GetStockExtendData(t,i);Ee.IsNumber(o)&&(r=o);var o=this.GetStockExtendData(e,i);return Ee.IsNumber(o)&&(n=o),1==a?n<r?-1:n<r?1:0:r<n?-1:r>n?1:0},this.LoacCustomDateTimeSort=function(t,e,i,a){var r=-99999999999999,n=-99999999999999;2==a&&(r=n=99999999999999);var o=this.GetStockExtendData(t,i);Ee.IsNumber(o)&&(r=o);var o=this.GetStockExtendData(e,i);return Ee.IsNumber(o)&&(n=o),1==a?n<r?-1:n<r?1:0:r<n?-1:r>n?1:0},this.RequestStockSortData=function(t,e,i){var a=this.ChartPaint[0];if(a){var r=this,n=this.Data.YOffset,o=a.GetPageSize(),s=n+o;if(s>=this.Data.Data.length&&(s=this.Data.Data.length-1),this.NetworkFilter){var l={Name:"JSDealChartContainer::RequestStockSortData",Explain:"报价列表股票排序数据",Request:{Data:{range:{start:n,end:s,count:this.Data.Data.length},column:{name:t.Title,type:t.Type,index:e,ID:t.ID},sort:i,symbol:this.Symbol,name:this.Name,pageSize:o}},Self:this,PreventDefault:!1};if(a.FixedRowCount>0&&1==a.FixedRowData.Type){for(var h=[],u=0;u<a.FixedRowData.Symbol.length;++u){var c=a.FixedRowData.Symbol[u];c&&h.push(c)}l.Request.FixedSymbol=h}if(this.NetworkFilter(l,function(t){r.RecvStockSortData(t),r.AutoUpdate()}),1==l.PreventDefault)return}throw{Name:"JSReportChartContainer::RequestStockSortData",Error:"(报价列表股票排序数据)不提供内置测试数据"}}},this.RecvStockSortData=function(t){var e=[];if(Ee.IsNonEmptyArray(t.data))for(var i=0;i<t.data.length;++i){var a=t.data[i],r=a[0];if(r){var n=null;this.MapStockData.has(r)?n=this.MapStockData.get(r):(n=new Kr,n.OriginalSymbol=r,n.Symbol=this.GetSymbolNoSuffix(r),this.MapStockData.set(r,n)),this.ReadStockJsonData(n,a),e.push(r)}}if(Ee.IsNonEmptyArray(t.index))for(var i=0;i<t.index.length;++i){var o=t.index[i],s=e[i],l=this.Data.Data[o];s!=l&&(this.Data.Data[o]=s)}this.ChartPaint[0]&&this.Draw()},this.ShowPageInfo=function(t){var e=this.ChartPaint[1];return!!e&&(e.IsShow=t,!0)}}function jr(){this.ChartBorder,this.Canvas,this.BorderLine=null,this.BorderColor=lo.Report.BorderColor,this.LogoTextColor=lo.FrameLogo.TextColor,this.LogoTextFont=lo.FrameLogo.Font,this.ReloadResource=function(t){this.BorderColor=lo.Report.BorderColor,this.LogoTextColor=lo.FrameLogo.TextColor,this.LogoTextFont=lo.FrameLogo.Font},this.Draw=function(){var t=v(this.ChartBorder.GetLeft()),e=v(this.ChartBorder.GetTop()),i=v(this.ChartBorder.GetRight()),a=v(this.ChartBorder.GetBottom()),r=i-t,n=a-e;Ee.IsNumber(this.BorderLine)?(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),(1&this.BorderLine)>0&&(this.Canvas.moveTo(t,e),this.Canvas.lineTo(i,e)),(2&this.BorderLine)>0&&(this.Canvas.moveTo(t,a),this.Canvas.lineTo(i,a)),(4&this.BorderLine)>0&&(this.Canvas.moveTo(t,e),this.Canvas.lineTo(t,a)),(8&this.BorderLine)>0&&(this.Canvas.moveTo(i,e),this.Canvas.lineTo(i,a)),this.Canvas.stroke()):(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(t,e,r,n))},this.DrawLogo=function(){var t=lo.FrameLogo.Text;if(Ee.IsString(t)){this.Canvas.fillStyle=this.LogoTextColor,this.Canvas.font=this.LogoTextFont,this.Canvas.textAlign="right",this.Canvas.textBaseline="bottom";var e=this.ChartBorder.GetRight()-30,i=this.ChartBorder.GetBottom()-5;this.Canvas.fillText(t,e,i)}}}function Jr(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="ChartReport",this.UIElement,this.IsDrawFirst=!1,this.GetEventCallback,this.GetStockDataCallback,this.GetFlashBGDataCallback,this.GetBlockDataCallback,this.Data,this.FixedRowData,this.SortInfo,this.FixedColumn=2,this.FixedRowCount=0,this.IsShowHeader=!0,this.SizeChange=!0,this.SelectedModel=0,this.SelectedRow=-1,this.SelectedFixedRow=-1,this.IsDrawBorder=1,this.ShowSymbol=[],this.DragRow,this.Tab,this.GlobalOption,this.UpColor=lo.Report.UpTextColor,this.DownColor=lo.Report.DownTextColor,this.UnchagneColor=lo.Report.UnchagneTextColor,this.BorderColor=lo.Report.BorderColor,this.SelectedColor=lo.Report.SelectedColor,this.HeaderFontConfig={Size:lo.Report.Header.Font.Size,Name:lo.Report.Header.Font.Name},this.HeaderColor=lo.Report.Header.Color,this.SortColor=lo.Report.Header.SortColor,this.HeaderMergin={Left:lo.Report.Header.Mergin.Left,Right:lo.Report.Header.Mergin.Right,Top:lo.Report.Header.Mergin.Top,Bottom:lo.Report.Header.Mergin.Bottom},this.ItemFontConfig={Size:lo.Report.Item.Font.Size,Name:lo.Report.Item.Font.Name},this.ItemFixedFontConfg={Size:lo.Report.FixedItem.Font.Size,Name:lo.Report.FixedItem.Font.Name},this.ItemMergin={Left:lo.Report.Item.Mergin.Left,Right:lo.Report.Item.Mergin.Right,Top:lo.Report.Item.Mergin.Top,Bottom:lo.Report.Item.Mergin.Bottom},this.BarMergin={Top:lo.Report.Item.BarMergin.Top,Left:lo.Report.Item.BarMergin.Left,Right:lo.Report.Item.BarMergin.Right,Bottom:lo.Report.Item.BarMergin.Bottom},this.LimitDrawType=0,this.LimitBorderColor=lo.Report.LimitBorder.Color,this.LimitUpBGColor=lo.Report.LimitColor.UpColor,this.LimitDownBGColor=lo.Report.LimitColor.DownColor,this.LimitTextColor=lo.Report.LimitColor.TextColor,this.LimitMergin={Top:lo.Report.LimitBorder.Mergin.Top,Left:lo.Report.LimitBorder.Mergin.Left,Right:lo.Report.LimitBorder.Mergin.Right,Bottom:lo.Report.LimitBorder.Mergin.Bottom},this.DragRowColor=lo.Report.DragRow.Color,this.DragRowTextColor=lo.Report.DragRow.TextColor,this.DragMoveRowColor=lo.Report.DragRow.MoveRowColor,this.DragSrcRowColor=lo.Report.DragRow.SrcRowColor,this.CloseLineConfig={CloseColor:lo.Report.CloseLine.CloseColor,YCloseColor:lo.Report.CloseLine.YCloseColor,AreaColor:lo.Report.CloseLine.AreaColor},this.KLineConfig={UpColor:lo.Report.KLine.UpColor,DownColor:lo.Report.KLine.DownColor,UnchagneColor:lo.Report.KLine.UnchagneColor,DataWidth:lo.Report.KLine.DataWidth,DistanceWidth:lo.Report.KLine.DistanceWidth},this.ItemSymbolFontConfig={Size:lo.Report.Item.SymbolFont.Size,Name:lo.Report.Item.SymbolFont.Name},this.ItemNameFontConfg={Size:lo.Report.Item.NameFont.Size,Name:lo.Report.Item.NameFont.Name},this.HeaderFont=12*c()+"px 微软雅黑",this.ItemFont=15*c()+"px 微软雅黑",this.ItemFixedFont=15*c()+"px 微软雅黑",this.ItemSymbolFont=12*c()+"px 微软雅黑",this.ItemNameFont=15*c()+"px 微软雅黑",this.ItemNameHeight=0,this.RowCount=0,this.HeaderHeight=0,this.FixedRowHeight=0,this.RowHeight=0,this.BottomToolbarHeight=0,this.IsShowAllColumn=!1,this.Column=[{Type:Vo.INDEX_ID,Title:"序号",TextAlign:"center",Width:null,TextColor:lo.Report.FieldColor.Index,MaxText:"8888"},{Type:Vo.SYMBOL_ID,Title:"代码",TextAlign:"left",Width:null,TextColor:lo.Report.FieldColor.Symbol,MaxText:"888888"},{Type:Vo.NAME_ID,Title:"名称",TextAlign:"left",Width:null,TextColor:lo.Report.FieldColor.Name,MaxText:"擎擎擎擎"},{Type:Vo.INCREASE_ID,Title:"涨幅%",TextAlign:"right",Width:null,MaxText:"-888.88"}],this.RectClient={},this.TooltipRect=[],this.ReloadResource=function(t){this.UpColor=lo.Report.UpTextColor,this.DownColor=lo.Report.DownTextColor,this.UnchagneColor=lo.Report.UnchagneTextColor,this.BorderColor=lo.Report.BorderColor,this.SelectedColor=lo.Report.SelectedColor,this.HeaderFontConfig={Size:lo.Report.Header.Font.Size,Name:lo.Report.Header.Font.Name},this.HeaderColor=lo.Report.Header.Color,this.SortColor=lo.Report.Header.SortColor,this.HeaderMergin={Left:lo.Report.Header.Mergin.Left,Right:lo.Report.Header.Mergin.Right,Top:lo.Report.Header.Mergin.Top,Bottom:lo.Report.Header.Mergin.Bottom},this.ItemFontConfig={Size:lo.Report.Item.Font.Size,Name:lo.Report.Item.Font.Name},this.ItemMergin={Left:lo.Report.Item.Mergin.Left,Right:lo.Report.Item.Mergin.Right,Top:lo.Report.Item.Mergin.Top,Bottom:lo.Report.Item.Mergin.Bottom},this.BarMergin={Top:lo.Report.Item.BarMergin.Top,Left:lo.Report.Item.BarMergin.Left,Right:lo.Report.Item.BarMergin.Right,Bottom:lo.Report.Item.BarMergin.Bottom},this.LimitBorderColor=lo.Report.LimitBorder.Color,this.LimitMergin={Top:lo.Report.LimitBorder.Mergin.Top,Left:lo.Report.LimitBorder.Mergin.Left,Right:lo.Report.LimitBorder.Mergin.Right,Bottom:lo.Report.LimitBorder.Mergin.Bottom};for(var e=0;e<this.Column.length;++e){var i=this.Column[e];i.Type==Vo.INDEX_ID?i.TextColor=lo.Report.FieldColor.Index:i.Type==Vo.SYMBOL_ID?i.TextColor=lo.Report.FieldColor.Symbol:i.Type==Vo.NAME_ID?i.TextColor=lo.Report.FieldColor.Name:i.Type==Vo.VOL_ID?i.TextColor=lo.Report.FieldColor.Vol:i.Type==Vo.BUY_VOL_ID?i.TextColor=lo.Report.FieldColor.Vol:i.Type==Vo.SELL_VOL_ID?i.TextColor=lo.Report.FieldColor.Vol:i.Type==Vo.AMOUNT_ID?i.TextColor=lo.Report.FieldColor.Amount:i.Type==Vo.VOL_IN_ID?i.TextColor=lo.Report.DownTextColor:i.Type==Vo.VOL_OUT_ID?i.TextColor=lo.Report.UpTextColor:i.TextColor=lo.Report.FieldColor.Text}this.Tab&&this.Tab.ReloadResource(t)},this.SetColumn=function(t){if(Ee.IsNonEmptyArray(t)){this.Column=[];for(var e=0;e<t.length;++e){var i=t[e],a=this.GetDefaultColunm(i.Type);if(a){if(i.Title&&(a.Title=i.Title),i.TextAlign&&(a.TextAlign=i.TextAlign),i.TextColor&&(a.TextColor=i.TextColor),i.MaxText&&(a.MaxText=i.MaxText),i.ID&&(a.ID=i.ID),Ee.IsNumber(i.Sort)&&(a.Sort=i.Sort),Ee.IsBool(i.EnableTooltip)&&(a.EnableTooltip=i.EnableTooltip),Ee.IsNumber(i.FixedWidth)&&(a.FixedWidth=i.FixedWidth),Ee.IsBool(i.EnableDragWidth)&&(a.EnableDragWidth=i.EnableDragWidth),Ee.IsBool(i.IsDrawCallback)?a.IsDrawCallback=i.IsDrawCallback:a.IsDrawCallback=!1,1!=i.Sort&&2!=i.Sort||(a.SortType=[1,2],Ee.IsNonEmptyArray(i.SortType)&&(a.SortType=i.SortType.slice())),i.Type==Vo.CUSTOM_STRING_TEXT_ID){if(!Ee.IsNumber(i.DataIndex)&&!Ee.IsNumber(i.BlockIndex))continue;Ee.IsNumber(i.DataIndex)&&(a.DataIndex=i.DataIndex),Ee.IsNumber(i.BlockIndex)&&(a.BlockIndex=i.BlockIndex)}else if(i.Type==Vo.CUSTOM_NUMBER_TEXT_ID){if(!Ee.IsNumber(i.DataIndex)&&!Ee.IsNumber(i.BlockIndex))continue;Ee.IsNumber(i.DataIndex)&&(a.DataIndex=i.DataIndex),Ee.IsNumber(i.BlockIndex)&&(a.BlockIndex=i.BlockIndex),a.Decimal=2,a.FormatType=0,a.ColorType=0,Ee.IsNumber(i.Decimal)&&(a.Decimal=i.Decimal),Ee.IsNumber(i.FormatType)&&(a.FormatType=i.FormatType),Ee.IsNumber(i.ColorType)&&(a.ColorType=i.ColorType)}else if(i.Type==Vo.CUSTOM_DATETIME_TEXT_ID){if(!Ee.IsNumber(i.DataIndex)&&!Ee.IsNumber(i.BlockIndex))continue;Ee.IsNumber(i.DataIndex)&&(a.DataIndex=i.DataIndex),Ee.IsNumber(i.BlockIndex)&&(a.BlockIndex=i.BlockIndex),a.FormatType=0,a.ValueType=0,Ee.IsNumber(i.FormatType)&&(a.FormatType=i.FormatType),Ee.IsNumber(i.ValueType)&&(a.FormatType=i.ValueType)}else i.Type==Vo.CUSTOM_ICON_ID||i.Type==Vo.CLOSE_LINE_ID&&Ee.IsBool(i.IsDrawArea)&&(a.IsDrawArea=i.IsDrawArea);this.Column.push(a)}}}},this.SwapColumn=function(t,e){if(!Ee.IsNumber(t)||!Ee.IsNumber(e))return!1;var i=this.Column.length;if(t<0||t>=i)return!1;if(e<0||e>=i)return!1;if(t!=e){var a=this.Column[t];return this.Column[t]=this.Column[e],this.Column[e]=a,!0}},this.GetXScrollPos=function(){return this.Data.XOffset},this.GetXScrollRange=function(){var t=this.Column.length-this.FixedColumn-3;return t<0?0:t},this.GetDefaultColunm=function(t){for(var e=[{Type:Vo.INDEX_ID,Title:"序号",TextAlign:"center",Width:null,TextColor:lo.Report.FieldColor.Index,MaxText:"8888"},{Type:Vo.SYMBOL_ID,Title:"代码",TextAlign:"left",Width:null,TextColor:lo.Report.FieldColor.Symbol,MaxText:"888888"},{Type:Vo.NAME_ID,Title:"名称",TextAlign:"left",Width:null,TextColor:lo.Report.FieldColor.Name,MaxText:"擎擎擎擎0"},{Type:Vo.NAME_EX_ID,Title:"名称",TextAlign:"left",Width:null,TextColor:lo.Report.FieldColor.Name,MaxText:"擎擎擎擎擎擎"},{Type:Vo.SYMBOL_NAME_ID,Title:"股票名称",TextAlign:"left",Width:null,TextColor:lo.Report.FieldColor.Name,MaxText:"擎擎擎擎0"},{Type:Vo.INCREASE_ID,Title:"涨幅%",TextAlign:"right",Width:null,MaxText:"-888.88"},{Type:Vo.PRICE_ID,Title:"现价",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:Vo.UPDOWN_ID,Title:"涨跌",TextAlign:"right",Width:null,MaxText:"-888.88"},{Type:Vo.AMPLITUDE_ID,Title:"振幅%",TextAlign:"right",Width:null,MaxText:"888.88"},{Type:Vo.BUY_PRICE_ID,Title:"买价",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:Vo.SELL_PRICE_ID,Title:"卖价",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:Vo.AVERAGE_PRICE_ID,Title:"均价",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:Vo.OPEN_ID,Title:"今开",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:Vo.HIGH_ID,Title:"最高",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:Vo.LOW_ID,Title:"最低",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:Vo.YCLOSE_ID,Title:"昨收",TextAlign:"right",Width:null,MaxText:"88888.88"},{Type:Vo.VOL_ID,Title:"总量",TextAlign:"right",TextColor:lo.Report.FieldColor.Vol,Width:null,MaxText:"8888.8擎"},{Type:Vo.AMOUNT_ID,Title:"总金额",TextAlign:"right",TextColor:lo.Report.FieldColor.Amount,Width:null,MaxText:"8888.8擎"},{Type:Vo.EXCHANGE_RATE_ID,Title:"换手%",TextAlign:"right",TextColor:lo.Report.FieldColor.Text,Width:null,MaxText:"88.88"},{Type:Vo.OUTSTANDING_SHARES_ID,Title:"流通股本",TextAlign:"right",TextColor:lo.Report.FieldColor.Text,Width:null,MaxText:"8888.8擎"},{Type:Vo.TOTAL_SHARES_ID,Title:"总股本",TextAlign:"right",TextColor:lo.Report.FieldColor.Text,Width:null,MaxText:"8888.8擎"},{Type:Vo.CIRC_MARKET_VALUE_ID,Title:"流通市值",TextAlign:"right",TextColor:lo.Report.FieldColor.Text,Width:null,MaxText:"8888.8擎"},{Type:Vo.MARKET_VALUE_ID,Title:"总市值",TextAlign:"right",TextColor:lo.Report.FieldColor.Text,Width:null,MaxText:"8888.8擎"},{Type:Vo.VOL_IN_ID,Title:"内盘",TextAlign:"right",TextColor:lo.Report.DownTextColor,Width:null,MaxText:"8888.8擎"},{Type:Vo.VOL_OUT_ID,Title:"外盘",TextAlign:"right",TextColor:lo.Report.UpTextColor,Width:null,MaxText:"8888.8擎"},{Type:Vo.CLOSE_LINE_ID,Title:"走势",TextAlign:"center",TextColor:lo.Report.CloseLineColor,Width:null,MaxText:"88888.88888"},{Type:Vo.BUY_VOL_ID,Title:"买量",TextAlign:"right",TextColor:lo.Report.FieldColor.Vol,Width:null,MaxText:"8888.8擎"},{Type:Vo.SELL_VOL_ID,Title:"卖量",TextAlign:"right",TextColor:lo.Report.FieldColor.Vol,Width:null,MaxText:"8888.8擎"},{Type:Vo.CUSTOM_STRING_TEXT_ID,Title:"自定义",TextAlign:"center",Width:null,TextColor:lo.Report.FieldColor.Text,MaxText:"擎擎擎擎擎"},{Type:Vo.CUSTOM_NUMBER_TEXT_ID,Title:"自定义",TextAlign:"center",Width:null,TextColor:lo.Report.FieldColor.Text,MaxText:"擎擎擎擎擎"},{Type:Vo.CUSTOM_DATETIME_TEXT_ID,Title:"自定义",TextAlign:"center",Width:null,TextColor:lo.Report.FieldColor.Text,MaxText:"9999-99-99"},{Type:Vo.CUSTOM_ICON_ID,Title:"  ",TextAlign:"left",FixedWidth:20,TextColor:lo.Report.FieldColor.Text},{Type:Vo.KLINE_ID,Title:"K线",TextAlign:"left",FixedWidth:50,TextColor:lo.Report.FieldColor.Text}],i=0;i<e.length;++i){var a=e[i];if(a.Type==t)return a}return null},this.Draw=function(){if(this.ShowSymbol=[],this.TooltipRect=[],this.GlobalOption&&(this.GlobalOption.FlashBGCount=0),this.SizeChange?this.CalculateSize():this.UpdateCacheData(),this.Canvas.save(),this.Canvas.beginPath(),this.Canvas.rect(this.RectClient.Left,this.RectClient.Top,this.RectClient.Right-this.RectClient.Left,this.RectClient.Bottom-this.RectClient.Top),this.Canvas.clip(),this.DrawHeader(),this.DrawBody(),this.Canvas.restore(),this.Tab&&this.BottomToolbarHeight>0){var t=this.ChartBorder.GetBottom();this.Tab.DrawTab(this.RectClient.Left,t-this.BottomToolbarHeight,this.RectClient.Right,t),this.Tab.DrawScrollbar(this.RectClient.Left,t-this.BottomToolbarHeight,this.RectClient.Right,t)}this.DrawBorder(),this.DrawDragRow(),this.SizeChange=!1},this.UpdateCacheData=function(){this.RectClient.Left=this.ChartBorder.GetLeft(),this.RectClient.Right=this.ChartBorder.GetRight(),this.RectClient.Top=this.ChartBorder.GetTop(),this.RectClient.Bottom=this.ChartBorder.GetBottom()-this.BottomToolbarHeight},this.GetPageSize=function(t){return t&&this.CalculateSize(),this.RowCount},this.GetCurrentPageStatus=function(){var t={Start:this.Data.YOffset,PageSize:this.RowCount,IsEnd:!1,SelectedRow:this.SelectedRow,IsSinglePage:!1,DataCount:0};return Ee.IsNonEmptyArray(this.Data.Data)?(t.End=this.Data.YOffset+this.RowCount-1,t.IsSinglePage=this.Data.Data.length<=this.RowCount,t.DataCount=this.Data.Data.length,t.End>=this.Data.Data.length-1&&(t.IsEnd=!0),t.End>=this.Data.Data.length&&(t.End=this.Data.Data.length-1)):(t.Star=0,t.End=0,t.IsEnd=!0,t.IsSinglePage=!0),t},this.CalculateSize=function(){this.Tab&&this.Tab.IsShow?(this.Tab.CalculateSize(),this.BottomToolbarHeight=this.Tab.Height):this.BottomToolbarHeight=0,this.UpdateCacheData();var t=c();this.HeaderFont=this.HeaderFontConfig.Size*t+"px "+this.HeaderFontConfig.Name,this.ItemFont=this.ItemFontConfig.Size*t+"px "+this.ItemFontConfig.Name,this.ItemFixedFont=this.ItemFixedFontConfg.Size*t+"px "+this.ItemFixedFontConfg.Name,this.ItemSymbolFont=this.ItemSymbolFontConfig.Size*t+"px "+this.ItemSymbolFontConfig.Name,this.ItemNameFont=this.ItemNameFontConfg.Size*t+"px "+this.ItemNameFontConfg.Name,this.RowHeight=this.GetFontHeight(this.ItemFont,"擎")+this.ItemMergin.Top+this.ItemMergin.Bottom,this.FixedRowHeight=this.GetFontHeight(this.ItemFixedFont,"擎")+this.ItemMergin.Top+this.ItemMergin.Bottom,this.Canvas.font=this.ItemFont;for(var e=0,i=0;i<this.Column.length;++i){var a=this.Column[i];if(a.Type==Vo.SYMBOL_NAME_ID){this.Canvas.font=this.ItemNameFont;var r=this.Canvas.measureText(a.MaxText).width,n=this.GetFontHeight(this.ItemNameFont,"擎");this.ItemNameHeight=n,this.Canvas.font=this.ItemSymbolFont;var o=this.Canvas.measureText(a.MaxText).width,s=this.GetFontHeight(this.ItemSymbolFont,"擎");this.Canvas.font=this.ItemFont,e=Math.max(r,o),a.Width=e+4+this.ItemMergin.Left+this.ItemMergin.Right;var l=n+s+this.ItemMergin.Top+this.ItemMergin.Bottom;l>this.RowHeight&&(this.RowHeight=l),l>this.FixedRowHeight&&(this.FixedRowHeight=l)}else e=Ee.IsNumber(a.FixedWidth)?a.FixedWidth:this.Canvas.measureText(a.MaxText).width,a.Width=e+4+this.ItemMergin.Left+this.ItemMergin.Right}this.Canvas.font=this.HeaderFont;for(var i=0;i<this.Column.length;++i){var a=this.Column[i];if(a.Title&&!(a.Title.length<=0)){var h=a.Title;a.Sort>0&&(h+="↓"),e=this.Canvas.measureText(h).width,e+=4+this.HeaderMergin.Left+this.HeaderMergin.Right,a.Width<e&&(a.Width=e)}}this.HeaderHeight=this.GetFontHeight(this.HeaderFont,"擎")+this.HeaderMergin.Top+this.HeaderMergin.Bottom,this.IsShowHeader||(this.HeaderHeight=0),this.FixedRowCount<=0&&(this.FixedRowHeight=0),this.RowCount=parseInt((this.RectClient.Bottom-this.RectClient.Top-this.HeaderHeight-this.FixedRowHeight*this.FixedRowCount)/this.RowHeight);for(var u=0,d=this.RectClient.Right-this.RectClient.Left,i=0;i<this.Column.length;++i){var a=this.Column[i];u+=a.Width}this.IsShowAllColumn=u<d},this.DrawHeader=function(){if(this.IsShowHeader){var t=this.RectClient.Left,e=this.RectClient.Top,i=e+this.HeaderMergin.Top+(this.HeaderHeight-this.HeaderMergin.Top-this.HeaderMergin.Bottom)/2;this.Canvas.font=this.HeaderFont,this.Canvas.fillStyle=this.HeaderColor;for(var a=t,r=0;r<this.FixedColumn&&r<this.Column.length;++r){var n=this.Column[r],o=n.Width,s=o-this.HeaderMergin.Left-this.HeaderMergin.Right,l=a+this.HeaderMergin.Left;this.SortInfo&&this.SortInfo.Field==r&&this.SortInfo.Sort>0?this.DrawSortHeader(n.Title,n.TextAlign,l,i,s,this.SortInfo.Sort):this.DrawText(n.Title,n.TextAlign,l,i,s),a+=n.Width}for(var r=this.FixedColumn+this.Data.XOffset;r<this.Column.length;++r){var n=this.Column[r],o=n.Width,s=o-this.HeaderMergin.Left-this.HeaderMergin.Right,l=a+this.HeaderMergin.Left;this.SortInfo&&this.SortInfo.Field==r&&this.SortInfo.Sort>0?this.DrawSortHeader(n.Title,n.TextAlign,l,i,s,this.SortInfo.Sort):this.DrawText(n.Title,n.TextAlign,l,i,s),a+=n.Width}}},this.DrawText=function(t,e,i,a,r){"center"==e?(i+=r/2,this.Canvas.textAlign="center"):"right"==e?(i+=r,this.Canvas.textAlign="right"):this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(t,i,a)},this.DrawSortHeader=function(t,e,i,a,r,n){var o=1==n?"↓":"↑",s=this.Canvas.measureText(o).width,l=this.Canvas.measureText(t).width+2;this.Canvas.textBaseline="middle",this.Canvas.textAlign="left","center"==e?i=i+r/2-(s+l)/2:"right"==e&&(i=i+r-s-l),this.Canvas.fillText(t,i,a),this.Canvas.fillStyle=this.SortColor,this.Canvas.fillText(o,i+l,a),this.Canvas.fillStyle=this.HeaderColor},this.DrawBorder=function(){if(this.IsDrawBorder){var t=this.RectClient.Left,e=this.RectClient.Right,i=this.RectClient.Top;this.RectClient.Bottom;this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),this.Canvas.moveTo(t,v(i+this.HeaderHeight)),this.Canvas.lineTo(e,v(i+this.HeaderHeight));for(var a=i+this.HeaderHeight+this.RowHeight,r=a,n=0;n<this.FixedRowCount;++n){var o=v(a);this.Canvas.moveTo(t,o),this.Canvas.lineTo(e,o),r=a,a+=this.FixedRowHeight}for(var a=i+this.HeaderHeight+this.RowHeight+this.FixedRowHeight*this.FixedRowCount,r=a,n=0;n<this.RowCount;++n){var o=v(a);this.Canvas.moveTo(t,o),this.Canvas.lineTo(e,o),r=a,a+=this.RowHeight}for(var s=t,n=0;n<this.FixedColumn&&n<this.Column.length;++n){var l=this.Column[n],h=v(s+l.Width);this.Canvas.moveTo(h,i),this.Canvas.lineTo(h,r),s+=l.Width}for(var n=this.FixedColumn+this.Data.XOffset;n<this.Column.length;++n){var l=this.Column[n],h=v(s+l.Width);this.Canvas.moveTo(h,i),this.Canvas.lineTo(h,r),s+=l.Width}this.Canvas.stroke()}},this.DrawBody=function(){if(this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){this.Canvas.font=this.ItemFont;var t=this.RectClient.Top+this.HeaderHeight,e=this.RectClient.Left,i=this.RectClient.Right-this.RectClient.Left,a=t;this.Canvas.font=this.ItemFixedFont;for(var r=0;r<this.FixedRowCount;++r)this.SelectedFixedRow==r&&(this.Canvas.fillStyle=this.SelectedColor,this.Canvas.fillRect(e,a,i,this.FixedRowHeight)),1==this.FixedRowData.Type?this.DrawFixedSymbolRow(a,r):this.DrawFixedRow(a,r),a+=this.FixedRowHeight;a=t+this.FixedRowHeight*this.FixedRowCount,this.Canvas.font=this.ItemFont;for(var r=this.Data.YOffset,n=0;r<this.Data.Data.length&&n<this.RowCount;++r,++n){var o=this.Data.Data[r],s=!1;if(0==this.SelectedModel?n==this.SelectedRow&&(s=!0):r==this.SelectedRow&&(s=!0),this.DragRow){if(this.DragRow.Data){var l=this.DragRow.Data.Row.DataIndex;l==r&&(this.Canvas.fillStyle=this.DragSrcRowColor,this.Canvas.fillRect(e,a,i,this.RowHeight))}if(this.DragRow.MoveRow){var l=this.DragRow.MoveRow.Data.DataIndex;l==r&&(this.Canvas.fillStyle=this.DragMoveRowColor,this.Canvas.fillRect(e,a,i,this.RowHeight))}s=!1}s&&(this.Canvas.fillStyle=this.SelectedColor,this.Canvas.fillRect(e,a,i,this.RowHeight)),this.DrawRow(o,a,r),this.ShowSymbol.push({Index:r,Symbol:o}),a+=this.RowHeight}}},this.DrawFixedSymbolRow=function(t,e){this.RectClient.Left,this.RectClient.Right;if(this.FixedRowData&&Ee.IsNonEmptyArray(this.FixedRowData.Symbol)){var i=this.FixedRowData.Symbol[e];i&&(this.DrawRow(i,t,e,1),this.ShowSymbol.push({Index:e,Symbol:i,RowType:1}))}},this.DrawFixedRow=function(t,e){for(var i=this.RectClient.Left,a=this.RectClient.Right,r=0;r<this.FixedColumn&&r<this.Column.length;++r){var n=this.Column[r];if(this.DrawFixedItem(e,r,n,i,t),(i+=n.Width)>=a)break}for(var r=this.FixedColumn+this.Data.XOffset;r<this.Column.length;++r){var n=this.Column[r];if(this.DrawFixedItem(e,r,n,i,t),(i+=n.Width)>=a)break}},this.DrawFixedItem=function(t,e,i,a,r){var n=a+this.ItemMergin.Left,o=i.Width-this.ItemMergin.Left-this.ItemMergin.Right,s={Text:null,TextColor:i.TextColor,TextAlign:i.TextAlign};if(this.GetFixedRowTextDrawInfo(t,e,i,s))return void this.DrawItemText(s.Text,s.TextColor,s.TextAlign,n,r,o);if(this.FixedRowData&&Ee.IsNonEmptyArray(this.FixedRowData.Data)){var l=this.FixedRowData.Data,h=l[t];if(Ee.IsNonEmptyArray(h)){var u=h[e];u&&u.Text&&(s.Text=u.Text,u.Color&&(s.TextColor=u.Color),u.TextAlign&&(s.TextAlign=u.TextAlign),this.DrawItemText(s.Text,s.TextColor,s.TextAlign,n,r,o))}}},this.DrawRow=function(t,e,i,a){var r=this.RectClient.Left,n=this.RectClient.Right,o={Symbol:t,Stock:null,Block:null};this.GetStockDataCallback&&(o.Stock=this.GetStockDataCallback(t)),this.GetBlockDataCallback&&(o.Block=this.GetBlockDataCallback(t)),this.GetFlashBGDataCallback&&(o.FlashBG=this.GetFlashBGDataCallback(t,Date.now())),o.Decimal=pr(t);for(var s=0;s<this.FixedColumn&&s<this.Column.length;++s){var l=this.Column[s];if(this.DrawItem(i,o,l,r,e,a),(r+=l.Width)>=n)break}for(var s=this.FixedColumn+this.Data.XOffset;s<this.Column.length;++s){var l=this.Column[s];if(this.DrawItem(i,o,l,r,e,a),(r+=l.Width)>=n)break}},this.DrawItem=function(t,e,i,a,r,n){var o=(i.Width,a+this.ItemMergin.Left),s=i.Width-this.ItemMergin.Left-this.ItemMergin.Right,l=e.Stock,h={Text:null,TextColor:i.TextColor,TextAlign:i.TextAlign},u={Left:a,Top:r,Width:i.Width,Height:this.RowHeight};if(u.Right=u.Left+u.Width,u.Bottom=u.Top+u.Height,h.Rect=u,!0===i.EnableTooltip&&this.TooltipRect.push({Rect:u,Stock:l,Index:t,Column:i,RowType:n}),i.Type==Vo.INDEX_ID){if(1==n)return;h.Text=(t+1).toString()}else if(i.Type==Vo.SYMBOL_ID)l&&l.Symbol?h.Text=l.Symbol:h.Text=e.Symbol,this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.SYMBOL_NAME_ID)this.DrawSymbolName(e,i,a,r,n),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.NAME_ID)l&&l.Name&&Ee.IsString(l.Name)&&(h.Text=this.TextEllipsis(l.Name,s,i.MaxText),h.TextColor=this.GetNameColor(i,e.Symbol,n)),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.NAME_EX_ID){if(l&&l.NameEx){var c=l.NameEx;h.Text=this.TextEllipsis(c.Text,s,i.MaxText),h.TextColor=this.GetNameColor(i,e.Symbol,n),c.Symbol&&(h.Symbol=c.Symbol)}}else if(i.Type==Vo.PRICE_ID)l&&this.GetPriceDrawInfo(l.Price,l,e,h,{LimitBG:!0}),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.OPEN_ID)l&&(this.DrawLimitPriceBorder(l.Open,l,a,r,i.Width),this.GetPriceDrawInfo(l.Open,l,e,h,{LimitBG:!0})),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.HIGH_ID)l&&(this.DrawLimitPriceBorder(l.High,l,a,r,i.Width),this.GetPriceDrawInfo(l.High,l,e,h,{LimitBG:!0})),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.LOW_ID)l&&(this.DrawLimitPriceBorder(l.Low,l,a,r,i.Width),this.GetPriceDrawInfo(l.Low,l,e,h,{LimitBG:!0})),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.YCLOSE_ID)l&&this.GetPriceDrawInfo(l.YClose,l,e,h),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.BUY_PRICE_ID)l&&this.GetPriceDrawInfo(l.BuyPrice,l,e,h),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.SELL_PRICE_ID)l&&this.GetPriceDrawInfo(l.SellPrice,l,e,h),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.AVERAGE_PRICE_ID)l&&this.GetPriceDrawInfo(l.AvPrice,l,e,h),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.EXCHANGE_RATE_ID)l&&Ee.IsNumber(l.Exchange)&&(h.Text=l.Exchange.toFixed(2)),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.BUY_VOL_ID)l&&Ee.IsNumber(l.BuyVol)&&(h.Text=this.FormatVolString(l.BuyVol)),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.SELL_VOL_ID)l&&Ee.IsNumber(l.SellVol)&&(h.Text=this.FormatVolString(l.SellVol)),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.VOL_ID)l&&Ee.IsNumber(l.Vol)&&(h.Text=this.FormatVolString(l.Vol)),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.VOL_IN_ID)l&&Ee.IsNumber(l.VolIn)&&(h.Text=this.FormatVolString(l.VolIn)),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.VOL_OUT_ID)l&&Ee.IsNumber(l.VolOut)&&(h.Text=this.FormatVolString(l.VolOut)),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.TOTAL_SHARES_ID)l&&Ee.IsNumber(l.TotalShares)&&(h.Text=this.FormatVolString(l.TotalShares)),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.OUTSTANDING_SHARES_ID)l&&Ee.IsNumber(l.OutShares)&&(h.Text=this.FormatVolString(l.OutShares)),this.FormatDrawInfo(i,l,h,e);else if(i.Type==Vo.CIRC_MARKET_VALUE_ID||i.Type==Vo.MARKET_VALUE_ID||i.Type==Vo.AMOUNT_ID){var d=Go.get(i.Type);l&&Ee.IsNumber(l[d])&&(h.Text=this.FormatVolString(l[d])),this.FormatDrawInfo(i,l,h,e)}else if(i.Type==Vo.INCREASE_ID||i.Type==Vo.AMPLITUDE_ID||i.Type==Vo.UPDOWN_ID){var d=Go.get(i.Type);if(l&&Ee.IsNumber(l[d])){var f=l[d];h.Text=f.toFixed(2),h.TextColor=this.GetUpDownColor(f,0)}this.FormatDrawInfo(i,l,h,e)}else if(i.Type==Vo.CUSTOM_STRING_TEXT_ID)this.GetCustomStringDrawInfo(e,i,h);else if(i.Type==Vo.CUSTOM_NUMBER_TEXT_ID)this.GetCustomNumberDrawInfo(e,i,h);else if(i.Type==Vo.CUSTOM_DATETIME_TEXT_ID)this.GetCustomDateTimeDrawInfo(e,i,h);else if(i.Type==Vo.CUSTOM_ICON_ID)this.GetCustomIconDrawInfo(e,i,h);else if(i.Type==Vo.CLOSE_LINE_ID){var u={Left:a,Top:r,Width:i.Width,Height:this.RowHeight};u.Right=u.Left+u.Width,u.Bottom=u.Top+u.Height,this.DrawLine(l.CloseLine,i,u)}else if(i.Type==Vo.KLINE_ID){var u={Left:a,Top:r,Width:i.Width,Height:this.RowHeight};u.Right=u.Left+u.Width,u.Bottom=u.Top+u.Height,this.DrawKLine(l.KLine,i,u,e)}if(3==n&&(h.TextColor=this.DragRowTextColor),h.Symbol)this.DrawItemTextEx(h,o,r,s);else if(i.Type==Vo.CUSTOM_ICON_ID)this.DrawIconItem(h,o,r,s);else{if(e.FlashBG&&e.FlashBG.Data&&void 0!=i.ID&&e.FlashBG.Data.has(i.ID)){var p=e.FlashBG.Data.get(i.ID),m={Rect:h.Rect,BGColor:p.Color};--p.Count,this.DrawItemBG(m),this.GlobalOption&&++this.GlobalOption.FlashBGCount}this.DrawItemBG(h),this.DrawItemText(h.Text,h.TextColor,h.TextAlign,o,r,s,h.BGColor)}},this.DrawSymbolName=function(t,e,i,a,r){var n,o=t.Stock,s=t.Symbol;if(o&&(s=o.Symbol,n=o.Name),s||n){var l=a+this.ItemMergin.Top+this.ItemNameHeight,h=i+this.ItemMergin.Left,u=h,c=e.Width-this.ItemMergin.Left-this.ItemMergin.Right,d=e.TextAlign;"center"==d?(u=h+c/2,this.Canvas.textAlign="center"):"right"==d?(u=h+c-2,this.Canvas.textAlign="right"):(u+=2,this.Canvas.textAlign="left");var f=this.GetNameColor(e,s,r),p=n;p&&(this.Canvas.textBaseline="ideographic",this.Canvas.fillStyle=f,this.Canvas.font=this.ItemNameFont,(p=this.TextEllipsis(p,c,e.MaxText))&&this.Canvas.fillText(p,u,l)),p=s,p&&(this.Canvas.textBaseline="top",this.Canvas.font=this.ItemSymbolFont,this.Canvas.fillStyle=f,this.Canvas.fillText(p,u,l)),this.Canvas.font=this.ItemFont}},this.DrawLimitPriceBorder=function(t,e,i,a,r){if(Ee.IsNumber(t)&&e){var n=!1;if(Ee.IsNumber(e.LimitHigh)&&t>=e.LimitHigh&&(n=!0),Ee.IsNumber(e.LimitLow)&&t<=e.LimitLow&&(n=!0),n){var o=i+this.ItemMergin.Left+this.LimitMergin.Left,s=r-this.ItemMergin.Left-this.ItemMergin.Right-this.LimitMergin.Left-this.LimitMergin.Right,l=a+this.ItemMergin.Top+this.LimitMergin.Top,h=this.RowHeight-this.ItemMergin.Top-this.ItemMergin.Bottom-this.LimitMergin.Top-this.LimitMergin.Bottom;this.Canvas.strokeStyle=this.LimitBorderColor,this.Canvas.strokeRect(v(o),v(l),g(s),g(h))}}},this.GetExtendData=function(t,e){if(Ee.IsNumber(e.DataIndex)){if(!t.Stock||!t.Stock.ExtendData)return null;if(e.DataIndex<0)return;return t.Stock.ExtendData[e.DataIndex]}if(Ee.IsNumber(e.BlockIndex)){if(!t.Block)return;if(e.BlockIndex<0)return;return t.Block[e.BlockIndex]}return null},this.GetCustomStringDrawInfo=function(t,e,i){var a=this.GetExtendData(t,e);if(e.IsDrawCallback)return void this.GetCustomTextDrawInfo(e,t.Symbol,a,i,t);Ee.IsString(a)&&(i.Text=a)},this.GetCustomNumberDrawInfo=function(t,e,i){var a=this.GetExtendData(t,e);if(e.IsDrawCallback)return void this.GetCustomTextDrawInfo(e,t.Symbol,a,i,t);if(Ee.IsNumber(a)){switch(e.FormatType){case 1:i.Text=a.toFixed(e.Decimal);break;case 2:i.Text=Ee.FormatValueThousandsString(a,e.Decimal);break;case 3:i.Text=this.FormatVolString(a);break;default:i.Text=Ee.FormatValueString(a,e.Decimal)}switch(e.ColorType){case 1:i.TextColor=this.GetUpDownColor(a,0);break;case 2:Ee.IsNumber(t.Stock.YClose)?i.TextColor=this.GetUpDownColor(a,t.Stock.YClose):i.TextColor=this.UnchagneColor}}},this.GetCustomDateTimeDrawInfo=function(t,e,i){var a=this.GetExtendData(t,e);if(Ee.IsNumber(a))return e.IsDrawCallback?void this.GetCustomTextDrawInfo(e,t.Symbol,a,i,t):void(0==e.ValueType&&(1==e.FormatType?i.Text=Ee.FormatDateString(a,"YYYY/MM/DD"):i.Text=Ee.FormatDateString(a)))},this.GetCustomIconDrawInfo=function(t,e,i){if(e.IsDrawCallback)return void this.GetCustomIconData(e,t.Symbol,i,t)},this.GetCustomIconData=function(t,e,i,a){var r=this.GetEventCallback(Rn.ON_REPORT_DRAW_CUSTOM_ICON);if(!r||!r.Callback)return!1;var n={Symbol:e,Column:t,Data:a,Out:{Text:null,TextColor:null,TextAlign:null,Font:null}};return r.Callback(r,n,this),n.Out.Text&&(i.Text=n.Out.Text),n.Out.TextColor&&(i.TextColor=n.Out.TextColor),n.Out.TextAlign&&(i.TextAlign=n.Out.TextAlign),n.Out.BGColor&&(i.BGColor=n.Out.BGColor),n.Out.Font&&(i.Font=n.Out.Font),!0},this.GetPriceDrawInfo=function(t,e,i,a,r){if(!Ee.IsNumber(t))return!1;a.Text=t.toFixed(i.Decimal),Ee.IsNumber(e.YClose)?a.TextColor=this.GetUpDownColor(t,e.YClose):a.TextColor=this.UnchagneColor,r&&r.LimitBG&&(Ee.IsNumber(e.LimitHigh)&&t>=e.LimitHigh&&(a.BGColor=this.LimitUpBGColor,a.TextColor=this.LimitTextColor),Ee.IsNumber(e.LimitLow)&&t<=e.LimitLow&&(a.BGColor=this.LimitDownBGColor,a.TextColor=this.LimitTextColor))},this.GetUpDownColor=function(t,e){return t>e?this.UpColor:t<e?this.DownColor:this.UnchagneColor},this.FormatVolString=function(t,e){return Ee.FormatVolString(t,e)},this.DrawItemBG=function(t){if(t.BGColor&&t.Rect){var e=t.Rect;this.Canvas.fillStyle=t.BGColor,this.Canvas.fillRect(e.Left,e.Top,e.Width,e.Height)}},this.DrawItemText=function(t,e,i,a,r,n,o){if(t){var s=a;"center"==i?(s=a+n/2,this.Canvas.textAlign="center"):"right"==i?(s=a+n-2,this.Canvas.textAlign="right"):(s+=2,this.Canvas.textAlign="left");var l=this.Canvas.measureText(t).width+1,h=!1;if(l>=n){this.Canvas.save(),h=!0;var u={Left:a,Top:r+this.ItemMergin.Top,Width:n,Height:this.RowHeight};this.Canvas.beginPath(),this.Canvas.rect(u.Left,u.Top,u.Width,u.Height),this.Canvas.clip()}this.Canvas.textBaseline="middle",this.Canvas.fillStyle=e,this.Canvas.fillText(t,s,r+this.ItemMergin.Top+this.RowHeight/2),h&&this.Canvas.restore()}},this.DrawItemTextEx=function(t,e,i,a){var r=t.Text,n=t.TextColor,o=t.Symbol,s=t.TextAlign,l=this.Canvas.measureText(r).width+1,h=l,u=o.Size*c()+"px "+o.Family;this.Canvas.font=u;for(var d=[],f=0;f<o.Data.length;++f){var p=o.Data[f],m=this.Canvas.measureText(p.Text).width+1;if(h+m>a)break;h+=m,d[f]=m}var C=e,v=i+this.ItemMergin.Top+this.RowHeight/2;"center"==s?C=e+(a-h)/2:"right"==s?C=e+(a-h):C+=2,this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.font=this.ItemFont,this.Canvas.fillStyle=n,this.Canvas.fillText(r,C,v),C+=l,this.Canvas.font=u;for(var f=0;f<d.length;++f){var p=o.Data[f];this.Canvas.fillStyle=p.Color,this.Canvas.fillText(p.Text,C,v),C+=d[f]}this.Canvas.font=this.ItemFont},this.DrawIconItem=function(t,e,i,a){if(t&&t.Font&&t.Text){var r=t.Text,n=t.TextColor,o=t.TextAlign;this.Canvas.font=t.Font;var s=this.Canvas.measureText(r).width+1,l=e,h=i+this.ItemMergin.Top+this.RowHeight/2;"center"==o?l=e+(a-s)/2:"right"==o?l=e+(a-s):l+=2,this.Canvas.textBaseline="middle",this.Canvas.textAlign="left",this.Canvas.fillStyle=n,this.Canvas.fillText(r,l,h),this.Canvas.font=this.ItemFont}},this.TextEllipsis=function(t,e,i){if(!t)return null;if(t.length<i.length)return t;var a=i.length-3;if(a<0)return null;for(var r=t.slice(0,a),n=a;n<t.length;++n){var o=r+t[n]+"...";if(this.Canvas.measureText(o).width>e){r+="...";break}r+=t[n]}return r},this.DrawMultiBar=function(t,e,i){if(!e.Source||!Ee.IsNonEmptyArray(e.Source))return!1;var a=e.Source[t.DataIndex];if(!a)return!1;if(!Ee.IsNonEmptyArray(a.Value))return!1;for(var r=i.Width-this.BarMergin.Left-this.BarMergin.Right,n=i.Left+this.BarMergin.Left,o=i.Top+this.RowMergin.Top+this.BarMergin.Top,s=i.Height-this.RowMergin.Top-this.RowMergin.Bottom-this.BarMergin.Top-this.BarMergin.Bottom,l=n+r,h=0;h<a.Value.length;++h){var u=a.Value[h];if(!(u<=0)){if(n>=l)break;var c=r*u;c<1&&(c=1),n+c>l&&(c=l-n);var d=h;Ee.IsNonEmptyArray(a.Color)&&h<a.Color.length&&(d=a.Color[h]),this.Canvas.fillStyle=lo.DealList.FieldColor.Bar[d],this.Canvas.fillRect(n,o,c,s),n+=c}}return!0},this.DrawCenterBar=function(t,e,i){if(!e.Source||!Ee.IsNonEmptyArray(e.Source))return!1;var a=e.Source[t.DataIndex];if(!a)return!1;if(!Ee.IsNonEmptyArray(a.Value))return!1;for(var r=(i.Width-this.BarMergin.Left-this.BarMergin.Right)/2,n=i.Left+this.BarMergin.Left,o=n+r,s=i.Top+this.RowMergin.Top+this.BarMergin.Top,l=i.Height-this.RowMergin.Top-this.RowMergin.Bottom-this.BarMergin.Top-this.BarMergin.Bottom,h=0;h<a.Value.length&&h<2;++h){var u=a.Value[h];if(!(u<=0)){u>1&&(u=1);var c=r*u;c<1&&(c=1);var d=h;Ee.IsNonEmptyArray(a.Color)&&h<a.Color.length&&(d=a.Color[h]),this.Canvas.fillStyle=lo.DealList.FieldColor.Bar[d],0==h?this.Canvas.fillRect(o,s,-c,l):this.Canvas.fillRect(o,s,c,l)}}},this.DrawLine=function(t,e,i){if(!t)return!1;if(!Ee.IsNonEmptyArray(t.Data))return!1;var a=i.Width-this.ItemMergin.Left-this.ItemMergin.Right,r=i.Left+this.ItemMergin.Left,n=i.Top+this.ItemMergin.Top,o=i.Height-this.ItemMergin.Top-this.ItemMergin.Bottom,s=r+a,l=n+o,h=t.Max,u=t.Min;if(Ee.IsNumber(t.YClose))if(t.YClose==h&&t.YClose==u)h=t.YClose+.1*t.YClose,u=t.YClose-.1*t.YClose;else{var c=Math.max(Math.abs(t.YClose-h),Math.abs(t.YClose-u));h=t.YClose+c,u=t.YClose-c}var d=function(t){if(t<=u)return l;if(t>=h)return n;var t=o*(t-u)/(h-u);return l-t};this.Canvas.save();var f=null;if(Ee.IsNumber(t.YClose)){var p=d(t.YClose);p=v(p),f=p,this.Canvas.setLineDash([2,2]),this.Canvas.strokeStyle=this.CloseLineConfig.YCloseColor,this.Canvas.beginPath(),this.Canvas.moveTo(r,p),this.Canvas.lineTo(s,p),this.Canvas.stroke(),this.Canvas.setLineDash([])}t.Color?this.Canvas.strokeStyle=t.Color:this.Canvas.strokeStyle=this.CloseLineConfig.CloseColor;for(var m,p,C=!0,D={},g=0,S=0;S<t.Data.length;++S){var x=t.Data[S];Ee.IsNumber(x)&&(m=function(e){var i=t.Count;return 1==i?0==e?r:s:i<=0?r:e>=i?s:r+a*e/i}(S),p=d(x),C?(this.Canvas.beginPath(),this.Canvas.moveTo(m,p),C=!1,D={X:m,Y:p}):this.Canvas.lineTo(m,p),++g)}g>0&&(this.Canvas.stroke(),e.IsDrawArea&&Ee.IsNumber(f)&&(this.Canvas.lineTo(m,f),this.Canvas.lineTo(D.X,f),this.Canvas.closePath(),this.SetFillStyle(this.CloseLineConfig.AreaColor,r,n,r,l),this.Canvas.fill())),this.Canvas.restore()},this.DrawKLine=function(t,e,i,a){if(e.IsDrawCallback){var r=this.GetEventCallback(Rn.ON_REPORT_DRAW_KLINE);if(r||r.Callback){var n={Column:e,Data:a,KLineData:t,Rect:i,PreventDefault:!1};if(r.Callback(r,n,this),n.PreventDefault)return}}if(t&&Ee.IsNonEmptyArray(t.Data)){var o=t.Data[1],s=t.Data[2],l=[{Open:t.Data[0],High:o,Low:s,Close:t.Data[3]}];this.DrawKLineBar(l,o,s,i)}},this.DrawKLineBar=function(t,e,i,a){for(var r,n,o=a.Left+this.ItemMergin.Left,s=a.Width-this.ItemMergin.Left-this.ItemMergin.Right,o=a.Left+this.ItemMergin.Left,l=a.Top+this.ItemMergin.Top+4,h=a.Height-this.ItemMergin.Top-this.ItemMergin.Bottom-8,u=o+s,c=l+h,d=function(t){if(t<=i)return c;if(t>=e)return l;var t=h*(t-i)/(e-i);return c-t},f=this.KLineConfig.DataWidth,p=this.KLineConfig.DistanceWidth,m=o,C=0;C<t.length;++C,m+=f+p){var v=t[C];if(r=m,n=m+f,r+(n-r)/2,n>u)break;var D=d(v.Low),g=d(v.High),S=d(v.Open),x=d(v.Close);v.Open<v.Close?this.DrawKBarItem(v,f,this.KLineConfig.UpColor,1,r,n,D,g,S,x):v.Open>v.Close?this.DrawKBarItem(v,f,this.KLineConfig.DownColor,0,r,n,D,g,S,x):this.DrawKBarItem(v,f,this.KLineConfig.UnchagneColor,0,r,n,D,g,S,x)}},this.DrawKBarItem=function(t,e,i,a,r,n,o,s,l,h){var u=!1;1==a&&(u=!0);var c=Math.min(l,h),d=Math.max(l,h),f=Math.max(t.Open,t.Close),p=Math.min(t.Open,t.Close);this.Canvas.fillStyle=i,this.Canvas.strokeStyle=i;var m=r+(n-r)/2;if(u&&e%2!=0&&(e-=1),e>=4){if(t.High>f){this.Canvas.beginPath();var C=m;u&&(C=r+e/2),this.Canvas.moveTo(v(C),v(c)),this.Canvas.lineTo(v(C),v(s)),this.Canvas.stroke()}if(Math.abs(d-c)<1?this.Canvas.fillRect(g(r),g(c),g(e),1):u?(this.Canvas.beginPath(),this.Canvas.rect(v(r),v(c),g(e),g(d-c)),this.Canvas.stroke()):this.Canvas.fillRect(g(r),g(c),g(e),g(d-c)),t.Low<p){this.Canvas.beginPath();var C=m;u&&(C=r+e/2),this.Canvas.moveTo(v(C),v(d)),this.Canvas.lineTo(v(C),v(o)),this.Canvas.stroke()}}},this.SetFillStyle=function(t,e,i,a,r){if(Array.isArray(t)){var n=this.Canvas.createLinearGradient(e,i,a,r),o=1/t.length;for(var s in t)n.addColorStop(s*o,t[s]);this.Canvas.fillStyle=n}else this.Canvas.fillStyle=t},this.GetCustomTextDrawInfo=function(t,e,i,a,r){var n=this.GetEventCallback(Rn.ON_DRAW_CUSTOM_TEXT);if(!n||!n.Callback)return!1;var o={Symbol:e,Column:t,Value:i,Data:r,Out:{Text:null,TextColor:null,TextAlign:null}};return n.Callback(n,o,this),o.Out.Text&&(a.Text=o.Out.Text),o.Out.TextColor&&(a.TextColor=o.Out.TextColor),o.Out.TextAlign&&(a.TextAlign=o.Out.TextAlign),o.Out.BGColor&&(a.BGColor=o.Out.BGColor),!0},this.FormatDrawInfo=function(t,e,i,a){if(!t.IsDrawCallback)return!1;var r=this.GetEventCallback(Rn.ON_REPORT_FORMAT_DRAW_INFO);if(!r||!r.Callback)return!1;var n={Stock:e,Column:t,Data:a,DrawInfo:i};r.Callback(r,n,this)},this.GetFixedRowTextDrawInfo=function(t,e,i,a){var r=this.GetEventCallback(Rn.ON_DRAW_REPORT_FIXEDROW_TEXT);if(!r||!r.Callback)return!1;var n={RowIndex:t,ColIndex:e,Column:i,Data:this.FixedRowData,Out:{Text:null,TextColor:null,TextAlign:null}};return r.Callback(r,n,this),n.Out.Text&&(a.Text=n.Out.Text),n.Out.TextColor&&(a.TextColor=n.Out.TextColor),n.Out.TextAlign&&(a.TextAlign=n.Out.TextAlign),!0},this.GetVolColor=function(t,e){var i=this.GetEventCallback(Rn.ON_DRAW_DEAL_VOL_COLOR);if(i&&i.Callback){var a={Data:e,TextColor:null};if(i.Callback(i,a,this),a.TextColor)return a.TextColor}return t.TextColor},this.GetNameColor=function(t,e,i){var a=this.GetEventCallback(Rn.ON_DRAW_REPORT_NAME_COLOR);if(a&&a.Callback){var r={Symbol:e,TextColor:null,RowType:i};if(a.Callback(a,r,this),r.TextColor)return r.TextColor}return t.TextColor},this.GetFontHeight=function(t,e){return d(this.Canvas,t,e)},this.OnMouseDown=function(t,e,i){if(!this.Data)return null;if(this.Tab){var a=this.Tab.OnMouseDown(t,e,i);if(a)return{Type:1,Tab:a}}var r=c(),n={X:t/r,Y:e/r};if(this.UIElement)var o={Left:this.UIElement.getBoundingClientRect().left,Top:this.UIElement.getBoundingClientRect().top};else var o={Left:null,Top:null};var s=this.PtInFixedBody(t,e);if(s){var l=!0,h=Rn.ON_CLICK_REPORT_FIXEDROW;return 2==i.button&&(h=Rn.ON_RCLICK_REPORT_FIXEDROW),this.SendClickEvent(h,{Data:s,X:t,Y:e,e:i,Inside:n,UIElement:o}),this.SelectedFixedRow=s.Index,this.SelectedRow=-1,{Type:4,Redraw:l,Row:s}}var s=this.PtInBody(t,e);if(s){var l=!0;0==this.SelectedModel?(this.SelectedRow==s.Index&&(l=!1),this.SelectedRow=s.Index,this.SelectedFixedRow=-1):(this.SelectedRow==s.DataIndex&&(l=!1),this.SelectedRow=s.DataIndex,this.SelectedFixedRow=-1);var h=Rn.ON_CLICK_REPORT_ROW;return 2==i.button&&(h=Rn.ON_RCLICK_REPORT_ROW),this.SendClickEvent(h,{Data:s,X:t,Y:e,e:i,Inside:n,UIElement:o}),{Type:2,Redraw:l,Row:s}}var u=this.PtInHeader(t,e);if(u){var h=Rn.ON_CLICK_REPORT_HEADER;return 2==i.button?h=Rn.ON_RCLICK_REPORT_HEADER:0==i.button&&(h=Rn.ON_CLICK_REPORT_HEADER),this.SendClickEvent(h,{Data:s,X:t,Y:e,e:i,Inside:n,UIElement:o}),{Type:3,Redraw:l,Header:u}}return null},this.OnDrawgRow=function(t,e,i){if(!this.Data)return null;if(!Ee.IsNonEmptyArray(this.Data.Data))return null;var a=this.RowHeight/2,r=this.RectClient.Top+this.HeaderHeight,n=this.ChartBorder.GetChartWidth(),o=r+this.FixedRowHeight*this.FixedRowCount;if(e<o+a)return{Type:5};for(var s=this.Data.YOffset,l=0;s<this.Data.Data.length&&l<this.RowCount;++s,++l){var h=this.Data.Data[s],u={Left:0,Top:o,Right:n,Bottom:o+this.RowHeight};if(u.Top+=a,u.Bottom+=a,t>=u.Left&&t<=u.Right&&e>=u.Top&&e<=u.Bottom){var c={DataIndex:s,Index:l,Symbol:h,Pos:0};return 0==l?c.Pos=1:l==this.RowCount-1&&(c.Pos=2),{Type:2,Data:c}}o+=this.RowHeight}return l<this.RowCount?{Type:6}:{Type:7}},this.OnDblClick=function(t,e,i){if(!this.Data)return!1;var a=this.PtInHeaderDragBorder(t,e);if(a)return this.SendClickEvent(Rn.ON_DBCLICK_REPORT_DRAG_COLUMN_WIDTH,{Data:a,X:t,Y:e}),!0;var r=this.PtInBody(t,e);return!!r&&(this.SendClickEvent(Rn.ON_DBCLICK_REPORT_ROW,{Data:r,X:t,Y:e}),!0)},this.PtInBody=function(t,e){if(!this.Data)return null;if(!Ee.IsNonEmptyArray(this.Data.Data))return null;for(var i=this.RectClient.Top+this.HeaderHeight,a=this.RectClient.Left,r=this.RectClient.Right,n=(this.RectClient.Right,this.RectClient.Left,i+this.FixedRowHeight*this.FixedRowCount),o=this.Data.YOffset,s=0;o<this.Data.Data.length&&s<this.RowCount;++o,++s){var l=this.Data.Data[o],h={Left:a,Top:n,Right:r,Bottom:n+this.RowHeight};if(t>=h.Left&&t<=h.Right&&e>=h.Top&&e<=h.Bottom){var u={Rect:h,DataIndex:o,Index:s,Symbol:l};return u.Item=this.PtInItem(t,e,h.Top,h.Bottom),u}n+=this.RowHeight}return null},this.PtInFixedBody=function(t,e){if(this.FixedRowCount<=0)return null;for(var i=this.RectClient.Top+this.HeaderHeight,a=this.RectClient.Left,r=this.RectClient.Right,n=(this.RectClient.Right,this.RectClient.Left,i),o=0;o<this.FixedRowCount;++o){var s={Left:a,Top:n,Right:r,Bottom:n+this.FixedRowHeight};if(t>=s.Left&&t<=s.Right&&e>=s.Top&&e<=s.Bottom){var l={Rect:s,Index:o};return l.Item=this.PtInItem(t,e,s.Top,s.Bottom),l}n+=this.FixedRowHeight}return null},this.PtInItem=function(t,e,i,a){for(var r=this.RectClient.Left,n=this.RectClient.Right,o=r,s=0;s<this.FixedColumn&&s<this.Column.length;++s){var l=this.Column[s],h={Left:o,Right:o+l.Width,Top:i,Bottom:a};if(t>=h.Left&&t<=h.Right&&e>=h.Top&&e<=h.Bottom)return{Rect:h,Column:l,Index:s,IsFixed:!0};o+=l.Width}for(var s=this.FixedColumn+this.Data.XOffset;s<this.Column.length;++s){var l=this.Column[s];if(o>=n)break;var h={Left:o,Right:o+l.Width,Top:i,Bottom:a};if(t>=h.Left&&t<=h.Right&&e>=h.Top&&e<=h.Bottom)return{Rect:h,Column:l,Index:s,IsFixed:!1};o+=l.Width}return null},this.PtInHeader=function(t,e){if(!this.IsShowHeader)return null;var i=this.RectClient.Left,a=this.RectClient.Right,r=this.RectClient.Top,n=r+this.HeaderHeight;return t>=i&&t<=a&&e>=r&&e<=n?this.PtInItem(t,e,r,n):null},this.IsPtInBody=function(t,e){var i=this.RectClient.Top+this.HeaderHeight,a=this.RectClient.Left,r=this.RectClient.Right,n=this.RectClient.Bottom;return t>=a&&t<=r&&e>=i&&e<=n},this.IsPtInHeader=function(t,e){if(!this.IsShowHeader)return!1;var i=this.RectClient.Left,a=this.RectClient.Right,r=this.RectClient.Top,n=r+this.HeaderHeight;return t>=i&&t<=a&&e>=r&&e<=n},this.SendClickEvent=function(t,e){var i=this.GetEventCallback(t);i&&i.Callback&&i.Callback(i,e,this)},this.DrawDragRow=function(){if(this.DragRow){var t=this.DragRow;if(t.Data&&t.Inside&&t.Data.Row){var e=t.Data.Row.DataIndex;if(Ee.IsNumber(e)&&!(e<0)){var i=t.Inside.Y-this.RowHeight/2,a=i,r=this.RectClient.Left,n=this.RectClient.Right-this.RectClient.Left;this.Canvas.fillStyle=this.DragRowColor,this.Canvas.fillRect(r,i,n,this.RowHeight);var o=this.Data.Data[e],s={Symbol:o,Stock:null,Block:null};this.GetStockDataCallback&&(s.Stock=this.GetStockDataCallback(o)),this.GetBlockDataCallback&&(s.Block=this.GetBlockDataCallback(o)),s.Decimal=pr(o);var l=this.RectClient.Right;this.Canvas.font=this.ItemFont;for(var h=0;h<this.FixedColumn&&h<this.Column.length;++h){var u=this.Column[h];if(this.DrawItem(e,s,u,r,a,3),(r+=u.Width)>=l)break}for(var h=this.FixedColumn+this.Data.XOffset;h<this.Column.length;++h){var u=this.Column[h];if(this.DrawItem(e,s,u,r,a,3),(r+=u.Width)>=l)break}}}}},this.PtInCell=function(t,e){if(!Ee.IsNonEmptyArray(this.TooltipRect))return null;for(var i=0;i<this.TooltipRect.length;++i){var a=this.TooltipRect[i],r=a.Rect;if(r&&(t>=r.Left&&t<=r.Right&&e>=r.Top&&e<=r.Bottom))return{Rect:a.Rect,Stock:a.Stock,Column:a.Column,Index:a.Index}}},this.PtInHeaderDragBorder=function(t,e){if(!this.IsShowHeader)return null;var i=this.RectClient.Left,a=this.RectClient.Right,r=this.RectClient.Top,n=r+this.HeaderHeight;if(!(t>=i&&t<=a&&e>=r&&e<=n))return null;for(var o=i,s=5*c(),l=0;l<this.FixedColumn&&l<this.Column.length;++l){var h=this.Column[l];if(!0===h.EnableDragWidth){var u={Right:o+h.Width,Top:r,Bottom:n};if(u.Left=u.Right-s,t>=u.Left&&t<=u.Right&&e>=u.Top&&e<=u.Bottom)return{Rect:u,Column:h,Index:l,IsFixed:!0}}o+=h.Width}for(var l=this.FixedColumn+this.Data.XOffset;l<this.Column.length;++l){var h=this.Column[l];if(o>=a)break;if(!0===h.EnableDragWidth){var u={Right:o+h.Width,Top:r,Bottom:n};if(u.Left=u.Right-s,t>=u.Left&&t<=u.Right&&e>=u.Top&&e<=u.Bottom)return{Rect:u,Column:h,Index:l,IsFixed:!1}}o+=h.Width}return null}}function qr(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="ChartReportTab",this.IsDrawFirst=!1,this.GetEventCallback,this.Report,this.IsShow=!0,this.TabList=[],this.SelectedTabIndex=-1,this.MoveOnTabIndex=-1,this.MaxPos=15,this.CurrentPos=15,this.Step=1,this.ScrollBarWidth=lo.Report.Tab.ScrollBarWidth,this.ButtonColor=lo.Report.Tab.ButtonColor,this.BarColor=lo.Report.Tab.BarColor,this.BorderColor=lo.Report.Tab.BorderColor,this.Mergin={Left:2,Right:2,Top:2,Bottom:2},this.TabFontConfig={Size:lo.Report.Tab.Font.Size,Name:lo.Report.Tab.Font.Name},this.TabFont,this.TabTitleColor=lo.Report.Tab.TabTitleColor,this.TabSelectedTitleColor=lo.Report.Tab.TabSelectedTitleColor,this.TabSelectedBGColor=lo.Report.Tab.TabSelectedBGColor,this.TabMoveOnTitleColor=lo.Report.Tab.TabMoveOnTitleColor,this.TabBGColor=lo.Report.Tab.TabBGColor,this.TabMergin={Top:lo.Report.Tab.Mergin.Top,Left:lo.Report.Tab.Mergin.Left,Right:lo.Report.Tab.Mergin.Right,Bottom:lo.Report.Tab.Mergin.Bottom},this.Height,this.ButtonSize=25,this.TabWidth=0,this.RectScroll={Left:null,Right:null,Bar:null,Client:null},this.ReloadResource=function(t){this.ScrollBarWidth=lo.Report.Tab.ScrollBarWidth,this.ButtonColor=lo.Report.Tab.ButtonColor,this.BarColor=lo.Report.Tab.BarColor,this.BorderColor=lo.Report.Tab.BorderColor,this.TabFontConfig={Size:lo.Report.Tab.Font.Size,Name:lo.Report.Tab.Font.Name},this.TabTitleColor=lo.Report.Tab.TabTitleColor,this.TabSelectedTitleColor=lo.Report.Tab.TabSelectedTitleColor,this.TabSelectedBGColor=lo.Report.Tab.TabSelectedBGColor,this.TabMoveOnTitleColor=lo.Report.Tab.TabMoveOnTitleColor,this.TabBGColor=lo.Report.Tab.TabBGColor,this.TabMergin={Top:lo.Report.Tab.Mergin.Top,Left:lo.Report.Tab.Mergin.Left,Right:lo.Report.Tab.Mergin.Right,Bottom:lo.Report.Tab.Mergin.Bottom}},this.SetTabList=function(t){this.TabList=[];for(var e=0;e<t.length;++e){var i=t[e];if(i.Title){var a={Title:i.Title,IsMenu:!1,FixedSymbol:[],FixedRowCount:0};if(i.ID&&(a.ID=i.ID),i.MenuID&&(a.MenuID=i.MenuID),Ee.IsBool(i.IsMenu)&&(a.IsMenu=i.IsMenu),Ee.IsNonEmptyArray(i.FixedSymbol))for(var r=0;r<i.FixedSymbol.length;++r){var n=i.FixedSymbol[r];n&&n.Symbol&&(a.FixedSymbol.push(n),++a.FixedRowCount)}this.TabList.push(a)}}},this.CalculateSize=function(){var t=c();this.TabFont=this.TabFontConfig.Size*t+"px "+this.TabFontConfig.Name,this.Height=this.GetFontHeight(this.TabFont,"8")+this.Mergin.Top+this.Mergin.Bottom;var e=Math.min(25,this.Height-this.Mergin.Top-this.Mergin.Bottom);this.ButtonSize=e},this.DrawScrollbar=function(t,e,i,a){this.RectScroll={Left:null,Right:null,Bar:null,Client:null};var r=this.Report.GetXScrollPos(),n=this.Report.GetXScrollRange();if(!(n<=0||this.Report.IsShowAllColumn)){var t=t+this.TabWidth;if(!(t+2*this.ScrollBarWidth>i)){this.MaxPos=n,this.CurrentPos=r;var o=this.ButtonSize,s={Left:t+this.Mergin.Left,Top:a-o-this.Mergin.Bottom,Width:o,Height:o};s.Right=s.Left+o,s.Bottom=s.Top+o;var l={Left:i-o-this.Mergin.Right,Top:s.Top,Width:o,Height:o};l.Right=l.Left+o,l.Bottom=l.Top+o,this.Canvas.fillStyle=this.ButtonColor,this.Canvas.fillRect(s.Left,s.Top,s.Width,s.Height),this.Canvas.fillRect(l.Left,l.Top,l.Width,l.Height),this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(s.Left,s.Top,s.Width,s.Height),this.Canvas.strokeRect(l.Left,l.Top,l.Width,l.Height);var h=l.Left-2-(s.Right+2),u=h-this.ScrollBarWidth,c=u*this.CurrentPos/this.MaxPos,d=s.Right+2+c,f={Left:d,Top:s.Top,Width:this.ScrollBarWidth,Height:s.Height};f.Right=f.Left+this.ScrollBarWidth,f.Bottom=s.Bottom,this.Canvas.fillStyle=this.BarColor,this.Canvas.fillRect(f.Left,f.Top,f.Width,f.Height),this.RectScroll.Left=s,this.RectScroll.Right=l,this.RectScroll.Bar=f,this.RectScroll.Client={Left:s.Right,Right:l.Left,Top:s.Top,Bottom:s.Bottom}}}},this.DrawTab=function(t,e,i,a){this.TabWidth=0,this.Canvas.font=this.TabFont,this.Canvas.textBaseline="bottom";var r,n=a-e,o=t+1,s=a-this.TabMergin.Bottom,l=0,h=0,u=0;for(u=0;u<this.TabList.length;++u){var c=this.TabList[u];r=c.Title,c.IsMenu&&(r+="▲"),l=o+this.TabMergin.Left,h=this.Canvas.measureText(r).width;var d={Left:o,Top:e,Width:h+this.TabMergin.Left+this.TabMergin.Right,Height:n};if(d.Right=d.Left+d.Width,d.Bottom=d.Top+d.Height,d.Right>i)break;var f=this.TabBGColor;u==this.SelectedTabIndex&&(f=this.TabSelectedBGColor),this.Canvas.fillStyle=f,this.Canvas.fillRect(d.Left,d.Top,d.Width,d.Height),this.Canvas.textAlign="left";var p=this.TabTitleColor;u==this.MoveOnTabIndex&&(p=this.TabMoveOnTitleColor),u==this.SelectedTabIndex&&(p=this.TabSelectedTitleColor),this.Canvas.fillStyle=p,this.Canvas.fillText(r,l,s),c.Rect=d,o+=d.Width+1,this.TabWidth+=d.Width+1}for(;u<this.TabList.length;++u){var c=this.TabList[u];c.Rect=null}},this.OnMouseDown=function(t,e,i){var a=this.PtInTab(t,e);return a||this.PtInScroll(t,e)},this.PtInScroll=function(t,e){if(!this.RectScroll)return null;if(this.RectScroll.Left){var i=this.RectScroll.Left;if(t>=i.Left&&t<=i.Right&&e>=i.Top&&e<=i.Bottom)return{Type:1,Rect:i}}if(this.RectScroll.Right){var i=this.RectScroll.Right;if(t>=i.Left&&t<=i.Right&&e>=i.Top&&e<=i.Bottom)return{Type:2,Rect:i}}if(this.RectScroll.Bar){var i=this.RectScroll.Bar;if(t>=i.Left&&t<=i.Right&&e>=i.Top&&e<=i.Bottom)return{Type:3,Rect:i}}if(this.RectScroll.Client){var i=this.RectScroll.Client;if(t>=i.Left&&t<=i.Right&&e>=i.Top&&e<=i.Bottom)return{Type:4,Rect:i,Pos:this.GetScrollPostionByPoint(t,e)}}return null},this.PtInTab=function(t,e){for(var i=0;i<this.TabList.length;++i){var a=this.TabList[i];if(a.Rect){var r=a.Rect;if(t>=r.Left&&t<=r.Right&&e>=r.Top&&e<=r.Bottom){var n={Type:5,Rect:r,Tab:a,Index:i};return a.IsMenu,n}}}return null},this.GetFontHeight=function(t,e){return d(this.Canvas,t,e)},this.GetScrollPostionByPoint=function(t,e){var i=this.RectScroll.Client,a=i.Right-i.Left-this.ScrollBarWidth;return parseInt(this.MaxPos*(t-i.Left)/a)}}function Zr(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="ChartPageInfo",this.IsDrawFirst=!1,this.IsShow=!1,this.SizeChange=!0,this.Report,this.FontConfig={Size:lo.Report.PageInfo.Font.Size,Name:lo.Report.PageInfo.Font.Name},this.TextColor=lo.Report.PageInfo.TextColor,this.BGColor=lo.Report.PageInfo.BGColor,this.Mergin={Top:lo.Report.PageInfo.Mergin.Top,Left:lo.Report.PageInfo.Mergin.Left,Right:lo.Report.PageInfo.Mergin.Right,Bottom:lo.Report.PageInfo.Mergin.Bottom},this.Font,this.TextHeight=0,this.ReloadResource=function(t){this.FontConfig={Size:lo.Report.PageInfo.Font.Size,Name:lo.Report.PageInfo.Font.Name},this.TextColor=lo.Report.PageInfo.TextColor,this.BGColor=lo.Report.PageInfo.BGColor,this.Mergin={Top:lo.Report.PageInfo.Mergin.Top,Left:lo.Report.PageInfo.Mergin.Left,Right:lo.Report.PageInfo.Mergin.Right,Bottom:lo.Report.PageInfo.Mergin.Bottom}},this.Draw=function(){if(this.IsShow&&this.Report){var t=this.Report.GetCurrentPageStatus();if(!t.IsSinglePage){if(this.SizeChange){var e=c();this.Font=this.FontConfig.Size*e+"px "+this.FontConfig.Name,this.TextHeight=d(this.Canvas,this.Font,"擎")+this.Mergin.Top+this.Mergin.Bottom}var i=this.ChartBorder.GetLeft(),a=this.ChartBorder.GetRight(),r=this.ChartBorder.GetBottom()-2,n=i+(a-i)/2,o=t.DataCount+"/"+t.DataCount;this.Canvas.font=this.Font;var s=this.Canvas.measureText(o).width+4,l=n-s/2-this.Mergin.Left,h=r-this.TextHeight;this.Canvas.fillStyle=this.BGColor,this.Canvas.fillRect(l,h,s+(this.Mergin.Left+this.Mergin.Right),this.TextHeight),o=t.Start+1+"/"+t.DataCount,this.Canvas.textAlign="center",this.Canvas.textBaseline="bottom",this.Canvas.fillStyle=this.TextColor,this.Canvas.fillText(o,n,r-this.Mergin.Bottom),this.SizeChange=!1}}}}function Qr(t){this.DivElement=t,this.JSChartContainer,this.CanvasElement=document.createElement("canvas"),this.CanvasElement.className="jskeyboard-drawing",this.CanvasElement.id=m(),this.CanvasElement.setAttribute("tabindex",0),this.CanvasElement.style&&(this.CanvasElement.style.outline="none"),t.hasChildNodes()&&Nn.Chart.Log("[JSKeyboardChart::JSRepoJSKeyboardChartrtChart] divElement hasChildNodes",t.childNodes),t.appendChild(this.CanvasElement),this.OnSize=function(){var t=parseInt(this.DivElement.style.height.replace("px",""));this.CanvasElement.height=t,this.CanvasElement.width=parseInt(this.DivElement.style.width.replace("px","")),this.CanvasElement.style.width=this.CanvasElement.width+"px",this.CanvasElement.style.height=this.CanvasElement.height+"px";var e=c();this.CanvasElement.height*=e,this.CanvasElement.width*=e,Nn.Chart.Log("[JSKeyboardChart::OnSize] devicePixelRatio="+window.devicePixelRatio+", height="+this.CanvasElement.height+", width="+this.CanvasElement.width),this.JSChartContainer&&this.JSChartContainer.OnSize&&this.JSChartContainer.OnSize()},this.SetOption=function(t){var e=this.CreateJSKeyboardChartContainer(t);if(!e)return!1;t.OnCreatedCallback&&t.OnCreatedCallback(e),this.JSChartContainer=e,this.DivElement.JSChart=this,e.Draw()},this.CreateJSKeyboardChartContainer=function(t){var e=new tn(this.CanvasElement);if(e.Create(t),t.NetworkFilter&&(e.NetworkFilter=t.NetworkFilter),Ee.IsNonEmptyArray(t.Column)&&e.SetColumn(t.Column),Ee.IsNumber(t.BorderLine)&&(e.Frame.BorderLine=t.BorderLine),this.SetChartBorder(e,t),t.EventCallback)for(var i=0;i<t.EventCallback.length;++i){var a=t.EventCallback[i];e.AddEventCallback(a)}return e},this.SetChartBorder=function(t,e){if(e.Border){e.Border;Ee.IsNumber(e.Border.Left)&&(t.Frame.ChartBorder.Left=e.Border.Left),Ee.IsNumber(e.Border.Right)&&(t.Frame.ChartBorder.Right=e.Border.Right),Ee.IsNumber(e.Border.Top)&&(t.Frame.ChartBorder.Top=e.Border.Top),Ee.IsNumber(e.Border.Bottom)&&(t.Frame.ChartBorder.Bottom=e.Border.Bottom);var i=c();t.Frame.ChartBorder.Left*=i,t.Frame.ChartBorder.Right*=i,t.Frame.ChartBorder.Top*=i,t.Frame.ChartBorder.Bottom*=i}},this.SetColumn=function(t,e){this.JSChartContainer&&this.JSChartContainer.SetColumn(t,e)},this.AddEventCallback=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddEventCallback&&(Nn.Chart.Log("[JSKeyboardChart:AddEventCallback] obj=",t),this.JSChartContainer.AddEventCallback(t))},this.ReloadResource=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ReloadResource&&(Nn.Chart.Log("[JSKeyboardChart:ReloadResource] "),this.JSChartContainer.ReloadResource(t))},this.ChartDestory=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChartDestory&&this.JSChartContainer.ChartDestory()},this.Draw=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.Draw&&(Nn.Chart.Log("[JSKeyboardChart:Draw] "),this.JSChartContainer.Draw())},this.SetSymbolData=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.Draw&&(Nn.Chart.Log("[JSKeyboardChart:SetSymbolData] ",t),this.JSChartContainer.SetSymbolData(t))},this.Search=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.Search&&(Nn.Chart.Log("[JSKeyboardChart:Search] ",t),this.JSChartContainer.Search(t))},this.OnKeyDown=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.OnKeyDown&&(Nn.Chart.Log("[JSKeyboardChart:OnKeyDown] ",t),this.JSChartContainer.OnKeyDown(t))},this.ClearSearch=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ClearSearch&&(Nn.Chart.Log("[JSKeyboardChart:ClearSearch] ",t),this.JSChartContainer.ClearSearch(t))}}function tn(t){this.ClassName="JSKeyboardChartContainer",this.Frame,this.ChartPaint=[],this.Canvas=t.getContext("2d"),this.ShowCanvas=null,this.NetworkFilter,this.Data={XOffset:0,YOffset:0,Data:[]},this.MapSymbol=new Mn.default,this.SourceData={Data:[]},this.mapEvent=new Mn.default,this.UIElement=t,this.LastPoint=new b,this.DragYScroll=null,this.IsDestroy=!1,this.ChartDestory=function(){this.IsDestroy=!0},this.ClearSearch=function(t){this.Data.Data=[],this.Data.XOffset=0,this.Data.YOffset=0,t&&1==t.Redraw&&this.Draw()},this.Search=function(t){var e=[],i=[];this.MapSymbol.clear(),this.Data.Data=[],this.Data.XOffset=0,this.Data.YOffset=0;var a=t.trim();if(a.length>0)for(var r=0;r<this.SourceData.Data.length;++r){var n=this.SourceData.Data[r];this.SearchSymbol(n,a,e,i)||this.SearchSpell(n,a,e,i)}(Ee.IsNonEmptyArray(e)||Ee.IsNonEmptyArray(i))&&(this.Data.Data=e.concat(i)),this.ChartPaint[0].SelectedRow=0,Nn.Chart.Log("[JSKeyboardChart:Search] search="+a+", source="+this.SourceData.Data.length+" match="+this.Data.Data.length),this.Draw()},this.SearchSymbol=function(t,e,i,a){var r=t.Symbol.indexOf(e);return!(r<0)&&(0==r?i.push(t.Symbol):a.push(t.Symbol),this.MapSymbol.set(t.Symbol,t),!0)},this.SearchSpell=function(t,e,i,a){return!!Ee.IsString(t.Spell)&&(0==t.Spell.indexOf(e)&&(i.push(t.Symbol),this.MapSymbol.set(t.Symbol,t),!0))},this.SetSymbolData=function(t){this.SourceData.Data=t},this.Create=function(t){var e=this;this.UIElement.JSChartContainer=this,this.Frame=new en,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas;var i=new an;i.Frame=this.Frame,i.ChartBorder=this.Frame.ChartBorder,i.Canvas=this.Canvas,i.UIElement=this.UIElement,i.GetEventCallback=function(t){return e.GetEventCallback(t)},i.GetStockDataCallback=function(t){return e.GetStockData(t)},i.Data=this.Data,this.ChartPaint[0]=i;var a=!0,r=!0;t&&(!1===t.KeyDown&&(a=!1,Nn.Chart.Log("[JSKeyboardChartContainer::Create] not register keydown event.")),!1===t.Wheel&&(r=!1,Nn.Chart.Log("[JSKeyboardChartContainer::Create] not register wheel event."))),a&&this.UIElement.addEventListener("keydown",function(t){e.OnKeyDown(t)},!0),r&&this.UIElement.addEventListener("wheel",function(t){e.OnWheel(t)},!0),this.UIElement.ondblclick=function(t){e.UIOnDblClick(t)},this.UIElement.onmousedown=function(t){e.UIOnMouseDown(t)},this.UIElement.oncontextmenu=function(t){e.UIOnContextMenu(t)},this.UIElement.onmousemove=function(t){e.UIOnMouseMove(t)},this.UIElement.onmouseout=function(t){e.UIOnMounseOut(t)},this.UIElement.onmouseleave=function(t){e.UIOnMouseleave(t)}},this.Draw=function(){if(!(this.UIElement.width<=0||this.UIElement.height<=0)){this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height);var t=c();this.Canvas.lineWidth=t,this.Frame.Draw(),this.Frame.DrawLogo();for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.IsDrawFirst&&i.Draw()}for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.IsDrawFirst||i.Draw()}}},this.GetStockData=function(t){return this.MapSymbol.has(t)?this.MapSymbol.get(t):null},this.ResetStatus=function(){this.Data.XOffset=0,this.Data.YOffset=0},this.ResetSelectStatus=function(){var t=this.GetReportChart();t&&(t.SelectedRow=-1,t.SelectedFixedRow=-1)},this.AddEventCallback=function(t){if(t&&t.event&&t.callback){var e={Callback:t.callback,Source:t};this.mapEvent.set(t.event,e)}},this.RemoveEventCallback=function(t){this.mapEvent.has(t)&&this.mapEvent.delete(t)},this.GetEventCallback=function(t){return this.mapEvent.has(t)?this.mapEvent.get(t):null},this.OnSize=function(){this.Frame&&(this.SetSizeChange(!0),this.Draw())},this.SetSizeChange=function(t){for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i&&(i.SizeChange=t)}},this.OnWheel=function(t){if(Nn.Chart.Log("[JSKeyboardChartContainer::OnWheel]",t),(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash)&&this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){var e=t.clientX-this.UIElement.getBoundingClientRect().left,i=t.clientY-this.UIElement.getBoundingClientRect().top;if(this.Canvas.beginPath(),this.Canvas.rect(this.Frame.ChartBorder.GetLeft(),this.Frame.ChartBorder.GetTop(),this.Frame.ChartBorder.GetWidth(),this.Frame.ChartBorder.GetHeight()),this.Canvas.isPointInPath(e,i)){if(this.ChartPaint[0]){var a=t.wheelDelta;Ee.IsObjectExist(t.wheelDelta)||(a=-.01*t.deltaY),a<0?this.GotoNextPage(this.PageUpDownCycle)&&this.Draw():a>0&&this.GotoPreviousPage(this.PageUpDownCycle)&&this.Draw(),t.preventDefault?t.preventDefault():t.returnValue=!1}}}},this.OnKeyDown=function(t){if(!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){if(this.GetReportChart()){switch(t.keyCode?t.keyCode:t.which){case 33:this.GotoPreviousPage(this.PageUpDownCycle)&&this.Draw();break;case 34:this.GotoNextPage(this.PageUpDownCycle)&&this.Draw();break;case 38:var e=this.MoveSelectedRow(-1);e&&e.Redraw&&this.Draw();break;case 40:var e=this.MoveSelectedRow(1);e&&e.Redraw&&this.Draw();break;case 37:this.MoveXOffset(-1)&&this.Draw();break;case 39:this.MoveXOffset(1)&&this.Draw();break;case 13:this.OnSelectedSymbol()}t.preventDefault?t.preventDefault():t.returnValue=!1}}},this.OnSelectedSymbol=function(){if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;var t=this.ChartPaint[0];if(!t)return!1;var e=t.GetSelectedSymbol(),i=this.GetEventCallback(Rn.ON_KEYBOARD_SELECTED);i&&i.Callback&&i.Callback(i,{Data:e},this)},this.UIOnDblClick=function(t){var e=c(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e,r=this.ChartPaint[0];r&&r.OnDblClick(i,a,t)&&this.OnSelectedSymbol()},this.UIOnMouseDown=function(t){var e=this;this.DragXScroll=null,this.DragMove={Click:{X:t.clientX,Y:t.clientY},Move:{X:t.clientX,Y:t.clientY},PreMove:{X:t.clientX,Y:t.clientY}};var i=c(),a=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,r=(t.clientY-this.UIElement.getBoundingClientRect().top)*i,n=this.ChartPaint[0];if(n){var o=n.OnMouseDown(a,r,t);if(!o)return;2!=o.Type||0!=t.button&&2!=t.button||1==o.Redraw&&this.Draw()}document.onmousemove=function(t){e.DocOnMouseMove(t)},document.onmouseup=function(t){e.DocOnMouseUp(t)}},this.UIOnContextMenu=function(t){t.preventDefault()},this.UIOnMouseMove=function(t){var e=c();t.clientX,this.UIElement.getBoundingClientRect().left,t.clientY,this.UIElement.getBoundingClientRect().top},this.UIOnMounseOut=function(t){},this.UIOnMouseleave=function(t){},this.DocOnMouseMove=function(t){if(this.DragMove.PreMove.X=this.DragMove.Move.X,this.DragMove.PreMove.Y=this.DragMove.Move.Y,this.DragMove.Move.X=t.clientX,this.DragMove.Move.Y=t.clientX,!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var e=c(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;if(this.DragRow){var r=this.DragRow,n=r.LastMove.Y-t.clientY;if(Math.abs(n)<2)return;var o=this.GetReportChart();if(r.LastMove.X=t.clientX,r.LastMove.Y=t.clientY,r.Inside={X:i,Y:a},o){var s=o.OnDrawgRow(i,a,t);if(s)if(2==s.Type)s.Data.DataIndex!=r.Data.Row.DataIndex&&(r.MoveRow=s);else if(7==s.Type){var l=o.GetCurrentPageStatus();l.IsEnd||(this.MoveYOffset(1,!1),r.MoveRow=null,this.EnablePageScroll=!0,this.AutoScrollPage(2))}else 5==s.Type&&this.Data.YOffset>0&&(this.MoveYOffset(-1,!1),r.MoveRow=null,this.EnablePageScroll=!0,this.AutoScrollPage(-2));o.DragRow=r}this.Draw()}else if(this.DragXScroll){var h=this.ChartPaint[0];if(!h||!h.Tab)return;this.DragXScroll.LastMove.X=i,this.DragXScroll.LastMove.Y=a;var u=h.Tab.GetScrollPostionByPoint(i,a);this.SetXOffset(u)&&this.Draw()}}},this.DocOnMouseUp=function(t){document.onmousemove=null,document.onmouseup=null;var e=this.GetEventCallback(Rn.ON_KEYBOARD_MOUSEUP);e&&e.Callback&&e.Callback(e,{},this)},this.GetMoveAngle=function(t,e){var i=Math.abs(t.X-e.X),a=Math.abs(t.Y-e.Y);return 180*Math.atan(i/a)/Math.PI},this.PreventTouchEvent=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()},this.OnDragYOffset=function(t,e,i,a){if(i<5)return!1;var r=!0;t.LastMove.Y<e[0].clientY&&(r=!1);var n=this.YStepPixel;n<=0&&(n=5);var o=parseInt(i/n);return!(o<=0)&&(0==r&&(o*=-1),this.MoveYOffset(o,this.DragPageCycle)&&(t.IsYMove=!0,this.Draw(),this.DelayUpdateStockData()),!0)},this.OnDragXOffset=function(t,e,i,a){if(i<5)return!1;var r=!0;t.LastMove.X<e[0].clientX&&(r=!1);var n=this.XStepPixel;n<=0&&(n=5);var o=parseInt(i/n);return!(o<=0)&&(r||(o*=-1),this.MoveXOffset(o)&&(t.IsXMove=!0,this.Draw()),!0)},this.GetReportChart=function(){return this.ChartPaint[0]},this.GotoNextPage=function(t){if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;var e=this.ChartPaint[0];if(!e)return!1;var i=e.GetPageSize();if(i>this.Data.Data.length)return!1;if(this.Data.YOffset+i>=this.Data.Data.length)return!0===t&&(this.Data.YOffset=0,!0);this.Data.YOffset+=i;this.Data.Data.length,this.Data.YOffset;return e.SelectedRow=this.Data.YOffset,!0},this.GotoPreviousPage=function(t){if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;var e=this.ChartPaint[0];if(!e)return!1;var i=e.GetPageSize();if(i>this.Data.Data.length)return!1;if(this.Data.YOffset<=0)return!0===t&&(this.Data.YOffset=this.Data.Data.length-i,!0);var a=this.Data.YOffset;return a-=i,a<0&&(a=0),this.Data.YOffset=a,e.SelectedRow=this.Data.YOffset,!0},this.MoveYOffset=function(t,e){if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return!1;var i=this.ChartPaint[0];if(!i)return!1;var a=i.GetCurrentPageStatus();if(a.IsSinglePage)return!1;if(t>0){var r=this.Data.Data.length,n=a.PageSize,o=this.Data.YOffset;if(e)for(var s=0;s<t;++s)++o+n>r&&(o=0);else{if(o+n>=r)return!1;for(var s=0;s<t&&!(o+n+1>r);++s)++o}return this.Data.YOffset=o,!0}if(t<0){t=Math.abs(t);var o=this.Data.YOffset;if(e)for(var n=a.PageSize,s=0;s<t;++s)--o<0&&(o=this.Data.Data.length-n);else{if(this.Data.YOffset<=0)return!1;for(var s=0;s<t&&!(o-1<0);++s)--o}return this.Data.YOffset=o,!0}return!1},this.GotoLastPage=function(){var t=this.ChartPaint[0];if(t){var e=t.GetPageSize(!0),i=this.Data.Data.length-e;i<0&&(i=0),this.Data.DataOffset=i}},this.SetColumn=function(t,e){var i=this.ChartPaint[0];i&&(i.SetColumn(t),i.SizeChange=!0,e&&e.Redraw&&this.Draw())},this.ReloadResource=function(t){this.Frame.ReloadResource(t);for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.ReloadResource&&i.ReloadResource(t)}t&&t.Redraw&&(this.SetSizeChange(!0),this.Draw())},this.MoveSelectedRow=function(t){var e=this.ChartPaint[0];if(!e)return null;if(!Ee.IsNonEmptyArray(this.Data.Data))return null;var i={Redraw:!1},a=e.GetCurrentPageStatus(),r=(a.PageSize,a.SelectedRow);if(t>0){if(r<0||r<a.Start||r>a.End)return e.SelectedRow=a.Start,i.Redraw=!0,i;for(var n=this.Data.YOffset,o=0;o<t&&(++r,r>a.End&&++n,!(r>=this.Data.Data.length));++o)i.Redraw=!0,e.SelectedRow=r,this.Data.YOffset=n;return i}if(t<0){if(r<0||r<a.Start||r>a.End)return e.SelectedRow=a.End,i.Redraw=!0,i;t=Math.abs(t);for(var n=this.Data.YOffset,o=0;o<t&&(--r,r<a.Start&&--n,!(r<0));++o)i.Redraw=!0,e.SelectedRow=r,this.Data.YOffset=n;return i}}}function en(){this.ChartBorder,this.Canvas,this.BorderLine=null,this.BorderColor=lo.Report.BorderColor,this.LogoTextColor=lo.FrameLogo.TextColor,this.LogoTextFont=lo.FrameLogo.Font,this.ReloadResource=function(t){this.BorderColor=lo.Report.BorderColor,this.LogoTextColor=lo.FrameLogo.TextColor,this.LogoTextFont=lo.FrameLogo.Font},this.Draw=function(){var t=v(this.ChartBorder.GetLeft()),e=v(this.ChartBorder.GetTop()),i=v(this.ChartBorder.GetRight()),a=v(this.ChartBorder.GetBottom()),r=i-t,n=a-e;Ee.IsNumber(this.BorderLine)?(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),(1&this.BorderLine)>0&&(this.Canvas.moveTo(t,e),this.Canvas.lineTo(i,e)),(2&this.BorderLine)>0&&(this.Canvas.moveTo(t,a),this.Canvas.lineTo(i,a)),(4&this.BorderLine)>0&&(this.Canvas.moveTo(t,e),this.Canvas.lineTo(t,a)),(8&this.BorderLine)>0&&(this.Canvas.moveTo(i,e),this.Canvas.lineTo(i,a)),this.Canvas.stroke()):(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(t,e,r,n))},this.DrawLogo=function(){var t=lo.FrameLogo.Text;if(Ee.IsString(t)){this.Canvas.fillStyle=this.LogoTextColor,this.Canvas.font=this.LogoTextFont,this.Canvas.textAlign="right",this.Canvas.textBaseline="bottom";var e=this.ChartBorder.GetRight()-30,i=this.ChartBorder.GetBottom()-5;this.Canvas.fillText(t,e,i)}}}function an(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="ChartSymbolList",this.UIElement,this.IsDrawFirst=!1,this.GetEventCallback,this.Data,this.SizeChange=!0,this.SelectedRow=-1,this.IsDrawBorder=!1,this.ShowSymbol=[],this.BorderColor=lo.Keyboard.BorderColor,this.SelectedColor=lo.Keyboard.SelectedColor,this.TextColor=lo.Keyboard.TextColor,this.ItemFontConfig={Size:lo.Keyboard.Item.Font.Size,Name:lo.Keyboard.Item.Font.Name},this.ItemMergin={Left:lo.Keyboard.Item.Mergin.Left,Right:lo.Keyboard.Item.Mergin.Right,Top:lo.Keyboard.Item.Mergin.Top,Bottom:lo.Keyboard.Item.Mergin.Bottom},this.ItemFont=15*c()+"px 微软雅黑",this.ItemSymbolFont=12*c()+"px 微软雅黑",this.ItemNameFont=15*c()+"px 微软雅黑",this.ItemNameHeight=0,this.RowCount=0,this.RowHeight=0,this.Column=[{Type:Ho.SHORT_SYMBOL_ID,Title:"代码",TextAlign:"left",Width:null,MaxText:"888888"},{Type:Ho.NAME_ID,Title:"名称",TextAlign:"left",Width:null,MaxText:"擎擎擎擎擎擎"},{Type:Ho.TYPE_ID,Title:"类型",TextAlign:"right",Width:null,MaxText:"擎擎擎擎"}],this.RectClient={},this.ReloadResource=function(t){},this.SetColumn=function(t){Ee.IsNonEmptyArray(t)},this.Draw=function(){this.ShowSymbol=[],this.SizeChange?this.CalculateSize():this.UpdateCacheData(),this.Canvas.save(),this.Canvas.beginPath(),this.Canvas.rect(this.RectClient.Left,this.RectClient.Top,this.RectClient.Right-this.RectClient.Left,this.RectClient.Bottom-this.RectClient.Top),this.Canvas.clip(),this.DrawBody(),this.Canvas.restore(),this.DrawBorder(),this.SizeChange=!1},this.UpdateCacheData=function(){this.RectClient.Left=this.ChartBorder.GetLeft(),this.RectClient.Right=this.ChartBorder.GetRight(),this.RectClient.Top=this.ChartBorder.GetTop(),this.RectClient.Bottom=this.ChartBorder.GetBottom()},this.GetPageSize=function(t){return t&&this.CalculateSize(),this.RowCount},this.GetCurrentPageStatus=function(){var t={Start:this.Data.YOffset,PageSize:this.RowCount,IsEnd:!1,SelectedRow:this.SelectedRow,IsSinglePage:!1,DataCount:0};return Ee.IsNonEmptyArray(this.Data.Data)?(t.End=this.Data.YOffset+this.RowCount-1,t.IsSinglePage=this.Data.Data.length<=this.RowCount,t.DataCount=this.Data.Data.length,t.End>=this.Data.Data.length-1&&(t.IsEnd=!0),t.End>=this.Data.Data.length&&(t.End=this.Data.Data.length-1)):(t.Star=0,t.End=0,t.IsEnd=!0,t.IsSinglePage=!0),t},this.CalculateSize=function(){this.UpdateCacheData();var t=c();this.ItemFont=this.ItemFontConfig.Size*t+"px "+this.ItemFontConfig.Name,this.RowHeight=this.GetFontHeight(this.ItemFont,"擎")+this.ItemMergin.Top+this.ItemMergin.Bottom;var e=this.RectClient.Left,i=this.RectClient.Right;this.Canvas.font=this.ItemFont;for(var a=0,r=0;r<this.Column.length;++r){var n=this.Column[r];a=this.Canvas.measureText(n.MaxText).width,n.Width=a+4+this.ItemMergin.Left+this.ItemMergin.Right,r==this.Column.length-1&&e+n.Width<i&&(n.Width=i-e),e+=n.Width}this.RowCount=parseInt((this.RectClient.Bottom-this.RectClient.Top)/this.RowHeight)},this.DrawText=function(t,e,i,a,r){"center"==e?(i+=r/2,this.Canvas.textAlign="center"):"right"==e?(i+=r,this.Canvas.textAlign="right"):this.Canvas.textAlign="left",this.Canvas.textBaseline="middle",this.Canvas.fillText(t,i,a)},this.DrawBorder=function(){if(this.IsDrawBorder){var t=this.RectClient.Left,e=this.RectClient.Right,i=this.RectClient.Top;this.RectClient.Bottom;this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),this.Canvas.moveTo(t,v(i)),this.Canvas.lineTo(e,v(i));for(var a=i+this.RowHeight,r=a,n=0;n<this.RowCount;++n){var o=v(a);this.Canvas.moveTo(t,o),this.Canvas.lineTo(e,o),r=a,a+=this.RowHeight}for(var s=t,n=this.Data.XOffset;n<this.Column.length;++n){var l=this.Column[n],h=v(s+l.Width);this.Canvas.moveTo(h,i),this.Canvas.lineTo(h,r),s+=l.Width}this.Canvas.stroke()}},this.GetSelectedSymbol=function(){return this.SelectedRow<0||this.SelectedRow>=this.Data.Data.length?null:{Symbol:this.Data.Data[this.SelectedRow],RowID:this.SelectedRow}},this.DrawBody=function(){if(this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){this.Canvas.font=this.ItemFont;var t=this.RectClient.Top,e=this.RectClient.Left,i=this.RectClient.Right-this.RectClient.Left,a=t;this.Canvas.font=this.ItemFont;for(var r=this.Data.YOffset,n=0;r<this.Data.Data.length&&n<this.RowCount;++r,++n){var o=this.Data.Data[r],s=!1;r==this.SelectedRow&&(s=!0),s&&(this.Canvas.fillStyle=this.SelectedColor,this.Canvas.fillRect(e+1,a,i,this.RowHeight)),this.DrawRow(o,a,r),this.ShowSymbol.push({Index:r,Symbol:o}),a+=this.RowHeight}}},this.DrawRow=function(t,e,i,a){var r=this.RectClient.Left,n=this.RectClient.Right,o={Symbol:t,Stock:null,Block:null};this.GetStockDataCallback&&(o.Stock=this.GetStockDataCallback(t));for(var s=this.Data.XOffset;s<this.Column.length;++s){var l=this.Column[s];if(this.DrawItem(i,o,l,r,e,a),(r+=l.Width)>=n)break}},this.DrawItem=function(t,e,i,a,r,n){var o=(i.Width,a+this.ItemMergin.Left),s=i.Width-this.ItemMergin.Left-this.ItemMergin.Right,l=e.Stock,h={Text:null,TextColor:this.TextColor,TextAlign:i.TextAlign};i.Type==Ho.SHORT_SYMBOL_ID?(l&&l.ShortSymbol?h.Text=l.ShortSymbol:h.Text=e.Symbol,l.Color&&(h.TextColor=l.Color)):i.Type==Ho.NAME_ID?l&&l.Name&&(h.Text=this.TextEllipsis(l.Name,s,i.MaxText),l.Color&&(h.TextColor=l.Color)):i.Type==Ho.TYPE_ID&&l&&l.Type&&(h.Text=this.TextEllipsis(l.Type,s,i.MaxText),l.Color&&(h.TextColor=l.Color)),this.DrawItemText(h.Text,h.TextColor,h.TextAlign,o,r,s)},this.DrawItemText=function(t,e,i,a,r,n){if(t){var o=a;"center"==i?(o=a+n/2,this.Canvas.textAlign="center"):"right"==i?(o=a+n-2,this.Canvas.textAlign="right"):(o+=2,this.Canvas.textAlign="left"),this.Canvas.textBaseline="middle",this.Canvas.fillStyle=e,this.Canvas.fillText(t,o,r+this.ItemMergin.Top+this.RowHeight/2)}},this.TextEllipsis=function(t,e,i){if(!t)return null;if(t.length<i.length)return t;var a=i.length-3;if(a<0)return null;for(var r=t.slice(0,a),n=a;n<t.length;++n){var o=r+t[n]+"...";if(this.Canvas.measureText(o).width>e){r+="...";break}r+=t[n]}return r},this.GetFontHeight=function(t,e){return d(this.Canvas,t,e)},this.OnMouseDown=function(t,e,i){if(!this.Data)return null;var a=c(),r={X:t/a,Y:e/a};if(this.UIElement)var n={Left:this.UIElement.getBoundingClientRect().left,Top:this.UIElement.getBoundingClientRect().top};else var n={Left:null,Top:null};var o=this.PtInBody(t,e);if(o){var s=!0;0==this.SelectedModel?(this.SelectedRow==o.Index&&(s=!1),this.SelectedRow=o.Index,this.SelectedFixedRow=-1):(this.SelectedRow==o.DataIndex&&(s=!1),this.SelectedRow=o.DataIndex,this.SelectedFixedRow=-1);var l=Rn.ON_CLICK_REPORT_ROW;return 2==i.button&&(l=Rn.ON_RCLICK_REPORT_ROW),this.SendClickEvent(l,{Data:o,X:t,Y:e,e:i,Inside:r,UIElement:n}),{Type:2,Redraw:s,Row:o}}return null},this.OnDrawgRow=function(t,e,i){if(!this.Data)return null;if(!Ee.IsNonEmptyArray(this.Data.Data))return null;var a=this.RowHeight/2,r=this.RectClient.Top+this.HeaderHeight,n=this.ChartBorder.GetChartWidth(),o=r;if(e<o+a)return{Type:5};for(var s=this.Data.YOffset,l=0;s<this.Data.Data.length&&l<this.RowCount;++s,++l){var h=this.Data.Data[s],u={Left:0,Top:o,Right:n,Bottom:o+this.RowHeight};if(u.Top+=a,u.Bottom+=a,t>=u.Left&&t<=u.Right&&e>=u.Top&&e<=u.Bottom){var c={DataIndex:s,Index:l,Symbol:h,Pos:0};return 0==l?c.Pos=1:l==this.RowCount-1&&(c.Pos=2),{Type:2,Data:c}}o+=this.RowHeight}return l<this.RowCount?{Type:6}:{Type:7}},this.OnDblClick=function(t,e,i){return!!this.Data&&!!this.PtInBody(t,e)},this.PtInBody=function(t,e){if(!this.Data)return null;if(!Ee.IsNonEmptyArray(this.Data.Data))return null;for(var i=this.RectClient.Top,a=this.RectClient.Left,r=this.RectClient.Right,n=(this.RectClient.Right,this.RectClient.Left,i),o=this.Data.YOffset,s=0;o<this.Data.Data.length&&s<this.RowCount;++o,++s){var l=this.Data.Data[o],h={Left:a,Top:n,Right:r,Bottom:n+this.RowHeight};if(t>=h.Left&&t<=h.Right&&e>=h.Top&&e<=h.Bottom){var u={Rect:h,DataIndex:o,Index:s,Symbol:l};return u.Item=this.PtInItem(t,e,h.Top,h.Bottom),u}n+=this.RowHeight}return null},this.PtInItem=function(t,e,i,a){for(var r=this.RectClient.Left,n=this.RectClient.Right,o=r,s=0;s<this.FixedColumn&&s<this.Column.length;++s){var l=this.Column[s],h={Left:o,Right:o+l.Width,Top:i,Bottom:a};if(t>=h.Left&&t<=h.Right&&e>=h.Top&&e<=h.Bottom)return{Rect:h,Column:l,Index:s};o+=l.Width}for(var s=this.FixedColumn+this.Data.XOffset;s<this.Column.length;++s){var l=this.Column[s];if(o>=n)break;var h={Left:o,Right:o+l.Width,Top:i,Bottom:a};if(t>=h.Left&&t<=h.Right&&e>=h.Top&&e<=h.Bottom)return{Rect:h,Column:l,Index:s};o+=l.Width}return null},this.IsPtInBody=function(t,e){var i=this.RectClient.Top,a=this.RectClient.Left,r=this.RectClient.Right,n=this.RectClient.Bottom;return t>=a&&t<=r&&e>=i&&e<=n},this.SendClickEvent=function(t,e){var i=this.GetEventCallback(t);i&&i.Callback&&i.Callback(i,e,this)}}function rn(t){this.DivElement=t,this.JSChartContainer,this.CanvasElement=document.createElement("canvas"),this.CanvasElement.className="jsscrollbar-drawing",this.CanvasElement.id=m(),this.CanvasElement.setAttribute("tabindex",0),this.CanvasElement.style&&(this.CanvasElement.style.outline="none"),t.hasChildNodes()&&Nn.Chart.Log("[JSScrollBarChart::JSScrollBarChart] divElement hasChildNodes",t.childNodes),t.appendChild(this.CanvasElement),this.OnSize=function(){var t=parseInt(this.DivElement.style.height.replace("px",""));this.CanvasElement.height=t,this.CanvasElement.width=parseInt(this.DivElement.style.width.replace("px","")),this.CanvasElement.style.width=this.CanvasElement.width+"px",this.CanvasElement.style.height=this.CanvasElement.height+"px";var e=c();this.CanvasElement.height*=e,this.CanvasElement.width*=e,Nn.Chart.Log("[JSScrollBarChart::OnSize] devicePixelRatio="+window.devicePixelRatio+", height="+this.CanvasElement.height+", width="+this.CanvasElement.width),this.JSChartContainer&&this.JSChartContainer.OnSize&&this.JSChartContainer.OnSize()},this.SetOption=function(t){var e=this.CreateJSScrollBarChartContainer(t);if(!e)return!1;t.OnCreatedCallback&&t.OnCreatedCallback(e),e.Draw(),this.JSChartContainer=e,this.DivElement.JSChart=this},this.CreateJSScrollBarChartContainer=function(t){var e=new nn(this.CanvasElement);if(e.Create(t),Ee.IsNumber(t.DelayDragFrequency)&&(e.DelayDragFrequency=t.DelayDragFrequency),this.SetChartBorder(e,t),t.EventCallback)for(var i=0;i<t.EventCallback.length;++i){var a=t.EventCallback[i];e.AddEventCallback(a)}return e},this.SetChartBorder=function(t,e){if(e.Border){var i=e.Border;Ee.IsNumber(e.Border.Left)&&(t.Frame.ChartBorder.Left=e.Border.Left),Ee.IsNumber(e.Border.Right)&&(t.Frame.ChartBorder.Right=e.Border.Right),Ee.IsNumber(e.Border.Top)&&(t.Frame.ChartBorder.Top=e.Border.Top),Ee.IsNumber(e.Border.Bottom)&&(t.Frame.ChartBorder.Bottom=e.Border.Bottom);var a=c();t.Frame.ChartBorder.Left*=a,t.Frame.ChartBorder.Right*=a,t.Frame.ChartBorder.Top*=a,t.Frame.ChartBorder.Bottom*=a,Ee.IsBool(i.AutoLeft)&&(t.AutoMargin.Left=i.AutoLeft),Ee.IsBool(i.AutoRight)&&(t.AutoMargin.Right=i.AutoRight)}},this.AddEventCallback=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.AddEventCallback&&(Nn.Chart.Log("[JSScrollBarChart:AddEventCallback] obj=",t),this.JSChartContainer.AddEventCallback(t))},this.ReloadResource=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ReloadResource&&(Nn.Chart.Log("[JSScrollBarChart:ReloadResource] "),this.JSChartContainer.ReloadResource(t))},this.ChartDestory=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ChartDestory&&this.JSChartContainer.ChartDestory()},this.Draw=function(){this.JSChartContainer&&"function"==typeof this.JSChartContainer.Draw&&(Nn.Chart.Log("[JSScrollBarChart:Draw] "),this.JSChartContainer.Draw())},this.RecvData=function(t,e){this.JSChartContainer&&"function"==typeof this.JSChartContainer.RecvData&&(Nn.Chart.Log("[JSScrollBarChart:RecvData] "),this.JSChartContainer.RecvData(t,e))},this.UpdateSlider=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.UpdateSlider&&(Nn.Chart.Log("[JSScrollBarChart:UpdateSlider] "),this.JSChartContainer.UpdateSlider(t))},this.Reset=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.Reset&&(Nn.Chart.Log("[JSScrollBarChart:Reset] "),this.JSChartContainer.Reset(t))},this.ReloadResource=function(t){this.JSChartContainer&&"function"==typeof this.JSChartContainer.ReloadResource&&(Nn.Chart.Log("[JSScrollBarChart:ReloadResource] "),this.JSChartContainer.ReloadResource(t))}}function nn(t){this.ClassName="JSScrollBarChartContainer",this.Frame,this.ChartPaint=[],this.ChartSplashPaint=null,this.LoadDataSplashTitle="无数据",this.Canvas=t.getContext("2d"),this.ShowCanvas=null,this.XOffsetData={Start:-1,End:-1,Count:0},this.SourceData,this.SliderChart,this.DragMove,this.DragSlider,this.DragTimer,this.DelayDragFrequency=150,this.AutoMargin={Left:!1,Right:!1},this.mapEvent=new Mn.default,this.UIElement=t,this.LastPoint=new b,this.IsDestroy=!1,this.HQChart=null,this.ChartDestory=function(){this.IsDestroy=!0},this.AddEventCallback=function(t){if(t&&t.event&&t.callback){var e={Callback:t.callback,Source:t};this.mapEvent.set(t.event,e)}},this.RemoveEventCallback=function(t){this.mapEvent.has(t)&&this.mapEvent.delete(t)},this.GetEventCallback=function(t){return this.mapEvent.has(t)?this.mapEvent.get(t):null},this.Create=function(t){var e=this;this.UIElement.JSChartContainer=this,this.ChartSplashPaint=new ke,this.ChartSplashPaint.Canvas=this.Canvas,this.ChartSplashPaint.SetTitle(this.LoadDataSplashTitle),this.ChartSplashPaint.IsEnableSplash=!0,this.Frame=new on,this.Frame.ChartBorder=new w,this.Frame.ChartBorder.UIElement=this.UIElement,this.Frame.ChartBorder.Top=30,this.Frame.ChartBorder.Left=5,this.Frame.ChartBorder.Bottom=20,this.Frame.Canvas=this.Canvas,this.ChartSplashPaint.Frame=this.Frame;var i=new ln;i.ChartFrame=this.Frame,i.ChartBorder=this.Frame.ChartBorder,i.Canvas=this.Canvas,i.GetEventCallback=function(t){return e.GetEventCallback(t)},this.ChartPaint.push(i);var i=new sn;i.ChartFrame=this.Frame,i.ChartBorder=this.Frame.ChartBorder,i.Canvas=this.Canvas,i.OffsetData=this.XOffsetData,i.GetEventCallback=function(t){return e.GetEventCallback(t)},this.SliderChart=i,this.ChartPaint.push(i),this.UIElement.onmousedown=function(t){e.UIOnMouseDown(t)},this.UIElement.oncontextmenu=function(t){e.UIOnContextMenu(t)},this.UIElement.onmousemove=function(t){e.UIOnMouseMove(t)},this.UIElement.onmouseout=function(t){e.UIOnMounseOut(t)},this.UIElement.onmouseleave=function(t){e.UIOnMouseleave(t)}},this.Draw=function(){if(!(this.UIElement.width<=0||this.UIElement.height<=0)){this.Canvas.clearRect(0,0,this.UIElement.width,this.UIElement.height);var t=c();if(this.Canvas.lineWidth=t,this.ChartSplashPaint&&this.ChartSplashPaint.IsEnableSplash)return this.Frame.Draw({IsEnableSplash:this.ChartSplashPaint.IsEnableSplash}),void this.ChartSplashPaint.Draw();this.Frame.Draw(),this.Frame.DrawLogo();for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.IsDrawFirst&&i.Draw()}for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.IsDrawFirst||i.Draw()}}},this.OnSize=function(){this.Frame&&(this.SetSizeChange(!0),this.Draw())},this.SetSizeChange=function(t){for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i&&(i.SizeChange=t)}},this.UpdateFrameMaxMin=function(){for(var t=null,e=null,i=0;i<this.ChartPaint.length;++i){var a=this.ChartPaint[i];if(a.GetMaxMin){var r=a.GetMaxMin();null!=r&&null!=r.Max&&null!=r.Min&&((null==t||t<r.Max)&&(t=r.Max),(null==e||e>r.Min)&&(e=r.Min))}}Ee.IsNumber(t)&&Ee.IsNumber(e)&&(this.Frame.HorizontalMax=t,this.Frame.HorizontalMin=e)},this.UIOnDblClick=function(t){},this.CancelDragTimer=function(){this.DragTimer&&(clearTimeout(this.DragTimer),this.DragTimer=null)},this.UIOnMouseDown=function(t){var e=this;this.CancelDragTimer(),this.DragSlider=null,this.DragMove={Click:{X:t.clientX,Y:t.clientY},Move:{X:t.clientX,Y:t.clientY},PreMove:{X:t.clientX,Y:t.clientY}};var i=c(),a=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,r=(t.clientY-this.UIElement.getBoundingClientRect().top)*i;if(this.SliderChart){var n=this.SliderChart.PtInChart(a,r);if(!n)return;this.DragSlider={Click:{X:t.clientX,Y:t.clientY},LastMove:{X:t.clientX,Y:t.clientY},Data:n},this.DragSlider.DrawCount=0}document.onmousemove=function(t){e.DocOnMouseMove(t)},document.onmouseup=function(t){e.DocOnMouseUp(t)}},this.UIOnContextMenu=function(t){t.preventDefault()},this.UIOnMouseMove=function(t){var e=c(),i=(t.clientX-this.UIElement.getBoundingClientRect().left)*e,a=(t.clientY-this.UIElement.getBoundingClientRect().top)*e;if(!this.DragSlider){var r=r={Cursor:"default"},n=this.SliderChart.PtInChart(i,a);if(n)switch(n.Data.Type){case 0:r={Cursor:"move",Name:"SliderChart"};break;case 1:case 2:r={Cursor:"ew-resize",Name:"SliderChart"}}r&&(this.UIElement.style.cursor=r.Cursor)}},this.UIOnMounseOut=function(t){},this.UIOnMouseleave=function(t){},this.DocOnMouseMove=function(t){var e=this;if(this.DragMove.PreMove.X=this.DragMove.Move.X,this.DragMove.PreMove.Y=this.DragMove.Move.Y,this.DragMove.Move.X=t.clientX,this.DragMove.Move.Y=t.clientX,!this.ChartSplashPaint||1!=this.ChartSplashPaint.IsEnableSplash){var i=c(),a=(t.clientX-this.UIElement.getBoundingClientRect().left)*i,r=(t.clientY-this.UIElement.getBoundingClientRect().top)*i;if(Nn.Chart.Log("[JSScrollBarChartContainer::DocOnMouseMove] x="+a+", y="+r),this.DragSlider){var n=this.DragSlider,o=(t.clientX-n.LastMove.X)*i;if(Math.abs(o)<1)return;var s=this.GetPageRange(),l=this.Frame.ChartBorder.GetLeft(),h=this.Frame.ChartBorder.GetRight();this.SliderChart.DragMode=!0;var u=n.Data.Data.Type,d=this.SliderChart.XStart+o,f=this.SliderChart.XEnd+o;0==u?(d<l?(d=s.First.XStart,f=s.First.XEnd):f>=h&&(d=s.Last.XStart,f=s.Last.XEnd),this.SliderChart.XStart=d,this.SliderChart.XEnd=f):1==u?(d<=l&&(d=s.First.XStart),this.SliderChart.XStart=d):2==u&&(f>=h&&(f=s.Last.XEnd),this.SliderChart.XEnd=f),n.UpdateData={XStart:d,XEnd:f,Type:u},n.LastMove.X=t.clientX,n.LastMove.Y=t.clientY,0==n.DrawCount?this.DragUpdate(n):this.DragTimer=setTimeout(function(){e.DragUpdate(e.DragSlider)},this.DelayDragFrequency)}}},this.DocOnMouseUp=function(t){document.onmousemove=null,document.onmouseup=null,this.CancelDragTimer();var e=this.DragSlider;this.DragMove=null,this.DragSlider=null,this.SliderChart.DragMode=!1,this.DragUpdate(e)},this.DragUpdate=function(t){t&&t.UpdateData&&(this.UpdateXDataOffset(t.UpdateData),this.Draw(),++t.DrawCount)},this.Reset=function(t){this.SourceData=null,this.XOffsetData.Start=-1,this.XOffsetData.End=-1,this.XOffsetData.Count=0,this.Frame.Data=null;for(var e=0;e<this.ChartPaint.length;++e){this.ChartPaint[e].Data=null}this.ChartSplashPaint&&(this.ChartSplashPaint.IsEnableSplash=!0),t.Draw&&this.Draw()},this.UpdateSlider=function(t){if(!this.SliderChart.DragMode){var e=!1;(this.AutoMargin.Left||this.AutoMargin.Right)&&t.Border&&(this.AutoMargin.Left&&this.Frame.ChartBorder.Left!=t.Border.Left&&(e=!0),this.AutoMargin.Right&&this.Frame.ChartBorder.Right!=t.Border.Right&&(e=!0));var i=t.Data;if(this.XOffsetData.Start!=t.Start||this.XOffsetData.End!=t.End||this.SourceData!=i||e){this.SourceData=i;var a=i.Data.length;Ee.IsNumber(t.RightSpaceCount)&&(a+=t.RightSpaceCount),this.Frame.XPointCount=a,this.Frame.Data=i,this.XOffsetData.Count=a,this.XOffsetData.Start=t.Start,this.XOffsetData.End=t.End;for(var r=0;r<this.ChartPaint.length;++r){this.ChartPaint[r].Data=i}this.AutoMargin.Left&&t.Border&&Ee.IsNumber(t.Border.Left)&&(this.Frame.ChartBorder.Left=t.Border.Left),this.AutoMargin.Right&&t.Border&&Ee.IsNumber(t.Border.Right)&&(this.Frame.ChartBorder.Right=t.Border.Right),this.UpdateFrameMaxMin(),this.ChartSplashPaint&&(this.ChartSplashPaint.IsEnableSplash=!1),t.Draw&&this.Draw()}}},this.UpdateXDataOffset=function(t){if(0==t.Type){var e=this.Frame.GetXData(t.XStart);e=parseInt(e);var i=e-this.XOffsetData.Start;this.XOffsetData.Start=e,this.XOffsetData.End+=i}else if(1==t.Type){var e=this.Frame.GetXData(t.XStart);e=parseInt(e),this.XOffsetData.Start=e}else if(2==t.Type){var a=this.Frame.GetXData(t.XEnd);a=parseInt(a),this.XOffsetData.End=a}var r=this.SourceData.Data[this.XOffsetData.End],n=this.SourceData.Data[this.XOffsetData.Start],o={Type:t.Type,Count:this.XOffsetData.Count};if(this.XOffsetData.End>this.XOffsetData.Start?(o.Start={Index:this.XOffsetData.Start,Item:n},o.End={Index:this.XOffsetData.End,Item:r}):(o.Start={Index:this.XOffsetData.End,Item:r},o.End={Index:this.XOffsetData.Start,Item:n}),this.HQChart&&this.HQChart.JSChartContainer){var s=this.HQChart.JSChartContainer;if(s.ChartOperator){var t={ID:Bn.OP_SCROOLBAR_SLIDER_CHANGED,Start:o.Start,End:o.End,Type:o.Type};s.ChartOperator(t)}}var l=this.GetEventCallback(Rn.ON_SCROLLBAR_SLIDER_CHANGED);l&&l.Callback(l,o,this)},this.ReloadResource=function(t){this.Frame.ReloadResource(t);for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.ReloadResource&&i.ReloadResource(t)}t&&t.Redraw&&(this.SetSizeChange(!0),this.Draw())},this.GetPageRange=function(){var t={},e=Math.abs(this.XOffsetData.Start-this.XOffsetData.End);t.ShowCount=e;var i=this.Frame.GetXFromIndex(0),a=this.Frame.GetXFromIndex(e);t.First={XStart:i,XEnd:a};var r=this.Frame.XPointCount-1,a=this.Frame.GetXFromIndex(r),i=this.Frame.GetXFromIndex(r-e);return t.Last={XStart:i,XEnd:a},t},this.ReloadResource=function(t){this.Frame.ReloadResource(t);for(var e=0;e<this.ChartPaint.length;++e){var i=this.ChartPaint[e];i.ReloadResource&&i.ReloadResource(t)}1==t.Draw&&this.Draw()}}function on(){this.ChartBorder,this.Canvas,this.BorderLine=null,this.Data,this.Count=0,this.ClassName="JSScrollBarFrame",this.HorizontalMax=10,this.HorizontalMin=5,this.XPointCount=0,this.XSplitTextFont=lo.ScrollBar.XSplitTextFont,this.XSplitTextColor=lo.ScrollBar.XSplitTextColor,this.XSplitLineColor=lo.ScrollBar.XSplitLineColor,this.BorderColor=lo.ScrollBar.BorderColor,this.LogoTextColor=lo.FrameLogo.TextColor,this.LogoTextFont=lo.FrameLogo.Font,this.ReloadResource=function(t){this.BorderColor=lo.ScrollBar.BorderColor,this.LogoTextColor=lo.FrameLogo.TextColor,this.LogoTextFont=lo.FrameLogo.Font},this.Draw=function(){this.DrawBorder(),this.DrawLogo(),this.DrawVertical()},this.DrawLogo=function(){var t=lo.FrameLogo.Text;if(Ee.IsString(t)){this.Canvas.fillStyle=this.LogoTextColor,this.Canvas.font=this.LogoTextFont,this.Canvas.textAlign="left",this.Canvas.textBaseline="top";var e=this.ChartBorder.GetLeft()+2,i=this.ChartBorder.GetTop()+2;this.Canvas.fillText(t,e,i)}},this.DrawBorder=function(){var t=v(this.ChartBorder.GetLeft()),e=v(this.ChartBorder.GetTop()),i=v(this.ChartBorder.GetRight()),a=v(this.ChartBorder.GetBottom()),r=i-t,n=a-e;Ee.IsNumber(this.BorderLine)?(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.beginPath(),(1&this.BorderLine)>0&&(this.Canvas.moveTo(t,e),this.Canvas.lineTo(i,e)),(2&this.BorderLine)>0&&(this.Canvas.moveTo(t,a),this.Canvas.lineTo(i,a)),(4&this.BorderLine)>0&&(this.Canvas.moveTo(t,e),this.Canvas.lineTo(t,a)),(8&this.BorderLine)>0&&(this.Canvas.moveTo(i,e),this.Canvas.lineTo(i,a)),this.Canvas.stroke()):(this.Canvas.strokeStyle=this.BorderColor,this.Canvas.strokeRect(t,e,r,n))},this.GetXFromIndex=function(t){var e=this.XPointCount;return 1==e?0==t?this.ChartBorder.GetLeft():this.ChartBorder.GetRight():e<=0?this.ChartBorder.GetLeft():t>=e?this.ChartBorder.GetRight():this.ChartBorder.GetLeft()+this.ChartBorder.GetWidth()*t/e},this.GetYFromData=function(t){if(t<=this.HorizontalMin)return this.ChartBorder.GetBottomEx();if(t>=this.HorizontalMax)return this.ChartBorder.GetTopEx();var e=this.ChartBorder.GetHeightEx()*(t-this.HorizontalMin)/(this.HorizontalMax-this.HorizontalMin);return this.ChartBorder.GetBottomEx()-e},this.GetXData=function(t){return t<=this.ChartBorder.GetLeft()?0:t>=this.ChartBorder.GetRight()?this.XPointCount:(t-this.ChartBorder.GetLeft())*(1*this.XPointCount/this.ChartBorder.GetWidth())},this.GetPreSetpWidth=function(){return 1*this.XPointCount/this.ChartBorder.GetWidth()},this.DrawVertical=function(){if(!(this.ChartBorder.Bottom<=5)&&this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){var t=this.Data.Data[0],e=parseInt(t.Date/1e4),i=t.Date%1e4;this.Canvas.font=this.XSplitTextFont,this.Canvas.fillStyle=this.XSplitTextColor,this.Canvas.textBaseline="top";var a=this.ChartBorder.GetBottom()+2,r=this.ChartBorder.GetTop(),n=this.ChartBorder.GetBottom(),o=0;if(Q.IsMinutePeriod(this.Data.Period,!0))for(var s=0;s<this.Data.Data.length;++s){var t=this.Data.Data[s],l=t.Date%1e4;if(0!=s){if(l!=i){var h=Ee.FormatDateString(t.Date,"MM-DD"),u=this.GetXFromIndex(s),c=this.Canvas.measureText(h).width+2;u-c/2>o&&(this.Canvas.textAlign="center",this.Canvas.fillText(h,u,a),o=u+c/2),u=v(u),this.Canvas.strokeStyle=this.XSplitLineColor,this.Canvas.beginPath(),this.Canvas.moveTo(u,r),this.Canvas.lineTo(u,n),this.Canvas.stroke(),i=l}}else{var h=Ee.FormatDateString(t.Date,"MM-DD"),u=this.ChartBorder.GetLeft();this.Canvas.textAlign="left",this.Canvas.fillText(h,u,a);var c=this.Canvas.measureText(h).width+2;o=u+c,i=l}}else for(var s=0;s<this.Data.Data.length;++s){var t=this.Data.Data[s],d=parseInt(t.Date/1e4);if(0!=s){if(d!=e){var h=""+d,u=this.GetXFromIndex(s),c=this.Canvas.measureText(h).width+2;u-c/2>o&&(this.Canvas.textAlign="center",this.Canvas.fillText(h,u,a),o=u+c/2),u=v(u),this.Canvas.strokeStyle=this.XSplitLineColor,this.Canvas.beginPath(),this.Canvas.moveTo(u,r),this.Canvas.lineTo(u,n),this.Canvas.stroke(),e=d}}else{var h=""+d,u=this.ChartBorder.GetLeft(),c=this.Canvas.measureText(h).width+2;this.Canvas.textAlign="left",this.Canvas.fillText(h,u,a),o=u+c,e=d}}}}}function sn(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="SliderChart",this.OffsetData,this.Color=lo.ScrollBar.Slider.BarAreaColor,this.BarColor=lo.ScrollBar.Slider.BarColor,this.BarWidth=10,this.BarPadding=10,this.DateFont=lo.ScrollBar.Slider.DateFont,this.DateColor=lo.ScrollBar.Slider.DateColor,this.AryRect=[],this.XStart,this.XEnd,this.SizeChange=!0,this.DragMode=!1,this.ReloadResource=function(t){this.Color=lo.ScrollBar.Slider.BarAreaColor,this.BarColor=lo.ScrollBar.Slider.BarColor,this.DateFont=lo.ScrollBar.Slider.DateFont,this.DateColor=lo.ScrollBar.Slider.DateColor},this.Draw=function(){if(this.AryRect=[],this.OffsetData&&Ee.IsPlusNumber(this.OffsetData.Count)&&Ee.IsNumber(this.OffsetData.Start)&&Ee.IsNumber(this.OffsetData.End)){var t,e,i=this.ChartBorder.GetTop(),a=this.ChartBorder.GetBottom();if(this.DragMode){var r=this.XStart,n=this.XEnd,o=this.ChartFrame.GetXData(r),s=this.ChartFrame.GetXData(n);o=parseInt(o),s=parseInt(s),t={Data:this.Data.Data[this.OffsetData.Start],X:r,Type:o<s?0:1},e={Data:this.Data.Data[this.OffsetData.End],X:n,Type:s>o?1:0}}else{var l=this.OffsetData.Start,h=this.OffsetData.End,r=this.ChartFrame.GetXFromIndex(l),n=this.ChartFrame.GetXFromIndex(h);this.XStart=r,this.XEnd=n,t={Data:this.Data.Data[this.OffsetData.Start],X:r,Type:r<n?0:1},e={Data:this.Data.Data[this.OffsetData.End],X:n,Type:n>r?1:0}}this.Canvas.fillStyle=this.Color;var u={Left:Math.min(r,n),Top:i,Width:Math.abs(n-r),Height:a-i};u.Right=u.Left+u.Width,u.Bottom=u.Top+u.Height,this.Canvas.fillRect(u.Left,u.Top,u.Width,u.Height),this.AryRect.push({Rect:u,Type:0});var d=c(),f=this.BarWidth*d,p=a-i-2*this.BarPadding*d,m=r-this.BarWidth/2,C=i+this.BarPadding*d;this.Canvas.fillStyle=this.BarColor;var u={Left:m,Top:C,Width:f,Height:p};u.Right=u.Left+u.Width,u.Bottom=u.Top+u.Height,this.Canvas.fillRect(u.Left,u.Top,u.Width,u.Height),this.AryRect.push({Rect:u,Type:1});var m=n-this.BarWidth/2,u={Left:m,Top:C,Width:f,Height:p};u.Right=u.Left+u.Width,u.Bottom=u.Top+u.Height,this.Canvas.fillRect(u.Left,u.Top,u.Width,u.Height),this.AryRect.push({Rect:u,Type:2}),this.DrawDateTime(t),this.DrawDateTime(e)}},this.DrawDateTime=function(t){if(t&&t.Data){var e=Ee.FormatDateString(t.Data.Date),i=this.ChartBorder.GetTop(),a=this.ChartBorder.GetBottom(),r=Q.IsMinutePeriod(this.Data.Period,!0),n=null;if(r&&(n=Ee.FormatTimeString(t.Data.Time,"HH:MM")),0==t.Type){this.Canvas.textAlign="right";var o=t.X-this.BarWidth/2}else if(1==t.Type){this.Canvas.textAlign="left";var o=t.X+this.BarWidth/2}this.Canvas.font=this.DateFont;var s=this.Canvas.measureText("擎").width;this.Canvas.textBaseline="middle",this.Canvas.fillStyle=this.DateColor;var l=i+(a-i)/2;this.Canvas.fillText(e,o,l),n&&(l+=s,this.Canvas.fillText(n,o,l))}},this.PtInChart=function(t,e){if(!Ee.IsNonEmptyArray(this.AryRect))return null;for(var i=this.AryRect.length-1;i>=0;--i){var a=this.AryRect[i],r=a.Rect;if(t>=r.Left&&t<=r.Right&&e>=r.Top&&e<=r.Bottom)return{Data:a}}return null}}function ln(){this.Canvas,this.ChartBorder,this.ChartFrame,this.Name,this.ClassName="ScrollBarBGChart",this.SizeChange=!0,this.Data,this.Color=lo.ScrollBar.BGChart.Color,this.LineWidth=lo.ScrollBar.BGChart.LineWidth,this.AreaColor=lo.ScrollBar.BGChart.AreaColor,this.ReloadResource=function(t){this.Color=lo.ScrollBar.BGChart.Color,this.LineWidth=lo.ScrollBar.BGChart.LineWidth,this.AreaColor=lo.ScrollBar.BGChart.AreaColor},this.Draw=function(){if(this.Data&&Ee.IsNonEmptyArray(this.Data.Data)){this.Canvas.save(),this.LineWidth>0&&(this.Canvas.lineWidth=this.LineWidth*c());var t=this.ChartBorder.GetBottom();this.Canvas.strokeStyle=this.Color;for(var e,i,a=!0,r=0,n={},o=0;o<this.Data.Data.length;++o){var s=this.Data.Data[o],l=s.Close;Ee.IsNumber(l)&&(e=this.ChartFrame.GetXFromIndex(o),i=this.ChartFrame.GetYFromData(l),a?(this.Canvas.beginPath(),this.Canvas.moveTo(e,i),a=!1,n={X:e,Y:i}):this.Canvas.lineTo(e,i),++r)}r>0&&(this.Canvas.stroke(),this.Canvas.lineTo(e,t),this.Canvas.lineTo(n.X,t),this.Canvas.closePath(),this.Canvas.fillStyle=this.AreaColor,this.Canvas.fill()),this.Canvas.restore()}},this.GetMaxMin=function(){var t={Max:null,Min:null};if(!this.Data||!Ee.IsNonEmptyArray(this.Data.Data))return t;for(var e=0;e<this.Data.Data.length;++e){var i=this.Data.Data[e],a=i.Close;Ee.IsNumber(a)&&((null==t.Max||t.Max<a)&&(t.Max=a),(null==t.Min||t.Min>a)&&(t.Min=a))}return t}}Object.defineProperty(e,"__esModule",{value:!0});var hn,un=a(229),cn=(r(un),a(237)),dn=r(cn),fn=a(240),pn=r(fn),mn=a(243),Cn=r(mn),vn=a(246),Dn=r(vn),gn=a(30),Sn=r(gn),xn=a(119),bn=r(xn),In=a(120),Tn=r(In),yn=a(258),wn=r(yn),En=a(121),Fn=r(En),Ln=a(34),Mn=r(Ln),An=a(46),On=r(An),Nn={Chart:{Log:console.log,Warn:console.warn},Complier:{Log:console.log,Warn:console.warn},JSTable:{Log:console.log,Warn:console.warn}};n.HttpRequest=function(t){On.default.ajax({url:t.url,data:t.data,type:t.type,dataType:t.dataType,async:t.async,success:t.success,error:t.error})};var _n={MINUTE_ID:101,MULTIDAY_MINUTE_ID:102,HISTORY_MINUTE_ID:103,KLINE_DAY_ID:0,KLINE_WEEK_ID:1,KLINE_TWOWEEK_ID:21,KLINE_MONTH_ID:2,KLINE_QUARTER_ID:9,KLINE_YEAR_ID:3,KLINE_MINUTE_ID:4,KLINE_5_MINUTE_ID:5,KLINE_15_MINUTE_ID:6,KLINE_30_MINUTE_ID:7,KLINE_60_MINUTE_ID:8},Pn=new o;if(s.AddIndex=function(t){for(var e in t)Pn.Add(t[e])},s.prototype.Get=function(t){var e=Pn.Get(t);if(e)return e;var i=this.DataMap.get(t);if(i){var e=i();return e.ID=t,e}return null},s.prototype.Search=function(t){var e=[],i=new RegExp(t,"i");return this.DataMap.forEach(function(t,a){0!=a.indexOf("交易系统-")&&0!=a.indexOf("五彩K线-")&&a.search(i)>=0&&e.push(a)}),e},s.prototype.MA=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);"}},s.prototype.MA4=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);"}},s.prototype.MA5=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);"}},s.prototype.MA6=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);"}},s.prototype.MA7=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0},{Name:"M7",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"},{Name:"MA7",DynamicName:"MA{M7}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);\nMA7:MA(CLOSE,M7);"}},s.prototype.MA8=function(){return{Name:"MA",Description:"均线",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0},{Name:"M7",Value:0},{Name:"M8",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"},{Name:"MA7",DynamicName:"MA{M7}"},{Name:"MA8",DynamicName:"MA{M8}"}],Script:"MA1:MA(CLOSE,M1);\nMA2:MA(CLOSE,M2);\nMA3:MA(CLOSE,M3);\nMA4:MA(CLOSE,M4);\nMA5:MA(CLOSE,M5);\nMA6:MA(CLOSE,M6);\nMA7:MA(CLOSE,M7);\nMA8:MA(CLOSE,M8);"}},s.prototype.EMA3=function(){return{Name:"EMA",Description:"指数移动平均值",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"}],Script:"MA1:EMA(CLOSE,M1);\nMA2:EMA(CLOSE,M2);\nMA3:EMA(CLOSE,M3);"}},s.prototype.EMA4=function(){return{Name:"EMA",Description:"指数移动平均值",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"}],Script:"MA1:EMA(CLOSE,M1);\nMA2:EMA(CLOSE,M2);\nMA3:EMA(CLOSE,M3);\nMA4:EMA(CLOSE,M4);"}},s.prototype.EMA5=function(){return{Name:"EMA",Description:"指数移动平均值",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"}],Script:"MA1:EMA(CLOSE,M1);\nMA2:EMA(CLOSE,M2);\nMA3:EMA(CLOSE,M3);\nMA4:EMA(CLOSE,M4);\nMA5:EMA(CLOSE,M5);"}},s.prototype.EMA6=function(){return{Name:"EMA",Description:"指数移动平均值",IsMainIndex:!0,StringFormat:2,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20},{Name:"M4",Value:60},{Name:"M5",Value:0},{Name:"M6",Value:0}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"},{Name:"MA3",DynamicName:"MA{M3}"},{Name:"MA4",DynamicName:"MA{M4}"},{Name:"MA5",DynamicName:"MA{M5}"},{Name:"MA6",DynamicName:"MA{M6}"}],Script:"MA1:EMA(CLOSE,M1);\nMA2:EMA(CLOSE,M2);\nMA3:EMA(CLOSE,M3);\nMA4:EMA(CLOSE,M4);\nMA5:EMA(CLOSE,M5);\nMA6:EMA(CLOSE,M6);"}},s.prototype.BOLL=function(){return{Name:"BOLL",Description:"布林线",IsMainIndex:!0,Args:[{Name:"M",Value:20}],Script:"BOLL:MA(CLOSE,M);\nUB:BOLL+2*STD(CLOSE,M);\nLB:BOLL-2*STD(CLOSE,M);"}},s.prototype.BOLL2=function(){return{Name:"BOLL2",Description:"布林线",IsMainIndex:!1,KLineType:0,Args:[{Name:"M",Value:20}],Script:"BOLL:MA(CLOSE,M);\nUB:BOLL+2*STD(CLOSE,M);\nLB:BOLL-2*STD(CLOSE,M);"}},s.prototype.BBI=function(){return{Name:"BBI",Description:"多空均线",IsMainIndex:!0,Args:[{Name:"M1",Value:3},{Name:"M2",Value:6},{Name:"M3",Value:12},{Name:"M4",Value:24}],Script:"BBI:(MA(CLOSE,M1)+MA(CLOSE,M2)+MA(CLOSE,M3)+MA(CLOSE,M4))/4;"}},s.prototype.DKX=function(){return{Name:"DKX",Description:"多空线",IsMainIndex:!1,Args:[{Name:"M",Value:10}],Script:"MID:=(3*CLOSE+LOW+OPEN+HIGH)/6;\nDKX:(20*MID+19*REF(MID,1)+18*REF(MID,2)+17*REF(MID,3)+\n16*REF(MID,4)+15*REF(MID,5)+14*REF(MID,6)+\n13*REF(MID,7)+12*REF(MID,8)+11*REF(MID,9)+\n10*REF(MID,10)+9*REF(MID,11)+8*REF(MID,12)+\n7*REF(MID,13)+6*REF(MID,14)+5*REF(MID,15)+\n4*REF(MID,16)+3*REF(MID,17)+2*REF(MID,18)+REF(MID,20))/210;\nMADKX:MA(DKX,M);"}},s.prototype.MIKE=function(){return{Name:"MIKE",Description:"麦克支撑压力",IsMainIndex:!0,Args:[{Name:"N",Value:10}],Script:"HLC:=REF(MA((HIGH+LOW+CLOSE)/3,N),1);\nHV:=EMA(HHV(HIGH,N),3);\nLV:=EMA(LLV(LOW,N),3);\nSTOR:EMA(2*HV-LV,3);\nMIDR:EMA(HLC+HV-LV,3);\nWEKR:EMA(HLC*2-LV,3);\nWEKS:EMA(HLC*2-HV,3);\nMIDS:EMA(HLC-HV+LV,3);\nSTOS:EMA(2*LV-HV,3);"}},s.prototype.PBX=function(){return{Name:"PBX",Description:"瀑布线",IsMainIndex:!0,Args:[{Name:"M1",Value:4},{Name:"M2",Value:6},{Name:"M3",Value:9},{Name:"M4",Value:13},{Name:"M5",Value:18},{Name:"M6",Value:24}],Script:"PBX1:(EMA(CLOSE,M1)+MA(CLOSE,M1*2)+MA(CLOSE,M1*4))/3;\nPBX2:(EMA(CLOSE,M2)+MA(CLOSE,M2*2)+MA(CLOSE,M2*4))/3;\nPBX3:(EMA(CLOSE,M3)+MA(CLOSE,M3*2)+MA(CLOSE,M3*4))/3;\nPBX4:(EMA(CLOSE,M4)+MA(CLOSE,M4*2)+MA(CLOSE,M4*4))/3;\nPBX5:(EMA(CLOSE,M5)+MA(CLOSE,M5*2)+MA(CLOSE,M5*4))/3;\nPBX6:(EMA(CLOSE,M6)+MA(CLOSE,M6*2)+MA(CLOSE,M6*4))/3;"}},s.prototype.ENE=function(){return{Name:"ENE",Description:"轨道线",IsMainIndex:!0,Args:[{Name:"N",Value:25},{Name:"M1",Value:6},{Name:"M2",Value:6}],Script:"UPPER:(1+M1/100)*MA(CLOSE,N);\nLOWER:(1-M2/100)*MA(CLOSE,N);\nENE:(UPPER+LOWER)/2;"}},s.prototype.MACD=function(){return{Name:"MACD",Description:"平滑异同平均",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF:EMA(CLOSE,SHORT)-EMA(CLOSE,LONG);\nDEA:EMA(DIF,MID);\nMACD:(DIF-DEA)*2,COLORSTICK;"}},s.prototype.MACD2=function(){return{Name:"MACD",Description:"平滑异同平均",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF2:=EMA(CLOSE,SHORT)-EMA(CLOSE,LONG);\nDEA2:=EMA(DIF2,MID);\nMACD:(DIF2-DEA2)*2,COLORSTICK,LINETHICK50;\nDIF:DIF2;\nDEA:DEA2;"}},s.prototype.KDJ=function(){return{Name:"KDJ",Description:"随机指标",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:SMA(RSV,M1,1);\nD:SMA(K,M2,1);\nJ:3*K-2*D;"}},s.prototype.VOL=function(){return{Name:"VOL",Description:"成交量",IsMainIndex:!1,FloatPrecision:0,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],OutName:[{Name:"MA1",DynamicName:"MA{M1}"},{Name:"MA2",DynamicName:"MA{M2}"}],Script:"VOL:VOL,VOLSTICK;\nMA1:MA(VOL,M1);\nMA2:MA(VOL,M2);"}},s.prototype.VOL_OVERLAY=function(){return{Name:"VOL",Description:"成交量",IsMainIndex:!1,FloatPrecision:0,Script:"VOL:VOL,VOLSTICK,UPCOLOR(RGBA(255,0,0,0.3)),DOWNCOLOR(RGBA(0,255,0,0.3));"}},s.prototype.VOL_TDX=function(){return{Name:"VOL-TDX",Description:"成交量(虚拟)",IsMainIndex:!1,FloatPrecision:0,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],Script:"TOTAL:=IF(PERIOD=1,5,IF(PERIOD=2,15,IF(PERIOD=3,30,IF(PERIOD=4,60,IF(PERIOD=5,TOTALFZNUM,1)))));\nMTIME:=MOD(FROMOPEN,TOTAL);\nCTIME:=IF(MTIME<0.5,TOTAL,MTIME);\nVVOL:IF((CURRBARSCOUNT=1 AND DYNAINFO(8)>1),VOL*(TOTAL+3)/(CTIME+3),DRAWNULL),NODRAW;\nSTICKLINE((CURRBARSCOUNT=1 AND DYNAINFO(8)>1),VVOL,0,-1,-1),COLORYELLOW;\nVOLUME:VOL,VOLSTICK;\nMAVOL1:MA(VOLUME,M1);\nMAVOL2:MA(VOLUME,M2);"}},s.prototype.RSI=function(){return{Name:"RSI",Description:"相对强弱指标",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"LC:=REF(CLOSE,1);\nRSI1:SMA(MAX(CLOSE-LC,0),N1,1)/SMA(ABS(CLOSE-LC),N1,1)*100;\nRSI2:SMA(MAX(CLOSE-LC,0),N2,1)/SMA(ABS(CLOSE-LC),N2,1)*100;\nRSI3:SMA(MAX(CLOSE-LC,0),N3,1)/SMA(ABS(CLOSE-LC),N3,1)*100;"}},s.prototype.BRAR=function(){return{Name:"BRAR",Description:"情绪指标",IsMainIndex:!1,Args:[{Name:"N",Value:26}],Script:"BR:SUM(MAX(0,HIGH-REF(CLOSE,1)),N)/SUM(MAX(0,REF(CLOSE,1)-LOW),N)*100;\nAR:SUM(HIGH-OPEN,N)/SUM(OPEN-LOW,N)*100;"}},s.prototype.WR=function(){return{Name:"WR",Description:"威廉指标",IsMainIndex:!1,Args:[{Name:"N",Value:10},{Name:"N1",Value:6}],Script:"WR1:100*(HHV(HIGH,N)-CLOSE)/(HHV(HIGH,N)-LLV(LOW,N));\nWR2:100*(HHV(HIGH,N1)-CLOSE)/(HHV(HIGH,N1)-LLV(LOW,N1));"}},s.prototype.BIAS=function(){return{Name:"BIAS",Description:"乖离率",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"BIAS1 :(CLOSE-MA(CLOSE,N1))/MA(CLOSE,N1)*100;\nBIAS2 :(CLOSE-MA(CLOSE,N2))/MA(CLOSE,N2)*100;\nBIAS3 :(CLOSE-MA(CLOSE,N3))/MA(CLOSE,N3)*100;"}},s.prototype.OBV=function(){return{Name:"OBV",Description:"累积能量线",IsMainIndex:!1,Args:[{Name:"M",Value:30}],Script:"VA:=IF(CLOSE>REF(CLOSE,1),VOL,-VOL);\nOBV:SUM(IF(CLOSE==REF(CLOSE,1),0,VA),0);\nMAOBV:MA(OBV,M);"}},s.prototype.DMI=function(){return{Name:"DMI",Description:"趋向指标",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"MM",Value:6}],Script:"MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N);\nHD :=HIGH-REF(HIGH,1);\nLD :=REF(LOW,1)-LOW;\nDMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\nDMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\nPDI: DMP*100/MTR;\nMDI: DMM*100/MTR;\nADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\nADXR:EXPMEMA(ADX,MM);"}},s.prototype.CR=function(){return{Name:"CR",Description:"带状能量线",IsMainIndex:!1,Args:[{Name:"N",Value:26},{Name:"M1",Value:10},{Name:"M2",Value:20},{Name:"M3",Value:40},{Name:"M4",Value:62}],Script:"MID:=REF(HIGH+LOW,1)/2;\nCR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\nMA1:REF(MA(CR,M1),M1/2.5+1);\nMA2:REF(MA(CR,M2),M2/2.5+1);\nMA3:REF(MA(CR,M3),M3/2.5+1);\nMA4:REF(MA(CR,M4),M4/2.5+1);"}},s.prototype.PSY=function(){return{Name:"PSY",Description:"心理线",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"PSY:COUNT(CLOSE>REF(CLOSE,1),N)/N*100;\rPSYMA:MA(PSY,M);"}},s.prototype.CCI=function(){return{Name:"CCI",Description:"商品路径指标",IsMainIndex:!1,Args:[{Name:"N",Value:14}],Script:"TYP:=(HIGH+LOW+CLOSE)/3;\nCCI:(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N));"}},s.prototype.DMA=function(){return{Name:"DMA",Description:"平均差",IsMainIndex:!1,Args:[{Name:"N1",Value:10},{Name:"N2",Value:50},{Name:"M",Value:10}],Script:"DIF:MA(CLOSE,N1)-MA(CLOSE,N2);\nDIFMA:MA(DIF,M);"}},s.prototype.TRIX=function(){return{Name:"TRIX",Description:"三重指数平均线",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:9}],Script:"MTR:=EMA(EMA(EMA(CLOSE,N),N),N);\nTRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\nMATRIX:MA(TRIX,M) ;"}},s.prototype.VR=function(){return{Name:"VR",Description:"成交量变异率",IsMainIndex:!1,Args:[{Name:"N",Value:26},{Name:"M",Value:6}],Script:"TH:=SUM(IF(CLOSE>REF(CLOSE,1),VOL,0),N);\nTL:=SUM(IF(CLOSE<REF(CLOSE,1),VOL,0),N);\nTQ:=SUM(IF(CLOSE==REF(CLOSE,1),VOL,0),N);\nVR:100*(TH*2+TQ)/(TL*2+TQ);\nMAVR:MA(VR,M);"}},s.prototype.EMV=function(){return{Name:"EMV",Description:"简易波动指标",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"M",Value:9}],Script:"VOLUME:=MA(VOL,N)/VOL;\nMID:=100*(HIGH+LOW-REF(HIGH+LOW,1))/(HIGH+LOW);\nEMV:MA(MID*VOLUME*(HIGH-LOW)/MA(HIGH-LOW,N),N);\nMAEMV:MA(EMV,M);"}},s.prototype.ROC=function(){return{Name:"ROC",Description:"变动率指标",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"ROC:100*(CLOSE-REF(CLOSE,N))/REF(CLOSE,N);\nMAROC:MA(ROC,M);"}},s.prototype.MTM=function(){return{Name:"MTM",Description:"动量线",IsMainIndex:!1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"MTM:CLOSE-REF(CLOSE,N);\nMAMTM:MA(MTM,M);"}},s.prototype.FSL=function(){return{Name:"FSL",Description:"分水岭",IsMainIndex:!1,Args:[],Script:"SWL:(EMA(CLOSE,5)*7+EMA(CLOSE,10)*3)/10;\nSWS:DMA(EMA(CLOSE,12),MAX(1,100*(SUM(VOL,5)/(3*CAPITAL))));"}},s.prototype.CYR=function(){return{Name:"CYR",Description:"市场强弱",IsMainIndex:!1,Args:[{Name:"N",Value:13},{Name:"M",Value:5}],Script:"DIVE:=0.01*EMA(AMOUNT,N)/EMA(VOL,N);\nCYR:(DIVE/REF(DIVE,1)-1)*100;\nMACYR:MA(CYR,M);"}},s.prototype.MASS=function(){return{Name:"MASS",Description:"市场强弱",IsMainIndex:!1,Args:[{Name:"N1",Value:9},{Name:"N2",Value:25},{Name:"M",Value:6}],Script:"MASS:SUM(MA(HIGH-LOW,N1)/MA(MA(HIGH-LOW,N1),N1),N2);\nMAMASS:MA(MASS,M);"}},s.prototype.WAD=function(){return{Name:"WAD",Description:"威廉多空力度线",IsMainIndex:!1,Args:[{Name:"M",Value:30}],Script:"MIDA:=CLOSE-MIN(REF(CLOSE,1),LOW);\nMIDB:=IF(CLOSE<REF(CLOSE,1),CLOSE-MAX(REF(CLOSE,1),HIGH),0);\nWAD:SUM(IF(CLOSE>REF(CLOSE,1),MIDA,MIDB),0);\nMAWAD:MA(WAD,M);"}},s.prototype.CHO=function(){return{Name:"CHO",Description:"佳庆指标",IsMainIndex:!1,Args:[{Name:"N1",Value:10},{Name:"N2",Value:20},{Name:"M",Value:6}],Script:"MID:=SUM(VOL*(2*CLOSE-HIGH-LOW)/(HIGH+LOW),0);\nCHO:MA(MID,N1)-MA(MID,N2);\nMACHO:MA(CHO,M);"}},s.prototype.ADTM=function(){return{Name:"ADTM",Description:"动态买卖气指标",IsMainIndex:!1,Args:[{Name:"N",Value:23},{Name:"M",Value:8}],Script:"DTM:=IF(OPEN<=REF(OPEN,1),0,MAX((HIGH-OPEN),(OPEN-REF(OPEN,1))));\nDBM:=IF(OPEN>=REF(OPEN,1),0,MAX((OPEN-LOW),(OPEN-REF(OPEN,1))));\nSTM:=SUM(DTM,N);\nSBM:=SUM(DBM,N);\nADTM:IF(STM>SBM,(STM-SBM)/STM,IF(STM==SBM,0,(STM-SBM)/SBM));\nMAADTM:MA(ADTM,M);"}},s.prototype.HSL=function(){return{Name:"HSL",Description:"换手线",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"HSL:IF((SETCODE==0||SETCODE==1),100*VOL,VOL)/(FINANCE(7)/100);\nMAHSL:MA(HSL,N);"}},s.prototype.BIAS36=function(){return{Name:"BIAS36",Description:"三六乖离",IsMainIndex:!1,Args:[{Name:"M",Value:6}],Script:"BIAS36:MA(CLOSE,3)-MA(CLOSE,6);\nBIAS612:MA(CLOSE,6)-MA(CLOSE,12);\nMABIAS:MA(BIAS36,M);"}},s.prototype.BIAS_QL=function(){return{Name:"BIAS_QL",Description:"乖离率-传统版",IsMainIndex:!1,Args:[{Name:"N",Value:6},{Name:"M",Value:6}],Script:"BIAS :(CLOSE-MA(CLOSE,N))/MA(CLOSE,N)*100;\nBIASMA :MA(BIAS,M);"}},s.prototype.DPO=function(){return{Name:"DPO",Description:"区间震荡线",IsMainIndex:!1,Args:[{Name:"N",Value:20},{Name:"M",Value:6}],Script:"DPO:CLOSE-REF(MA(CLOSE,N),N/2+1);\nMADPO:MA(DPO,M);"}},s.prototype.OSC=function(){return{Name:"OSC",Description:"变动速率线",IsMainIndex:!1,Args:[{Name:"N",Value:20},{Name:"M",Value:6}],Script:"OSC:100*(CLOSE-MA(CLOSE,N));\nMAOSC:EXPMEMA(OSC,M);"}},s.prototype.ATR=function(){return{Name:"ATR",Description:"真实波幅",IsMainIndex:!1,Args:[{Name:"N",Value:14}],Script:"MTR:MAX(MAX((HIGH-LOW),ABS(REF(CLOSE,1)-HIGH)),ABS(REF(CLOSE,1)-LOW));\nATR:MA(MTR,N);"}},s.prototype.NVI=function(){return{Name:"ATR",Description:"负成交量",IsMainIndex:!1,Args:[{Name:"N",Value:72}],Script:"NVI:100*MULAR(IF(V<REF(V,1),C/REF(C,1),1),0);\nMANVI:MA(NVI,N);"}},s.prototype.PVI=function(){return{Name:"PVI",Description:"正成交量",IsMainIndex:!1,Args:[{Name:"N",Value:72}],Script:"NVI:100*MULAR(IF(V>REF(V,1),C/REF(C,1),1),0);\nMANVI:MA(NVI,N);"}},s.prototype.UOS=function(){return{Name:"UOS",Description:"终极指标",IsMainIndex:!1,Args:[{Name:"N1",Value:7},{Name:"N2",Value:14},{Name:"N3",Value:28},{Name:"M",Value:6}],Script:"TH:=MAX(HIGH,REF(CLOSE,1));\nTL:=MIN(LOW,REF(CLOSE,1));\nACC1:=SUM(CLOSE-TL,N1)/SUM(TH-TL,N1);\nACC2:=SUM(CLOSE-TL,N2)/SUM(TH-TL,N2);\nACC3:=SUM(CLOSE-TL,N3)/SUM(TH-TL,N3);\nUOS:(ACC1*N2*N3+ACC2*N1*N3+ACC3*N1*N2)*100/(N1*N2+N1*N3+N2*N3);\nMAUOS:EXPMEMA(UOS,M);"}},s.prototype.CYW=function(){return{Name:"CYW",Description:"主力控盘",IsMainIndex:!1,Args:[],Script:"VAR1:=CLOSE-LOW;\nVAR2:=HIGH-LOW;\nVAR3:=CLOSE-HIGH;\nVAR4:=IF(HIGH>LOW,(VAR1/VAR2+VAR3/VAR2)*VOL,0);\nCYW: SUM(VAR4,10)/10000, COLORSTICK;"}},s.prototype.LON=function(){return{Name:"LON",Description:"龙系长线",IsMainIndex:!1,Args:[{Name:"N",Value:10}],Script:"LC := REF(CLOSE,1);\nVID := SUM(VOL,2)/(((HHV(HIGH,2)-LLV(LOW,2)))*100);\nRC := (CLOSE-LC)*VID;\nLONG := SUM(RC,0);\nDIFF := SMA(LONG,10,1);\nDEA := SMA(LONG,20,1);\nLON : DIFF-DEA;\nLONMA : MA(LON,10);\nLONT : LON, COLORSTICK;"}},s.prototype.NDB=function(){return{Name:"NDB",Description:"脑电波",IsMainIndex:!1,Args:[{Name:"P1",Value:5},{Name:"P2",Value:10}],Script:"HH:=IF(C/REF(C,1)>1.098 AND L>REF(H,1),2*C-REF(C,1)-H,2*C-H-L);\nV1:= BARSCOUNT(C) - 1;\nV2:= 2 * REF(C, V1) - REF(H, V1) - REF(L, V1);\nDK: SUM(HH, 0) + V2;\nMDK5: MA(DK, P1);\nMDK10: MA(DK, P2);"}},s.prototype.SKDJ=function(){return{Name:"SKDJ",Description:"慢速随机指标",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M",Value:3}],Script:"LOWV:=LLV(LOW,N);\nHIGHV:=HHV(HIGH,N);\nRSV:=EMA((CLOSE-LOWV)/(HIGHV-LOWV)*100,M);\nK:EMA(RSV,M);\nD:MA(K,M);"}},s.prototype.KD=function(){return{Name:"KD",Description:"随机指标KD",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:SMA(RSV,M1,1);\nD:SMA(K,M2,1);"}},s.prototype.FKX=function(){return{Name:"FKX",Description:"反K线",IsMainIndex:!0,Args:[],Script:"DRAWKLINE(-LOW, -OPEN, -HIGH, -CLOSE);"}},s.prototype.DKCOL=function(){return{Name:"DKCOL",Description:"多空能量柱(适用于分时主图)",IsMainIndex:!0,Args:[{Name:"N",Value:5}],Script:"FF:=(C-REF(C,N))/REF(C,N);\nSTICKLINE(FF>0,DYNAINFO(3),DYNAINFO(3)*(1+FF),0.5,0),COLORRED;\nSTICKLINE(FF<0,DYNAINFO(3),DYNAINFO(3)*(1+FF),0.5,0),COLORGREEN;"}},s.prototype.UDL=function(){return{Name:"UDL",Description:"引力线",IsMainIndex:!1,Args:[{Name:"N1",Value:3},{Name:"N2",Value:5},{Name:"N3",Value:10},{Name:"N4",Value:20},{Name:"M",Value:6}],Script:"UDL:(MA(CLOSE,N1)+MA(CLOSE,N2)+MA(CLOSE,N3)+MA(CLOSE,N4))/4;\nMAUDL:MA(UDL,M);"}},s.prototype.MFI=function(){return{Name:"MFI",Description:"资金流量指标",IsMainIndex:!1,Args:[{Name:"N",Value:14},{Name:"N2",Value:6}],Script:"TYP := (HIGH + LOW + CLOSE)/3;\nV1:=SUM(IF(TYP>REF(TYP,1),TYP*VOL,0),N)/SUM(IF(TYP<REF(TYP,1),TYP*VOL,0),N);\nMFI:100-(100/(1+V1));"}},s.prototype.LWR=function(){return{Name:"LWR",Description:"LWR威廉指标",IsMainIndex:!1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"RSV:= (HHV(HIGH,N)-CLOSE)/(HHV(HIGH,N)-LLV(LOW,N))*100;\nLWR1:SMA(RSV,M1,1);\nLWR2:SMA(LWR1,M2,1);"}},s.prototype.MARSI=function(){return{Name:"MARSI",Description:"相对强弱平均线",IsMainIndex:!1,Args:[{Name:"M1",Value:10},{Name:"M2",Value:6}],Script:"DIF:=CLOSE-REF(CLOSE,1);\nVU:=IF(DIF>=0,DIF,0);\nVD:=IF(DIF<0,-DIF,0);\nMAU1:=MEMA(VU,M1);\nMAD1:=MEMA(VD,M1);\nMAU2:=MEMA(VU,M2);\nMAD2:=MEMA(VD,M2);\nRSI10:MA(100*MAU1/(MAU1+MAD1),M1);\nRSI6:MA(100*MAU2/(MAU2+MAD2),M2);"}},s.prototype.CYD=function(){return{Name:"CYD",Description:"承接因子",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"CYDS:WINNER(CLOSE)/(VOL/CAPITAL);\nCYDN:WINNER(CLOSE)/MA(VOL/CAPITAL,N);"}},s.prototype.CYF=function(){return{Name:"CYF",Description:"市场能量",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"CYF:100-100/(1+EMA(HSL,N));"}},s.prototype.TAPI=function(){return{Name:"TAPI",Description:"加权指数成交值",IsMainIndex:!1,Args:[{Name:"M",Value:6}],Script:"TAPI:AMOUNT/INDEXC;\nMATAIP:MA(TAPI,M);"}},s.prototype.VMACD=function(){return{Name:"VMACD",Description:"量平滑异同平均",IsMainIndex:!1,Args:[{Name:"SHORT",Value:12},{Name:"LONG",Value:26},{Name:"MID",Value:9}],Script:"DIF:EMA(VOL,SHORT)-EMA(VOL,LONG);\nDEA:EMA(DIF,MID);\nMACD:DIF-DEA,COLORSTICK;"}},s.prototype.QACD=function(){return{Name:"QACD",Description:"快速异同平均",IsMainIndex:!1,Args:[{Name:"N1",Value:12},{Name:"N2",Value:26},{Name:"M",Value:9}],Script:"DIF:EMA(CLOSE,N1)-EMA(CLOSE,N2);\nMACD:EMA(DIF,M);\nDDIF:DIF-MACD;"}},s.prototype.VPT=function(){return{Name:"VPT",Description:"量价曲线",IsMainIndex:!1,Args:[{Name:"N",Value:51},{Name:"M",Value:6}],Script:"VPT:SUM(VOL*(CLOSE-REF(CLOSE,1))/REF(CLOSE,1),N);\nMAVPT:MA(VPT,M);"}},s.prototype.WVAD=function(){return{Name:"WVAD",Description:"威廉变异离散量",IsMainIndex:!1,Args:[{Name:"N",Value:24},{Name:"M",Value:6}],Script:"WVAD:SUM((CLOSE-OPEN)/(HIGH-LOW)*VOL,N)/10000;\nMAWVAD:MA(WVAD,M);"}},s.prototype.DBQR=function(){return{Name:"WVAD",Description:"对比强弱",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M1",Value:10},{Name:"M2",Value:20},{Name:"M3",Value:60}],Script:"ZS:(INDEXC-REF(INDEXC,N))/REF(INDEXC,N);\nGG:(CLOSE-REF(CLOSE,N))/REF(CLOSE,N);\nMADBQR1:MA(GG,M1);\nMADBQR2:MA(GG,M2);\nMADBQR3:MA(GG,M3);"}},s.prototype.JS=function(){return{Name:"JS",Description:"加速线",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M1",Value:5},{Name:"M2",Value:10},{Name:"M3",Value:20}],Script:"JS:100*(CLOSE-REF(CLOSE,N))/(N*REF(CLOSE,N));\nMAJS1:MA(JS,M1);\nMAJS2:MA(JS,M2);\nMAJS3:MA(JS,M3);"}},s.prototype.CYE=function(){return{Name:"CYE",Description:"市场趋势",IsMainIndex:!1,Args:[],Script:"MAL:=MA(CLOSE,5);\nMAS:=MA(MA(CLOSE,20),5);\nCYEL:(MAL-REF(MAL,1))/REF(MAL,1)*100;\nCYES:(MAS-REF(MAS,1))/REF(MAS,1)*100;"}},s.prototype.QR=function(){return{Name:"QR",Description:"强弱指标",IsMainIndex:!1,Args:[{Name:"N",Value:21}],Script:"个股: (CLOSE-REF(CLOSE,N))/REF(CLOSE,N)*100; \n大盘: (INDEXC-REF(INDEXC,N))/REF(INDEXC,N)*100; \n强弱值:EMA(个股-大盘,2),COLORSTICK;"}},s.prototype.GDX=function(){return{Name:"GDX",Description:"轨道线",IsMainIndex:!1,Args:[{Name:"N",Value:30},{Name:"M",Value:9}],Script:"AA:=ABS((2*CLOSE+HIGH+LOW)/4-MA(CLOSE,N))/MA(CLOSE,N); \n轨道:DMA(CLOSE,AA);\n压力线:(1+M/100)*轨道; \n支撑线:(1-M/100)*轨道;"}},s.prototype.JLHB=function(){return{Name:"JLHB",Description:"绝路航标",IsMainIndex:!1,Args:[{Name:"N",Value:7},{Name:"M",Value:5}],Script:"VAR1:=(CLOSE-LLV(LOW,60))/(HHV(HIGH,60)-LLV(LOW,60))*80; \nB:SMA(VAR1,N,1); \nVAR2:SMA(B,M,1); \n绝路航标:IF(CROSS(B,VAR2) AND B<40,50,0);"}},s.prototype.PCNT=function(){return{Name:"PCNT",Description:"幅度比",IsMainIndex:!1,Args:[{Name:"M",Value:5}],Script:"PCNT:(CLOSE-REF(CLOSE,1))/CLOSE*100;\nMAPCNT:EXPMEMA(PCNT,M);"}},s.prototype.BTX=function(){return{Name:"BTX",Description:"宝塔线",IsMainIndex:!1,Args:[],Script:"B1:=REF(C,1);\nB2:= REF(C, 2);\nSS:= IF(C > REF(C, 1) AND REF(C, 1) >= REF(C, 2), 1, IF(C < REF(C, 1) AND REF(C, 1) <= REF(C, 2), -1, IF(C > REF(C, 2) AND REF(C, 2) > REF(C, 1), 2, IF(C < REF(C, 2) AND REF(C, 2) < REF(C, 1), -2, 0))));\nSM:= IF(REF(SS, 1) <> 0, REF(SS, 1), IF(REF(SS, 2) <> 0, REF(SS, 2), IF(REF(SS, 3) <> 0, REF(SS, 3), IF(REF(SS, 5) <> 0, REF(SS, 5), IF(REF(SS, 6) <> 0, REF(SS, 6), IF(REF(SS, 7) <> 0, REF(SS, 7), 0))))));\nMC:= IF(REF(SS, 1) <> 0, B2, IF(SM > 0, MIN(B1, B2), MAX(B1, B2)));\nTOW1:= IF(C > REF(C, 1), C, REF(C, 1));\nTOW2:= IF((SS == -1 OR SS == -2) AND SM > 0, B2, TOW1);\nTOWER:= IF(TOW1 > TOW2, TOW1, TOW2);\nSTICKLINE(SS == 1 OR SM >= 1 AND SS == 0, B1, C, 10, 1), COLORRED;\nSTICKLINE(SS == -1 OR SM <= -1 AND SS == 0, B1, C, 10, 0), COLORCYAN;\nSTICKLINE(SS == 2, B2, C, 10, 1), COLORRED;\nSTICKLINE(SS == -2, B2, C, 10, 0), COLORCYAN;\nSTICKLINE((SS == -1 OR SS == -2) AND SM > 0, B2, B1, 10, 1), COLORRED;\nSTICKLINE((SS == 1 OR SS == 2) AND SM < 0, B2, B1, 10, 0), COLORCYAN;"}},s.prototype.AMO=function(){return{Name:"AMO",Description:"成交金额",IsMainIndex:!1,Args:[{Name:"M1",Value:5},{Name:"M2",Value:10}],Script:"AMOW:AMOUNT/10000.0,VOLSTICK;\nAMO1:MA(AMOW,M1);\nAMO2:MA(AMOW,M2);"}},s.prototype.VRSI=function(){return{Name:"VRSI",Description:"相对强弱量",IsMainIndex:!1,Args:[{Name:"N1",Value:6},{Name:"N2",Value:12},{Name:"N3",Value:24}],Script:"LC:=REF(VOL,1);\nRSI1:SMA(MAX(VOL-LC,0),N1,1)/SMA(ABS(VOL-LC),N1,1)*100;\nRSI2:SMA(MAX(VOL-LC,0),N2,1)/SMA(ABS(VOL-LC),N2,1)*100;\nRSI3:SMA(MAX(VOL-LC,0),N3,1)/SMA(ABS(VOL-LC),N3,1)*100;"}},s.prototype.HSCOL=function(){return{Name:"HSCOL",Description:"换手柱",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"HSCOL:IF((SETCODE==0||SETCODE==1),100*VOL,VOL)/(FINANCE(7)/100),VOLSTICK;\nMAHSL:MA(HSCOL,N);"}},s.prototype.DBQRV=function(){return{Name:"DBQRV",Description:"对比强弱量(需下载日线)",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"ZS:(INDEXV-REF(INDEXV,N))/REF(INDEXV,N);\nGG:(VOL-REF(VOL,N))/REF(VOL,N);"}},s.prototype.DBLB=function(){return{Name:"DBLB",Description:"对比量比(需下载日线)",IsMainIndex:!1,Args:[{Name:"N",Value:5},{Name:"M",Value:5}],Script:"GG:=VOL/SUM(REF(VOL,1),N);\nZS:=INDEXV/SUM(REF(INDEXV,1),N);\nDBLB:GG/ZS;\nMADBLB:MA(DBLB,M);"}},s.prototype.ACD=function(){return{Name:"ACD",Description:"升降线",IsMainIndex:!1,Args:[{Name:"M",Value:20}],Script:"LC:=REF(CLOSE,1);\nDIF:=CLOSE-IF(CLOSE>LC,MIN(LOW,LC),MAX(HIGH,LC));\nACD:SUM(IF(CLOSE==LC,0,DIF),0);\nMAACD:EXPMEMA(ACD,M);"}},s.prototype.EXPMA=function(){return{Name:"EXPMA",Description:"指数平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:12},{Name:"M2",Value:50}],Script:"EXP1:EMA(CLOSE,M1);\nEXP2:EMA(CLOSE,M2);"}},s.prototype.EXPMA_S=function(){return{Name:"EXPMA_S",Description:"指数平均线-副图",IsMainIndex:!1,Args:[{Name:"M1",Value:12},{Name:"M2",Value:50}],Script:"EXP1:EMA(CLOSE,M1);\nEXP2:EMA(CLOSE,M2);"}},s.prototype.HMA=function(){return{Name:"HMA",Description:"高价平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"HMA1:MA(HIGH,M1);\nHMA2:MA(HIGH,M2);\nHMA3:MA(HIGH,M3);\nHMA4:MA(HIGH,M4);\nHMA5:MA(HIGH,M5);"}},s.prototype.LMA=function(){return{Name:"LMA",Description:"低价平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"LMA1:MA(LOW,M1);\nLMA2:MA(LOW,M2);\nLMA3:MA(LOW,M3);\nLMA4:MA(LOW,M4);\nLMA5:MA(LOW,M5);"}},s.prototype.VMA=function(){return{Name:"VMA",Description:"变异平均线",IsMainIndex:!0,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"VV:=(HIGH+OPEN+LOW+CLOSE)/4;\nVMA1:MA(VV,M1);\nVMA2:MA(VV,M2);\nVMA3:MA(VV,M3);\nVMA4:MA(VV,M4);\nVMA5:MA(VV,M5);"}},s.prototype.AMV=function(){return{Name:"AMV",Description:"成本价均线",IsMainIndex:!1,Args:[{Name:"M1",Value:6},{Name:"M2",Value:12},{Name:"M3",Value:30},{Name:"M4",Value:72},{Name:"M5",Value:144}],Script:"AMOV:=VOL*(OPEN+CLOSE)/2;\nAMV1:SUM(AMOV,M1)/SUM(VOL,M1);\nAMV2:SUM(AMOV,M2)/SUM(VOL,M2);\nAMV3:SUM(AMOV,M3)/SUM(VOL,M3);\nAMV4:SUM(AMOV,M4)/SUM(VOL,M4);"}},s.prototype.BBIBOLL=function(){return{Name:"BBIBOLL",Description:"多空布林线",IsMainIndex:!0,Args:[{Name:"N",Value:11},{Name:"M",Value:6}],Script:"CV:=CLOSE;\nBBIBOLL:(MA(CV,3)+MA(CV,6)+MA(CV,12)+MA(CV,24))/4;\nUPR:BBIBOLL+M*STD(BBIBOLL,N);\nDWN:BBIBOLL-M*STD(BBIBOLL,N);"}},s.prototype.ALLIGAT=function(){return{Name:"ALLIGAT",Description:"鳄鱼线",IsMainIndex:!0,Args:[],Script:"NN:=(H+L)/2;\n上唇:REF(MA(NN,5),3),COLOR40FF40;\n牙齿:REF(MA(NN,8),5),COLOR0000C0;\n下颚:REF(MA(NN,13),8),COLORFF4040;"}},s.prototype.ZX=function(){return{Name:"ZX",Description:"重心线",IsMainIndex:!1,Args:[],Script:"AV:0.01*AMOUNT/VOL;"}},s.prototype.XS=function(){return{Name:"XS",Description:"薛斯通道",IsMainIndex:!0,Args:[{Name:"N",Value:13}],Script:"VAR2:=CLOSE*VOL;\nVAR3:=EMA((EMA(VAR2,3)/EMA(VOL,3)+EMA(VAR2,6)/EMA(VOL,6)+EMA(VAR2,12)/EMA(VOL,12)+EMA(VAR2,24)/EMA(VOL,24))/4,N);\nSUP:1.06*VAR3;\nSDN:VAR3*0.94;\nVAR4:=EMA(CLOSE,9);\nLUP:EMA(VAR4*1.14,5);\nLDN:EMA(VAR4*0.86,5);"}},s.prototype.XS2=function(){return{Name:"XS2",Description:"薛斯通道II",IsMainIndex:!0,Args:[{Name:"N",Value:102},{Name:"M",Value:7}],Script:"AA:=MA((2*CLOSE+HIGH+LOW)/4,5); \n通道1:AA*N/100; \n通道2:AA*(200-N)/100; \nCC:=ABS((2*CLOSE+HIGH+LOW)/4-MA(CLOSE,20))/MA(CLOSE,20); \nDD:=DMA(CLOSE,CC); \n通道3:(1+M/100)*DD; \n通道4:(1-M/100)*DD;"}},s.prototype.SG_XDT=function(){return{Name:"SG-XDT",Description:"心电图(需下载日线)",IsMainIndex:!1,Args:[{Name:"P1",Value:5},{Name:"P2",Value:10}],Script:"QR:CLOSE/INDEXC*1000;\nMQR1:MA(QR,5);\nMQR2:MA(QR,10);"}},s.prototype.SG_SMX=function(){return{Name:"SG-SMX",Description:"生命线(需下载日线)",IsMainIndex:!1,Args:[{Name:"N",Value:50}],Script:"H1:=HHV(HIGH,N);\nL1:=LLV(LOW,N);\nH2:=HHV(INDEXH,N);\nL2:=LLV(INDEXL,N);\nZY:=CLOSE/INDEXC*2000;\nZY1:EMA(ZY,3);\nZY2:EMA(ZY,17);\nZY3:EMA(ZY,34);"}},s.prototype.SG_LB=function(){return{Name:"SG-LB",Description:"量比(需下载日线)",IsMainIndex:!1,Args:[],Script:"ZY2:=VOL/INDEXV*1000;\n量比:ZY2;\nMA5:MA(ZY2,5);\nMA10:MA(ZY2,10);"}},s.prototype.SG_PF=function(){return{Name:"SG-PF",Description:"强势股评分(需下载日线)",IsMainIndex:!1,Args:[],Script:"ZY1:=CLOSE/INDEXC*1000;\nA1:=IF(ZY1>HHV(ZY1,3),10,0);\nA2:=IF(ZY1>HHV(ZY1,5),15,0);\nA3:=IF(ZY1>HHV(ZY1,10),20,0);\nA4:=IF(ZY1>HHV(ZY1,2),10,0);\nA5:=COUNT(ZY1>REF(ZY1,1) ,9)*5;\n强势股评分:A1+A2+A3+A4+A5;"}},s.prototype.RAD=function(){return{Name:"RAD",Description:"威力雷达(需下载日线)",IsMainIndex:!1,Args:[{Name:"D",Value:3},{Name:"S",Value:30},{Name:"M",Value:30}],Script:"SM:=(OPEN+HIGH+CLOSE+LOW)/4;\nSMID:=MA(SM,D);\nIM:=(INDEXO+INDEXH+INDEXL+INDEXC)/4;\nIMID:=MA(IM,D);\nSI1:=(SMID-REF(SMID,1))/SMID;\nII:=(IMID-REF(IMID,1))/IMID;\nRADER1:SUM((SI1-II)*2,S)*1000;\nRADERMA:SMA(RADER1,M,1);"}},s.prototype.SHT=function(){return{Name:"SHT",Description:"龙系短线",IsMainIndex:!1,Args:[{Name:"N",Value:5}],Script:"VAR1:=MA((VOL-REF(VOL,1))/REF(VOL,1),5);\nVAR2:=(CLOSE-MA(CLOSE,24))/MA(CLOSE,24)*100;\nMY: VAR2*(1+VAR1);\nSHT: MY, COLORSTICK;\nSHTMA: MA(SHT,N);"}},s.prototype.ZLJC=function(){return{Name:"ZLJC",Description:"主力进出",IsMainIndex:!1,Args:[],Script:"VAR1:=(CLOSE+LOW+HIGH)/3; \nVAR2:=SUM(((VAR1-REF(LOW,1))-(HIGH-VAR1))*VOL/100000/(HIGH-LOW),0); \nVAR3:=EMA(VAR2,1); \nJCS:VAR3; \nJCM:MA(VAR3,12); \nJCL:MA(VAR3,26);"}},s.prototype.ZLMM=function(){return{Name:"ZLMM",Description:"主力买卖",IsMainIndex:!1,Args:[],Script:"LC :=REF(CLOSE,1);\nRSI2:=SMA(MAX(CLOSE-LC,0),12,1)/SMA(ABS(CLOSE-LC),12,1)*100;\nRSI3:=SMA(MAX(CLOSE-LC,0),18,1)/SMA(ABS(CLOSE-LC),18,1)*100;\nMMS:MA(3*RSI2-2*SMA(MAX(CLOSE-LC,0),16,1)/SMA(ABS(CLOSE-LC),16,1)*100,3);\nMMM:EMA(MMS,8);\nMML:MA(3*RSI3-2*SMA(MAX(CLOSE-LC,0),12,1)/SMA(ABS(CLOSE-LC),12,1)*100,5);"}},s.prototype.SLZT=function(){return{Name:"SLZT",Description:"神龙在天",IsMainIndex:!1,Args:[],Script:"白龙: MA(CLOSE,125);\n黄龙: 白龙+2*STD(CLOSE,170);\n紫龙: 白龙-2*STD(CLOSE,145);\n青龙: SAR(125,1,7), LINESTICK;\nVAR2:=HHV(HIGH,70);\nVAR3:=HHV(HIGH,20);\n红龙: VAR2*0.83;\n蓝龙: VAR3*0.91;"}},s.prototype.ADVOL=function(){return{Name:"ADVOL",Description:"龙系离散量",IsMainIndex:!1,Args:[],Script:"A:=SUM(((CLOSE-LOW)-(HIGH-CLOSE))*VOL/10000/(HIGH-LOW),0);\nADVOL:A;\nMA1:MA(A,30);\nMA2:MA(MA1,100);"}},s.prototype.CYC=function(){return{Name:"CYC",Description:"成本均线",IsMainIndex:!0,Args:[{Name:"P1",Value:5},{Name:"P2",Value:13},{Name:"P3",Value:34}],Script:"JJJ:=IF(DYNAINFO(8)>0.01,0.01*DYNAINFO(10)/DYNAINFO(8),DYNAINFO(3));\nDDD:=(DYNAINFO(5)<0.01 || DYNAINFO(6)<0.01);\nJJJT:=IF(DDD,1,(JJJ<(DYNAINFO(5)+0.01) && JJJ>(DYNAINFO(6)-0.01)));\nCYC1:IF(JJJT,0.01*EMA(AMOUNT,P1)/EMA(VOL,P1),EMA((HIGH+LOW+CLOSE)/3,P1));\nCYC2:IF(JJJT,0.01*EMA(AMOUNT,P2)/EMA(VOL,P2),EMA((HIGH+LOW+CLOSE)/3,P2));\nCYC3:IF(JJJT,0.01*EMA(AMOUNT,P3)/EMA(VOL,P3),EMA((HIGH+LOW+CLOSE)/3,P3));\nCYC4:IF(JJJT,DMA(AMOUNT/(100*VOL),100*VOL/FINANCE(7)),EMA((HIGH+LOW+CLOSE)/3,120));"}},s.prototype.CYS=function(){return{Name:"CYS",Description:"市场盈亏",IsMainIndex:!1,Args:[],Script:"CYC13:EMA(AMOUNT,13)/EMA(VOL,13);\nCYS:(CLOSE-CYC13)/CYC13*100;"}},s.prototype.CYQKL=function(){return{Name:"CYQKL",Description:"博弈K线长度",IsMainIndex:!1,Args:[],Script:"KL:100*(WINNER(CLOSE)-WINNER(OPEN));"}},s.prototype.SCR=function(){return{Name:"SCR",Description:"筹码集中度",IsMainIndex:!1,Args:[{Name:"P1",Value:90}],Script:"A:=P1+(100-P1)/2;\nB:=(100-P1)/2;\nCC:=COST(A);\nDD:=COST(B);\nSCR:(CC-DD)/(CC+DD)*100/2;"}},s.prototype.ASR=function(){return{Name:"ASR",Description:"浮筹比例",IsMainIndex:!1,Args:[],Script:"ASR:(WINNER(C*1.1)-WINNER(C*0.9))/WINNER(HHV(H,0))*100;"}},s.prototype.SAR=function(){return{Name:"SAR",Description:"抛物转向",IsMainIndex:!0,Args:[{Name:"P",Value:10},{Name:"STEP",Value:2},{Name:"MAXP",Value:20}],Script:"S:SAR(P,STEP,MAXP),UPDOWNDOT;"}},s.prototype.TJCJL=function(){return{Name:"太极成交量",Description:"太极成交量",IsMainIndex:!0,Args:[],Script:'总手:VOL,NODRAW;\nDRAWTEXT_FIX(ISLASTBAR,0,0,0,"说明: 红色柱为吸货量,绿色为出货量,黄色为天量,蓝色为地量"),COLORGRAY;\nZZ:=IF(REF(C,1)>REF(O,1) AND O>REF(C,1)*1.014 AND C<O*1.02,1,3);\nV5:=MA(V,5);\nV12:=MA(V,12);\nV34:=MA(V,34);\nC6:=MA(C,6);\nSTICKLINE(VOL,0,VOL,3,0),COLORLIGRAY;\nSTICKLINE(CROSS(C,C6) AND V>V5*1.2 AND V>V12*1.2 AND ZZ>2 AND C>H*0.975,0,VOL,3,0),COLORRED;\nSTICKLINE(CROSS(C6,C) AND V>V5*1.2 AND V>V12*1.2,0,VOL,3,0),COLORGREEN;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05,0,VOL,3,0),COLORYELLOW;\nSTICKLINE(VOL<MA(VOL,5)/2 AND V<V12/2,0,VOL,3,0),COLORBLUE;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05 AND CROSS(C,C6) AND V>V5*1.2 AND V>V12*1.2 AND ZZ>2 AND C>H*0.975,VOL*0.5,0,3,0),COLORRED;\nSTICKLINE(VOL>MA(VOL,5)*2 AND V>V34*3 AND C<REF(C,1)*1.05 AND CROSS(C6,C) AND V>V5*1.2 AND V>V12*1.2,VOL*0.5,0,3,0),COLORRED;'}},s.prototype.Dragon4_Main=function(){return{Name:"飞龙四式",Description:"飞龙四式",IsMainIndex:!0,Args:[{Name:"N1",Value:5},{Name:"N2",Value:10},{Name:"N3",Value:50},{Name:"N4",Value:60}],Script:"蜻蜓点水:=EMA(CLOSE,N1),COLORGRAY;\n魔界:=EMA(CLOSE,N2),COLORGREEN;\n水:=EMA(CLOSE,N3),COLORRED;\nDRAWKLINE(HIGH,OPEN,LOW,CLOSE);\n生命线:MA(CLOSE,N4),COLORBLUE,LINETHICK2;\nDRAWBAND(魔界,'RGB(186,225,250)',水,'RGB(253,194,124)');\nDRAWBAND(蜻蜓点水,'RGB(128,138,135)',魔界,'RGB(0,0,255)');"}},s.prototype.Dragon4_Fig=function(){return{Name:"飞龙四式",Description:"飞龙四式",IsMainIndex:!1,Args:[],Script:"倍:VOL>=REF(V,1)*1.90 AND C>REF(C,1),COLORYELLOW;\n低:VOL<REF(LLV(VOL,13),1),COLORGREEN;\n地:VOL<REF(LLV(VOL,100),1),COLORMAGENTA; \n平:=ABS(VOL-HHV(REF(VOL,1),5))/HHV(REF(VOL,1),5)<=0.03 OR ABS(VOL-REF(VOL,1))/REF(VOL,1)<=0.03,NODRAW,COLORWHITE;\n倍缩:VOL<=REF(V,1)*0.5,COLORFF8000;\n梯量:COUNT(V>REF(V,1),3)==3 AND COUNT(C>O,3)==3,COLORBROWN;\n缩量涨:COUNT(C>REF(C,1),2)==2 AND COUNT(V<REF(V,1),2)==2,COLORBLUE;\nSTICKLINE(C>=REF(C,1),V,0,2,0),COLORRED;\nSTICKLINE(C<REF(C,1),V,0,2,0),COLORGREEN;\nSTICKLINE(倍,0,V,2,0),COLORYELLOW;\nSTICKLINE(低,0,V,2,0),COLORGREEN;\nSTICKLINE(地,0,V,2,0),COLORLIMAGENTA;\nSTICKLINE(平,0,V,2,0),COLORGRAY;\nSTICKLINE(倍缩,0,V,2,0),COLORFF8000;\nSTICKLINE(梯量,0,V,2,0),COLORBROWN;\nSTICKLINE(缩量涨,0,V,2,0),COLORBLUE;"}},s.prototype.FundsAnalysis=function(){return{Name:"资金分析",Description:"资金分析",IsMainIndex:!1,Args:[{Name:"M",Value:55},{Name:"N",Value:34}],Script:"LC:=REF(CLOSE,1);\nRSI:=((SMA(MAX((CLOSE - LC),0),3,1) / SMA(ABS((CLOSE - LC)),3,1)) * 100);\nFF:=EMA(CLOSE,3);\nMA15:=EMA(CLOSE,21); DRAWTEXT(CROSS(85,RSI),75,'▼'),COLORGREEN;\nVAR1:=IF(YEAR>=2038 AND MONTH>=1,0,1);\nVAR2:=REF(LOW,1)*VAR1;\nVAR3:=SMA(ABS(LOW-VAR2),3,1)/SMA(MAX(LOW-VAR2,0),3,1)*100*VAR1;\nVAR4:=EMA(IF(CLOSE*1.3,VAR3*10,VAR3/10),3)*VAR1;\nVAR5:=LLV(LOW,30)*VAR1;\nVAR6:=HHV(VAR4,30)*VAR1;\nVAR7:=IF(MA(CLOSE,58),1,0)*VAR1;\nVAR8:=EMA(IF(LOW<=VAR5,(VAR4+VAR6*2)/2,0),3)/618*VAR7*VAR1;\n吸筹A:IF(VAR8>100,100,VAR8)*VAR1,COLORFB2F3B;\n{吸筹B}STICKLINE(吸筹A>-150,0,吸筹A,8,0),COLORFB2F3B;\n\n散户线: 100*(HHV(HIGH,M)-CLOSE)/(HHV(HIGH,M)-LLV(LOW,M)),COLORAA89BD,LINETHICK2;\nRSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:=SMA(RSV,3,1);\nD:=SMA(K,3,1);\nJ:=3*K-2*D;\n主力线:EMA(J,5),COLORF39800,LINETHICK2;\nDRAWICON(CROSS(主力线,散户线),主力线,1);\nDRAWICON(CROSS(散户线,主力线),主力线,2);"}},s.prototype.MarginProportion=function(){return{Name:"融资占比(%)",Description:"融资占比",IsMainIndex:!1,Condition:{Period:[_n.KLINE_DAY_ID]},Args:[],Script:"占比:MARGIN(2);"}},s.prototype.Margin2=function(){return{Name:"两融余额",Description:"融资融券余额",IsMainIndex:!1,Condition:{Period:[_n.KLINE_DAY_ID]},Args:[{Name:"N",Value:5}],Script:"T1:MARGIN(1);\n        T2:MA(MARGIN(1),N);"}},s.prototype.Margin3=function(){return{Name:"两融余额",Description:"融资融券余额",IsMainIndex:!1,Condition:{Period:[_n.KLINE_DAY_ID]},Args:[{Name:"N",Value:5}],Script:"T1:=MARGIN(1);\n        T2:=MA(MARGIN(1),N);\n        STICKLINE(T1-T2>=0,0,T1-T2,50,T1>T2),COLORRED;\n        STICKLINE(T1-T2<0,T1-T2,0,50,T1>T2),COLORGREEN;"}},s.prototype.FXG_BSPoint=function(){return{Name:"操盘BS点",Description:"操盘BS点",IsMainIndex:!0,Args:[],Script:"MA5:MA(CLOSE,5);\n        MA13:MA(CLOSE,13);\n        MA21:MA(CLOSE,21);\n        MA34:MA(CLOSE,34);\n        {MA55:MA(CLOSE,55),COLOR0000FF;}\n        {MA120:=MA(CLOSE,120),COLORFFFF00;}\n        天使:=EMA(C,2),COLOR000000;\n        魔鬼:=EMA(SLOPE(C,21)*20+C,42),COLOR000000;\n        买:=CROSS(天使,魔鬼);\n        卖:=CROSS(魔鬼,天使);\n        DRAWICON(买,L*0.97,13);\n        DRAWICON(卖,H*1.03,14);\n        DRAWKLINE_IF(天使>=魔鬼,HIGH,CLOSE,LOW,OPEN),COLORRED;\n        DRAWKLINE_IF(天使<魔鬼,HIGH,CLOSE,LOW,OPEN),COLORBLUE;\n        DRAWKLINE_IF(CROSS(天使,魔鬼),HIGH,CLOSE,LOW,OPEN),COLORYELLOW;\n        DRAWKLINE_IF(CROSS(魔鬼,天使),HIGH,CLOSE,LOW,OPEN),COLORBLACK;"}},s.prototype.FXG_INDEX=function(){return{Name:"涨停多空线",Description:"涨停多空线",IsMainIndex:!1,Args:[],Script:"做多能量线: SMA((CLOSE-LLV(LOW,9))/(HHV(HIGH,9)-LLV(LOW,9))*100,5,1)-8,COLORRED,LINETHICK3;\n做空能量线: SMA((HHV(HIGH,36)-CLOSE)/(HHV(HIGH,36)-LLV(LOW,36))*100,2,1),COLORGREEN,LINETHICK3;\n20,POINTDOT,COLORF00FF0;\n50,POINTDOT,COLORGREEN;\n80,POINTDOT,COLORLIBLUE;"}},s.prototype.FXG_INDEX2=function(){return{Name:"涨停吸筹区",Description:"涨停吸筹区",IsMainIndex:!1,Args:[],Script:"VAR0:=EMA(HHV(HIGH,500),21); \nVAR1:=EMA(HHV(HIGH,250),21);\nVAR2:=EMA(HHV(HIGH,90),21); \nVAR3:=EMA(LLV(LOW,500),21); \nVAR4:=EMA(LLV(LOW,250),21); \nVAR5:=EMA(LLV(LOW,90),21);\n\nVAR6:=EMA((VAR3*0.96+VAR4*0.96+VAR5*0.96+VAR0*0.558+VAR1*0.558+VAR2*0.558)/6,21); \nVAR7:=EMA((VAR3*1.25+VAR4*1.23+VAR5*1.2+VAR0*0.55+VAR1*0.55+VAR2*0.65)/6,21); \nVAR8:=EMA((VAR3*1.3+VAR4*1.3+VAR5*1.3+VAR0*0.68+VAR1*0.68+VAR2*0.68)/6,21); \nVAR9:=EMA((VAR6*3+VAR7*2+VAR8)/6*1.738,21); \nVAR10:=REF(LOW,1); \nVAR11:=SMA(ABS(LOW-VAR10),3,1)/SMA(MAX(LOW-VAR10,0),3,1)*100; \nVAR12:=EMA(IFF(CLOSE*1.35<=VAR9,VAR11*10,VAR11/10),3); \nVAR13:=LLV(LOW,30); \nVAR14:=HHV(VAR12,30); \nVAR15:=IFF(MA(CLOSE,58),1,0); \nVAR16:=EMA(IFF(LOW<=VAR13,(VAR12+VAR14*2)/2,0),3)/618*VAR15;\n\n资金入场:IFF(VAR16>0,VAR16,0),LINETHICK,LINETHICK2, COLORFF0000; \n\nA1:IFF(资金入场>0,资金入场*1.2,0),STICK,LINETHICK5, COLORFF0000;\nA2:IFF(资金入场>0,资金入场*0.8,0),STICK,LINETHICK5, COLORFF6600;\nA3:IFF(资金入场>0,资金入场*0.6,0),STICK,LINETHICK5, COLORFF9900;\nA4:IFF(资金入场>0,资金入场*0.4,0) ,STICK,LINETHICK5,COLORFFCC00;\nA5:IFF(资金入场>0,资金入场*0.2,0) ,STICK,LINETHICK5,COLORFFFF00;"}},s.prototype.FXG_INDEX3=function(){return{Name:"量能黄金点",Description:"量能黄金点",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"A:=IFF((CLOSE>126.32),VOL,VOL); \n主力:=MA(A,4),COLORRED;\n游资:=MA(A,8),COLORYELLOW;\n大户:=MA(A,16),COLORF0F000;\n散户:=MA(A,32),COLOR00FF00;\n主比:=ABS(((主力)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLORRED;\n游比:=ABS(((游资)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLORYELLOW;\n大比:=ABS(((大户)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLORF0F000;\n散比:=ABS(((散户)/(主力 + 游资 + 大户 + 散户))*(100)),LINESTICK,COLOR00FF00;\n警戒线:MA(A,180),COLORFF66FF;\nSTICKLINE((主力 > 0),0,主力,2.5,0),COLOR1020BB;\nSTICKLINE((主力 > 0),0,主力,0.7,0),COLORRED;\nSTICKLINE((游资 > 0),0,游资,2.5,0),COLOR009CFF;\nSTICKLINE((游资 > 0),0,游资,0.7,0),COLORYELLOW;\nSTICKLINE((大户 > 0),0,大户,2.5,0),COLORFF8800;\nSTICKLINE((大户 > 0),0,大户,0.7,0),COLORLIBLUE;\nSTICKLINE((散户 > 0),0,散户,2.5,0),COLOR00CA00;\nSTICKLINE((散户 > 0),0,散户,0.7,0),COLORGREEN;"}},s.prototype.NewsNegative=function(){return{Name:"负面新闻",Description:"负面新闻统计",IsMainIndex:!1,FloatPrecision:0,Args:[{Name:"N",Value:5},{Name:"N2",Value:10}],Script:"负面:NEWS(1);\nMA1:MA(负面,N);\nMA2:MA(负面,N2);"}},s.prototype.UpDownAnalyze=function(){return{Name:"涨跌趋势",Description:"涨跌趋势",IsMainIndex:!1,FloatPrecision:0,Condition:{Period:[_n.MINUTE_ID,_n.MULTIDAY_MINUTE_ID,_n.KLINE_DAY_ID]},Args:[],Script:"上涨家数:UPCOUNT('CNA.CI'),COLORRED;\n下跌家数:DOWNCOUNT('CNA.CI'),COLORGREEN;"}},s.prototype.HK2SHSZ=function(){return{Name:"北上资金",Description:"北上资金",IsMainIndex:!1,FloatPrecision:0,Condition:{Period:[_n.MINUTE_ID,_n.MULTIDAY_MINUTE_ID,_n.KLINE_DAY_ID]},Args:[],Script:"净流入:HK2SHSZ(1),COLORSTICK;"}},s.prototype.ShareHolder=function(){return{Name:"股东人数",Description:"股东人数",IsMainIndex:!1,FloatPrecision:0,Condition:{Period:[_n.KLINE_DAY_ID,_n.KLINE_MONTH_ID,_n.KLINE_WEEK_ID,_n.KLINE_YEAR_ID]},Args:[],Script:"人数:FINANCE(100);"}},s.prototype.VOLRate=function(){return{Name:"量比",Description:"量比",IsMainIndex:!1,Condition:{Period:[_n.MINUTE_ID,_n.MULTIDAY_MINUTE_ID]},Args:[],Script:"LIANGBI:VOLR;"}},s.prototype.COLOR_KSTAR1=function(){return{Name:"十字星",Description:"十字星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&HIGH>LOW;"}},s.prototype.COLOR_KSTAR2=function(){return{Name:"早晨之星",Description:"早晨之星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:(REF(CLOSE,2)/REF(OPEN,2)<0.95) && (REF(OPEN,1) < REF(CLOSE,2)) && (ABS(REF(OPEN,1)-REF(CLOSE,1))/REF(CLOSE,1)<0.03) && CLOSE/OPEN>1.05 && CLOSE>REF(CLOSE,2);"}},s.prototype.COLOR_KSTAR3=function(){return{Name:"黄昏之星",Description:"黄昏之星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)>1.05 && REF(OPEN,1)>REF(CLOSE,2) && ABS(REF(OPEN,1)-REF(CLOSE,1))/REF(CLOSE,1)<0.03 && CLOSE/OPEN<0.95 && CLOSE<REF(CLOSE,2);"}},s.prototype.COLOR_SHI1=function(){return{Name:"长十字",Description:"长十字",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&HIGH/LOW>1.03;"}},s.prototype.COLOR_K220=function(){return{Name:"身怀六甲",Description:"身怀六甲",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:ABS(REF(CLOSE,1)-REF(OPEN,1))/REF(CLOSE,1)>0.04&&\n            ABS(CLOSE-OPEN)/CLOSE<0.005&&\n            MAX(CLOSE,OPEN)<MAX(REF(CLOSE,1),REF(OPEN,1))&&\n            MIN(CLOSE,OPEN)>MIN(REF(CLOSE,1),REF(OPEN,1));"}},s.prototype.COLOR_K300=function(){return{Name:"三个白武士",Description:"三个白武士",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:UPNDAY(CLOSE,3)&&NDAY(CLOSE,OPEN,3);"}},s.prototype.COLOR_K310=function(){return{Name:"三只乌鸦",Description:"三只乌鸦",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:DOWNNDAY(CLOSE,3)&&NDAY(OPEN,CLOSE,3);"}},s.prototype.COLOR_K380=function(){return{Name:"光头阳线",Description:"光头阳线",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:HIGH==CLOSE&&HIGH>LOW;"}},s.prototype.COLOR_K390=function(){return{Name:"光脚阴线",Description:"光脚阴线",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:LOW==CLOSE&&HIGH>LOW;"}},s.prototype.COLOR_K134=function(){return{Name:"垂死十字",Description:"垂死十字",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:CLOSE==OPEN&&CLOSE==LOW&&CLOSE<HIGH;"}},s.prototype.COLOR_K140=function(){return{Name:"早晨十字星",Description:"早晨十字星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)<0.95&&\nREF(OPEN,1)<REF(CLOSE,2)&&\nREF(OPEN,1)==REF(CLOSE,1)&&\nCLOSE/OPEN>1.05&&CLOSE>REF(CLOSE,2);"}},s.prototype.COLOR_K150=function(){return{Name:"黄昏十字星",Description:"黄昏十字星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:REF(CLOSE,2)/REF(OPEN,2)>1.05&&\nREF(OPEN,1)>REF(CLOSE,2)&&\nREF(OPEN,1)=REF(CLOSE,1)&&\nCLOSE/OPEN<0.95&&CLOSE<REF(CLOSE,2);"}},s.prototype.COLOR_K160=function(){return{Name:"射击之星",Description:"射击之星",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:MIN(OPEN,CLOSE)==LOW&&\nHIGH-LOW>3*(MAX(OPEN,CLOSE)-LOW)&&\nCLOSE>MA(CLOSE,5);"}},s.prototype.COLOR_K165=function(){return{Name:"倒转锤头",Description:"倒转锤头",IsMainIndex:!0,InstructionType:2,Script:"KSTAR:MIN(OPEN,CLOSE)==LOW&&\nHIGH-LOW>3*(MAX(OPEN,CLOSE)-LOW)&&\nCLOSE<MA(CLOSE,5);"}},s.prototype.COLOR_K170=function(){return{Name:"锤头",Description:"锤头",IsMainIndex:!0,InstructionType:2,Script:"OUT:HIGH==MAX(OPEN,CLOSE)&&\nHIGH-LOW>3*(HIGH-MIN(OPEN,CLOSE))&&\nCLOSE<MA(CLOSE,5);"}},s.prototype.COLOR_K180=function(){return{Name:"吊颈",Description:"吊颈",IsMainIndex:!0,InstructionType:2,Script:"OUT:HIGH==MAX(OPEN,CLOSE)&&\nHIGH-LOW>3*(HIGH-MIN(OPEN,CLOSE))&&\nCLOSE>MA(CLOSE,5);"}},s.prototype.COLOR_K190=function(){return{Name:"穿头破脚",Description:"穿头破脚",IsMainIndex:!0,InstructionType:2,Script:"OUT:(REF(CLOSE,1)/REF(OPEN,1)>1.03&&\nCLOSE/OPEN<0.96&&\nCLOSE<REF(OPEN,1)&&OPEN>REF(CLOSE,1))||\n(REF(CLOSE,1)/REF(OPEN,1)<0.97&&\nCLOSE/OPEN>1.04&&\nCLOSE>REF(OPEN,1)&&OPEN<REF(CLOSE,1));"}},s.prototype.COLOR_SWORD=function(){return{Name:"剑",Description:"剑",IsMainIndex:!0,InstructionType:2,Script:"AA:=VOL>REF(VOL,1)||VOL>(CAPITAL*0.1);\nBB:=OPEN>=(REF(HIGH,1))&&REF(HIGH,1)>(REF(HIGH,2)*1.06);\nCC:=CLOSE>(REF(CLOSE,1))-(REF(CLOSE,1)*0.01);\nDD:=CLOSE<(HIGH*0.965) && HIGH>(OPEN*1.05);\nEE:=LOW<OPEN && LOW<CLOSE&&HIGH>(REF(CLOSE,1)*1.06);\nFF:=(HIGH-(MAX(OPEN,CLOSE)))/2>(MIN(OPEN,CLOSE))-LOW;\nGG:=(ABS(OPEN-CLOSE))/2<(MIN(OPEN,CLOSE)-LOW);\nSWORDO:AA&&BB&&CC&&DD&&EE&&FF&&GG;"}},s.prototype.COLOR_CSFR=function(){return{Name:"出水芙蓉",Description:"出水芙蓉",IsMainIndex:!0,InstructionType:2,Script:"A:=CLOSE>OPEN;\nB:=A&&CLOSE>MA(CLOSE,S)&&CLOSE>MA(CLOSE,M)&&CLOSE>MA(CLOSE,LL);\nCC:=B&&OPEN<MA(CLOSE,M)&&OPEN<MA(CLOSE,LL);\nCSFRO:CC&&(CLOSE-OPEN)>0.0618*CLOSE;"}},s.prototype.COLOR_WYGD=function(){return{Name:"乌云盖顶",Description:"乌云盖顶",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,1)/REF(OPEN,1)>1.03 AND \nCLOSE/OPEN<0.97 AND \nOPEN>REF(CLOSE,1) AND CLOSE<REF(CLOSE,1), 3);"}},s.prototype.COLOR_SGCJ=function(){return{Name:"曙光初现",Description:"曙光初现",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,1)/REF(OPEN,1)<0.97 AND \nCLOSE/OPEN>1.03 AND \nOPEN<REF(CLOSE,1) AND CLOSE>REF(CLOSE,1), 3);"}},s.prototype.COLOR_SZTAI=function(){return{Name:"十字胎",Description:"十字胎",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( ABS(REF(CLOSE,1)-REF(OPEN,1))/REF(CLOSE,1) > 0.04 AND \nCLOSE==OPEN AND CLOSE < MAX(REF(CLOSE,1),REF(OPEN,1)) AND \nCLOSE > MIN(REF(CLOSE,1),REF(OPEN,1)), 2);"}},s.prototype.COLOR_PINGDING=function(){return{Name:"平顶",Description:"平顶",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET(ABS(HIGH-REF(HIGH,1))/HIGH<0.001,2);"}},s.prototype.COLOR_PINGDI=function(){return{Name:"平底",Description:"平底",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET((ABS(LOW-REF(LOW,1))/LOW<0.001 AND \nABS(REF(LOW,1)-REF(LOW,2))/REF(LOW,1)<=0.001),2);"}},s.prototype.COLOR_DAYANZHU=function(){return{Name:"大阳烛",Description:"大阳烛",IsMainIndex:!0,InstructionType:2,Script:"VAR1:CLOSE/OPEN>1.05 AND HIGH/LOW < CLOSE/OPEN+0.018;"}},s.prototype.COLOR_DAYINGZHU=function(){return{Name:"大阴烛",Description:"大阴烛",IsMainIndex:!0,InstructionType:2,Script:"VAR1:OPEN/CLOSE > 1.05 AND HIGH/LOW < OPEN/CLOSE+0.018;"}},s.prototype.COLOR_HYFG=function(){return{Name:"好友反攻",Description:"好友反攻",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( (REF(CLOSE,1)<REF(OPEN,1) AND \nCLOSE>OPEN AND ABS(CLOSE-REF(CLOSE,1))/CLOSE<0.002),2);"}},s.prototype.COLOR_TKQK=function(){return{Name:"跳空缺口",Description:"跳空缺口",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( HIGH<REF(LOW,1) OR LOW>REF(HIGH,1),2);"}},s.prototype.COLOR_SFWY=function(){return{Name:"双飞乌鸦",Description:"双飞乌鸦",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( REF(CLOSE,1)<REF(OPEN,1) AND CLOSE<OPEN AND CLOSE/OPEN<0.98,1);"}},s.prototype.COLOR_SSSBQ=function(){return{Name:"上升三部曲",Description:"上升三部曲",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,4)/REF(OPEN,4)>1.03 AND \nREF(CLOSE,3)<REF(OPEN,3) AND \nREF(CLOSE,2)<REF(OPEN,2) AND \nREF(CLOSE,1)<REF(OPEN,1) AND \nREF(LOW,4)<REF(LOW,3) AND \nREF(LOW,4)<REF(LOW,2) AND \nREF(LOW,4)<REF(LOW,1) AND \nREF(HIGH,4)>REF(HIGH,3) AND \nREF(HIGH,4)>REF(HIGH,2) AND \nREF(HIGH,4)>REF(HIGH,1) AND \nCLOSE/OPEN>1.03 AND \nCLOSE>REF(CLOSE,4), 5);"}},s.prototype.COLOR_XDSBQ=function(){return{Name:"下跌三部曲",Description:"下跌三部曲",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( \nREF(CLOSE,4)/REF(OPEN,4)<0.97 AND \nREF(CLOSE,3)>REF(OPEN,3) AND \nREF(CLOSE,2)>REF(OPEN,2) AND \nREF(CLOSE,1)>REF(OPEN,1) AND \nREF(LOW,4)<REF(LOW,3) AND \nREF(LOW,4)<REF(LOW,2) AND \nREF(LOW,4)<REF(LOW,1) AND \nREF(HIGH,4)>REF(HIGH,3) AND \nREF(HIGH,4)>REF(HIGH,2) AND \nREF(HIGH,4)>REF(HIGH,1) AND \nCLOSE/OPEN<0.97 AND \nCLOSE<REF(CLOSE,4), 5);"}},s.prototype.COLOR_CHXY=function(){return{Name:"长下影",Description:"长下影",IsMainIndex:!0,InstructionType:2,Script:"VAR2:(MIN(CLOSE,OPEN)-LOW)/(HIGH-LOW)>0.667;"}},s.prototype.COLOR_CHSY=function(){return{Name:"长上影",Description:"长上影",IsMainIndex:!0,InstructionType:2,Script:"VAR2:(HIGH-MAX(CLOSE,OPEN))/(HIGH-LOW)>0.667,COLORBLUE;"}},s.prototype.COLOR_FENLI=function(){return{Name:"分离",Description:"分离",IsMainIndex:!0,InstructionType:2,Script:"VAR1:BACKSET( OPEN==REF(OPEN,1) AND (CLOSE-OPEN)*(REF(CLOSE,1)-REF(OPEN,1))<0,2);"}},s.prototype.TRADE_BIAS=function(){return{Name:"BIAS",Description:"乖离率专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"LL",Value:6},{Name:"LH",Value:6}],Script:"BIAS:=(CLOSE-MA(CLOSE,N))/MA(CLOSE,N)*100;\nENTERLONG:CROSS(-LL,BIAS);\nEXITLONG:CROSS(BIAS,LH);"}},s.prototype.TRADE_CCI=function(){return{Name:"CCI",Description:"CCI专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:14}],Script:"TYP:=(HIGH+LOW+CLOSE)/3;\nCCI:=(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N));\nINDEX:=CCI;\nENTERLONG:CROSS(INDEX,-100);\nEXITLONG:CROSS(100,INDEX);"}},s.prototype.TRADE_DMI=function(){return{Name:"DMI",Description:"趋向专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:14}],Script:"MTR:=SUM(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(LOW-REF(CLOSE,1))),N);\nHD :=HIGH-REF(HIGH,1);\nLD :=REF(LOW,1)-LOW;\nPDM:=SUM(IF(HD>0&&HD>LD,HD,0),N);\nMDM:=SUM(IF(LD>0&&LD>HD,LD,0),N);\nPDI:=PDM*100/MTR;\nMDI:=MDM*100/MTR;\nENTERLONG:CROSS(PDI,MDI);\nEXITLONG:CROSS(MDI,PDI);"}},s.prototype.TRADE_KD=function(){return{Name:"KD",Description:"KD指标专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3},{Name:"M2",Value:3}],Script:"WRSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nWK:=SMA(WRSV,M1,1);\nD:=SMA(WK,M2,1);\nENTERLONG:CROSS(WK,D)&&WK<20;\nEXITLONG:CROSS(D,WK)&&WK>80;"}},s.prototype.TRADE_BOLL=function(){return{Name:"BOLL",Description:"布林带专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:20}],Script:"MID :=MA(CLOSE,N);\nUPPER:=MID+2*STD(CLOSE,N);\nLOWER:=MID-2*STD(CLOSE,N);\nENTERLONG:CROSS(CLOSE,LOWER);\nEXITLONG:CROSS(CLOSE,UPPER);"}},s.prototype.TRADE_KDJ=function(){return{Name:"KDJ",Description:"KDJ专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:9},{Name:"M1",Value:3}],Script:"RSV:=(CLOSE-LLV(LOW,N))/(HHV(HIGH,N)-LLV(LOW,N))*100;\nK:=SMA(RSV,M1,1);\nD:=SMA(K,M1,1);\nJ:=3*K-2*D;\nENTERLONG:CROSS(J,0);\nEXITLONG:CROSS(100,J);"}},s.prototype.TRADE_MA=function(){return{Name:"MA",Description:"均线专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"SHORT",Value:5},{Name:"LONG",Value:20}],Script:"ENTERLONG:CROSS(MA(CLOSE,SHORT),MA(CLOSE,LONG));\nEXITLONG:CROSS(MA(CLOSE,LONG),MA(CLOSE,SHORT));"}},s.prototype.TRADE_MACD=function(){return{Name:"MACD",Description:"MACD专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"LONG",Value:26},{Name:"SHORT",Value:12},{Name:"M",Value:9}],Script:"DIFF:=EMA(CLOSE,SHORT) - EMA(CLOSE,LONG);\nDEA  := EMA(DIFF,M);\nMACD := 2*(DIFF-DEA);\nENTERLONG:CROSS(MACD,0);\nEXITLONG:CROSS(0,MACD);"}},s.prototype.TRADE_MTM=function(){return{Name:"MTM",Description:"动力指标专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:6}],Script:"WMTM:=C-REF(C,N);\nENTERLONG:CROSS(WMTM,0);\nEXITLONG:CROSS(0,WMTM);"}},s.prototype.TRADE_PSY=function(){return{Name:"PSY",Description:"PSY心理线专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"LL",Value:10},{Name:"LH",Value:85}],Script:"MYPSY:=COUNT(CLOSE>REF(CLOSE,1),N)/N*100;\nENTERLONG:CROSS(LL,MYPSY);\nEXITLONG:CROSS(MYPSY,LH);"}},s.prototype.TRADE_ROC=function(){return{Name:"ROC",Description:"变动速率专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:12},{Name:"M",Value:6}],Script:"WROC:=MA(100*(CLOSE-REF(CLOSE,N))/REF(CLOSE,N),M);\nENTERLONG:CROSS(WROC,0);\nEXITLONG:CROSS(0,WROC);"}},s.prototype.TRADE_RSI=function(){return{Name:"RSI",Description:"相对强弱专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:6},{Name:"LL",Value:20},{Name:"LH",Value:80}],Script:"LC:=REF(CLOSE,1);\nWRSI:=SMA(MAX(CLOSE-LC,0),N,1)/SMA(ABS(CLOSE-LC),N,1)*100;\nENTERLONG:CROSS(WRSI,LL);\nEXITLONG:CROSS(LH,WRSI);"}},s.prototype.TRADE_VR=function(){return{Name:"VR",Description:"VR容量比率专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N",Value:26},{Name:"LL",Value:70},{Name:"LH",Value:250}],Script:"WVR := SUM((IF(CLOSE>OPEN,VOL,0)+IF(CLOSE=OPEN,VOL/2,0)),N)/SUM((IF(CLOSE<OPEN,VOL,0)+IF(CLOSE=OPEN,VOL/2,0)),N)*100;\nENTERLONG:CROSS(LL,WVR);\nEXITLONG:CROSS(WVR,LH);"}},s.prototype.TRADE_DPSJ=function(){return{Name:"DPSJ",Description:"大盘随机专家系统",IsMainIndex:!0,InstructionType:1,Args:[{Name:"N1",Value:18},{Name:"N2",Value:12}],Script:"RSV:=(INDEXC-LLV(INDEXL,N1))/(HHV(INDEXH,N1)-LLV(INDEXL,N1))*100;\nK:=SMA(RSV,N2,1);\nHSL:VOL/100/(FINANCE(7));\nENTERLONG: CROSS(K,20);\nEXITLONG: (CROSS(HSL,5) OR CROSS(K,80));"}},s.prototype.Zealink_Index1=function(){return{Name:"资金吸筹",Description:"资金吸筹",IsMainIndex:!1,Args:[],Script:"VAR1:=REF((LOW+OPEN+CLOSE+HIGH)/4,1);  \nVAR2:= SMA(ABS(LOW - VAR1), 13, 1) / SMA(MAX(LOW - VAR1, 0), 10, 1);\nVAR3:= EMA(VAR2, 10);\nVAR4:= LLV(LOW, 33);\nVAR5:= EMA(IF(LOW <= VAR4, VAR3, 0), 3) * 0.2;\n主力进场: IF(VAR5 > REF(VAR5, 1), VAR5,0), COLORRED, NODRAW;\n洗盘: IF(VAR5 < REF(VAR5, 1),  VAR5,0), COLORYELLOW, NODRAW;\nSTICKLINE(VAR5> REF(VAR5, 1),0, VAR5, 20, 0), COLORRED;\nSTICKLINE(VAR5 < REF(VAR5, 1), 0, VAR5, 20, 0), COLORYELLOW;"}},s.prototype.Zealink_Index2=function(){return{Name:"牛熊区间",Description:"牛熊区间",IsMainIndex:!1,YSpecificMaxMin:{Max:100,Min:1,Count:4},YSplitScale:[1,50,100],Args:[],Script:"短高H:=(20*H+19*REF(H,1)+18*REF(H,2)+17*REF(H,3)+16*REF(H,4)+15*REF(H,5)+14*REF(H,6)\n+ 13 * REF(H, 7) + 12 * REF(H, 8) + 11 * REF(H, 9) + 10 * REF(H, 10) + 9 * REF(H, 11) + 8 * REF(H, 12)\n+ 7 * REF(H, 13) + 6 * REF(H, 14) + 5 * REF(H, 15) + 4 * REF(H, 16) + 3 * REF(H, 17) + 2 * REF(H, 18) +\nREF(H, 20))/ 210, COLORBLUE, LINETHICK1;\n短低L:= (20 * L + 19 * REF(L, 1) + 18 * REF(L, 2) + 17 * REF(L, 3) + 16 * REF(L, 4) + 15 * REF(L, 5) + 14 * REF(L, 6)\n+ 13 * REF(L, 7) + 12 * REF(L, 8) + 11 * REF(L, 9) + 10 * REF(L, 10) + 9 * REF(L, 11) + 8 * REF(L, 12)\n+ 7 * REF(L, 13) + 6 * REF(L, 14) + 5 * REF(L, 15) + 4 * REF(L, 16) + 3 * REF(L, 17) + 2 * REF(L, 18) +\nREF(L, 20)) / 210, COLORBLUE, LINETHICK1;\nD90H:= EMA(短高H, 90), COLORRED, LINETHICK1;\nD90L:= EMA(短低L, 90), COLORRED, LINETHICK1;\nD90差:= D90H - D90L;\nD90顶:= D90H + D90差 * 2, COLORRED, LINETHICK1;\nD90底:= D90L - D90差 * 2, COLORRED, LINETHICK1;\n高0:= (EMA(EMA(H, 25), 25) - EMA(EMA(L, 25), 25)) * 1 + EMA(EMA(H, 25), 25), LINETHICK1, COLORWHITE;\n低0:= EMA(EMA(L, 25), 25) - (EMA(EMA(H, 25), 25) - EMA(EMA(L, 25), 25)) * 1, LINETHICK1, COLORWHITE;\n多头定位:= 低0 >= D90底 AND 高0 >= D90顶;\n空头定位:= 高0 <= D90顶 AND 低0 <= D90底;\n震荡定位:= 低0 >= D90底 AND 高0 <= D90顶;\n牛市: IF(多头定位 == 1, 100, 1), COLORRED, NODRAW;\n熊市: IF(空头定位 == 1, 100, 1), COLORGREEN, NODRAW;\n震荡: IF(震荡定位 == 1, 100, 1), COLORGRAY, NODRAW;\nSTICKLINE(多头定位 == 1, 100, 1, 100, 0), COLORRED;\nSTICKLINE(空头定位 == 1, 100, 1, 100, 0), COLORGREEN;\nSTICKLINE(震荡定位 == 1, 100, 1, 100, 0), COLORGRAY;"}},s.prototype.Zealink_Index3=function(){return{Name:"持仓信号",Description:"持仓信号",IsMainIndex:!0,Args:[],Script:'买线:=EMA(C,2);\n卖线:=EMA(SLOPE(C,30)*5+C,20); \nBU:=CROSS(买线,卖线);\nSEL:=CROSS(卖线,买线);\n\nSTICKLINE(买线>=卖线 AND CLOSE>OPEN,LOW,HIGH,0,1),COLORRED;\nSTICKLINE(买线>=卖线 AND CLOSE<OPEN,LOW,HIGH,0,1),COLORRED;\nSTICKLINE(买线>=卖线 AND CLOSE>OPEN,CLOSE,OPEN,50,1),COLORRED;\nSTICKLINE(买线>=卖线 AND CLOSE<OPEN,CLOSE,OPEN,50,0),COLORRED;\nSTICKLINE(买线<卖线 AND CLOSE<OPEN,LOW,HIGH,0,1),COLORGREEN;\nSTICKLINE(买线<卖线 AND CLOSE>OPEN,LOW,HIGH,0,1),COLORGREEN;\nSTICKLINE(买线<卖线 AND CLOSE<OPEN,CLOSE,OPEN,50,0),COLORGREEN;\nSTICKLINE(买线<卖线 AND CLOSE>OPEN,CLOSE,OPEN,50,1),COLORGREEN;\n\nHHJSJDA:=(3*CLOSE+OPEN+LOW+HIGH)/6;\nHHJSJDB:(19*HHJSJDA+19*REF(HHJSJDA,1)+18*REF(HHJSJDA,2)+17*REF(HHJSJDA,3)+16*REF(HHJSJDA,4)+15*REF(HHJSJDA,5)+14*REF(HHJSJDA,6)\n+13*REF(HHJSJDA,7)+12*REF(HHJSJDA,8)+11*REF(HHJSJDA,9)+10*REF(HHJSJDA,10)+9*REF(HHJSJDA,11)+8*REF(HHJSJDA,12)+7*REF(HHJSJDA,13)+6*REF(HHJSJDA,14)+5*REF(HHJSJDA,15)+4*REF(HHJSJDA,16)+3*REF(HHJSJDA,17)+2*REF\n(HHJSJDA,20)+REF(HHJSJDA,19))/210,COLORYELLOW;\nHHJSJDC:MA(HHJSJDB,5),COLORRED;\n\nSVAR11:=HHV(HIGH,34);\nSVAR14:=CLOSE-REF(CLOSE,1);\nSVAR15:=MAX(SVAR14,0);\nSVAR16:=ABS(SVAR14);\nSVAR17:=SMA(SVAR15,7,1)/SMA(SVAR16,7,1)*100;\nSVAR18:=SMA(SVAR15,13,1)/SMA(SVAR16,13,1)*100;\nSVAR19:=BARSCOUNT(CLOSE);\nSVAR20:=SMA(MAX(SVAR14,0),6,1)/SMA(ABS(SVAR14),6,1)*100;\nSVAR21:=(-200)*(HHV(HIGH,60)-CLOSE)/(HHV(HIGH,60)-LLV(LOW,60))+100;\nSVAR1A:=(CLOSE-LLV(LOW,15))/(HHV(HIGH,15)-LLV(LOW,15))*100;\nSVAR1B:=SMA((SMA(SVAR1A,4,1)-50)*2,3,1);\nSVAR1C:=(INDEXC-LLV(INDEXL,14))/(HHV(INDEXH,14)-LLV(INDEXL,14))*100;\nSVAR1D:=SMA(SVAR1C,4,1);\nSVAR1E:=SMA(SVAR1D,3,1);\nSVAR1F:=(HHV(HIGH,30)-CLOSE)/CLOSE*100;\nSVAR22:=SVAR20<=25 AND SVAR21<-95 AND SVAR1F>20 AND SVAR1B<-30 AND SVAR1E<30 AND SVAR11-CLOSE>=-0.25 AND SVAR17<22 AND SVAR18<28 AND SVAR19>50;\nBUY3:=CROSS(SVAR22,0.5) AND COUNT(SVAR22==1,10)==1;\n\nSVARF:=LOW*0.9;\nSVAR10X:=100-3*SMA((OPEN-LLV(LOW,75))/(HHV(HIGH,75)-LLV(LOW,75))*100,20,1)+2*SMA(SMA((OPEN-LLV(LOW,75))/(HHV(HIGH,75)-LLV(LOW,75))*100,20,1),15,1);\nSVAR11X:=SVARF<REF(SVAR10X,1) AND VOL>REF(VOL,1) AND CLOSE>REF(CLOSE,1);\nBUY2:=SVAR11X AND COUNT(SVAR11X,30)==1;\n\nVAR1:=(CLOSE+HIGH+LOW+OPEN)/4;\nVAR2:=SUMBARS(VOL,CAPITAL);\nVAR3:=HHV(VAR1,VAR2);\nVAR4:=LLV(VAR1,VAR2);\nVAR5:=(2*VAR1-VAR4-REF(VAR4,1))/(VAR3-VAR4);\nVAR6:=(VAR1-VAR4)/(VAR3-VAR4);\nVAR7:=IF(VAR1<=VAR4,VAR5*60,VAR6*60);\nVAR8:=600*(EMA(CLOSE,3)-EMA(LOW,30))/EMA(LOW,30);\nVAR9:=EMA(VAR8,7);\nVARC:=HHV(HIGH,9)-LLV(LOW,9);\nVARD:=HHV(HIGH,9)-CLOSE;\nVARE:=CLOSE-LLV(LOW,9);\nVARF:=VARD/VARC*100-70;\nVAR10:=(CLOSE-LLV(LOW,60))/(HHV(HIGH,60)-LLV(LOW,60))*100;\nVAR11:=(2*CLOSE+HIGH+LOW)/4;\nVAR12:=SMA(VARE/VARC*100,3,1);\nVAR13:=LLV(LOW,34);\nVAR14:=SMA(VAR12,3,1)-SMA(VARF,9,1);\nVAR15:=IF(VAR14>100,VAR14-100,0);\nVAR16:=HHV(HIGH,34);\nVAR17:=EMA((VAR11-VAR13)/(VAR16-VAR13)*100,8);\nVAR18:=EMA(VAR17,5);\nBUY:=STICKLINE(VAR17-VAR18>0,VAR17,VAR18,8,1),COLORRED;\nSELL:=STICKLINE(VAR17-VAR18<0,VAR17,VAR18,8,1),COLORGREEN;\nBUY1:=VAR17>VAR18 AND REF(VAR17,1)<REF(VAR18,1);\nSELL1:=VAR17<VAR18 AND REF(VAR17,1)>REF(VAR18,1);\n\n短高H:=(20*H+19*REF(H,1)+18*REF(H,2)+17*REF(H,3)+16*REF(H,4)+15*REF(H,5)+14*REF(H,6)\n+13*REF(H,7)+12*REF(H,8)+11*REF(H,9)+10*REF(H,10)+9*REF(H,11)+8*REF(H,12)\n+7*REF(H,13)+6*REF(H,14)+5*REF(H,15)+4*REF(H,16)+3*REF(H,17)+2*REF(H,18)+\nREF(H,20))/210,COLORBLUE,LINETHICK1;\n短低L:=(20*L+19*REF(L,1)+18*REF(L,2)+17*REF(L,3)+16*REF(L,4)+15*REF(L,5)+14*REF(L,6)\n+13*REF(L,7)+12*REF(L,8)+11*REF(L,9)+10*REF(L,10)+9*REF(L,11)+8*REF(L,12)\n+7*REF(L,13)+6*REF(L,14)+5*REF(L,15)+4*REF(L,16)+3*REF(L,17)+2*REF(L,18)+\nREF(L,20))/210,COLORBLUE,LINETHICK1;\nD90H:=EMA(短高H,90),COLORRED,LINETHICK1;\nD90L:=EMA(短低L,90),COLORRED,LINETHICK1;\nD90差:=D90H-D90L;\nD90顶:=D90H+D90差*2,COLORRED,LINETHICK1;\nD90底:=D90L-D90差*2,COLORRED,LINETHICK1;\n高0:=(EMA(EMA(H,25),25)-EMA(EMA(L,25),25))*1+EMA(EMA(H,25),25),LINETHICK1,COLORWHITE;\n低0:=EMA(EMA(L,25),25)-(EMA(EMA(H,25),25)-EMA(EMA(L,25),25))*1,LINETHICK1,COLORWHITE;\n多头定位:=低0>=D90底 AND 高0>=D90顶;\n空头定位:=高0<=D90顶 AND 低0<=D90底;\n震荡定位:=低0>=D90底 AND 高0<=D90顶;\n\n牛市:=多头定位==1;\n熊市:=空头定位==1;\n震荡:=震荡定位==1;\n\n非牛市:=熊市 OR 震荡;\n非熊市:=牛市 OR 震荡;\n\nBUY11:=BUY1 AND 非熊市;\nSELL11:=SELL1 AND 震荡定位==0;\n\nBUY111:=BUY11 AND COUNT(BUY11,10)<2;\nBUY0:=BUY111 AND COUNT(BUY111,21)==1;\nSELL111:=SELL11 AND COUNT(SELL11,10)<2;\nSELL0:=SELL111 AND COUNT(SELL111,10)==1;\n\nXK1:=EMA(100*(CLOSE-LLV(LOW,34))/(HHV(HIGH,34)-LLV(LOW,34)),3)/4;\n上穿:=REF(XK1,1)<5 AND XK1>=5;\nBUY4:=上穿 AND COUNT(XK1<2,12)<1;\n\nSELL2:=REF(XK1,1)<=22.5 AND XK1>22.5 AND COUNT(REF(XK1,1)>=22.5 AND XK1<22.5,5)>0;\nSELL3:=REF(XK1,1)>=21.5 AND XK1<21.5 AND COUNT(REF(XK1,1)>=22.5 AND XK1<22.5,12)>1;\nSELL4:=SELL2 OR SELL3 AND COUNT((SELL2 OR SELL3)==1,5)==1;\n\nSUPERDRAWTEXT(BUY0,L,"机会",2,10),COLORRED;\nSUPERDRAWTEXT(SELL0,H,"风险",1,10),COLORGREEN;\nSUPERDRAWTEXT(BUY2,L,"机会",2,10),COLORRED;\nSUPERDRAWTEXT(BUY4,L,"机会",2,10),COLORRED;\nSUPERDRAWTEXT(SELL4,H,"风险",1,10),COLORGREEN;'}},s.prototype.Zealink_Index4=function(){return{Name:"股东实际增减持",Description:"股东实际增减持",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"增持:NEWS(4),NODRAW,COLORRED;\n减持:NEWS(5),NODRAW,COLORGREEN;\nSTICKLINE(增持>0,0,增持,1,0),COLORRED;\nSTICKLINE(减持<0,0,减持,1,0),COLORGREEN;"}},s.prototype.Zealink_Index5=function(){return{Name:"大宗交易",Description:"大宗交易",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"交易次数:NEWS(7);"}},s.prototype.Zealink_Index6=function(){return{Name:"信托持股",Description:"信托持股",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"家数:NEWS(6);"}},s.prototype.Zealink_Index7=function(){return{Name:"官网新闻",Description:"官网新闻",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"个数:NEWS(8);"}},s.prototype.Zealink_Index8=function(){return{Name:"高管要闻",Description:"高管要闻",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"个数:NEWS(9);"}},s.prototype.Zealink_Index9=function(){return{Name:"股权质押",Description:"股权质押",IsMainIndex:!1,FloatPrecision:0,Args:[],Script:"次数:NEWS(10);"}},s.prototype.Zealink_Index10=function(){return{Name:"操盘BS点",Description:"操盘BS点",IsMainIndex:!0,FloatPrecision:0,Args:[],Script:"JJ:=(CLOSE+HIGH+LOW)/3; \nA:=EMA(JJ,10); \nB:=REF(A,1);\nM1:=EMA(CLOSE,3);\nM2:=EMA(CLOSE,8); \nM3:=EMA(M2,13); \nM4:=EMA(M2,55); \nB1:=A>B AND REF(A,1)<REF(B,1);\nS1:=A<B AND REF(A,1)>REF(B,1);\nINDEXCLOSE:INDEXC,EXDATA;\nINDEXOPEN:INDEXO,EXDATA;\nDRAWICON(REF(B1,1),L*0.97,13);\nDRAWICON(REF(S1,1),H*1.03,14);"}},s.prototype.Zealink_Index11=function(){return{Name:"操盘BS点",Description:"操盘BS点",IsMainIndex:!0,FloatPrecision:0,Args:[],Script:"JJ:=(CLOSE+HIGH+LOW)/3;\nA:=EMA(JJ,10);\nB:=REF(A,1);\nM1:=EMA(CLOSE,3);\nM2:=EMA(CLOSE,8); \nM3:=EMA(M2,13);\nM4:=EMA(M2,55);\n持股区域:=STICKLINE(A>B,A,B,2,0),COLORYELLOW; \n持币区域:=STICKLINE(A<B,A,B,2,0),COLORBLUE;\n\nVR1:=(C+O+REF(C,1))/3;\nVR3:=HHV(VR1,21);\nVR4:=LLV(VR1,21);\nVR5:=(2*VR1-VR4-REF(VR4,1))/(VR3-VR4);\nVR6:=(VR1-VR4)/(VR3-VR4);\nVR7:=IF(VR1<=VR4,VR5*60,VR6*60);\nVR8:=600*(EMA(C,3)-EMA(L,30))/EMA(L,30);\nVR9:=EMA(VR8,7);\nVRA:=(WINNER(120*C/100)-WINNER(100*C/100))*100;\nVRB:=(-100)*(WINNER(120*C/100)-WINNER(100*C/100))+5;\nVRC:=HHV(H,9)-LLV(L,9);\nVRD:=HHV(H,9)-C;\nVRE:=C-LLV(L,9);\nVRF:=VRD/VRC*100-70;\nVR10:=(C-LLV(L,60))/(HHV(H,60)-LLV(L,60))*100;\nVR11:=(2*C+H+L)/4;\nVR12:=SMA(VRE/VRC*100,3,1);\nVR13:=LLV(L,34);\nVR14:=SMA(VR12,3,1)-SMA(VRF,9,1);\nVR15:=IF(VR14>100,VR14-100,0);\nVR16:=HHV(H,34);\nVR17:=EMA((VR11-VR13)/(VR16-VR13)*100,8);\nVR18:=EMA(VR17,5);\n\nB1:=A>B AND REF(A,1)<REF(B,1);\nS1:=A<B AND REF(A,1)>REF(B,1);\n\nB9:=BARSLAST(REF(B1,1) AND (REF(VR17>VR18,1) OR MIN(VR17,VR18)>REF(MAX(VR17,VR18),1)));\nS9:=BARSLAST(REF(S1,1) AND (REF(VR17<VR18,1) OR MAX(VR17,VR18)<REF(MIN(VR17,VR18),1)));\n\nDRAWICON(REF(B1,1) AND (REF(VR17>VR18,1) OR MIN(VR17,VR18)>REF(MAX(VR17,VR18),1)) AND REF(B9,2)>=S9,L*0.97,13);\nDRAWICON(REF(S1,1) AND (REF(VR17<VR18,1) OR MAX(VR17,VR18)<REF(MIN(VR17,VR18),1)) AND REF(S9,1)>=B9,H*1.03,14);\n\nDRAWKLINE_IF(VR17>VR18,HIGH,CLOSE,LOW,OPEN),COLORRED;\nDRAWKLINE_IF(VR17<VR18,HIGH,CLOSE,LOW,OPEN),COLORBLUE;\n\nINDEXCLOSE:INDEXC,EXDATA;\t\t//取指数的收盘价 回测的时候计算BATE系数用 "}},s.prototype.HeikinAshi=function(){return{Name:"平均K线",Description:"Heikin-Ashi 平均K线",IsMainIndex:!0,KLineType:-1,Args:[],Script:"HCLOSE:(OPEN+HIGH+LOW+CLOSE)/4, NODRAW;\nHOPEN:(REF(OPEN,1)+REF(CLOSE,1))/2,NODRAW;\nHHIGH:MAX(HIGH,MAX(HOPEN,HCLOSE)),NODRAW;\nHLOW:MIN(LOW,MIN(HOPEN,HCLOSE)),NODRAW;\nDRAWKLINE(HHIGH,HOPEN,HLOW,HCLOSE);"}},s.prototype.ADL=function(){return{Name:"腾落指标",Description:"腾落指标",IsMainIndex:!1,StringFormat:2,Condition:{Period:[_n.KLINE_DAY_ID,_n.KLINE_WEEK_ID,_n.KLINE_TWOWEEK_ID,_n.KLINE_MONTH_ID,_n.KLINE_QUARTER_ID,_n.KLINE_YEAR_ID],Include:["000001.SH","000003.SH","000016.SH","000300.SH","000905.SH","399001.SZ"," 399005.SZ","399006.SZ"]},Args:[{Name:"M",Value:7}],Script:"ADL:SUM(ADVANCE-DECLINE,0);\nMAADL:MA(ADL,M);"}},s.prototype.EMPTY=function(){return{Name:"",Description:"空指标",IsMainIndex:!0,Args:[],Script:"VAR2:=C;"}},s.prototype.CJL=function(){return{Name:"CJL",Description:"期货持仓量",IsMainIndex:!1,Args:[],Script:"成交量:VOL,VOLSTICK;\n持仓量:VOLINSTK,LINEOVERLAY;"}},s.prototype.ASI=function(){return{Name:"ASI",Description:"振动升降指标",IsMainIndex:!1,Args:[{Name:"N1",Value:6}],Script:"X_1:=REF(CLOSE,1);\nX_2:=ABS(HIGH-X_1);\nX_3:=ABS(LOW-X_1);\nX_4:=ABS(HIGH-REF(LOW,1));\nX_5:=ABS(X_1-REF(OPEN,1));\nX_6:=IF(X_2>X_3 AND X_2>X_4,X_2+X_3/2+X_5/4,IF(X_3>X_4 AND X_3>X_2,X_3+X_2/2+X_5/4,X_4+X_5/4));\nX_7:=CLOSE-X_1+(CLOSE-OPEN)/2+X_1-REF(OPEN,1);\nX_8:=8*X_7/X_6*MAX(X_2,X_3);\nASI:SUM(X_8,0),LINETHICK2;\nMASI:MA(ASI,N1),LINETHICK2;"}},s.prototype.DC=function(){return{Name:"DC",Description:"唐奇安通道",IsMainIndex:!0,Args:[{Name:"N1",Value:20}],Script:"UPPER:HHV(H,N1),COLORBLUE,LINETHICK2;\nLOWER:LLV(L,N1),COLORBLUE,LINETHICK2;\nMIDDLE:(UPPER+LOWER)/2,COLORRED,LINETHICK3;"}},s.prototype.DEMA=function(){return{Name:"DEMA",Description:"双重指数移动均线",IsMainIndex:!0,Args:[{Name:"N1",Value:10}],Script:"ERR:=C-EMA(C,N1);\nDEMA:EMA(C,10)+EMA(ERR,N1);"}},s.prototype.VWAP=function(){return{Name:"VWAP",Description:"成交量加权平均价",IsMainIndex:!0,Args:[{Name:"N1",Value:10}],Script:"PRICE:=(H+L+C)/3;\nT2:=VOL*PRICE;\nVWAP:SUM(T2,0)/SUM(VOL,0);"}},s.prototype.SQJZ=function(){return{Name:"SQJZ",Description:"神奇九转",IsMainIndex:!0,Script:"B:=C<REF(C,4);\nN:=CURRBARSCOUNT;\nB1:=(N=6 AND REFXV(COUNT(B,6),5)=6) OR (N=7 AND REFXV(COUNT(B,7),6)=7) OR (N=8 AND REFXV(COUNT(B,8),7)=8) OR (N>=9 AND REFXV(COUNT(B,9),8)=9);\nDRAWNUMBER(B1 AND REF(B,1)=0,L,1),COLORMAGENTA;\nB2:=(N=5 AND REFXV(COUNT(B,6),4)=6) OR (N=6 AND REFXV(COUNT(B,7),5)=7) OR (N=7 AND REFXV(COUNT(B,8),6)=8) OR (N>=8 AND REFXV(COUNT(B,9),7)=9);\nDRAWNUMBER(B2 AND REF(B,2)=0,L,2),COLORMAGENTA;\nB8:=(N=1 AND COUNT(B,8)=8) OR (N>=2 AND REFXV(COUNT(B,9),1)=9);\nDRAWNUMBER(B8 AND REF(B,8)=0,L,8),COLORMAGENTA;\nB9:=(N>=1 AND COUNT(B,9)=9);\nDRAWNUMBER(B9 AND REF(B,9)=0,L,9),COLORBROWN;\nS:=C>REF(C,4);\nS1:=(N=6 AND REFXV(COUNT(S,6),5)=6) OR (N=7 AND REFXV(COUNT(S,7),6)=7) OR (N=8 AND REFXV(COUNT(S,8),7)=8) OR (N>=9 AND REFXV(COUNT(S,9),8)=9);\nDRAWNUMBER(S1 AND REF(S,1)=0,H,1),COLORMAGENTA,DRAWABOVE;\nS2:=(N=5 AND REFXV(COUNT(S,6),4)=6) OR (N=6 AND REFXV(COUNT(S,7),5)=7) OR (N=7 AND REFXV(COUNT(S,8),6)=8) OR (N>=8 AND REFXV(COUNT(S,9),7)=9);\nDRAWNUMBER(S2 AND REF(S,2)=0,H,2),COLORMAGENTA,DRAWABOVE;\nS8:=(N=1 AND COUNT(S,8)=8) OR (N>=2 AND REFXV(COUNT(S,9),1)=9);\nDRAWNUMBER(S8 AND REF(S,8)=0,H,8),COLORMAGENTA,DRAWABOVE;\nS9:=(N>=1 AND COUNT(S,9)=9);\nDRAWNUMBER(S9 AND REF(S,9)=0,H,9),COLORGREEN,DRAWABOVE;"}},s.prototype.XT=function(){return{Name:"XT",Description:"箱体",IsMainIndex:!0,Args:[{Name:"N",Value:10}],Script:"【箱顶】:PEAK(CLOSE,N,1)*0.98;\n【箱底】:TROUGH(CLOSE,N,1)*1.02;\n【箱高】:100*(【箱顶】-【箱底】)/【箱底】,NODRAW;"}},s.prototype.CFJT=function(){return{Name:"CFJT",Description:"财富阶梯",IsMainIndex:!0,Script:"突破:=REF(EMA(C,14),1);\nA1X:=(EMA(C,10)-突破)/突破*100;\n多方:=IF(A1X>=0,REF(EMA(C,10),BARSLAST(CROSS(A1X,0))+1),DRAWNULL);\n空方:=IF(A1X<0,REF(EMA(C,10),BARSLAST(CROSS(0,A1X))+1),DRAWNULL);\nSTICKLINE(A1X>=0,多方,突破,110,0),COLORRED;\nSTICKLINE(A1X<0,空方,突破,110,0),COLORGREEN;"}},s.prototype.CYX=function(){return{Name:"CYX",Description:"撑压线",IsMainIndex:!0,Args:[{Name:"N",Value:7}],Script:"Z1:=STRCAT(HYBLOCK,' ');\nZ2:=STRCAT(Z1,DYBLOCK);\nZ3:=STRCAT(Z2,' ');\nDRAWTEXT_FIX(ISLASTBAR,0,0,0,STRCAT(Z3,GNBLOCK)),COLOR00C0C0;\nA1:=REF(H,N)=HHV(H,2*N+1);\nB1:=FILTER(A1,N);\nC1:=BACKSET(B1,N+1);\nD1:=FILTER(C1,N);\nA2:=REF(L,N)=LLV(L,2*N+1);\nB2:=FILTER(A2,N);\nC2:=BACKSET(B2,N+1);\nD2:=FILTER(C2,N);\nE1:=(REF(LLV(L,2*N),1)+REF(HHV(H,2*N),1))/2;\nE2:=(H+L)/2;\nH1:=(D1 AND NOT(D2 AND E1>=E2)) OR ISLASTBAR OR BARSCOUNT(C)=1;\nL1:=(D2 AND NOT(D1 AND E1<E2));\nH2:=D1 AND NOT(D2 AND E1>=E2);\nX1:=REF(BARSLAST(H1),1)+1;\nF1:=BACKSET(H1 AND COUNT(L1,X1)>0,LLVBARS(IF(L1,L,10000),X1));\nG1:=F1>REF(F1,1);\nI1:=BACKSET(G1,2);\nLD:=I1>REF(I1,1);\nL2:=LD OR ISLASTBAR OR BARSCOUNT(C)=1;\nX2:=REF(BARSLAST(L2),1)+1;\nF2:=BACKSET(L2 AND COUNT(H2,X2)>0,HHVBARS(IF(H2,H,0),X2));\nG2:=F2>REF(F2,1);\nI2:=BACKSET(G2,2);\nHD:=I2>REF(I2,1);\nR1:=BACKSET(ISLASTBAR,BARSLAST(HD)+1);\nS1:=R1>REF(R1,1);\nT1:=BACKSET(ISLASTBAR,BARSLAST(LD)+1);\nU1:=T1>REF(T1,1);\nR2:=BACKSET(S1,REF(BARSLAST(HD),1)+2);\nS2:=R2>REF(R2,1);\nT2:=BACKSET(U1,REF(BARSLAST(LD),1)+2);\nU2:=T2>REF(T2,1);\nDRAWLINE(S2,H,S1,H,1),LINETHICK2,COLORRED;\nDRAWLINE(U2,L,U1,L,1),LINETHICK2,COLORGREEN;"}},s.prototype.WAVE=function(){return{Name:"WAVE",Description:"波浪分析",IsMainIndex:!0,Args:[{Name:"N",Value:5}],Script:"ZIG(3,N);"}},s.prototype.ShareholderCount=function(){return{Name:"散户线",Description:"散户线",IsMainIndex:!1,Script:"GPJYVALUE(1,1,1);"}},s.prototype.NXTS=function(){return{Name:"NXTS",Description:"牛熊天数",IsMainIndex:!1,Args:[{Name:"N",Value:20}],Script:"Z:=ZIG(C,N);\n高点:=Z>REF(Z,1) AND Z>REFX(Z,1);\n低点:=Z<REF(Z,1) AND Z<REFX(Z,1);\nNG:=BARSLAST(高点);\nND:=BARSLAST(低点);\nD0:=DATETODAY(DATE)-DATETODAY(REF(DATE,BARSSINCE(C)));\nDG:=DATETODAY(DATE)-DATETODAY(REF(DATE,NG));\nDD:=DATETODAY(DATE)-DATETODAY(REF(DATE,ND));\nN1:=(NG>ND OR COUNT(高点,0)=0) AND ND>0 AND (HHV(C,ND)-REF(C,ND))/REF(C,ND)>(N/100);\nN2:=NG<ND AND NG>0 AND (LLV(C,NG)-REF(C,NG))/REF(C,NG)>=-(N/100);\nN3:=NG<ND AND NG=0;\nN4:=COUNT(低点 OR 高点,0)=0 AND (HHV(C,0)-REF(C,BARSSINCE(C)))/REF(C,BARSSINCE(C))>(N/100);\nN5:=COUNT(低点,0)=0 AND NG>0 AND (LLV(C,NG)-REF(C,NG))/REF(C,NG)>=-(N/100);\nN6:=COUNT(低点,0)=0 AND NG=0;\nX1:=(NG<ND OR COUNT(低点,0)=0) AND NG>0 AND (LLV(C,NG)-REF(C,NG))/REF(C,NG)<-(N/100);\nX2:=NG>ND AND ND>0 AND (HHV(C,ND)-REF(C,ND))/REF(C,ND)<=(N/100);\nX3:=NG>ND AND ND=0;\nX4:=COUNT(高点 OR 低点,0)=0 AND (LLV(C,0)-REF(C,BARSSINCE(C)))/REF(C,BARSSINCE(C))<-(N/100);\nX5:=COUNT(高点,0)=0 AND ND>0 AND (HHV(C,ND)-REF(C,ND))/REF(C,ND)<=(N/100);\nX6:=COUNT(高点,0)=0 AND ND=0;\n牛市天数:IF(N4 OR N5 OR N6,D0,IF(N1 OR N2 OR N3,DD,0)),COLORRED;\n熊市天数:IF(X4 OR X5 OR X6,D0,IF(X1 OR X2 OR X3,DG,0)),COLORGREEN;"}},s.prototype.FKX=function(){return{Name:"FKX",Description:"反K线",IsMainIndex:!1,Script:"DRAWKLINE(-LOW, -OPEN, -HIGH, -CLOSE);"}},s.prototype.Margin4=function(){return{Name:"两融资金",Description:"两融资金",IsMainIndex:!1,Script:"TMPV:=IF(FINANCE(3)==0,REF(SCJYVALUE(1,1,1),1),REF(GPJYVALUE(3,1,1),1));\nTMPV1:=IF(FINANCE(3)==0,SCJYVALUE(1,1,0),GPJYVALUE(3,1,0));\n两融:IF(TMPV==0 OR TMPV1==0,DRAWNULL,IF(FINANCE(3)==0,(SCJYVALUE(1,1,1)-REF(SCJYVALUE(1,1,1),1))/10000-(SCJYVALUE(1,2,1)-REF(SCJYVALUE(1,2,1),1))/10000,((GPJYVALUE(3,1,1)-REF(GPJYVALUE(3,1,1),1))-((GPJYVALUE(3,2,1)*C/10000-(REF(GPJYVALUE(3,2,1),1)*REF(C,1)/10000)))))),NODRAW;\nSTICKLINE(两融>0,0,两融,2,0),COLORRED;\nSTICKLINE(两融<0,0,两融,2,0),COLORCYAN;"}},s.prototype.ZSDB=function(){return{Name:"ZSDB",Description:"指数对比(副图,需下载日线)",IsMainIndex:!1,Script:"A:=REF(INDEXC,1);\n指数涨幅:IF(A>0,(INDEXC-A)*100/A,0),NODRAW;\nDRAWKLINE(INDEXH,INDEXO,INDEXL,INDEXC);"}},s.prototype.NineTurns=function(){return{Name:"神奇九转",Description:"九转指标",IsMainIndex:!0,Script:"A1:=C>REF(C,4);\nA2:=C<REF(C,4);\nT1:=A2 AND REF(A1,1);\nT2:=A2 AND REF(T1,1);\nT3:=A2 AND REF(T2,1);\nT4:=A2 AND REF(T3,1);\nT5:=A2 AND REF(T4,1);\nT6:=A2 AND REF(T5,1);\nT7:=A2 AND REF(T6,1);\nT8:=A2 AND REF(T7,1);\nT9:=A2 AND REF(T8,1);\nT10:=A2 AND REF(T9,1);\nT11:=A2 AND REF(T10,1);\nT12:=A2 AND REF(T11,1);\nT13:=A2 AND REF(T12,1);\nT14:=A2 AND REF(T13,1);\nDRAWTEXT(T1,L*0.98,'1'),COLORGREEN;\nDRAWTEXT(T2,L*0.98,'2'),COLORGREEN;\nDRAWTEXT(T3,L*0.98,'3'),COLORGREEN;\nDRAWTEXT(T4,L*0.98,'4'),COLORGREEN;\nDRAWTEXT(T5,L*0.98,'5'),COLORGREEN;\nDRAWTEXT(T6,L*0.98,'6'),COLORGREEN;\nDRAWTEXT(T7,L*0.98,'7'),COLORGREEN;\nDRAWTEXT(T8,L*0.98,'8'),COLORGREEN;\nDRAWTEXT(T9,L*0.98,'9'),COLORBLUE;\nB1:=C<REF(C,4);\nB2:=C>REF(C,4);\nD1:=B2 AND REF(B1,1);\nD2:=B2 AND REF(D1,1);\nD3:=B2 AND REF(D2,1);\nD4:=B2 AND REF(D3,1);\nD5:=B2 AND REF(D4,1);\nD6:=B2 AND REF(D5,1);\nD7:=B2 AND REF(D6,1);\nD8:=B2 AND REF(D7,1);\nD9:=B2 AND REF(D8,1);\nD10:=B2 AND REF(D9,1);\nD11:=B2 AND REF(D10,1);\nD12:=B2 AND REF(D11,1);\nD13:=B2 AND REF(D12,1);\nD14:=B2 AND REF(D13,1);\nDRAWTEXT(D1,H*1.010,'1'),COLORBLUE;\nDRAWTEXT(D2,H*1.010,'2'),COLORBLUE;\nDRAWTEXT(D3,H*1.010,'3'),COLORBLUE;\nDRAWTEXT(D4,H*1.010,'4'),COLORBLUE;\nDRAWTEXT(D5,H*1.010,'5'),COLORBLUE;\nDRAWTEXT(D6,H*1.010,'6'),COLORBLUE;\nDRAWTEXT(D7,H*1.010,'7'),COLORBLUE;\nDRAWTEXT(D8,H*1.010,'8'),COLORBLUE;\nDRAWTEXT(D9,H*1.010,'9'),COLORGREEN;"}},s.prototype.TEST=function(){return{Name:"TEST",Description:"测试脚本",IsMainIndex:!1,Args:[{Name:"N",Value:10}],Script:"DRAWCHANNEL(OPEN>C,H,L, 'RGB(255,94,102)', 2 ,'5,5','RGBA(58,20,62,0.3)' );"}},!Nn)var Nn={Chart:{Log:console.log,Warn:console.warn},Complier:{Log:console.log,Warn:console.warn}};l.LastVersion=null,l.EnableCanvasWillReadFrequently=!1,l.CorssCursorCanvasKey="hqchart_corsscursor",l.Init=function(t,e,i){var a=new l(t,e,i);return a.OnSize(),a},l.SetDomain=function(t,e){t&&(lo.Domain=t),e&&(lo.CacheDomain=e)},l.SetPyIndexDomain=function(t){t&&(lo.PyIndexDomain=t)},l.SetStyle=function(t){t&&lo.SetStyle(t)},l.SetTextResource=function(t,e){uo.SetTextResource(t,e)},l.GetLocalization=function(){return uo},l.GetDevicePixelRatio=function(){return c()},l.CreateGuid=function(){return m()},l.GetResource=function(){return lo},l.GetMinuteTimeStringData=function(){return mo},l.GetMinuteCoordinateData=function(){return Co},l.GetKLineZoom=function(){return Zn},l.GetDivTooltipDataFormat=function(){return no},l.GetKLineCustomCalulate=function(){return co},l.SetUSATimeType=function(t){Do.TimeType=t,go.TimeType=t,So.TimeType=t,xo.TimeType=t},l.GetChinaFuturesTimeData=function(){return vo},l.AddPeriodCallback=function(t){Wn.AddPeriodCallback(t)},l.RemovePeriodCallback=function(t){Wn.RemovePeriodCallback(t)},l.RegisterDrawPicture=function(t){return ai.RegisterDrawPicture(t)},l.RegisterDrawPictureIonFont=function(t){return ai.RegisterIonFont(t)},l.GetInternalTimeData=function(t){switch(t){case"NYMEXTimeData":return Do;case"COMEXTimeData":return go;case"NYBOTTimeData":return So;case"CBOTTimeData":return xo;case"LMETimeData":return bo;case"FuturesTimeData":return vo;case"TOCOMTimeData":return Io;case"IPETimeData":return To;default:return null}},l.RegisterExtendChartClass=function(t,e){return to.Add(t,e)},l.AddExtendCallbackDraw=function(t){return to.AddCallbackDrawClassName(t)},l.RegisterChartPaintClass=function(t,e){return qn.Add(t,e)},l.RegisterScriptIndexChart=function(t,e){return Ro.Add(t,e)},l.RegisterDialogClass=function(t,e){return fo.Add(t,e)},l.RegisterChartFrameClass=function(t,e){return Yn.Add(t,e)},l.ToFixedPoint=function(t){return v(t)},l.ToFixedPoint2=function(t,e){return D(t,e)},l.ToFixedRect=function(t){return g(t)};var Rn={RECV_KLINE_MATCH:1,RECV_INDEX_DATA:2,RECV_HISTROY_DATA:3,RECV_TRAIN_MOVE_STEP:4,CHART_STATUS:5,BARRAGE_PLAY_END:6,RECV_OVERLAY_INDEX_DATA:7,DBCLICK_KLINE:8,RECV_START_AUTOUPDATE:9,RECV_STOP_AUTOUPDATE:10,ON_CONTEXT_MENU:11,ON_TITLE_DRAW:12,ON_SELECT_RECT:13,RECV_MINUTE_DATA:14,ON_CLICK_INDEXTITLE:15,RECV_KLINE_UPDATE_DATA:16,ON_CLICK_DRAWPICTURE:17,ON_FINISH_DRAWPICTURE:18,ON_INDEXTITLE_DRAW:19,ON_CUSTOM_VERTICAL_DRAW:20,RECV_KLINE_MANUAL_UPDATE_DATA:21,ON_ENABLE_SPLASH_DRAW:22,ON_CLICK_CHART_PAINT:23,ON_DRAW_MINUTE_LAST_POINT:24,ON_DRAW_DEPTH_TOOLTIP:25,ON_CLICK:26,ON_PHONE_TOUCH:27,ON_CLICKUP_CHART_PAINT:28,ON_SPLIT_YCOORDINATE:29,ON_DBCLICK:30,ON_SPLIT_XCOORDINATE:31,ON_KEYDOWN_SELECT_RECT:32,ON_DRAG_SELECT_RECT:33,ON_DRAG_SELECT_RECT_MOUSEUP:34,ON_DRAW_KLINE_LAST_POINT:35,ON_CLICK_CROSSCURSOR_RIGHT:36,ON_PLAY_SOUND:37,ON_CALCULATE_INDEX_OX:38,ON_LOAD_DRAWPICTURE:39,ON_DRAW_COUNTDOWN:41,ON_BIND_DRAWICON:42,ON_DRAW_DEAL_VOL_COLOR:43,ON_DRAW_DEAL_TEXT:44,ON_FILTER_DEAL_DATA:45,ON_FILTER_REPORT_DATA:46,ON_CLICK_REPORT_ROW:47,ON_REPORT_MARKET_STATUS:48,ON_DBCLICK_REPORT_ROW:49,ON_RCLICK_REPORT_ROW:50,ON_CLICK_REPORT_HEADER:51,ON_RCLICK_REPORT_HEADER:52,ON_REPORT_LOCAL_SORT:53,ON_DRAW_REPORT_NAME_COLOR:54,ON_DRAW_CUSTOM_TEXT:55,ON_CLICK_REPORT_TAB:56,ON_CLICK_REPORT_TABMENU:57,ON_DRAW_REPORT_FIXEDROW_TEXT:58,ON_CLICK_REPORT_FIXEDROW:59,ON_RCLICK_REPORT_FIXEDROW:60,ON_KEYDOWN_SELECT_RECT_FIRST:61,ON_CLICK_FRAME_TOOLBAR:62,ON_REPORT_DRAG_ROW:63,ON_MOUSE_MOVE:64,ON_MINUTE_PAGE_CHANGED:65,ON_DRAG_SUB_SELECT_RECT:66,ON_DRAG_SUB_SELECT_RECT_MOUSEUP:67,ON_KEYBOARD_SELECTED:68,ON_KEYBOARD_MOUSEUP:69,ON_CLICK_DRAWPICTURE_BUTTON:70,ON_FINISH_MOVE_DRAWPICTURE:71,ON_CLICK_EXTENDCHART_BUTTON:72,ON_SCROLLBAR_SLIDER_CHANGED:73,ON_DISPLAY_LATEST:74,ON_FORMAT_CORSSCURSOR_Y_TEXT:75,ON_FORMAT_INDEX_OUT_TEXT:76,ON_FORMAT_CORSSCURSOR_X_TEXT:77,ON_REPORT_MOUSE_MOVE:78,ON_REPORT_DRAG_HEADER_TOOLTIP:88,ON_REPORT_DRAW_CUSTOM_ICON:89,ON_REPORT_DRAW_KLINE:90,ON_DBCLICK_REPORT_DRAG_COLUMN_WIDTH:91,ON_REPORT_FORMAT_DRAW_INFO:92,ON_FORMAT_INDEX_Y_LABEL:93,ON_FORMAT_OVERLAY_INDEX_Y_LABEL:94,ON_CUSTOM_UNCHANGE_KLINE_COLOR:95,ON_CLICK_TITLE_BUTTON:96,ON_CUSTOM_LEFT_TOOLBAR:97,ON_CUSTOM_RIGHT_TOOLBAR:98,ON_REPORT_DRAG_COLUMN_WIDTH:99,ON_CUSTOM_UNCHANGE_KLINE_TITLE_COLOR:100,ON_CHANGE_KLINE_PERIOD:101,ON_MINUTE_TOUCH_ZOOM:102,ON_RELOAD_INDEX_CHART_RESOURCE:103,ON_RELOAD_OVERLAY_INDEX_CHART_RESOURCE:104,ON_CREATE_FRAME:105,ON_DELETE_FRAME:106,ON_SIZE_FRAME:107,ON_TOUCH_SCROLL_UP_DOWN:108,ON_RECV_REALTIME_DATA:109,ON_CUSTOM_OVERLAY_TOOLBAR:110,ON_BEFORE_DRAW:111,ON_BEFORE_DRAW_DYNAMIC_INFO:112},Bn={OP_SCROLL_LEFT:1,OP_SCROLL_RIGHT:2,OP_ZOOM_OUT:3,OP_ZOOM_IN:4,OP_GOTO_HOME:5,OP_GOTO_END:6,OP_LEFT_ZOOM_OUT:7,OP_LEFT_ZOOM_IN:8,OP_RIGHT_ZOOM_OUT:9,OP_RIGHT_ZOOM_IN:10,OP_SCROLL_GOTO:11,OP_SET_SELECTRECT:12,OP_SET_SUB_SELECTRECT:13,OP_CORSSCURSOR_GOTO:14,OP_SCROOLBAR_SLIDER_CHANGED:15,OP_GOTO:16},kn={DISABLE_DRAG_ID:0,CLICK_TOUCH_MODE_ID:3},Vn={CLOSE_BEFOREOPEN_ID:1,CLOSE_OVERLAY_INDEX:2,MODIFY_INDEX_PARAM:3,CHANGE_INDEX:4,CLOSE_INDEX_WINDOW:5,OVERLAY_INDEX:6,MODIFY_OVERLAY_INDEX_PARAM:7,CHIP_DEFULT:8,CHIP_LONG:9,CHIP_RECENT:10,MAX_MIN_WINDOW:11,TITLE_WINDOW:12,DRAW_PICTURE_DELETE:13,DRAW_PICTURE_SETTING:14,EXTEND_CHART_BUTTON_ID:15,EXPORT_DATA:16,DRAW_PICTURE_BUTTON_1:17,DRAW_PICTURE_BUTTON_2:18,DRAW_PICTURE_BUTTON_3:19,DRAW_PICTURE_BUTTON_4:20,DRAW_PICTURE_BUTTON_5:21,DRAW_PICTURE_BUTTON_6:22,DRAW_PICTURE_BUTTON_7:23,DRAW_PICTURE_BUTTON_8:24,DRAW_PICTURE_BUTTON_9:25,DRAW_PICTURE_BUTTON_10:26,DRAW_PICTURE_BUTTON_11:27,DRAW_PICTURE_BUTTON_12:28,DRAW_PICTURE_BUTTON_13:29,DRAW_PICTURE_BUTTON_14:30,DRAW_PICTURE_BUTTON_15:31,DRAW_PICTURE_BUTTON_16:32,DRAW_PICTURE_BUTTON_17:33,DRAW_PICTURE_BUTTON_18:34,POP_MENU_1:40,POP_MENU_2:41,POP_MENU_3:42,INDEX_NAME_BUTTON:43},Gn={KLINE_ORDERFLOW:99,MINUTE_MULTI_DAY_EXTENDDATA:21,MINUTE_DAY_EXTENDDATA:21,MINUTE_BEFOREOPEN_EXTENDDATA:21,MINUTE_AFTERCLOSE_EXTENDDATA:21,KLINE_COLOR_DATA:66,KLINE_DAY_EXTENDDATA:25,KLINE_MINUTE_EXTENDDATA:25,KLINE_HEATMAP:67},Hn={EXECUTE_SCRIPT:1,FINISH_EXECUTE_SCRIPT:2,ERROR_EXECUTE_SCRIPT:3};Number.prototype.toFixed2=Number.prototype.toFixed,Number.prototype.toFixed=function(t){return p(this,t)};var Yn=new E;U.Copy=function(t){var e=new U;return e.Date=t.Date,Ee.IsNumber(t.Time)&&(e.Time=t.Time),e.YClose=t.YClose,e.Open=t.Open,e.Close=t.Close,e.High=t.High,e.Low=t.Low,e.Vol=t.Vol,e.Amount=t.Amount,Ee.IsNumber(t.FlowCapital)&&(e.FlowCapital=t.FlowCapital),Ee.IsNumber(t.Position)&&(e.Position=t.Position),Ee.IsNumber(t.YFClose)&&(e.YFClose=t.YFClose),Ee.IsNumber(t.FClose)&&(e.FClose=t.FClose),Ee.IsNumber(t.Stop)&&(e.Stop=t.Stop),Ee.IsNumber(t.Up)&&(e.Up=t.Up),Ee.IsNumber(t.Down)&&(e.Down=t.Down),Ee.IsNumber(t.Unchanged)&&(e.Unchanged=t.Unchanged),Ee.IsNumber(t.BFactor)&&(e.BFactor=t.BFactor),Ee.IsNumber(t.AFactor)&&(e.AFactor=t.AFactor),Ee.IsBool(t.IsVirtual)&&(e.IsVirtual=t.IsVirtual),Ee.IsBool(t.IsNonTrade)&&(e.IsNonTrade=t.IsNonTrade),t.OrderFlow&&(e.OrderFlow=t.OrderFlow),t.ColorData&&(e.ColorData=t.ColorData),t.ExtendData&&(e.ExtendData=t.ExtendData),t.HeatMap&&(e.HeatMap=t.HeatMap),e},U.CopyTo=function(t,e){t.Date=e.Date,Ee.IsNumber(e.Time)&&(t.Time=e.Time),t.YClose=e.YClose,t.Open=e.Open,t.Close=e.Close,t.High=e.High,t.Low=e.Low,t.Vol=e.Vol,t.Amount=e.Amount,Ee.IsNumber(e.FlowCapital)&&(t.FlowCapital=e.FlowCapital),Ee.IsNumber(e.Position)&&(t.Position=e.Position),Ee.IsNumber(e.YFClose)&&(t.YFClose=e.YFClose),Ee.IsNumber(e.FClose)&&(t.FClose=e.FClose),Ee.IsNumber(e.Stop)&&(t.Stop=e.Stop),Ee.IsNumber(e.Up)&&(t.Up=e.Up),Ee.IsNumber(e.Down)&&(t.Down=e.Down),Ee.IsNumber(e.Unchanged)&&(t.Unchanged=e.Unchanged),Ee.IsNumber(e.BFactor)&&(t.BFactor=e.BFactor),Ee.IsNumber(e.AFactor)&&(t.AFactor=e.AFactor),Ee.IsBool(e.IsVirtual)&&(t.IsVirtual=e.IsVirtual),Ee.IsBool(e.IsNonTrade)&&(t.IsNonTrade=e.IsNonTrade),e.OrderFlow&&(t.OrderFlow=e.OrderFlow),e.ColorData&&(t.ColorData=e.ColorData),e.HeatMap&&(t.HeatMap=e.HeatMap),e.ExtendData&&(t.ExtendData=e.ExtendData)},U.CopyRight=function(t,e){var i=new U;return i.Date=t.Date,Ee.IsNumber(t.Time)&&(i.Time=t.Time),i.YClose=t.YClose*e,i.Open=t.Open*e,i.Close=t.Close*e,i.High=t.High*e,i.Low=t.Low*e,i.Vol=t.Vol,i.Amount=t.Amount,i.FlowCapital=t.FlowCapital,i.Position=t.Position,i.YFClose=t.YFClose,i.FClose=t.FClose,t.ColorData&&(i.ColorData=t.ColorData),t.ExtendData&&(i.ExtendData=t.ExtendData),i};var Xn={INVESTOR:1,ANNOUNCEMENT:2,PFORECAST:3,ANNOUNCEMENT_QUARTER_1:4,ANNOUNCEMENT_QUARTER_2:5,ANNOUNCEMENT_QUARTER_3:6,ANNOUNCEMENT_QUARTER_4:7,RESEARCH:8,BLOCKTRADING:9,TRADEDETAIL:10,ANNOUNCEMENT_EX_START:100,ANNOUNCEMENT_EX_END:200},Wn=new Z;Q.DateTimeToNumber=function(t){return 1e4*t.Date+t.Time},Q.GetKLineDataTime=function(t){var e={Date:t.Date,Time:0};return Ee.IsNumber(t.Time)&&(e.Time=t.Time),e},Q.GetFirday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),i=e.getDay();if(5==i)return t;var a=e.getTime();if(i<5){var r=864e5*(5-i);a+=r}else{var r=864e5*(i-5);a-=r}e.setTime(a);var n=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return n},Q.GetSunday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),i=e.getDay();if(0==i)return t;var a=e.getTime();if(i>0){a+=864e5*(7-i)}e.setTime(a);var r=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return r},Q.GetQuarter=function(t){var e=parseInt(t%1e4/100);return 1==e||2==e||3==e?1:4==e||5==e||6==e?2:7==e||8==e||9==e?3:10==e||11==e||12==e?4:0},Q.GetHalfYear=function(t){var e=parseInt(t/1e4);return t%1e4<=630?1e4*e+630:1e4*e+1231};var Un=4e4,zn=49999;Q.IsDayPeriod=function(t,e){return 1==t||2==t||3==t||9==t||21==t||22==t||(t>Un&&t<=zn||0==t&&1==e)};var Kn=2e4,$n=29999;Q.IsMinutePeriod=function(t,e){return 5==t||6==t||7==t||8==t||11==t||12==t||(t>Kn&&t<=$n||4==t&&1==e)};var jn=3e4,Jn=32e3;Q.IsSecondPeriod=function(t){return t>jn&&t<=Jn},Q.IsTickPeriod=function(t){return 10==t},Q.GetPeriodName=function(t){var e=new Mn.default([[0,"日线"],[1,"周线"],[2,"月线"],[3,"年线"],[9,"季线"],[21,"双周"],[22,"半年"],[4,"1分"],[5,"5分"],[6,"15分"],[7,"30分"],[8,"60分"],[11,"2小时"],[12,"4小时"],[10,"分笔"]]);return e.has(t)?e.get(t):""};var qn=new it,Zn=[[48,10],[44,10],[40,9],[36,9],[32,8],[28,8],[24,7],[20,7],[18,6],[16,6],[15,5],[13,5],[9,4],[7,4],[5,4],[3,3],[3,1],[2,1],[1,1],[1,0]],Qn={STATUS_NONE_ID:0,STATUS_REQUESTDATA_ID:1,STATUS_RECVDATA_ID:2,STATUS_FINISHED_ID:3},to=new ue,eo={MAIN_KLINE:1,OVERLAY_KLINE:2,MAIN_INDEX:3,OVERLAY_INDEX:4,OVERLAY_MINUTE:5,MAIN_MINUTE:6,MAIN_AVERAGE_MINUTE:7,MAIN_MINUTE_VOL:8},io={LATEST_VALUE_ID:0,FIXED_VALUE_ID:1,PAGE_LAST_PRICE_ID:2,PAGE_DATA_INCREASE:3,PAGE_LAST_INDEX_VALUE_ID:4,PAGE_LAST_OVERLAY_INDEX_VALUE_ID:5};Ee.FormatValueThousandsString=function(t,e){if(null==t||isNaN(t)){if(e>0){for(var i="-.",a=0;a<e;++a)i+="-";return i}return"--"}var r="",n=t.toFixed(e);if(e>0){for(var o=n.split(".")[1],s=n.split(".")[0];s.length>3;)r=","+s.slice(-3)+r,s=s.slice(0,s.length-3);s&&(r=s+r+"."+o)}else{for(;n.length>3;)r=","+n.slice(-3)+r,n=n.slice(0,n.length-3);n&&(r=n+r)}return r},Ee.FormatValueString=function(t,e,i){if(null==t||isNaN(t)){if(e>0){for(var a="-.",r=0;r<e;++r)a+="-";return a}return"--"}if(t<1e-11&&t>-1e-11)return"0";var n=Math.abs(t);return i===ho.LANGUAGE_ENGLISH_ID?n<1e4?t.toFixed(e):n<1e6?(t/1e3).toFixed(e)+"K":n<1e9?(t/1e6).toFixed(e)+"M":n<1e12?(t/1e9).toFixed(e)+"B":(t/1e12).toFixed(e)+"T":i===ho.LANGUAGE_TRADITIONAL_CHINESE_ID?n<1e4?t.toFixed(e):n<1e8?(t/1e4).toFixed(e)+"萬":n<1e12?(t/1e8).toFixed(e)+"億":(t/1e12).toFixed(e)+"萬億":n<1e4?t.toFixed(e):n<1e6?(t/1e4).toFixed(e)+"万":n<1e8?(t/1e4).toFixed(e)+"万":n<1e12?(t/1e8).toFixed(e)+"亿":(t/1e12).toFixed(e)+"万亿"},Ee.FormatVolString=function(t,e){var i=Math.abs(t);return i<1e5?i.toFixed(0):i<1e7?(t/1e4).toFixed(1)+"万":i<1e8?(t/1e4).toFixed(0)+"万":i<1e9?(t/1e8).toFixed(2)+"亿":i<1e12?(t/1e8).toFixed(1)+"亿":(t/1e12).toFixed(1)+"万亿"},Ee.FromatIntegerString=function(t,e,i){return t<1e4&&Ee.IsInteger(t)&&(e=0),Ee.FormatValueString(t,e,i)},Ee.NumberToString=function(t){return t<10?"0"+t.toString():t.toString()},Ee.MillisecondToString=function(t){return t<10?"00"+t.toString():t<100?"0"+t.toString():t.toString()},Ee.FormatDateString=function(t,e,i){var a=parseInt(t/1e4),r=parseInt(t/100)%100,n=t%100;switch(e){case"MM-DD":return Ee.NumberToString(r)+"-"+Ee.NumberToString(n);case"MM/DD":return Ee.NumberToString(r)+"/"+Ee.NumberToString(n);case"MM/DD/W":var o=new Date(a,r-1,n),s=uo.GetText(ro[o.getDay()],i);return Ee.NumberToString(r)+"/"+Ee.NumberToString(n)+"/"+s;case"YYYY-MM":return a+"-"+Ee.NumberToString(r);case"YYYY/MM/DD":return a.toString()+"/"+Ee.NumberToString(r)+"/"+Ee.NumberToString(n);case"YYYY/MM/DD/W":var o=new Date(a,r-1,n),s=uo.GetText(ro[o.getDay()],i);return a.toString()+"/"+Ee.NumberToString(r)+"/"+Ee.NumberToString(n)+"/"+s.toString();case"DD/MM/YYYY":return Ee.NumberToString(n)+"/"+Ee.NumberToString(r)+"/"+a.toString();default:return a.toString()+"-"+Ee.NumberToString(r)+"-"+Ee.NumberToString(n)}},Ee.FormatTimeString=function(t,e){if("HH:MM:SS"==e){var i=parseInt(t/1e4),a=parseInt(t%1e4/100),r=t%100;return Ee.NumberToString(i)+":"+Ee.NumberToString(a)+":"+Ee.NumberToString(r)}if("hh:mm"==e){var i=parseInt(t/1e4),a=parseInt(t%1e4/100),r=t%100;return Ee.NumberToString(i)+":"+Ee.NumberToString(a)}if("HH:MM"==e){var i=parseInt(t/100),a=t%100;return Ee.NumberToString(i)+":"+Ee.NumberToString(a)}if("HH:MM:SS.fff"==e){var n=t%1e3,o=parseInt(t/1e3),i=parseInt(o/1e4),a=parseInt(o%1e4/100),r=o%100;return Ee.NumberToString(i)+":"+Ee.NumberToString(a)+":"+Ee.NumberToString(r)+"."+Ee.MillisecondToString(n)}if(t<1e4){var i=parseInt(t/100),a=t%100;return Ee.NumberToString(i)+":"+Ee.NumberToString(a)}var i=parseInt(t/1e4),a=parseInt(t%1e4/100),r=t%100;return Ee.NumberToString(i)+":"+Ee.NumberToString(a)+":"+Ee.NumberToString(r)},Ee.FormatReportDateString=function(t){var e,i=parseInt(t/1e4),a=parseInt(t/100)%100;switch(a){case 3:e="一季度报";break;case 6:e="半年报";break;case 9:e="三季度报";break;case 12:e="年报"}return i.toString()+e},Ee.FormatDateTimeString=function(t,e,i){var a=t.split(" ");if(a.length<2)return"";var r="";if(e){var n=parseInt(a[0]),o=parseInt(n/1e4),s=parseInt(n%1e4/100),l=n%100,h=o.toString()+"-"+(s<10?"0"+s.toString():s.toString())+"-"+(l<10?"0"+l.toString():l.toString());r+=h}if(i){var u=parseInt(a[1]);if(u<1e4){var c=u%100,d=parseInt(u/100),h=Ee.NumberToString(d)+":"+Ee.NumberToString(c);r.length>0&&(r+=" "),r+=h}else{var d=parseInt(u/1e4),c=parseInt(u%1e4/100),f=u%100,h=Ee.NumberToString(d)+":"+Ee.NumberToString(c)+":"+Ee.NumberToString(f);r.length>0&&(r+=" "),r+=h}}return r},Ee.FormatValueColor=function(t,e){return null!=t&&null==e?0==t?"PriceNull":t>0?"PriceUp":"PriceDown":null==t||null==e?"PriceNull":t==e?"PriceNull":t>e?"PriceUp":"PriceDown"},Ee.IsNumber=function(t){return null!=t&&!isNaN(t)},Ee.IsPlusNumber=function(t){return null!=t&&(!isNaN(t)&&t>0)},Ee.IsInteger=function(t){return"number"==typeof t&&t%1==0},Ee.IsObjectExist=function(t){return void 0!==t&&null!=t},Ee.IsBool=function(t){return!0===t||!1===t},Ee.IsString=function(t){return"string"==(void 0===t?"undefined":(0,Sn.default)(t))},Ee.IsNonEmptyArray=function(t){return!!t&&(!!Array.isArray(t)&&t.length>0)},Ee.IsFloat=function(t){return void 0!==t&&(null!=t&&(!isNaN(t)&&t!=parseInt(t)))},Ee.RemoveZero=function(t){for(;t.length>0;){var e=t.length-1,i=t[e];if("0"!=i){if("."==i){t=t.substr(0,e);break}break}t=t.substr(0,e)}return t};var ao=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10],ro=["日","一","二","三","四","五","六"],no=new qe,oo=["不复权","前复权","后复权"],so={DEFAULT:1,ORIGINAL:2,INTEGER:3,THOUSANDS:21};ai.ColorToRGBA=function(t,e){if(/^(rgb|RGB)/.test(t)){for(var i="#",a=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),r=0;r<a.length;r++){var n=Number(a[r]).toString(16);"0"===n&&(n+=n),i+=n}t=i}return"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")"},ai.RGBToHex=function(t){var e=t.indexOf(",")>-1?",":" ";t=t.substr(4).split(")")[0].split(e);var i=(+t[0]).toString(16),a=(+t[1]).toString(16),r=(+t[2]).toString(16);return 1==i.length&&(i="0"+i),1==a.length&&(a="0"+a),1==r.length&&(r="0"+r),"#"+i+a+r},ai.ArrayDrawPricture=[{Name:"线段",ClassName:"ChartDrawPictureLine",Create:function(){return new ri}},{Name:"射线",ClassName:"ChartDrawPictureHaflLine",Create:function(){return new si}},{Name:"箭头",ClassName:"ChartDrawArrowLine",Create:function(){return new oi}},{Name:"水平线",ClassName:"ChartDrawPictureHorizontalLine",Create:function(){return new li}},{Name:"趋势线",ClassName:"ChartDrawPictureTrendLine",Create:function(){return new ui}},{Name:"矩形",ClassName:"ChartDrawPictureRect",Create:function(){return new ci}},{Name:"圆弧线",ClassName:"ChartDrawPictureArc",Create:function(){return new di}},{Name:"M头W底",ClassName:"ChartDrawPictureWaveMW",Create:function(){return new fi}},{Name:"头肩型",ClassName:"ChartDrawHeadShouldersBT",Create:function(){return new pi}},{Name:"平行线",ClassName:"ChartDrawPictureParallelLines",Create:function(){return new mi}},{Name:"平行通道",ClassName:"ChartDrawPictureParallelChannel",Create:function(){return new Si}},{Name:"价格通道线",ClassName:"ChartDrawPicturePriceChannel",Create:function(){return new gi}},{Name:"文本",ClassName:"ChartDrawPictureText",Create:function(){return new xi}},{Name:"江恩角度线",ClassName:"ChartDrawPictureGannFan",Create:function(){return new Ii}},{Name:"阻速线",ClassName:"ChartDrawPictureResistanceLine",Create:function(){return new Ti}},{Name:"黄金分割",ClassName:"ChartDrawPictureGoldenSection",Create:function(){return new yi}},{Name:"百分比线",ClassName:"ChartDrawPicturePercentage",Create:function(){return new wi}},{Name:"波段线",ClassName:"ChartDrawPictureWaveBand",Create:function(){return new Ei}},{Name:"三角形",ClassName:"ChartDrawPictureTriangle",Create:function(){return new Fi}},{Name:"对称角度",ClassName:"ChartDrawPictureSymmetryAngle",Create:function(){return new Li}},{Name:"圆",ClassName:"ChartDrawPictureCircle",Create:function(){return new Mi}},{Name:"平行四边形",ClassName:"ChartDrawPictureQuadrangle",Create:function(){return new Ai}},{Name:"斐波那契周期线",ClassName:"ChartDrawPictureFibonacci",Create:function(){return new Oi}},{Name:"线形回归线",ClassName:"ChartDrawLinearRegression",Create:function(){return new Ni}},{Name:"线形回归带",ClassName:"ChartDrawLinearRegression",Create:function(){return new Ni({IsShowMaxMinLine:!0})}},{Name:"延长线形回归带",ClassName:"ChartDrawLinearRegression",Create:function(){return new Ni({IsShowMaxMinLine:!0,IsShowExtendLine:!0})}},{Name:"尺子",ClassName:"ChartDrawRuler",Create:function(){return new _i}},{Name:"标价线",ClassName:"ChartDrawPriceLine",Create:function(){return new Pi}},{Name:"标价线2",ClassName:"ChartDrawPriceLineV2",Create:function(){return new Ri}},{Name:"垂直线",ClassName:"ChartDrawVerticalLine",Create:function(){return new Bi}},{Name:"波浪尺",ClassName:"ChartDrawWaveRuler",Create:function(){return new ki}},{Name:"AB波浪尺",ClassName:"ChartDrawWaveRuler2Point",Create:function(){return new Vi}},{Name:"箱型线",ClassName:"ChartDrawBox",Create:function(){return new Gi}},{Name:"2点画图例子",ClassName:"ChartDrawTwoPointDemo",Create:function(){return new Hi}},{Name:"3点画图例子",ClassName:"ChartDrawThreePointDemo",Create:function(){return new Yi}},{Name:"水平线段",ClassName:"ChartDrawHLineSegment",Create:function(){return new Xi}},{Name:"平行射线",ClassName:"ChartDrawParallelRaysLines",Create:function(){return new Di}},{ClassName:"ChartDrawPictureIconFont",Create:function(){return new bi}},{Name:"涂鸦线段",ClassName:"ChartDrawGraffitiLine",Create:function(){return new ni}},{Name:"固定范围成交量分布图",ClassName:"ChartDrawVolProfile",Create:function(){return new Wi}},{Name:"DisjointChannel",ClassName:"ChartDrawDisjontChannel",Create:function(){return new vi}},{Name:"FlatTop",ClassName:"ChartDrawDisjontChannel",Create:function(){return new Ci}},{Name:"水平线2",ClassName:"ChartDrawHLine",Create:function(){return new hi}},{Name:"Note",ClassName:"ChartDrawNote",Create:function(){return new Ui}},{Name:"AnchoredText",ClassName:"ChartDrawAnchoredText",Create:function(){return new zi}},{Name:"PriceLabel",ClassName:"ChartDrawPriceLabel",Create:function(){return new Ki}},{Name:"PriceNote",ClassName:"ChartDrawPriceNote",Create:function(){return new $i}},{Name:"FibWedge",ClassName:"ChartDrawFibWedge",Create:function(){return new ji}}],ai.MapIonFont=new Mn.default([["icon-arrow_up",{Text:"",Color:"#318757",Family:"iconfont"}],["icon-arrow_down",{Text:"",Color:"#db563e",Family:"iconfont"}],["icon-arrow_right",{Text:"",Color:"#318757",Family:"iconfont"}],["icon-arrow_left",{Text:"",Color:"#318757",Family:"iconfont"}]]),ai.GetDrawPictureByName=function(t){for(var e in ai.ArrayDrawPricture){var i=ai.ArrayDrawPricture[e];if(i.Name==t)return i}return null},ai.GetDrawPictureByClassName=function(t){for(var e in ai.ArrayDrawPricture){var i=ai.ArrayDrawPricture[e];if(i.ClassName==t)return i}return null},ai.RegisterDrawPicture=function(t){if(!t.Name||!t.ClassName||!t.Create)return!1;var e={Name:t.Name,ClassName:t.ClassName,Create:t.Create};return ai.ArrayDrawPricture.push(e),Nn.Chart.Log("[IChartDrawPicture.RegisterDrawPicture] registered new draw picture class. item=",e),!0},ai.RegisterIonFont=function(t){if(!t.Name||!t.Text||!t.Family)return!1;var e=ai.MapIonFont.has(t.Name);return ai.MapIonFont.set(t.Name,t),Nn.Chart.Log("[IChartDrawPicture.RegisterIonFont] registered new icon font, obj=, isOverwirte=",t,e),!0},ai.CreateChartDrawPicture=function(t){var e=ai.GetDrawPictureByClassName(t.ClassName);if(!e)return null;var i=e.Create();return t.Period>=0&&(i.Period=t.Period),t.Right>=0&&(i.Right=t.Right),t.Guid&&(i.Guid=t.Guid),t.Symbol&&(i.Symbol=t.Symbol),t.Value&&(i.Value=t.Value),t.Text&&(i.Text=t.Text),t.LineColor&&(i.LineColor=t.LineColor),t.AreaColor&&(i.AreaColor=t.AreaColor),t.FontOption&&(i.FontOption=t.FontOption),t.Label&&(i.Label=t.Label),t.LineWidth>0&&(i.LineWidth=t.LineWidth),!1===t.EnableMove&&(i.EnableMove=t.EnableMove),Ee.IsBool(t.EnableSave)&&(i.EnableSave=t.EnableSave),Ee.IsNumber(t.ChannelWidth)&&(i.ChannelWidth=t.ChannelWidth),Ee.IsBool(t.IsShowYCoordinate)&&(i.IsShowYCoordinate=t.IsShowYCoordinate),i.SetOption&&i.SetOption(t),i};var lo=new Qi,ho={LANGUAGE_CHINESE_ID:0,LANGUAGE_ENGLISH_ID:1,LANGUAGE_TRADITIONAL_CHINESE_ID:2},uo=new ta;ea.Get=function(t){return new Mn.default([["市场多空",{IsMainIndex:!1,Create:function(){return new Ta}}],["市场择时",{IsMainIndex:!1,Create:function(){return new ya}}],["市场关注度",{IsMainIndex:!1,Create:function(){return new wa}}],["指数热度",{IsMainIndex:!1,Create:function(){return new Ea}}],["财务粉饰",{IsMainIndex:!1,Create:function(){return new La}}],["自定义指数热度",{IsMainIndex:!1,Create:function(){return new Fa},Name:"自定义指数热度"}],["CJL",{IsMainIndex:!1,Create:function(){return new Ia}}],["OX",{IsMainIndex:!1,Create:function(){return new xa}}],["可视范围成交量分布图",{IsMainIndex:!0,Create:function(t){return new ba(t)}}]]).get(t)},ia.EMA=function(t,e){var i=[],a=0;if(a>=t.length)return i;for(;a<t.length&&(null==t[a]||isNaN(t[a]));++a);var r=a,n=a+1;i[r]=t[r];for(var o=a+1;o<t.length;++o,++r,++n)i[n]=(2*t[n]+(e-1)*i[r])/(e+1);return i},ia.SMA=function(t,e,i){for(var a=[],r=0,n=null;r<t.length;++r)if(null!=t[r]&&!isNaN(t[r])){n=t[r],a[r]=n;break}for(++r;r<t.length;++r)a[r]=(i*t[r]+(e-i)*n)/e,n=a[r];return a},ia.DMA=function(t,e){var i=[];if(t.length<0||t.length!=e.length)return i;for(var a=0;a<t.length;++a)if(null!=t[a]&&!isNaN(t[a])&&null!=e[a]&&!isNaN(e[a])){i[a]=t[a];break}for(a+=1;a<t.length;++a)null==t[a]||null==e[a]?i[a]=null:t[a]<1?i[a]=e[a]*t[a]+(1-e[a])*i[a-1]:i[a]=t[a];return i},ia.HHV=function(t,e){var i=[];if(e>t.length)return i;for(var a=-1e4,r=e,n=0;r<t.length;++r,++n){if(r<e+a)a=t[r]<t[a]?a:r;else for(n=1+(a=r-e+1);n<=r;++n)t[n]>t[a]&&(a=n);i[r]=t[a]}return i},ia.LLV=function(t,e){var i=[];if(e>t.length)return i;for(var a=-1e4,r=e;r<t.length;++r,++n){if(r<e+a)a=t[r]>t[a]?a:r;else for(var n=1+(a=r-e+1);n<=r;++n)t[n]<t[a]&&(a=n);i[r]=t[a]}return i},ia.REF=function(t,e){var i=[];if(t.length<=0)return i;if(e>=t.length)return i;i=t.slice(0,t.length-e);for(var a=0;a<e;++a)i.unshift(null);return i},ia.REFDATE=function(t,e){var i=[];if(t.length<=0)return i;e=t.length-1;for(var a in t)i[a]=t[e];return i},ia.SUM=function(t,e){var i=[];if(0==e){i[0]=t[0];for(var a=1;a<t.length;++a)i[a]=i[a-1]+t[a]}else for(var a=e-1,r=0;a<t.length;++a,++r)for(var n=0;n<e;++n)0==n?i[a]=t[n+r]:i[a]+=t[n+r];return i},ia.ARRAY_SUBTRACT=function(t,e){var i=[];if("number"==typeof e)for(var a in t)null==t[a]||isNaN(t[a])?i[a]=null:i[a]=t[a]-e;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?null==t[a]||null==e[a]?i[a]=null:i[a]=t[a]-e[a]:i[a]=null;return i},ia.ARRAY_GT=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]>e?1:0;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?i[a]=t[a]>e[a]?1:0:i[a]=null;return i},ia.ARRAY_GTE=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]>=e?1:0;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?i[a]=t[a]>=e[a]?1:0:i[a]=null;return i},ia.ARRAY_LT=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]<e?1:0;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?i[a]=t[a]<e[a]?1:0:i[a]=null;return i},ia.ARRAY_LTE=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]<=e?1:0;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?i[a]=t[a]<=e[a]?1:0:i[a]=null;return i},ia.ARRAY_EQ=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]==e?1:0;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?i[a]=t[a]==e[a]?1:0:i[a]=null;return i},ia.ARRAY_IF=function(t,e,i){var a=[],r=["number"==typeof e,"number"==typeof i];for(var n in t)t[n]?a[n]=r[0]?e:e[n]:a[n]=r[1]?i:i[n];return a},ia.ARRAY_AND=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]&&e?1:0;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?i[a]=t[a]&&e[a]?1:0:i[a]=0;return i},ia.ARRAY_OR=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]||e?1:0;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&t[a]?i[a]=1:a<e.length&&e[a]?i[a]=1:i[a]=0;return i},ia.ARRAY_MULTIPLY=function(t,e){if(2==arguments.length){var i=[];if("number"==typeof e)for(var a in t)null==t[a]||isNaN(t[a])?i[a]=null:i[a]=t[a]*e;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?i[a]=t[a]*e[a]:i[a]=null;return i}for(var i=ia.ARRAY_MULTIPLY(arguments[0],arguments[1]),a=2;a<arguments.length;++a)i=ia.ARRAY_MULTIPLY(i,arguments[a]);return i},ia.ARRAY_DIVIDE=function(t,e){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]/e;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?null==t[a]||null==e[a]||isNaN(t[a])||isNaN(e[a])?i[a]=null:0==e[a]?i[a]=null:i[a]=t[a]/e[a]:i[a]=null;return i},ia.ARRAY_ADD=function(t,e){if(2==arguments.length){var i=[];if("number"==typeof e)for(var a in t)i[a]=t[a]+e;else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?null==t[a]||null==e[a]||isNaN(t[a])||isNaN(e[a])?i[a]=null:i[a]=t[a]+e[a]:i[a]=null;return i}for(var i=ia.ARRAY_ADD(arguments[0],arguments[1]),a=2;a<arguments.length;++a)i=ia.ARRAY_ADD(i,arguments[a]);return i},ia.MAX=function(t,e){var i=[];if("number"==typeof e)for(var a in t)null==t[a]?i[a]=null:i[a]=Math.max(t[a],e);else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?null==t[a]||null==e[a]?i[a]=null:i[a]=Math.max(t[a],e[a]):i[a]=null;return i},ia.MIN=function(t,e){var i=[];if("number"==typeof e)for(var a in t)null==t[a]?i[a]=null:i[a]=Math.min(t[a],e);else for(var r=Math.max(t.length,e.length),a=0;a<r;++a)a<t.length&&a<e.length?null==t[a]||null==e[a]?i[a]=null:i[a]=Math.min(t[a],e[a]):i[a]=null;return i},ia.ABS=function(t){var e=[];for(var i in t)null==t[i]?e[i]=null:e[i]=Math.abs(t[i]);return e},ia.MA=function(t,e){for(var i=[],a=0,r=t.length;a<r;a++)if(a<e)i[a]=null;else{for(var n=0,o=0;o<e;o++)n+=t[a-o];i[a]=n/e}return i},ia.EXPMA=function(t,e){var i=[];if(e>=t.length)return i;for(var a=e;a<t.length;++a)if(null!=t[a]){i[a]=t[a];break}for(a+=1;a<t.length;++a)null!=i[a-1]&&null!=t[a]?i[a]=(2*t[a]+(e-1)*i[a-1])/(e+1):null!=i[a-1]&&(i[a]=i[a-1]);return i},ia.EXPMEMA=function(t,e){var i=[];if(e>=t.length)return i;for(var a=0;a<t.length&&(!t[a]||isNaN(t[a]));++a);for(var r=0,n=0;a<t.length&&n<e;++n,++a)t[a]&&!isNaN(t[a])?r+=t[a]:r+=t[a-1];for(i[a-1]=r/e;a<t.length;++a)null!=i[a-1]&&null!=t[a]?i[a]=(2*t[a]+(e-1)*i[a-1])/(e+1):null!=i[a-1]&&(i[a]=i[a-1]);return i},ia.STD=function(t,e){for(var i=[],a=0,r=[],n=e-1;n<t.length;++n){a=0;for(var o=0;o<e;++o)a+=t[n-o];r[n]=a/e}for(var n=e-1;n<t.length;++n){a=0;for(var o=0;o<e;++o)a+=Math.pow(t[n-o]-r[n],2);i[n]=Math.sqrt(a/e)}return i},ia.AVEDEV=function(t,e){for(var i=[],a=0,r=[],n=e-1;n<t.length;++n){a=0;for(var o=0;o<e;++o)a+=t[n-o];r[n]=a/e}for(var n=e-1;n<t.length;++n){a=0;for(var o=0;o<e;++o)a+=Math.abs(t[n-o]-r[n]);i[n]=a/e}return i},ia.COUNT=function(t,e){for(var i=[],a=e-1;a<t.length;++a){for(var r=0,n=0;n<e;++n)t[a-n]&&++r;i[a]=r}return i},ia.CROSS=function(t,e){var i=[];if(t.length!=e.length)return i=[];for(var a=0;a<t.length&&(null==t[a]||isNaN(t[a])||null==e[a]||!isNaN(e[a]));++a);for(++a;a<t.length;++a)i[a]=t[a]>e[a]&&t[a-1]<e[a-1]?1:0;return i},ia.MULAR=function(t,e){var i=[];if(t.length<e)return i;for(var a=e;a<t.length;++a)if(null!=t[a]&&!isNaN(t[a])){i[a]=t[a];break}for(++a;a<t.length;++a)i[a]=i[a-1]*t[a];return i},ia.STICKLINE=function(t,e,i){var a=[];if(t.length<=0)return a;var r="number"==typeof e,n="number"==typeof i;for(var o in t)if(a[o]=null,!isNaN(t[o])&&t[o])if(r&&n)a[o]={Value:e,Value2:i};else if(r&&!n){if(isNaN(i[o]))continue;a[o]={Value:e,Value2:i[o]}}else if(!r&&n){if(isNaN(e[o]))continue;a[o]={Value:e[o],Value2:i}}else{if(isNaN(e[o])||isNaN(i[o]))continue;a[o]={Value:e[o],Value2:i[o]}}return a};var co=new aa;sa.JsonDataToHistoryData=function(t){var e=[];if(!t.data)return e;var i=null;t.symbol&&(i=t.symbol.toUpperCase());i&&po.IsFutures(i);for(var a=t.data,r=Gn.KLINE_ORDERFLOW,n=Gn.KLINE_COLOR_DATA,o=Gn.KLINE_HEATMAP,s=Gn.KLINE_DAY_EXTENDDATA,l=0;l<a.length;++l){var h=new U,u=a[l];h.Date=u[0],h.Open=u[2],h.YClose=u[1],h.Close=u[5],h.High=u[3],h.Low=u[4],h.Vol=u[6],h.Amount=u[7],Ee.IsNumber(u[8])&&(h.Position=u[8]),Ee.IsNumber(u[9])&&(h.FClose=u[9]),Ee.IsNumber(u[10])&&(h.YFClose=u[10]),Ee.IsNumber(u[11])&&(h.BFactor=u[11]),Ee.IsNumber(u[12])&&(h.AFactor=u[12]),Ee.IsBool(u[13])&&(h.IsVirtual=u[13]),Ee.IsBool(u[14])&&(h.IsNonTrade=u[14]),(Ee.IsNumber(h.Open)||!0===h.IsVirtual)&&(u[r]&&(h.OrderFlow=u[r]),u[n]&&(h.ColorData=u[n]),u[s]&&(h.ExtendData=u[s]),u[o]&&(h.HeatMap=u[o]),e.push(h))}return e},sa.JsonDataToRealtimeData=function(t,e){if(!t.stock)return null;var i;for(var a in t.stock){var r=t.stock[a];if(r&&r.symbol==e){i=r;break}}if(!i)return null;var n=e.toUpperCase(),o=(po.IsSHSZ(n),new U);return o.Date=i.date,o.Open=i.open,o.YClose=i.yclose,o.High=i.high,o.Low=i.low,o.Vol=i.vol,o.Amount=i.amount,o.Close=i.price,Ee.IsNumber(i.position)&&(o.Position=i.position),Ee.IsNumber(i.yclearing)&&(o.YFClose=i.yclearing),Ee.IsNumber(i.clearing)&&(o.FClose=i.clearing),Ee.IsNumber(i.bfactor)&&(o.BFactor=i.bfactor),Ee.IsNumber(i.afactor)&&(o.AFactor=i.afactor),i.colordata&&(o.ColorData=i.colordata),i.extendData&&(o.ExtendData=i.extendData),i.heatmapData&&(o.HeatMap=i.heatmapData),Ee.IsBool(i.isvirtual)&&(o.IsVirtual=i.isvirtual),Ee.IsBool(i.isnontrade)&&(o.IsNonTrade=i.isnontrade),o},sa.JsonDataToMinuteRealtimeData=function(t,e){if(!t.stock)return null;var i;for(var a in t.stock){var r=t.stock[a];if(r&&r.symbol==e){i=r;break}}if(!i)return null;var n=e.toUpperCase(),o=(po.IsSHSZ(n),po.IsFutures(n)),s=new Array,l=i.yclose,h=i.date;o&&i.yclearing&&(l=i.yclearing);for(var a in i.minute){var u=i.minute[a],c=new U;c.Close=u.price,c.Open=u.open,c.High=u.high,c.Low=u.low,c.Vol=u.vol,c.Amount=u.amount,u.date>0?c.Date=u.date:c.Date=h,c.Time=u.time,c.YClose=l,Ee.IsNumber(u.position)&&(c.Position=u.position),Ee.IsNumber(c.Close)||(c.Close=l,c.Open=c.High=c.Low=c.Close),Ee.IsNumber(c.Open)||(c.Open=null),Ee.IsNumber(c.Close)||(c.Close=null),Ee.IsNumber(c.High)||(c.High=null),Ee.IsNumber(c.Low)||(c.Low=null),Ee.IsNumber(u.price)&&(l=u.price),s[a]=c}return s},sa.JsonDataToMinuteRealtimeDataV2=function(t,e){if(!t||!t.overlay||!e)return null;for(var i=null,a=0;a<t.overlay.length;++a){var r=t.overlay[a];if(r.symbol==e){i=r;break}}if(!i)return null;for(var n=e.toUpperCase(),o=(po.IsSHSZ(n),po.IsFutures(n),Gn.KLINE_ORDERFLOW),s=null,a=0;a<i.data.length;++a){var r=new U,l=i.data[a];r.Date=l[0],r.Open=l[2],r.YClose=l[1],r.Close=l[5],r.High=l[3],r.Low=l[4],r.Vol=l[6],r.Amount=l[7],r.Time=l[8],Ee.IsNumber(l[9])&&(r.Position=l[9]),Ee.IsNumber(r.YClose)||Ee.IsNumber(s)&&(r.YClose=s),Ee.IsNumber(r.Close)&&(s=r.Close),l[o]&&(r.OrderFlow=l[o]),aryMinuteData.push(r)}return aryMinuteData},sa.JsonDataToMinuteHistoryData=function(t){var e=null;t.symbol&&(e=t.symbol.toUpperCase());e&&po.IsSHSZ(e);e&&po.IsFutures(e);for(var i=t.data,a=new Array,r=Gn.KLINE_ORDERFLOW,n=Gn.KLINE_COLOR_DATA,o=Gn.KLINE_HEATMAP,s=Gn.KLINE_MINUTE_EXTENDDATA,l=null,h=0;h<i.length;++h){var u=new U,c=i[h];u.Date=c[0],u.Open=c[2],u.YClose=c[1],u.Close=c[5],u.High=c[3],u.Low=c[4],u.Vol=c[6],u.Amount=c[7],u.Time=c[8],Ee.IsNumber(c[9])&&(u.Position=c[9]),Ee.IsNumber(c[10])&&(u.FClose=c[10]),Ee.IsNumber(c[11])&&(u.YFClose=c[11]),Ee.IsNumber(c[12])&&(u.BFactor=c[12]),Ee.IsNumber(c[13])&&(u.AFactor=c[13]),Ee.IsNumber(u.YClose)||Ee.IsNumber(l)&&(u.YClose=l),Ee.IsNumber(u.Close)&&(l=u.Close),c[r]&&(u.OrderFlow=c[r]),c[n]&&(u.ColorData=c[n]),c[s]&&(u.ExtendData=c[s]),c[o]&&(u.HeatMap=c[o]),a.push(u)}return a},sa.JsonDataToTickData=function(t){var e=[];if(!t.detail)return e;var i=t.date,a=t.yclose;for(var r in t.detail){var n=new U,o=t.detail[r];o&&(n.Date=i,n.Time=o[0],n.Low=n.High=n.Close=n.Open=o[1],n.YClose=a,n.Vol=o[2],n.Amount=o[3],n.Flag=o[4],Ee.IsNumber(n.Open)&&e.push(n))}return e},sa.JsonDataToTickDataV2=function(t){var e=[];if(!Ee.IsNonEmptyArray(t.data))return e;for(var i=0;i<t.data.length;++i){var a=new U,r=t.data[i];r&&(a.Date=r[0],a.Time=r[1],a.YClose=r[2],a.Low=a.High=a.Close=a.Open=r[3],e.push(a),r[4]&&(a.ExtendData=r[4]))}return e},la.JsonDataToBeforeOpenData=function(t){var e=t.stock[0].symbol,i=e.toUpperCase(),a=po.IsSHSZ(i),r=t.stock[0].yclose,n=t.stock[0],o=n.date,s={Data:[],TotalCount:15,Ver:1,Date:o},l=Gn.MINUTE_BEFOREOPEN_EXTENDDATA;if(n.beforeinfo&&(Ee.IsNumber(n.beforeinfo.totalcount)&&(s.TotalCount=n.beforeinfo.totalcount),Ee.IsNumber(n.beforeinfo.ver)&&(s.Ver=n.beforeinfo.ver)),1==s.Ver){if(Ee.IsNonEmptyArray(n.before))for(var h=0;h<n.before.length;++h){var u=new K,c=n.before[h];u.Time=c[0],u.Date=o,u.Price=c[1],u.Price?r=u.Price:u.Price=r,u.Vol[0]=a?c[2]/100:c[2],u.Amount=c[3],Ee.IsNumber(c[4])&&c[4]>19000101&&(u.Date=c[4]),u.DateTime=u.Date+" "+u.Time,s.Data.push(u)}}else if(2==s.Ver){var d=0;for(var h in n.before){var u=new K,c=n.before[h];u.Time=c[0],u.Date=o,u.Price=c[1],u.Vol[0]=c[2],u.Vol[1]=c[3],u.ColorID=c[4],Ee.IsNumber(c[6])&&(u.Date=c[6]),u.DateTime=u.Date+" "+u.Time+")";var f=u.Vol[0]+u.Vol[1];Ee.IsNumber(c[5])&&(f=c[5]),f>d&&(d=f),c[l]&&(u.ExtendData=c[l]),s.Data.push(u)}s.VolMax=d,s.VolMin=0}else if(3==s.Ver){var d=0;for(var h in n.before){var u=new K,c=n.before[h];u.Time=c[0],u.Date=o,u.Price=c[1],u.AvPrice=c[2],u.Vol[0]=c[3],u.ColorID=c[4],u.DateTime=o.toString()+" "+u.Time.toString();var f=u.Vol[0];Ee.IsNumber(c[5])&&(f=c[5]),f>d&&(d=f),c[l]&&(u.ExtendData=c[l]),s.Data.push(u)}s.VolMax=d,s.VolMin=0}return s},la.JsonDataToAfterCloseData=function(t){var e=(t.stock[0].yclose,t.stock[0]),i=e.date;if(!e.afterinfo)return null;var a={Data:[],TotalCount:180,Ver:2,Date:i},r=e.afterinfo;Ee.IsNumber(r.totalcount)&&(a.TotalCount=r.totalcount),Ee.IsNumber(r.ver)&&(a.Ver=r.ver);var n=Gn.MINUTE_AFTERCLOSE_EXTENDDATA;if(1==a.Ver)for(var o=0;o<e.after.length;++o){var r=new $,s=e.after[o];r.Time=s[0],r.Date=i,r.Price=s[1],r.Vol[0]=s[2],r.Amount=s[3],Ee.IsNumber(s[4])&&(r.Date=s[4]),r.DateTime=r.Date+" "+r.Time,a.Data.push(r)}else if(2==a.Ver){var l=0;for(var o in e.after){var r=new $,s=e.after[o];r.Time=s[0],r.Date=i,r.Price=s[1],r.Vol[0]=s[2],r.Vol[1]=s[3],r.ColorID=s[4],r.DateTime=i.toString()+" "+r.Time.toString();var h=r.Vol[0]+r.Vol[1];Ee.IsNumber(s[5])&&(h=s[5]),h>l&&(l=h),s[n]&&(r.ExtendData=s[n]),a.Data.push(r)}a.VolMax=l,a.VolMin=0}else if(3==a.Ver){var l=0;for(var o in e.after){var r=new $,s=e.after[o];r.Time=s[0],r.Date=i,r.Price=s[1],r.AvPrice=s[2],r.Vol[0]=s[3],r.ColorID=s[4],r.DateTime=i.toString()+" "+r.Time.toString();var h=r.Vol[0];Ee.IsNumber(s[5])&&(h=s[5]),h>l&&(l=h),s[n]&&(r.ExtendData=s[n]),a.Data.push(r)}a.VolMax=l,a.VolMin=0}return a},la.JsonDataToMinuteData=function(t,e){var i=t.stock[0].symbol,a=i.toUpperCase(),r=po.IsSHSZ(a),n=po.IsFutures(a),o=po.IsSHO(a),s=po.IsSZO(a),l=[],h=t.stock[0].yclose,u=t.stock[0].yclose,c=t.stock[0].yclose;if(n&&t.stock[0].yclearing&&(c=h=u=t.stock[0].yclearing),!Ee.IsNonEmptyArray(t.stock[0].minute))return l;for(var d=t.stock[0].date,f=0;f<t.stock[0].minute.length;++f){var p=t.stock[0].minute[f],m=new z;m.Close=p.price,m.Open=p.open,m.High=p.high,m.Low=p.low,m.Vol=r?p.vol/100:p.vol,m.Amount=p.amount,p.date>0&&(d=p.date),m.DateTime=d.toString()+" "+p.time.toString(),m.Date=d,m.Time=p.time,n||o||s?m.Position=p.position:Ee.IsNumber(p.position)&&(m.Position=p.position),m.Increase=p.increase,m.Risefall=p.risefall,m.AvPrice=p.avprice,Ee.IsNumber(p.lead)&&(m.Lead=p.lead),Ee.IsNumber(m.Close)||(m.Close=h,m.Open=m.High=m.Low=m.Close),m.AvPrice||(m.AvPrice=u),c&&m.Close&&(m.Increase=(m.Close-c)/c*100);var C=Math.abs(m.AvPrice-m.Close);r&&C>.13*m.Close&&(m.AvPrice=u),Ee.IsNumber(p.price)&&(h=p.price),Ee.IsNumber(p.avprice)&&m.AvPrice===p.avprice&&(u=p.avprice),p.ExtendData&&(m.ExtendData=p.ExtendData),l[f]=m}return l},la.JsonDataToUpdateMinuteData=function(t){if(!t||!t.stock)return null;var e=t.stock[0];if(!Ee.IsNumber(e.date))return null;var i=t.stock[0].symbol,a=i.toUpperCase(),r=po.IsSHSZ(a),n={Date:e.date,Data:[],Symbol:i,Name:e.name},o=Gn.MINUTE_DAY_EXTENDDATA;if(Ee.IsNumber(e.high)&&(n.High=e.high),Ee.IsNumber(e.low)&&(n.Low=e.low),Ee.IsNumber(e.yclose)&&(n.YClose=e.yclose),Ee.IsNumber(e.YClearing)&&(n.YClearing=e.yclearing),Ee.IsNonEmptyArray(t.stock[0].minute))for(var s=0;s<e.minute.length;++s){var l=e.minute[s],h=new z;h.Date=l[0],h.Time=l[1],h.Open=l[2],h.High=l[3],h.Low=l[4],h.Close=l[5],h.AvPrice=l[6],h.Vol=l[7],h.Amount=l[8],Ee.IsNumber(l[9])&&(h.Increase=l[9]),Ee.IsNumber(l[10])&&(h.Risefall=l[10]),Ee.IsNumber(l[11])&&(h.Lead=l[11]),l[o]&&(h.ExtendData=l[o]),h.DateTime=h.Date.toString()+" "+h.Time.toString(),r&&(h.Vol=h.Vol/100),Ee.IsNumber(n.YClose)&&h.Close&&(h.Increase=(h.Close-n.YClose)/n.YClose*100),n.Data.push(h)}return n},la.JsonDataToMinuteLineColorData=function(t){if(!t||!t.stock[0])return null;var e=t.stock[0];if(!e.linecolor||!Ee.IsNonEmptyArray(e.linecolor.data))return null;var i=[];for(var a in e.linecolor.data){var r=e.linecolor.data[a];if(Ee.IsNumber(r.type)&&Ee.IsNumber(r.date)&&Ee.IsNumber(r.start)&&Ee.IsNumber(r.end)&&r.color&&!(r.start>=r.end)){var n={Type:r.type,Date:r.date,Start:r.start,End:r.end,Color:r.color};Ee.IsPlusNumber(r.linewidth)&&(n.LineWidth=r.linewidth),i.push(n)}}return i},la.JsonDataToMinuteLastUpdateTime=function(t){if(!t||!t.stock[0])return null;var e=t.stock[0];return Ee.IsNumber(e.date)&&Ee.IsNumber(e.time)?{Date:e.date,Time:e.time}:null},la.JsonDataToHistoryMinuteLastUpdateTime=function(t){if(!t||!t.updatetime)return null;var e=t.updatetime;return Ee.IsNumber(e.date)&&Ee.IsNumber(e.time)?{Date:e.date,Time:e.time}:null},la.JsonDataToMinuteDataArray=function(t){var e=t.symbol,i=e.toUpperCase(),a=po.IsSHSZ(i),r=po.IsSHO(i),n=po.IsSZO(i),o=po.IsFutures(i),s=[],l=Gn.MINUTE_MULTI_DAY_EXTENDDATA;for(var h in t.data){var u=[],c=t.data[h],d=c.date,f=c.yclose,p=f,m=null,C=c.yclearing;for(var v in c.minute){var D=c.minute[v];D[2]&&(p=D[2]);var g=new z;if(g.Close=D[2],g.Open=D[1],g.High=D[3],g.Low=D[4],g.Vol=a?D[5]/100:D[5],g.Amount=D[6],7<D.length&&D[7]>0&&(g.AvPrice=D[7]),g.DateTime=d.toString()+" "+D[0].toString(),g.Date=d,g.Time=D[0],8<D.length&&D[8]>0&&(g.Date=D[8],g.DateTime=g.Date.toString()+" "+D[0].toString()),(o||r||n)&&9<D.length&&(g.Position=D[9]),Ee.IsNumber(g.Close)||(g.Close=p,g.Open=g.High=g.Low=g.Close),!g.AvPrice&&m&&(g.AvPrice=m),g.Close&&f?g.Increase=(g.Close-f)/f*100:g.Increase=null,g.AvPrice&&a){Math.abs(g.AvPrice-g.Close)>.13*g.Close&&(g.AvPrice=m)}D.length>7&&D[7]>0&&g.AvPrice===D[7]&&(m=D[7]),D[l]&&(g.ExtendData=D[l]),u[v]=g}var S=new Q;S.Data=u,S.YClose=f,S.Close=c.close,S.Date=d,Ee.IsNumber(C)&&(S.YClearing=C),s.push(S)}return s},la.JsonDataToHistoryMinuteLineColorData=function(t){if(!t)return null;var e=[];for(var i in t.data){var a=t.data[i];if(a.linecolor)for(var r in a.linecolor.data){var n=a.linecolor.data[r];if(Ee.IsNumber(n.type)&&Ee.IsNumber(n.date)&&Ee.IsNumber(n.start)&&Ee.IsNumber(n.end)&&n.color&&!(n.start>=n.end)){var o={Type:n.type,Date:n.date,Start:n.start,End:n.end,Color:n.color};Ee.IsPlusNumber(n.linewidth)&&(o.LineWidth=n.linewidth),e.push(o)}}}return e.length>0?e:null},la.JsonDataToCallAuctionItem=function(t,e,i,a){var r=!1;if(a){var n=a.toUpperCase();r=po.IsSHSZ(n)}var o=e.Date,s=i?Gn.MINUTE_BEFOREOPEN_EXTENDDATA:Gn.MINUTE_AFTERCLOSE_EXTENDDATA;if(1==e.Ver){var l=null;for(var h in t){var u=i?new K:new $,c=t[h];u.Time=c[0],u.Date=o,u.Price=c[1],u.Price?l=u.Price:u.Price=l,u.Vol[0]=r?c[2]/100:c[2],u.Amount=c[3],Ee.IsNumber(c[4])&&(u.Date=c[4]),u.DateTime=u.Date+" "+u.Time,e.Data.push(u)}}else if(2==e.Ver){var d=0;for(var h in t){var u=i?new K:new $,c=t[h];u.Time=c[0],u.Date=o,u.Price=c[1],u.Vol[0]=c[2],u.Vol[1]=c[3],u.ColorID=c[4],u.DateTime=o.toString()+" "+u.Time.toString();var f=u.Vol[0]+u.Vol[1];Ee.IsNumber(c[5])&&(f=c[5]),f>d&&(d=f),c[s]&&(u.ExtendData=c[s]),e.Data.push(u)}e.VolMax=d,e.VolMin=0}else if(3==beforeOpenData.Ver){var d=0;for(var h in t){var u=i?new K:new $,c=t[h];u.Time=c[0],u.Date=o,u.Price=c[1],u.AvPrice=c[2],u.Vol[0]=c[3],u.ColorID=c[4],u.DateTime=o.toString()+" "+u.Time.toString();var f=u.Vol[0];Ee.IsNumber(c[5])&&(f=c[5]),f>d&&(d=f),c[s]&&(u.ExtendData=c[s]),e.Data.push(u)}e.VolMax=d,e.VolMin=0}},la.JosnDataToBeforeOpenDataArray=function(t){if(!t||!t.data)return null;var e=[];for(var i in t.data){var a=t.data[i],r={Data:[],TotalCount:15,Ver:1,Date:a.date};a.beforeinfo&&(Ee.IsNumber(a.beforeinfo.totalcount)&&(r.TotalCount=a.beforeinfo.totalcount),Ee.IsNumber(a.beforeinfo.ver)&&(r.Ver=a.beforeinfo.ver)),la.JsonDataToCallAuctionItem(a.before,r,!0,t.symbol),e.push(r)}return e.sort(function(t,e){return t.Date-e.Date}),e},la.JosnDataToAfterCloseDataArray=function(t){if(!t||!t.data)return null;var e=[];for(var i in t.data){var a=t.data[i],r={Data:[],TotalCount:15,Ver:1,Date:a.date};a.afterinfo&&(Ee.IsNumber(a.afterinfo.totalcount)&&(r.TotalCount=a.afterinfo.totalcount),Ee.IsNumber(a.afterinfo.ver)&&(r.Ver=a.afterinfo.ver)),la.JsonDataToCallAuctionItem(a.after,r,!1,t.symbol),e.push(r)}return e.sort(function(t,e){return t.Date-e.Date}),e},ha.JsonDataToMinuteData=function(t){var e=[];for(var i in t.minute.time){var a=new z;t.minute.price[i]<=0&&i>0?(a.Close=e[i-1].Close,a.Open=e[i-1].Close,a.High=a.Close,a.Low=a.Close,a.Vol=t.minute.vol[i],a.Amount=t.minute.amount[i],a.DateTime=t.date.toString()+" "+t.minute.time[i].toString(),a.AvPrice=e[i-1].AvPrice):(a.Close=t.minute.price[i],a.Open=t.minute.open[i],a.High=t.minute.high[i],a.Low=t.minute.low[i],a.Vol=t.minute.vol[i],a.Amount=t.minute.amount[i],a.DateTime=t.date.toString()+" "+t.minute.time[i].toString(),a.AvPrice=t.minute.avprice[i]),a.Open<=0&&(a.Open=null),a.Close<=0&&(a.Close=null),a.AvPrice<=0&&(a.AvPrice=null),a.High<=0&&(a.High=null),a.Low<=0&&(a.Low=null),e[i]=a}return e},Ma.prototype.GetDefaultColor=function(t){var e=["rgb(255,174,0)","rgb(25,199,255)","rgb(175,95,162)","rgb(236,105,65)","rgb(68,114,196)","rgb(229,0,79)","rgb(0,128,255)","rgb(252,96,154)","rgb(42,230,215)","rgb(24,71,178)"];return e[parseInt(t)%(e.length-1)]},Oa.Get=function(t){return new Mn.default([["互动易",{Create:function(){return new _a}}],["公告",{Create:function(){return new Pa}}],["业绩预告",{Create:function(){return new Ra}}],["调研",{Create:function(){return new Ba}}],["大宗交易",{Create:function(){return new ka}}],["龙虎榜",{Create:function(){return new Va}}]]).get(t)},Oa.GetClassInfo=function(t){return new Mn.default([["互动易",{ClassName:"InvestorInfo"}],["公告",{ClassName:"AnnouncementInfo"}],["业绩预告",{ClassName:"PforecastInfo"}],["调研",{ClassName:"ResearchInfo"}],["大宗交易",{ClassName:"BlockTrading"}],["龙虎榜",{ClassName:"TradeDetail"}]]).get(t)},Oa.GetIconUrl=function(t){switch(t){case Xn.INVESTOR:return lo.KLine.Info.Investor.Icon;case Xn.PFORECAST:return lo.KLine.Info.Pforecast.Icon;case Xn.ANNOUNCEMENT:return lo.KLine.Info.Announcement.Icon;case Xn.ANNOUNCEMENT_QUARTER_1:case Xn.ANNOUNCEMENT_QUARTER_2:case Xn.ANNOUNCEMENT_QUARTER_3:case Xn.ANNOUNCEMENT_QUARTER_4:return lo.KLine.Info.Announcement.IconQuarter;case Xn.RESEARCH:return lo.KLine.Info.Research.Icon;case Xn.BLOCKTRADING:return lo.KLine.Info.BlockTrading.Icon;case Xn.TRADEDETAIL:return lo.KLine.Info.TradeDetail.Icon;default:return lo.KLine.Info.Announcement.Icon}},Oa.GetIconLibrary=function(t){var e=lo.KLine.Info.IconLibrary;if(!e||!e.Icon)return lo.KLine.Info.Announcement.IconFont;if(t>=0&&t<e.Icon.length){var i=e.Icon[t];return{Text:i.Text,HScreenText:i.HScreenText,Color:i.Color,Family:e.Family}}return lo.KLine.Info.Announcement.IconFont},Oa.GetIconFont=function(t){if(t>=Xn.ANNOUNCEMENT_EX_START&&t<=Xn.ANNOUNCEMENT_EX_END){var e=t-Xn.ANNOUNCEMENT_EX_START;return Oa.GetIconLibrary(e)}switch(t){case Xn.INVESTOR:return lo.KLine.Info.Investor.IconFont;case Xn.PFORECAST:return lo.KLine.Info.Pforecast.IconFont;case Xn.ANNOUNCEMENT:return lo.KLine.Info.Announcement.IconFont;case Xn.ANNOUNCEMENT_QUARTER_1:case Xn.ANNOUNCEMENT_QUARTER_2:case Xn.ANNOUNCEMENT_QUARTER_3:case Xn.ANNOUNCEMENT_QUARTER_4:return lo.KLine.Info.Announcement.IconFont2;case Xn.RESEARCH:return lo.KLine.Info.Research.IconFont;case Xn.BLOCKTRADING:return lo.KLine.Info.BlockTrading.IconFont;case Xn.TRADEDETAIL:return lo.KLine.Info.TradeDetail.IconFont;default:return lo.KLine.Info.Announcement.IconFont}},Ga.InfoMap=new Mn.default([["大盘异动",{Create:function(){return new Ya}}]]),Ga.Get=function(t){return Ga.InfoMap.get(t)};var fo=new Xa,po={SH:".SH",SZ:".SZ",SHSZ_C_Index:".CI",BJ:".BJ",SHO:".SHO",SZO:".SZO",HK:".HK",FHK:".FHK",SHFE:".SHF",SHFE2:".SHFE",CFFEX:".CFE",DCE:".DCE",CZCE:".CZC",GZFE:".GZFE",USA:".USA",FTSE:".FTSE",BIT:".BIT",BIZ:".BIZ",FOREX:".FOREX",NYMEX:".NYMEX",COMEX:".COMEX",NYBOT:".NYBOT",CBOT:".CBOT",LME:".LME",TOCOM:".TOCOM",IPE:".IPE",TW:".TW",JP:".JP",HSX:".HSX",HNX:".HNX",UPCOM:".UPCOM",ET:".ET",IsET:function(t){return!!t&&t.indexOf(this.ET)>0},IsETShowAvPrice:function(t){return!1},IsHSX:function(t){return!!t&&t.indexOf(this.HSX)>0},IsHNX:function(t){return!!t&&t.indexOf(this.HNX)>0},IsUPCOM:function(t){return!!t&&t.indexOf(this.UPCOM)>0},IsNYMEX:function(t){return!!t&&t.indexOf(this.NYMEX)>0},IsCOMEX:function(t){return!!t&&t.indexOf(this.COMEX)>0},IsNYBOT:function(t){return!!t&&t.indexOf(this.NYBOT)>0},IsCBOT:function(t){return!!t&&t.indexOf(this.CBOT)>0},IsLME:function(t){return!!t&&t.indexOf(this.LME)>0},IsTOCOM:function(t){return!!t&&t.indexOf(this.TOCOM)>0},IsIPE:function(t){return!!t&&t.indexOf(this.IPE)>0},IsForeignExchange:function(t){return!!t&&t.indexOf(this.FOREX)>0},IsFTSE:function(t){return!!t&&t.indexOf(this.FTSE)>0},IsFHK:function(t){return!!t&&t.indexOf(this.FHK)>0},IsBIT:function(t){return!!t&&(t.indexOf(this.BIT)>0||t.indexOf(this.BIZ)>0)},IsUSA:function(t){return!!t&&t.indexOf(this.USA)>0},IsSH:function(t){var e=t.length-this.SH.length;return t.indexOf(this.SH)==e},IsSZ:function(t){var e=t.length-this.SZ.length;return t.indexOf(this.SZ)==e},IsBJ:function(t){var e=t.length-this.BJ.length;return t.indexOf(this.BJ)==e},IsSHSZCustomIndex:function(t){var e=t.length-this.SHSZ_C_Index.length;return t.indexOf(this.SHSZ_C_Index)==e},IsSHO:function(t){var e=t.length-this.SHO.length;return t.indexOf(this.SHO)==e},IsSZO:function(t){var e=t.length-this.SZO.length;return t.indexOf(this.SZO)==e},IsHK:function(t){var e=t.length-this.HK.length;return t.indexOf(this.HK)==e},IsTW:function(t){var e=t.length-this.TW.length;return t.indexOf(this.TW)==e},IsJP:function(t){var e=t.length-this.JP.length;return t.indexOf(this.JP)==e},IsSHFE:function(t){return!!t&&(t.indexOf(this.SHFE)>0||t.indexOf(this.SHFE2)>0)},IsCFFEX:function(t){return!!t&&t.indexOf(this.CFFEX)>0},IsDCE:function(t){return!!t&&t.indexOf(this.DCE)>0},IsCZCE:function(t){return!!t&&t.indexOf(this.CZCE)>0},IsGZFE:function(t){return!!t&&t.indexOf(this.GZFE)>0},IsChinaFutures:function(t){return this.IsSHO(t)||this.IsSZO(t)||this.IsGZFE(t)||this.IsCFFEX(t)||this.IsCZCE(t)||this.IsDCE(t)||this.IsSHFE(t)},IsFutures:function(t){return this.IsChinaFutures(t)||this.IsNYMEX(t)||this.IsCOMEX(t)||this.IsNYBOT(t)||this.IsCBOT(t)||this.IsLME(t)||this.IsTOCOM(t)},IsSHSZ:function(t){return this.IsSZ(t)||this.IsSH(t)||this.IsSHSZCustomIndex(t)},IsSHSZFund:function(t){if(!t)return!1;if(this.IsSH(t)){if("5"==t.charAt(0)&&"1"==t.charAt(1))return!0}else if(this.IsSZ(t)&&"1"==t.charAt(0)&&("5"==t.charAt(1)||"6"==t.charAt(1)||"7"==t.charAt(1)||"8"==t.charAt(1)))return!0;return!1},IsSHSZIndex:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){var i=e.replace(".SH","");if("0"==e.charAt(0)&&parseInt(i)<=3e3)return!0}else if(this.IsSZ(e)){if("3"==e.charAt(0)&&"9"==e.charAt(1))return!0}else if(this.IsSHSZCustomIndex(e))return!0;return!1},IsSHSZStockA:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){e.replace(".SH","");if("6"==e.charAt(0))return!0}else if(this.IsSZ(e))if("0"==e.charAt(0)){if("0"==e.charAt(1)&&"2"==e.charAt(2))return!0;if("7"!=e.charAt(1)&&"8"!=e.charAt(1))return!0}else if("3"==e.charAt(0)&&"0"==e.charAt(1)){if("0"==e.charAt(2))return!0;if("1"==e.charAt(2))return!0}return!1},IsBJStock:function(t){if(!t)return!1;var e=t.toUpperCase();if(!this.IsBJ(e))return!1;var i=e.charAt(0);return"4"==i||"8"==i},IsSHStockSTAR:function(t){if(!t)return!1;var e=t.toUpperCase();return!!this.IsSH(e)&&("6"==e.charAt(0)&&"8"==e.charAt(1)&&"8"==e.charAt(2))},GetMarketStatus:function(t){if(!t)return 0;var e=t.toUpperCase(),i=new Date,a=i.getDay(),r=100*i.getHours()+i.getMinutes();if(this.IsUSA(e)){var n=mr(-4),a=n.getDay(),r=100*n.getHours()+n.getMinutes();return 6==a||0==a?0:r>1730?3:r<930?1:2}return this.IsBIT(e)?2:this.IsForeignExchange(e)?2:this.IsFTSE(e)?6==a||0==a?0:r>=830&&r<=2359?2:r>=0&&r<=500?2:0:this.IsFHK(e)?6==a||0==a?0:r>=900&&r<=2359?2:r>=0&&r<=320?2:0:this.IsET(e)?this.GetETMarketStatus(t):this.IsHK(e)?6==a||0==a?0:r>1630?3:r<925?1:2:this.IsTW(e)?6==a||0==a?0:r>1410?3:r<820?1:2:this.IsJP(e)?6==a||0==a?0:r>1520?3:r<830?1:2:this.IsNYMEX(e)?this.GetNYMEXMarketStatus(e):this.IsCOMEX(e)?this.GetCOMEXMarketStatus(e):this.IsNYBOT(e)?this.GetNYBOTMarketStatus(e):this.IsCBOT(e)?this.GetCBOTMarketStatus(e):this.IsLME(e)?this.GetLMEMarketStatus(e):this.IsTOCOM(e)?this.GetTOCOMMarketStatus(e):this.IsChinaFutures(e)?6==a||0==a?0:this.IsCFFEX(e)?r>1540?3:r<910?1:2:r>=2100?2:r<=240?2:r>=830&&r<=1510?2:1:6==a||0==a?0:r>1540?3:r<910?1:2},GetLimitPriceRange:function(t,e){return this.IsSHSZStockA(t)?this.IsSHStockSTAR(t)?{Max:.2,Min:-.2}:e?e.indexOf("ST")>=0?{Max:.05,Min:-.05}:{Max:.1,Min:-.1}:null:null},GetDefaultDecimal:function(t){return 2},GetFHKDecimal:function(t){return 0},GetFTSEDecimal:function(t){return 0},GetBITDecimal:function(t){return 2},GetSHODecimal:function(t){return 4},GetETDecimal:function(t){return 2},GetHKDecimal:function(t){return 2},GetTWDecimal:function(t){return 2},GetJPDecimal:function(t){return 2},GetHSXDecimal:function(t){return 2},GetHNXDecimal:function(t){return 2},GetUPCOMDecimal:function(t){return 2},GetForeignExchangeDecimal:function(t){return 4},GetNYMEXDecimal:function(t){return Do.GetDecimal(t)},GetCOMEXDecimal:function(t){return go.GetDecimal(t)},GetNYBOTDecimal:function(t){return So.GetDecimal(t)},GetCBOTDecimal:function(t){return xo.GetDecimal(t)},GetLMEDecimal:function(t){return bo.GetDecimal(t)},GetTOCOMDecimal:function(t){return Io.GetDecimal(t)},GetIPEDecimal:function(t){return To.GetDecimal(t)},GetETMarketStatus:function(t){return 2},GetNYMEXMarketStatus:function(t){return Do.GetMarketStatus(t)},GetCOMEXMarketStatus:function(t){return go.GetMarketStatus(t)},GetNYBOTMarketStatus:function(t){return So.GetMarketStatus(t)},GetCBOTMarketStatus:function(t){return xo.GetMarketStatus(t)},GetLMEMarketStatus:function(t){return bo.GetMarketStatus(t)},GetTOCOMMarketStatus:function(t){return Io.GetMarketStatus(t)},GetIPEMarketStatus:function(t){return To.GetMarketStatus(t)},IsShowMinuteVolTitle:function(t){if(!t)return!1;t.toUpperCase();return!1},IsShowMinutePostionLine:function(t){return!!(po.IsFutures(t)||po.IsSHO(t)||po.IsSZO(t))},IsShowMinuteColorVolBar:function(t){return!!lo.Minute.VolBarColor},IsEnableRight:function(t,e,i){return!(!po.IsSHSZStockA(e)&&!po.IsBJStock(e))&&(!Q.IsTickPeriod(t)&&(!!Ee.IsPlusNumber(i)||!Q.IsMinutePeriod(t,!0)))}},mo=new rr,Co=new nr,vo=new or,Do=new sr,go=new lr,So=new hr,xo=new ur,bo=new cr,Io=new dr,To=new fr;if(!Nn)var Nn={Chart:{Log:console.log,Warn:console.warn},Complier:{Log:console.log,Warn:console.warn}};var yo={Domain:"http://127.0.0.1:8080",CacheDomain:"http://127.0.0.1:8087",DrawIcon:{Family:"iconfont",Data:new Mn.default([[1,{Text:"",Color:"rgb(243,28,15)"}],[2,{Text:"",Color:"rgb(87,247,41)"}],[3,{Text:"",Color:"rgb(237,153,0)"}],[4,{Text:"",Color:"rgb(237,153,0)"}],[5,{Text:"",Color:"rgb(237,153,0)"}],[6,{Text:"",Color:"rgb(140,57,208)"}],[7,{Text:"",Color:"rgb(246,135,37)"}],[8,{Text:"",Color:"rgb(85,231,56)"}],[9,{Text:"",Color:"rgb(227,61,41)"}],[10,{Text:"",Color:"rgb(216,78,48)"}],[11,{Text:"",Color:"rgb(249,187,0)"}],[12,{Text:"",Color:"rgb(249,187,0)"}],[13,{Text:"",Color:"rgb(216,42,0)"}],[14,{Text:"",Color:"rgb(58,90,236)"}],[15,{Text:"",Color:"rgb(227,149,0)"}],[16,{Text:"",Color:"rgb(208,82,78)"}],[17,{Text:"",Color:"rgb(234,114,26)"}],[18,{Text:"",Color:"rgb(116,25,255)"}],[19,{Text:"",Color:"rgb(102,9,11)"}],[20,{Text:"",Color:"rgb(127,125,137)"}],[21,{Text:"",Color:"rgb(110,188,255)"}],[22,{Text:"",Color:"rgb(238,79,51)"}],[23,{Text:"",Color:"rgb(244,71,0)"}],[24,{Text:"",Color:"rgb(102,183,248)"}],[25,{Text:"",Color:"rgb(234,88,231)"}],[26,{Text:"",Color:"rgb(242,171,0)"}],[27,{Text:"",Color:"rgb(87,247,168)"}],[28,{Text:"",Color:"rgb(97,204,113)"}],[29,{Text:"",Color:"rgb(84,115,193)"}],[30,{Text:"",Color:"rgb(141,51,255)"}],[31,{Text:"",Color:"rgb(200,126,24)"}],[32,{Text:"",Color:"rgb(195,41,32)"}],[33,{Text:"",Color:"rgb(215,85,194)"}],[34,{Text:"",Color:"rgb(250,222,105)"}],[35,{Text:"",Color:"rgb(112,249,224)"}],[36,{Text:"",Color:"rgb(217,107,98)"}],[37,{Text:"",Color:"rgb(114,231,17)"}],[38,{Text:"",Color:"rgb(238,31,25)"}],[39,{Text:"",Color:"rgb(92,247,113)"}],[40,{Text:"",Color:"rgb(175,175,175)"}],[41,{Text:"",Color:"rgb(252,228,23)"}],[42,{Text:"",Color:"rgb(88,195,235)"}],[43,{Text:"",Color:"rgb(55,74,94)"}],[44,{Text:"",Color:"rgb(248,175,33)"}],[45,{Text:"",Color:"rgb(194,180,112)"}],[46,{Text:"",Color:"rgb(50,153,28)"}],[47,{Text:"",Color:"rgb(17,65,152)"}],[48,{Text:"",Color:"rgb(194,55,26)"}],[49,{Text:"",Color:"rgb(243,0,0)"}]])},CustomDrawIcon:{Data:new Mn.default},CustomFunction:{Data:new Mn.default},CustomVariant:{Data:new Mn.default},GetDrawIcon:function(t){if(yo.CustomDrawIcon.Data.has(t)){var e=yo.CustomDrawIcon.Data.get(t);return e.Symbol?{Symbol:e.Symbol,Color:e.Color,IconFont:!1,ID:t}:{Symbol:e.Text,Color:e.Color,Family:e.Family,IconFont:!0,ID:t}}if(yo.DrawIcon.Data.has(t)){var i=yo.DrawIcon.Data.get(t);return{Symbol:i.Text,Color:i.Color,Family:yo.DrawIcon.Family,IconFont:!0,ID:t}}return null},GetDrawTextIcon:function(t){return new Mn.default([[1,{Symbol:"↑",Color:"rgb(238,44,44)"}],[2,{Symbol:"↓",Color:"rgb(0,139,69)"}],[3,{Symbol:"😧"}],[4,{Symbol:"😨"}],[5,{Symbol:"😁"}],[6,{Symbol:"😱"}],[7,{Symbol:"B",Color:"rgb(238,44,44)"}],[8,{Symbol:"S",Color:"rgb(0,139,69)"}],[9,{Symbol:"💰"}],[10,{Symbol:"📪"}],[11,{Symbol:"👆"}],[12,{Symbol:"👇"}],[13,{Symbol:"B",Color:"rgb(178,34,34)"}],[14,{Symbol:"S",Color:"rgb(0,139,69)"}],[36,{Symbol:"Χ",Color:"rgb(238,44,44)"}],[37,{Symbol:"X",Color:"rgb(0,139,69)"}],[38,{Symbol:"▲",Color:"rgb(238,44,44)"}],[39,{Symbol:"▼",Color:"rgb(0,139,69)"}],[40,{Symbol:"◉",Color:"rgb(238,44,44)"}],[41,{Symbol:"◈",Color:"rgb(238,44,44)"}],[42,{Symbol:"📌"}],[43,{Symbol:"💎"}],[44,{Symbol:"🥇"}],[45,{Symbol:"🥈"}],[46,{Symbol:"🥉"}],[47,{Symbol:"🏅"}]]).get(t)},IsCustomFunction:function(t){return!!yo.CustomFunction.Data.has(t)},IsCustomVariant:function(t){return!!yo.CustomVariant.Data.has(t)}},wo={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"},Eo={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Fo={FromCodePoint:function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10))+String.fromCharCode(56320+(t-65536&1023))},IsWhiteSpace:function(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0},IsLineTerminator:function(t){return 10===t||13===t||8232===t||8233===t},IsIdentifierStart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||12304===t||12305===t||9650===t||9660===t||t>=128&&Eo.NonAsciiIdentifierStart.test(Fo.FromCodePoint(t))},IsIdentifierPart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||35===t||12304===t||12305===t||9650===t||9660===t||t>=128&&Eo.NonAsciiIdentifierPart.test(Fo.FromCodePoint(t))},IsDecimalDigit:function(t){return t>=48&&t<=57},IsHexDigit:function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},isOctalDigit:function(t){return t>=48&&t<=55}},Lo={};Lo[1]="Boolean",Lo[2]="<end>",Lo[3]="Identifier",Lo[4]="Keyword",Lo[5]="Null",Lo[6]="Numeric",Lo[7]="Punctuator",Lo[8]="String",Lo[9]="RegularExpression",Lo[10]="Template",Cr.GetPeriodInfo=function(t){var e=[{Name:"MIN1",Period:4,Order:1},{Name:"MIN5",Period:5,Order:2},{Name:"MIN15",Period:6,Order:3},{Name:"MIN30",Period:7,Order:4},{Name:"MIN60",Period:8,Order:5},{Name:"DAY",Period:0,Order:1e3},{Name:"MULTIDAY",Period:40002,Order:1002},{Name:"DAY2",Period:40002,Order:1002},{Name:"DAY3",Period:40003,Order:1003},{Name:"DAY4",Period:40004,Order:1004},{Name:"DAY5",Period:40005,Order:1005},{Name:"WEEK",Period:1,Order:1005},{Name:"DAY6",Period:40006,Order:1006},{Name:"DAY7",Period:40007,Order:1007},{Name:"DAY8",Period:40008,Order:1008},{Name:"DAY9",Period:40009,Order:1009},{Name:"DAY10",Period:40009,Order:1010},{Name:"WEEK2",Period:21,Order:1010},{Name:"DAY11",Period:40011,Order:1011},{Name:"DAY12",Period:40012,Order:1012},{Name:"DAY13",Period:40013,Order:1013},{Name:"DAY14",Period:40014,Order:1014},{Name:"MONTH",Period:2,Order:1030},{Name:"SEASON",Period:9,Order:1090},{Name:"HALFYEAR",Period:22,Order:1180},{Name:"YEAR",Period:3,Order:1365}];if(t.Name){for(var i in e)if(t.Name&&e[i].Name==t.Name)return e[i];return null}if(Ee.IsNumber(t.PeriodID)){for(var i in e)if(e[i].Period==t.PeriodID)return e[i];return null}return null},Cr.GetConvertValueName=function(t){var e;return"COVER_C"==t?e="CLOSE":"COVER_O"==t?e="OPEN":"COVER_H"==t?e="HIGH":"COVER_L"==t?e="LOW":"COVER_A"==t?e="AMOUNT":"COVER_V"==t&&(e="VOL"),e};var Mo={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};br.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},br.prototype.IsDivideNumber=function(t){return null!=t&&(!isNaN(t)&&0!=t)},br.MOD=function(t,e){if(t<0&&e<0||t>=0&&e>=0){if(parseInt(t)==t&&parseInt(e)==e)return t%e;var i=parseFloat((t-Math.floor(t/e)*e).toFixed(1));return i}var a=Math.abs(t),r=Math.abs(e),i=Math.abs(Math.abs(e)*(Math.floor(a/r)+1)-Math.abs(t));return e<0&&(i=-i),i},Ir.prototype.CalculateDrawLine=function(t){t.List=[];for(var e=t.Start.ID;e<=t.End.ID;++e)t.List.push(e);var i=Math.abs(t.Start.Value-t.End.Value),a=t.List.length-1,r=[];if(r.push({ID:t.Start.ID,Value:t.Start.Value}),t.Start.Value>t.End.Value)for(var n=1;n<t.List.length-1;++n){var o=i*(t.List.length-1-n)/a+t.End.Value;r.push({ID:t.List[n],Value:o})}else for(var s=1;s<t.List.length-1;++s){var o=i*s/a+t.Start.Value;r.push({ID:t.List[s],Value:o})}return r.push({ID:t.End.ID,Value:t.End.Value}),r},Ir.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},Ir.prototype.IsDrawFunction=function(t){return!!new Tn.default(["STICKLINE","DRAWTEXT","SUPERDRAWTEXT","DRAWLINE","DRAWBAND","DRAWKLINE","DRAWKLINE1","DRAWKLINE_IF","DRAWCOLORKLINE","PLOYLINE","POLYLINE","DRAWNUMBER","DRAWNUMBER_FIX","DRAWICON","DRAWCHANNEL","PARTLINE","DRAWTEXT_FIX","DRAWGBK","DRAWTEXT_LINE","DRAWRECTREL","DRAWTEXTABS","DRAWTEXTREL","DRAWOVERLAYLINE","FILLRGN","FILLRGN2","FILLTOPRGN","FILLBOTTOMRGN","FILLVERTICALRGN","FLOATRGN","DRAWSL","DRAWGBK2","DRAWGBK_DIV","VERTLINE","HORLINE","TIPICON"]).has(t)},Ir.prototype.RemoveZero=function(t){for(;t.length>0;){var e=t.length-1,i=t[e];if("0"!=i){if("."==i){t=t.substr(0,e);break}break}t=t.substr(0,e)}return t};var Ao={YCLOSE:3,OPEN:4,HIGH:5,LOW:6,CLOSE:7,VOL:8,AMOUNT:10,AMPLITUDE:13,INCREASE:14,EXCHANGERATE:37};Tr.prototype.IsNumber=function(t){return null!=t&&!isNaN(t)},Tr.prototype.IsDivideNumber=function(t){return null!=t&&(!isNaN(t)&&0!=t)},Tr.prototype.JsonDataToFinance=function(t){for(var e,i=1;i<=4;++i){switch(i){case 1:var a=t.finance1,r=t.announcement1;break;case 2:var a=t.finance2,r=t.announcement2;break;case 3:var a=t.finance3,r=t.announcement3;break;case 4:var a=t.finance4,r=t.announcement4}a&&r&&this.IsNumber(r.year)&&this.IsNumber(r.quarter)&&(e?e.Announcement.year<r.year&&(e={Date:t.date,Finance:a,Announcement:r}):e={Date:t.date,Finance:a,Announcement:r})}return e};var Oo=!1,No={JOB_DOWNLOAD_SYMBOL_DATA:1,JOB_DOWNLOAD_INDEX_DATA:2,JOB_DOWNLOAD_SYMBOL_LATEST_DATA:3,JOB_DOWNLOAD_INDEX_INCREASE_DATA:4,JOB_DOWNLOAD_VOLR_DATA:5,JOB_DOWNLOAD_LATEST_INDEX_DATA:8,JOB_DOWNLOAD_OTHER_SYMBOL_DATA:9,JOB_DOWNLOAD_SYMBOL_PERIOD_DATA:10,JOB_DOWNLOAD_FINVALUE:301,JOB_DOWNLOAD_FINONE:302,JOB_DOWNLOAD_FINANCE:303,JOB_DOWNLOAD_GPJYVALUE:304,JOB_DOWNLOAD_VARIANT:305,JOB_DOWNLOAD_SCJYVALUE:306,JOB_DOWNLOAD_MARGIN_BALANCE:1e3,JOB_DOWNLOAD_MARGIN_RATE:1001,JOB_DOWNLOAD_MARGIN_BUY_BALANCE:1010,JOB_DOWNLOAD_MARGIN_BUY_AMOUNT:1011,JOB_DOWNLOAD_MARGIN_BUY_REPAY:1012,JOB_DOWNLOAD_MARGIN_BUY_NET:1013,JOB_DOWNLOAD_MARGIN_SELL_BALANCE:1020,JOB_DOWNLOAD_MARGIN_SELL_VOLUME:1021,JOB_DOWNLOAD_MARGIN_SELL_REPAY:1022,JOB_DOWNLOAD_MARGIN_SELL_NET:1023,JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE:2e3,JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH:2001,JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT:2002,JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE:2003,JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2:2004,JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER:2005,JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING:2006,JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS:2007,JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS:2008,JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE:2009,JOB_DOWNLOAD_HK_TO_SH:2050,JOB_DOWNLOAD_HK_TO_SZ:2051,JOB_DOWNLOAD_HK_TO_SH_SZ:2052,JOB_DOWNLOAD_HK_TO_SHSZ:2053,JOB_CUSTOM_FUNCTION_DATA:6e3,JOB_CUSTOM_VARIANT_DATA:6001,JOB_DOWNLOAD_SECTION_SF:2e4,JOB_DOWNLOAD_SECTION_F_01:20001,JOB_DOWNLOAD_SECTION_F_02:20002,JOB_DOWNLOAD_SECTION_F_03:20003,JOB_DOWNLOAD_SECTION_F_04:20004,JOB_DOWNLOAD_SECTION_F_05:20005,JOB_DOWNLOAD_SECTION_F_06:20006,JOB_DOWNLOAD_SECTION_F_07:20007,JOB_DOWNLOAD_SECTION_F_08:20008,JOB_DOWNLOAD_SECTION_F_09:20009,JOB_DOWNLOAD_SECTION_F_10:20010,JOB_DOWNLOAD_SECTION_F_11:20011,JOB_DOWNLOAD_SECTION_F_12:20012,JOB_DOWNLOAD_SECTION_F_13:20013,JOB_DOWNLOAD_SECTION_F_14:20014,JOB_DOWNLOAD_SECTION_F_15:20015,JOB_DOWNLOAD_SECTION_F_16:20016,JOB_DOWNLOAD_SECTION_F_17:20017,JOB_DOWNLOAD_SECTION_F_18:20018,JOB_DOWNLOAD_SECTION_F_19:20019,JOB_DOWNLOAD_SECTION_F_20:20020,JOB_DOWNLOAD_SECTION_F_21:20021,JOB_DOWNLOAD_SECTION_F_22:20022,JOB_DOWNLOAD_SECTION_F_23:20023,JOB_DOWNLOAD_SECTION_F_24:20024,JOB_DOWNLOAD_SECTION_F_25:20025,JOB_DOWNLOAD_SECTION_F_26:20026,JOB_DOWNLOAD_SECTION_F_27:20027,JOB_DOWNLOAD_SECTION_F_28:20028,JOB_DOWNLOAD_SECTION_F_29:20029,JOB_DOWNLOAD_SECTION_F_30:20030,JOB_DOWNLOAD_SECTION_F_31:20031,JOB_DOWNLOAD_SECTION_F_32:20032,JOB_DOWNLOAD_SECTION_F_33:20033,JOB_DOWNLOAD_SECTION_F_34:20034,JOB_DOWNLOAD_SECTION_F_35:20035,JOB_DOWNLOAD_SECTION_F_36:20036,JOB_DOWNLOAD_SECTION_F_37:20037,JOB_DOWNLOAD_SECTION_F_38:20038,JOB_DOWNLOAD_SECTION_F_39:20039,JOB_DOWNLOAD_CUSTOM_API_DATA:3e4,JOB_EXECUTE_INDEX:30010,JOB_RUN_SCRIPT:1e4,GetMarginJobID:function(t){var e=new Mn.default([[1,No.JOB_DOWNLOAD_MARGIN_BALANCE],[2,No.JOB_DOWNLOAD_MARGIN_RATE],[3,No.JOB_DOWNLOAD_MARGIN_BUY_BALANCE],[4,No.JOB_DOWNLOAD_MARGIN_BUY_AMOUNT],[5,No.JOB_DOWNLOAD_MARGIN_BUY_REPAY],[6,No.JOB_DOWNLOAD_MARGIN_BUY_NET],[7,No.JOB_DOWNLOAD_MARGIN_SELL_BALANCE],[8,No.JOB_DOWNLOAD_MARGIN_SELL_VOLUME],[9,No.JOB_DOWNLOAD_MARGIN_SELL_REPAY],[10,No.JOB_DOWNLOAD_MARGIN_SELL_NET]]);return e.has(t)?e.get(t):null},GetNewsAnalysisID:function(t){var e=new Mn.default([[1,No.JOB_DOWNLOAD_NEWS_ANALYSIS_NEGATIVE],[2,No.JOB_DOWNLOAD_NEWS_ANALYSIS_RESEARCH],[3,No.JOB_DOWNLOAD_NEWS_ANALYSIS_INTERACT],[4,No.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE],[5,No.JOB_DOWNLOAD_NEWS_ANALYSIS_HOLDERCHANGE2],[6,No.JOB_DOWNLOAD_NEWS_ANALYSIS_TRUSTHOLDER],[7,No.JOB_DOWNLOAD_NEWS_ANALYSIS_BLOCKTRADING],[8,No.JOB_DOWNLOAD_NEWS_ANALYSIS_COMPANYNEWS],[9,No.JOB_DOWNLOAD_NEWS_ANALYSIS_TOPMANAGERS],[10,No.JOB_DOWNLOAD_NEWS_ANALYSIS_PLEDGE]]);return e.has(t)?e.get(t):null},GetSectionFinanceID:function(t){var e=new Mn.default([["流动资产",No.JOB_DOWNLOAD_SECTION_F_01],["货币资金",No.JOB_DOWNLOAD_SECTION_F_02],["存货",No.JOB_DOWNLOAD_SECTION_F_03],["流动负债",No.JOB_DOWNLOAD_SECTION_F_04],["非流动负债",No.JOB_DOWNLOAD_SECTION_F_05],["三项费用",No.JOB_DOWNLOAD_SECTION_F_06],["投资收益",No.JOB_DOWNLOAD_SECTION_F_07],["归母净利润",No.JOB_DOWNLOAD_SECTION_F_08],["扣非净利润",No.JOB_DOWNLOAD_SECTION_F_09],["扣非每股收益",No.JOB_DOWNLOAD_SECTION_F_10],["加权平均净资产收益",No.JOB_DOWNLOAD_SECTION_F_11],["在建工程",No.JOB_DOWNLOAD_SECTION_F_12],["累计折旧",No.JOB_DOWNLOAD_SECTION_F_13],["少数股东利润",No.JOB_DOWNLOAD_SECTION_F_14],["汇兑损益",No.JOB_DOWNLOAD_SECTION_F_15],["坏账计提",No.JOB_DOWNLOAD_SECTION_F_16],["固定资产",No.JOB_DOWNLOAD_SECTION_F_17],["当期折旧",No.JOB_DOWNLOAD_SECTION_F_18],["营业总收入",No.JOB_DOWNLOAD_SECTION_F_19],["主营业务利润",No.JOB_DOWNLOAD_SECTION_F_20],["营业利润",No.JOB_DOWNLOAD_SECTION_F_21],["净利润",No.JOB_DOWNLOAD_SECTION_F_22],["应收账款",No.JOB_DOWNLOAD_SECTION_F_23],["财务费用",No.JOB_DOWNLOAD_SECTION_F_24],["经营性现金流",No.JOB_DOWNLOAD_SECTION_F_25],["资产总计",No.JOB_DOWNLOAD_SECTION_F_26],["负债总计",No.JOB_DOWNLOAD_SECTION_F_27],["所有者权益总计",No.JOB_DOWNLOAD_SECTION_F_28],["毛利率",No.JOB_DOWNLOAD_SECTION_F_29],["每股资本公积金",No.JOB_DOWNLOAD_SECTION_F_30],["每股未分配利润",No.JOB_DOWNLOAD_SECTION_F_31],["每股收益",No.JOB_DOWNLOAD_SECTION_F_32],["每股净资产",No.JOB_DOWNLOAD_SECTION_F_33],["每股经营性现金流",No.JOB_DOWNLOAD_SECTION_F_34],["扣非净利润涨幅",No.JOB_DOWNLOAD_SECTION_F_35],["扣非净利润涨速",No.JOB_DOWNLOAD_SECTION_F_36],["净利润涨幅",No.JOB_DOWNLOAD_SECTION_F_37],["资产负债率",No.JOB_DOWNLOAD_SECTION_F_38],["利润同比",No.JOB_DOWNLOAD_SECTION_F_39]]);return e.has(t)?e.get(t):null},GetSectionReportPeriod:function(t,e){return t>=2e3&&e>=1&&e<=4?{Year:t,Quarter:e}:null}};Er.Tokenize=function(t){Nn.Complier.Log("[JSComplier.Tokenize]",t);var e=new gr(t),i=[];try{for(;;){var a=e.GetNextToken();if(!a)break;i.push(a)}}catch(t){}return i},Er.Parse=function(t){Nn.Complier.Log("[JSComplier.Parse]",t);var e=new xr(t);return e.Initialize(),e.ParseScript()},Er.Execute=function(t,e,i){!function(){try{e.Self&&(e.Self.Status=1),Nn.Complier.Log("[JSComplier.Execute]",t,e),Nn.Complier.Log("[JSComplier.Execute] parser .....");var a=new xr(t);a.Initialize();var r=a.ParseScript(),n=r;Nn.Complier.Log("[JSComplier.Execute] parser finish.",n),e.Self&&(e.Self.Status=2),Nn.Complier.Log("[JSComplier.Execute] execute .....");var o=new yr(n,e);o.ErrorCallback=i,o.JobList=a.Node.GetDataJobList(),"ScriptIndexConsole"!=e.ClassName||e.Data||o.JobList.unshift({ID:No.JOB_DOWNLOAD_SYMBOL_DATA}),o.JobList.push({ID:No.JOB_RUN_SCRIPT}),e.Self&&(e.Self.Status=3);o.Execute()}catch(t){Nn.Complier.Log(t),i&&i(t,e.CallbackParam),e.Self&&(e.Self.Status=0)}}(),Nn.Complier.Log("[JSComplier.Execute] async execute.")},Er.Explain=function(t,e,i){!function(){try{Nn.Complier.Log("[JSComplier.Explain]",t,e),Nn.Complier.Log("[JSComplier.Explain] parser .....");var a=new xr(t);a.Initialize();var r=a.ParseScript(),n=r;Nn.Complier.Log("[JSComplier.Explain] parser finish.",n),Nn.Complier.Log("[JSComplier.Explain] explain .....");var o=new wr(n,e);o.ErrorCallback=i,o.JobList=a.Node.GetDataJobList(),o.JobList.push({ID:No.JOB_RUN_SCRIPT});o.Run()}catch(t){Nn.Complier.Log(t),i&&i(t,e.CallbackParam)}}(),Nn.Complier.Log("[JSComplier.Explain] async explain.")},Er.SetDomain=function(t,e){t&&(yo.Domain=t),e&&(yo.CacheDomain=e)},Er.AddIcon=function(t){yo.CustomDrawIcon.Data.set(t.ID,t)},Er.AddFunction=function(t){if(t&&t.Name){var e=t.Name.toUpperCase();yo.CustomFunction.Data.set(e,t)}},Er.AddVariant=function(t){if(t&&t.Name){var e=t.Name.toUpperCase();yo.CustomVariant.Data.set(e,t)}},Er.ColorVarToRGB=function(t){var e=new Mn.default([["COLORBLACK","rgb(0,0,0)"],["COLORBLUE","rgb(18,95,216)"],["COLORGREEN","rgb(25,158,0)"],["COLORCYAN","rgb(0,255,198)"],["COLORRED","rgb(238,21,21)"],["COLORMAGENTA","rgb(255,0,222)"],["COLORBROWN","rgb(149,94,15)"],["COLORLIGRAY","rgb(218,218,218)"],["COLORGRAY","rgb(133,133,133)"],["COLORLIBLUE","rgb(94,204,255)"],["COLORLIGREEN","rgb(183,255,190)"],["COLORLICYAN","rgb(154,255,242)"],["COLORLIRED","rgb(255,172,172)"],["COLORLIMAGENTA","rgb(255,145,241)"],["COLORWHITE","rgb(255,255,255)"],["COLORYELLOW","rgb(255,198,0)"]]);if(e.has(t))return e.get(t);if(0==t.indexOf("COLOR")){var i=t.substr(5);if(6!=i.length)return null;var a=i.substr(0,2),r=parseInt(a,16);a=i.substr(2,2);var n=parseInt(a,16);a=i.substr(4,2);var o=parseInt(a,16);return"rgb("+o+","+n+","+r+")"}if(0==t.indexOf("RGBX")){var i=t.substr(4);if(6!=i.length)return null;var a=i.substr(0,2),o=parseInt(a,16);a=i.substr(2,2);var n=parseInt(a,16);a=i.substr(4,2);var r=parseInt(a,16);return"rgb("+o+","+n+","+r+")"}return null};var _o={KLINE_ID:0,MINUTE_ID:2,HISTORY_MINUTE_ID:3,MULTIDAY_MINUTE_ID:4},Po={OVERLAY_BARS:"OVERLAY_BARS",KLINE_TABLE:"KLINE_TABLE",SCATTER_PLOT:"SCATTER_PLOT"},Ro=new Fr;Nr.SetDomain=function(t,e){Er.SetDomain(t,e)};var Bo={BLACK_ID:1,WHITE_ID:0};Hr.GetStyleConfig=function(t){switch(t){case Bo.BLACK_ID:return Gr();case Bo.WHITE_ID:return new Qi;default:return null}},Yr.Init=function(t){var e=new Yr(t);return e.OnSize(),e},Xr.JsonDataToDealData=function(t){var e=(t.symbol,[]);if(!Ee.IsNonEmptyArray(t.detail))return e;for(var i=0;i<t.detail.length;++i){var a=t.detail[i],r={Time:a[0],Price:a[1],Vol:a[2],BS:a[4],Amount:a[3]};r.Source=a,a[5]&&(r.StrTime=a[5]),a[6]&&(r.ID=a[6]),e.push(r)}return e};var ko={TIME_ID:0,PRICE_ID:1,VOL_ID:2,DEAL_ID:3,BS_ID:4,UPDOWN_ID:5,STRING_TIME_ID:6,INDEX_ID:7,MULTI_BAR_ID:8,CENTER_BAR_ID:9,CUSTOM_TEXT_ID:10};zr.Init=function(t){var e=new zr(t);return e.OnSize(),e},zr.SetStyle=function(t){t&&lo.SetStyle(t)},zr.GetResource=function(){return lo};var Vo={SYMBOL_ID:0,NAME_ID:1,PRICE_ID:2,VOL_ID:3,INCREASE_ID:4,UPDOWN_ID:5,BUY_PRICE_ID:6,SELL_PRICE_ID:7,AMOUNT_ID:8,BUY_VOL_ID:9,SELL_VOL_ID:10,YCLOSE_ID:11,OPEN_ID:12,HIGH_ID:13,LOW_ID:14,AVERAGE_PRICE_ID:15,INDEX_ID:16,OUTSTANDING_SHARES_ID:17,TOTAL_SHARES_ID:18,CIRC_MARKET_VALUE_ID:19,MARKET_VALUE_ID:20,EXCHANGE_RATE_ID:21,AMPLITUDE_ID:22,LIMIT_HIGH_ID:23,LIMIT_LOW_ID:24,VOL_IN_ID:25,VOL_OUT_ID:26,NAME_EX_ID:27,CLOSE_LINE_ID:28,KLINE_ID:29,SYMBOL_NAME_ID:99,CUSTOM_STRING_TEXT_ID:100,CUSTOM_NUMBER_TEXT_ID:101,CUSTOM_DATETIME_TEXT_ID:102,CUSTOM_ICON_ID:103},Go=new Mn.default([[Vo.SYMBOL_ID,"Symbol"],[Vo.NAME_ID,"Name"],[Vo.PRICE_ID,"Price"],[Vo.INCREASE_ID,"Increase"],[Vo.UPDOWN_ID,"UpDown"],[Vo.VOL_ID,"Vol"],[Vo.BUY_PRICE_ID,"BuyPrice"],[Vo.SELL_PRICE_ID,"SellPrice"],[Vo.AMOUNT_ID,"Amount"],[Vo.BUY_VOL_ID,"BuyVol"],[Vo.SELL_VOL_ID,"SellVol"],[Vo.YCLOSE_ID,"YClose"],[Vo.OPEN_ID,"Open"],[Vo.HIGH_ID,"High"],[Vo.LOW_ID,"Low"],[Vo.AVERAGE_PRICE_ID,"AvPrice"],[Vo.OUTSTANDING_SHARES_ID,"OutShares"],[Vo.TOTAL_SHARES_ID,"TotalShares"],[Vo.CIRC_MARKET_VALUE_ID,"CircMarketValue"],[Vo.MARKET_VALUE_ID,"MarketValue"],[Vo.EXCHANGE_RATE_ID,"Exchange"],[Vo.AMPLITUDE_ID,"Amplitude"],[Vo.LIMIT_HIGH_ID,"LimitHigh"],[Vo.LIMIT_LOW_ID,"LimitLow"],[Vo.VOL_IN_ID,"VolIn"],[Vo.VOL_OUT_ID,"VolOut"],[Vo.NAME_EX_ID,"NameEx"]]);Qr.Init=function(t){var e=new Qr(t);return e.OnSize(),e},Qr.SetStyle=function(t){t&&lo.SetStyle(t)};var Ho={SHORT_SYMBOL_ID:0,SYMBOL_ID:1,NAME_ID:2,TYPE_ID:3};rn.Init=function(t){var e=new rn(t);return e.OnSize(),e},rn.SetStyle=function(t){t&&lo.SetStyle(t)},rn.GetResource=function(){return lo};var Yo="1.1.12395";!function(){var t="*************************************************************************************************************\n*\n*   HQChart                                             Ver: "+Yo+" \n*                             \n*   License: Apache License 2.0                                                                              \n*   Source: https://github.com/jones2000/HQChart\n*\n*************************************************************************************************************\n";console.log(t)}(),e.default=(hn={jsChartInit:l.Init,jsChartStyle:l.SetStyle,JSChart:l,ChartData:Q,SingleData:J,HistoryData:U,MARKET_SUFFIX_NAME:po,IFrameSplitOperator:Ee,FrameSplitKLinePriceY:Fe,FrameSplitKLineX:Me,JSKLineInfoMap:Oa,JSCHART_EVENT_ID:Rn,JSCHART_OPERATOR_ID:Bn,JSCHART_DATA_FIELD_ID:Gn,JSCHART_CUSTOM_YCOORDINATE_ID:io,JSAlgorithm:br,JSComplier:Er,JSIndexScript:s,GetDevicePixelRatio:c},(0,bn.default)(hn,"GetDevicePixelRatio",c),(0,bn.default)(hn,"ScriptIndexConsole",Nr),(0,bn.default)(hn,"STYLE_TYPE_ID",Bo),(0,bn.default)(hn,"HQChartStyle",Hr),(0,bn.default)(hn,"JSConsole",Nn),(0,bn.default)(hn,"KLineTooltipPaint",de),(0,bn.default)(hn,"MinuteTooltipPaint",fe),(0,bn.default)(hn,"ChartDrawTwoPointDemo",Hi),(0,bn.default)(hn,"ChartDrawThreePointDemo",Yi),(0,bn.default)(hn,"CoordinateInfo",T),(0,bn.default)(hn,"JSDealChart",Yr),(0,bn.default)(hn,"DEAL_COLUMN_ID",ko),(0,bn.default)(hn,"JSReportChart",zr),(0,bn.default)(hn,"REPORT_COLUMN_ID",Vo),(0,bn.default)(hn,"JSKeyboardChart",Qr),(0,bn.default)(hn,"KEYBOARD_COLUMN_ID",Ho),(0,bn.default)(hn,"JSScrollBarChart",rn),(0,bn.default)(hn,"IChartPainting",at),(0,bn.default)(hn,"IExtendChartPainting",ce),(0,bn.default)(hn,"IChartTitlePainting",Ze),(0,bn.default)(hn,"IChartDrawPicture",ai),(0,bn.default)(hn,"DynamicTitleData",ei),(0,bn.default)(hn,"CONDITION_PERIOD",_n),(0,bn.default)(hn,"ChartMinuteVolumBar",ht),(0,bn.default)(hn,"ChartKLine",rt),(0,bn.default)(hn,"KLineFrame",P),(0,bn.default)(hn,"JSCHART_WORKER_MESSAGE_ID",Hn),(0,bn.default)(hn,"JS_Frame",{KLineFrame:P,KLineHScreenFrame:B}),(0,bn.default)(hn,"JS_ChangeStringFormat",{IChangeStringFormat:Ve,HQMinuteTimeStringFormat:Ye,HQDateStringFormat:He,HQPriceStringFormat:Ge}),(0,bn.default)(hn,"JS_ID",{JSCHART_EVENT_ID:Rn,JSCHART_OPERATOR_ID:Bn,JSCHART_DRAG_ID:kn,JSCHART_BUTTON_ID:Vn,JSCHART_DATA_FIELD_ID:Gn,JSCHART_WORKER_MESSAGE_ID:Hn}),hn)},function(t,e,i){t.exports={default:i(230),__esModule:!0}},function(t,e,i){i(44),i(23),i(33),i(231),i(235),i(236),t.exports=i(0).Promise},function(t,e,i){"use strict";var a,r,n,o,s=i(29),l=i(4),h=i(14),u=i(74),c=i(2),d=i(11),f=i(25),p=i(72),m=i(35),C=i(114),v=i(115).set,D=i(233)(),g=i(78),S=i(116),x=i(234),b=i(117),I=l.TypeError,T=l.process,y=T&&T.versions,w=y&&y.v8||"",E=l.Promise,F="process"==u(T),L=function(){},M=r=g.f,A=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[i(5)("species")]=function(t){t(L,L)};return(F||"function"==typeof PromiseRejectionEvent)&&t.then(L)instanceof e&&0!==w.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),O=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var i=t._c;D(function(){for(var a=t._v,r=1==t._s,n=0;i.length>n;)!function(e){var i,n,o,s=r?e.ok:e.fail,l=e.resolve,h=e.reject,u=e.domain;try{s?(r||(2==t._h&&R(t),t._h=1),!0===s?i=a:(u&&u.enter(),i=s(a),u&&(u.exit(),o=!0)),i===e.promise?h(I("Promise-chain cycle")):(n=O(i))?n.call(i,l,h):l(i)):h(a)}catch(t){u&&!o&&u.exit(),h(t)}}(i[n++]);t._c=[],t._n=!1,e&&!t._h&&_(t)})}},_=function(t){v.call(l,function(){var e,i,a,r=t._v,n=P(t);if(n&&(e=S(function(){F?T.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(a=l.console)&&a.error&&a.error("Unhandled promise rejection",r)}),t._h=F||P(t)?2:1),t._a=void 0,n&&e.e)throw e.v})},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){v.call(l,function(){var e;F?T.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},B=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},k=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw I("Promise can't be resolved itself");(e=O(t))?D(function(){var a={_w:i,_d:!1};try{e.call(t,h(k,a,1),h(B,a,1))}catch(t){B.call(a,t)}}):(i._v=t,i._s=1,N(i,!1))}catch(t){B.call({_w:i,_d:!1},t)}}};A||(E=function(t){p(this,E,"Promise","_h"),f(t),a.call(this);try{t(h(k,this,1),h(B,this,1))}catch(t){B.call(this,t)}},a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},a.prototype=i(71)(E.prototype,{then:function(t,e){var i=M(C(this,E));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=F?T.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&N(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),n=function(){var t=new a;this.promise=t,this.resolve=h(k,t,1),this.reject=h(B,t,1)},g.f=M=function(t){return t===E||t===o?new n(t):r(t)}),c(c.G+c.W+c.F*!A,{Promise:E}),i(32)(E,"Promise"),i(108)("Promise"),o=i(0).Promise,c(c.S+c.F*!A,"Promise",{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(s||!A),"Promise",{resolve:function(t){return b(s&&this===o?E:this,t)}}),c(c.S+c.F*!(A&&i(118)(function(t){E.all(t).catch(L)})),"Promise",{all:function(t){var e=this,i=M(e),a=i.resolve,r=i.reject,n=S(function(){var i=[],n=0,o=1;m(t,!1,function(t){var s=n++,l=!1;i.push(void 0),o++,e.resolve(t).then(function(t){l||(l=!0,i[s]=t,--o||a(i))},r)}),--o||a(i)});return n.e&&r(n.v),i.promise},race:function(t){var e=this,i=M(e),a=i.reject,r=S(function(){m(t,!1,function(t){e.resolve(t).then(i.resolve,a)})});return r.e&&a(r.v),i.promise}})},function(t,e){t.exports=function(t,e,i){var a=void 0===i;switch(e.length){case 0:return a?t():t.call(i);case 1:return a?t(e[0]):t.call(i,e[0]);case 2:return a?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return a?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return a?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var a=i(4),r=i(115).set,n=a.MutationObserver||a.WebKitMutationObserver,o=a.process,s=a.Promise,l="process"==i(28)(o);t.exports=function(){var t,e,i,h=function(){var a,r;for(l&&(a=o.domain)&&a.exit();t;){r=t.fn,t=t.next;try{r()}catch(a){throw t?i():e=void 0,a}}e=void 0,a&&a.enter()};if(l)i=function(){o.nextTick(h)};else if(!n||a.navigator&&a.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);i=function(){u.then(h)}}else i=function(){r.call(a,h)};else{var c=!0,d=document.createTextNode("");new n(h).observe(d,{characterData:!0}),i=function(){d.data=c=!c}}return function(a){var r={fn:a,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e,i){var a=i(4),r=a.navigator;t.exports=r&&r.userAgent||""},function(t,e,i){"use strict";var a=i(2),r=i(0),n=i(4),o=i(114),s=i(117);a(a.P+a.R,"Promise",{finally:function(t){var e=o(this,r.Promise||n.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){"use strict";var a=i(2),r=i(78),n=i(116);a(a.S,"Promise",{try:function(t){var e=r.f(this),i=n(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){t.exports={default:i(238),__esModule:!0}},function(t,e,i){i(239),t.exports=i(0).Math.log10},function(t,e,i){var a=i(2);a(a.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){t.exports={default:i(241),__esModule:!0}},function(t,e,i){i(242);var a=i(0).Object;t.exports=function(t,e){return a.defineProperties(t,e)}},function(t,e,i){var a=i(2);a(a.S+a.F*!i(7),"Object",{defineProperties:i(94)})},function(t,e,i){t.exports={default:i(244),__esModule:!0}},function(t,e,i){i(245);var a=i(0).Object;t.exports=function(t,e){return a.create(t,e)}},function(t,e,i){var a=i(2);a(a.S,"Object",{create:i(43)})},function(t,e,i){t.exports={default:i(247),__esModule:!0}},function(t,e,i){i(23),i(248),t.exports=i(0).Array.from},function(t,e,i){"use strict";var a=i(14),r=i(2),n=i(22),o=i(106),s=i(107),l=i(40),h=i(249),u=i(73);r(r.S+r.F*!i(118)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,c,d=n(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,C=void 0!==m,v=0,D=u(d);if(C&&(m=a(m,p>2?arguments[2]:void 0,2)),void 0==D||f==Array&&s(D))for(e=l(d.length),i=new f(e);e>v;v++)h(i,v,C?m(d[v],v):d[v]);else for(c=D.call(d),i=new f;!(r=c.next()).done;v++)h(i,v,C?o(c,m,[r.value,v],!0):r.value);return i.length=v,i}})},function(t,e,i){"use strict";var a=i(9),r=i(26);t.exports=function(t,e,i){e in t?a.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){t.exports={default:i(251),__esModule:!0}},function(t,e,i){i(252);var a=i(0).Object;t.exports=function(t,e,i){return a.defineProperty(t,e,i)}},function(t,e,i){var a=i(2);a(a.S+a.F*!i(7),"Object",{defineProperty:i(9).f})},function(t,e,i){i(44),i(23),i(33),i(254),i(255),i(256),i(257),t.exports=i(0).Set},function(t,e,i){"use strict";var a=i(105),r=i(75);t.exports=i(109)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return a.def(r(this,"Set"),t=0===t?0:t,t)}},a)},function(t,e,i){var a=i(2);a(a.P+a.R,"Set",{toJSON:i(110)("Set")})},function(t,e,i){i(111)("Set")},function(t,e,i){i(112)("Set")},function(t,e,i){t.exports={default:i(259),__esModule:!0}},function(t,e,i){var a=i(0),r=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,i){i(33),i(23),t.exports=i(261)},function(t,e,i){var a=i(13),r=i(73);t.exports=i(0).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(){this.Domain="https://opensource.zealink.com",this.CacheDomain="https://opensourcecache.zealink.com"}function n(){this.Stop,this.Down,this.Up,this.Unchanged,this.UpStock={Symbol:null,Name:null},this.DownStock={Symbol:null,Name:null}}function o(){this.Good,this.GoodIncrease={Day1:null,Week1:null,Week4:null}}function s(t,e,i){this.arySymbol=new Array,this.SortField=t,this.Order=e,this.TagID=new G.default([i])}function l(){this.ROE,this.Date,this.PerSEarning,this.EPS,this.PerNetAsset,this.NProfit,this.NProfitIncrease,this.NnetProfit,this.NnProfitIncrease,this.NnProfitSpeed,this.Benford,this.SetData=function(t){isNaN(t.roe)||(this.ROE=t.roe),isNaN(t.finance.date)||(this.Date=t.finance.date),isNaN(t.finance.persearning)||(this.PerSEarning=t.finance.persearning),isNaN(t.finance.eps)||(this.EPS=t.finance.eps),isNaN(t.finance.pernetasset)||(this.PerNetAsset=t.finance.pernetasset),isNaN(t.finance.nprofit)||(this.NProfit=t.finance.nprofit),isNaN(t.finance.nprofitincrease)||(this.NProfitIncrease=t.finance.nprofitincrease),isNaN(t.finance.nnetprofit)||(this.NnetProfit=t.finance.nnetprofit),isNaN(t.finance.nnprofitincrease)||(this.NnProfitIncrease=t.finance.nnprofitincrease),isNaN(t.finance.nnprofitspeed)||(this.NnProfitSpeed=t.finance.nnprofitspeed),isNaN(t.finance.benford)||(this.Benford=t.finance.benford)}}function h(){this.Date,this.A,this.Total,this.ARate,this.SetData=function(t){isNaN(t.capital.date)||(this.Date=t.capital.date),isNaN(t.capital.a)||(this.A=t.capital.a),isNaN(t.capital.total)||(this.Total=t.capital.total),isNaN(t.capital.arate)||(this.ARate=t.capital.arate)}}function u(){this.SuperIn,this.SuperOut,this.BigIn,this.BigOut,this.MidIn,this.MidOut,this.SmallIn,this.SmallOut,this.MainIn,this.MainOut,this.MainNetIn,this.SetData=function(t){this.SuperIn=t.superin,this.SuperOut=t.superout,this.BigIn=t.bigin,this.BigOut=t.bigout,this.MidIn=t.midin,this.MidOut=t.midout,this.SmallIn=t.smallin,this.SmallOut=t.smallout,this.MainIn=t.mainin,this.MainOut=t.mainout,this.MainNetIn=t.mainnetin}}function c(){this.SuperIn,this.SuperOut,this.BigIn,this.BigOut,this.MidIn,this.MidOut,this.SmallIn,this.SmallOut,this.MainIn,this.MainOut,this.MainNetIn,this.MainNetInRatio,this.SetData=function(t){this.SuperIn=t.superin,this.SuperOut=t.superout,this.BigIn=t.bigin,this.BigOut=t.bigout,this.MidIn=t.midin,this.MidOut=t.midout,this.SmallIn=t.smallin,this.SmallOut=t.smallout,this.MainIn=t.mainin,this.MainOut=t.mainout,this.MainNetIn=t.mainnetin,this.MainNetInRatio=t.mainnetinratio}}function d(){this.DDX,this.DDY,this.DDZ,this.SetData=function(t){this.DDX=t.ddx,this.DDY=t.ddy,this.DDZ=t.ddz}}function f(){this.Name,this.Business,this.Vol,this.Price,this.ReleaseDate,this.Competence,this.SetData=function(t){t.company&&(this.Name=t.company.name,this.Business=t.company.business,this.Vol=t.company.vol,this.Price=t.company.price,this.ReleaseDate=t.company.releasedate,this.Competence=t.company.corecompetence)}}function p(){this.Industry,this.Region,this.Concept,this.SetData=function(t){this.SetIndustryData(t),this.SetRegionData(t),this.SetConceptData(t)},this.SetIndustryData=function(t){if(t.industry){this.Industry=[];for(var e in t.industry){var i=t.industry[e];this.Industry.push({Name:i.name,Symbol:i.symbol})}}},this.SetRegionData=function(t){if(t.region){this.Region=[];for(var e in t.region){var i=t.region[e];this.Region.push({Name:i.name,Symbol:i.symbol})}}},this.SetConceptData=function(t){if(t.concept){this.Concept=[];for(var e in t.concept){var i=t.concept[e];this.Concept.push({Name:i.name,Symbol:i.symbol})}}}}function m(){this.IsMargin=!1,this.IsHK=!1,this.IsSHHK=!1,this.IsSZHK=!1,this.STType=0,this.HK,this.SetData=function(t){t.events&&(isNaN(t.events.margin)||(this.IsMargin=1==t.events.margin),isNaN(t.events.hk)||(this.IsHK=1==t.events.hk),isNaN(t.events.shhk)||(this.IsSHHK=1==t.events.shhk),isNaN(t.events.szhk)||(this.IsSZHK=1==t.events.szhk),isNaN(t.events.st)||(this.STType=t.events.st),this.IsHK&&t.events.hksymbol&&t.events.hkname&&(this.HK={Symbol:t.events.hksymbol,Name:t.events.hkname}))}}function C(t){var e=t.toUpperCase();if(e.indexOf(".SH")>0){if(e=e.replace(".SH",""),"0"==e.charAt(0)&&parseInt(e)<=3e3)return!0}else if(e.indexOf(".SZ")>0){if(e=e.replace(".SZ",""),"3"==e.charAt(0)&&"9"==e.charAt(1))return!0}else if(e.indexOf(".CI")>0)return!0;return!1}function v(t){this.Symbol=t,this.Name,this.Open,this.Price,this.High,this.Low,this.YClose,this.Vol,this.Amount,this.Date,this.Time,this.ExchangeRate,this.Amplitude,this.VolRatio,this.Increase,this.MaxPrice,this.MinPrice,this.RFPrice,this.IndexTop,this.Week,this.MinuteAmplitude={},this.RiseFallSpeed={},this.MAmount={},this.GetBaseData=function(t,e){switch(this.BaseDataTagID.add(t),e){case W.SYMBOL:return this.Symbol;case W.NAME:return this.Name;case W.OPEN:return this.Open;case W.PRICE:return this.Price;case W.YCLOSE:return this.YClose;case W.HIGH:return this.High;case W.LOW:return this.Low;case W.VOL:return this.Vol;case W.AMOUNT:return this.Amount;case W.DATE:return this.Date;case W.TIME:return this.Time;case W.INCREASE:return this.Increase;case W.EXCHANGE_RATE:return this.ExchangeRate;case W.AMPLITUDE:return this.Amplitude;case W.MAX_PRICE:return this.MaxPrice;case W.MIN_PRICE:return this.MinPrice;case W.RISE_FALL_PRICE:return this.RFPrice;case W.VOLRATIO:return this.VolRatio;case W.INDEXTOP:return this.IndexTop;case W.WEEK:return this.Week}},this.Heat,this.GetHeatData=function(t){return this.HeatTagID.add(t),this.Heat},this.Sort=new k.default,this.GetSortData=function(t,e,i){var a=e.toString()+"-"+i.toString();if(!this.Sort.has(a)){var r=new s(e,i,t);return this.Sort.set(a,r),r}var r=this.Sort.get(a);return r.TagID.add(t),r},this.Buy5,this.GetBuy5=function(t){return this.BuySellTagID.add(t),this.Buy5},this.Sell5,this.GetSell5=function(t){return this.BuySellTagID.add(t),this.Sell5},this.Deal,this.GetDeal=function(t){return this.DealTagID.add(t),this.Deal},this.MarketValue,this.FlowMarketValue,this.Bookrate,this.Bookdiffer,this.PE,this.PE2,this.PE3,this.PB,this.GetDerivative=function(t,e){switch(this.DerivativeTagID.add(t),e){case W.MARKET_VALUE:return this.MarketValue;case W.FLOW_MARKET_VALUE:return this.FlowMarketValue;case W.BOOK_RATE:return this.Bookrate;case W.BOOK_DIFFER:return this.Bookdiffer;case W.PE:return this.PE;case W.PE2:return this.PE2;case W.PE3:return this.PE3;case W.PB:return this.PB}},this.Finance,this.GetFinance=function(t,e){if(!this.Finance)return this.FinanceTagID.add(t),null;switch(e){case W.ROE:return this.Finance.ROE;case W.FINANCE_DATE:return this.Finance.Date;case W.FINANCE_PERSEARNING:return this.Finance.PerSEarning;case W.FINANCE_PERNETASSET:return this.Finance.PerNetAsset;case W.FINANCE_NPROFIT:return this.Finance.NProfit;case W.FINANCE_NPROFITINCREASE:return this.Finance.NProfitIncrease;case W.FINANCE_NNETPROFIT:return this.Finance.NnetProfit;case W.FINANCE_NNPROFITINCREASE:return this.Finance.NnProfitIncrease;case W.FINANCE_NNPROFITSPEED:return this.Finance.NnProfitSpeed;case W.FINANCE_EPS:return this.Finance.EPS;case W.FINANCE_BENFORD:return this.Finance.Benford}},this.Capital,this.GetCapital=function(t,e){if(!this.Capital)return this.CapitalTagID.add(t),null;switch(e){case W.CAPITAL_TOTAL:return this.Capital.Total;case W.CAPITAL_A:return this.Capital.A;case W.CAPTIAL_ARATE:return this.Capital.ARate}},this.CapitalFlowDay,this.CapitalFlowDay3,this.CapitalFlowDay5,this.CapitalFlowDay10,this.GetCapitalFlowDay=function(t,e){var i=null;switch(e){case W.CAPITAL_FLOW_DAY:this.CapitalFlowDayID.add(t),this.CapitalFlowDay&&(i=this.CapitalFlowDay);break;case W.CAPITAL_FLOW_DAY3:this.CapitalFlowDay3ID.add(t),this.CapitalFlowDay3&&(i=this.CapitalFlowDay3);break;case W.CAPITAL_FLOW_DAY5:this.CapitalFlowDay5ID.add(t),this.CapitalFlowDay5&&(i=this.CapitalFlowDay5);break;case W.CAPITAL_FLOW_DAY10:this.CapitalFlowDay10ID.add(t),this.CapitalFlowDay10&&(i=this.CapitalFlowDay10)}return i},this.DDE,this.DDE3,this.DDE5,this.DDE10,this.GetDDE=function(t,e){var i=null;switch(e){case W.DDE:this.DDEID.add(t),this.DDE&&(i=this.DDE);break;case W.DDE3:this.DDE3ID.add(t),this.DDE3&&(i=this.DDE3);break;case W.DDE5:this.DDE5ID.add(t),this.DDE5&&(i=this.DDE5);break;case W.DDE10:this.DDE10ID.add(t),this.DDE10&&(i=this.DDE10)}return i},this.Event,this.GetEvent=function(t,e){return this.Event?this.Event:(this.EventTagID.add(t),null)},this.Company,this.GetCompany=function(t,e){if(!this.Company)return this.CompanyTagID.add(t),null;switch(e){case W.COMPANY_NAME:return this.Company.Name;case W.COMPANY_BUSINESS:return this.Company.Business;case W.COMPANY_VOL:return this.Company.Vol;case W.COMPANY_PRICE:return this.Company.Price;case W.COMPANY_RELEASEDATE:return this.Company.ReleaseDate;case W.COMPANY_COMPETENCE:return this.Company.Competence}},this.Plate,this.GetPlate=function(t,e){if(!this.Plate)return this.PlateTagID.add(t),null;switch(e){case W.PLATE_INDUSTRY:return this.Plate.Industry;case W.PLATE_CONCEPT:return this.Plate.Concept;case W.PLATE_REGION:return this.Plate.Region}},this.TagID=new G.default,this.BaseDataTagID=new G.default,this.HeatTagID=new G.default,this.BuySellTagID=new G.default,this.DealTagID=new G.default,this.DerivativeTagID=new G.default,this.FinanceTagID=new G.default,this.CapitalTagID=new G.default,this.CapitalFlowDayID=new G.default,this.CapitalFlowDay3ID=new G.default,this.CapitalFlowDay5ID=new G.default,this.CapitalFlowDay10ID=new G.default,this.DDEID=new G.default,this.DDE3ID=new G.default,this.DDE5ID=new G.default,this.DDE10ID=new G.default,this.EventTagID=new G.default,this.CompanyTagID=new G.default,this.PlateTagID=new G.default,this.AttachTagID=function(t){this.TagID.add(t)},this.ClearTagID=function(){this.TagID.clear(),this.BaseDataTagID.clear(),this.HeatTagID.clear(),this.BuySellTagID.clear(),this.DealTagID.clear(),this.DerivativeTagID.clear(),this.FinanceTagID.clear(),this.CapitalTagID.clear(),this.CapitalFlowDayID.clear(),this.CapitalFlowDay3ID.clear(),this.CapitalFlowDay5ID.clear(),this.CapitalFlowDay10ID.clear(),this.DDEID.clear(),this.DDE3ID.clear(),this.DDE5ID.clear(),this.DDE10ID.clear(),this.EventTagID.clear(),this.CompanyTagID.clear();var t=!0,e=!1,i=void 0;try{for(var a,r=(0,R.default)(this.Sort);!(t=(a=r.next()).done);t=!0){a.value[1].TagID.clear()}}catch(t){e=!0,i=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw i}}},this.RemoveTagID=function(t){this.TagID.delete(t),this.BaseDataTagID.delete(t),this.HeatTagID.delete(t),this.BuySellTagID.delete(t),this.DealTagID.delete(t),this.DerivativeTagID.delete(t),this.FinanceTagID.delete(t),this.CapitalTagID.delete(t),this.CapitalFlowDayID.delete(t),this.CapitalFlowDay3ID.delete(t),this.CapitalFlowDay5ID.delete(t),this.CapitalFlowDay10ID.delete(t),this.DDEID.delete(t),this.DDE3ID.delete(t),this.DDE5ID.delete(t),this.DDE10ID.delete(t),this.EventTagID.delete(t),this.CompanyTagID.delete(t);var e=!0,i=!1,a=void 0;try{for(var r,n=(0,R.default)(this.Sort);!(e=(r=n.next()).done);e=!0){r.value[1].TagID.delete(t)}}catch(t){i=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw a}}},this.SetBaseData=function(t){this.Name=t.name,this.YClose=t.yclose,this.Price=t.price,this.High=t.high,this.Low=t.low,this.Open=t.open,this.Vol=t.vol,this.Amount=t.amount,this.Date=t.date,this.Time=t.time,this.Increase=t.increase,isNaN(t.exchangerate)||(this.ExchangeRate=t.exchangerate),isNaN(t.amplitude)||(this.Amplitude=t.amplitude),isNaN(t.volratio)||(this.VolRatio=t.volratio),this.Name.indexOf("ST")>=0?(this.MaxPrice=1.05*this.Open,this.MinPrice=.95*this.Open):(this.MaxPrice=1.1*this.Open,this.MinPrice=.9*this.Open),this.Price&&this.YClose&&(this.RFPrice=this.Price-this.YClose),t.week&&(this.Week={},this.Week.Week1=t.week.week1,this.Week.Week4=t.week.week4,this.Week.Week13=t.week.week13,this.Week.Week26=t.week.week26,this.Week.Week52=t.week.week52)},this.SetDerivativeData=function(t){this.MarketValue=t.marketvalue,this.FlowMarketValue=t.flowmarketvalue,this.Bookrate=t.bookrate,this.Bookdiffer=t.bookdiffer,this.PE=t.pe,this.PE2=t.pe2,this.PE3=t.pe3,this.PB=t.pb},this.SetFinanceData=function(t){console.log(t),t.finance&&(this.Finance=new l,this.Finance.SetData(t))},this.SetCapitalData=function(t){t.capital&&(this.Capital=new h,this.Capital.SetData(t))},this.SetIndexBaseData=function(t){this.SetBaseData(t);var e=new n;t.indextop&&(e.Up=t.indextop.up,e.Down=t.indextop.down,e.Unchanged=t.indextop.unchanged,e.Stop=t.indextop.stop,e.UpStock.Symbol=t.indextop.upstock.symbol,e.UpStock.Name=t.indextop.upstock.name,e.DownStock.Symbol=t.indextop.downstock.symbol,e.DownStock.Name=t.indextop.downstock.name),this.IndexTop=e},this.SetBuySellData=function(t){this.SetBaseData(t),this.Buy5=new Array,this.Sell5=new Array;for(var e in t.buy){var i=t.buy[e];this.Buy5.push({Price:i.price,Vol:i.vol})}for(var e in t.sell){var i=t.sell[e];this.Sell5.push({Price:i.price,Vol:i.vol})}},this.SetDealData=function(t){this.Price=t.price,this.High=t.high,this.Low=t.low,this.Vol=t.vol,this.Amount=t.amount,this.Date=t.date,this.Time=t.time,this.Increase=t.increase,this.Deal=new Array;for(var e in t.deal){var i=t.deal[e];if(!isNaN(i.price)&&!isNaN(i.time)){var a="";0===i.bs?a="B":1===i.bs&&(a="S"),this.Deal.push({Price:i.price,Amount:i.amount,Vol:i.vol,Time:i.time,BS:a})}}},this.SetHeatData=function(t){var e=new o;e.Good=t.quadrant.good,e.GoodIncrease.Day1=t.quadrant.gincrease.day1,e.GoodIncrease.Week1=t.quadrant.gincrease.week1,e.GoodIncrease.Week4=t.quadrant.gincrease.week4,this.Heat=e},this.SetCapitalFlowDayData=function(t,e){if(t)switch(e){case z.CAPITAL_FLOW_DAY_DATA:this.CapitalFlowDay=new u,this.CapitalFlowDay.SetData(t);break;case z.CAPITAL_FLOW_DAY3_DATA:this.CapitalFlowDay3=new c,this.CapitalFlowDay3.SetData(t);break;case z.CAPITAL_FLOW_DAY5_DATA:this.CapitalFlowDay5=new c,this.CapitalFlowDay5.SetData(t);break;case z.CAPITAL_FLOW_DAY10_DATA:this.CapitalFlowDay10=new c,this.CapitalFlowDay10.SetData(t)}},this.SetDDE=function(t,e){if(t){switch(e){case z.DDE_DAY_DATA:this.DDE=new d,this.DDE.SetData(t);break;case z.DDE_DAY3_DATA:this.DDE3=new d,this.DDE3.SetData(t);break;case z.DDE_DAY5_DATA:this.DDE5=new d,this.DDE5.SetData(t);break;case z.DDE_DAY10_DATA:this.DDE10=new d,this.DDE10.SetData(t)}return t}},this.SetEventData=function(t){t.events&&(this.Event=new m,this.Event.SetData(t))},this.SetCompanyData=function(t){t.company&&(this.Company=new f,this.Company.SetData(t))},this.SetPlateData=function(t){(t.industry||t.region||t.concept)&&(this.Plate=new p,this.Plate.SetData(t))},this.SetData=function(t){t.name&&(this.Name=t.name),isNaN(t.yclose)||(this.YClose=t.yclose),isNaN(t.price)||(this.Price=t.price),isNaN(t.high)||(this.High=t.high),isNaN(t.low)||(this.Low=t.low),isNaN(t.vol)||(this.Vol=t.vol),isNaN(t.amount)||(this.Amount=t.amount),isNaN(t.date)||(this.Date=t.date),isNaN(t.time)||(this.Time=t.time),isNaN(t.increase)||(this.Increase=t.increase),isNaN(t.marketvalue)||(this.MarketValue=t.marketvalue),isNaN(t.flowmarketvalue)||(this.FlowMarketValue=t.flowmarketvalue),isNaN(t.bookrate)||(this.Bookrate=t.bookrate),isNaN(t.bookdiffer)||(this.Bookdiffer=t.bookdiffer),isNaN(t.pe)||(this.PE=t.pe),isNaN(t.pb)||(this.PB=t.pb),t.finance&&this.SetFinanceData(t),t.finance&&this.SetFinanceDetailData(t),t.capital&&this.SetCapitalData(t),t.mamplitude&&(isNaN(t.mamplitude[1])||(this.MinuteAmplitude.M1=t.mamplitude[1]),isNaN(t.mamplitude[3])||(this.MinuteAmplitude.M3=t.mamplitude[3]),isNaN(t.mamplitude[5])||(this.MinuteAmplitude.M5=t.mamplitude[5]),isNaN(t.mamplitude[10])||(this.MinuteAmplitude.M10=t.mamplitude[10]),isNaN(t.mamplitude[15])||(this.MinuteAmplitude.M15=t.mamplitude[15])),t.risefallspeed&&(isNaN(t.risefallspeed[1])||(this.RiseFallSpeed.M1=t.risefallspeed[1]),isNaN(t.risefallspeed[3])||(this.RiseFallSpeed.M3=t.risefallspeed[3]),isNaN(t.risefallspeed[5])||(this.RiseFallSpeed.M5=t.risefallspeed[5]),isNaN(t.risefallspeed[10])||(this.RiseFallSpeed.M10=t.risefallspeed[10]),isNaN(t.risefallspeed[15])||(this.RiseFallSpeed.M15=t.risefallspeed[15])),t.mamount&&(isNaN(t.mamount[1])||(this.MAmount.M1=t.mamount[1]),isNaN(t.mamount[3])||(this.MAmount.M5=t.mamount[3]),isNaN(t.mamount[5])||(this.MAmount.M5=t.mamount[5]),isNaN(t.mamount[10])||(this.MAmount.M10=t.mamount[10]),isNaN(t.mamount[15])||(this.MAmount.M15=t.mamount[15]))}}function D(t,e){this.JSStock=t,this.TagID=e,this.Get=function(e,i){var a=t.Get(e,this.TagID);if(!a)return null;switch(i){case W.SYMBOL:case W.NAME:case W.OPEN:case W.PRICE:case W.YCLOSE:case W.HIGH:case W.LOW:case W.VOL:case W.AMOUNT:case W.DATE:case W.TIME:case W.INCREASE:case W.EXCHANGE_RATE:case W.AMPLITUDE:case W.MAX_PRICE:case W.MIN_PRICE:case W.RISE_FALL_PRICE:case W.INDEXTOP:case W.WEEK:case W.VOLRATIO:return a.GetBaseData(this.TagID,i);case W.HEAT:return a.GetHeatData(this.TagID);case W.BUY5:return a.GetBuy5(this.TagID);case W.SELL5:return a.GetSell5(this.TagID);case W.DEAL:return a.GetDeal(this.TagID);case W.MARKET_VALUE:case W.FLOW_MARKET_VALUE:case W.BOOK_RATE:case W.BOOK_DIFFER:case W.PE:case W.PE2:case W.PE3:case W.PB:return a.GetDerivative(this.TagID,i);case W.ROE:case W.FINANCE_DATE:case W.FINANCE_PERSEARNING:case W.FINANCE_PERNETASSET:case W.FINANCE_NPROFIT:case W.FINANCE_NPROFITINCREASE:case W.FINANCE_NNETPROFIT:case W.FINANCE_NNPROFITINCREASE:case W.FINANCE_NNPROFITSPEED:case W.FINANCE_EPS:case W.FINANCE_BENFORD:return a.GetFinance(this.TagID,i);case W.PLATE_INDUSTRY:case W.PLATE_CONCEPT:case W.PLATE_REGION:return a.GetPlate(this.TagID,i);case W.CAPITAL_FLOW_DAY:case W.CAPITAL_FLOW_DAY3:case W.CAPITAL_FLOW_DAY5:case W.CAPITAL_FLOW_DAY10:return a.GetCapitalFlowDay(this.TagID,i);case W.DDE:case W.DDE3:case W.DDE5:case W.DDE10:return a.GetDDE(this.TagID,i);case W.EVENTS:return a.GetEvent(this.TagID,i);case W.COMPANY_NAME:case W.COMPANY_BUSINESS:case W.COMPANY_VOL:case W.COMPANY_PRICE:case W.COMPANY_RELEASEDATE:case W.COMPANY_COMPETENCE:return a.GetCompany(this.TagID,i);case W.CAPITAL_A:case W.CAPTIAL_ARATE:case W.CAPITAL_TOTAL:return a.GetCapital(this.TagID,i);default:return null}},this.GetSort=function(e,i,a){var r=t.Get(e,this.TagID);return null==r?r:r.GetSortData(this.TagID,i,a)},this.EndRead=function(t){1==t&&this.JSStock.ReqeustData()},this.SetQueryField=function(t,e){for(var i in e)this.Get(t,e[i])}}function g(){this.Symbol,this.Callback,this.Order=-1,this.SortField,this.Field,this.Plate,this.Data=new k.default,this.ApiUrl=X.Domain+"/API/StockHistoryDay",this.PageSize=20,this.PageIndex=1,this.Count,this.currentData=null,this.RequsetData=function(t,e){var i=this,a="string"==typeof i.Symbol?[this.Symbol]:this.Symbol,r=a?a.length:0;this.Plate?this.currentData={plate:this.Plate,symbol:a,start:0,end:this.PageSize,field:this.Field,orderfield:this.SortField,order:this.Order,condition:t.GetQuery(),condition2:e?e.GetQuery():[]}:this.currentData={symbol:a,start:0,end:r,field:this.Field,orderfield:this.SortField,order:this.Order,condition:t.GetQuery(),condition2:e?e.GetQuery():[]},Y.default.ajax({url:this.ApiUrl,data:i.currentData,method:"POST",dataType:"json",success:function(e){i.Count=e.data.count,i.RecvData(e,t)},fail:function(e){i.RecvError(e,t)}})},this.GetNextPage=function(){var t=this;this.PageSize*this.PageIndex<this.Count?(this.currentData.start=this.PageSize*this.PageIndex,this.PageIndex++,this.currentData.end=this.PageSize*this.PageIndex,Y.default.ajax({url:this.ApiUrl,data:t.currentData,method:"POST",dataType:"json",success:function(e){t.RecvData(e)},fail:function(e){t.RecvError(e)}})):alert("数据已全部加载")},this.RecvData=function(t,e){var i=t.data;for(var a in i.stock){var r=i.stock[a],n=r.symbol,o={};this.Data.has(n)?o=this.Data.get(n):(o={Symbol:r.symbol,Name:r.name,Data:new k.default},this.Data.set(n,o)),this.SetStockData(r,o)}this.Callback&&this.Callback(this,e)},this.SetStockData=function(t,e){for(var i in t.stockday){var a=t.stockday[i],r=a.date,n=new k.default;this.SetFinanceData(a,n),this.SetBlocktradingData(a,n),this.SetChangesData(a,n),this.SetLiftingData(a,n),this.SetPforecastData(a,n),this.SetShortIndicatorsData(a,n),e.Data.set(r,n)}return e},this.SetFinanceData=function(t,e){var i=t.finance1;i&&(isNaN(i.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NPROFITINCREASE,i.nprofitincrease),isNaN(i.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NNPROFITINCREASE,i.nnprofitincrease),isNaN(i.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NNPROFITSPEED,i.nnprofitspeed),isNaN(i.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_BENFORD,i.benford));var a=t.announcement1;a&&(isNaN(a.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_YEAR,a.year),isNaN(a.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_QUARTER,a.quarter));var i=t.finance2;i&&(isNaN(i.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NPROFITINCREASE,i.nprofitincrease),isNaN(i.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NNPROFITINCREASE,i.nnprofitincrease),isNaN(i.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NNPROFITSPEED,i.nnprofitspeed),isNaN(i.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_BENFORD,i.benford));var a=t.announcement2;a&&(isNaN(a.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_YEAR,a.year),isNaN(a.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_QUARTER,a.quarter));var i=t.finance3;i&&(isNaN(i.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NPROFITINCREASE,i.nprofitincrease),isNaN(i.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NNPROFITINCREASE,i.nnprofitincrease),isNaN(i.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NNPROFITSPEED,i.nnprofitspeed),isNaN(i.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_BENFORD,i.benford));var a=t.announcement3;a&&(isNaN(a.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_YEAR,a.year),isNaN(a.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_QUARTER,a.quarter));var i=t.finance4;i&&(isNaN(i.nprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NPROFITINCREASE,i.nprofitincrease),isNaN(i.nnprofitincrease)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NNPROFITINCREASE,i.nnprofitincrease),isNaN(i.nnprofitspeed)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NNPROFITSPEED,i.nnprofitspeed),isNaN(i.benford)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_BENFORD,i.benford));var a=t.announcement4;a&&(isNaN(a.year)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_YEAR,a.year),isNaN(a.quarter)||e.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_QUARTER,a.quarter))},this.SetBlocktradingData=function(t,e){var i=t.blocktrading;i&&e.set(STOCK_HISTORY_FIELD_NAME.BLOCK_TRADING,{Premium:i.premium,Price:i.price,Vol:i.vol,Amount:i.amount})},this.SetChangesData=function(t,e){var i=t.changes;i&&e.set(STOCK_HISTORY_FIELD_NAME.HOLDERS_CHANGES,{List:i.list})},this.SetLiftingData=function(t,e){var i=t.lifting;i&&e.set(STOCK_HISTORY_FIELD_NAME.LIFTING,{Lifting:i})},this.SetPforecastData=function(t,e){var i=t.pforecast;i&&e.set(STOCK_HISTORY_FIELD_NAME.PFORECAST,{Lowprofit:i[0].lowprofit,Highprofit:i[0].highprofit,Lowchange:i[0].lowchange,Highchange:i[0].highchange,Reportdate:i[0].reportdate})},this.SetShortIndicatorsData=function(t,e){var i=t.policy;if(i){var a=["三只乌鸦","乌云盖顶","黄昏之星","巨量阴线","头肩顶","射击之星","倾盆大雨","断头铡刀","淡友反攻","空方炮","连续1周空头排列"],r=0,n=[],o=0,s="";i.forEach(function(t){a.some(function(e){return e===t.name})&&(r++,n.push(t.time))}),r?(o=Math.max.apply(n,n),s=i.find(function(t){return t.time===o}).name):s="",console.log(s,r,"latestName-targetedCount"),e.set(STOCK_HISTORY_FIELD_NAME.SHORTIND_ICATORS,{latestIndicatorName:s,indicatorCount:r})}},this.RecvError=function(t,e){},this.CreateCondition=function(t){return new QueryCondition(t)}}function S(){this.MapStock=new k.default,this.MapTagCallback=new k.default,this.RequestVersion=new Array([100,100,100]),this.RealtimeApiUrl=X.Domain+"/API/Stock",this.PlateQuadrantApiUrl=X.Domain+"/API/StockPlateQuadrant",this.IsAutoUpdate=!0,this.AutoUpateTimeout=15e3,this.Timeout,this.NetworkFilter,this.GetStockRead=function(t,e){var i=!0,a=!1,r=void 0;try{for(var n,o=(0,R.default)(this.MapStock);!(i=(n=o.next()).done);i=!0){n.value[1].RemoveTagID(t)}}catch(t){a=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}return this.MapTagCallback.set(t,e),new D(this,t)},this.Unsubscribe=function(t){var e=!0,i=!1,a=void 0;try{for(var r,n=(0,R.default)(this.MapStock);!(e=(r=n.next()).done);e=!0){r.value[1].RemoveTagID(t)}}catch(t){i=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw a}}},this.UnsubscribeStock=function(t,e){var i=!0,a=!1,r=void 0;try{for(var n,o=(0,R.default)(this.MapStock);!(i=(n=o.next()).done);i=!0){var s=n.value;if(s[0]===t){e?s[1].RemoveTagID(e):s[1].ClearTagID(),console.log("[JSStock::UnsubscribeStock] symbol="+t+", tagID="+e);break}}}catch(t){a=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}},this.Get=function(t,e){this.MapStock.has(t)||this.MapStock.set(t,new v(t));var i=this.MapStock.get(t);return e&&i.AttachTagID(e),i},this.RequestData=function(){this.ClearTimer();var t=new Array,e=new Array,i=new Array,a=new Array,r=new Array,n=new Array,o=new Array,s=[],l=[],h=[],u=[],c=[],d=[],f=[],p=[],m=new Array,v=new Array,D=new Array,g=new Array,S=!0,x=!1,b=void 0;try{for(var I,T=(0,R.default)(this.MapStock);!(S=(I=T.next()).done);S=!0){var y=I.value,w=y[1],E=y[0];w.BaseDataTagID.size>0&&(C(E)?e.push(E):t.push(E)),w.BuySellTagID.size>0&&a.push(E),w.CapitalFlowDayID.size>0&&s.push(E),w.CapitalFlowDay3ID.size>0&&l.push(E),w.CapitalFlowDay5ID.size>0&&h.push(E),w.CapitalFlowDay10ID.size>0&&u.push(E),w.DDEID.size>0&&c.push(E),w.DDE3ID.size>0&&d.push(E),w.DDE5ID.size>0&&f.push(E),w.DDE10ID.size>0&&p.push(E),w.HeatTagID.size>0&&i.push(E),w.DealTagID.size>0&&r.push(E),w.DerivativeTagID.size>0&&n.push(E),w.FinanceTagID.size>0&&o.push(E),w.CapitalTagID.size>0&&g.push(E),null==w.Event&&w.EventTagID.size>0&&m.push(E),null==w.Company&&w.CompanyTagID.size>0&&v.push(E),null==y[1].Plate&&y[1].PlateTagID.size>0&&D.push(y[0])}}catch(t){x=!0,b=t}finally{try{!S&&T.return&&T.return()}finally{if(x)throw b}}a.length>0&&this.RequestBuySellData(a),t.length>0&&this.RequestBaseData(t),e.length>0&&this.RequestIndexBaseData(e),i.length>0&&this.RequestIndexHeatData(i),r.length>0&&this.RequestDealData(r),n.length>0&&this.RequestDerivativeData(n),o.length>0&&this.RequestFinanceData(o),g.length>0&&this.RequestCapitalData(g),s.length>0&&this.RequestSubDocumentData(s,"flowday"),l.length>0&&this.RequestSubDocumentData(l,"flowday3"),h.length>0&&this.RequestSubDocumentData(h,"flowday5"),u.length>0&&this.RequestSubDocumentData(u,"flowday10"),c.length>0&&this.RequestSubDocumentData(c,"dde"),d.length>0&&this.RequestSubDocumentData(d,"dde3"),f.length>0&&this.RequestSubDocumentData(f,"dde5"),p.length>0&&this.RequestSubDocumentData(p,"dde10"),m.length>0&&this.RequestEventData(m),v.length>0&&this.RequestCompanyData(v),D.length>0&&this.RequestPlateData(D),this.ReqeustAllSortData()},this.ReqeustData=this.RequestData,this.RequestBaseData=function(t){var e=this,i=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","increase","exchangerate","amplitude","volratio"];if(this.NetworkFilter){var a={Name:"JSStock::RequestBaseData",Explain:"股票基础数据",ID:z.BASE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,z.BASE_DATA)}),1==a.PreventDefault)return}Y.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,z.BASE_DATA)},error:function(t){e.RecvError(t,z.BASE_DATA)}})},this.RequestDerivativeData=function(t){var e=this,i=["name","symbol","marketvalue","flowmarketvalue","pe","pe2","pe3","pb","bookrate","bookdiffer"];if(this.NetworkFilter){var a={Name:"JSStock::RequestDerivativeData",Explain:"实时衍生数据",ID:z.DERIVATIVE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,z.DERIVATIVE_DATA)}),1==a.PreventDefault)return}Y.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,z.DERIVATIVE_DATA)},error:function(t){e.RecvError(t,z.DERIVATIVE_DATA)}})},this.RequestFinanceData=function(t){var e=this,i=["name","symbol","roe","finance"];if(this.NetworkFilter){var a={Name:"JSStock::RequestFinanceData",Explain:"财务数据",ID:z.FINANCE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,z.FINANCE_DATA)}),1==a.PreventDefault)return}Y.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,z.FINANCE_DATA)},error:function(t){e.RecvError(t,z.FINANCE_DATA)}})},this.RequestCapitalData=function(t){var e=this,i=["name","symbol","capital"];if(this.NetworkFilter){var a={Name:"JSStock::RequestCapitalData",Explain:"股本数据",ID:z.CAPITAL_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,z.CAPITAL_DATA)}),1==a.PreventDefault)return}Y.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,z.CAPITAL_DATA)},error:function(t){e.RecvError(t,z.CAPITAL_DATA)}})},this.RequestBuySellData=function(t){var e=this,i=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","increase","buy","sell","exchangerate","amplitude"];if(this.NetworkFilter){var a={Name:"JSStock::RequestBuySellData",Explain:"买卖盘数据",ID:z.BUY_SELL_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,z.BUY_SELL_DATA)}),1==a.PreventDefault)return}Y.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,z.BUY_SELL_DATA)},error:function(t){e.RecvError(t,z.BUY_SELL_DATA)}})},this.RequestDealData=function(t){var e=this,i=["name","symbol","price","high","low","vol","amount","date","time","increase","deal"];if(this.NetworkFilter){var a={Name:"JSStock::RequestDealData",Explain:"分笔数据",ID:z.DEAL_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,z.DEAL_DATA)}),1==a.PreventDefault)return}Y.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,z.DEAL_DATA)},error:function(t){e.RecvError(t,z.DEAL_DATA)}})},this.RequestIndexBaseData=function(t){var e=this,i=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","indextop","increase"];if(this.NetworkFilter){var a={Name:"JSStock::RequestIndexBaseData",Explain:"指数基础数据(包含上涨下跌家数)",ID:z.INDEX_BASE_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:i,symbol:t},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(a,function(t){e.RecvData(t,z.INDEX_BASE_DATA)}),1==a.PreventDefault)return}Y.default.ajax({url:this.RealtimeApiUrl,data:{field:i,symbol:t},type:"post",dataType:"json",async:!0,success:function(t){console.log(t),e.RecvData(t,z.INDEX_BASE_DATA)},error:function(t){e.RecvError(t,z.INDEX_BASE_DATA)}})},this.RequestIndexHeatData=function(t){var e=this;Y.default.ajax({url:this.PlateQuadrantApiUrl,data:{plate:t},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,z.HEAT_DATA)},error:function(t){e.RecvError(t,z.HEAT_DATA)}})},this.ReqeustAllSortData=function(){var t=new Array,e=!0,i=!1,a=void 0;try{for(var r,n=(0,R.default)(this.MapStock);!(e=(r=n.next()).done);e=!0){var o=r.value;if(C(o[0])&&!(null==o[1].Sort||o[1].Sort.size<=0)){var s=!0,l=!1,h=void 0;try{for(var u,c=(0,R.default)(o[1].Sort);!(s=(u=c.next()).done);s=!0){var d=u.value,f=d[1],p={Plate:o[0],SortField:f.SortField,Order:f.Order,TagID:f.TagID};t.push(p)}}catch(t){l=!0,h=t}finally{try{!s&&c.return&&c.return()}finally{if(l)throw h}}}}}catch(t){i=!0,a=t}finally{try{!e&&n.return&&n.return()}finally{if(i)throw a}}for(var m in t){var d=t[m];this.ReqeustSortData(d)}},this.ReqeustSortData=function(t){var e=this,i=t,a="";switch(i.SortField){case W.INCREASE:a="increase";break;case W.PRICE:a="price";break;default:return}var r=["name","symbol","yclose","open","price","high","low","vol","amount","date","time","week","increase","exchangerate"];if(this.NetworkFilter){var n={Name:"JSStock::ReqeustSortData",Explain:"板块排序数据",ID:z.SORT_DATA,Request:{Url:e.RealtimeApiUrl,Data:{field:r,plate:[t.Plate],orderfield:a,order:t.Order,ordernull:1,filterstop:1},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(n,function(t){e.RecvData(t,z.SORT_DATA,i)}),1==n.PreventDefault)return}Y.default.ajax({url:this.RealtimeApiUrl,data:{field:r,plate:[t.Plate],orderfield:a,order:t.Order,ordernull:1,filterstop:1},type:"post",dataType:"json",async:!0,success:function(t){e.RecvData(t,z.SORT_DATA,i)},error:function(t){e.RecvError(t,z.SORT_DATA,i)}})},this.RequestSubDocumentData=function(t,e){var i=this,a=new k.default([["flowday",{Field:"flowday",RecvID:z.CAPITAL_FLOW_DAY_DATA}],["flowday3",{Field:"flowday3",RecvID:z.CAPITAL_FLOW_DAY3_DATA}],["flowday5",{Field:"flowday5",RecvID:z.CAPITAL_FLOW_DAY5_DATA}],["flowday10",{Field:"flowday10",RecvID:z.CAPITAL_FLOW_DAY10_DATA}],["dde",{Field:"dde",RecvID:z.DDE_DAY_DATA}],["dde3",{Field:"dde3",RecvID:z.DDE_DAY3_DATA}],["dde5",{Field:"dde5",RecvID:z.DDE_DAY5_DATA}],["dde10",{Field:"dde10",RecvID:z.DDE_DAY10_DATA}]]);if(a.has(e)){var r=a.get(e);if(this.NetworkFilter){var n={Name:"JSStock::RequestSubDocumentData",Explain:"子文档数据",ID:r.RecvID,Request:{Url:i.RealtimeApiUrl,Data:{field:["symbol",r.Field],symbol:t,start:0,end:50},Type:"POST"},Self:this,PreventDefault:!1};if(this.NetworkFilter(n,function(t){i.RecvData(t,r.RecvID)}),1==n.PreventDefault)return}Y.default.ajax({url:this.RealtimeApiUrl,data:{field:["symbol",r.Field],symbol:t,start:0,end:50},type:"post",dataType:"json",success:function(t){i.RecvData(t,r.RecvID)},error:function(t){i.RecvError(t,r.RecvID)}})}},this.RequestEventData=function(t){var e=this;Y.default.ajax({url:this.RealtimeApiUrl,data:{field:["symbol","events.margin","events.shhk","events.hk","events.st","events.hksymbol","events.hkname","events.szhk"],symbol:t,start:0,end:50},type:"POST",dataType:"json",success:function(t){e.RecvData(t,z.EVENT_DATA)},error:function(t){e.RecvError(t,z.EVENT_DATA)}})},this.RequestCompanyData=function(t){var e=this;Y.default.ajax({url:this.RealtimeApiUrl,data:{field:["name","symbol","company"],symbol:t,start:0,end:50},type:"POST",dataType:"json",success:function(t){e.RecvData(t,z.COMPANY_DATA)},error:function(t){e.RecvError(t,z.COMPANY_DATA)}})},this.RequestPlateData=function(t){var e=this;Y.default.ajax({url:this.RealtimeApiUrl,data:{field:["name","symbol","industry","region","concept"],symbol:t,start:0,end:50},type:"POST",dataType:"json",success:function(t){e.RecvData(t,z.PLATE_DATA)},error:function(t){e.RecvError(t,z.PLATE_DATA)}})},this.RecvError=function(t,e,i){console.log("RecvError: datatype="+e.toString()),console.log(t);var a=this;this.Timeout&&clearTimeout(this.Timeout),this.Timeout=setTimeout(function(){a.ReqeustData()},2*this.AutoUpateTimeout)},this.RecvData=function(t,e,i){var a;switch(e){case z.BASE_DATA:case z.INDEX_BASE_DATA:a=this.RecvBaseData(t,e);break;case z.HEAT_DATA:a=this.RecvHeatData(t,e);break;case z.SORT_DATA:a=this.RecvSortData(t,e,i);break;case z.BUY_SELL_DATA:a=this.RecvBuySellData(t,e);break;case z.DEAL_DATA:a=this.RecvDealData(t,e);break;case z.DERIVATIVE_DATA:a=this.RecvDerivativeData(t,e);break;case z.FINANCE_DATA:a=this.RecvFinanceData(t,e);break;case z.CAPITAL_DATA:a=this.RecvCapitalData(t,e);break;case z.CAPITAL_FLOW_DAY_DATA:case z.CAPITAL_FLOW_DAY3_DATA:case z.CAPITAL_FLOW_DAY5_DATA:case z.CAPITAL_FLOW_DAY10_DATA:case z.DDE_DAY_DATA:case z.DDE_DAY3_DATA:case z.DDE_DAY5_DATA:case z.DDE_DAY10_DATA:a=this.RecvSubDocumentData(t,e);break;case z.EVENT_DATA:a=this.RecvEventData(t,e);break;case z.COMPANY_DATA:a=this.RecvCompanyData(t,e);break;case z.PLATE_DATA:a=this.RecvPlateData(t,e)}var r=!0,n=!1,o=void 0;try{for(var s,l=(0,R.default)(a);!(r=(s=l.next()).done);r=!0){var h=s.value;this.MapTagCallback.has(h[0])&&this.MapTagCallback.get(h[0])(h[0],h[1],e,this)}}catch(t){n=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(n)throw o}}this.AutoUpdate()},this.ClearTimer=function(){this.Timeout&&(clearTimeout(this.Timeout),this.Timeout=null)},this.AutoUpdate=function(){if(this.ClearTimer(),this.IsAutoUpdate){var t=this,e=!1,i=!0,a=!1,r=void 0;try{for(var n,o=(0,R.default)(this.MapStock);!(i=(n=o.next()).done);i=!0){var s=n.value,l=K.GetMarketStatus(s[0]);if(2==l)return void(this.Timeout=setTimeout(function(){t.ReqeustData()},this.AutoUpateTimeout));1==l&&(e=!0)}}catch(t){a=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}e&&(this.Timeout=setTimeout(function(){t.AutoUpdate()},this.AutoUpateTimeout))}},this.RecvBaseData=function(t,e){var i=new k.default;for(var a in t.stock){var r=t.stock[a],n=this.MapStock.get(r.symbol);if(n){switch(e){case z.BASE_DATA:n.SetBaseData(r);break;case z.INDEX_BASE_DATA:n.SetIndexBaseData(r);break;default:continue}if(n.TagID.size>0){var o=!0,s=!1,l=void 0;try{for(var h,u=(0,R.default)(n.TagID);!(o=(h=u.next()).done);o=!0){var c=h.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}}return i},this.RecvBuySellData=function(t,e){var i=new k.default;for(var a in t.stock){var r=t.stock[a],n=this.MapStock.get(r.symbol);if(n){if(n.SetBuySellData(r),n.TagID.size>0){var o=!0,s=!1,l=void 0;try{for(var h,u=(0,R.default)(n.TagID);!(o=(h=u.next()).done);o=!0){var c=h.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}if(n.BuySellTagID.size>0){var d=!0,f=!1,p=void 0;try{for(var m,C=(0,R.default)(n.BuySellTagID);!(d=(m=C.next()).done);d=!0){var c=m.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){f=!0,p=t}finally{try{!d&&C.return&&C.return()}finally{if(f)throw p}}}}}return i},this.RecvDerivativeData=function(t,e){var i=new k.default;for(var a in t.stock){var r=t.stock[a],n=this.MapStock.get(r.symbol);if(n&&(n.SetDerivativeData(r),n.DerivativeTagID.size>0)){var o=!0,s=!1,l=void 0;try{for(var h,u=(0,R.default)(n.DerivativeTagID);!(o=(h=u.next()).done);o=!0){var c=h.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}return i},this.RecvFinanceData=function(t,e){var i=new k.default;for(var a in t.stock){var r=t.stock[a],n=this.MapStock.get(r.symbol);if(n&&(n.SetFinanceData(r),n.FinanceTagID.size>0)){var o=!0,s=!1,l=void 0;try{for(var h,u=(0,R.default)(n.FinanceTagID);!(o=(h=u.next()).done);o=!0){var c=h.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}return i},this.RecvCapitalData=function(t,e){var i=new k.default;for(var a in t.stock){var r=t.stock[a],n=this.MapStock.get(r.symbol);if(n&&(n.SetCapitalData(r),n.CapitalTagID.size>0)){var o=!0,s=!1,l=void 0;try{for(var h,u=(0,R.default)(n.CapitalTagID);!(o=(h=u.next()).done);o=!0){var c=h.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}return i},this.RecvDealData=function(t,e){var i=new k.default;for(var a in t.stock){var r=t.stock[a],n=this.MapStock.get(r.symbol);if(n&&(n.SetDealData(r),n.DealTagID.size>0)){var o=!0,s=!1,l=void 0;try{for(var h,u=(0,R.default)(n.DealTagID);!(o=(h=u.next()).done);o=!0){var c=h.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}return i},this.RecvHeatData=function(t,e){var i=new k.default;for(var a in t.data){var r=t.data[a],n=this.MapStock.get(r.symbol);if(n&&(n.SetHeatData(r),n.HeatTagID.size>0)){var o=!0,s=!1,l=void 0;try{for(var h,u=(0,R.default)(n.HeatTagID);!(o=(h=u.next()).done);o=!0){var c=h.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}return i},this.RecvSortData=function(t,e,i){var a=new k.default,r=new Array,n=this.MapStock.get(i.Plate);for(var o in t.stock){var s=t.stock[o];if(r.push(s.symbol),this.MapStock.has(s.symbol)){var l=this.MapStock.get(s.symbol);l.SetBaseData(s)}else{var l=new v(s.symbol);l.SetBaseData(s),this.MapStock.set(s.symbol,l)}}var h=i.SortField.toString()+"-"+i.Order.toString();if(!n.Sort.has(h))return a;n.Sort.get(h).arySymbol=r;var u=!0,c=!1,d=void 0;try{for(var f,p=(0,R.default)(i.TagID);!(u=(f=p.next()).done);u=!0){var s=f.value;a.set(s,new Array([n.Symbol]))}}catch(t){c=!0,d=t}finally{try{!u&&p.return&&p.return()}finally{if(c)throw d}}return a},this.RecvSubDocumentData=function(t,e){var i=new k.default;for(var a in t.stock){var r=t.stock[a],n=this.MapStock.get(r.symbol);if(n){var o=null;switch(e){case z.CAPITAL_FLOW_DAY_DATA:n.SetCapitalFlowDayData(r.flowday,e),o=n.CapitalFlowDayID;break;case z.CAPITAL_FLOW_DAY3_DATA:n.SetCapitalFlowDayData(r.flowday3,e),o=n.CapitalFlowDay3ID;break;case z.CAPITAL_FLOW_DAY5_DATA:n.SetCapitalFlowDayData(r.flowday5,e),o=n.CapitalFlowDay5ID;break;case z.CAPITAL_FLOW_DAY10_DATA:n.SetCapitalFlowDayData(r.flowday10,e),o=n.CapitalFlowDay10ID;break;case z.DDE_DAY_DATA:n.SetDDE(r.dde,e),o=n.DDEID;break;case z.DDE_DAY3_DATA:n.SetDDE(r.dde3,e),o=n.DDE3ID;break;case z.DDE_DAY5_DATA:n.SetDDE(r.dde5,e),o=n.DDE5ID;break;case z.DDE_DAY10_DATA:n.SetDDE(r.dde10,e),o=n.DDE10ID}if(o&&o.size>0){var s=!0,l=!1,h=void 0;try{for(var u,c=(0,R.default)(o);!(s=(u=c.next()).done);s=!0){var d=u.value;i.has(d)?i.get(d).push(n.Symbol):i.set(d,new Array(n.Symbol))}}catch(t){l=!0,h=t}finally{try{!s&&c.return&&c.return()}finally{if(l)throw h}}}}}return i},this.RecvEventData=function(t,e){var i=new k.default;for(var a in t.stock){var r=t.stock[a],n=this.MapStock.get(r.symbol);if(n&&(n.SetEventData(r),n.EventTagID.size>0)){var o=!0,s=!1,l=void 0;try{for(var h,u=(0,R.default)(n.EventTagID);!(o=(h=u.next()).done);o=!0){var c=h.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}return i},this.RecvCompanyData=function(t,e){var i=new k.default;for(var a in t.stock){var r=t.stock[a],n=this.MapStock.get(r.symbol);if(n&&(n.SetCompanyData(r),n.CompanyTagID.size>0)){var o=!0,s=!1,l=void 0;try{for(var h,u=(0,R.default)(n.CompanyTagID);!(o=(h=u.next()).done);o=!0){var c=h.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}return i},this.RecvPlateData=function(t,e){var i=new k.default;for(var a in t.stock){var r=t.stock[a],n=this.MapStock.get(r.symbol);if(n&&(n.SetPlateData(r),n.PlateTagID.size>0)){var o=!0,s=!1,l=void 0;try{for(var h,u=(0,R.default)(n.PlateTagID);!(o=(h=u.next()).done);o=!0){var c=h.value;i.has(c)?i.get(c).push(n.Symbol):i.set(c,new Array(n.Symbol))}}catch(t){s=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}}}return i}}function x(t){this.SearchStockApiUrl=X.Domain+"/API/StockSpell",this.UpdateUICallback=t,this.PageSize=50,this.Count,this.EndOffset,this.Data=new Array,this.SearchString="",this.SearchType=0,this.Search=function(t,e){if(this.SearchString==t&&this.SearchType==e)"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this);else{this.SearchString=t,this.SearchType=e,this.Count=0,this.EndOffset=0,this.Data=[];var i=this.PageSize-1;this.ReqeustSearchStock(this.SearchString,this.SearchType,this.EndOffset,i)}},this.IsEndPage=function(){return this.Count<=0||this.EndOffset>this.Count-1},this.NextPage=function(){if(!(this.EndOffset+1>this.Count)){var t=this.EndOffset+this.PageSize;this.ReqeustSearchStock(this.SearchString,this.SearchType,this.EndOffset,t)}},this.ReqeustSearchStock=function(t,e,i,a){var r=this;Y.default.ajax({url:this.SearchStockApiUrl,data:{input:t,start:i,end:a,type:e},type:"post",dataType:"json",async:!0,success:function(t){r.RecvSearchStockData(t,z.SEARCH_STOCK_DATA)},error:function(t){r.RecvError(t,z.SEARCH_STOCK_DATA)}})},this.RecvSearchStockData=function(t){for(var e in t.stock){var i=t.stock[e];this.Data.push({Name:i.name,Symbol:i.symbol,Type:i.type})}0==t.count?(this.Count=0,this.EndOffset=0):(0==this.Count&&(this.Count=t.count),this.EndOffset=t.end,this.Count>0&&this.EndOffset>this.Count&&(this.EndOffset=this.Count-1)),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this)},this.RecvError=function(t,e){console.log("[SearchStock::RecvError] datatype="+e.toString()),console.log(t),"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this,"error")}}function b(){this.IsAutoUpdate=!0,this.AutoUpateTimeout=5e3,this.Timeout,this.ApiUrl,this.Data,this.Error,this.UpdateUICallback,this.RequestData=function(){},this.Stop=function(){this.IsAutoUpdate=!1,this.Timeout&&clearTimeout(this.Timeout)},this.AutoUpate=function(){if(this.Timeout&&clearTimeout(this.Timeout),this.IsAutoUpdate&&(this.Timeout&&clearTimeout(this.Timeout),this.IsAutoUpdate)){var t=this;if(this.Symbol){var e=K.GetMarketStatus(this.Symbol);2==e?this.Timeout=setTimeout(function(){t.RequestData()},this.AutoUpateTimeout):1==e&&(this.Timeout=setTimeout(function(){t.AutoUpdate()},this.AutoUpateTimeout))}else{var t=this,i=new Date,a=100*i.getHours()+i.getMinutes();i.getDay()>0&&i.getDay()<6&&a>=930&&a<1530&&(this.Timeout=setTimeout(function(){t.RequestData()},this.AutoUpateTimeout))}}},this.InvokeUpdateUICallback=function(){this.UpdateUICallback&&this.UpdateUICallback(this)}}function I(t){this.newMethod=b,this.newMethod(),delete this.newMethod,this.Symbol=t,this.ApiUrl=X.Domain+"/API/StockShortTerm",this.Count=20,this.RequestData=function(){var t=this,e={count:this.Count};this.Symbol&&(e.symbol=this.Symbol),Y.default.ajax({url:this.ApiUrl,data:e,type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e,z.SHORT_TERM_DATA)},fail:function(e){t.RecvError(e,z.SHORT_TERM_DATA)}})},this.RecvData=function(t,e){this.Data=[];for(var i in t.shortterm){var a=t.shortterm[i];this.Data.push({Date:a.date,Name:a.name,Symbol:a.symbol,Time:a.time,Content:a.content,TypeInfo:a.typeinfo,Type:a.type})}this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()},this.RecvError=function(t,e){}}function T(t){this.newMethod=b,this.newMethod(),delete this.newMethod,this.Symbol=t,this.Date,this.RequestData=function(){this.Data=null,this.Error=null;var t=this,e=X.CacheDomain+"/cache/dealday/day/"+this.Date+"/"+this.Symbol+".json";console.log("[DealDay::RequestData] cache url ",e),Y.default.ajax({url:e,type:"get",dataType:"json",async:!0,success:function(e){t.RecvData(e,z.DEAL_DAY_DATA)},error:function(e){t.RecvError(e,z.DEAL_DAY_DATA)}})},this.RecvData=function(t,e){if(!t.day||!t.deal)return void this.InvokeUpdateUICallback();var i=t.deal.amount,a=t.deal.price,r=t.deal.time,n=t.deal.vol,o=t.deal.flag;if(!(o&&n&&r&&a&&i))return void this.InvokeUpdateUICallback();for(var s={Date:t.date,Open:t.day.open,Close:t.day.price,YClose:t.day.yclose,Symbol:t.symbol,Name:t.name,Deal:[],PriceList:[]},l=new k.default,h=0,u=Math.min(r.length,n.length,o.length,a.length,i.length),c=0;c<u;++c){var d={Time:r[c],Vol:n[c],Flag:"",Price:a[c],Amount:i[c]};0===o[c]?d.Flag="B":1===o[c]&&(d.Flag="S"),d.Time>15e4&&(d.Time=15e4),s.Deal.push(d);var f;l.has(d.Price)?(f=l.get(d.Price),f.Vol+=d.Vol):(f={Vol:d.Vol,Price:d.Price,BuyVol:0,SellVol:0,NoneVol:0},l.set(d.Price,f)),0===o[c]?f.BuyVol+=d.Vol:1===o[c]?f.SellVol+=d.Vol:f.NoneVol+=d.Vol,h+=d.Vol}var p=!0,m=!1,C=void 0;try{for(var v,D=(0,R.default)(l);!(p=(v=D.next()).done);p=!0){var g=v.value,S=g[1];h>0&&(S.Proportion=S.Vol/h),s.PriceList.push(S)}}catch(t){m=!0,C=t}finally{try{!p&&D.return&&D.return()}finally{if(m)throw C}}s.PriceList.sort(function(t,e){return e.Price-t.Price}),this.Data=s,this.InvokeUpdateUICallback()},this.RecvError=function(t,e){console.log("[DealDay::RecvError] status="+t.status+" statusText="+t.statusText+" responseText="+t.responseText),this.Error={Status:t.status,Message:t.responseText},this.InvokeUpdateUICallback()}}function y(t){this.newMethod=b,this.newMethod(),delete this.newMethod,this.ApiUrl=X.Domain+"/API/StockBlockMember",this.PageSize=10,this.Start=0,this.OrderField,this.Order,this.Symbol=t,this.OrderNull=0,this.Field=new Array,this.Data=new Array,this.PageInfo,this.SetField=function(t){this.Field=new Array;for(var e in t){var i=t[e],a=U.GetFieldName(i);null!=a&&this.Field.push(a)}return this.Field.length>0},this.SetOrder=function(t,e){this.Order=null,this.OrderField=null;var i=U.GetFieldName(t);return null!=i&&(this.OrderField=i,this.Order=e,!0)},this.RequestData=function(){this.Data=[];var t=this;Y.default.ajax({url:this.ApiUrl,data:{symbol:this.Symbol,field:this.Field,order:this.Order,orderfield:this.OrderField,start:this.Start,end:this.Start+this.PageSize,ordernull:this.OrderNull},type:"post",dataType:"json",success:function(e){t.RecvData(e,z.BLOCK_MEMBER_DATA)},error:function(e){t.RecvError(e,z.BLOCK_MEMBER_DATA)}})},this.RecvData=function(t,e){for(var i in t.stock){var a=t.stock[i];if(null!=a.symbol){var r=new v(a.symbol);r.SetData(a),this.Data.push(r)}}this.PageInfo={Count:t.count,Start:t.start,End:t.end},"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()},this.RecvError=function(t,e){}}function w(){this.newMethod=b,this.newMethod(),delete this.newMethod,this.BlockType=1,this.Count=20,this.OrderField="increase",this.Order=-1,this.Field=["symbol","price","name","vol","increase","indextop","risefall"],this.ApiUrl=X.Domain+"/API/StockBlockTop",this.SetField=function(t){},this.ReqeustData=function(){var t=this;Y.default.ajax({url:this.ApiUrl,data:{blocktype:this.BlockType,start:0,end:this.Count,field:this.Field,orderfield:this.OrderField,order:this.Order},type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e,z.BLOCK_TOP_DATA)},fail:function(e){t.RecvError(e,z.BLOCK_TOP_DATA)}})},this.RecvData=function(t,e){var i=t;this.Data=[],this.resCount=i.count;for(var a in i.stock){var r=i.stock[a];if(null!=r.indextop)var n={Down:r.indextop.down,Stop:r.indextop.stop,Up:r.indextop.up,Unchanged:r.indextop.unchanged,DownStock:{Name:r.indextop.downstock.name,Symbol:r.indextop.downstock.symbol},UpStock:{Name:r.indextop.upstock.name,Symbol:r.indextop.upstock.symbol}};this.Data.push({Name:r.name,Symbol:r.symbol,Increase:r.increase,Risefall:r.risefall,IndexTop:n})}this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()},this.RecvError=function(t,e){}}function E(t){this.newMethod=b,this.newMethod(),delete this.newMethod,this.ApiUrl=X.Domain+"/API/StockMinuteImage",this.Symbol=[t],this.Data=[],this.RequestData=function(){this.Data=[];var t=this;Y.default.ajax({url:this.ApiUrl,data:{symbol:this.Symbol},type:"post",dataType:"json",success:function(e){t.RecvData(e,z.IMAGE_MINUTE_DATA)},error:function(e){t.RecvError(e,z.IMAGE_MINUTE_DATA)}})},this.RecvData=function(t,e){for(var i in t.symbol){var a={Symbol:t.symbol[i],Image:t.imagerelative[i]};this.Data.push(a)}"function"==typeof this.UpdateUICallback&&this.UpdateUICallback(this)},this.RecvError=function(t,e){}}function F(t){this.newMethod=b,this.newMethod(),delete this.newMethod,this.Symbol=t,this.RequestData=function(){this.Data=null,this.Error=null;var t=this,e=X.CacheDomain+"/cache/historyday/all/"+this.Symbol+".json";console.log("[HistoryDayData::RequestData] cache url ",e),Y.default.ajax({url:e,type:"get",dataType:"json",async:!0,success:function(e){t.RecvData(e,z.HISTORY_DAY_DATA)},error:function(e){t.RecvError(e,z.HISTORY_DAY_DATA)}})},this.RecvData=function(t,e){if(!t.symbol||!t.name)return void this.InvokeUpdateUICallback();var i=t.amount,a=t.close,r=t.date,n=t.high,o=t.low,s=t.open,l=t.vol,h=t.yclose;if(!(i&&a&&r&&n&&o&&s&&l&&h))return void this.InvokeUpdateUICallback();for(var u={UpdateDate:t.update,Symbol:t.symbol,Name:t.name,KLine:[]},c=0;c<r.length;++c){var d={Date:r[c],YClose:h[c],Open:s[c],High:n[c],Low:o[c],Close:a[c],Vol:l[c],Amount:i[c]};u.KLine.push(d)}this.Data=u,this.InvokeUpdateUICallback()},this.RecvError=function(t,e){console.log("[HistoryDayData::RecvError] status="+t.status+" statusText="+t.statusText+" responseText="+t.responseText),this.Error={Status:t.status,Message:t.responseText},this.InvokeUpdateUICallback()},this.GetWeekData=function(){return this.Data&&this.Data.KLine?this.GetDayPeriodData(1):[]},this.GetMonthData=function(){return this.Data&&this.Data.KLine?this.GetDayPeriodData(2):[]},this.GetDayPeriodData=function(t){var e=new Array,i=0,a=null;for(var r in this.Data.KLine){var n=!1,o=this.Data.KLine[r];switch(t){case 1:var s=this.GetFirday(o.Date);s!=i&&(n=!0,i=s);break;case 2:parseInt(o.Date/100)!=parseInt(i/100)&&(n=!0,i=o.Date);break;case 3:parseInt(o.Date/1e4)!=parseInt(i/1e4)&&(n=!0,i=o.Date)}if(n){if(a={},a.Date=o.Date,e.push(a),null==o.Open||null==o.Close)continue;a.Open=o.Open,a.High=o.High,a.Low=o.Low,a.YClose=o.YClose,a.Close=o.Close,a.Vol=o.Vol,a.Amount=o.Amount}else{if(null==a)continue;if(null==o.Open||null==o.Close)continue;null==a.Open||null==a.Close?(a.Open=o.Open,a.High=o.High,a.Low=o.Low,a.YClose=o.YClose,a.Close=o.Close,a.Vol=o.Vol,a.Amount=o.Amount):(a.High<o.High&&(a.High=o.High),a.Low>o.Low&&(a.Low=o.Low),a.Close=o.Close,a.Vol+=o.Vol,a.Amount+=o.Amount,a.Date=o.Date)}}return e},this.GetFirday=function(t){var e=new Date(parseInt(t/1e4),t/100%100-1,t%100),i=e.getDay();if(5==i)return t;var a=e.getTime();if(i<5){var r=864e5*(5-i);a+=r}else{var r=864e5*(i-5);a-=r}e.setTime(a);var n=1e4*e.getFullYear()+100*(e.getMonth()+1)+e.getDate();e.getDay();return n}}function L(t){this.newMethod=b,this.newMethod(),delete this.newMethod,this.Symbol=t,this.ApiUrl=X.Domain+"/API/StockPriceList",this.RequestData=function(){if(this.Symbol){var t=this,e={};Array.isArray(this.Symbol)?e.Symbol=this.Symbol:e.Symbol=[this.Symbol],Y.default.ajax({url:this.ApiUrl,data:e,type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e,z.DEAL_PRICE_LIST_DATA)},fail:function(e){t.RecvError(e,z.DEAL_PRICE_LIST_DATA)}})}},this.RecvData=function(t,e){if(this.Data=null,!(t.statistics.length<=0)){this.Data={Day:{},PriceList:[]};var i=t.data[0];this.Data.Day={Date:i.date,YClose:i.yclose,Price:i.price,Vol:i.vol,Time:i.time},this.Data.Stock={Symbol:i.symbol,Name:i.name};var a=t.statistics[0];for(var r in a.list){var n=a.list[r],o={Price:n[0],Vol:n[1],BuyVol:n[2],SellVol:n[3],NoneVol:n[4]};i.vol>0&&(o.Proportion=o.Vol/i.vol),this.Data.PriceList.push(o)}this.UpdateUICallback&&this.UpdateUICallback(this),this.AutoUpate()}},this.RecvError=function(t,e){}}function M(t){this.newMethod=b,this.newMethod(),delete this.newMethod,this.IsAutoUpdate=!1,this.Symbol=t,this.PageSize=20,this.Request=function(t,e){this.Error=null;var i=this,a=t*e,r=a+e,n=X.Domain+"/API/StockDetail";console.log("[LatestDetailData::RequestData] url="+n+", start="+a+" , end="+r),Y.default.ajax({url:n,data:{symbol:this.Symbol,start:a,end:r},type:"post",dataType:"json",async:!0,success:function(t){i.RecvData(t,z.LATEST_DETAIL_DATA)},error:function(t){i.RecvError(t,z.LATEST_DETAIL_DATA)}})},this.RequestData=function(){this.Data={Deal:[],Count:0,Reqeust:{PageIndex:0},Response:{}},this.Request(0,this.PageSize)},this.RequestPage=function(t){this.Data||(this.Data={Deal:[],Count:0}),this.Data.Reqeust={PageIndex:t},this.Data.Response={};for(var e=t*this.PageSize,i=e+this.PageSize,a=!0,r=e;r<i;++r)if(!this.Data.Deal[r]){a=!1;break}a?(this.Data.Response={Start:e,End:i},this.InvokeUpdateUICallback()):this.Request(t,this.PageSize)},this.RecvData=function(t,e){if(this.Data.Count=t.count,!t.detail)return void this.InvokeUpdateUICallback();this.Data.Day={YClose:t.yclose,Open:t.open,Close:t.price,Date:t.date},this.Data.Stock={Symbol:t.symbol,Name:t.name};for(var i=t.start,a=0,r=i;a<t.detail.length;++a,++r){var n=t.detail[a],o={Time:n[0],Price:n[1],Vol:n[2],Amount:n[3],Flag:""};0===n[4]?o.Flag="B":1===n[4]&&(o.Flag="S"),this.Data.Deal[r]=o}this.Data.Response={Start:t.start,End:t.end},this.InvokeUpdateUICallback()},this.RecvError=function(t,e){console.log("[LatestDetailData::RecvError] status="+t.status+" statusText="+t.statusText+" responseText="+t.responseText),this.Error={Status:t.status,Message:t.responseText},this.InvokeUpdateUICallback()}}function A(){this.newMethod=b,this.newMethod(),delete this.newMethod,this.ApiUrl=X.Domain+"/api/StockListAnalyze",this.PolicyGuid,this.Plate="",this.SymbolList=[],this.RequestData=function(){var t=this;Y.default.ajax({url:t.ApiUrl,data:{PolicyGuid:t.PolicyGuid,Plate:t.Plate,Symbol:t.SymbolList},type:"post",dataType:"json",async:!0,success:function(e){t.RecvData(e)},error:function(e){t.RecvError(e)}})},this.RecvData=function(t){this.Data={};var e=t;if(0!=e.count){if(e.concept){var i=[];for(var a in e.concept.data){var r=e.concept.data[a],n={};n.Name=r[0],n.Symbol=r[1],n.Ratio=r[2],n.Count=r[3],n.Increase=r[4],n.Price=r[5],n.Week1=r[6],n.Week4=r[7],i.push(n)}this.Data.Concept=i}e.distributed&&(this.Data.Distributed=e.distributed),e.industry&&(this.Data.Industry=e.industry),e.quadrant&&(this.Data.Quadrant=e.quadrant),e.region&&(this.Data.Region=e.region),this.UpdateUICallback&&this.UpdateUICallback(this)}},this.RecvError=function(t){console.log(t)}}Object.defineProperty(e,"__esModule",{value:!0});var O,N=i(119),_=a(N),P=i(121),R=a(P),B=i(34),k=a(B),V=i(120),G=a(V),H=i(46),Y=a(H),X=new r,W={SYMBOL:0,NAME:1,OPEN:2,PRICE:3,HIGH:4,LOW:5,YCLOSE:6,VOL:7,AMOUNT:8,DATE:9,TIME:10,INCREASE:11,BUY5:12,SELL5:13,DEAL:14,AMPLITUDE:15,MARKET_VALUE:16,FLOW_MARKET_VALUE:17,BOOK_RATE:18,BOOK_DIFFER:19,PE:20,PB:21,EXCHANGE_RATE:23,ROE:24,FINANCE_DATE:25,FINANCE_PERSEARNING:26,FINANCE_PERNETASSET:27,FINANCE_NPROFIT:28,FINANCE_NPROFITINCREASE:29,FINANCE_NNETPROFIT:30,FINANCE_NNPROFITINCREASE:31,FINANCE_NNPROFITSPEED:32,FINANCE_EPS:33,MAX_PRICE:34,MIN_PRICE:35,RISE_FALL_PRICE:36,FINANCE_BENFORD:37,RISEFALLSPEED_1:38,RISEFALLSPEED_3:39,RISEFALLSPEED_5:40,RISEFALLSPEED_10:41,RISEFALLSPEED_15:42,MINUTE_AMPLITUDE_1:43,MINUTE_AMPLITUDE_3:44,MINUTE_AMPLITUDE_5:45,MINUTE_AMPLITUDE_10:46,MINUTE_AMPLITUDE_15:47,MINUTE_AMOUNT_1:48,MINUTE_AMOUNT_3:49,MINUTE_AMOUNT_5:50,MINUTE_AMOUNT_10:51,MINUTE_AMOUNT_15:52,COMPANY_NAME:53,PLATE_INDUSTRY:54,PLATE_CONCEPT:55,PLATE_REGION:56,COMPANY_BUSINESS:57,COMPANY_VOL:58,COMPANY_PRICE:59,COMPANY_RELEASEDATE:60,COMPANY_COMPETENCE:61,CAPITAL_FLOW_DAY:67,CAPITAL_FLOW_DAY3:68,CAPITAL_FLOW_DAY5:69,CAPITAL_FLOW_DAY10:70,DDE:71,DDE3:72,DDE5:73,DDE10:74,EVENTS:75,CAPITAL_A:76,CAPITAL_TOTAL:77,CAPTIAL_ARATE:78,VOLRATIO:79,PE2:80,PE3:81,INDEXTOP:100,WEEK:101,HEAT:102},U={m_mapFiled:new k.default([[W.NAME,"name"],[W.SYMBOL,"symbol"],[W.PRICE,"price"],[W.INCREASE,"increase"],[W.PE,"pe"],[W.FINANCE_BENFORD,"finance.benford"],[W.YCLOSE,"yclose"],[W.RISEFALLSPEED_1,"risefallspeed.1"],[W.RISEFALLSPEED_3,"risefallspeed.3"],[W.RISEFALLSPEED_5,"risefallspeed.5"],[W.RISEFALLSPEED_10,"risefallspeed.10"],[W.RISEFALLSPEED_15,"risefallspeed.15"],[W.MINUTE_AMPLITUDE_1,"mamplitude.1"],[W.MINUTE_AMPLITUDE_3,"mamplitude.3"],[W.MINUTE_AMPLITUDE_5,"mamplitude.5"],[W.MINUTE_AMPLITUDE_10,"mamplitude.10"],[W.MINUTE_AMPLITUDE_15,"mamplitude.15"],[W.MINUTE_AMOUNT_1,"mamount.1"],[W.MINUTE_AMOUNT_3,"mamount.3"],[W.MINUTE_AMOUNT_5,"mamount.5"],[W.MINUTE_AMOUNT_10,"mamount.10"],[W.MINUTE_AMOUNT_15,"mamount.15"]]),GetFieldName:function(t){return this.m_mapFiled.has(t)?this.m_mapFiled.get(t):null}};S.Init=function(){return new S},S.SetDomain=function(t,e){t&&(X.Domain=t),e&&(X.CacheDomain=e)},S.GetSearchStock=function(t){return new x(t)},S.GetShortTerm=function(t){return new I(t)},S.GetDealDay=function(t){return new T(t)},S.GetBlockMember=function(t){return new y(t)},S.GetBlockTop=function(){return new w},S.GetMinuteImage=function(t){return new E(t)},S.GetHistoryDayData=function(t){return new F(t)},S.GetDealPriceListData=function(t){return new L(t)},S.GetLatestDetailData=function(t){return new M(t)},S.GetAnalylisPlate=function(){return new A},S.GetStockHistory=function(){return new g};var z={BASE_DATA:1,INDEX_BASE_DATA:2,HEAT_DATA:3,SORT_DATA:4,BUY_SELL_DATA:5,DEAL_DATA:6,DERIVATIVE_DATA:7,FINANCE_DATA:8,SEARCH_STOCK_DATA:9,SELF_STOCK_DATA:10,LOGON_DATA:11,BLOCK_MEMBER_DATA:13,SHORT_TERM_DATA:14,COMPANY_DATA:15,PLATE_DATA:16,CAPITAL_DATA:17,CAPITAL_FLOW_DAY_DATA:23,CAPITAL_FLOW_DAY3_DATA:24,CAPITAL_FLOW_DAY5_DATA:25,CAPITAL_FLOW_DAY10_DATA:26,DDE_DAY_DATA:27,DDE_DAY3_DATA:28,DDE_DAY5_DATA:29,DDE_DAY10_DATA:30,DEAL_DAY_DATA:105,EVENT_DATA:106,IMAGE_MINUTE_DATA:107,HISTORY_DAY_DATA:108,DEAL_PRICE_LIST_DATA:109,LATEST_DETAIL_DATA:110},K={SH:".SH",SZ:".SZ",HK:".HK",SHFE:".SHF",CFFEX:".CFE",DCE:".DCE",CZCE:".CZC",USA:".USA",IsUSA:function(t){return!!t&&t.indexOf(this.USA)>0},IsSH:function(t){var e=t.length-this.SH.length;return t.indexOf(this.SH)==e},IsSZ:function(t){var e=t.length-this.SZ.length;return t.indexOf(this.SZ)==e},IsHK:function(t){var e=t.length-this.HK.length;return t.indexOf(this.HK)==e},IsSHFE:function(t){return t.indexOf(this.SHFE)>0},IsCFFEX:function(t){return t.indexOf(this.CFFEX)>0},IsDCE:function(t){return t.indexOf(this.DCE)>0},IsCZCE:function(t){return t.indexOf(this.CZCE)>0},IsChinaFutures:function(t){return this.IsCFFEX(t)||this.IsCZCE(t)||this.IsDCE(t)||this.IsSHFE(t)},IsSHSZ:function(t){return this.IsSZ(t)||this.IsSH(t)},IsSHSZFund:function(t){if(!t)return!1;if(this.IsSH(t)){if("5"==t.charAt(0)&&"1"==t.charAt(1))return!0}else if(this.IsSZ(t)&&"1"==t.charAt(0)&&("5"==t.charAt(1)||"6"==t.charAt(1)||"7"==t.charAt(1)||"8"==t.charAt(1)))return!0;return!1},IsSHSZIndex:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){var i=e.replace(".SH","");if("0"==e.charAt(0)&&parseInt(i)<=3e3)return!0}else if(this.IsSZ(e)){if("3"==e.charAt(0)&&"9"==e.charAt(1))return!0}else if(e.indexOf(".CI")>0)return!0;return!1},IsSHSZStockA:function(t){if(!t)return!1;var e=t.toUpperCase();if(this.IsSH(e)){e.replace(".SH","");if("6"==e.charAt(0))return!0}else if(this.IsSZ(e)&&"0"==e.charAt(0)){if("0"==e.charAt(1)&&"2"==e.charAt(1))return!0;if("7"!=e.charAt(1)&&"8"!=e.charAt(1))return!0}return!1},IsSHStockSTAR:function(t){if(!t)return!1;var e=t.toUpperCase();return!!this.IsSH(e)&&("6"==e.charAt(0)&&"8"==e.charAt(1)&&"8"==e.charAt(2))},GetMarketStatus:function(t){if(!t)return 0;var e=t.toUpperCase();if(this.IsUSA(e)){var i=GetLocalTime(-4);return r=i.getDay(),n=100*i.getHours()+i.getMinutes(),6==r||0==r?0:n>1730?3:n<930?1:2}var a=new Date,r=a.getDay(),n=100*a.getHours()+a.getMinutes();return 6==r||0==r?0:n>1540?3:n<925?1:2}};e.default=(O={JSStockInit:S.Init,STOCK_FIELD_NAME:W,JSStock:S,StockRead:D},(0,_.default)(O,"STOCK_FIELD_NAME",W),(0,_.default)(O,"RECV_DATA_TYPE",z),O)},function(t,e,i){"use strict";function a(){this.HistoryData,this.BuyData,this.SellData,this.IndexClose,this.NetCalculateModel=0,this.InitialCapital=1e4,this.Data=new n.default,this.SetPolicyData=function(t){this.HistoryData=t.KLineData,this.BuyData=t.BuyData,this.SellData=t.SellData,t.IndexClose&&(this.IndexClose=t.IndexClose)},this.ClearData=function(){this.Data=new n.default},this.GetBSData=function(t){for(var e=null,i=0;i<this.HistoryData.length;++i){if(this.HistoryData[i].Date>=t){e=i;break}}if(null===e)return null;console.log("[RegressionTest::GetBSData] startDate="+t+" index="+e);for(var a=[],r=null,i=e;i<this.HistoryData.length;++i){var n=this.BuyData[i],o=this.SellData[i],s=this.HistoryData[i];if(null===r){if(n>0){var l={Data:s,Count:0};i+1<this.HistoryData.length&&(l.NextOpen=this.HistoryData[i+1].Open),r={B:[l],S:null}}}else{for(var h in r.B)++r.B[h].Count;if(n>0){var l={Data:s,Count:0};i+1<this.HistoryData.length&&(l.NextOpen=this.HistoryData[i+1].Open),r.B.push(l)}else o>0&&(r.S={Data:s},a.push(r),r=null)}}var u={StartDate:this.HistoryData[e].Date,StartIndex:e,Count:this.HistoryData.length-e,BSData:a};return console.log("[RegressionTest::GetBSData] data",u),u},this.Calculate=function(t){var e={Count:t.Count,Max:null,Min:null,Average:null},i={Count:0,Days:0,Success:0,Fail:0,SuccessRate:0};for(var a in t.BSData){var r=t.BSData[a];for(var n in r.B){var o=r.B[n];null===e.Max?e.Max=o.Count:e.Max<o.Count&&(e.Max=o.Count),null===e.Min?e.Min=o.Count:e.Min>o.Count&&(e.Min=o.Count),++i.Count,i.Days+=o.Count,r.S.Data.Close>o.Data.Open?++i.Success:++i.Fail}}i.Count>0&&(e.Average=i.Days/i.Count,i.SuccessRate=i.Success/i.Count);var s,l=1;for(var a in t.BSData){var r=t.BSData[a];s=1===this.NetCalculateModel&&r.B[0].NextOpen>0?r.B[0].NextOpen:r.B[0].Data.Open;l*=(r.S.Data.Close-s)/s+1}l-=1;var h=this.HistoryData[t.StartIndex].Close,u=this.HistoryData[this.HistoryData.length-1].Close,c=(u-h)/h;console.log("[RegressionTest::Calculate] stock profit first["+this.HistoryData[t.StartIndex].Date+", YClose="+this.HistoryData[t.StartIndex].YClose+"] end["+this.HistoryData[this.HistoryData.length-1].Date+", Close="+this.HistoryData[this.HistoryData.length-1].Close+"]");var d=this.CaclulateNetValue(t),f=null,p=null;d&&d.length>0&&(f=this.CaclulateMaxDropdown(d),this.IndexClose&&(p=this.CaclulateBeta(d)));var m={Day:e,Trade:i,Profit:l,StockProfit:c,Excess:l-c,NetValue:d,MaxDropdown:f,Beta:p,BSDataPair:t.BSData};return console.log("[RegressionTest::Calculate] NetCalculateModel, result ",this.NetCalculateModel,m),m},this.CaclulateNetValue=function(t){for(var e,i=t.StartIndex,a=[],r={Position:0,Cache:this.InitialCapital},n=null,o=i;o<this.HistoryData.length;++o){var s=this.BuyData[o],l=this.SellData[o],h=this.HistoryData[o],u={Date:h.Date,Position:r.Position,Cache:r.Cache,Open:h.Open,Close:h.Close};if(u.MarketValue=u.Position*u.Close+u.Cache,null===n){if(s>0){n={B:{Data:h},S:null},e=1===this.NetCalculateModel&&o+1<this.HistoryData.length&&this.HistoryData[o+1].Open>0?this.HistoryData[o+1].Open:u.Open;var c=parseInt(u.Cache/e),d=u.Cache-e*c;u.Position=c,u.Cache=d,u.MarketValue=u.Position*u.Close+u.Cache}}else if(l>0){n.S={Data:h},n=null;var f=u.Position*u.Close;u.Position=0,u.Cache+=f,u.MarketValue=u.Position*u.Close+u.Cache}r.Position=u.Position,r.Cache=u.Cache,u.Net=u.MarketValue/this.InitialCapital,this.IndexClose&&(u.IndexClose=this.IndexClose[o]),a.push(u)}if(a.length<=0)return[];for(var p=[],o=0;o<a.length;++o){var m=a[o],C={Net:m.Net,Date:m.Date,Close:m.Close};m.IndexClose&&(C.IndexClose=m.IndexClose),p.push(C)}return p},this.CaclulateMaxDropdown=function(t){for(var e,i=t[0].Net,a=0,r=1;r<t.length;++r){var n=t[r],o=1-n.Net/i;a<o&&(a=o,e=n),i<n.Net&&(i=n.Net)}return console.log("[RegressionTest::CaclulateMaxDropdown] maxDay",e),a},this.CaclulateBeta=function(t){for(var e=t[0],i=[],a=[],r=0,n=0,o=1;o<t.length;++o){i[o-1]=0,a[o-1]=0;var s=t[o];s.IndexClose>0&&e.IndexClose>0&&(i[o-1]=(s.IndexClose-e.IndexClose)/e.IndexClose),s.Net>0&&e.Net>0&&(a[o-1]=(s.Net-e.Net)/e.Net),r+=i[o-1],n+=a[o-1],e=s}for(var l=r/i.length,h=n/a.length,u=0,o=0;o<i.length;++o)u+=(a[o]-h)*(i[o]-l);for(var c=0,o=0;o<i.length;++o)c+=(i[o]-l)*(i[o]-l);return u/c},this.Execute=function(t){for(var e in t){var i=t[e];if(this.Data.has(i.Name))console.log("[RegressionTest::Execute] id="+e+" Name="+i.Name+" Date:"+i.Date+" is exsit.");else{console.log("[RegressionTest::Execute] id="+e+" Name="+i.Name+" Date:"+i.Date);var a=this.GetBSData(i.Date),r=this.Calculate(a);this.Data.set(i.Name,r)}}}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(34),n=function(t){return t&&t.__esModule?t:{default:t}}(r);a.CaclulateOverlayData=function(t){if(!t.Main||!t.Sub)return null;var e=t.Main.length;for(var i in t.Sub){if(t.Sub[i].length!=e)return console.log("[RegressionTest::OverlayData] id="+i+" data count not match. MainData count="+e),null}var a=[],r={Sub:[]};r.Main=t.Main[0],a.push([]);for(var i=0;i<t.Sub.length;++i){var n=t.Sub[i];r.Sub[i]=n[0],a.push([])}for(var i=0;i<t.Main.length;++i){var o=t.Main[i],s=(o-r.Main)/r.Main;a[0][i]=s;for(var l=0;l<t.Sub.length;++l){var n=t.Sub[l],h=n[i],u=(h-r.Sub[l])/r.Sub[l];a[l+1][i]=u}}return a},a.GetPolicyData=function(t){var e={KLineData:null,IndexClose:null,BuyData:null,SellData:null};e.KLineData=t.HistoryData.Data;for(var i in t.OutVar){var a=t.OutVar[i];"INDEXCLOSE"==a.Name?e.IndexClose=a.Data:"DRAWICON"==a.Name&&a.Draw&&a.Draw.Icon&&(13===a.Draw.Icon.ID?e.BuyData=a.Draw.DrawData:14===a.Draw.Icon.ID&&(e.SellData=a.Draw.DrawData))}return e.KLineData&&e.BuyData&&e.SellData?e:null},e.default={RegressionTest:a}},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,'body,html{height:100%}body{margin:0;font-size:13px}ol li,ul li{list-style:none}*{padding:0;margin:0}a{transition-duration:.4s,.5s;transition-property:background-color,color;transition-timing-function:ease,ease}i{font-style:normal}canvas,input{outline:0}.redColor{color:#ee1515}.greenColor{color:#199e00}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-button{display:none}::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}.context-menu-wrapper{position:absolute;z-index:500;overflow:auto;border:1px solid;border-color:#b5b7b9;background-color:#fff;white-space:nowrap}html.theme-dark .context-menu-wrapper{background-color:#1c2030;border-color:#363c4e}.context-menu-wrapper .backlight{background-color:#f2f3f5}html.theme-dark .context-menu-wrapper .backlight{background-color:#2f3241}tr.context-menu.disabled{color:#9d9d9d}.submenu.center{background-color:#fff}.context-menu{font-family:Tahoma,Arial,sans-serif;font-size:11px;white-space:nowrap}tr.context-menu{cursor:pointer;height:29px}tr.context-menu:hover{background:#f2f3f5}html.theme-dark tr.context-menu-hover{background:#2f3241}td.context-menu{opacity:1;cursor:pointer;padding-left:4px}.context-menu-item-separated{border-bottom:1px solid #cecece}.context-menu .text{min-width:100px}.context-menu .spacer{width:18px;text-align:center}.context-menu .icon{height:27px;width:18px}.context-menu .shortcut{text-align:right;color:#aaa;padding:0 2px 0 10px}.submenu-arrow{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAKElEQVR4AWOgExgFo6Cvr+8/1Q0EYaoaCMNUNBCBB68LqRvLIxiMAgAKDyqRblYs2AAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:50%;width:20px}.border td{border-bottom:1px solid #b5b7b9}.tools{margin-bottom:8px;height:38px;color:#4c525e;float:left}.tools .txt{height:28px;width:80px;border:none;margin-top:3px;padding-left:5px}.tools .item{float:left;margin-right:1px;padding:0 5px;height:36px;line-height:36px}.button,.tools .item{cursor:pointer;border:1px solid #eceff2}.button{box-shadow:inset 0 0 0 0 #edf0f2;background:linear-gradient(180deg,#fcfffa 5%,#fff);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#fcfffa",endColorstr="#ffffff",GradientType=0);background-color:#fcfffa;display:inline-block;font-family:Arial;font-size:13px;text-decoration:none}.button:hover{background:linear-gradient(180deg,#f2f3f5 5%,#f2f3f5);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#f2f3f5",endColorstr="#f2f3f5",GradientType=0);background-color:#f2f3f5}.button:active{position:relative;top:1px}.dropdownList{width:200px;border:1px solid #eceff2;position:absolute;z-index:500;overflow:auto;padding:5px 0;background-color:#fff;box-shadow:0 1px 3px 0 rgba(0,0,0,.07);border-radius:3px;display:none;color:#4c525e}.dropdownList .item{padding:2px 8px;height:28px;line-height:28px}.dropdownList .item:hover{background-color:#ebf7fc;cursor:pointer}.selected{height:38px;overflow:hidden;text-align:center;float:left}.selected ul li{float:left;margin:0 5px;list-style-type:none}.selected ul a{display:block;background:#ebf7fc;height:38px;text-decoration:none;color:#4c525e;transition:margin .4s ease-in-out;padding:0 8px;line-height:38px}.selected ul a:nth-of-type(2n){background:#fff2f4;color:#4c525e}.drawing{height:36px;float:left;border:1px solid #eceff2}.drawing .lable{background:#eceff2;height:36px;line-height:36px;float:left;margin-right:1px;padding:0 5px}.drawing .item{float:left;margin:1px 1px 1px 0;padding:0 5px;cursor:pointer;border:1px solid #eceff2;height:32px;line-height:32px}.drawing .item.active{background:#1592e6;color:#fff;border-color:#1592e6}.drawtools{border:1px solid #ccc;background:#fff}.drawtools .icon-image{text-align:center;padding:5px 0 5px 10px;height:24px;position:relative}.drawtools .icon-image>i:first-of-type{font-size:24px}.drawtools .icon-image.active>i:first-of-type{color:#0182d4}.drawtools .icon-image .menuTwo{position:absolute;top:0;right:46px;border:1px solid #ccc;background-color:#fff;display:none;text-align:right}.drawtools .icon-image .menuTwo .menuTwoItem{height:24px;line-height:24px;width:125px;font-size:12px;padding:5px 0;display:block;padding-right:10px}.drawtools .icon-image .menuTwo .menuTwoItem:after{content:"";display:block;width:0;height:0;clear:both;overflow:hidden}.drawtools .icon-image .menuTwo .menuTwoItem>i{float:right;margin-left:5px;font-size:24px}.drawtools .icon-image .menuTwo .menuTwoItem:hover{background-color:#ebf7fc}.drawtools .icon-image .menuTwo .menuTwoItem.current{background-color:#37a6ef}.drawtools .icon-image .contentArrow{font-size:12px;position:absolute;top:12px;left:0;transition:transform .2s;display:none}.drawtools .icon-image .contentArrow.trans{transform:rotate(180deg)}.drawtools .icon-image:last-child{border-top:1px solid #ccc}.chartpicture-text-setting{width:400px;background-color:#fff;border:1px solid;border-color:#b5b7b9;box-shadow:0 0 10px 0 rgba(0,0,0,.15)}.titleWrap{width:100%;border-bottom:1px solid;border-color:#dadde0}.titleWrap,.titleWrap .titleName{height:53px;line-height:53px;position:relative}.titleWrap .titleName{display:inline-block;padding:0 2px;font-size:14px;color:#4f5966;margin-left:14px}.titleWrap .titleName:after{content:" ";position:absolute;display:block;left:0;bottom:-1px;width:100%;height:3px;background-color:#5cb888}.titleWrap .closeBtn{font-size:12px;color:#777;position:absolute;top:0;right:0;padding-right:14px;padding-left:14px;cursor:pointer}.contentWrap{padding:15px 27px}.contentWrap .styleOptions{height:27px;margin-bottom:7px}.contentWrap .styleOptions .colorPicker{width:25px;height:25px;cursor:pointer;display:inline-block;border:1px solid;border-color:#1e90ff;background-color:#1e90ff;margin-right:5px;position:relative}.contentWrap .colorPicker #fontColor{position:absolute;top:0;left:0;opacity:0;width:100%;height:100%;display:block}.contentWrap .likeSelect{height:25px;width:50px;background-color:#f1f3f6;line-height:25px;cursor:pointer;display:inline-block;vertical-align:top;font-size:14px;padding:0 20px 0 10px;border:1px solid;border-color:#dadde0;margin-right:5px;position:relative}.contentWrap .fontSelect{font-size:12px}.contentWrap .likeSelect .choicedText{display:inline-block;width:78px;height:100%;overflow:hidden}.contentWrap .likeSelect i{font-size:15px;position:absolute;top:0;right:6px}.contentWrap .likeSelect .selectList{position:absolute;top:27px;left:0;background-color:#fff;border:1px solid #dadde0;display:none}.contentWrap .selectList p{padding:0 15px;height:30px;line-height:30px;cursor:pointer;white-space:nowrap}.contentWrap .selectList p:hover{background-color:#f1f3f6}.contentWrap .selectList p.active{background-color:#f1f3f6;border-left:3px solid #5cb888}.contentWrap .likeBtn{border:1px solid;border-color:#dadde0;text-align:center;cursor:pointer;vertical-align:top;font-size:16px;margin-right:5px;color:#4a4a4a;display:inline-block;width:25px;height:25px;line-height:25px;background-color:#f1f3f6}.contentWrap .strongFont{font-weight:700}.contentWrap .italicsFont{font-style:italic}.contentWrap .tArea{border:1px solid #b5b7b9;background-color:#fff;resize:none;color:#4a4a4a;font-size:12px;line-height:18px;box-sizing:border-box;padding:8px 5px;width:100%;height:200px}.contentWrap .likeBtn:hover,.contentWrap .likeSelect:hover{border-color:#b5b7b9}.contentWrap .likeBtn.hot,.contentWrap .likeSelect.hot{background-color:#fff}.btnsContainer{text-align:right;padding:0 13px 27px}.btnsContainer .btn{width:72px;height:24px;line-height:24px;cursor:pointer;padding-top:4px;text-align:center;font-size:14px;color:#fff;margin-right:10px;display:inline-block}.btnsContainer .okBtn{background-color:#3bb3e4}.btnsContainer .okBtn:hover{background-color:#38acdb}.btnsContainer .cancelBtn{background-color:#9ca0a6;margin-right:0}.btnsContainer .cancelBtn:hover{background-color:#898c91}.jchart-select-statistics-box{position:fixed;width:100%;height:100%;left:0;top:0;background-color:rgba(0,0,0,.01);display:none;z-index:999}.interval .top{padding-left:10px;box-sizing:border-box;height:40px;line-height:40px;text-align:left;border-bottom:1px solid #e1ecf2;font-size:14px;color:#757d81}.interval .top .closeBtn{float:right;margin-right:15px;cursor:pointer;font-weight:600}.interval table{width:100%;height:170px}.changColorR{border-right-color:#1295d9!important}.changColorL{border-left-color:#1295d9!important}.interval table .dateChange1{display:inline-block;cursor:pointer;width:0;height:0;border:6px solid transparent;border-right:6px solid #c8d2db}.interval table .dateChange2{display:inline-block;cursor:pointer;width:0;height:0;border:6px solid transparent;border-left:6px solid #c8d2db}.interval table tr td:nth-child(2),.interval table tr td:nth-child(4),.interval table tr td:nth-child(6){font-weight:700}.interval table td{padding-left:10px;border-bottom:1px solid #eceff2}.interval table td.name{text-align:right}.interval table td:last-child{padding-right:10px}.kLineMatch{position:absolute;z-index:520;width:300px;height:600px;border:1px solid #eceff2;background:#fff;display:none}.kLineMatch .top{height:30px;line-height:30px;background:#ccc;text-align:center}.kLineMatch .top .closeBtn{float:right;margin-right:20px;cursor:pointer}.kLineMatch .title{padding:5px}.kLineMatch .title .name{float:left;width:70px;border-right:1px solid #ccc}.kLineMatch .title .time{width:140px;border-right:1px solid #ccc}.kLineMatch .title .similar,.kLineMatch .title .time{float:left;padding-left:5px}.kLineMatch .list{overflow-y:auto;height:544px;width:290px;padding:5px 5px 0}.kLineMatch .list .item .name{width:70px;float:left;padding-bottom:5px}.kLineMatch .list .item .time{padding:0 0 5px 5px;float:left;width:140px}.kLineMatch .list .item .similar{float:left;padding-left:7px;padding-bottom:5px}.jchart-kline-match-box{font:13px Microsoft Yahei}.jchart-kline-match-box .matchTable{border-collapse:collapse;width:100%}.jchart-kline-match-box .matchTable td,.jchart-kline-match-box .matchTable th{line-height:20px;border:1px solid #ccc;padding:0 10px}.jchart-kline-match-box .matchTable td.red{color:red}.pagination{height:22px;text-align:center;margin-top:10px}.pagination span{display:inline-block;line-height:20px;padding:0 6px;border:1px solid #ccc;margin-right:6px;cursor:pointer}.pagination span.active,.pagination span:hover{color:#ffb400}.spinnerBg{background:#ccc;width:100%;height:100%;opacity:.5}.spinner,.spinnerBg{position:absolute;display:none}.spinner{width:50px;height:60px;font-size:10px;top:50%;left:50%}.spinner>div{background-color:#39adce;height:100%;width:6px;display:inline-block;animation:stretchdelay 1.2s infinite ease-in-out}.spinner .rect2{animation-delay:-1.1s}.spinner .rect3{animation-delay:-1s}.spinner .rect4{animation-delay:-.9s}.spinner .rect5{animation-delay:-.8s}@keyframes stretchdelay{0%,40%,to{transform:scaleY(.4);-webkit-transform:scaleY(.4)}20%{transform:scaleY(1);-webkit-transform:scaleY(1)}}.kline-info{position:absolute;width:16px;height:16px;background-color:#fff;color:#ff3232;text-align:center;cursor:pointer;font:700 12px/1.4 arial}.klineframe-toolbar{position:absolute;text-align:right;line-height:24px;padding-right:5px;box-sizing:border-box}.klineframe-toolbar span:hover{color:#0182d4}.klineframe-button{position:absolute;text-align:right;border:1px solid #ccc;padding:2px}.icon-active{color:#0182d4}.increase{margin-left:3px;margin-right:10px}.rate-discount{font-weight:400;margin-left:90px}.tipBoxTitle{display:inline-block;width:130px}.date-tipbox{margin-right:10px}.jchart-changeindex-box,.jchart-modifyindex-box{position:fixed;display:none;width:100%;height:100%;left:0;top:0;z-index:999;background-color:rgba(0,0,0,.01)}.jchart-kline-minute-box{position:absolute;display:none;width:500px;height:550px!important;padding:0 5px 20px 10px;background-color:hsla(0,0%,100%,.95);border:1px solid rgba(200,210,219,.92);box-shadow:0 1px 4px 0 rgba(0,0,0,.23);z-index:999}.parameter{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);padding:3px;box-sizing:border-box;width:520px;height:421px;background-color:hsla(0,0%,100%,.96);box-shadow:0 4px 17px 0 rgba(0,0,0,.55);border-radius:2px;z-index:999}.parameter-header{position:relative;width:100%;height:42px;line-height:42px;border-bottom:1px solid #c8d2db}.parameter-header span{font-family:微软雅黑;font-size:14px;margin-left:10px}.parameter-header strong{position:absolute;right:10px;top:10px;font-size:14px;font-weight:300}.parameter-content{padding:20px;box-sizing:border-box}.row-line{margin-right:20px;margin-top:10px;padding-left:3px;box-sizing:border-box;width:100px;height:24px;line-height:24px;border:1px solid #ccc}#close,.parameter1{cursor:pointer}.parameter-footer{position:absolute;bottom:20px;left:50%;transform:translateX(-50%)}.parameter-footer button{margin-left:15px;width:78px;height:28px;border:none;border-radius:2px;color:#fff}.submit{background-color:#0182d4}.cancel{background-color:#c8d2db}.target-box{position:absolute;display:none;width:100%;height:100%;background-color:rgba(0,0,0,.01);z-index:999}.target-panel{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);width:800px;height:500px;background-color:hsla(0,0%,100%,.96);box-shadow:0 4px 17px 0 rgba(0,0,0,.55);border-radius:3px}.target-header{position:relative;width:100%;height:42px;line-height:42px;border-bottom:1px solid #c8d2db}.target-header span{font-family:微软雅黑;font-size:14px;margin-left:10px}.target-header strong{position:absolute;right:10px;top:10px;font-size:14px;font-weight:300}#close-tar{cursor:pointer}.target-content{height:100%}.target-left{float:left;width:200px;height:calc(100% - 43px);border-right:1px solid #c8d2db}.target-left input{margin-left:10px;height:40px;line-height:40px;border:none;font-size:14px}.target-left ul{border-top:1px solid #c8d2db;list-style:none;padding:10px;box-sizing:border-box}.target-left ul li{font-size:13px;line-height:30px;color:#757d81;cursor:pointer}.active-list{color:#1295d9!important}.target-right{float:left;width:595px}.target-right ul{width:590px;max-height:450px;overflow:auto;padding-top:10px;padding-left:20px;box-sizing:border-box}.target-right ul li{display:inline-block;margin-top:5px;margin-left:10px;list-style:none;width:175px;line-height:30px;text-align:left;float:left;cursor:pointer}.minute-dialog-title{position:relative;margin-bottom:10px;height:36px;line-height:36px;width:100%;border-bottom:1px solid #ccc}.minute-dialog-title span{margin-left:5px}.minute-dialog-title strong{position:absolute;right:5px;top:0;font-weight:300;font-size:12px}.minute-dialog-title strong:hover,.parameter-header strong:hover{color:#0182d4}.jschart-tooltip{box-shadow:0 1px 4px 0 rgba(0,0,0,.23);border:1px solid rgba(200,210,219,.92);padding:7px 20px 15px 13px;box-sizing:border-box;position:relative;display:none;z-index:9;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tooltip-title{text-align:center;display:block}.tooltip-con,.tooltip-title{color:#2b3645}.tooltip-con,.tooltip-num,.tooltip-title{font-family:微软雅黑;font-size:12px;line-height:24px}.tooltip-num{text-align:right;display:inline-block;width:90px}.jschart-selectrect{border:1px dashed #0f248de0;display:none}.jchart-klineinfo-tooltip{position:absolute;z-index:10;max-height:270px;line-height:28px;box-shadow:0 1px 4px 0 rgba(0,0,0,.23);border:1px solid rgba(200,210,219,.92);padding:15px;background:hsla(0,0%,100%,.92);box-sizing:border-box;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.total-list{color:#f39800}.jchart-klineinfo-tooltip span{display:block;vertical-align:bottom}.title-length{max-height:220px;overflow:hidden}.close-munite{cursor:pointer}.jchart-charscatterplot-tooltip,.jchart-chartdrawsvg-tooltip,.jchart-chartox-tooltip,.jchart-iconinfo-tooltip,.jchart-klinetrade-tooltip,.jchart-minuteinfo-tooltip{position:absolute;z-index:10;max-height:270px;line-height:28px;box-shadow:0 1px 4px 0 rgba(0,0,0,.23);border:1px solid rgba(200,210,219,.92);padding:7px;background:hsla(0,0%,100%,.92);box-sizing:border-box;display:none}.jchart-chartdrawsvg-tooltip{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.trade-detall{margin-left:80px}.reason-list{display:inline-block;width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;vertical-align:bottom}.trade-time{vertical-align:top}.prorecast-week{margin-left:70px}.jchart-select-section{height:340px}.jchart-select-table-right .jchart-select-date{width:100%;margin-bottom:5px}.jchart-select-date span{display:inline-block;width:32%;padding-left:10px;box-sizing:border-box;font-size:13px}.jchart-select-date span i{display:inline-block;width:12px;height:24px;line-height:24px;text-align:center;border:1px solid #ddd;background-color:#f5f5f5;cursor:pointer}.end-date-left,.start-date-left{margin:0 2px 0 5px}.jchart-select-table-right>table{width:100%;border-collapse:collapse}.jchart-select-table-right>table,.jchart-select-table-right>table td,.jchart-select-table-right>table tr{border:1px solid #ddd}.jchart-select-table-right td{padding-left:10px;box-sizing:border-box;width:32%;height:40px;vertical-align:center}.jchart-select-table-right>table td span{margin-left:20px}.jchart-select-table-right>table td strong{display:inline-block;width:50px;font-weight:400}.PriceUp{color:#ee1515!important}.PriceDown{color:#199e00!important}.PriceNull{color:#000}.BtnBackground{background-color:#fff!important;color:#eee}.icon-image{cursor:pointer}.icon-image img{padding:10px 8px;display:block;width:22px;height:22px;border-left:1px solid #ccc;border-right:1px solid #ccc}.icon-image:first-child img{border-top:1px solid #ccc}.icon-image:last-child img{border-bottom:1px solid #ccc}.subTolls{padding:8px 5px 0 8px;border:1px solid #aaa;background-color:#fff;height:26px}.subTolls:after{content:"";display:block;width:0;height:0;clear:both}.subTolls>*{margin:0 3px;cursor:pointer;display:block;width:20px;height:20px;float:left}.subTolls>.subtool-set{vertical-align:top}.change-color{width:24px;height:3px;outline:none;border:0}.change-color,.changes-color{position:relative}.change-image{margin-left:3px;margin-bottom:2px;display:inline-block;width:16px;height:13px}.changes-color input{position:absolute;left:0;bottom:0}input[type=color]{border:0;padding:0;cursor:pointer}::-webkit-color-swatch-wrapper{background-color:#fff}::-webkit-color-swatch{height:4px;width:25px;position:relative;left:0;top:-5px;border:0}.subtool-del{position:relative}',""])},function(t,e,i){e=t.exports=i(8)(void 0),e.push([t.i,"@font-face{font-family:iconfont;src:url("+i(266)+') format("woff2"),url('+i(267)+') format("woff"),url('+i(268)+') format("truetype")}.iconfont{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-eye:before{content:"\\E78F"}.icon-eye-close:before{content:"\\E6AE"}.icon-fangxiangsanjiao-xiangshang:before{content:"\\E6AD"}.icon-fangxiangsanjiao-xiangshang-copy:before{content:"\\E86D"}.icon-jiantou-shang:before{content:"\\E86B"}.icon-jiantou-xia:before{content:"\\E86C"}.icon-sanjiaoxing:before{content:"\\E6AC"}.icon-sanjiaoxing-xia:before{content:"\\E710"}.icon-banner:before{content:"\\E6AB"}.icon-location1:before{content:"\\E6AA"}.icon-export:before{content:"\\E6A9"}.icon-lingxing:before{content:"\\E6A8"}.icon-location:before{content:"\\E6A7"}.icon-Title:before{content:"\\E6A6"}.icon-maxmize-:before{content:"\\E6A5"}.icon-HQchart:before{content:"\\E6A4"}.icon-button_add:before{content:"\\E6A3"}.icon-draw_hlinesegment:before{content:"\\E6A2"}.icon-draw_p_rays_lines:before{content:"\\E6A1"}.icon-draw_head_shoulders_bt:before{content:"\\E6A0"}.icon-drawicon_49:before{content:"\\E69F"}.icon-drawicon_48:before{content:"\\E69E"}.icon-drawicon_47:before{content:"\\E69D"}.icon-drawicon_46:before{content:"\\E69C"}.icon-drawicon_45:before{content:"\\E69B"}.icon-drawicon_44:before{content:"\\E69A"}.icon-drawicon_43:before{content:"\\E699"}.icon-drawicon_42:before{content:"\\E698"}.icon-drawicon_41:before{content:"\\E697"}.icon-drawicon_40:before{content:"\\E696"}.icon-drawicon_39:before{content:"\\E695"}.icon-drawicon_38:before{content:"\\E694"}.icon-drawicon_37:before{content:"\\E693"}.icon-drawicon_36:before{content:"\\E692"}.icon-drawicon_35:before{content:"\\E691"}.icon-drawicon_34:before{content:"\\E690"}.icon-drawicon_33:before{content:"\\E68F"}.icon-drawicon_32:before{content:"\\E67F"}.icon-drawicon_31:before{content:"\\E67E"}.icon-drawicon_30:before{content:"\\E67D"}.icon-drawicon_28:before{content:"\\E67B"}.icon-drawicon_29:before{content:"\\E67C"}.icon-drawicon_27:before{content:"\\E67A"}.icon-drawicon_26:before{content:"\\E679"}.icon-drawicon_25:before{content:"\\E678"}.icon-drawicon_24:before{content:"\\E677"}.icon-drawicon_23:before{content:"\\E676"}.icon-drawicon_22:before{content:"\\E675"}.icon-drawicon_21:before{content:"\\E674"}.icon-drawicon_20:before{content:"\\E673"}.icon-drawicon_19:before{content:"\\E672"}.icon-drawicon_18:before{content:"\\E671"}.icon-drawicon_17:before{content:"\\E670"}.icon-drawicon_16:before{content:"\\E66F"}.icon-drawicon_15:before{content:"\\E66E"}.icon-drawicon_14:before{content:"\\E66D"}.icon-drawicon_13:before{content:"\\E66C"}.icon-drawicon_12:before{content:"\\E66B"}.icon-drawicon_11:before{content:"\\E66A"}.icon-drawicon_10:before{content:"\\E669"}.icon-drawicon_9:before{content:"\\E668"}.icon-drawicon_8:before{content:"\\E667"}.icon-drawicon_7:before{content:"\\E666"}.icon-drawicon_6:before{content:"\\E665"}.icon-drawicon_5:before{content:"\\E664"}.icon-drawicon_4:before{content:"\\E663"}.icon-drawicon_3:before{content:"\\E662"}.icon-drawicon_2:before{content:"\\E661"}.icon-drawicon_1:before{content:"\\E660"}.icon-draw_box:before{content:"\\E65F"}.icon-waveruler:before{content:"\\E65E"}.icon-vertical_line:before{content:"\\E65D"}.icon-price_line:before{content:"\\E65C"}.icon-ruler:before{content:"\\E65B"}.icon-linear_3:before{content:"\\E65A"}.icon-linear_2:before{content:"\\E659"}.icon-linear_1:before{content:"\\E657"}.icon-stockStar:before{content:"\\E658"}.icon-camera:before{content:"\\E654"}.icon-change_index:before{content:"\\E656"}.icon-overlay_index:before{content:"\\E655"}.icon-houtui:before{content:"\\E651"}.icon-qianjin:before{content:"\\E652"}.icon-exit:before{content:"\\E653"}.icon-refresh:before{content:"\\E650"}.icon-sub:before{content:"\\E64E"}.icon-add:before{content:"\\E64F"}.icon-guanbi:before{content:"\\E62B"}.icon-sousuo:before{content:"\\E62A"}.icon-margin:before{content:"\\E629"}.icon-shhk:before{content:"\\E628"}.icon-hk:before{content:"\\E627"}.icon-drawicon_message:before{content:"\\E64D"}.icon-drawicon_s:before{content:"\\E64C"}.icon-drawicon_b:before{content:"\\E70F"}.icon-drawicon_close:before{content:"\\E68C"}.icon-drawicon_dollar:before{content:"\\E626"}.icon-drawicon_up:before{content:"\\E625"}.icon-drawicon_down-copy:before{content:"\\E68B"}.icon-drawicon_bad:before{content:"\\E600"}.icon-drawicon_good:before{content:"\\E624"}.icon-kline_train_buy:before{content:"\\E64A"}.icon-kline_train_sell:before{content:"\\E64B"}.icon-bianji:before{content:"\\E623"}.icon-info_num_more:before{content:"\\E649"}.icon-info_num_11:before{content:"\\E635"}.icon-info_num_10:before{content:"\\E636"}.icon-info_num_12:before{content:"\\E637"}.icon-info_num_13:before{content:"\\E638"}.icon-info_num_14:before{content:"\\E639"}.icon-info_num_15:before{content:"\\E63A"}.icon-info_num_1:before{content:"\\E63B"}.icon-info_num_16:before{content:"\\E63C"}.icon-info_num_3:before{content:"\\E63D"}.icon-info_num_17:before{content:"\\E63E"}.icon-info_num_4:before{content:"\\E63F"}.icon-info_num_2:before{content:"\\E640"}.icon-info_num_6:before{content:"\\E641"}.icon-info_num_18:before{content:"\\E642"}.icon-info_num_20:before{content:"\\E643"}.icon-info_num_19:before{content:"\\E644"}.icon-info_num_5:before{content:"\\E645"}.icon-info_num_9:before{content:"\\E646"}.icon-info_num_7:before{content:"\\E647"}.icon-info_num_8:before{content:"\\E648"}.icon-info_quarter_announcement-copy:before{content:"\\E686"}.icon-info_block_trading:before{content:"\\E630"}.icon-info_investor:before{content:"\\E631"}.icon-info_research:before{content:"\\E632"}.icon-info_announcement:before{content:"\\E633"}.icon-info_quarter_announcement:before{content:"\\E634"}.icon-info_research_hscreen:before{content:"\\E688"}.icon-info_block_trading_hscreen:before{content:"\\E689"}.icon-info_investor_hscreen:before{content:"\\E684"}.icon-info_announcement-copy:before{content:"\\E685"}.icon-info_trade_detail_hscreen:before{content:"\\E68A"}.icon-info_trade_detail:before{content:"\\E62F"}.icon-info_pforecast_hscreen:before{content:"\\E687"}.icon-info_pforecast:before{content:"\\E62E"}.icon-jiacu:before{content:"\\E61F"}.icon-shezhi:before{content:"\\E620"}.icon-qingxieL:before{content:"\\E622"}.icon-xia:before{content:"\\E618"}.icon-shang:before{content:"\\E619"}.icon-drawicon_up2:before{content:"\\E68D"}.icon-drawicon_down2:before{content:"\\E68E"}.icon-menu_arraw_right:before{content:"\\E60B"}.icon-menu_arraw_left:before{content:"\\E60D"}.icon-right:before{content:"\\E601"}.icon-left:before{content:"\\E603"}.icon-draw_fibonacci:before{content:"\\E62D"}.icon-draw_quadrangle:before{content:"\\E62C"}.icon-arrow_down:before{content:"\\E681"}.icon-arrow_left:before{content:"\\E680"}.icon-arrow_right:before{content:"\\E682"}.icon-arrow_up:before{content:"\\E683"}.icon-chip_default:before{content:"\\E621"}.icon-draw_hline:before{content:"\\E61E"}.icon-draw_symangle:before{content:"\\E61D"}.icon-draw_circle:before{content:"\\E61C"}.icon-draw_pricechannel:before{content:"\\E61B"}.icon-draw_triangle:before{content:"\\E61A"}.icon-chip_date:before{content:"\\E617"}.icon-draw_wavemw:before{content:"\\E616"}.icon-draw_parallelchannel:before{content:"\\E615"}.icon-draw_text:before{content:"\\E614"}.icon-draw_resline:before{content:"\\E613"}.icon-draw_waveband:before{content:"\\E612"}.icon-draw_percentage:before{content:"\\E611"}.icon-draw_gannfan:before{content:"\\E610"}.icon-draw_goldensection:before{content:"\\E60F"}.icon-draw_trendline:before{content:"\\E60E"}.icon-close:before{content:"\\E60C"}.icon-recycle_bin:before{content:"\\E60A"}.icon-setting:before{content:"\\E609"}.icon-draw_parallel_lines:before{content:"\\E608"}.icon-rectangle:before{content:"\\E607"}.icon-draw_rays:before{content:"\\E606"}.icon-draw_line:before{content:"\\E605"}.icon-index_param:before{content:"\\E604"}.icon-draw_arc:before{content:"\\E602"}',""])},function(t,e,i){t.exports=i.p+"ec6b636be255c2d7d9989961228bebda.woff2"},function(t,e,i){t.exports=i.p+"e12dedff36f5fcf8c5efb168eb75eba1.woff"},function(t,e,i){t.exports=i.p+"e2ff7ea091dbb0d78164858f7b59fa34.ttf"}]);
//# sourceMappingURL=vendor.js.map?7a3dcb930ae44afadf6a